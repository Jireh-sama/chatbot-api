function My(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Vy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Oy={exports:{}},Lu={},Fy={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ll=Symbol.for("react.element"),yE=Symbol.for("react.portal"),_E=Symbol.for("react.fragment"),wE=Symbol.for("react.strict_mode"),xE=Symbol.for("react.profiler"),EE=Symbol.for("react.provider"),TE=Symbol.for("react.context"),IE=Symbol.for("react.forward_ref"),SE=Symbol.for("react.suspense"),bE=Symbol.for("react.memo"),kE=Symbol.for("react.lazy"),xg=Symbol.iterator;function CE(t){return t===null||typeof t!="object"?null:(t=xg&&t[xg]||t["@@iterator"],typeof t=="function"?t:null)}var Uy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zy=Object.assign,By={};function _o(t,e,n){this.props=t,this.context=e,this.refs=By,this.updater=n||Uy}_o.prototype.isReactComponent={};_o.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_o.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $y(){}$y.prototype=_o.prototype;function Wf(t,e,n){this.props=t,this.context=e,this.refs=By,this.updater=n||Uy}var Gf=Wf.prototype=new $y;Gf.constructor=Wf;zy(Gf,_o.prototype);Gf.isPureReactComponent=!0;var Eg=Array.isArray,Hy=Object.prototype.hasOwnProperty,Kf={current:null},qy={key:!0,ref:!0,__self:!0,__source:!0};function Wy(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Hy.call(e,r)&&!qy.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ll,type:t,key:s,ref:o,props:i,_owner:Kf.current}}function RE(t,e){return{$$typeof:ll,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qf(t){return typeof t=="object"&&t!==null&&t.$$typeof===ll}function AE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Tg=/\/+/g;function Ld(t,e){return typeof t=="object"&&t!==null&&t.key!=null?AE(""+t.key):e.toString(36)}function vc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ll:case yE:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ld(o,0):r,Eg(i)?(n="",t!=null&&(n=t.replace(Tg,"$&/")+"/"),vc(i,e,n,"",function(u){return u})):i!=null&&(Qf(i)&&(i=RE(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Tg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Eg(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+Ld(s,l);o+=vc(s,e,n,c,i)}else if(c=CE(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+Ld(s,l++),o+=vc(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Gl(t,e,n){if(t==null)return t;var r=[],i=0;return vc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function PE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qt={current:null},yc={transition:null},NE={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:yc,ReactCurrentOwner:Kf};function Gy(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:Gl,forEach:function(t,e,n){Gl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Gl(t,function(){e++}),e},toArray:function(t){return Gl(t,function(e){return e})||[]},only:function(t){if(!Qf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xe.Component=_o;xe.Fragment=_E;xe.Profiler=xE;xe.PureComponent=Wf;xe.StrictMode=wE;xe.Suspense=SE;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NE;xe.act=Gy;xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=zy({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Kf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Hy.call(e,c)&&!qy.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ll,type:t.type,key:i,ref:s,props:r,_owner:o}};xe.createContext=function(t){return t={$$typeof:TE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:EE,_context:t},t.Consumer=t};xe.createElement=Wy;xe.createFactory=function(t){var e=Wy.bind(null,t);return e.type=t,e};xe.createRef=function(){return{current:null}};xe.forwardRef=function(t){return{$$typeof:IE,render:t}};xe.isValidElement=Qf;xe.lazy=function(t){return{$$typeof:kE,_payload:{_status:-1,_result:t},_init:PE}};xe.memo=function(t,e){return{$$typeof:bE,type:t,compare:e===void 0?null:e}};xe.startTransition=function(t){var e=yc.transition;yc.transition={};try{t()}finally{yc.transition=e}};xe.unstable_act=Gy;xe.useCallback=function(t,e){return Qt.current.useCallback(t,e)};xe.useContext=function(t){return Qt.current.useContext(t)};xe.useDebugValue=function(){};xe.useDeferredValue=function(t){return Qt.current.useDeferredValue(t)};xe.useEffect=function(t,e){return Qt.current.useEffect(t,e)};xe.useId=function(){return Qt.current.useId()};xe.useImperativeHandle=function(t,e,n){return Qt.current.useImperativeHandle(t,e,n)};xe.useInsertionEffect=function(t,e){return Qt.current.useInsertionEffect(t,e)};xe.useLayoutEffect=function(t,e){return Qt.current.useLayoutEffect(t,e)};xe.useMemo=function(t,e){return Qt.current.useMemo(t,e)};xe.useReducer=function(t,e,n){return Qt.current.useReducer(t,e,n)};xe.useRef=function(t){return Qt.current.useRef(t)};xe.useState=function(t){return Qt.current.useState(t)};xe.useSyncExternalStore=function(t,e,n){return Qt.current.useSyncExternalStore(t,e,n)};xe.useTransition=function(){return Qt.current.useTransition()};xe.version="18.3.1";Fy.exports=xe;var D=Fy.exports;const qt=Vy(D),DE=My({__proto__:null,default:qt},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LE=D,jE=Symbol.for("react.element"),ME=Symbol.for("react.fragment"),VE=Object.prototype.hasOwnProperty,OE=LE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FE={key:!0,ref:!0,__self:!0,__source:!0};function Ky(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)VE.call(e,r)&&!FE.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:jE,type:t,key:s,ref:o,props:i,_owner:OE.current}}Lu.Fragment=ME;Lu.jsx=Ky;Lu.jsxs=Ky;Oy.exports=Lu;var d=Oy.exports,Qy={exports:{}},vn={},Yy={exports:{}},Xy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,Y){var ee=q.length;q.push(Y);e:for(;0<ee;){var ie=ee-1>>>1,ce=q[ie];if(0<i(ce,Y))q[ie]=Y,q[ee]=ce,ee=ie;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var Y=q[0],ee=q.pop();if(ee!==Y){q[0]=ee;e:for(var ie=0,ce=q.length,Pe=ce>>>1;ie<Pe;){var Xe=2*(ie+1)-1,st=q[Xe],pt=Xe+1,Xt=q[pt];if(0>i(st,ee))pt<ce&&0>i(Xt,st)?(q[ie]=Xt,q[pt]=ee,ie=pt):(q[ie]=st,q[Xe]=ee,ie=Xe);else if(pt<ce&&0>i(Xt,ee))q[ie]=Xt,q[pt]=ee,ie=pt;else break e}}return Y}function i(q,Y){var ee=q.sortIndex-Y.sortIndex;return ee!==0?ee:q.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,m=null,g=3,w=!1,k=!1,C=!1,L=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(q){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=q)r(u),Y.sortIndex=Y.expirationTime,e(c,Y);else break;Y=n(u)}}function M(q){if(C=!1,S(q),!k)if(n(c)!==null)k=!0,fe(U);else{var Y=n(u);Y!==null&&he(M,Y.startTime-q)}}function U(q,Y){k=!1,C&&(C=!1,E(v),v=-1),w=!0;var ee=g;try{for(S(Y),m=n(c);m!==null&&(!(m.expirationTime>Y)||q&&!P());){var ie=m.callback;if(typeof ie=="function"){m.callback=null,g=m.priorityLevel;var ce=ie(m.expirationTime<=Y);Y=t.unstable_now(),typeof ce=="function"?m.callback=ce:m===n(c)&&r(c),S(Y)}else r(c);m=n(c)}if(m!==null)var Pe=!0;else{var Xe=n(u);Xe!==null&&he(M,Xe.startTime-Y),Pe=!1}return Pe}finally{m=null,g=ee,w=!1}}var A=!1,T=null,v=-1,x=5,I=-1;function P(){return!(t.unstable_now()-I<x)}function N(){if(T!==null){var q=t.unstable_now();I=q;var Y=!0;try{Y=T(!0,q)}finally{Y?b():(A=!1,T=null)}}else A=!1}var b;if(typeof y=="function")b=function(){y(N)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,ge=_e.port2;_e.port1.onmessage=N,b=function(){ge.postMessage(null)}}else b=function(){L(N,0)};function fe(q){T=q,A||(A=!0,b())}function he(q,Y){v=L(function(){q(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){k||w||(k=!0,fe(U))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(q){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var ee=g;g=Y;try{return q()}finally{g=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,Y){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ee=g;g=q;try{return Y()}finally{g=ee}},t.unstable_scheduleCallback=function(q,Y,ee){var ie=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ie+ee:ie):ee=ie,q){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=ee+ce,q={id:f++,callback:Y,priorityLevel:q,startTime:ee,expirationTime:ce,sortIndex:-1},ee>ie?(q.sortIndex=ee,e(u,q),n(c)===null&&q===n(u)&&(C?(E(v),v=-1):C=!0,he(M,ee-ie))):(q.sortIndex=ce,e(c,q),k||w||(k=!0,fe(U))),q},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(q){var Y=g;return function(){var ee=g;g=Y;try{return q.apply(this,arguments)}finally{g=ee}}}})(Xy);Yy.exports=Xy;var UE=Yy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE=D,gn=UE;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jy=new Set,ja={};function cs(t,e){to(t,e),to(t+"Capture",e)}function to(t,e){for(ja[t]=e,t=0;t<e.length;t++)Jy.add(e[t])}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ih=Object.prototype.hasOwnProperty,BE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ig={},Sg={};function $E(t){return Ih.call(Sg,t)?!0:Ih.call(Ig,t)?!1:BE.test(t)?Sg[t]=!0:(Ig[t]=!0,!1)}function HE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qE(t,e,n,r){if(e===null||typeof e>"u"||HE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ct[t]=new Yt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ct[e]=new Yt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ct[t]=new Yt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ct[t]=new Yt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ct[t]=new Yt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ct[t]=new Yt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ct[t]=new Yt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ct[t]=new Yt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ct[t]=new Yt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Yf=/[\-:]([a-z])/g;function Xf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Yf,Xf);Ct[e]=new Yt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Yf,Xf);Ct[e]=new Yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Yf,Xf);Ct[e]=new Yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ct[t]=new Yt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ct[t]=new Yt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Jf(t,e,n,r){var i=Ct.hasOwnProperty(e)?Ct[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qE(e,n,i,r)&&(n=null),r||i===null?$E(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Nr=zE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kl=Symbol.for("react.element"),Rs=Symbol.for("react.portal"),As=Symbol.for("react.fragment"),Zf=Symbol.for("react.strict_mode"),Sh=Symbol.for("react.profiler"),Zy=Symbol.for("react.provider"),e1=Symbol.for("react.context"),ep=Symbol.for("react.forward_ref"),bh=Symbol.for("react.suspense"),kh=Symbol.for("react.suspense_list"),tp=Symbol.for("react.memo"),Gr=Symbol.for("react.lazy"),t1=Symbol.for("react.offscreen"),bg=Symbol.iterator;function Ko(t){return t===null||typeof t!="object"?null:(t=bg&&t[bg]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,jd;function ha(t){if(jd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);jd=e&&e[1]||""}return`
`+jd+t}var Md=!1;function Vd(t,e){if(!t||Md)return"";Md=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Md=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ha(t):""}function WE(t){switch(t.tag){case 5:return ha(t.type);case 16:return ha("Lazy");case 13:return ha("Suspense");case 19:return ha("SuspenseList");case 0:case 2:case 15:return t=Vd(t.type,!1),t;case 11:return t=Vd(t.type.render,!1),t;case 1:return t=Vd(t.type,!0),t;default:return""}}function Ch(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case As:return"Fragment";case Rs:return"Portal";case Sh:return"Profiler";case Zf:return"StrictMode";case bh:return"Suspense";case kh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case e1:return(t.displayName||"Context")+".Consumer";case Zy:return(t._context.displayName||"Context")+".Provider";case ep:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tp:return e=t.displayName||null,e!==null?e:Ch(t.type)||"Memo";case Gr:e=t._payload,t=t._init;try{return Ch(t(e))}catch{}}return null}function GE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ch(e);case 8:return e===Zf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _i(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function n1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function KE(t){var e=n1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ql(t){t._valueTracker||(t._valueTracker=KE(t))}function r1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=n1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Uc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rh(t,e){var n=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function kg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=_i(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function i1(t,e){e=e.checked,e!=null&&Jf(t,"checked",e,!1)}function Ah(t,e){i1(t,e);var n=_i(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ph(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ph(t,e.type,_i(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Cg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ph(t,e,n){(e!=="number"||Uc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var fa=Array.isArray;function Bs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+_i(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Nh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Rg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(fa(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:_i(n)}}function s1(t,e){var n=_i(e.value),r=_i(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ag(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function o1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?o1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yl,a1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Yl=Yl||document.createElement("div"),Yl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ma(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QE=["Webkit","ms","Moz","O"];Object.keys(xa).forEach(function(t){QE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xa[e]=xa[t]})});function l1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xa.hasOwnProperty(t)&&xa[t]?(""+e).trim():e+"px"}function c1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=l1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var YE=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lh(t,e){if(e){if(YE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function jh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mh=null;function np(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vh=null,$s=null,Hs=null;function Pg(t){if(t=dl(t)){if(typeof Vh!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Fu(e),Vh(t.stateNode,t.type,e))}}function u1(t){$s?Hs?Hs.push(t):Hs=[t]:$s=t}function d1(){if($s){var t=$s,e=Hs;if(Hs=$s=null,Pg(t),e)for(t=0;t<e.length;t++)Pg(e[t])}}function h1(t,e){return t(e)}function f1(){}var Od=!1;function p1(t,e,n){if(Od)return t(e,n);Od=!0;try{return h1(t,e,n)}finally{Od=!1,($s!==null||Hs!==null)&&(f1(),d1())}}function Va(t,e){var n=t.stateNode;if(n===null)return null;var r=Fu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Oh=!1;if(Tr)try{var Qo={};Object.defineProperty(Qo,"passive",{get:function(){Oh=!0}}),window.addEventListener("test",Qo,Qo),window.removeEventListener("test",Qo,Qo)}catch{Oh=!1}function XE(t,e,n,r,i,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var Ea=!1,zc=null,Bc=!1,Fh=null,JE={onError:function(t){Ea=!0,zc=t}};function ZE(t,e,n,r,i,s,o,l,c){Ea=!1,zc=null,XE.apply(JE,arguments)}function eT(t,e,n,r,i,s,o,l,c){if(ZE.apply(this,arguments),Ea){if(Ea){var u=zc;Ea=!1,zc=null}else throw Error(H(198));Bc||(Bc=!0,Fh=u)}}function us(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function m1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ng(t){if(us(t)!==t)throw Error(H(188))}function tT(t){var e=t.alternate;if(!e){if(e=us(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ng(i),t;if(s===r)return Ng(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function g1(t){return t=tT(t),t!==null?v1(t):null}function v1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=v1(t);if(e!==null)return e;t=t.sibling}return null}var y1=gn.unstable_scheduleCallback,Dg=gn.unstable_cancelCallback,nT=gn.unstable_shouldYield,rT=gn.unstable_requestPaint,at=gn.unstable_now,iT=gn.unstable_getCurrentPriorityLevel,rp=gn.unstable_ImmediatePriority,_1=gn.unstable_UserBlockingPriority,$c=gn.unstable_NormalPriority,sT=gn.unstable_LowPriority,w1=gn.unstable_IdlePriority,ju=null,Kn=null;function oT(t){if(Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(ju,t,void 0,(t.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:cT,aT=Math.log,lT=Math.LN2;function cT(t){return t>>>=0,t===0?32:31-(aT(t)/lT|0)|0}var Xl=64,Jl=4194304;function pa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=pa(l):(s&=o,s!==0&&(r=pa(s)))}else o=n&~i,o!==0?r=pa(o):s!==0&&(r=pa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-On(e),i=1<<n,r|=t[n],e&=~i;return r}function uT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-On(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=uT(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function Uh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function x1(){var t=Xl;return Xl<<=1,!(Xl&4194240)&&(Xl=64),t}function Fd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function cl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-On(e),t[e]=n}function hT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-On(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ip(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-On(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var De=0;function E1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var T1,sp,I1,S1,b1,zh=!1,Zl=[],oi=null,ai=null,li=null,Oa=new Map,Fa=new Map,Qr=[],fT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lg(t,e){switch(t){case"focusin":case"focusout":oi=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":Oa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fa.delete(e.pointerId)}}function Yo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=dl(e),e!==null&&sp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function pT(t,e,n,r,i){switch(e){case"focusin":return oi=Yo(oi,t,e,n,r,i),!0;case"dragenter":return ai=Yo(ai,t,e,n,r,i),!0;case"mouseover":return li=Yo(li,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Oa.set(s,Yo(Oa.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Fa.set(s,Yo(Fa.get(s)||null,t,e,n,r,i)),!0}return!1}function k1(t){var e=Ui(t.target);if(e!==null){var n=us(e);if(n!==null){if(e=n.tag,e===13){if(e=m1(n),e!==null){t.blockedOn=e,b1(t.priority,function(){I1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _c(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Bh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Mh=r,n.target.dispatchEvent(r),Mh=null}else return e=dl(n),e!==null&&sp(e),t.blockedOn=n,!1;e.shift()}return!0}function jg(t,e,n){_c(t)&&n.delete(e)}function mT(){zh=!1,oi!==null&&_c(oi)&&(oi=null),ai!==null&&_c(ai)&&(ai=null),li!==null&&_c(li)&&(li=null),Oa.forEach(jg),Fa.forEach(jg)}function Xo(t,e){t.blockedOn===e&&(t.blockedOn=null,zh||(zh=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,mT)))}function Ua(t){function e(i){return Xo(i,t)}if(0<Zl.length){Xo(Zl[0],t);for(var n=1;n<Zl.length;n++){var r=Zl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(oi!==null&&Xo(oi,t),ai!==null&&Xo(ai,t),li!==null&&Xo(li,t),Oa.forEach(e),Fa.forEach(e),n=0;n<Qr.length;n++)r=Qr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qr.length&&(n=Qr[0],n.blockedOn===null);)k1(n),n.blockedOn===null&&Qr.shift()}var qs=Nr.ReactCurrentBatchConfig,qc=!0;function gT(t,e,n,r){var i=De,s=qs.transition;qs.transition=null;try{De=1,op(t,e,n,r)}finally{De=i,qs.transition=s}}function vT(t,e,n,r){var i=De,s=qs.transition;qs.transition=null;try{De=4,op(t,e,n,r)}finally{De=i,qs.transition=s}}function op(t,e,n,r){if(qc){var i=Bh(t,e,n,r);if(i===null)Qd(t,e,r,Wc,n),Lg(t,r);else if(pT(i,t,e,n,r))r.stopPropagation();else if(Lg(t,r),e&4&&-1<fT.indexOf(t)){for(;i!==null;){var s=dl(i);if(s!==null&&T1(s),s=Bh(t,e,n,r),s===null&&Qd(t,e,r,Wc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Qd(t,e,r,null,n)}}var Wc=null;function Bh(t,e,n,r){if(Wc=null,t=np(r),t=Ui(t),t!==null)if(e=us(t),e===null)t=null;else if(n=e.tag,n===13){if(t=m1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wc=t,null}function C1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iT()){case rp:return 1;case _1:return 4;case $c:case sT:return 16;case w1:return 536870912;default:return 16}default:return 16}}var ti=null,ap=null,wc=null;function R1(){if(wc)return wc;var t,e=ap,n=e.length,r,i="value"in ti?ti.value:ti.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return wc=i.slice(t,1<r?1-r:void 0)}function xc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ec(){return!0}function Mg(){return!1}function yn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ec:Mg,this.isPropagationStopped=Mg,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ec)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ec)},persist:function(){},isPersistent:ec}),e}var wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lp=yn(wo),ul=tt({},wo,{view:0,detail:0}),yT=yn(ul),Ud,zd,Jo,Mu=tt({},ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jo&&(Jo&&t.type==="mousemove"?(Ud=t.screenX-Jo.screenX,zd=t.screenY-Jo.screenY):zd=Ud=0,Jo=t),Ud)},movementY:function(t){return"movementY"in t?t.movementY:zd}}),Vg=yn(Mu),_T=tt({},Mu,{dataTransfer:0}),wT=yn(_T),xT=tt({},ul,{relatedTarget:0}),Bd=yn(xT),ET=tt({},wo,{animationName:0,elapsedTime:0,pseudoElement:0}),TT=yn(ET),IT=tt({},wo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ST=yn(IT),bT=tt({},wo,{data:0}),Og=yn(bT),kT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=RT[t])?!!e[t]:!1}function cp(){return AT}var PT=tt({},ul,{key:function(t){if(t.key){var e=kT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?CT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cp,charCode:function(t){return t.type==="keypress"?xc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),NT=yn(PT),DT=tt({},Mu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fg=yn(DT),LT=tt({},ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cp}),jT=yn(LT),MT=tt({},wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),VT=yn(MT),OT=tt({},Mu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),FT=yn(OT),UT=[9,13,27,32],up=Tr&&"CompositionEvent"in window,Ta=null;Tr&&"documentMode"in document&&(Ta=document.documentMode);var zT=Tr&&"TextEvent"in window&&!Ta,A1=Tr&&(!up||Ta&&8<Ta&&11>=Ta),Ug=" ",zg=!1;function P1(t,e){switch(t){case"keyup":return UT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ps=!1;function BT(t,e){switch(t){case"compositionend":return N1(e);case"keypress":return e.which!==32?null:(zg=!0,Ug);case"textInput":return t=e.data,t===Ug&&zg?null:t;default:return null}}function $T(t,e){if(Ps)return t==="compositionend"||!up&&P1(t,e)?(t=R1(),wc=ap=ti=null,Ps=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return A1&&e.locale!=="ko"?null:e.data;default:return null}}var HT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!HT[t.type]:e==="textarea"}function D1(t,e,n,r){u1(r),e=Gc(e,"onChange"),0<e.length&&(n=new lp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ia=null,za=null;function qT(t){H1(t,0)}function Vu(t){var e=Ls(t);if(r1(e))return t}function WT(t,e){if(t==="change")return e}var L1=!1;if(Tr){var $d;if(Tr){var Hd="oninput"in document;if(!Hd){var $g=document.createElement("div");$g.setAttribute("oninput","return;"),Hd=typeof $g.oninput=="function"}$d=Hd}else $d=!1;L1=$d&&(!document.documentMode||9<document.documentMode)}function Hg(){Ia&&(Ia.detachEvent("onpropertychange",j1),za=Ia=null)}function j1(t){if(t.propertyName==="value"&&Vu(za)){var e=[];D1(e,za,t,np(t)),p1(qT,e)}}function GT(t,e,n){t==="focusin"?(Hg(),Ia=e,za=n,Ia.attachEvent("onpropertychange",j1)):t==="focusout"&&Hg()}function KT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vu(za)}function QT(t,e){if(t==="click")return Vu(e)}function YT(t,e){if(t==="input"||t==="change")return Vu(e)}function XT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Un=typeof Object.is=="function"?Object.is:XT;function Ba(t,e){if(Un(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ih.call(e,i)||!Un(t[i],e[i]))return!1}return!0}function qg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wg(t,e){var n=qg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qg(n)}}function M1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?M1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function V1(){for(var t=window,e=Uc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Uc(t.document)}return e}function dp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function JT(t){var e=V1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&M1(n.ownerDocument.documentElement,n)){if(r!==null&&dp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Wg(n,s);var o=Wg(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ZT=Tr&&"documentMode"in document&&11>=document.documentMode,Ns=null,$h=null,Sa=null,Hh=!1;function Gg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hh||Ns==null||Ns!==Uc(r)||(r=Ns,"selectionStart"in r&&dp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sa&&Ba(Sa,r)||(Sa=r,r=Gc($h,"onSelect"),0<r.length&&(e=new lp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ns)))}function tc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ds={animationend:tc("Animation","AnimationEnd"),animationiteration:tc("Animation","AnimationIteration"),animationstart:tc("Animation","AnimationStart"),transitionend:tc("Transition","TransitionEnd")},qd={},O1={};Tr&&(O1=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function Ou(t){if(qd[t])return qd[t];if(!Ds[t])return t;var e=Ds[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in O1)return qd[t]=e[n];return t}var F1=Ou("animationend"),U1=Ou("animationiteration"),z1=Ou("animationstart"),B1=Ou("transitionend"),$1=new Map,Kg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Si(t,e){$1.set(t,e),cs(e,[t])}for(var Wd=0;Wd<Kg.length;Wd++){var Gd=Kg[Wd],eI=Gd.toLowerCase(),tI=Gd[0].toUpperCase()+Gd.slice(1);Si(eI,"on"+tI)}Si(F1,"onAnimationEnd");Si(U1,"onAnimationIteration");Si(z1,"onAnimationStart");Si("dblclick","onDoubleClick");Si("focusin","onFocus");Si("focusout","onBlur");Si(B1,"onTransitionEnd");to("onMouseEnter",["mouseout","mouseover"]);to("onMouseLeave",["mouseout","mouseover"]);to("onPointerEnter",["pointerout","pointerover"]);to("onPointerLeave",["pointerout","pointerover"]);cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cs("onBeforeInput",["compositionend","keypress","textInput","paste"]);cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nI=new Set("cancel close invalid load scroll toggle".split(" ").concat(ma));function Qg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,eT(r,e,void 0,t),t.currentTarget=null}function H1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;Qg(i,l,u),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;Qg(i,l,u),s=c}}}if(Bc)throw t=Fh,Bc=!1,Fh=null,t}function He(t,e){var n=e[Qh];n===void 0&&(n=e[Qh]=new Set);var r=t+"__bubble";n.has(r)||(q1(e,t,2,!1),n.add(r))}function Kd(t,e,n){var r=0;e&&(r|=4),q1(n,t,r,e)}var nc="_reactListening"+Math.random().toString(36).slice(2);function $a(t){if(!t[nc]){t[nc]=!0,Jy.forEach(function(n){n!=="selectionchange"&&(nI.has(n)||Kd(n,!1,t),Kd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[nc]||(e[nc]=!0,Kd("selectionchange",!1,e))}}function q1(t,e,n,r){switch(C1(e)){case 1:var i=gT;break;case 4:i=vT;break;default:i=op}n=i.bind(null,e,n,t),i=void 0,!Oh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Qd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Ui(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}p1(function(){var u=s,f=np(n),m=[];e:{var g=$1.get(t);if(g!==void 0){var w=lp,k=t;switch(t){case"keypress":if(xc(n)===0)break e;case"keydown":case"keyup":w=NT;break;case"focusin":k="focus",w=Bd;break;case"focusout":k="blur",w=Bd;break;case"beforeblur":case"afterblur":w=Bd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Vg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=wT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=jT;break;case F1:case U1:case z1:w=TT;break;case B1:w=VT;break;case"scroll":w=yT;break;case"wheel":w=FT;break;case"copy":case"cut":case"paste":w=ST;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Fg}var C=(e&4)!==0,L=!C&&t==="scroll",E=C?g!==null?g+"Capture":null:g;C=[];for(var y=u,S;y!==null;){S=y;var M=S.stateNode;if(S.tag===5&&M!==null&&(S=M,E!==null&&(M=Va(y,E),M!=null&&C.push(Ha(y,M,S)))),L)break;y=y.return}0<C.length&&(g=new w(g,k,null,n,f),m.push({event:g,listeners:C}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",g&&n!==Mh&&(k=n.relatedTarget||n.fromElement)&&(Ui(k)||k[Ir]))break e;if((w||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,w?(k=n.relatedTarget||n.toElement,w=u,k=k?Ui(k):null,k!==null&&(L=us(k),k!==L||k.tag!==5&&k.tag!==6)&&(k=null)):(w=null,k=u),w!==k)){if(C=Vg,M="onMouseLeave",E="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(C=Fg,M="onPointerLeave",E="onPointerEnter",y="pointer"),L=w==null?g:Ls(w),S=k==null?g:Ls(k),g=new C(M,y+"leave",w,n,f),g.target=L,g.relatedTarget=S,M=null,Ui(f)===u&&(C=new C(E,y+"enter",k,n,f),C.target=S,C.relatedTarget=L,M=C),L=M,w&&k)t:{for(C=w,E=k,y=0,S=C;S;S=Is(S))y++;for(S=0,M=E;M;M=Is(M))S++;for(;0<y-S;)C=Is(C),y--;for(;0<S-y;)E=Is(E),S--;for(;y--;){if(C===E||E!==null&&C===E.alternate)break t;C=Is(C),E=Is(E)}C=null}else C=null;w!==null&&Yg(m,g,w,C,!1),k!==null&&L!==null&&Yg(m,L,k,C,!0)}}e:{if(g=u?Ls(u):window,w=g.nodeName&&g.nodeName.toLowerCase(),w==="select"||w==="input"&&g.type==="file")var U=WT;else if(Bg(g))if(L1)U=YT;else{U=KT;var A=GT}else(w=g.nodeName)&&w.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(U=QT);if(U&&(U=U(t,u))){D1(m,U,n,f);break e}A&&A(t,g,u),t==="focusout"&&(A=g._wrapperState)&&A.controlled&&g.type==="number"&&Ph(g,"number",g.value)}switch(A=u?Ls(u):window,t){case"focusin":(Bg(A)||A.contentEditable==="true")&&(Ns=A,$h=u,Sa=null);break;case"focusout":Sa=$h=Ns=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,Gg(m,n,f);break;case"selectionchange":if(ZT)break;case"keydown":case"keyup":Gg(m,n,f)}var T;if(up)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ps?P1(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(A1&&n.locale!=="ko"&&(Ps||v!=="onCompositionStart"?v==="onCompositionEnd"&&Ps&&(T=R1()):(ti=f,ap="value"in ti?ti.value:ti.textContent,Ps=!0)),A=Gc(u,v),0<A.length&&(v=new Og(v,t,null,n,f),m.push({event:v,listeners:A}),T?v.data=T:(T=N1(n),T!==null&&(v.data=T)))),(T=zT?BT(t,n):$T(t,n))&&(u=Gc(u,"onBeforeInput"),0<u.length&&(f=new Og("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:u}),f.data=T))}H1(m,e)})}function Ha(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Va(t,n),s!=null&&r.unshift(Ha(t,s,i)),s=Va(t,e),s!=null&&r.push(Ha(t,s,i))),t=t.return}return r}function Is(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yg(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=Va(n,s),c!=null&&o.unshift(Ha(n,c,l))):i||(c=Va(n,s),c!=null&&o.push(Ha(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var rI=/\r\n?/g,iI=/\u0000|\uFFFD/g;function Xg(t){return(typeof t=="string"?t:""+t).replace(rI,`
`).replace(iI,"")}function rc(t,e,n){if(e=Xg(e),Xg(t)!==e&&n)throw Error(H(425))}function Kc(){}var qh=null,Wh=null;function Gh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Kh=typeof setTimeout=="function"?setTimeout:void 0,sI=typeof clearTimeout=="function"?clearTimeout:void 0,Jg=typeof Promise=="function"?Promise:void 0,oI=typeof queueMicrotask=="function"?queueMicrotask:typeof Jg<"u"?function(t){return Jg.resolve(null).then(t).catch(aI)}:Kh;function aI(t){setTimeout(function(){throw t})}function Yd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ua(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ua(e)}function ci(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Zg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xo=Math.random().toString(36).slice(2),Gn="__reactFiber$"+xo,qa="__reactProps$"+xo,Ir="__reactContainer$"+xo,Qh="__reactEvents$"+xo,lI="__reactListeners$"+xo,cI="__reactHandles$"+xo;function Ui(t){var e=t[Gn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ir]||n[Gn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Zg(t);t!==null;){if(n=t[Gn])return n;t=Zg(t)}return e}t=n,n=t.parentNode}return null}function dl(t){return t=t[Gn]||t[Ir],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ls(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Fu(t){return t[qa]||null}var Yh=[],js=-1;function bi(t){return{current:t}}function qe(t){0>js||(t.current=Yh[js],Yh[js]=null,js--)}function ze(t,e){js++,Yh[js]=t.current,t.current=e}var wi={},zt=bi(wi),sn=bi(!1),Yi=wi;function no(t,e){var n=t.type.contextTypes;if(!n)return wi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function on(t){return t=t.childContextTypes,t!=null}function Qc(){qe(sn),qe(zt)}function ev(t,e,n){if(zt.current!==wi)throw Error(H(168));ze(zt,e),ze(sn,n)}function W1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,GE(t)||"Unknown",i));return tt({},n,r)}function Yc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wi,Yi=zt.current,ze(zt,t),ze(sn,sn.current),!0}function tv(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=W1(t,e,Yi),r.__reactInternalMemoizedMergedChildContext=t,qe(sn),qe(zt),ze(zt,t)):qe(sn),ze(sn,n)}var fr=null,Uu=!1,Xd=!1;function G1(t){fr===null?fr=[t]:fr.push(t)}function uI(t){Uu=!0,G1(t)}function ki(){if(!Xd&&fr!==null){Xd=!0;var t=0,e=De;try{var n=fr;for(De=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}fr=null,Uu=!1}catch(i){throw fr!==null&&(fr=fr.slice(t+1)),y1(rp,ki),i}finally{De=e,Xd=!1}}return null}var Ms=[],Vs=0,Xc=null,Jc=0,En=[],Tn=0,Xi=null,pr=1,mr="";function ji(t,e){Ms[Vs++]=Jc,Ms[Vs++]=Xc,Xc=t,Jc=e}function K1(t,e,n){En[Tn++]=pr,En[Tn++]=mr,En[Tn++]=Xi,Xi=t;var r=pr;t=mr;var i=32-On(r)-1;r&=~(1<<i),n+=1;var s=32-On(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,pr=1<<32-On(e)+i|n<<i|r,mr=s+t}else pr=1<<s|n<<i|r,mr=t}function hp(t){t.return!==null&&(ji(t,1),K1(t,1,0))}function fp(t){for(;t===Xc;)Xc=Ms[--Vs],Ms[Vs]=null,Jc=Ms[--Vs],Ms[Vs]=null;for(;t===Xi;)Xi=En[--Tn],En[Tn]=null,mr=En[--Tn],En[Tn]=null,pr=En[--Tn],En[Tn]=null}var mn=null,fn=null,Qe=!1,Vn=null;function Q1(t,e){var n=In(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function nv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mn=t,fn=ci(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mn=t,fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Xi!==null?{id:pr,overflow:mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=In(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mn=t,fn=null,!0):!1;default:return!1}}function Xh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jh(t){if(Qe){var e=fn;if(e){var n=e;if(!nv(t,e)){if(Xh(t))throw Error(H(418));e=ci(n.nextSibling);var r=mn;e&&nv(t,e)?Q1(r,n):(t.flags=t.flags&-4097|2,Qe=!1,mn=t)}}else{if(Xh(t))throw Error(H(418));t.flags=t.flags&-4097|2,Qe=!1,mn=t}}}function rv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mn=t}function ic(t){if(t!==mn)return!1;if(!Qe)return rv(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Gh(t.type,t.memoizedProps)),e&&(e=fn)){if(Xh(t))throw Y1(),Error(H(418));for(;e;)Q1(t,e),e=ci(e.nextSibling)}if(rv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){fn=ci(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}fn=null}}else fn=mn?ci(t.stateNode.nextSibling):null;return!0}function Y1(){for(var t=fn;t;)t=ci(t.nextSibling)}function ro(){fn=mn=null,Qe=!1}function pp(t){Vn===null?Vn=[t]:Vn.push(t)}var dI=Nr.ReactCurrentBatchConfig;function Zo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function sc(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function iv(t){var e=t._init;return e(t._payload)}function X1(t){function e(E,y){if(t){var S=E.deletions;S===null?(E.deletions=[y],E.flags|=16):S.push(y)}}function n(E,y){if(!t)return null;for(;y!==null;)e(E,y),y=y.sibling;return null}function r(E,y){for(E=new Map;y!==null;)y.key!==null?E.set(y.key,y):E.set(y.index,y),y=y.sibling;return E}function i(E,y){return E=fi(E,y),E.index=0,E.sibling=null,E}function s(E,y,S){return E.index=S,t?(S=E.alternate,S!==null?(S=S.index,S<y?(E.flags|=2,y):S):(E.flags|=2,y)):(E.flags|=1048576,y)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function l(E,y,S,M){return y===null||y.tag!==6?(y=ih(S,E.mode,M),y.return=E,y):(y=i(y,S),y.return=E,y)}function c(E,y,S,M){var U=S.type;return U===As?f(E,y,S.props.children,M,S.key):y!==null&&(y.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Gr&&iv(U)===y.type)?(M=i(y,S.props),M.ref=Zo(E,y,S),M.return=E,M):(M=Cc(S.type,S.key,S.props,null,E.mode,M),M.ref=Zo(E,y,S),M.return=E,M)}function u(E,y,S,M){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=sh(S,E.mode,M),y.return=E,y):(y=i(y,S.children||[]),y.return=E,y)}function f(E,y,S,M,U){return y===null||y.tag!==7?(y=Ki(S,E.mode,M,U),y.return=E,y):(y=i(y,S),y.return=E,y)}function m(E,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ih(""+y,E.mode,S),y.return=E,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Kl:return S=Cc(y.type,y.key,y.props,null,E.mode,S),S.ref=Zo(E,null,y),S.return=E,S;case Rs:return y=sh(y,E.mode,S),y.return=E,y;case Gr:var M=y._init;return m(E,M(y._payload),S)}if(fa(y)||Ko(y))return y=Ki(y,E.mode,S,null),y.return=E,y;sc(E,y)}return null}function g(E,y,S,M){var U=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return U!==null?null:l(E,y,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Kl:return S.key===U?c(E,y,S,M):null;case Rs:return S.key===U?u(E,y,S,M):null;case Gr:return U=S._init,g(E,y,U(S._payload),M)}if(fa(S)||Ko(S))return U!==null?null:f(E,y,S,M,null);sc(E,S)}return null}function w(E,y,S,M,U){if(typeof M=="string"&&M!==""||typeof M=="number")return E=E.get(S)||null,l(y,E,""+M,U);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Kl:return E=E.get(M.key===null?S:M.key)||null,c(y,E,M,U);case Rs:return E=E.get(M.key===null?S:M.key)||null,u(y,E,M,U);case Gr:var A=M._init;return w(E,y,S,A(M._payload),U)}if(fa(M)||Ko(M))return E=E.get(S)||null,f(y,E,M,U,null);sc(y,M)}return null}function k(E,y,S,M){for(var U=null,A=null,T=y,v=y=0,x=null;T!==null&&v<S.length;v++){T.index>v?(x=T,T=null):x=T.sibling;var I=g(E,T,S[v],M);if(I===null){T===null&&(T=x);break}t&&T&&I.alternate===null&&e(E,T),y=s(I,y,v),A===null?U=I:A.sibling=I,A=I,T=x}if(v===S.length)return n(E,T),Qe&&ji(E,v),U;if(T===null){for(;v<S.length;v++)T=m(E,S[v],M),T!==null&&(y=s(T,y,v),A===null?U=T:A.sibling=T,A=T);return Qe&&ji(E,v),U}for(T=r(E,T);v<S.length;v++)x=w(T,E,v,S[v],M),x!==null&&(t&&x.alternate!==null&&T.delete(x.key===null?v:x.key),y=s(x,y,v),A===null?U=x:A.sibling=x,A=x);return t&&T.forEach(function(P){return e(E,P)}),Qe&&ji(E,v),U}function C(E,y,S,M){var U=Ko(S);if(typeof U!="function")throw Error(H(150));if(S=U.call(S),S==null)throw Error(H(151));for(var A=U=null,T=y,v=y=0,x=null,I=S.next();T!==null&&!I.done;v++,I=S.next()){T.index>v?(x=T,T=null):x=T.sibling;var P=g(E,T,I.value,M);if(P===null){T===null&&(T=x);break}t&&T&&P.alternate===null&&e(E,T),y=s(P,y,v),A===null?U=P:A.sibling=P,A=P,T=x}if(I.done)return n(E,T),Qe&&ji(E,v),U;if(T===null){for(;!I.done;v++,I=S.next())I=m(E,I.value,M),I!==null&&(y=s(I,y,v),A===null?U=I:A.sibling=I,A=I);return Qe&&ji(E,v),U}for(T=r(E,T);!I.done;v++,I=S.next())I=w(T,E,v,I.value,M),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?v:I.key),y=s(I,y,v),A===null?U=I:A.sibling=I,A=I);return t&&T.forEach(function(N){return e(E,N)}),Qe&&ji(E,v),U}function L(E,y,S,M){if(typeof S=="object"&&S!==null&&S.type===As&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Kl:e:{for(var U=S.key,A=y;A!==null;){if(A.key===U){if(U=S.type,U===As){if(A.tag===7){n(E,A.sibling),y=i(A,S.props.children),y.return=E,E=y;break e}}else if(A.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Gr&&iv(U)===A.type){n(E,A.sibling),y=i(A,S.props),y.ref=Zo(E,A,S),y.return=E,E=y;break e}n(E,A);break}else e(E,A);A=A.sibling}S.type===As?(y=Ki(S.props.children,E.mode,M,S.key),y.return=E,E=y):(M=Cc(S.type,S.key,S.props,null,E.mode,M),M.ref=Zo(E,y,S),M.return=E,E=M)}return o(E);case Rs:e:{for(A=S.key;y!==null;){if(y.key===A)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){n(E,y.sibling),y=i(y,S.children||[]),y.return=E,E=y;break e}else{n(E,y);break}else e(E,y);y=y.sibling}y=sh(S,E.mode,M),y.return=E,E=y}return o(E);case Gr:return A=S._init,L(E,y,A(S._payload),M)}if(fa(S))return k(E,y,S,M);if(Ko(S))return C(E,y,S,M);sc(E,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(n(E,y.sibling),y=i(y,S),y.return=E,E=y):(n(E,y),y=ih(S,E.mode,M),y.return=E,E=y),o(E)):n(E,y)}return L}var io=X1(!0),J1=X1(!1),Zc=bi(null),eu=null,Os=null,mp=null;function gp(){mp=Os=eu=null}function vp(t){var e=Zc.current;qe(Zc),t._currentValue=e}function Zh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ws(t,e){eu=t,mp=Os=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rn=!0),t.firstContext=null)}function kn(t){var e=t._currentValue;if(mp!==t)if(t={context:t,memoizedValue:e,next:null},Os===null){if(eu===null)throw Error(H(308));Os=t,eu.dependencies={lanes:0,firstContext:t}}else Os=Os.next=t;return e}var zi=null;function yp(t){zi===null?zi=[t]:zi.push(t)}function Z1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,yp(e)):(n.next=i.next,i.next=n),e.interleaved=n,Sr(t,r)}function Sr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Kr=!1;function _p(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function e_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ui(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Sr(t,n)}return i=r.interleaved,i===null?(e.next=e,yp(r)):(e.next=i.next,i.next=e),r.interleaved=e,Sr(t,n)}function Ec(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ip(t,n)}}function sv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function tu(t,e,n,r){var i=t.updateQueue;Kr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(s!==null){var m=i.baseState;o=0,f=u=c=null,l=s;do{var g=l.lane,w=l.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var k=t,C=l;switch(g=e,w=n,C.tag){case 1:if(k=C.payload,typeof k=="function"){m=k.call(w,m,g);break e}m=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=C.payload,g=typeof k=="function"?k.call(w,m,g):k,g==null)break e;m=tt({},m,g);break e;case 2:Kr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[l]:g.push(l))}else w={eventTime:w,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=w,c=m):f=f.next=w,o|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;g=l,l=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(f===null&&(c=m),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Zi|=o,t.lanes=o,t.memoizedState=m}}function ov(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var hl={},Qn=bi(hl),Wa=bi(hl),Ga=bi(hl);function Bi(t){if(t===hl)throw Error(H(174));return t}function wp(t,e){switch(ze(Ga,e),ze(Wa,t),ze(Qn,hl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Dh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Dh(e,t)}qe(Qn),ze(Qn,e)}function so(){qe(Qn),qe(Wa),qe(Ga)}function t_(t){Bi(Ga.current);var e=Bi(Qn.current),n=Dh(e,t.type);e!==n&&(ze(Wa,t),ze(Qn,n))}function xp(t){Wa.current===t&&(qe(Qn),qe(Wa))}var Ze=bi(0);function nu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Jd=[];function Ep(){for(var t=0;t<Jd.length;t++)Jd[t]._workInProgressVersionPrimary=null;Jd.length=0}var Tc=Nr.ReactCurrentDispatcher,Zd=Nr.ReactCurrentBatchConfig,Ji=0,et=null,mt=null,_t=null,ru=!1,ba=!1,Ka=0,hI=0;function Dt(){throw Error(H(321))}function Tp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Un(t[n],e[n]))return!1;return!0}function Ip(t,e,n,r,i,s){if(Ji=s,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Tc.current=t===null||t.memoizedState===null?gI:vI,t=n(r,i),ba){s=0;do{if(ba=!1,Ka=0,25<=s)throw Error(H(301));s+=1,_t=mt=null,e.updateQueue=null,Tc.current=yI,t=n(r,i)}while(ba)}if(Tc.current=iu,e=mt!==null&&mt.next!==null,Ji=0,_t=mt=et=null,ru=!1,e)throw Error(H(300));return t}function Sp(){var t=Ka!==0;return Ka=0,t}function Wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?et.memoizedState=_t=t:_t=_t.next=t,_t}function Cn(){if(mt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var e=_t===null?et.memoizedState:_t.next;if(e!==null)_t=e,mt=t;else{if(t===null)throw Error(H(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},_t===null?et.memoizedState=_t=t:_t=_t.next=t}return _t}function Qa(t,e){return typeof e=="function"?e(t):e}function eh(t){var e=Cn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=mt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,u=s;do{var f=u.lane;if((Ji&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var m={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=m,o=r):c=c.next=m,et.lanes|=f,Zi|=f}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=l,Un(r,e.memoizedState)||(rn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,et.lanes|=s,Zi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function th(t){var e=Cn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Un(s,e.memoizedState)||(rn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function n_(){}function r_(t,e){var n=et,r=Cn(),i=e(),s=!Un(r.memoizedState,i);if(s&&(r.memoizedState=i,rn=!0),r=r.queue,bp(o_.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||_t!==null&&_t.memoizedState.tag&1){if(n.flags|=2048,Ya(9,s_.bind(null,n,r,i,e),void 0,null),wt===null)throw Error(H(349));Ji&30||i_(n,e,i)}return i}function i_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function s_(t,e,n,r){e.value=n,e.getSnapshot=r,a_(e)&&l_(t)}function o_(t,e,n){return n(function(){a_(e)&&l_(t)})}function a_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Un(t,n)}catch{return!0}}function l_(t){var e=Sr(t,1);e!==null&&Fn(e,t,1,-1)}function av(t){var e=Wn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:t},e.queue=t,t=t.dispatch=mI.bind(null,et,t),[e.memoizedState,t]}function Ya(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function c_(){return Cn().memoizedState}function Ic(t,e,n,r){var i=Wn();et.flags|=t,i.memoizedState=Ya(1|e,n,void 0,r===void 0?null:r)}function zu(t,e,n,r){var i=Cn();r=r===void 0?null:r;var s=void 0;if(mt!==null){var o=mt.memoizedState;if(s=o.destroy,r!==null&&Tp(r,o.deps)){i.memoizedState=Ya(e,n,s,r);return}}et.flags|=t,i.memoizedState=Ya(1|e,n,s,r)}function lv(t,e){return Ic(8390656,8,t,e)}function bp(t,e){return zu(2048,8,t,e)}function u_(t,e){return zu(4,2,t,e)}function d_(t,e){return zu(4,4,t,e)}function h_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function f_(t,e,n){return n=n!=null?n.concat([t]):null,zu(4,4,h_.bind(null,e,t),n)}function kp(){}function p_(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function m_(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function g_(t,e,n){return Ji&21?(Un(n,e)||(n=x1(),et.lanes|=n,Zi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rn=!0),t.memoizedState=n)}function fI(t,e){var n=De;De=n!==0&&4>n?n:4,t(!0);var r=Zd.transition;Zd.transition={};try{t(!1),e()}finally{De=n,Zd.transition=r}}function v_(){return Cn().memoizedState}function pI(t,e,n){var r=hi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},y_(t))__(e,n);else if(n=Z1(t,e,n,r),n!==null){var i=Wt();Fn(n,t,r,i),w_(n,e,r)}}function mI(t,e,n){var r=hi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(y_(t))__(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Un(l,o)){var c=e.interleaved;c===null?(i.next=i,yp(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=Z1(t,e,i,r),n!==null&&(i=Wt(),Fn(n,t,r,i),w_(n,e,r))}}function y_(t){var e=t.alternate;return t===et||e!==null&&e===et}function __(t,e){ba=ru=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function w_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ip(t,n)}}var iu={readContext:kn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},gI={readContext:kn,useCallback:function(t,e){return Wn().memoizedState=[t,e===void 0?null:e],t},useContext:kn,useEffect:lv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ic(4194308,4,h_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ic(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ic(4,2,t,e)},useMemo:function(t,e){var n=Wn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Wn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=pI.bind(null,et,t),[r.memoizedState,t]},useRef:function(t){var e=Wn();return t={current:t},e.memoizedState=t},useState:av,useDebugValue:kp,useDeferredValue:function(t){return Wn().memoizedState=t},useTransition:function(){var t=av(!1),e=t[0];return t=fI.bind(null,t[1]),Wn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=et,i=Wn();if(Qe){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),wt===null)throw Error(H(349));Ji&30||i_(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,lv(o_.bind(null,r,s,t),[t]),r.flags|=2048,Ya(9,s_.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Wn(),e=wt.identifierPrefix;if(Qe){var n=mr,r=pr;n=(r&~(1<<32-On(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ka++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=hI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},vI={readContext:kn,useCallback:p_,useContext:kn,useEffect:bp,useImperativeHandle:f_,useInsertionEffect:u_,useLayoutEffect:d_,useMemo:m_,useReducer:eh,useRef:c_,useState:function(){return eh(Qa)},useDebugValue:kp,useDeferredValue:function(t){var e=Cn();return g_(e,mt.memoizedState,t)},useTransition:function(){var t=eh(Qa)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:n_,useSyncExternalStore:r_,useId:v_,unstable_isNewReconciler:!1},yI={readContext:kn,useCallback:p_,useContext:kn,useEffect:bp,useImperativeHandle:f_,useInsertionEffect:u_,useLayoutEffect:d_,useMemo:m_,useReducer:th,useRef:c_,useState:function(){return th(Qa)},useDebugValue:kp,useDeferredValue:function(t){var e=Cn();return mt===null?e.memoizedState=t:g_(e,mt.memoizedState,t)},useTransition:function(){var t=th(Qa)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:n_,useSyncExternalStore:r_,useId:v_,unstable_isNewReconciler:!1};function Ln(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ef(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Bu={isMounted:function(t){return(t=t._reactInternals)?us(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Wt(),i=hi(t),s=wr(r,i);s.payload=e,n!=null&&(s.callback=n),e=ui(t,s,i),e!==null&&(Fn(e,t,i,r),Ec(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Wt(),i=hi(t),s=wr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ui(t,s,i),e!==null&&(Fn(e,t,i,r),Ec(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wt(),r=hi(t),i=wr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ui(t,i,r),e!==null&&(Fn(e,t,r,n),Ec(e,t,r))}};function cv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ba(n,r)||!Ba(i,s):!0}function x_(t,e,n){var r=!1,i=wi,s=e.contextType;return typeof s=="object"&&s!==null?s=kn(s):(i=on(e)?Yi:zt.current,r=e.contextTypes,s=(r=r!=null)?no(t,i):wi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function uv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Bu.enqueueReplaceState(e,e.state,null)}function tf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},_p(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=kn(s):(s=on(e)?Yi:zt.current,i.context=no(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ef(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Bu.enqueueReplaceState(i,i.state,null),tu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function oo(t,e){try{var n="",r=e;do n+=WE(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function nh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function nf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var _I=typeof WeakMap=="function"?WeakMap:Map;function E_(t,e,n){n=wr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ou||(ou=!0,ff=r),nf(t,e)},n}function T_(t,e,n){n=wr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){nf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){nf(t,e),typeof r!="function"&&(di===null?di=new Set([this]):di.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function dv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new _I;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=DI.bind(null,t,e,n),e.then(t,t))}function hv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wr(-1,1),e.tag=2,ui(n,e,1))),n.lanes|=1),t)}var wI=Nr.ReactCurrentOwner,rn=!1;function Ht(t,e,n,r){e.child=t===null?J1(e,null,n,r):io(e,t.child,n,r)}function pv(t,e,n,r,i){n=n.render;var s=e.ref;return Ws(e,i),r=Ip(t,e,n,r,s,i),n=Sp(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,br(t,e,i)):(Qe&&n&&hp(e),e.flags|=1,Ht(t,e,r,i),e.child)}function mv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!jp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,I_(t,e,s,r,i)):(t=Cc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ba,n(o,r)&&t.ref===e.ref)return br(t,e,i)}return e.flags|=1,t=fi(s,r),t.ref=e.ref,t.return=e,e.child=t}function I_(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ba(s,r)&&t.ref===e.ref)if(rn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(rn=!0);else return e.lanes=t.lanes,br(t,e,i)}return rf(t,e,n,r,i)}function S_(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Us,un),un|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ze(Us,un),un|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ze(Us,un),un|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ze(Us,un),un|=r;return Ht(t,e,i,n),e.child}function b_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function rf(t,e,n,r,i){var s=on(n)?Yi:zt.current;return s=no(e,s),Ws(e,i),n=Ip(t,e,n,r,s,i),r=Sp(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,br(t,e,i)):(Qe&&r&&hp(e),e.flags|=1,Ht(t,e,n,i),e.child)}function gv(t,e,n,r,i){if(on(n)){var s=!0;Yc(e)}else s=!1;if(Ws(e,i),e.stateNode===null)Sc(t,e),x_(e,n,r),tf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=kn(u):(u=on(n)?Yi:zt.current,u=no(e,u));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&uv(e,o,r,u),Kr=!1;var g=e.memoizedState;o.state=g,tu(e,r,o,i),c=e.memoizedState,l!==r||g!==c||sn.current||Kr?(typeof f=="function"&&(ef(e,n,f,r),c=e.memoizedState),(l=Kr||cv(e,n,l,r,g,c,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,e_(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Ln(e.type,l),o.props=u,m=e.pendingProps,g=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=kn(c):(c=on(n)?Yi:zt.current,c=no(e,c));var w=n.getDerivedStateFromProps;(f=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||g!==c)&&uv(e,o,r,c),Kr=!1,g=e.memoizedState,o.state=g,tu(e,r,o,i);var k=e.memoizedState;l!==m||g!==k||sn.current||Kr?(typeof w=="function"&&(ef(e,n,w,r),k=e.memoizedState),(u=Kr||cv(e,n,u,r,g,k,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,k,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,k,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=k),o.props=r,o.state=k,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return sf(t,e,n,r,s,i)}function sf(t,e,n,r,i,s){b_(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&tv(e,n,!1),br(t,e,s);r=e.stateNode,wI.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=io(e,t.child,null,s),e.child=io(e,null,l,s)):Ht(t,e,l,s),e.memoizedState=r.state,i&&tv(e,n,!0),e.child}function k_(t){var e=t.stateNode;e.pendingContext?ev(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ev(t,e.context,!1),wp(t,e.containerInfo)}function vv(t,e,n,r,i){return ro(),pp(i),e.flags|=256,Ht(t,e,n,r),e.child}var of={dehydrated:null,treeContext:null,retryLane:0};function af(t){return{baseLanes:t,cachePool:null,transitions:null}}function C_(t,e,n){var r=e.pendingProps,i=Ze.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ze(Ze,i&1),t===null)return Jh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=qu(o,r,0,null),t=Ki(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=af(n),e.memoizedState=of,t):Cp(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return xI(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=fi(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=fi(l,s):(s=Ki(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?af(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=of,r}return s=t.child,t=s.sibling,r=fi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Cp(t,e){return e=qu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function oc(t,e,n,r){return r!==null&&pp(r),io(e,t.child,null,n),t=Cp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=nh(Error(H(422))),oc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=qu({mode:"visible",children:r.children},i,0,null),s=Ki(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&io(e,t.child,null,o),e.child.memoizedState=af(o),e.memoizedState=of,s);if(!(e.mode&1))return oc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(H(419)),r=nh(s,r,void 0),oc(t,e,o,r)}if(l=(o&t.childLanes)!==0,rn||l){if(r=wt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Sr(t,i),Fn(r,t,i,-1))}return Lp(),r=nh(Error(H(421))),oc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=LI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,fn=ci(i.nextSibling),mn=e,Qe=!0,Vn=null,t!==null&&(En[Tn++]=pr,En[Tn++]=mr,En[Tn++]=Xi,pr=t.id,mr=t.overflow,Xi=e),e=Cp(e,r.children),e.flags|=4096,e)}function yv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Zh(t.return,e,n)}function rh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function R_(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ht(t,e,r.children,n),r=Ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yv(t,n,e);else if(t.tag===19)yv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ze(Ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&nu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),rh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&nu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}rh(e,!0,n,null,s);break;case"together":rh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function br(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=fi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=fi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function EI(t,e,n){switch(e.tag){case 3:k_(e),ro();break;case 5:t_(e);break;case 1:on(e.type)&&Yc(e);break;case 4:wp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ze(Zc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ze(Ze,Ze.current&1),e.flags|=128,null):n&e.child.childLanes?C_(t,e,n):(ze(Ze,Ze.current&1),t=br(t,e,n),t!==null?t.sibling:null);ze(Ze,Ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return R_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ze(Ze,Ze.current),r)break;return null;case 22:case 23:return e.lanes=0,S_(t,e,n)}return br(t,e,n)}var A_,lf,P_,N_;A_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lf=function(){};P_=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Bi(Qn.current);var s=null;switch(n){case"input":i=Rh(t,i),r=Rh(t,r),s=[];break;case"select":i=tt({},i,{value:void 0}),r=tt({},r,{value:void 0}),s=[];break;case"textarea":i=Nh(t,i),r=Nh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Kc)}Lh(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ja.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ja.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&He("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};N_=function(t,e,n,r){n!==r&&(e.flags|=4)};function ea(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function TI(t,e,n){var r=e.pendingProps;switch(fp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(e),null;case 1:return on(e.type)&&Qc(),Lt(e),null;case 3:return r=e.stateNode,so(),qe(sn),qe(zt),Ep(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ic(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vn!==null&&(gf(Vn),Vn=null))),lf(t,e),Lt(e),null;case 5:xp(e);var i=Bi(Ga.current);if(n=e.type,t!==null&&e.stateNode!=null)P_(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Lt(e),null}if(t=Bi(Qn.current),ic(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Gn]=e,r[qa]=s,t=(e.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(i=0;i<ma.length;i++)He(ma[i],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":kg(r,s),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},He("invalid",r);break;case"textarea":Rg(r,s),He("invalid",r)}Lh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&rc(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&rc(r.textContent,l,t),i=["children",""+l]):ja.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&He("scroll",r)}switch(n){case"input":Ql(r),Cg(r,s,!0);break;case"textarea":Ql(r),Ag(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Kc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=o1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Gn]=e,t[qa]=r,A_(t,e,!1,!1),e.stateNode=t;e:{switch(o=jh(n,r),n){case"dialog":He("cancel",t),He("close",t),i=r;break;case"iframe":case"object":case"embed":He("load",t),i=r;break;case"video":case"audio":for(i=0;i<ma.length;i++)He(ma[i],t);i=r;break;case"source":He("error",t),i=r;break;case"img":case"image":case"link":He("error",t),He("load",t),i=r;break;case"details":He("toggle",t),i=r;break;case"input":kg(t,r),i=Rh(t,r),He("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=tt({},r,{value:void 0}),He("invalid",t);break;case"textarea":Rg(t,r),i=Nh(t,r),He("invalid",t);break;default:i=r}Lh(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?c1(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&a1(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ma(t,c):typeof c=="number"&&Ma(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ja.hasOwnProperty(s)?c!=null&&s==="onScroll"&&He("scroll",t):c!=null&&Jf(t,s,c,o))}switch(n){case"input":Ql(t),Cg(t,r,!1);break;case"textarea":Ql(t),Ag(t);break;case"option":r.value!=null&&t.setAttribute("value",""+_i(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Bs(t,!!r.multiple,s,!1):r.defaultValue!=null&&Bs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Kc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Lt(e),null;case 6:if(t&&e.stateNode!=null)N_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Bi(Ga.current),Bi(Qn.current),ic(e)){if(r=e.stateNode,n=e.memoizedProps,r[Gn]=e,(s=r.nodeValue!==n)&&(t=mn,t!==null))switch(t.tag){case 3:rc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&rc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gn]=e,e.stateNode=r}return Lt(e),null;case 13:if(qe(Ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&fn!==null&&e.mode&1&&!(e.flags&128))Y1(),ro(),e.flags|=98560,s=!1;else if(s=ic(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[Gn]=e}else ro(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Lt(e),s=!1}else Vn!==null&&(gf(Vn),Vn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?vt===0&&(vt=3):Lp())),e.updateQueue!==null&&(e.flags|=4),Lt(e),null);case 4:return so(),lf(t,e),t===null&&$a(e.stateNode.containerInfo),Lt(e),null;case 10:return vp(e.type._context),Lt(e),null;case 17:return on(e.type)&&Qc(),Lt(e),null;case 19:if(qe(Ze),s=e.memoizedState,s===null)return Lt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ea(s,!1);else{if(vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=nu(t),o!==null){for(e.flags|=128,ea(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ze(Ze,Ze.current&1|2),e.child}t=t.sibling}s.tail!==null&&at()>ao&&(e.flags|=128,r=!0,ea(s,!1),e.lanes=4194304)}else{if(!r)if(t=nu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ea(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Qe)return Lt(e),null}else 2*at()-s.renderingStartTime>ao&&n!==1073741824&&(e.flags|=128,r=!0,ea(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=at(),e.sibling=null,n=Ze.current,ze(Ze,r?n&1|2:n&1),e):(Lt(e),null);case 22:case 23:return Dp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?un&1073741824&&(Lt(e),e.subtreeFlags&6&&(e.flags|=8192)):Lt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function II(t,e){switch(fp(e),e.tag){case 1:return on(e.type)&&Qc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return so(),qe(sn),qe(zt),Ep(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xp(e),null;case 13:if(qe(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));ro()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qe(Ze),null;case 4:return so(),null;case 10:return vp(e.type._context),null;case 22:case 23:return Dp(),null;case 24:return null;default:return null}}var ac=!1,Ot=!1,SI=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Fs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(t,e,r)}else n.current=null}function cf(t,e,n){try{n()}catch(r){it(t,e,r)}}var _v=!1;function bI(t,e){if(qh=qc,t=V1(),dp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,f=0,m=t,g=null;t:for(;;){for(var w;m!==n||i!==0&&m.nodeType!==3||(l=o+i),m!==s||r!==0&&m.nodeType!==3||(c=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(w=m.firstChild)!==null;)g=m,m=w;for(;;){if(m===t)break t;if(g===n&&++u===i&&(l=o),g===s&&++f===r&&(c=o),(w=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=w}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wh={focusedElem:t,selectionRange:n},qc=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var C=k.memoizedProps,L=k.memoizedState,E=e.stateNode,y=E.getSnapshotBeforeUpdate(e.elementType===e.type?C:Ln(e.type,C),L);E.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(M){it(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return k=_v,_v=!1,k}function ka(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&cf(e,n,s)}i=i.next}while(i!==r)}}function $u(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function uf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function D_(t){var e=t.alternate;e!==null&&(t.alternate=null,D_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gn],delete e[qa],delete e[Qh],delete e[lI],delete e[cI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function L_(t){return t.tag===5||t.tag===3||t.tag===4}function wv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||L_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function df(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Kc));else if(r!==4&&(t=t.child,t!==null))for(df(t,e,n),t=t.sibling;t!==null;)df(t,e,n),t=t.sibling}function hf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(hf(t,e,n),t=t.sibling;t!==null;)hf(t,e,n),t=t.sibling}var Tt=null,jn=!1;function zr(t,e,n){for(n=n.child;n!==null;)j_(t,e,n),n=n.sibling}function j_(t,e,n){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(ju,n)}catch{}switch(n.tag){case 5:Ot||Fs(n,e);case 6:var r=Tt,i=jn;Tt=null,zr(t,e,n),Tt=r,jn=i,Tt!==null&&(jn?(t=Tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Tt.removeChild(n.stateNode));break;case 18:Tt!==null&&(jn?(t=Tt,n=n.stateNode,t.nodeType===8?Yd(t.parentNode,n):t.nodeType===1&&Yd(t,n),Ua(t)):Yd(Tt,n.stateNode));break;case 4:r=Tt,i=jn,Tt=n.stateNode.containerInfo,jn=!0,zr(t,e,n),Tt=r,jn=i;break;case 0:case 11:case 14:case 15:if(!Ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&cf(n,e,o),i=i.next}while(i!==r)}zr(t,e,n);break;case 1:if(!Ot&&(Fs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){it(n,e,l)}zr(t,e,n);break;case 21:zr(t,e,n);break;case 22:n.mode&1?(Ot=(r=Ot)||n.memoizedState!==null,zr(t,e,n),Ot=r):zr(t,e,n);break;default:zr(t,e,n)}}function xv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new SI),e.forEach(function(r){var i=jI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Dn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Tt=l.stateNode,jn=!1;break e;case 3:Tt=l.stateNode.containerInfo,jn=!0;break e;case 4:Tt=l.stateNode.containerInfo,jn=!0;break e}l=l.return}if(Tt===null)throw Error(H(160));j_(s,o,i),Tt=null,jn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){it(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)M_(e,t),e=e.sibling}function M_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dn(e,t),qn(t),r&4){try{ka(3,t,t.return),$u(3,t)}catch(C){it(t,t.return,C)}try{ka(5,t,t.return)}catch(C){it(t,t.return,C)}}break;case 1:Dn(e,t),qn(t),r&512&&n!==null&&Fs(n,n.return);break;case 5:if(Dn(e,t),qn(t),r&512&&n!==null&&Fs(n,n.return),t.flags&32){var i=t.stateNode;try{Ma(i,"")}catch(C){it(t,t.return,C)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&i1(i,s),jh(l,o);var u=jh(l,s);for(o=0;o<c.length;o+=2){var f=c[o],m=c[o+1];f==="style"?c1(i,m):f==="dangerouslySetInnerHTML"?a1(i,m):f==="children"?Ma(i,m):Jf(i,f,m,u)}switch(l){case"input":Ah(i,s);break;case"textarea":s1(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?Bs(i,!!s.multiple,w,!1):g!==!!s.multiple&&(s.defaultValue!=null?Bs(i,!!s.multiple,s.defaultValue,!0):Bs(i,!!s.multiple,s.multiple?[]:"",!1))}i[qa]=s}catch(C){it(t,t.return,C)}}break;case 6:if(Dn(e,t),qn(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(C){it(t,t.return,C)}}break;case 3:if(Dn(e,t),qn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ua(e.containerInfo)}catch(C){it(t,t.return,C)}break;case 4:Dn(e,t),qn(t);break;case 13:Dn(e,t),qn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Pp=at())),r&4&&xv(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Ot=(u=Ot)||f,Dn(e,t),Ot=u):Dn(e,t),qn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(Q=t,f=t.child;f!==null;){for(m=Q=f;Q!==null;){switch(g=Q,w=g.child,g.tag){case 0:case 11:case 14:case 15:ka(4,g,g.return);break;case 1:Fs(g,g.return);var k=g.stateNode;if(typeof k.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(C){it(r,n,C)}}break;case 5:Fs(g,g.return);break;case 22:if(g.memoizedState!==null){Tv(m);continue}}w!==null?(w.return=g,Q=w):Tv(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=l1("display",o))}catch(C){it(t,t.return,C)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(C){it(t,t.return,C)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Dn(e,t),qn(t),r&4&&xv(t);break;case 21:break;default:Dn(e,t),qn(t)}}function qn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(L_(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ma(i,""),r.flags&=-33);var s=wv(t);hf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=wv(t);df(t,l,o);break;default:throw Error(H(161))}}catch(c){it(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function kI(t,e,n){Q=t,V_(t)}function V_(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ac;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Ot;l=ac;var u=Ot;if(ac=o,(Ot=c)&&!u)for(Q=i;Q!==null;)o=Q,c=o.child,o.tag===22&&o.memoizedState!==null?Iv(i):c!==null?(c.return=o,Q=c):Iv(i);for(;s!==null;)Q=s,V_(s),s=s.sibling;Q=i,ac=l,Ot=u}Ev(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):Ev(t)}}function Ev(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ot||$u(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ot)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ln(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ov(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ov(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&Ua(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Ot||e.flags&512&&uf(e)}catch(g){it(e,e.return,g)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Tv(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Iv(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$u(4,e)}catch(c){it(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){it(e,i,c)}}var s=e.return;try{uf(e)}catch(c){it(e,s,c)}break;case 5:var o=e.return;try{uf(e)}catch(c){it(e,o,c)}}}catch(c){it(e,e.return,c)}if(e===t){Q=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Q=l;break}Q=e.return}}var CI=Math.ceil,su=Nr.ReactCurrentDispatcher,Rp=Nr.ReactCurrentOwner,Sn=Nr.ReactCurrentBatchConfig,Ce=0,wt=null,ft=null,bt=0,un=0,Us=bi(0),vt=0,Xa=null,Zi=0,Hu=0,Ap=0,Ca=null,tn=null,Pp=0,ao=1/0,hr=null,ou=!1,ff=null,di=null,lc=!1,ni=null,au=0,Ra=0,pf=null,bc=-1,kc=0;function Wt(){return Ce&6?at():bc!==-1?bc:bc=at()}function hi(t){return t.mode&1?Ce&2&&bt!==0?bt&-bt:dI.transition!==null?(kc===0&&(kc=x1()),kc):(t=De,t!==0||(t=window.event,t=t===void 0?16:C1(t.type)),t):1}function Fn(t,e,n,r){if(50<Ra)throw Ra=0,pf=null,Error(H(185));cl(t,n,r),(!(Ce&2)||t!==wt)&&(t===wt&&(!(Ce&2)&&(Hu|=n),vt===4&&Yr(t,bt)),an(t,r),n===1&&Ce===0&&!(e.mode&1)&&(ao=at()+500,Uu&&ki()))}function an(t,e){var n=t.callbackNode;dT(t,e);var r=Hc(t,t===wt?bt:0);if(r===0)n!==null&&Dg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Dg(n),e===1)t.tag===0?uI(Sv.bind(null,t)):G1(Sv.bind(null,t)),oI(function(){!(Ce&6)&&ki()}),n=null;else{switch(E1(r)){case 1:n=rp;break;case 4:n=_1;break;case 16:n=$c;break;case 536870912:n=w1;break;default:n=$c}n=q_(n,O_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function O_(t,e){if(bc=-1,kc=0,Ce&6)throw Error(H(327));var n=t.callbackNode;if(Gs()&&t.callbackNode!==n)return null;var r=Hc(t,t===wt?bt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=lu(t,r);else{e=r;var i=Ce;Ce|=2;var s=U_();(wt!==t||bt!==e)&&(hr=null,ao=at()+500,Gi(t,e));do try{PI();break}catch(l){F_(t,l)}while(!0);gp(),su.current=s,Ce=i,ft!==null?e=0:(wt=null,bt=0,e=vt)}if(e!==0){if(e===2&&(i=Uh(t),i!==0&&(r=i,e=mf(t,i))),e===1)throw n=Xa,Gi(t,0),Yr(t,r),an(t,at()),n;if(e===6)Yr(t,r);else{if(i=t.current.alternate,!(r&30)&&!RI(i)&&(e=lu(t,r),e===2&&(s=Uh(t),s!==0&&(r=s,e=mf(t,s))),e===1))throw n=Xa,Gi(t,0),Yr(t,r),an(t,at()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Mi(t,tn,hr);break;case 3:if(Yr(t,r),(r&130023424)===r&&(e=Pp+500-at(),10<e)){if(Hc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Wt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Kh(Mi.bind(null,t,tn,hr),e);break}Mi(t,tn,hr);break;case 4:if(Yr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-On(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=at()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CI(r/1960))-r,10<r){t.timeoutHandle=Kh(Mi.bind(null,t,tn,hr),r);break}Mi(t,tn,hr);break;case 5:Mi(t,tn,hr);break;default:throw Error(H(329))}}}return an(t,at()),t.callbackNode===n?O_.bind(null,t):null}function mf(t,e){var n=Ca;return t.current.memoizedState.isDehydrated&&(Gi(t,e).flags|=256),t=lu(t,e),t!==2&&(e=tn,tn=n,e!==null&&gf(e)),t}function gf(t){tn===null?tn=t:tn.push.apply(tn,t)}function RI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Un(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yr(t,e){for(e&=~Ap,e&=~Hu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-On(e),r=1<<n;t[n]=-1,e&=~r}}function Sv(t){if(Ce&6)throw Error(H(327));Gs();var e=Hc(t,0);if(!(e&1))return an(t,at()),null;var n=lu(t,e);if(t.tag!==0&&n===2){var r=Uh(t);r!==0&&(e=r,n=mf(t,r))}if(n===1)throw n=Xa,Gi(t,0),Yr(t,e),an(t,at()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mi(t,tn,hr),an(t,at()),null}function Np(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(ao=at()+500,Uu&&ki())}}function es(t){ni!==null&&ni.tag===0&&!(Ce&6)&&Gs();var e=Ce;Ce|=1;var n=Sn.transition,r=De;try{if(Sn.transition=null,De=1,t)return t()}finally{De=r,Sn.transition=n,Ce=e,!(Ce&6)&&ki()}}function Dp(){un=Us.current,qe(Us)}function Gi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,sI(n)),ft!==null)for(n=ft.return;n!==null;){var r=n;switch(fp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qc();break;case 3:so(),qe(sn),qe(zt),Ep();break;case 5:xp(r);break;case 4:so();break;case 13:qe(Ze);break;case 19:qe(Ze);break;case 10:vp(r.type._context);break;case 22:case 23:Dp()}n=n.return}if(wt=t,ft=t=fi(t.current,null),bt=un=e,vt=0,Xa=null,Ap=Hu=Zi=0,tn=Ca=null,zi!==null){for(e=0;e<zi.length;e++)if(n=zi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}zi=null}return t}function F_(t,e){do{var n=ft;try{if(gp(),Tc.current=iu,ru){for(var r=et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ru=!1}if(Ji=0,_t=mt=et=null,ba=!1,Ka=0,Rp.current=null,n===null||n.return===null){vt=1,Xa=e,ft=null;break}e:{var s=t,o=n.return,l=n,c=e;if(e=bt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var w=hv(o);if(w!==null){w.flags&=-257,fv(w,o,l,s,e),w.mode&1&&dv(s,u,e),e=w,c=u;var k=e.updateQueue;if(k===null){var C=new Set;C.add(c),e.updateQueue=C}else k.add(c);break e}else{if(!(e&1)){dv(s,u,e),Lp();break e}c=Error(H(426))}}else if(Qe&&l.mode&1){var L=hv(o);if(L!==null){!(L.flags&65536)&&(L.flags|=256),fv(L,o,l,s,e),pp(oo(c,l));break e}}s=c=oo(c,l),vt!==4&&(vt=2),Ca===null?Ca=[s]:Ca.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=E_(s,c,e);sv(s,E);break e;case 1:l=c;var y=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(di===null||!di.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=T_(s,l,e);sv(s,M);break e}}s=s.return}while(s!==null)}B_(n)}catch(U){e=U,ft===n&&n!==null&&(ft=n=n.return);continue}break}while(!0)}function U_(){var t=su.current;return su.current=iu,t===null?iu:t}function Lp(){(vt===0||vt===3||vt===2)&&(vt=4),wt===null||!(Zi&268435455)&&!(Hu&268435455)||Yr(wt,bt)}function lu(t,e){var n=Ce;Ce|=2;var r=U_();(wt!==t||bt!==e)&&(hr=null,Gi(t,e));do try{AI();break}catch(i){F_(t,i)}while(!0);if(gp(),Ce=n,su.current=r,ft!==null)throw Error(H(261));return wt=null,bt=0,vt}function AI(){for(;ft!==null;)z_(ft)}function PI(){for(;ft!==null&&!nT();)z_(ft)}function z_(t){var e=H_(t.alternate,t,un);t.memoizedProps=t.pendingProps,e===null?B_(t):ft=e,Rp.current=null}function B_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=II(n,e),n!==null){n.flags&=32767,ft=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vt=6,ft=null;return}}else if(n=TI(n,e,un),n!==null){ft=n;return}if(e=e.sibling,e!==null){ft=e;return}ft=e=t}while(e!==null);vt===0&&(vt=5)}function Mi(t,e,n){var r=De,i=Sn.transition;try{Sn.transition=null,De=1,NI(t,e,n,r)}finally{Sn.transition=i,De=r}return null}function NI(t,e,n,r){do Gs();while(ni!==null);if(Ce&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(hT(t,s),t===wt&&(ft=wt=null,bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lc||(lc=!0,q_($c,function(){return Gs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Sn.transition,Sn.transition=null;var o=De;De=1;var l=Ce;Ce|=4,Rp.current=null,bI(t,n),M_(n,t),JT(Wh),qc=!!qh,Wh=qh=null,t.current=n,kI(n),rT(),Ce=l,De=o,Sn.transition=s}else t.current=n;if(lc&&(lc=!1,ni=t,au=i),s=t.pendingLanes,s===0&&(di=null),oT(n.stateNode),an(t,at()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ou)throw ou=!1,t=ff,ff=null,t;return au&1&&t.tag!==0&&Gs(),s=t.pendingLanes,s&1?t===pf?Ra++:(Ra=0,pf=t):Ra=0,ki(),null}function Gs(){if(ni!==null){var t=E1(au),e=Sn.transition,n=De;try{if(Sn.transition=null,De=16>t?16:t,ni===null)var r=!1;else{if(t=ni,ni=null,au=0,Ce&6)throw Error(H(331));var i=Ce;for(Ce|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Q=u;Q!==null;){var f=Q;switch(f.tag){case 0:case 11:case 15:ka(8,f,s)}var m=f.child;if(m!==null)m.return=f,Q=m;else for(;Q!==null;){f=Q;var g=f.sibling,w=f.return;if(D_(f),f===u){Q=null;break}if(g!==null){g.return=w,Q=g;break}Q=w}}}var k=s.alternate;if(k!==null){var C=k.child;if(C!==null){k.child=null;do{var L=C.sibling;C.sibling=null,C=L}while(C!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ka(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,Q=E;break e}Q=s.return}}var y=t.current;for(Q=y;Q!==null;){o=Q;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Q=S;else e:for(o=y;Q!==null;){if(l=Q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:$u(9,l)}}catch(U){it(l,l.return,U)}if(l===o){Q=null;break e}var M=l.sibling;if(M!==null){M.return=l.return,Q=M;break e}Q=l.return}}if(Ce=i,ki(),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(ju,t)}catch{}r=!0}return r}finally{De=n,Sn.transition=e}}return!1}function bv(t,e,n){e=oo(n,e),e=E_(t,e,1),t=ui(t,e,1),e=Wt(),t!==null&&(cl(t,1,e),an(t,e))}function it(t,e,n){if(t.tag===3)bv(t,t,n);else for(;e!==null;){if(e.tag===3){bv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(di===null||!di.has(r))){t=oo(n,t),t=T_(e,t,1),e=ui(e,t,1),t=Wt(),e!==null&&(cl(e,1,t),an(e,t));break}}e=e.return}}function DI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Wt(),t.pingedLanes|=t.suspendedLanes&n,wt===t&&(bt&n)===n&&(vt===4||vt===3&&(bt&130023424)===bt&&500>at()-Pp?Gi(t,0):Ap|=n),an(t,e)}function $_(t,e){e===0&&(t.mode&1?(e=Jl,Jl<<=1,!(Jl&130023424)&&(Jl=4194304)):e=1);var n=Wt();t=Sr(t,e),t!==null&&(cl(t,e,n),an(t,n))}function LI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$_(t,n)}function jI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),$_(t,n)}var H_;H_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||sn.current)rn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rn=!1,EI(t,e,n);rn=!!(t.flags&131072)}else rn=!1,Qe&&e.flags&1048576&&K1(e,Jc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Sc(t,e),t=e.pendingProps;var i=no(e,zt.current);Ws(e,n),i=Ip(null,e,r,t,i,n);var s=Sp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,on(r)?(s=!0,Yc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_p(e),i.updater=Bu,e.stateNode=i,i._reactInternals=e,tf(e,r,t,n),e=sf(null,e,r,!0,s,n)):(e.tag=0,Qe&&s&&hp(e),Ht(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Sc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=VI(r),t=Ln(r,t),i){case 0:e=rf(null,e,r,t,n);break e;case 1:e=gv(null,e,r,t,n);break e;case 11:e=pv(null,e,r,t,n);break e;case 14:e=mv(null,e,r,Ln(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),rf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),gv(t,e,r,i,n);case 3:e:{if(k_(e),t===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,e_(t,e),tu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=oo(Error(H(423)),e),e=vv(t,e,r,n,i);break e}else if(r!==i){i=oo(Error(H(424)),e),e=vv(t,e,r,n,i);break e}else for(fn=ci(e.stateNode.containerInfo.firstChild),mn=e,Qe=!0,Vn=null,n=J1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ro(),r===i){e=br(t,e,n);break e}Ht(t,e,r,n)}e=e.child}return e;case 5:return t_(e),t===null&&Jh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Gh(r,i)?o=null:s!==null&&Gh(r,s)&&(e.flags|=32),b_(t,e),Ht(t,e,o,n),e.child;case 6:return t===null&&Jh(e),null;case 13:return C_(t,e,n);case 4:return wp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=io(e,null,r,n):Ht(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),pv(t,e,r,i,n);case 7:return Ht(t,e,e.pendingProps,n),e.child;case 8:return Ht(t,e,e.pendingProps.children,n),e.child;case 12:return Ht(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ze(Zc,r._currentValue),r._currentValue=o,s!==null)if(Un(s.value,o)){if(s.children===i.children&&!sn.current){e=br(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=wr(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Zh(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Zh(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ht(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ws(e,n),i=kn(i),r=r(i),e.flags|=1,Ht(t,e,r,n),e.child;case 14:return r=e.type,i=Ln(r,e.pendingProps),i=Ln(r.type,i),mv(t,e,r,i,n);case 15:return I_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),Sc(t,e),e.tag=1,on(r)?(t=!0,Yc(e)):t=!1,Ws(e,n),x_(e,r,i),tf(e,r,i,n),sf(null,e,r,!0,t,n);case 19:return R_(t,e,n);case 22:return S_(t,e,n)}throw Error(H(156,e.tag))};function q_(t,e){return y1(t,e)}function MI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,e,n,r){return new MI(t,e,n,r)}function jp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function VI(t){if(typeof t=="function")return jp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ep)return 11;if(t===tp)return 14}return 2}function fi(t,e){var n=t.alternate;return n===null?(n=In(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")jp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case As:return Ki(n.children,i,s,e);case Zf:o=8,i|=8;break;case Sh:return t=In(12,n,e,i|2),t.elementType=Sh,t.lanes=s,t;case bh:return t=In(13,n,e,i),t.elementType=bh,t.lanes=s,t;case kh:return t=In(19,n,e,i),t.elementType=kh,t.lanes=s,t;case t1:return qu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Zy:o=10;break e;case e1:o=9;break e;case ep:o=11;break e;case tp:o=14;break e;case Gr:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=In(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ki(t,e,n,r){return t=In(7,t,r,e),t.lanes=n,t}function qu(t,e,n,r){return t=In(22,t,r,e),t.elementType=t1,t.lanes=n,t.stateNode={isHidden:!1},t}function ih(t,e,n){return t=In(6,t,null,e),t.lanes=n,t}function sh(t,e,n){return e=In(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function OI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fd(0),this.expirationTimes=Fd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mp(t,e,n,r,i,s,o,l,c){return t=new OI(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=In(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_p(s),t}function FI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function W_(t){if(!t)return wi;t=t._reactInternals;e:{if(us(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(on(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(on(n))return W1(t,n,e)}return e}function G_(t,e,n,r,i,s,o,l,c){return t=Mp(n,r,!0,t,i,s,o,l,c),t.context=W_(null),n=t.current,r=Wt(),i=hi(n),s=wr(r,i),s.callback=e??null,ui(n,s,i),t.current.lanes=i,cl(t,i,r),an(t,r),t}function Wu(t,e,n,r){var i=e.current,s=Wt(),o=hi(i);return n=W_(n),e.context===null?e.context=n:e.pendingContext=n,e=wr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ui(i,e,o),t!==null&&(Fn(t,i,o,s),Ec(t,i,o)),o}function cu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function kv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Vp(t,e){kv(t,e),(t=t.alternate)&&kv(t,e)}function UI(){return null}var K_=typeof reportError=="function"?reportError:function(t){console.error(t)};function Op(t){this._internalRoot=t}Gu.prototype.render=Op.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Wu(t,e,null,null)};Gu.prototype.unmount=Op.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;es(function(){Wu(null,t,null,null)}),e[Ir]=null}};function Gu(t){this._internalRoot=t}Gu.prototype.unstable_scheduleHydration=function(t){if(t){var e=S1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qr.length&&e!==0&&e<Qr[n].priority;n++);Qr.splice(n,0,t),n===0&&k1(t)}};function Fp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ku(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Cv(){}function zI(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=cu(o);s.call(u)}}var o=G_(e,r,t,0,null,!1,!1,"",Cv);return t._reactRootContainer=o,t[Ir]=o.current,$a(t.nodeType===8?t.parentNode:t),es(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=cu(c);l.call(u)}}var c=Mp(t,0,!1,null,null,!1,!1,"",Cv);return t._reactRootContainer=c,t[Ir]=c.current,$a(t.nodeType===8?t.parentNode:t),es(function(){Wu(e,c,n,r)}),c}function Qu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=cu(o);l.call(c)}}Wu(e,o,t,i)}else o=zI(n,e,t,i,r);return cu(o)}T1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=pa(e.pendingLanes);n!==0&&(ip(e,n|1),an(e,at()),!(Ce&6)&&(ao=at()+500,ki()))}break;case 13:es(function(){var r=Sr(t,1);if(r!==null){var i=Wt();Fn(r,t,1,i)}}),Vp(t,1)}};sp=function(t){if(t.tag===13){var e=Sr(t,134217728);if(e!==null){var n=Wt();Fn(e,t,134217728,n)}Vp(t,134217728)}};I1=function(t){if(t.tag===13){var e=hi(t),n=Sr(t,e);if(n!==null){var r=Wt();Fn(n,t,e,r)}Vp(t,e)}};S1=function(){return De};b1=function(t,e){var n=De;try{return De=t,e()}finally{De=n}};Vh=function(t,e,n){switch(e){case"input":if(Ah(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Fu(r);if(!i)throw Error(H(90));r1(r),Ah(r,i)}}}break;case"textarea":s1(t,n);break;case"select":e=n.value,e!=null&&Bs(t,!!n.multiple,e,!1)}};h1=Np;f1=es;var BI={usingClientEntryPoint:!1,Events:[dl,Ls,Fu,u1,d1,Np]},ta={findFiberByHostInstance:Ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$I={bundleType:ta.bundleType,version:ta.version,rendererPackageName:ta.rendererPackageName,rendererConfig:ta.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=g1(t),t===null?null:t.stateNode},findFiberByHostInstance:ta.findFiberByHostInstance||UI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cc.isDisabled&&cc.supportsFiber)try{ju=cc.inject($I),Kn=cc}catch{}}vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BI;vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fp(e))throw Error(H(200));return FI(t,e,null,n)};vn.createRoot=function(t,e){if(!Fp(t))throw Error(H(299));var n=!1,r="",i=K_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Mp(t,1,!1,null,null,n,!1,r,i),t[Ir]=e.current,$a(t.nodeType===8?t.parentNode:t),new Op(e)};vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=g1(e),t=t===null?null:t.stateNode,t};vn.flushSync=function(t){return es(t)};vn.hydrate=function(t,e,n){if(!Ku(e))throw Error(H(200));return Qu(null,t,e,!0,n)};vn.hydrateRoot=function(t,e,n){if(!Fp(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=K_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=G_(e,null,t,1,n??null,i,!1,s,o),t[Ir]=e.current,$a(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Gu(e)};vn.render=function(t,e,n){if(!Ku(e))throw Error(H(200));return Qu(null,t,e,!1,n)};vn.unmountComponentAtNode=function(t){if(!Ku(t))throw Error(H(40));return t._reactRootContainer?(es(function(){Qu(null,null,t,!1,function(){t._reactRootContainer=null,t[Ir]=null})}),!0):!1};vn.unstable_batchedUpdates=Np;vn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ku(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Qu(t,e,n,!1,r)};vn.version="18.3.1-next-f1338f8080-20240426";function Q_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Q_)}catch(t){console.error(t)}}Q_(),Qy.exports=vn;var Up=Qy.exports;const HI=Vy(Up),qI=My({__proto__:null,default:HI},[Up]);var Y_,Rv=Up;Y_=Rv.createRoot,Rv.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ke(){return Ke=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ke.apply(this,arguments)}var ht;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ht||(ht={}));const Av="popstate";function WI(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return Ja("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ts(i)}return KI(e,n,null,t)}function Te(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GI(){return Math.random().toString(36).substr(2,8)}function Pv(t,e){return{usr:t.state,key:t.key,idx:e}}function Ja(t,e,n,r){return n===void 0&&(n=null),Ke({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ci(e):e,{state:n,key:e&&e.key||r||GI()})}function ts(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ci(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function KI(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=ht.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(Ke({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function m(){l=ht.Pop;let L=f(),E=L==null?null:L-u;u=L,c&&c({action:l,location:C.location,delta:E})}function g(L,E){l=ht.Push;let y=Ja(C.location,L,E);u=f()+1;let S=Pv(y,u),M=C.createHref(y);try{o.pushState(S,"",M)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(M)}s&&c&&c({action:l,location:C.location,delta:1})}function w(L,E){l=ht.Replace;let y=Ja(C.location,L,E);u=f();let S=Pv(y,u),M=C.createHref(y);o.replaceState(S,"",M),s&&c&&c({action:l,location:C.location,delta:0})}function k(L){let E=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof L=="string"?L:ts(L);return y=y.replace(/ $/,"%20"),Te(E,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,E)}let C={get action(){return l},get location(){return t(i,o)},listen(L){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Av,m),c=L,()=>{i.removeEventListener(Av,m),c=null}},createHref(L){return e(i,L)},createURL:k,encodeLocation(L){let E=k(L);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:w,go(L){return o.go(L)}};return C}var Me;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Me||(Me={}));const QI=new Set(["lazy","caseSensitive","path","id","index","children"]);function YI(t){return t.index===!0}function uu(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],l=typeof i.id=="string"?i.id:o.join("-");if(Te(i.index!==!0||!i.children,"Cannot specify children on an index route"),Te(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),YI(i)){let c=Ke({},i,e(i),{id:l});return r[l]=c,c}else{let c=Ke({},i,e(i),{id:l,children:void 0});return r[l]=c,i.children&&(c.children=uu(i.children,e,o,r)),c}})}function Oi(t,e,n){return n===void 0&&(n="/"),Rc(t,e,n,!1)}function Rc(t,e,n,r){let i=typeof e=="string"?Ci(e):e,s=Eo(i.pathname||"/",n);if(s==null)return null;let o=X_(t);JI(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=cS(s);l=aS(o[c],u,r)}return l}function XI(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function X_(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Te(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=xr([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(Te(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),X_(s.children,e,f,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:sS(u,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of J_(s.path))i(s,o,c)}),e}function J_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=J_(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function JI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:oS(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ZI=/^:[\w-]+$/,eS=3,tS=2,nS=1,rS=10,iS=-2,Nv=t=>t==="*";function sS(t,e){let n=t.split("/"),r=n.length;return n.some(Nv)&&(r+=iS),e&&(r+=tS),n.filter(i=>!Nv(i)).reduce((i,s)=>i+(ZI.test(s)?eS:s===""?nS:rS),r)}function oS(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function aS(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",m=Dv({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),g=c.route;if(!m&&u&&n&&!r[r.length-1].route.index&&(m=Dv({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:xr([s,m.pathname]),pathnameBase:hS(xr([s,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(s=xr([s,m.pathnameBase]))}return o}function Dv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=lS(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,f,m)=>{let{paramName:g,isOptional:w}=f;if(g==="*"){let C=l[m]||"";o=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const k=l[m];return w&&!k?u[g]=void 0:u[g]=(k||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function lS(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),lo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function cS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lo(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Eo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function uS(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ci(t):t;return{pathname:n?n.startsWith("/")?n:dS(n,e):e,search:fS(r),hash:pS(i)}}function dS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function oh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Z_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zp(t,e){let n=Z_(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Bp(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ci(t):(i=Ke({},t),Te(!i.pathname||!i.pathname.includes("?"),oh("?","pathname","search",i)),Te(!i.pathname||!i.pathname.includes("#"),oh("#","pathname","hash",i)),Te(!i.search||!i.search.includes("#"),oh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}l=m>=0?e[m]:"/"}let c=uS(i,l),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const xr=t=>t.join("/").replace(/\/\/+/g,"/"),hS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class du{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Yu(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ew=["post","put","patch","delete"],mS=new Set(ew),gS=["get",...ew],vS=new Set(gS),yS=new Set([301,302,303,307,308]),_S=new Set([307,308]),ah={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},wS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},na={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},$p=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xS=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),tw="remix-router-transitions";function ES(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Te(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let R=t.detectErrorBoundary;i=j=>({hasErrorBoundary:R(j)})}else i=xS;let s={},o=uu(t.routes,i,void 0,s),l,c=t.basename||"/",u=t.dataStrategy||bS,f=t.patchRoutesOnNavigation,m=Ke({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),g=null,w=new Set,k=null,C=null,L=null,E=t.hydrationData!=null,y=Oi(o,t.history.location,c),S=null;if(y==null&&!f){let R=en(404,{pathname:t.history.location.pathname}),{matches:j,route:O}=Hv(o);y=j,S={[O.id]:R}}y&&!t.hydrationData&&ar(y,o,t.history.location.pathname).active&&(y=null);let M;if(y)if(y.some(R=>R.route.lazy))M=!1;else if(!y.some(R=>R.route.loader))M=!0;else if(m.v7_partialHydration){let R=t.hydrationData?t.hydrationData.loaderData:null,j=t.hydrationData?t.hydrationData.errors:null;if(j){let O=y.findIndex(z=>j[z.route.id]!==void 0);M=y.slice(0,O+1).every(z=>!yf(z.route,R,j))}else M=y.every(O=>!yf(O.route,R,j))}else M=t.hydrationData!=null;else if(M=!1,y=[],m.v7_partialHydration){let R=ar(null,o,t.history.location.pathname);R.active&&R.matches&&(y=R.matches)}let U,A={historyAction:t.history.action,location:t.history.location,matches:y,initialized:M,navigation:ah,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||S,fetchers:new Map,blockers:new Map},T=ht.Pop,v=!1,x,I=!1,P=new Map,N=null,b=!1,_e=!1,ge=[],fe=new Set,he=new Map,q=0,Y=-1,ee=new Map,ie=new Set,ce=new Map,Pe=new Map,Xe=new Set,st=new Map,pt=new Map,Xt;function Td(){if(g=t.history.listen(R=>{let{action:j,location:O,delta:z}=R;if(Xt){Xt(),Xt=void 0;return}lo(pt.size===0||z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let K=Oo({currentLocation:A.location,nextLocation:O,historyAction:j});if(K&&z!=null){let ne=new Promise(oe=>{Xt=oe});t.history.go(z*-1),Lr(K,{state:"blocked",location:O,proceed(){Lr(K,{state:"proceeding",proceed:void 0,reset:void 0,location:O}),ne.then(()=>t.history.go(z))},reset(){let oe=new Map(A.blockers);oe.set(K,na),ct({blockers:oe})}});return}return Rn(j,O)}),n){US(e,P);let R=()=>zS(e,P);e.addEventListener("pagehide",R),N=()=>e.removeEventListener("pagehide",R)}return A.initialized||Rn(ht.Pop,A.location,{initialHydration:!0}),U}function Id(){g&&g(),N&&N(),w.clear(),x&&x.abort(),A.fetchers.forEach((R,j)=>Ai(j)),A.blockers.forEach((R,j)=>Dl(j))}function ms(R){return w.add(R),()=>w.delete(R)}function ct(R,j){j===void 0&&(j={}),A=Ke({},A,R);let O=[],z=[];m.v7_fetcherPersist&&A.fetchers.forEach((K,ne)=>{K.state==="idle"&&(Xe.has(ne)?z.push(ne):O.push(ne))}),[...w].forEach(K=>K(A,{deletedFetchers:z,viewTransitionOpts:j.viewTransitionOpts,flushSync:j.flushSync===!0})),m.v7_fetcherPersist&&(O.forEach(K=>A.fetchers.delete(K)),z.forEach(K=>Ai(K)))}function zn(R,j,O){var z,K;let{flushSync:ne}=O===void 0?{}:O,oe=A.actionData!=null&&A.navigation.formMethod!=null&&Mn(A.navigation.formMethod)&&A.navigation.state==="loading"&&((z=R.state)==null?void 0:z._isRedirect)!==!0,X;j.actionData?Object.keys(j.actionData).length>0?X=j.actionData:X=null:oe?X=A.actionData:X=null;let J=j.loaderData?Bv(A.loaderData,j.loaderData,j.matches||[],j.errors):A.loaderData,G=A.blockers;G.size>0&&(G=new Map(G),G.forEach((ye,Oe)=>G.set(Oe,na)));let te=v===!0||A.navigation.formMethod!=null&&Mn(A.navigation.formMethod)&&((K=R.state)==null?void 0:K._isRedirect)!==!0;l&&(o=l,l=void 0),b||T===ht.Pop||(T===ht.Push?t.history.push(R,R.state):T===ht.Replace&&t.history.replace(R,R.state));let ve;if(T===ht.Pop){let ye=P.get(A.location.pathname);ye&&ye.has(R.pathname)?ve={currentLocation:A.location,nextLocation:R}:P.has(R.pathname)&&(ve={currentLocation:R,nextLocation:A.location})}else if(I){let ye=P.get(A.location.pathname);ye?ye.add(R.pathname):(ye=new Set([R.pathname]),P.set(A.location.pathname,ye)),ve={currentLocation:A.location,nextLocation:R}}ct(Ke({},j,{actionData:X,loaderData:J,historyAction:T,location:R,initialized:!0,navigation:ah,revalidation:"idle",restoreScrollPosition:Uo(R,j.matches||A.matches),preventScrollReset:te,blockers:G}),{viewTransitionOpts:ve,flushSync:ne===!0}),T=ht.Pop,v=!1,I=!1,b=!1,_e=!1,ge=[]}async function gs(R,j){if(typeof R=="number"){t.history.go(R);return}let O=vf(A.location,A.matches,c,m.v7_prependBasename,R,m.v7_relativeSplatPath,j==null?void 0:j.fromRouteId,j==null?void 0:j.relative),{path:z,submission:K,error:ne}=Lv(m.v7_normalizeFormMethod,!1,O,j),oe=A.location,X=Ja(A.location,z,j&&j.state);X=Ke({},X,t.history.encodeLocation(X));let J=j&&j.replace!=null?j.replace:void 0,G=ht.Push;J===!0?G=ht.Replace:J===!1||K!=null&&Mn(K.formMethod)&&K.formAction===A.location.pathname+A.location.search&&(G=ht.Replace);let te=j&&"preventScrollReset"in j?j.preventScrollReset===!0:void 0,ve=(j&&j.flushSync)===!0,ye=Oo({currentLocation:oe,nextLocation:X,historyAction:G});if(ye){Lr(ye,{state:"blocked",location:X,proceed(){Lr(ye,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),gs(R,j)},reset(){let Oe=new Map(A.blockers);Oe.set(ye,na),ct({blockers:Oe})}});return}return await Rn(G,X,{submission:K,pendingError:ne,preventScrollReset:te,replace:j&&j.replace,enableViewTransition:j&&j.viewTransition,flushSync:ve})}function No(){if(ut(),ct({revalidation:"loading"}),A.navigation.state!=="submitting"){if(A.navigation.state==="idle"){Rn(A.historyAction,A.location,{startUninterruptedRevalidation:!0});return}Rn(T||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation,enableViewTransition:I===!0})}}async function Rn(R,j,O){x&&x.abort(),x=null,T=R,b=(O&&O.startUninterruptedRevalidation)===!0,or(A.location,A.matches),v=(O&&O.preventScrollReset)===!0,I=(O&&O.enableViewTransition)===!0;let z=l||o,K=O&&O.overrideNavigation,ne=Oi(z,j,c),oe=(O&&O.flushSync)===!0,X=ar(ne,z,j.pathname);if(X.active&&X.matches&&(ne=X.matches),!ne){let{error:Ne,notFoundMatches:be,route:Fe}=ys(j.pathname);zn(j,{matches:be,loaderData:{},errors:{[Fe.id]:Ne}},{flushSync:oe});return}if(A.initialized&&!_e&&NS(A.location,j)&&!(O&&O.submission&&Mn(O.submission.formMethod))){zn(j,{matches:ne},{flushSync:oe});return}x=new AbortController;let J=Ss(t.history,j,x.signal,O&&O.submission),G;if(O&&O.pendingError)G=[Fi(ne).route.id,{type:Me.error,error:O.pendingError}];else if(O&&O.submission&&Mn(O.submission.formMethod)){let Ne=await Rl(J,j,O.submission,ne,X.active,{replace:O.replace,flushSync:oe});if(Ne.shortCircuited)return;if(Ne.pendingActionResult){let[be,Fe]=Ne.pendingActionResult;if(dn(Fe)&&Yu(Fe.error)&&Fe.error.status===404){x=null,zn(j,{matches:Ne.matches,loaderData:{},errors:{[be]:Fe.error}});return}}ne=Ne.matches||ne,G=Ne.pendingActionResult,K=lh(j,O.submission),oe=!1,X.active=!1,J=Ss(t.history,J.url,J.signal)}let{shortCircuited:te,matches:ve,loaderData:ye,errors:Oe}=await Sd(J,j,ne,X.active,K,O&&O.submission,O&&O.fetcherSubmission,O&&O.replace,O&&O.initialHydration===!0,oe,G);te||(x=null,zn(j,Ke({matches:ve||ne},$v(G),{loaderData:ye,errors:Oe})))}async function Rl(R,j,O,z,K,ne){ne===void 0&&(ne={}),ut();let oe=OS(j,O);if(ct({navigation:oe},{flushSync:ne.flushSync===!0}),K){let G=await Pi(z,j.pathname,R.signal);if(G.type==="aborted")return{shortCircuited:!0};if(G.type==="error"){let te=Fi(G.partialMatches).route.id;return{matches:G.partialMatches,pendingActionResult:[te,{type:Me.error,error:G.error}]}}else if(G.matches)z=G.matches;else{let{notFoundMatches:te,error:ve,route:ye}=ys(j.pathname);return{matches:te,pendingActionResult:[ye.id,{type:Me.error,error:ve}]}}}let X,J=ga(z,j);if(!J.route.action&&!J.route.lazy)X={type:Me.error,error:en(405,{method:R.method,pathname:j.pathname,routeId:J.route.id})};else if(X=(await ir("action",A,R,[J],z,null))[J.route.id],R.signal.aborted)return{shortCircuited:!0};if($i(X)){let G;return ne&&ne.replace!=null?G=ne.replace:G=Fv(X.response.headers.get("Location"),new URL(R.url),c)===A.location.pathname+A.location.search,await An(R,X,!0,{submission:O,replace:G}),{shortCircuited:!0}}if(ri(X))throw en(400,{type:"defer-action"});if(dn(X)){let G=Fi(z,J.route.id);return(ne&&ne.replace)!==!0&&(T=ht.Push),{matches:z,pendingActionResult:[G.route.id,X]}}return{matches:z,pendingActionResult:[J.route.id,X]}}async function Sd(R,j,O,z,K,ne,oe,X,J,G,te){let ve=K||lh(j,ne),ye=ne||oe||Wv(ve),Oe=!b&&(!m.v7_partialHydration||!J);if(z){if(Oe){let Ge=Al(te);ct(Ke({navigation:ve},Ge!==void 0?{actionData:Ge}:{}),{flushSync:G})}let Ee=await Pi(O,j.pathname,R.signal);if(Ee.type==="aborted")return{shortCircuited:!0};if(Ee.type==="error"){let Ge=Fi(Ee.partialMatches).route.id;return{matches:Ee.partialMatches,loaderData:{},errors:{[Ge]:Ee.error}}}else if(Ee.matches)O=Ee.matches;else{let{error:Ge,notFoundMatches:lr,route:Or}=ys(j.pathname);return{matches:lr,loaderData:{},errors:{[Or.id]:Ge}}}}let Ne=l||o,[be,Fe]=Mv(t.history,A,O,ye,j,m.v7_partialHydration&&J===!0,m.v7_skipActionErrorRevalidation,_e,ge,fe,Xe,ce,ie,Ne,c,te);if(sr(Ee=>!(O&&O.some(Ge=>Ge.route.id===Ee))||be&&be.some(Ge=>Ge.route.id===Ee)),Y=++q,be.length===0&&Fe.length===0){let Ee=Vo();return zn(j,Ke({matches:O,loaderData:{},errors:te&&dn(te[1])?{[te[0]]:te[1].error}:null},$v(te),Ee?{fetchers:new Map(A.fetchers)}:{}),{flushSync:G}),{shortCircuited:!0}}if(Oe){let Ee={};if(!z){Ee.navigation=ve;let Ge=Al(te);Ge!==void 0&&(Ee.actionData=Ge)}Fe.length>0&&(Ee.fetchers=Pl(Fe)),ct(Ee,{flushSync:G})}Fe.forEach(Ee=>{Zt(Ee.key),Ee.controller&&he.set(Ee.key,Ee.controller)});let Bn=()=>Fe.forEach(Ee=>Zt(Ee.key));x&&x.signal.addEventListener("abort",Bn);let{loaderResults:jr,fetcherResults:_n}=await Lo(A,O,be,Fe,R);if(R.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",Bn),Fe.forEach(Ee=>he.delete(Ee.key));let wn=uc(jr);if(wn)return await An(R,wn.result,!0,{replace:X}),{shortCircuited:!0};if(wn=uc(_n),wn)return ie.add(wn.key),await An(R,wn.result,!0,{replace:X}),{shortCircuited:!0};let{loaderData:Mr,errors:Vr}=zv(A,O,jr,te,Fe,_n,st);st.forEach((Ee,Ge)=>{Ee.subscribe(lr=>{(lr||Ee.done)&&st.delete(Ge)})}),m.v7_partialHydration&&J&&A.errors&&(Vr=Ke({},A.errors,Vr));let Pn=Vo(),$n=vs(Y),xn=Pn||$n||Fe.length>0;return Ke({matches:O,loaderData:Mr,errors:Vr},xn?{fetchers:new Map(A.fetchers)}:{})}function Al(R){if(R&&!dn(R[1]))return{[R[0]]:R[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function Pl(R){return R.forEach(j=>{let O=A.fetchers.get(j.key),z=ra(void 0,O?O.data:void 0);A.fetchers.set(j.key,z)}),new Map(A.fetchers)}function Do(R,j,O,z){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Zt(R);let K=(z&&z.flushSync)===!0,ne=l||o,oe=vf(A.location,A.matches,c,m.v7_prependBasename,O,m.v7_relativeSplatPath,j,z==null?void 0:z.relative),X=Oi(ne,oe,c),J=ar(X,ne,oe);if(J.active&&J.matches&&(X=J.matches),!X){Jt(R,j,en(404,{pathname:oe}),{flushSync:K});return}let{path:G,submission:te,error:ve}=Lv(m.v7_normalizeFormMethod,!0,oe,z);if(ve){Jt(R,j,ve,{flushSync:K});return}let ye=ga(X,G),Oe=(z&&z.preventScrollReset)===!0;if(te&&Mn(te.formMethod)){Nl(R,j,G,ye,X,J.active,K,Oe,te);return}ce.set(R,{routeId:j,path:G}),bd(R,j,G,ye,X,J.active,K,Oe,te)}async function Nl(R,j,O,z,K,ne,oe,X,J){ut(),ce.delete(R);function G(Je){if(!Je.route.action&&!Je.route.lazy){let Hn=en(405,{method:J.formMethod,pathname:O,routeId:j});return Jt(R,j,Hn,{flushSync:oe}),!0}return!1}if(!ne&&G(z))return;let te=A.fetchers.get(R);We(R,FS(J,te),{flushSync:oe});let ve=new AbortController,ye=Ss(t.history,O,ve.signal,J);if(ne){let Je=await Pi(K,O,ye.signal);if(Je.type==="aborted")return;if(Je.type==="error"){Jt(R,j,Je.error,{flushSync:oe});return}else if(Je.matches){if(K=Je.matches,z=ga(K,O),G(z))return}else{Jt(R,j,en(404,{pathname:O}),{flushSync:oe});return}}he.set(R,ve);let Oe=q,be=(await ir("action",A,ye,[z],K,R))[z.route.id];if(ye.signal.aborted){he.get(R)===ve&&he.delete(R);return}if(m.v7_fetcherPersist&&Xe.has(R)){if($i(be)||dn(be)){We(R,Wr(void 0));return}}else{if($i(be))if(he.delete(R),Y>Oe){We(R,Wr(void 0));return}else return ie.add(R),We(R,ra(J)),An(ye,be,!1,{fetcherSubmission:J,preventScrollReset:X});if(dn(be)){Jt(R,j,be.error);return}}if(ri(be))throw en(400,{type:"defer-action"});let Fe=A.navigation.location||A.location,Bn=Ss(t.history,Fe,ve.signal),jr=l||o,_n=A.navigation.state!=="idle"?Oi(jr,A.navigation.location,c):A.matches;Te(_n,"Didn't find any matches after fetcher action");let wn=++q;ee.set(R,wn);let Mr=ra(J,be.data);A.fetchers.set(R,Mr);let[Vr,Pn]=Mv(t.history,A,_n,J,Fe,!1,m.v7_skipActionErrorRevalidation,_e,ge,fe,Xe,ce,ie,jr,c,[z.route.id,be]);Pn.filter(Je=>Je.key!==R).forEach(Je=>{let Hn=Je.key,ws=A.fetchers.get(Hn),jl=ra(void 0,ws?ws.data:void 0);A.fetchers.set(Hn,jl),Zt(Hn),Je.controller&&he.set(Hn,Je.controller)}),ct({fetchers:new Map(A.fetchers)});let $n=()=>Pn.forEach(Je=>Zt(Je.key));ve.signal.addEventListener("abort",$n);let{loaderResults:xn,fetcherResults:Ee}=await Lo(A,_n,Vr,Pn,Bn);if(ve.signal.aborted)return;ve.signal.removeEventListener("abort",$n),ee.delete(R),he.delete(R),Pn.forEach(Je=>he.delete(Je.key));let Ge=uc(xn);if(Ge)return An(Bn,Ge.result,!1,{preventScrollReset:X});if(Ge=uc(Ee),Ge)return ie.add(Ge.key),An(Bn,Ge.result,!1,{preventScrollReset:X});let{loaderData:lr,errors:Or}=zv(A,_n,xn,void 0,Pn,Ee,st);if(A.fetchers.has(R)){let Je=Wr(be.data);A.fetchers.set(R,Je)}vs(wn),A.navigation.state==="loading"&&wn>Y?(Te(T,"Expected pending action"),x&&x.abort(),zn(A.navigation.location,{matches:_n,loaderData:lr,errors:Or,fetchers:new Map(A.fetchers)})):(ct({errors:Or,loaderData:Bv(A.loaderData,lr,_n,Or),fetchers:new Map(A.fetchers)}),_e=!1)}async function bd(R,j,O,z,K,ne,oe,X,J){let G=A.fetchers.get(R);We(R,ra(J,G?G.data:void 0),{flushSync:oe});let te=new AbortController,ve=Ss(t.history,O,te.signal);if(ne){let be=await Pi(K,O,ve.signal);if(be.type==="aborted")return;if(be.type==="error"){Jt(R,j,be.error,{flushSync:oe});return}else if(be.matches)K=be.matches,z=ga(K,O);else{Jt(R,j,en(404,{pathname:O}),{flushSync:oe});return}}he.set(R,te);let ye=q,Ne=(await ir("loader",A,ve,[z],K,R))[z.route.id];if(ri(Ne)&&(Ne=await Hp(Ne,ve.signal,!0)||Ne),he.get(R)===te&&he.delete(R),!ve.signal.aborted){if(Xe.has(R)){We(R,Wr(void 0));return}if($i(Ne))if(Y>ye){We(R,Wr(void 0));return}else{ie.add(R),await An(ve,Ne,!1,{preventScrollReset:X});return}if(dn(Ne)){Jt(R,j,Ne.error);return}Te(!ri(Ne),"Unhandled fetcher deferred data"),We(R,Wr(Ne.data))}}async function An(R,j,O,z){let{submission:K,fetcherSubmission:ne,preventScrollReset:oe,replace:X}=z===void 0?{}:z;j.response.headers.has("X-Remix-Revalidate")&&(_e=!0);let J=j.response.headers.get("Location");Te(J,"Expected a Location header on the redirect Response"),J=Fv(J,new URL(R.url),c);let G=Ja(A.location,J,{_isRedirect:!0});if(n){let be=!1;if(j.response.headers.has("X-Remix-Reload-Document"))be=!0;else if($p.test(J)){const Fe=t.history.createURL(J);be=Fe.origin!==e.location.origin||Eo(Fe.pathname,c)==null}if(be){X?e.location.replace(J):e.location.assign(J);return}}x=null;let te=X===!0||j.response.headers.has("X-Remix-Replace")?ht.Replace:ht.Push,{formMethod:ve,formAction:ye,formEncType:Oe}=A.navigation;!K&&!ne&&ve&&ye&&Oe&&(K=Wv(A.navigation));let Ne=K||ne;if(_S.has(j.response.status)&&Ne&&Mn(Ne.formMethod))await Rn(te,G,{submission:Ke({},Ne,{formAction:J}),preventScrollReset:oe||v,enableViewTransition:O?I:void 0});else{let be=lh(G,K);await Rn(te,G,{overrideNavigation:be,fetcherSubmission:ne,preventScrollReset:oe||v,enableViewTransition:O?I:void 0})}}async function ir(R,j,O,z,K,ne){let oe,X={};try{oe=await kS(u,R,j,O,z,K,ne,s,i)}catch(J){return z.forEach(G=>{X[G.route.id]={type:Me.error,error:J}}),X}for(let[J,G]of Object.entries(oe))if(DS(G)){let te=G.result;X[J]={type:Me.redirect,response:AS(te,O,J,K,c,m.v7_relativeSplatPath)}}else X[J]=await RS(G);return X}async function Lo(R,j,O,z,K){let ne=R.matches,oe=ir("loader",R,K,O,j,null),X=Promise.all(z.map(async te=>{if(te.matches&&te.match&&te.controller){let ye=(await ir("loader",R,Ss(t.history,te.path,te.controller.signal),[te.match],te.matches,te.key))[te.match.route.id];return{[te.key]:ye}}else return Promise.resolve({[te.key]:{type:Me.error,error:en(404,{pathname:te.path})}})})),J=await oe,G=(await X).reduce((te,ve)=>Object.assign(te,ve),{});return await Promise.all([MS(j,J,K.signal,ne,R.loaderData),VS(j,G,z)]),{loaderResults:J,fetcherResults:G}}function ut(){_e=!0,ge.push(...sr()),ce.forEach((R,j)=>{he.has(j)&&fe.add(j),Zt(j)})}function We(R,j,O){O===void 0&&(O={}),A.fetchers.set(R,j),ct({fetchers:new Map(A.fetchers)},{flushSync:(O&&O.flushSync)===!0})}function Jt(R,j,O,z){z===void 0&&(z={});let K=Fi(A.matches,j);Ai(R),ct({errors:{[K.route.id]:O},fetchers:new Map(A.fetchers)},{flushSync:(z&&z.flushSync)===!0})}function jo(R){return m.v7_fetcherPersist&&(Pe.set(R,(Pe.get(R)||0)+1),Xe.has(R)&&Xe.delete(R)),A.fetchers.get(R)||wS}function Ai(R){let j=A.fetchers.get(R);he.has(R)&&!(j&&j.state==="loading"&&ee.has(R))&&Zt(R),ce.delete(R),ee.delete(R),ie.delete(R),Xe.delete(R),fe.delete(R),A.fetchers.delete(R)}function kd(R){if(m.v7_fetcherPersist){let j=(Pe.get(R)||0)-1;j<=0?(Pe.delete(R),Xe.add(R)):Pe.set(R,j)}else Ai(R);ct({fetchers:new Map(A.fetchers)})}function Zt(R){let j=he.get(R);j&&(j.abort(),he.delete(R))}function Mo(R){for(let j of R){let O=jo(j),z=Wr(O.data);A.fetchers.set(j,z)}}function Vo(){let R=[],j=!1;for(let O of ie){let z=A.fetchers.get(O);Te(z,"Expected fetcher: "+O),z.state==="loading"&&(ie.delete(O),R.push(O),j=!0)}return Mo(R),j}function vs(R){let j=[];for(let[O,z]of ee)if(z<R){let K=A.fetchers.get(O);Te(K,"Expected fetcher: "+O),K.state==="loading"&&(Zt(O),ee.delete(O),j.push(O))}return Mo(j),j.length>0}function Cd(R,j){let O=A.blockers.get(R)||na;return pt.get(R)!==j&&pt.set(R,j),O}function Dl(R){A.blockers.delete(R),pt.delete(R)}function Lr(R,j){let O=A.blockers.get(R)||na;Te(O.state==="unblocked"&&j.state==="blocked"||O.state==="blocked"&&j.state==="blocked"||O.state==="blocked"&&j.state==="proceeding"||O.state==="blocked"&&j.state==="unblocked"||O.state==="proceeding"&&j.state==="unblocked","Invalid blocker state transition: "+O.state+" -> "+j.state);let z=new Map(A.blockers);z.set(R,j),ct({blockers:z})}function Oo(R){let{currentLocation:j,nextLocation:O,historyAction:z}=R;if(pt.size===0)return;pt.size>1&&lo(!1,"A router only supports one blocker at a time");let K=Array.from(pt.entries()),[ne,oe]=K[K.length-1],X=A.blockers.get(ne);if(!(X&&X.state==="proceeding")&&oe({currentLocation:j,nextLocation:O,historyAction:z}))return ne}function ys(R){let j=en(404,{pathname:R}),O=l||o,{matches:z,route:K}=Hv(O);return sr(),{notFoundMatches:z,route:K,error:j}}function sr(R){let j=[];return st.forEach((O,z)=>{(!R||R(z))&&(O.cancel(),j.push(z),st.delete(z))}),j}function Fo(R,j,O){if(k=R,L=j,C=O||null,!E&&A.navigation===ah){E=!0;let z=Uo(A.location,A.matches);z!=null&&ct({restoreScrollPosition:z})}return()=>{k=null,L=null,C=null}}function _s(R,j){return C&&C(R,j.map(z=>XI(z,A.loaderData)))||R.key}function or(R,j){if(k&&L){let O=_s(R,j);k[O]=L()}}function Uo(R,j){if(k){let O=_s(R,j),z=k[O];if(typeof z=="number")return z}return null}function ar(R,j,O){if(f)if(R){if(Object.keys(R[0].params).length>0)return{active:!0,matches:Rc(j,O,c,!0)}}else return{active:!0,matches:Rc(j,O,c,!0)||[]};return{active:!1,matches:null}}async function Pi(R,j,O){if(!f)return{type:"success",matches:R};let z=R;for(;;){let K=l==null,ne=l||o,oe=s;try{await f({path:j,matches:z,patch:(G,te)=>{O.aborted||Ov(G,te,ne,oe,i)}})}catch(G){return{type:"error",error:G,partialMatches:z}}finally{K&&!O.aborted&&(o=[...o])}if(O.aborted)return{type:"aborted"};let X=Oi(ne,j,c);if(X)return{type:"success",matches:X};let J=Rc(ne,j,c,!0);if(!J||z.length===J.length&&z.every((G,te)=>G.route.id===J[te].route.id))return{type:"success",matches:null};z=J}}function Ni(R){s={},l=uu(R,i,void 0,s)}function Ll(R,j){let O=l==null;Ov(R,j,l||o,s,i),O&&(o=[...o],ct({}))}return U={get basename(){return c},get future(){return m},get state(){return A},get routes(){return o},get window(){return e},initialize:Td,subscribe:ms,enableScrollRestoration:Fo,navigate:gs,fetch:Do,revalidate:No,createHref:R=>t.history.createHref(R),encodeLocation:R=>t.history.encodeLocation(R),getFetcher:jo,deleteFetcher:kd,dispose:Id,getBlocker:Cd,deleteBlocker:Dl,patchRoutes:Ll,_internalFetchControllers:he,_internalActiveDeferreds:st,_internalSetRoutes:Ni},U}function TS(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function vf(t,e,n,r,i,s,o,l){let c,u;if(o){c=[];for(let m of e)if(c.push(m),m.route.id===o){u=m;break}}else c=e,u=e[e.length-1];let f=Bp(i||".",zp(c,s),Eo(t.pathname,n)||t.pathname,l==="path");if(i==null&&(f.search=t.search,f.hash=t.hash),(i==null||i===""||i===".")&&u){let m=qp(f.search);if(u.route.index&&!m)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&m){let g=new URLSearchParams(f.search),w=g.getAll("index");g.delete("index"),w.filter(C=>C).forEach(C=>g.append("index",C));let k=g.toString();f.search=k?"?"+k:""}}return r&&n!=="/"&&(f.pathname=f.pathname==="/"?n:xr([n,f.pathname])),ts(f)}function Lv(t,e,n,r){if(!r||!TS(r))return{path:n};if(r.formMethod&&!jS(r.formMethod))return{path:n,error:en(405,{method:r.formMethod})};let i=()=>({path:n,error:en(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),l=iw(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Mn(o))return i();let g=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((w,k)=>{let[C,L]=k;return""+w+C+"="+L+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:g}}}else if(r.formEncType==="application/json"){if(!Mn(o))return i();try{let g=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:g,text:void 0}}}catch{return i()}}}Te(typeof FormData=="function","FormData is not available in this environment");let c,u;if(r.formData)c=_f(r.formData),u=r.formData;else if(r.body instanceof FormData)c=_f(r.body),u=r.body;else if(r.body instanceof URLSearchParams)c=r.body,u=Uv(c);else if(r.body==null)c=new URLSearchParams,u=new FormData;else try{c=new URLSearchParams(r.body),u=Uv(c)}catch{return i()}let f={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Mn(f.formMethod))return{path:n,submission:f};let m=Ci(n);return e&&m.search&&qp(m.search)&&c.append("index",""),m.search="?"+c,{path:ts(m),submission:f}}function jv(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function Mv(t,e,n,r,i,s,o,l,c,u,f,m,g,w,k,C){let L=C?dn(C[1])?C[1].error:C[1].data:void 0,E=t.createURL(e.location),y=t.createURL(i),S=n;s&&e.errors?S=jv(n,Object.keys(e.errors)[0],!0):C&&dn(C[1])&&(S=jv(n,C[0]));let M=C?C[1].statusCode:void 0,U=o&&M&&M>=400,A=S.filter((v,x)=>{let{route:I}=v;if(I.lazy)return!0;if(I.loader==null)return!1;if(s)return yf(I,e.loaderData,e.errors);if(IS(e.loaderData,e.matches[x],v)||c.some(b=>b===v.route.id))return!0;let P=e.matches[x],N=v;return Vv(v,Ke({currentUrl:E,currentParams:P.params,nextUrl:y,nextParams:N.params},r,{actionResult:L,actionStatus:M,defaultShouldRevalidate:U?!1:l||E.pathname+E.search===y.pathname+y.search||E.search!==y.search||nw(P,N)}))}),T=[];return m.forEach((v,x)=>{if(s||!n.some(_e=>_e.route.id===v.routeId)||f.has(x))return;let I=Oi(w,v.path,k);if(!I){T.push({key:x,routeId:v.routeId,path:v.path,matches:null,match:null,controller:null});return}let P=e.fetchers.get(x),N=ga(I,v.path),b=!1;g.has(x)?b=!1:u.has(x)?(u.delete(x),b=!0):P&&P.state!=="idle"&&P.data===void 0?b=l:b=Vv(N,Ke({currentUrl:E,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:L,actionStatus:M,defaultShouldRevalidate:U?!1:l})),b&&T.push({key:x,routeId:v.routeId,path:v.path,matches:I,match:N,controller:new AbortController})}),[A,T]}function yf(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function IS(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function nw(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Vv(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Ov(t,e,n,r,i){var s;let o;if(t){let u=r[t];Te(u,"No route found to patch children into: routeId = "+t),u.children||(u.children=[]),o=u.children}else o=n;let l=e.filter(u=>!o.some(f=>rw(u,f))),c=uu(l,i,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...c)}function rw(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>rw(n,s))}):!1}async function SS(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Te(i,"No route found in manifest");let s={};for(let o in r){let c=i[o]!==void 0&&o!=="hasErrorBoundary";lo(!c,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!c&&!QI.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Ke({},e(i),{lazy:void 0}))}async function bS(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function kS(t,e,n,r,i,s,o,l,c,u){let f=s.map(w=>w.route.lazy?SS(w.route,c,l):void 0),m=s.map((w,k)=>{let C=f[k],L=i.some(y=>y.route.id===w.route.id);return Ke({},w,{shouldLoad:L,resolve:async y=>(y&&r.method==="GET"&&(w.route.lazy||w.route.loader)&&(L=!0),L?CS(e,r,w,C,y,u):Promise.resolve({type:Me.data,result:void 0}))})}),g=await t({matches:m,request:r,params:s[0].params,fetcherKey:o,context:u});try{await Promise.all(f)}catch{}return g}async function CS(t,e,n,r,i,s){let o,l,c=u=>{let f,m=new Promise((k,C)=>f=C);l=()=>f(),e.signal.addEventListener("abort",l);let g=k=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):u({request:e,params:n.params,context:s},...k!==void 0?[k]:[]),w=(async()=>{try{return{type:"data",result:await(i?i(C=>g(C)):g())}}catch(k){return{type:"error",result:k}}})();return Promise.race([w,m])};try{let u=n.route[t];if(r)if(u){let f,[m]=await Promise.all([c(u).catch(g=>{f=g}),r]);if(f!==void 0)throw f;o=m}else if(await r,u=n.route[t],u)o=await c(u);else if(t==="action"){let f=new URL(e.url),m=f.pathname+f.search;throw en(405,{method:e.method,pathname:m,routeId:n.route.id})}else return{type:Me.data,result:void 0};else if(u)o=await c(u);else{let f=new URL(e.url),m=f.pathname+f.search;throw en(404,{pathname:m})}Te(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Me.error,result:u}}finally{l&&e.signal.removeEventListener("abort",l)}return o}async function RS(t){let{result:e,type:n}=t;if(sw(e)){let u;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(f){return{type:Me.error,error:f}}return n===Me.error?{type:Me.error,error:new du(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:Me.data,data:u,statusCode:e.status,headers:e.headers}}if(n===Me.error){if(qv(e)){var r;if(e.data instanceof Error){var i;return{type:Me.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new du(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Me.error,error:e,statusCode:Yu(e)?e.status:void 0}}if(LS(e)){var s,o;return{type:Me.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(qv(e)){var l,c;return{type:Me.data,data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}}return{type:Me.data,data:e}}function AS(t,e,n,r,i,s){let o=t.headers.get("Location");if(Te(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!$p.test(o)){let l=r.slice(0,r.findIndex(c=>c.route.id===n)+1);o=vf(new URL(e.url),l,i,!0,o,s),t.headers.set("Location",o)}return t}function Fv(t,e,n){if($p.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Eo(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Ss(t,e,n,r){let i=t.createURL(iw(e)).toString(),s={signal:n};if(r&&Mn(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=_f(r.formData):s.body=r.formData}return new Request(i,s)}function _f(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Uv(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function PS(t,e,n,r,i){let s={},o=null,l,c=!1,u={},f=n&&dn(n[1])?n[1].error:void 0;return t.forEach(m=>{if(!(m.route.id in e))return;let g=m.route.id,w=e[g];if(Te(!$i(w),"Cannot handle redirect results in processLoaderData"),dn(w)){let k=w.error;f!==void 0&&(k=f,f=void 0),o=o||{};{let C=Fi(t,g);o[C.route.id]==null&&(o[C.route.id]=k)}s[g]=void 0,c||(c=!0,l=Yu(w.error)?w.error.status:500),w.headers&&(u[g]=w.headers)}else ri(w)?(r.set(g,w.deferredData),s[g]=w.deferredData.data,w.statusCode!=null&&w.statusCode!==200&&!c&&(l=w.statusCode),w.headers&&(u[g]=w.headers)):(s[g]=w.data,w.statusCode&&w.statusCode!==200&&!c&&(l=w.statusCode),w.headers&&(u[g]=w.headers))}),f!==void 0&&n&&(o={[n[0]]:f},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:l||200,loaderHeaders:u}}function zv(t,e,n,r,i,s,o){let{loaderData:l,errors:c}=PS(e,n,r,o);return i.forEach(u=>{let{key:f,match:m,controller:g}=u,w=s[f];if(Te(w,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(dn(w)){let k=Fi(t.matches,m==null?void 0:m.route.id);c&&c[k.route.id]||(c=Ke({},c,{[k.route.id]:w.error})),t.fetchers.delete(f)}else if($i(w))Te(!1,"Unhandled fetcher revalidation redirect");else if(ri(w))Te(!1,"Unhandled fetcher deferred data");else{let k=Wr(w.data);t.fetchers.set(f,k)}}),{loaderData:l,errors:c}}function Bv(t,e,n,r){let i=Ke({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function $v(t){return t?dn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Fi(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Hv(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function en(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,l="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(l="Bad Request",i&&n&&r?c="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?c="defer() is not supported in actions":s==="invalid-body"&&(c="Unable to encode submission body")):t===403?(l="Forbidden",c='Route "'+r+'" does not match URL "'+n+'"'):t===404?(l="Not Found",c='No route matches URL "'+n+'"'):t===405&&(l="Method Not Allowed",i&&n&&r?c="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(c='Invalid request method "'+i.toUpperCase()+'"')),new du(t||500,l,new Error(c),!0)}function uc(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if($i(i))return{key:r,result:i}}}function iw(t){let e=typeof t=="string"?Ci(t):t;return ts(Ke({},e,{hash:""}))}function NS(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function DS(t){return sw(t.result)&&yS.has(t.result.status)}function ri(t){return t.type===Me.deferred}function dn(t){return t.type===Me.error}function $i(t){return(t&&t.type)===Me.redirect}function qv(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function LS(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function sw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function jS(t){return vS.has(t.toLowerCase())}function Mn(t){return mS.has(t.toLowerCase())}async function MS(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[l,c]=s[o],u=t.find(g=>(g==null?void 0:g.route.id)===l);if(!u)continue;let f=r.find(g=>g.route.id===u.route.id),m=f!=null&&!nw(f,u)&&(i&&i[u.route.id])!==void 0;ri(c)&&m&&await Hp(c,n,!1).then(g=>{g&&(e[l]=g)})}}async function VS(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],l=e[i];t.find(u=>(u==null?void 0:u.route.id)===s)&&ri(l)&&(Te(o,"Expected an AbortController for revalidating fetcher deferred result"),await Hp(l,o.signal,!0).then(u=>{u&&(e[i]=u)}))}}async function Hp(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Me.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Me.error,error:i}}return{type:Me.data,data:t.deferredData.data}}}function qp(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function ga(t,e){let n=typeof e=="string"?Ci(e).search:e.search;if(t[t.length-1].route.index&&qp(n||""))return t[t.length-1];let r=Z_(t);return r[r.length-1]}function Wv(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function lh(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function OS(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ra(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function FS(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Wr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function US(t,e){try{let n=t.sessionStorage.getItem(tw);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function zS(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(tw,JSON.stringify(n))}catch(r){lo(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hu(){return hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hu.apply(this,arguments)}const Xu=D.createContext(null),ow=D.createContext(null),ds=D.createContext(null),Wp=D.createContext(null),hs=D.createContext({outlet:null,matches:[],isDataRoute:!1}),aw=D.createContext(null);function BS(t,e){let{relative:n}=e===void 0?{}:e;fl()||Te(!1);let{basename:r,navigator:i}=D.useContext(ds),{hash:s,pathname:o,search:l}=cw(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:xr([r,o])),i.createHref({pathname:c,search:l,hash:s})}function fl(){return D.useContext(Wp)!=null}function Ju(){return fl()||Te(!1),D.useContext(Wp).location}function lw(t){D.useContext(ds).static||D.useLayoutEffect(t)}function $S(){let{isDataRoute:t}=D.useContext(hs);return t?tb():HS()}function HS(){fl()||Te(!1);let t=D.useContext(Xu),{basename:e,future:n,navigator:r}=D.useContext(ds),{matches:i}=D.useContext(hs),{pathname:s}=Ju(),o=JSON.stringify(zp(i,n.v7_relativeSplatPath)),l=D.useRef(!1);return lw(()=>{l.current=!0}),D.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let m=Bp(u,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:xr([e,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[e,r,o,s,t])}function cw(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=D.useContext(ds),{matches:i}=D.useContext(hs),{pathname:s}=Ju(),o=JSON.stringify(zp(i,r.v7_relativeSplatPath));return D.useMemo(()=>Bp(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function qS(t,e,n,r){fl()||Te(!1);let{navigator:i}=D.useContext(ds),{matches:s}=D.useContext(hs),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ju(),f;f=u;let m=f.pathname||"/",g=m;if(c!=="/"){let C=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(C.length).join("/")}let w=Oi(t,{pathname:g});return YS(w&&w.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:xr([c,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?c:xr([c,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r)}function WS(){let t=eb(),e=Yu(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:i},n):null,null)}const GS=D.createElement(WS,null);class KS extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D.createElement(hs.Provider,{value:this.props.routeContext},D.createElement(aw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QS(t){let{routeContext:e,match:n,children:r}=t,i=D.useContext(Xu);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(hs.Provider,{value:e},r)}function YS(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);f>=0||Te(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:g,errors:w}=n,k=m.route.loader&&g[m.route.id]===void 0&&(!w||w[m.route.id]===void 0);if(m.route.lazy||k){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,m,g)=>{let w,k=!1,C=null,L=null;n&&(w=l&&m.route.id?l[m.route.id]:void 0,C=m.route.errorElement||GS,c&&(u<0&&g===0?(nb("route-fallback"),k=!0,L=null):u===g&&(k=!0,L=m.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,g+1)),y=()=>{let S;return w?S=C:k?S=L:m.route.Component?S=D.createElement(m.route.Component,null):m.route.element?S=m.route.element:S=f,D.createElement(QS,{match:m,routeContext:{outlet:f,matches:E,isDataRoute:n!=null},children:S})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?D.createElement(KS,{location:n.location,revalidation:n.revalidation,component:C,error:w,children:y(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):y()},null)}var uw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(uw||{}),fu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(fu||{});function XS(t){let e=D.useContext(Xu);return e||Te(!1),e}function JS(t){let e=D.useContext(ow);return e||Te(!1),e}function ZS(t){let e=D.useContext(hs);return e||Te(!1),e}function dw(t){let e=ZS(),n=e.matches[e.matches.length-1];return n.route.id||Te(!1),n.route.id}function eb(){var t;let e=D.useContext(aw),n=JS(fu.UseRouteError),r=dw(fu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function tb(){let{router:t}=XS(uw.UseNavigateStable),e=dw(fu.UseNavigateStable),n=D.useRef(!1);return lw(()=>{n.current=!0}),D.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,hu({fromRouteId:e},s)))},[t,e])}const Gv={};function nb(t,e,n){Gv[t]||(Gv[t]=!0)}function rb(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ht.Pop,navigator:s,static:o=!1,future:l}=t;fl()&&Te(!1);let c=e.replace(/^\/*/,"/"),u=D.useMemo(()=>({basename:c,navigator:s,static:o,future:hu({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof r=="string"&&(r=Ci(r));let{pathname:f="/",search:m="",hash:g="",state:w=null,key:k="default"}=r,C=D.useMemo(()=>{let L=Eo(f,c);return L==null?null:{location:{pathname:L,search:m,hash:g,state:w,key:k},navigationType:i}},[c,f,m,g,w,k,i]);return C==null?null:D.createElement(ds.Provider,{value:u},D.createElement(Wp.Provider,{children:n,value:C}))}new Promise(()=>{});function ib(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:D.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:D.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:D.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Za(){return Za=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Za.apply(this,arguments)}function sb(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ob(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ab(t,e){return t.button===0&&(!e||e==="_self")&&!ob(t)}const lb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],cb="6";try{window.__reactRouterVersion=cb}catch{}function ub(t,e){return ES({basename:e==null?void 0:e.basename,future:Za({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:WI({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||db(),routes:t,mapRouteProperties:ib,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function db(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Za({},e,{errors:hb(e.errors)})),e}function hb(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new du(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const fb=D.createContext({isTransitioning:!1}),pb=D.createContext(new Map),mb="startTransition",Kv=DE[mb],gb="flushSync",Qv=qI[gb];function vb(t){Kv?Kv(t):t()}function ia(t){Qv?Qv(t):t()}let yb=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function _b(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=D.useState(n.state),[o,l]=D.useState(),[c,u]=D.useState({isTransitioning:!1}),[f,m]=D.useState(),[g,w]=D.useState(),[k,C]=D.useState(),L=D.useRef(new Map),{v7_startTransition:E}=r||{},y=D.useCallback(v=>{E?vb(v):v()},[E]),S=D.useCallback((v,x)=>{let{deletedFetchers:I,flushSync:P,viewTransitionOpts:N}=x;I.forEach(_e=>L.current.delete(_e)),v.fetchers.forEach((_e,ge)=>{_e.data!==void 0&&L.current.set(ge,_e.data)});let b=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!N||b){P?ia(()=>s(v)):y(()=>s(v));return}if(P){ia(()=>{g&&(f&&f.resolve(),g.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:N.currentLocation,nextLocation:N.nextLocation})});let _e=n.window.document.startViewTransition(()=>{ia(()=>s(v))});_e.finished.finally(()=>{ia(()=>{m(void 0),w(void 0),l(void 0),u({isTransitioning:!1})})}),ia(()=>w(_e));return}g?(f&&f.resolve(),g.skipTransition(),C({state:v,currentLocation:N.currentLocation,nextLocation:N.nextLocation})):(l(v),u({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}))},[n.window,g,f,L,y]);D.useLayoutEffect(()=>n.subscribe(S),[n,S]),D.useEffect(()=>{c.isTransitioning&&!c.flushSync&&m(new yb)},[c]),D.useEffect(()=>{if(f&&o&&n.window){let v=o,x=f.promise,I=n.window.document.startViewTransition(async()=>{y(()=>s(v)),await x});I.finished.finally(()=>{m(void 0),w(void 0),l(void 0),u({isTransitioning:!1})}),w(I)}},[y,o,f,n.window]),D.useEffect(()=>{f&&o&&i.location.key===o.location.key&&f.resolve()},[f,g,i.location,o]),D.useEffect(()=>{!c.isTransitioning&&k&&(l(k.state),u({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}),C(void 0))},[c.isTransitioning,k]),D.useEffect(()=>{},[]);let M=D.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:v=>n.navigate(v),push:(v,x,I)=>n.navigate(v,{state:x,preventScrollReset:I==null?void 0:I.preventScrollReset}),replace:(v,x,I)=>n.navigate(v,{replace:!0,state:x,preventScrollReset:I==null?void 0:I.preventScrollReset})}),[n]),U=n.basename||"/",A=D.useMemo(()=>({router:n,navigator:M,static:!1,basename:U}),[n,M,U]),T=D.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return D.createElement(D.Fragment,null,D.createElement(Xu.Provider,{value:A},D.createElement(ow.Provider,{value:i},D.createElement(pb.Provider,{value:L.current},D.createElement(fb.Provider,{value:c},D.createElement(rb,{basename:U,location:i.location,navigationType:i.historyAction,navigator:M,future:T},i.initialized||n.future.v7_partialHydration?D.createElement(wb,{routes:n.routes,future:n.future,state:i}):e))))),null)}const wb=D.memo(xb);function xb(t){let{routes:e,future:n,state:r}=t;return qS(e,void 0,r,n)}const Eb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Tb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ns=D.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:f,viewTransition:m}=e,g=sb(e,lb),{basename:w}=D.useContext(ds),k,C=!1;if(typeof u=="string"&&Tb.test(u)&&(k=u,Eb))try{let S=new URL(window.location.href),M=u.startsWith("//")?new URL(S.protocol+u):new URL(u),U=Eo(M.pathname,w);M.origin===S.origin&&U!=null?u=U+M.search+M.hash:C=!0}catch{}let L=BS(u,{relative:i}),E=Ib(u,{replace:o,state:l,target:c,preventScrollReset:f,relative:i,viewTransition:m});function y(S){r&&r(S),S.defaultPrevented||E(S)}return D.createElement("a",Za({},g,{href:k||L,onClick:C||s?r:y,ref:n,target:c}))});var Yv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Yv||(Yv={}));var Xv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Xv||(Xv={}));function Ib(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,c=$S(),u=Ju(),f=cw(t,{relative:o});return D.useCallback(m=>{if(ab(m,n)){m.preventDefault();let g=r!==void 0?r:ts(u)===ts(f);c(t,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,f,r,i,n,t,s,o,l])}var Jv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Sb=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},fw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,f=s>>2,m=(s&3)<<4|l>>4;let g=(l&15)<<2|u>>6,w=u&63;c||(w=64,o||(g=64)),r.push(n[f],n[m],n[g],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Sb(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||m==null)throw new bb;const g=s<<2|l>>4;if(r.push(g),u!==64){const w=l<<4&240|u>>2;if(r.push(w),m!==64){const k=u<<6&192|m;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kb=function(t){const e=hw(t);return fw.encodeByteArray(e,!0)},pu=function(t){return kb(t).replace(/\./g,"")},pw=function(t){try{return fw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=()=>Cb().__FIREBASE_DEFAULTS__,Ab=()=>{if(typeof process>"u"||typeof Jv>"u")return;const t=Jv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Pb=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pw(t[1]);return e&&JSON.parse(e)},Zu=()=>{try{return Rb()||Ab()||Pb()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mw=t=>{var e,n;return(n=(e=Zu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Nb=t=>{const e=mw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},gw=()=>{var t;return(t=Zu())===null||t===void 0?void 0:t.config},vw=t=>{var e;return(e=Zu())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[pu(JSON.stringify(n)),pu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function Mb(){var t;const e=(t=Zu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Vb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ob(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Fb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ub(){const t=Bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function zb(){return!Mb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bb(){try{return typeof indexedDB=="object"}catch{return!1}}function $b(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="FirebaseError";class Dr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Hb,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pl.prototype.create)}}class pl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?qb(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Dr(i,l,r)}}function qb(t,e){return t.replace(Wb,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Wb=/\{\$([^}]+)}/g;function Gb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function el(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Zv(s)&&Zv(o)){if(!el(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Zv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Kb(t,e){const n=new Qb(t,e);return n.subscribe.bind(n)}class Qb{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Yb(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ch),i.error===void 0&&(i.error=ch),i.complete===void 0&&(i.complete=ch);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yb(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ch(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t){return t&&t._delegate?t._delegate:t}class rs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Db;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Zb(e))try{this.getOrInitializeService({instanceIdentifier:Vi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vi){return this.instances.has(e)}getOptions(e=Vi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Jb(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vi){return this.component?this.component.multipleInstances?e:Vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Jb(t){return t===Vi?void 0:t}function Zb(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Xb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const tk={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},nk=Se.INFO,rk={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},ik=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=rk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gp{constructor(e){this.name=e,this._logLevel=nk,this._logHandler=ik,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const sk=(t,e)=>e.some(n=>t instanceof n);let e0,t0;function ok(){return e0||(e0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ak(){return t0||(t0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yw=new WeakMap,wf=new WeakMap,_w=new WeakMap,uh=new WeakMap,Kp=new WeakMap;function lk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(pi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&yw.set(n,t)}).catch(()=>{}),Kp.set(e,t),e}function ck(t){if(wf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});wf.set(t,e)}let xf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_w.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uk(t){xf=t(xf)}function dk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(dh(this),e,...n);return _w.set(r,e.sort?e.sort():[e]),pi(r)}:ak().includes(t)?function(...e){return t.apply(dh(this),e),pi(yw.get(this))}:function(...e){return pi(t.apply(dh(this),e))}}function hk(t){return typeof t=="function"?dk(t):(t instanceof IDBTransaction&&ck(t),sk(t,ok())?new Proxy(t,xf):t)}function pi(t){if(t instanceof IDBRequest)return lk(t);if(uh.has(t))return uh.get(t);const e=hk(t);return e!==t&&(uh.set(t,e),Kp.set(e,t)),e}const dh=t=>Kp.get(t);function fk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=pi(o);return r&&o.addEventListener("upgradeneeded",c=>{r(pi(o.result),c.oldVersion,c.newVersion,pi(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const pk=["get","getKey","getAll","getAllKeys","count"],mk=["put","add","delete","clear"],hh=new Map;function n0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hh.get(e))return hh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=mk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pk.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&c.done]))[0]};return hh.set(e,s),s}uk(t=>({...t,get:(e,n,r)=>n0(e,n)||t.get(e,n,r),has:(e,n)=>!!n0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ef="@firebase/app",r0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr=new Gp("@firebase/app"),yk="@firebase/app-compat",_k="@firebase/analytics-compat",wk="@firebase/analytics",xk="@firebase/app-check-compat",Ek="@firebase/app-check",Tk="@firebase/auth",Ik="@firebase/auth-compat",Sk="@firebase/database",bk="@firebase/data-connect",kk="@firebase/database-compat",Ck="@firebase/functions",Rk="@firebase/functions-compat",Ak="@firebase/installations",Pk="@firebase/installations-compat",Nk="@firebase/messaging",Dk="@firebase/messaging-compat",Lk="@firebase/performance",jk="@firebase/performance-compat",Mk="@firebase/remote-config",Vk="@firebase/remote-config-compat",Ok="@firebase/storage",Fk="@firebase/storage-compat",Uk="@firebase/firestore",zk="@firebase/vertexai-preview",Bk="@firebase/firestore-compat",$k="firebase",Hk="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf="[DEFAULT]",qk={[Ef]:"fire-core",[yk]:"fire-core-compat",[wk]:"fire-analytics",[_k]:"fire-analytics-compat",[Ek]:"fire-app-check",[xk]:"fire-app-check-compat",[Tk]:"fire-auth",[Ik]:"fire-auth-compat",[Sk]:"fire-rtdb",[bk]:"fire-data-connect",[kk]:"fire-rtdb-compat",[Ck]:"fire-fn",[Rk]:"fire-fn-compat",[Ak]:"fire-iid",[Pk]:"fire-iid-compat",[Nk]:"fire-fcm",[Dk]:"fire-fcm-compat",[Lk]:"fire-perf",[jk]:"fire-perf-compat",[Mk]:"fire-rc",[Vk]:"fire-rc-compat",[Ok]:"fire-gcs",[Fk]:"fire-gcs-compat",[Uk]:"fire-fst",[Bk]:"fire-fst-compat",[zk]:"fire-vertex","fire-js":"fire-js",[$k]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=new Map,Wk=new Map,If=new Map;function i0(t,e){try{t.container.addComponent(e)}catch(n){kr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function co(t){const e=t.name;if(If.has(e))return kr.debug(`There were multiple attempts to register component ${e}.`),!1;If.set(e,t);for(const n of mu.values())i0(n,t);for(const n of Wk.values())i0(n,t);return!0}function Qp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mi=new pl("app","Firebase",Gk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=Hk;function ww(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Tf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw mi.create("bad-app-name",{appName:String(i)});if(n||(n=gw()),!n)throw mi.create("no-options");const s=mu.get(i);if(s){if(el(n,s.options)&&el(r,s.config))return s;throw mi.create("duplicate-app",{appName:i})}const o=new ek(i);for(const c of If.values())o.addComponent(c);const l=new Kk(n,r,o);return mu.set(i,l),l}function xw(t=Tf){const e=mu.get(t);if(!e&&t===Tf&&gw())return ww();if(!e)throw mi.create("no-app",{appName:t});return e}function gi(t,e,n){var r;let i=(r=qk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),kr.warn(l.join(" "));return}co(new rs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk="firebase-heartbeat-database",Yk=1,tl="firebase-heartbeat-store";let fh=null;function Ew(){return fh||(fh=fk(Qk,Yk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(tl)}catch(n){console.warn(n)}}}}).catch(t=>{throw mi.create("idb-open",{originalErrorMessage:t.message})})),fh}async function Xk(t){try{const n=(await Ew()).transaction(tl),r=await n.objectStore(tl).get(Tw(t));return await n.done,r}catch(e){if(e instanceof Dr)kr.warn(e.message);else{const n=mi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});kr.warn(n.message)}}}async function s0(t,e){try{const r=(await Ew()).transaction(tl,"readwrite");await r.objectStore(tl).put(e,Tw(t)),await r.done}catch(n){if(n instanceof Dr)kr.warn(n.message);else{const r=mi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});kr.warn(r.message)}}}function Tw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=1024,Zk=30*24*60*60*1e3;class e4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new n4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=o0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=Zk}),this._storage.overwrite(this._heartbeatsCache))}catch(r){kr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=o0(),{heartbeatsToSend:r,unsentEntries:i}=t4(this._heartbeatsCache.heartbeats),s=pu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return kr.warn(n),""}}}function o0(){return new Date().toISOString().substring(0,10)}function t4(t,e=Jk){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),a0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),a0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class n4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Bb()?$b().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Xk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return s0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return s0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function a0(t){return pu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(t){co(new rs("platform-logger",e=>new gk(e),"PRIVATE")),co(new rs("heartbeat",e=>new e4(e),"PRIVATE")),gi(Ef,r0,t),gi(Ef,r0,"esm2017"),gi("fire-js","")}r4("");var l0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qi,Iw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,v){function x(){}x.prototype=v.prototype,T.D=v.prototype,T.prototype=new x,T.prototype.constructor=T,T.C=function(I,P,N){for(var b=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)b[_e-2]=arguments[_e];return v.prototype[P].apply(I,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,v,x){x||(x=0);var I=Array(16);if(typeof v=="string")for(var P=0;16>P;++P)I[P]=v.charCodeAt(x++)|v.charCodeAt(x++)<<8|v.charCodeAt(x++)<<16|v.charCodeAt(x++)<<24;else for(P=0;16>P;++P)I[P]=v[x++]|v[x++]<<8|v[x++]<<16|v[x++]<<24;v=T.g[0],x=T.g[1],P=T.g[2];var N=T.g[3],b=v+(N^x&(P^N))+I[0]+3614090360&4294967295;v=x+(b<<7&4294967295|b>>>25),b=N+(P^v&(x^P))+I[1]+3905402710&4294967295,N=v+(b<<12&4294967295|b>>>20),b=P+(x^N&(v^x))+I[2]+606105819&4294967295,P=N+(b<<17&4294967295|b>>>15),b=x+(v^P&(N^v))+I[3]+3250441966&4294967295,x=P+(b<<22&4294967295|b>>>10),b=v+(N^x&(P^N))+I[4]+4118548399&4294967295,v=x+(b<<7&4294967295|b>>>25),b=N+(P^v&(x^P))+I[5]+1200080426&4294967295,N=v+(b<<12&4294967295|b>>>20),b=P+(x^N&(v^x))+I[6]+2821735955&4294967295,P=N+(b<<17&4294967295|b>>>15),b=x+(v^P&(N^v))+I[7]+4249261313&4294967295,x=P+(b<<22&4294967295|b>>>10),b=v+(N^x&(P^N))+I[8]+1770035416&4294967295,v=x+(b<<7&4294967295|b>>>25),b=N+(P^v&(x^P))+I[9]+2336552879&4294967295,N=v+(b<<12&4294967295|b>>>20),b=P+(x^N&(v^x))+I[10]+4294925233&4294967295,P=N+(b<<17&4294967295|b>>>15),b=x+(v^P&(N^v))+I[11]+2304563134&4294967295,x=P+(b<<22&4294967295|b>>>10),b=v+(N^x&(P^N))+I[12]+1804603682&4294967295,v=x+(b<<7&4294967295|b>>>25),b=N+(P^v&(x^P))+I[13]+4254626195&4294967295,N=v+(b<<12&4294967295|b>>>20),b=P+(x^N&(v^x))+I[14]+2792965006&4294967295,P=N+(b<<17&4294967295|b>>>15),b=x+(v^P&(N^v))+I[15]+1236535329&4294967295,x=P+(b<<22&4294967295|b>>>10),b=v+(P^N&(x^P))+I[1]+4129170786&4294967295,v=x+(b<<5&4294967295|b>>>27),b=N+(x^P&(v^x))+I[6]+3225465664&4294967295,N=v+(b<<9&4294967295|b>>>23),b=P+(v^x&(N^v))+I[11]+643717713&4294967295,P=N+(b<<14&4294967295|b>>>18),b=x+(N^v&(P^N))+I[0]+3921069994&4294967295,x=P+(b<<20&4294967295|b>>>12),b=v+(P^N&(x^P))+I[5]+3593408605&4294967295,v=x+(b<<5&4294967295|b>>>27),b=N+(x^P&(v^x))+I[10]+38016083&4294967295,N=v+(b<<9&4294967295|b>>>23),b=P+(v^x&(N^v))+I[15]+3634488961&4294967295,P=N+(b<<14&4294967295|b>>>18),b=x+(N^v&(P^N))+I[4]+3889429448&4294967295,x=P+(b<<20&4294967295|b>>>12),b=v+(P^N&(x^P))+I[9]+568446438&4294967295,v=x+(b<<5&4294967295|b>>>27),b=N+(x^P&(v^x))+I[14]+3275163606&4294967295,N=v+(b<<9&4294967295|b>>>23),b=P+(v^x&(N^v))+I[3]+4107603335&4294967295,P=N+(b<<14&4294967295|b>>>18),b=x+(N^v&(P^N))+I[8]+1163531501&4294967295,x=P+(b<<20&4294967295|b>>>12),b=v+(P^N&(x^P))+I[13]+2850285829&4294967295,v=x+(b<<5&4294967295|b>>>27),b=N+(x^P&(v^x))+I[2]+4243563512&4294967295,N=v+(b<<9&4294967295|b>>>23),b=P+(v^x&(N^v))+I[7]+1735328473&4294967295,P=N+(b<<14&4294967295|b>>>18),b=x+(N^v&(P^N))+I[12]+2368359562&4294967295,x=P+(b<<20&4294967295|b>>>12),b=v+(x^P^N)+I[5]+4294588738&4294967295,v=x+(b<<4&4294967295|b>>>28),b=N+(v^x^P)+I[8]+2272392833&4294967295,N=v+(b<<11&4294967295|b>>>21),b=P+(N^v^x)+I[11]+1839030562&4294967295,P=N+(b<<16&4294967295|b>>>16),b=x+(P^N^v)+I[14]+4259657740&4294967295,x=P+(b<<23&4294967295|b>>>9),b=v+(x^P^N)+I[1]+2763975236&4294967295,v=x+(b<<4&4294967295|b>>>28),b=N+(v^x^P)+I[4]+1272893353&4294967295,N=v+(b<<11&4294967295|b>>>21),b=P+(N^v^x)+I[7]+4139469664&4294967295,P=N+(b<<16&4294967295|b>>>16),b=x+(P^N^v)+I[10]+3200236656&4294967295,x=P+(b<<23&4294967295|b>>>9),b=v+(x^P^N)+I[13]+681279174&4294967295,v=x+(b<<4&4294967295|b>>>28),b=N+(v^x^P)+I[0]+3936430074&4294967295,N=v+(b<<11&4294967295|b>>>21),b=P+(N^v^x)+I[3]+3572445317&4294967295,P=N+(b<<16&4294967295|b>>>16),b=x+(P^N^v)+I[6]+76029189&4294967295,x=P+(b<<23&4294967295|b>>>9),b=v+(x^P^N)+I[9]+3654602809&4294967295,v=x+(b<<4&4294967295|b>>>28),b=N+(v^x^P)+I[12]+3873151461&4294967295,N=v+(b<<11&4294967295|b>>>21),b=P+(N^v^x)+I[15]+530742520&4294967295,P=N+(b<<16&4294967295|b>>>16),b=x+(P^N^v)+I[2]+3299628645&4294967295,x=P+(b<<23&4294967295|b>>>9),b=v+(P^(x|~N))+I[0]+4096336452&4294967295,v=x+(b<<6&4294967295|b>>>26),b=N+(x^(v|~P))+I[7]+1126891415&4294967295,N=v+(b<<10&4294967295|b>>>22),b=P+(v^(N|~x))+I[14]+2878612391&4294967295,P=N+(b<<15&4294967295|b>>>17),b=x+(N^(P|~v))+I[5]+4237533241&4294967295,x=P+(b<<21&4294967295|b>>>11),b=v+(P^(x|~N))+I[12]+1700485571&4294967295,v=x+(b<<6&4294967295|b>>>26),b=N+(x^(v|~P))+I[3]+2399980690&4294967295,N=v+(b<<10&4294967295|b>>>22),b=P+(v^(N|~x))+I[10]+4293915773&4294967295,P=N+(b<<15&4294967295|b>>>17),b=x+(N^(P|~v))+I[1]+2240044497&4294967295,x=P+(b<<21&4294967295|b>>>11),b=v+(P^(x|~N))+I[8]+1873313359&4294967295,v=x+(b<<6&4294967295|b>>>26),b=N+(x^(v|~P))+I[15]+4264355552&4294967295,N=v+(b<<10&4294967295|b>>>22),b=P+(v^(N|~x))+I[6]+2734768916&4294967295,P=N+(b<<15&4294967295|b>>>17),b=x+(N^(P|~v))+I[13]+1309151649&4294967295,x=P+(b<<21&4294967295|b>>>11),b=v+(P^(x|~N))+I[4]+4149444226&4294967295,v=x+(b<<6&4294967295|b>>>26),b=N+(x^(v|~P))+I[11]+3174756917&4294967295,N=v+(b<<10&4294967295|b>>>22),b=P+(v^(N|~x))+I[2]+718787259&4294967295,P=N+(b<<15&4294967295|b>>>17),b=x+(N^(P|~v))+I[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(P+(b<<21&4294967295|b>>>11))&4294967295,T.g[2]=T.g[2]+P&4294967295,T.g[3]=T.g[3]+N&4294967295}r.prototype.u=function(T,v){v===void 0&&(v=T.length);for(var x=v-this.blockSize,I=this.B,P=this.h,N=0;N<v;){if(P==0)for(;N<=x;)i(this,T,N),N+=this.blockSize;if(typeof T=="string"){for(;N<v;)if(I[P++]=T.charCodeAt(N++),P==this.blockSize){i(this,I),P=0;break}}else for(;N<v;)if(I[P++]=T[N++],P==this.blockSize){i(this,I),P=0;break}}this.h=P,this.o+=v},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;var x=8*this.o;for(v=T.length-8;v<T.length;++v)T[v]=x&255,x/=256;for(this.u(T),T=Array(16),v=x=0;4>v;++v)for(var I=0;32>I;I+=8)T[x++]=this.g[v]>>>I&255;return T};function s(T,v){var x=l;return Object.prototype.hasOwnProperty.call(x,T)?x[T]:x[T]=v(T)}function o(T,v){this.h=v;for(var x=[],I=!0,P=T.length-1;0<=P;P--){var N=T[P]|0;I&&N==v||(x[P]=N,I=!1)}this.g=x}var l={};function c(T){return-128<=T&&128>T?s(T,function(v){return new o([v|0],0>v?-1:0)}):new o([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return m;if(0>T)return L(u(-T));for(var v=[],x=1,I=0;T>=x;I++)v[I]=T/x|0,x*=4294967296;return new o(v,0)}function f(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return L(f(T.substring(1),v));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=u(Math.pow(v,8)),I=m,P=0;P<T.length;P+=8){var N=Math.min(8,T.length-P),b=parseInt(T.substring(P,P+N),v);8>N?(N=u(Math.pow(v,N)),I=I.j(N).add(u(b))):(I=I.j(x),I=I.add(u(b)))}return I}var m=c(0),g=c(1),w=c(16777216);t=o.prototype,t.m=function(){if(C(this))return-L(this).m();for(var T=0,v=1,x=0;x<this.g.length;x++){var I=this.i(x);T+=(0<=I?I:4294967296+I)*v,v*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k(this))return"0";if(C(this))return"-"+L(this).toString(T);for(var v=u(Math.pow(T,6)),x=this,I="";;){var P=M(x,v).g;x=E(x,P.j(v));var N=((0<x.g.length?x.g[0]:x.h)>>>0).toString(T);if(x=P,k(x))return N+I;for(;6>N.length;)N="0"+N;I=N+I}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function k(T){if(T.h!=0)return!1;for(var v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function C(T){return T.h==-1}t.l=function(T){return T=E(this,T),C(T)?-1:k(T)?0:1};function L(T){for(var v=T.g.length,x=[],I=0;I<v;I++)x[I]=~T.g[I];return new o(x,~T.h).add(g)}t.abs=function(){return C(this)?L(this):this},t.add=function(T){for(var v=Math.max(this.g.length,T.g.length),x=[],I=0,P=0;P<=v;P++){var N=I+(this.i(P)&65535)+(T.i(P)&65535),b=(N>>>16)+(this.i(P)>>>16)+(T.i(P)>>>16);I=b>>>16,N&=65535,b&=65535,x[P]=b<<16|N}return new o(x,x[x.length-1]&-2147483648?-1:0)};function E(T,v){return T.add(L(v))}t.j=function(T){if(k(this)||k(T))return m;if(C(this))return C(T)?L(this).j(L(T)):L(L(this).j(T));if(C(T))return L(this.j(L(T)));if(0>this.l(w)&&0>T.l(w))return u(this.m()*T.m());for(var v=this.g.length+T.g.length,x=[],I=0;I<2*v;I++)x[I]=0;for(I=0;I<this.g.length;I++)for(var P=0;P<T.g.length;P++){var N=this.i(I)>>>16,b=this.i(I)&65535,_e=T.i(P)>>>16,ge=T.i(P)&65535;x[2*I+2*P]+=b*ge,y(x,2*I+2*P),x[2*I+2*P+1]+=N*ge,y(x,2*I+2*P+1),x[2*I+2*P+1]+=b*_e,y(x,2*I+2*P+1),x[2*I+2*P+2]+=N*_e,y(x,2*I+2*P+2)}for(I=0;I<v;I++)x[I]=x[2*I+1]<<16|x[2*I];for(I=v;I<2*v;I++)x[I]=0;return new o(x,0)};function y(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function S(T,v){this.g=T,this.h=v}function M(T,v){if(k(v))throw Error("division by zero");if(k(T))return new S(m,m);if(C(T))return v=M(L(T),v),new S(L(v.g),L(v.h));if(C(v))return v=M(T,L(v)),new S(L(v.g),v.h);if(30<T.g.length){if(C(T)||C(v))throw Error("slowDivide_ only works with positive integers.");for(var x=g,I=v;0>=I.l(T);)x=U(x),I=U(I);var P=A(x,1),N=A(I,1);for(I=A(I,2),x=A(x,2);!k(I);){var b=N.add(I);0>=b.l(T)&&(P=P.add(x),N=b),I=A(I,1),x=A(x,1)}return v=E(T,P.j(v)),new S(P,v)}for(P=m;0<=T.l(v);){for(x=Math.max(1,Math.floor(T.m()/v.m())),I=Math.ceil(Math.log(x)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),N=u(x),b=N.j(v);C(b)||0<b.l(T);)x-=I,N=u(x),b=N.j(v);k(N)&&(N=g),P=P.add(N),T=E(T,b)}return new S(P,T)}t.A=function(T){return M(this,T).h},t.and=function(T){for(var v=Math.max(this.g.length,T.g.length),x=[],I=0;I<v;I++)x[I]=this.i(I)&T.i(I);return new o(x,this.h&T.h)},t.or=function(T){for(var v=Math.max(this.g.length,T.g.length),x=[],I=0;I<v;I++)x[I]=this.i(I)|T.i(I);return new o(x,this.h|T.h)},t.xor=function(T){for(var v=Math.max(this.g.length,T.g.length),x=[],I=0;I<v;I++)x[I]=this.i(I)^T.i(I);return new o(x,this.h^T.h)};function U(T){for(var v=T.g.length+1,x=[],I=0;I<v;I++)x[I]=T.i(I)<<1|T.i(I-1)>>>31;return new o(x,T.h)}function A(T,v){var x=v>>5;v%=32;for(var I=T.g.length-x,P=[],N=0;N<I;N++)P[N]=0<v?T.i(N+x)>>>v|T.i(N+x+1)<<32-v:T.i(N+x);return new o(P,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Iw=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,Qi=o}).apply(typeof l0<"u"?l0:typeof self<"u"?self:typeof window<"u"?window:{});var dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sw,va,bw,Ac,Sf,kw,Cw,Rw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,p){return a==Array.prototype||a==Object.prototype||(a[h]=p.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof dc=="object"&&dc];for(var h=0;h<a.length;++h){var p=a[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var p=r;a=a.split(".");for(var _=0;_<a.length-1;_++){var V=a[_];if(!(V in p))break e;p=p[V]}a=a[a.length-1],_=p[a],h=h(_),h!=_&&h!=null&&e(p,a,{configurable:!0,writable:!0,value:h})}}function s(a,h){a instanceof String&&(a+="");var p=0,_=!1,V={next:function(){if(!_&&p<a.length){var F=p++;return{value:h(F,a[F]),done:!1}}return _=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(a){return a||function(){return s(this,function(h,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function u(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function f(a,h,p){return a.call.apply(a.bind,arguments)}function m(a,h,p){if(!a)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,_),a.apply(h,V)}}return function(){return a.apply(h,arguments)}}function g(a,h,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,g.apply(null,arguments)}function w(a,h){var p=Array.prototype.slice.call(arguments,1);return function(){var _=p.slice();return _.push.apply(_,arguments),a.apply(this,_)}}function k(a,h){function p(){}p.prototype=h.prototype,a.aa=h.prototype,a.prototype=new p,a.prototype.constructor=a,a.Qb=function(_,V,F){for(var W=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)W[Ve-2]=arguments[Ve];return h.prototype[V].apply(_,W)}}function C(a){const h=a.length;if(0<h){const p=Array(h);for(let _=0;_<h;_++)p[_]=a[_];return p}return[]}function L(a,h){for(let p=1;p<arguments.length;p++){const _=arguments[p];if(c(_)){const V=a.length||0,F=_.length||0;a.length=V+F;for(let W=0;W<F;W++)a[V+W]=_[W]}else a.push(_)}}class E{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function y(a){return/^[\s\xa0]*$/.test(a)}function S(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function M(a){return M[" "](a),a}M[" "]=function(){};var U=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function A(a,h,p){for(const _ in a)h.call(p,a[_],_,a)}function T(a,h){for(const p in a)h.call(void 0,a[p],p,a)}function v(a){const h={};for(const p in a)h[p]=a[p];return h}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,h){let p,_;for(let V=1;V<arguments.length;V++){_=arguments[V];for(p in _)a[p]=_[p];for(let F=0;F<x.length;F++)p=x[F],Object.prototype.hasOwnProperty.call(_,p)&&(a[p]=_[p])}}function P(a){var h=1;a=a.split(":");const p=[];for(;0<h&&a.length;)p.push(a.shift()),h--;return a.length&&p.push(a.join(":")),p}function N(a){l.setTimeout(()=>{throw a},0)}function b(){var a=Y;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class _e{constructor(){this.h=this.g=null}add(h,p){const _=ge.get();_.set(h,p),this.h?this.h.next=_:this.g=_,this.h=_}}var ge=new E(()=>new fe,a=>a.reset());class fe{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let he,q=!1,Y=new _e,ee=()=>{const a=l.Promise.resolve(void 0);he=()=>{a.then(ie)}};var ie=()=>{for(var a;a=b();){try{a.h.call(a.g)}catch(p){N(p)}var h=ge;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}q=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Pe(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}Pe.prototype.h=function(){this.defaultPrevented=!0};var Xe=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};l.addEventListener("test",p,h),l.removeEventListener("test",p,h)}catch{}return a}();function st(a,h){if(Pe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var p=this.type=a.type,_=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(U){e:{try{M(h.nodeName);var V=!0;break e}catch{}V=!1}V||(h=null)}}else p=="mouseover"?h=a.fromElement:p=="mouseout"&&(h=a.toElement);this.relatedTarget=h,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:pt[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&st.aa.h.call(this)}}k(st,Pe);var pt={2:"touch",3:"pen",4:"mouse"};st.prototype.h=function(){st.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Xt="closure_listenable_"+(1e6*Math.random()|0),Td=0;function Id(a,h,p,_,V){this.listener=a,this.proxy=null,this.src=h,this.type=p,this.capture=!!_,this.ha=V,this.key=++Td,this.da=this.fa=!1}function ms(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ct(a){this.src=a,this.g={},this.h=0}ct.prototype.add=function(a,h,p,_,V){var F=a.toString();a=this.g[F],a||(a=this.g[F]=[],this.h++);var W=gs(a,h,_,V);return-1<W?(h=a[W],p||(h.fa=!1)):(h=new Id(h,this.src,F,!!_,V),h.fa=p,a.push(h)),h};function zn(a,h){var p=h.type;if(p in a.g){var _=a.g[p],V=Array.prototype.indexOf.call(_,h,void 0),F;(F=0<=V)&&Array.prototype.splice.call(_,V,1),F&&(ms(h),a.g[p].length==0&&(delete a.g[p],a.h--))}}function gs(a,h,p,_){for(var V=0;V<a.length;++V){var F=a[V];if(!F.da&&F.listener==h&&F.capture==!!p&&F.ha==_)return V}return-1}var No="closure_lm_"+(1e6*Math.random()|0),Rn={};function Rl(a,h,p,_,V){if(Array.isArray(h)){for(var F=0;F<h.length;F++)Rl(a,h[F],p,_,V);return null}return p=Lo(p),a&&a[Xt]?a.K(h,p,u(_)?!!_.capture:!!_,V):Sd(a,h,p,!1,_,V)}function Sd(a,h,p,_,V,F){if(!h)throw Error("Invalid event type");var W=u(V)?!!V.capture:!!V,Ve=An(a);if(Ve||(a[No]=Ve=new ct(a)),p=Ve.add(h,p,_,W,F),p.proxy)return p;if(_=Al(),p.proxy=_,_.src=a,_.listener=p,a.addEventListener)Xe||(V=W),V===void 0&&(V=!1),a.addEventListener(h.toString(),_,V);else if(a.attachEvent)a.attachEvent(Nl(h.toString()),_);else if(a.addListener&&a.removeListener)a.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Al(){function a(p){return h.call(a.src,a.listener,p)}const h=bd;return a}function Pl(a,h,p,_,V){if(Array.isArray(h))for(var F=0;F<h.length;F++)Pl(a,h[F],p,_,V);else _=u(_)?!!_.capture:!!_,p=Lo(p),a&&a[Xt]?(a=a.i,h=String(h).toString(),h in a.g&&(F=a.g[h],p=gs(F,p,_,V),-1<p&&(ms(F[p]),Array.prototype.splice.call(F,p,1),F.length==0&&(delete a.g[h],a.h--)))):a&&(a=An(a))&&(h=a.g[h.toString()],a=-1,h&&(a=gs(h,p,_,V)),(p=-1<a?h[a]:null)&&Do(p))}function Do(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[Xt])zn(h.i,a);else{var p=a.type,_=a.proxy;h.removeEventListener?h.removeEventListener(p,_,a.capture):h.detachEvent?h.detachEvent(Nl(p),_):h.addListener&&h.removeListener&&h.removeListener(_),(p=An(h))?(zn(p,a),p.h==0&&(p.src=null,h[No]=null)):ms(a)}}}function Nl(a){return a in Rn?Rn[a]:Rn[a]="on"+a}function bd(a,h){if(a.da)a=!0;else{h=new st(h,this);var p=a.listener,_=a.ha||a.src;a.fa&&Do(a),a=p.call(_,h)}return a}function An(a){return a=a[No],a instanceof ct?a:null}var ir="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lo(a){return typeof a=="function"?a:(a[ir]||(a[ir]=function(h){return a.handleEvent(h)}),a[ir])}function ut(){ce.call(this),this.i=new ct(this),this.M=this,this.F=null}k(ut,ce),ut.prototype[Xt]=!0,ut.prototype.removeEventListener=function(a,h,p,_){Pl(this,a,h,p,_)};function We(a,h){var p,_=a.F;if(_)for(p=[];_;_=_.F)p.push(_);if(a=a.M,_=h.type||h,typeof h=="string")h=new Pe(h,a);else if(h instanceof Pe)h.target=h.target||a;else{var V=h;h=new Pe(_,a),I(h,V)}if(V=!0,p)for(var F=p.length-1;0<=F;F--){var W=h.g=p[F];V=Jt(W,_,!0,h)&&V}if(W=h.g=a,V=Jt(W,_,!0,h)&&V,V=Jt(W,_,!1,h)&&V,p)for(F=0;F<p.length;F++)W=h.g=p[F],V=Jt(W,_,!1,h)&&V}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var p=a.g[h],_=0;_<p.length;_++)ms(p[_]);delete a.g[h],a.h--}}this.F=null},ut.prototype.K=function(a,h,p,_){return this.i.add(String(a),h,!1,p,_)},ut.prototype.L=function(a,h,p,_){return this.i.add(String(a),h,!0,p,_)};function Jt(a,h,p,_){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var V=!0,F=0;F<h.length;++F){var W=h[F];if(W&&!W.da&&W.capture==p){var Ve=W.listener,xt=W.ha||W.src;W.fa&&zn(a.i,W),V=Ve.call(xt,_)!==!1&&V}}return V&&!_.defaultPrevented}function jo(a,h,p){if(typeof a=="function")p&&(a=g(a,p));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function Ai(a){a.g=jo(()=>{a.g=null,a.i&&(a.i=!1,Ai(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class kd extends ce{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Ai(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zt(a){ce.call(this),this.h=a,this.g={}}k(Zt,ce);var Mo=[];function Vo(a){A(a.g,function(h,p){this.g.hasOwnProperty(p)&&Do(h)},a),a.g={}}Zt.prototype.N=function(){Zt.aa.N.call(this),Vo(this)},Zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vs=l.JSON.stringify,Cd=l.JSON.parse,Dl=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Lr(){}Lr.prototype.h=null;function Oo(a){return a.h||(a.h=a.i())}function ys(){}var sr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fo(){Pe.call(this,"d")}k(Fo,Pe);function _s(){Pe.call(this,"c")}k(_s,Pe);var or={},Uo=null;function ar(){return Uo=Uo||new ut}or.La="serverreachability";function Pi(a){Pe.call(this,or.La,a)}k(Pi,Pe);function Ni(a){const h=ar();We(h,new Pi(h))}or.STAT_EVENT="statevent";function Ll(a,h){Pe.call(this,or.STAT_EVENT,a),this.stat=h}k(Ll,Pe);function R(a){const h=ar();We(h,new Ll(h,a))}or.Ma="timingevent";function j(a,h){Pe.call(this,or.Ma,a),this.size=h}k(j,Pe);function O(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function z(){this.g=!0}z.prototype.xa=function(){this.g=!1};function K(a,h,p,_,V,F){a.info(function(){if(a.g)if(F)for(var W="",Ve=F.split("&"),xt=0;xt<Ve.length;xt++){var Re=Ve[xt].split("=");if(1<Re.length){var Pt=Re[0];Re=Re[1];var Nt=Pt.split("_");W=2<=Nt.length&&Nt[1]=="type"?W+(Pt+"="+Re+"&"):W+(Pt+"=redacted&")}}else W=null;else W=F;return"XMLHTTP REQ ("+_+") [attempt "+V+"]: "+h+`
`+p+`
`+W})}function ne(a,h,p,_,V,F,W){a.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+V+"]: "+h+`
`+p+`
`+F+" "+W})}function oe(a,h,p,_){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+J(a,p)+(_?" "+_:"")})}function X(a,h){a.info(function(){return"TIMEOUT: "+h})}z.prototype.info=function(){};function J(a,h){if(!a.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(a=0;a<p.length;a++)if(Array.isArray(p[a])){var _=p[a];if(!(2>_.length)){var V=_[1];if(Array.isArray(V)&&!(1>V.length)){var F=V[0];if(F!="noop"&&F!="stop"&&F!="close")for(var W=1;W<V.length;W++)V[W]=""}}}}return vs(p)}catch{return h}}var G={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},te={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ve;function ye(){}k(ye,Lr),ye.prototype.g=function(){return new XMLHttpRequest},ye.prototype.i=function(){return{}},ve=new ye;function Oe(a,h,p,_){this.j=a,this.i=h,this.l=p,this.R=_||1,this.U=new Zt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ne}function Ne(){this.i=null,this.g="",this.h=!1}var be={},Fe={};function Bn(a,h,p){a.L=1,a.v=Ol(cr(h)),a.m=p,a.P=!0,jr(a,null)}function jr(a,h){a.F=Date.now(),Mr(a),a.A=cr(a.v);var p=a.A,_=a.R;Array.isArray(_)||(_=[String(_)]),Zm(p.i,"t",_),a.C=0,p=a.j.J,a.h=new Ne,a.g=vg(a.j,p?h:null,!a.m),0<a.O&&(a.M=new kd(g(a.Y,a,a.g),a.O)),h=a.U,p=a.g,_=a.ca;var V="readystatechange";Array.isArray(V)||(V&&(Mo[0]=V.toString()),V=Mo);for(var F=0;F<V.length;F++){var W=Rl(p,V[F],_||h.handleEvent,!1,h.h||h);if(!W)break;h.g[W.key]=W}h=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),Ni(),K(a.i,a.u,a.A,a.l,a.R,a.m)}Oe.prototype.ca=function(a){a=a.target;const h=this.M;h&&ur(a)==3?h.j():this.Y(a)},Oe.prototype.Y=function(a){try{if(a==this.g)e:{const Nt=ur(this.g);var h=this.g.Ba();const Ts=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||og(this.g)))){this.J||Nt!=4||h==7||(h==8||0>=Ts?Ni(3):Ni(2)),Pn(this);var p=this.g.Z();this.X=p;t:if(_n(this)){var _=og(this.g);a="";var V=_.length,F=ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xn(this),$n(this);var W="";break t}this.h.i=new l.TextDecoder}for(h=0;h<V;h++)this.h.h=!0,a+=this.h.i.decode(_[h],{stream:!(F&&h==V-1)});_.length=0,this.h.g+=a,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=p==200,ne(this.i,this.u,this.A,this.l,this.R,Nt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,xt=this.g;if((Ve=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ve)){var Re=Ve;break t}}Re=null}if(p=Re)oe(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ee(this,p);else{this.o=!1,this.s=3,R(12),xn(this),$n(this);break e}}if(this.P){p=!0;let Nn;for(;!this.J&&this.C<W.length;)if(Nn=wn(this,W),Nn==Fe){Nt==4&&(this.s=4,R(14),p=!1),oe(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==be){this.s=4,R(15),oe(this.i,this.l,W,"[Invalid Chunk]"),p=!1;break}else oe(this.i,this.l,Nn,null),Ee(this,Nn);if(_n(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||W.length!=0||this.h.h||(this.s=1,R(16),p=!1),this.o=this.o&&p,!p)oe(this.i,this.l,W,"[Invalid Chunked Response]"),xn(this),$n(this);else if(0<W.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Nd(Pt),Pt.M=!0,R(11))}}else oe(this.i,this.l,W,null),Ee(this,W);Nt==4&&xn(this),this.o&&!this.J&&(Nt==4?fg(this.j,this):(this.o=!1,Mr(this)))}else gE(this.g),p==400&&0<W.indexOf("Unknown SID")?(this.s=3,R(12)):(this.s=0,R(13)),xn(this),$n(this)}}}catch{}finally{}};function _n(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function wn(a,h){var p=a.C,_=h.indexOf(`
`,p);return _==-1?Fe:(p=Number(h.substring(p,_)),isNaN(p)?be:(_+=1,_+p>h.length?Fe:(h=h.slice(_,_+p),a.C=_+p,h)))}Oe.prototype.cancel=function(){this.J=!0,xn(this)};function Mr(a){a.S=Date.now()+a.I,Vr(a,a.I)}function Vr(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=O(g(a.ba,a),h)}function Pn(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Oe.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(X(this.i,this.A),this.L!=2&&(Ni(),R(17)),xn(this),this.s=2,$n(this)):Vr(this,this.S-a)};function $n(a){a.j.G==0||a.J||fg(a.j,a)}function xn(a){Pn(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,Vo(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function Ee(a,h){try{var p=a.j;if(p.G!=0&&(p.g==a||Hn(p.h,a))){if(!a.K&&Hn(p.h,a)&&p.G==3){try{var _=p.Da.g.parse(h)}catch{_=null}if(Array.isArray(_)&&_.length==3){var V=_;if(V[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<a.F)Hl(p),Bl(p);else break e;Pd(p),R(18)}}else p.za=V[1],0<p.za-p.T&&37500>V[2]&&p.F&&p.v==0&&!p.C&&(p.C=O(g(p.Za,p),6e3));if(1>=Je(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Li(p,11)}else if((a.K||p.g==a)&&Hl(p),!y(h))for(V=p.Da.g.parse(h),h=0;h<V.length;h++){let Re=V[h];if(p.T=Re[0],Re=Re[1],p.G==2)if(Re[0]=="c"){p.K=Re[1],p.ia=Re[2];const Pt=Re[3];Pt!=null&&(p.la=Pt,p.j.info("VER="+p.la));const Nt=Re[4];Nt!=null&&(p.Aa=Nt,p.j.info("SVER="+p.Aa));const Ts=Re[5];Ts!=null&&typeof Ts=="number"&&0<Ts&&(_=1.5*Ts,p.L=_,p.j.info("backChannelRequestTimeoutMs_="+_)),_=p;const Nn=a.g;if(Nn){const Wl=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wl){var F=_.h;F.g||Wl.indexOf("spdy")==-1&&Wl.indexOf("quic")==-1&&Wl.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(ws(F,F.h),F.h=null))}if(_.D){const Dd=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;Dd&&(_.ya=Dd,Be(_.I,_.D,Dd))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-a.F,p.j.info("Handshake RTT: "+p.R+"ms")),_=p;var W=a;if(_.qa=gg(_,_.J?_.ia:null,_.W),W.K){jl(_.h,W);var Ve=W,xt=_.L;xt&&(Ve.I=xt),Ve.B&&(Pn(Ve),Mr(Ve)),_.g=W}else dg(_);0<p.i.length&&$l(p)}else Re[0]!="stop"&&Re[0]!="close"||Li(p,7);else p.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?Li(p,7):Ad(p):Re[0]!="noop"&&p.l&&p.l.ta(Re),p.v=0)}}Ni(4)}catch{}}var Ge=class{constructor(a,h){this.g=a,this.map=h}};function lr(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Or(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Je(a){return a.h?1:a.g?a.g.size:0}function Hn(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function ws(a,h){a.g?a.g.add(h):a.h=h}function jl(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}lr.prototype.cancel=function(){if(this.i=Wm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Wm(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const p of a.g.values())h=h.concat(p.D);return h}return C(a.i)}function tE(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var h=[],p=a.length,_=0;_<p;_++)h.push(a[_]);return h}h=[],p=0;for(_ in a)h[p++]=a[_];return h}function nE(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var h=[];a=a.length;for(var p=0;p<a;p++)h.push(p);return h}h=[],p=0;for(const _ in a)h[p++]=_;return h}}}function Gm(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var p=nE(a),_=tE(a),V=_.length,F=0;F<V;F++)h.call(void 0,_[F],p&&p[F],a)}var Km=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rE(a,h){if(a){a=a.split("&");for(var p=0;p<a.length;p++){var _=a[p].indexOf("="),V=null;if(0<=_){var F=a[p].substring(0,_);V=a[p].substring(_+1)}else F=a[p];h(F,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Di(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Di){this.h=a.h,Ml(this,a.j),this.o=a.o,this.g=a.g,Vl(this,a.s),this.l=a.l;var h=a.i,p=new $o;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),Qm(this,p),this.m=a.m}else a&&(h=String(a).match(Km))?(this.h=!1,Ml(this,h[1]||"",!0),this.o=zo(h[2]||""),this.g=zo(h[3]||"",!0),Vl(this,h[4]),this.l=zo(h[5]||"",!0),Qm(this,h[6]||"",!0),this.m=zo(h[7]||"")):(this.h=!1,this.i=new $o(null,this.h))}Di.prototype.toString=function(){var a=[],h=this.j;h&&a.push(Bo(h,Ym,!0),":");var p=this.g;return(p||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Bo(h,Ym,!0),"@"),a.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&a.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(Bo(p,p.charAt(0)=="/"?oE:sE,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",Bo(p,lE)),a.join("")};function cr(a){return new Di(a)}function Ml(a,h,p){a.j=p?zo(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Vl(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function Qm(a,h,p){h instanceof $o?(a.i=h,cE(a.i,a.h)):(p||(h=Bo(h,aE)),a.i=new $o(h,a.h))}function Be(a,h,p){a.i.set(h,p)}function Ol(a){return Be(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function zo(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Bo(a,h,p){return typeof a=="string"?(a=encodeURI(a).replace(h,iE),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function iE(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Ym=/[#\/\?@]/g,sE=/[#\?:]/g,oE=/[#\?]/g,aE=/[#\?@]/g,lE=/#/g;function $o(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Fr(a){a.g||(a.g=new Map,a.h=0,a.i&&rE(a.i,function(h,p){a.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=$o.prototype,t.add=function(a,h){Fr(this),this.i=null,a=xs(this,a);var p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(h),this.h+=1,this};function Xm(a,h){Fr(a),h=xs(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function Jm(a,h){return Fr(a),h=xs(a,h),a.g.has(h)}t.forEach=function(a,h){Fr(this),this.g.forEach(function(p,_){p.forEach(function(V){a.call(h,V,_,this)},this)},this)},t.na=function(){Fr(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let _=0;_<h.length;_++){const V=a[_];for(let F=0;F<V.length;F++)p.push(h[_])}return p},t.V=function(a){Fr(this);let h=[];if(typeof a=="string")Jm(this,a)&&(h=h.concat(this.g.get(xs(this,a))));else{a=Array.from(this.g.values());for(let p=0;p<a.length;p++)h=h.concat(a[p])}return h},t.set=function(a,h){return Fr(this),this.i=null,a=xs(this,a),Jm(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function Zm(a,h,p){Xm(a,h),0<p.length&&(a.i=null,a.g.set(xs(a,h),C(p)),a.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var _=h[p];const F=encodeURIComponent(String(_)),W=this.V(_);for(_=0;_<W.length;_++){var V=F;W[_]!==""&&(V+="="+encodeURIComponent(String(W[_]))),a.push(V)}}return this.i=a.join("&")};function xs(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function cE(a,h){h&&!a.j&&(Fr(a),a.i=null,a.g.forEach(function(p,_){var V=_.toLowerCase();_!=V&&(Xm(this,_),Zm(this,V,p))},a)),a.j=h}function uE(a,h){const p=new z;if(l.Image){const _=new Image;_.onload=w(Ur,p,"TestLoadImage: loaded",!0,h,_),_.onerror=w(Ur,p,"TestLoadImage: error",!1,h,_),_.onabort=w(Ur,p,"TestLoadImage: abort",!1,h,_),_.ontimeout=w(Ur,p,"TestLoadImage: timeout",!1,h,_),l.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=a}else h(!1)}function dE(a,h){const p=new z,_=new AbortController,V=setTimeout(()=>{_.abort(),Ur(p,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:_.signal}).then(F=>{clearTimeout(V),F.ok?Ur(p,"TestPingServer: ok",!0,h):Ur(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(V),Ur(p,"TestPingServer: error",!1,h)})}function Ur(a,h,p,_,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),_(p)}catch{}}function hE(){this.g=new Dl}function fE(a,h,p){const _=p||"";try{Gm(a,function(V,F){let W=V;u(V)&&(W=vs(V)),h.push(_+F+"="+encodeURIComponent(W))})}catch(V){throw h.push(_+"type="+encodeURIComponent("_badmap")),V}}function Fl(a){this.l=a.Ub||null,this.j=a.eb||!1}k(Fl,Lr),Fl.prototype.g=function(){return new Ul(this.l,this.j)},Fl.prototype.i=function(a){return function(){return a}}({});function Ul(a,h){ut.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Ul,ut),t=Ul.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,qo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ho(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,qo(this)),this.g&&(this.readyState=3,qo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;eg(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function eg(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Ho(this):qo(this),this.readyState==3&&eg(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Ho(this))},t.Qa=function(a){this.g&&(this.response=a,Ho(this))},t.ga=function(){this.g&&Ho(this)};function Ho(a){a.readyState=4,a.l=null,a.j=null,a.v=null,qo(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=h.next();return a.join(`\r
`)};function qo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ul.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function tg(a){let h="";return A(a,function(p,_){h+=_,h+=":",h+=p,h+=`\r
`}),h}function Rd(a,h,p){e:{for(_ in p){var _=!1;break e}_=!0}_||(p=tg(p),typeof a=="string"?p!=null&&encodeURIComponent(String(p)):Be(a,h,p))}function rt(a){ut.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(rt,ut);var pE=/^https?$/i,mE=["POST","PUT"];t=rt.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,p,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ve.g(),this.v=this.o?Oo(this.o):Oo(ve),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(F){ng(this,F);return}if(a=p||"",p=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var V in _)p.set(V,_[V]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const F of _.keys())p.set(F,_.get(F));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(p.keys()).find(F=>F.toLowerCase()=="content-type"),V=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(mE,h,void 0))||_||V||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,W]of p)this.g.setRequestHeader(F,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sg(this),this.u=!0,this.g.send(a),this.u=!1}catch(F){ng(this,F)}};function ng(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,rg(a),zl(a)}function rg(a){a.A||(a.A=!0,We(a,"complete"),We(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,We(this,"complete"),We(this,"abort"),zl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zl(this,!0)),rt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ig(this):this.bb())},t.bb=function(){ig(this)};function ig(a){if(a.h&&typeof o<"u"&&(!a.v[1]||ur(a)!=4||a.Z()!=2)){if(a.u&&ur(a)==4)jo(a.Ea,0,a);else if(We(a,"readystatechange"),ur(a)==4){a.h=!1;try{const W=a.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var _;if(_=W===0){var V=String(a.D).match(Km)[1]||null;!V&&l.self&&l.self.location&&(V=l.self.location.protocol.slice(0,-1)),_=!pE.test(V?V.toLowerCase():"")}p=_}if(p)We(a,"complete"),We(a,"success");else{a.m=6;try{var F=2<ur(a)?a.g.statusText:""}catch{F=""}a.l=F+" ["+a.Z()+"]",rg(a)}}finally{zl(a)}}}}function zl(a,h){if(a.g){sg(a);const p=a.g,_=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||We(a,"ready");try{p.onreadystatechange=_}catch{}}}function sg(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function ur(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<ur(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),Cd(h)}};function og(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function gE(a){const h={};a=(a.g&&2<=ur(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<a.length;_++){if(y(a[_]))continue;var p=P(a[_]);const V=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const F=h[V]||[];h[V]=F,F.push(p)}T(h,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wo(a,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||h}function ag(a){this.Aa=0,this.i=[],this.j=new z,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wo("baseRetryDelayMs",5e3,a),this.cb=Wo("retryDelaySeedMs",1e4,a),this.Wa=Wo("forwardChannelMaxRetries",2,a),this.wa=Wo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new lr(a&&a.concurrentRequestLimit),this.Da=new hE,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ag.prototype,t.la=8,t.G=1,t.connect=function(a,h,p,_){R(0),this.W=a,this.H=h||{},p&&_!==void 0&&(this.H.OSID=p,this.H.OAID=_),this.F=this.X,this.I=gg(this,null,this.W),$l(this)};function Ad(a){if(lg(a),a.G==3){var h=a.U++,p=cr(a.I);if(Be(p,"SID",a.K),Be(p,"RID",h),Be(p,"TYPE","terminate"),Go(a,p),h=new Oe(a,a.j,h),h.L=2,h.v=Ol(cr(p)),p=!1,l.navigator&&l.navigator.sendBeacon)try{p=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&l.Image&&(new Image().src=h.v,p=!0),p||(h.g=vg(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Mr(h)}mg(a)}function Bl(a){a.g&&(Nd(a),a.g.cancel(),a.g=null)}function lg(a){Bl(a),a.u&&(l.clearTimeout(a.u),a.u=null),Hl(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function $l(a){if(!Or(a.h)&&!a.s){a.s=!0;var h=a.Ga;he||ee(),q||(he(),q=!0),Y.add(h,a),a.B=0}}function vE(a,h){return Je(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=O(g(a.Ga,a,h),pg(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const V=new Oe(this,this.j,a);let F=this.o;if(this.S&&(F?(F=v(F),I(F,this.S)):F=this.S),this.m!==null||this.O||(V.H=F,F=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var _=this.i[p];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(h+=_,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=ug(this,V,h),p=cr(this.I),Be(p,"RID",a),Be(p,"CVER",22),this.D&&Be(p,"X-HTTP-Session-Id",this.D),Go(this,p),F&&(this.O?h="headers="+encodeURIComponent(String(tg(F)))+"&"+h:this.m&&Rd(p,this.m,F)),ws(this.h,V),this.Ua&&Be(p,"TYPE","init"),this.P?(Be(p,"$req",h),Be(p,"SID","null"),V.T=!0,Bn(V,p,null)):Bn(V,p,h),this.G=2}}else this.G==3&&(a?cg(this,a):this.i.length==0||Or(this.h)||cg(this))};function cg(a,h){var p;h?p=h.l:p=a.U++;const _=cr(a.I);Be(_,"SID",a.K),Be(_,"RID",p),Be(_,"AID",a.T),Go(a,_),a.m&&a.o&&Rd(_,a.m,a.o),p=new Oe(a,a.j,p,a.B+1),a.m===null&&(p.H=a.o),h&&(a.i=h.D.concat(a.i)),h=ug(a,p,1e3),p.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),ws(a.h,p),Bn(p,_,h)}function Go(a,h){a.H&&A(a.H,function(p,_){Be(h,_,p)}),a.l&&Gm({},function(p,_){Be(h,_,p)})}function ug(a,h,p){p=Math.min(a.i.length,p);var _=a.l?g(a.l.Na,a.l,a):null;e:{var V=a.i;let F=-1;for(;;){const W=["count="+p];F==-1?0<p?(F=V[0].g,W.push("ofs="+F)):F=0:W.push("ofs="+F);let Ve=!0;for(let xt=0;xt<p;xt++){let Re=V[xt].g;const Pt=V[xt].map;if(Re-=F,0>Re)F=Math.max(0,V[xt].g-100),Ve=!1;else try{fE(Pt,W,"req"+Re+"_")}catch{_&&_(Pt)}}if(Ve){_=W.join("&");break e}}}return a=a.i.splice(0,p),h.D=a,_}function dg(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;he||ee(),q||(he(),q=!0),Y.add(h,a),a.v=0}}function Pd(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=O(g(a.Fa,a),pg(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,hg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=O(g(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,R(10),Bl(this),hg(this))};function Nd(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function hg(a){a.g=new Oe(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=cr(a.qa);Be(h,"RID","rpc"),Be(h,"SID",a.K),Be(h,"AID",a.T),Be(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&Be(h,"TO",a.ja),Be(h,"TYPE","xmlhttp"),Go(a,h),a.m&&a.o&&Rd(h,a.m,a.o),a.L&&(a.g.I=a.L);var p=a.g;a=a.ia,p.L=1,p.v=Ol(cr(h)),p.m=null,p.P=!0,jr(p,a)}t.Za=function(){this.C!=null&&(this.C=null,Bl(this),Pd(this),R(19))};function Hl(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function fg(a,h){var p=null;if(a.g==h){Hl(a),Nd(a),a.g=null;var _=2}else if(Hn(a.h,h))p=h.D,jl(a.h,h),_=1;else return;if(a.G!=0){if(h.o)if(_==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var V=a.B;_=ar(),We(_,new j(_,p)),$l(a)}else dg(a);else if(V=h.s,V==3||V==0&&0<h.X||!(_==1&&vE(a,h)||_==2&&Pd(a)))switch(p&&0<p.length&&(h=a.h,h.i=h.i.concat(p)),V){case 1:Li(a,5);break;case 4:Li(a,10);break;case 3:Li(a,6);break;default:Li(a,2)}}}function pg(a,h){let p=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(p*=2),p*h}function Li(a,h){if(a.j.info("Error code "+h),h==2){var p=g(a.fb,a),_=a.Xa;const V=!_;_=new Di(_||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ml(_,"https"),Ol(_),V?uE(_.toString(),p):dE(_.toString(),p)}else R(2);a.G=0,a.l&&a.l.sa(h),mg(a),lg(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),R(2)):(this.j.info("Failed to ping google.com"),R(1))};function mg(a){if(a.G=0,a.ka=[],a.l){const h=Wm(a.h);(h.length!=0||a.i.length!=0)&&(L(a.ka,h),L(a.ka,a.i),a.h.i.length=0,C(a.i),a.i.length=0),a.l.ra()}}function gg(a,h,p){var _=p instanceof Di?cr(p):new Di(p);if(_.g!="")h&&(_.g=h+"."+_.g),Vl(_,_.s);else{var V=l.location;_=V.protocol,h=h?h+"."+V.hostname:V.hostname,V=+V.port;var F=new Di(null);_&&Ml(F,_),h&&(F.g=h),V&&Vl(F,V),p&&(F.l=p),_=F}return p=a.D,h=a.ya,p&&h&&Be(_,p,h),Be(_,"VER",a.la),Go(a,_),_}function vg(a,h,p){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new rt(new Fl({eb:p})):new rt(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yg(){}t=yg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ql(){}ql.prototype.g=function(a,h){return new ln(a,h)};function ln(a,h){ut.call(this),this.g=new ag(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!y(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!y(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Es(this)}k(ln,ut),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Ad(this.g)},ln.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.u&&(p={},p.__data__=vs(a),a=p);h.i.push(new Ge(h.Ya++,a)),h.G==3&&$l(h)},ln.prototype.N=function(){this.g.l=null,delete this.j,Ad(this.g),delete this.g,ln.aa.N.call(this)};function _g(a){Fo.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const p in h){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}k(_g,Fo);function wg(){_s.call(this),this.status=1}k(wg,_s);function Es(a){this.g=a}k(Es,yg),Es.prototype.ua=function(){We(this.g,"a")},Es.prototype.ta=function(a){We(this.g,new _g(a))},Es.prototype.sa=function(a){We(this.g,new wg)},Es.prototype.ra=function(){We(this.g,"b")},ql.prototype.createWebChannel=ql.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,Rw=function(){return new ql},Cw=function(){return ar()},kw=or,Sf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},G.NO_ERROR=0,G.TIMEOUT=8,G.HTTP_ERROR=6,Ac=G,te.COMPLETE="complete",bw=te,ys.EventType=sr,sr.OPEN="a",sr.CLOSE="b",sr.ERROR="c",sr.MESSAGE="d",ut.prototype.listen=ut.prototype.K,va=ys,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,Sw=rt}).apply(typeof dc<"u"?dc:typeof self<"u"?self:typeof window<"u"?window:{});const c0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new Gp("@firebase/firestore");function sa(){return is.logLevel}function Z(t,...e){if(is.logLevel<=Se.DEBUG){const n=e.map(Yp);is.debug(`Firestore (${Io}): ${t}`,...n)}}function Cr(t,...e){if(is.logLevel<=Se.ERROR){const n=e.map(Yp);is.error(`Firestore (${Io}): ${t}`,...n)}}function uo(t,...e){if(is.logLevel<=Se.WARN){const n=e.map(Yp);is.warn(`Firestore (${Io}): ${t}`,...n)}}function Yp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t="Unexpected state"){const e=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: `+t;throw Cr(e),new Error(e)}function Le(t,e){t||le()}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends Dr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class i4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vt.UNAUTHENTICATED))}shutdown(){}}class s4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class o4{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Le(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Er,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Er)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string"),new Aw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string"),new Vt(e)}}class a4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class l4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new a4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class c4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Le(this.o===void 0);const r=s=>{s.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le(typeof n.token=="string"),this.R=n.token,new c4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=d4(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ae(t,e){return t<e?-1:t>e?1:0}function ho(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new re(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return we.fromMillis(Date.now())}static fromDate(e){return we.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new we(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new we(0,0))}static max(){return new ue(new we(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(),r===void 0?r=e.length-n:r>e.length-n&&le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return nl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof nl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ye extends nl{construct(e,n,r){return new Ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ye(n)}static emptyPath(){return new Ye([])}}const h4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends nl{construct(e,n,r){return new St(e,n,r)}static isValidIdentifier(e){return h4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new St(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new re(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new re(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new re(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new re(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(n)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(Ye.fromString(e))}static fromName(e){return new se(Ye.fromString(e).popFirst(5))}static empty(){return new se(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new Ye(e.slice()))}}function f4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new we(n+1,0):new we(n,r));return new xi(i,se.empty(),e)}function p4(t){return new xi(t.readTime,t.key,-1)}class xi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xi(ue.min(),se.empty(),-1)}static max(){return new xi(ue.max(),se.empty(),-1)}}function m4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:Ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class v4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==g4)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(f=>{o[u]=f,++l,l===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function y4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Xp.oe=-1;function ed(t){return t==null}function gu(t){return t===0&&1/t==-1/0}function _4(t){return typeof t=="number"&&Number.isInteger(t)&&!gu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Nw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||It.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,It.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,It.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hc(this.root,e,this.comparator,!0)}}class hc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class It{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??It.RED,this.left=i??It.EMPTY,this.right=s??It.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new It(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return It.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return It.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}}It.EMPTY=null,It.RED=!0,It.BLACK=!1;It.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(e,n,r,i,s){return this}insert(e,n,r){return new It(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new d0(this.data.getIterator())}getIteratorFrom(e){return new d0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class d0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new pn([])}unionWith(e){let n=new kt(St.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Dw("Invalid base64 string: "+s):s}}(e);return new Rt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const w4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ei(t){if(Le(!!t),typeof t=="string"){let e=0;const n=w4.exec(t);if(Le(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ot(t.seconds),nanos:ot(t.nanos)}}function ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ss(t){return typeof t=="string"?Rt.fromBase64String(t):Rt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Zp(t){const e=t.mapValue.fields.__previous_value__;return Jp(e)?Zp(e):e}function rl(t){const e=Ei(t.mapValue.fields.__local_write_time__.timestampValue);return new we(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e,n,r,i,s,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}class il{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new il("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof il&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function os(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jp(t)?4:T4(t)?9007199254740991:E4(t)?10:11:le()}function tr(t,e){if(t===e)return!0;const n=os(t);if(n!==os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rl(t).isEqual(rl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ei(i.timestampValue),l=Ei(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ss(i.bytesValue).isEqual(ss(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ot(i.geoPointValue.latitude)===ot(s.geoPointValue.latitude)&&ot(i.geoPointValue.longitude)===ot(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ot(i.integerValue)===ot(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ot(i.doubleValue),l=ot(s.doubleValue);return o===l?gu(o)===gu(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return ho(t.arrayValue.values||[],e.arrayValue.values||[],tr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(u0(o)!==u0(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!tr(o[c],l[c])))return!1;return!0}(t,e);default:return le()}}function sl(t,e){return(t.values||[]).find(n=>tr(n,e))!==void 0}function fo(t,e){if(t===e)return 0;const n=os(t),r=os(e);if(n!==r)return Ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=ot(s.integerValue||s.doubleValue),c=ot(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return h0(t.timestampValue,e.timestampValue);case 4:return h0(rl(t),rl(e));case 5:return Ae(t.stringValue,e.stringValue);case 6:return function(s,o){const l=ss(s),c=ss(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const f=Ae(l[u],c[u]);if(f!==0)return f}return Ae(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Ae(ot(s.latitude),ot(o.latitude));return l!==0?l:Ae(ot(s.longitude),ot(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return f0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,c,u,f;const m=s.fields||{},g=o.fields||{},w=(l=m.value)===null||l===void 0?void 0:l.arrayValue,k=(c=g.value)===null||c===void 0?void 0:c.arrayValue,C=Ae(((u=w==null?void 0:w.values)===null||u===void 0?void 0:u.length)||0,((f=k==null?void 0:k.values)===null||f===void 0?void 0:f.length)||0);return C!==0?C:f0(w,k)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===fc.mapValue&&o===fc.mapValue)return 0;if(s===fc.mapValue)return 1;if(o===fc.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),u=o.fields||{},f=Object.keys(u);c.sort(),f.sort();for(let m=0;m<c.length&&m<f.length;++m){const g=Ae(c[m],f[m]);if(g!==0)return g;const w=fo(l[c[m]],u[f[m]]);if(w!==0)return w}return Ae(c.length,f.length)}(t.mapValue,e.mapValue);default:throw le()}}function h0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ae(t,e);const n=Ei(t),r=Ei(e),i=Ae(n.seconds,r.seconds);return i!==0?i:Ae(n.nanos,r.nanos)}function f0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=fo(n[i],r[i]);if(s)return s}return Ae(n.length,r.length)}function po(t){return bf(t)}function bf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ei(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ss(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=bf(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${bf(n.fields[o])}`;return i+"}"}(t.mapValue):le()}function kf(t){return!!t&&"integerValue"in t}function em(t){return!!t&&"arrayValue"in t}function p0(t){return!!t&&"nullValue"in t}function m0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pc(t){return!!t&&"mapValue"in t}function E4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Aa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return fs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Aa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Aa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function T4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Aa(n)}setAll(e){let n=St.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Aa(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Pc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Pc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){fs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new nn(Aa(this.value))}}function Lw(t){const e=[];return fs(t.fields,(n,r)=>{const i=new St([n]);if(Pc(r)){const s=Lw(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Ft(e,0,ue.min(),ue.min(),ue.min(),nn.empty(),0)}static newFoundDocument(e,n,r,i){return new Ft(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new Ft(e,2,n,ue.min(),ue.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,ue.min(),ue.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n){this.position=e,this.inclusive=n}}function g0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=fo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function v0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!tr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n="asc"){this.field=e,this.dir=n}}function I4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{}class gt extends jw{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new b4(e,n,r):n==="array-contains"?new R4(e,r):n==="in"?new A4(e,r):n==="not-in"?new P4(e,r):n==="array-contains-any"?new N4(e,r):new gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new k4(e,r):new C4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(fo(n,this.value)):n!==null&&os(this.value)===os(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends jw{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new nr(e,n)}matches(e){return Mw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Mw(t){return t.op==="and"}function Vw(t){return S4(t)&&Mw(t)}function S4(t){for(const e of t.filters)if(e instanceof nr)return!1;return!0}function Cf(t){if(t instanceof gt)return t.field.canonicalString()+t.op.toString()+po(t.value);if(Vw(t))return t.filters.map(e=>Cf(e)).join(",");{const e=t.filters.map(n=>Cf(n)).join(",");return`${t.op}(${e})`}}function Ow(t,e){return t instanceof gt?function(r,i){return i instanceof gt&&r.op===i.op&&r.field.isEqual(i.field)&&tr(r.value,i.value)}(t,e):t instanceof nr?function(r,i){return i instanceof nr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&Ow(o,i.filters[l]),!0):!1}(t,e):void le()}function Fw(t){return t instanceof gt?function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`}(t):t instanceof nr?function(n){return n.op.toString()+" {"+n.getFilters().map(Fw).join(" ,")+"}"}(t):"Filter"}class b4 extends gt{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class k4 extends gt{constructor(e,n){super(e,"in",n),this.keys=Uw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class C4 extends gt{constructor(e,n){super(e,"not-in",n),this.keys=Uw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Uw(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class R4 extends gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return em(n)&&sl(n.arrayValue,this.value)}}class A4 extends gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&sl(this.value.arrayValue,n)}}class P4 extends gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(sl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!sl(this.value.arrayValue,n)}}class N4 extends gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!em(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>sl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function y0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new D4(t,e,n,r,i,s,o)}function tm(t){const e=de(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Cf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ed(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>po(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>po(r)).join(",")),e.ue=n}return e.ue}function nm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!I4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ow(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!v0(t.startAt,e.startAt)&&v0(t.endAt,e.endAt)}function Rf(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function L4(t,e,n,r,i,s,o,l){return new td(t,e,n,r,i,s,o,l)}function nd(t){return new td(t)}function _0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function j4(t){return t.collectionGroup!==null}function Pa(t){const e=de(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new kt(St.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new yu(s,r))}),n.has(St.keyField().canonicalString())||e.ce.push(new yu(St.keyField(),r))}return e.ce}function Yn(t){const e=de(t);return e.le||(e.le=M4(e,Pa(t))),e.le}function M4(t,e){if(t.limitType==="F")return y0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new yu(i.field,s)});const n=t.endAt?new vu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vu(t.startAt.position,t.startAt.inclusive):null;return y0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Af(t,e,n){return new td(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rd(t,e){return nm(Yn(t),Yn(e))&&t.limitType===e.limitType}function zw(t){return`${tm(Yn(t))}|lt:${t.limitType}`}function bs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Fw(i)).join(", ")}]`),ed(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>po(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>po(i)).join(",")),`Target(${r})`}(Yn(t))}; limitType=${t.limitType})`}function id(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):se.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Pa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const u=g0(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,Pa(r),i)||r.endAt&&!function(o,l,c){const u=g0(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,Pa(r),i))}(t,e)}function V4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Bw(t){return(e,n)=>{let r=!1;for(const i of Pa(t)){const s=O4(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function O4(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(s,o,l){const c=o.data.field(s),u=l.data.field(s);return c!==null&&u!==null?fo(c,u):le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Nw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=new nt(se.comparator);function Rr(){return F4}const $w=new nt(se.comparator);function ya(...t){let e=$w;for(const n of t)e=e.insert(n.key,n);return e}function Hw(t){let e=$w;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Hi(){return Na()}function qw(){return Na()}function Na(){return new So(t=>t.toString(),(t,e)=>t.isEqual(e))}const U4=new nt(se.comparator),z4=new kt(se.comparator);function Ie(...t){let e=z4;for(const n of t)e=e.add(n);return e}const B4=new kt(Ae);function $4(){return B4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gu(e)?"-0":e}}function Ww(t){return{integerValue:""+t}}function H4(t,e){return _4(e)?Ww(e):rm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(){this._=void 0}}function q4(t,e,n){return t instanceof _u?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Jp(s)&&(s=Zp(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof mo?Kw(t,e):t instanceof ol?Qw(t,e):function(i,s){const o=Gw(i,s),l=w0(o)+w0(i.Pe);return kf(o)&&kf(i.Pe)?Ww(l):rm(i.serializer,l)}(t,e)}function W4(t,e,n){return t instanceof mo?Kw(t,e):t instanceof ol?Qw(t,e):n}function Gw(t,e){return t instanceof wu?function(r){return kf(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class _u extends sd{}class mo extends sd{constructor(e){super(),this.elements=e}}function Kw(t,e){const n=Yw(e);for(const r of t.elements)n.some(i=>tr(i,r))||n.push(r);return{arrayValue:{values:n}}}class ol extends sd{constructor(e){super(),this.elements=e}}function Qw(t,e){let n=Yw(e);for(const r of t.elements)n=n.filter(i=>!tr(i,r));return{arrayValue:{values:n}}}class wu extends sd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function w0(t){return ot(t.integerValue||t.doubleValue)}function Yw(t){return em(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,n){this.field=e,this.transform=n}}function K4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof mo&&i instanceof mo||r instanceof ol&&i instanceof ol?ho(r.elements,i.elements,tr):r instanceof wu&&i instanceof wu?tr(r.Pe,i.Pe):r instanceof _u&&i instanceof _u}(t.transform,e.transform)}class Q4{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class od{}function Xw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zw(t.key,Xn.none()):new yl(t.key,t.data,Xn.none());{const n=t.data,r=nn.empty();let i=new kt(St.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ri(t.key,r,new pn(i.toArray()),Xn.none())}}function Y4(t,e,n){t instanceof yl?function(i,s,o){const l=i.value.clone(),c=E0(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Ri?function(i,s,o){if(!Nc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=E0(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(Jw(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Da(t,e,n,r){return t instanceof yl?function(s,o,l,c){if(!Nc(s.precondition,o))return l;const u=s.value.clone(),f=T0(s.fieldTransforms,c,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ri?function(s,o,l,c){if(!Nc(s.precondition,o))return l;const u=T0(s.fieldTransforms,c,o),f=o.data;return f.setAll(Jw(s)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,o,l){return Nc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function X4(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Gw(r.transform,i||null);s!=null&&(n===null&&(n=nn.empty()),n.set(r.field,s))}return n||null}function x0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ho(r,i,(s,o)=>K4(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yl extends od{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ri extends od{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Jw(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function E0(t,e,n){const r=new Map;Le(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,W4(o,l,n[i]))}return r}function T0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,q4(s,o,e))}return r}class Zw extends od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class J4 extends od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Y4(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Da(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Da(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=qw();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const c=Xw(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,(n,r)=>x0(n,r))&&ho(this.baseMutations,e.baseMutations,(n,r)=>x0(n,r))}}class im{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Le(e.mutations.length===r.length);let i=function(){return U4}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new im(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,ke;function nC(t){switch(t){default:return le();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function ex(t){if(t===void 0)return Cr("GRPC error has no .code"),B.UNKNOWN;switch(t){case dt.OK:return B.OK;case dt.CANCELLED:return B.CANCELLED;case dt.UNKNOWN:return B.UNKNOWN;case dt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case dt.INTERNAL:return B.INTERNAL;case dt.UNAVAILABLE:return B.UNAVAILABLE;case dt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case dt.NOT_FOUND:return B.NOT_FOUND;case dt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case dt.ABORTED:return B.ABORTED;case dt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case dt.DATA_LOSS:return B.DATA_LOSS;default:return le()}}(ke=dt||(dt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=new Qi([4294967295,4294967295],0);function I0(t){const e=rC().encode(t),n=new Iw;return n.update(e),new Uint8Array(n.digest())}function S0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Qi([n,r],0),new Qi([i,s],0)]}class sm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _a(`Invalid padding: ${n}`);if(r<0)throw new _a(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _a(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _a(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Qi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Qi.fromNumber(r)));return i.compare(iC)===1&&(i=new Qi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=I0(e),[r,i]=S0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new sm(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=I0(e),[r,i]=S0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class _a extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,_l.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ad(ue.min(),i,new nt(Ae),Rr(),Ie())}}class _l{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _l(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class tx{constructor(e,n){this.targetId=e,this.me=n}}class nx{constructor(e,n,r=Rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class b0{constructor(){this.fe=0,this.ge=C0(),this.pe=Rt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ie(),n=Ie(),r=Ie();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:le()}}),new _l(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=C0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Le(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class sC{constructor(e){this.Le=e,this.Be=new Map,this.ke=Rr(),this.qe=k0(),this.Qe=new nt(Ae)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Rf(s))if(r===0){const o=new se(s.path);this.Ue(n,o,Ft.newNoDocument(o,ue.min()))}else Le(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),c=l?this.Xe(l,e,o):1;if(c!==0){this.je(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=ss(r).toUint8Array()}catch(c){if(c instanceof Dw)return uo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new sm(o,i,s)}catch(c){return uo(c instanceof _a?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&Rf(l.target)){const c=new se(l.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,Ft.newNoDocument(c,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Ie();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new ad(e,n,this.Qe,this.ke,r);return this.ke=Rr(),this.qe=k0(),this.Qe=new nt(Ae),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new b0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new kt(Ae),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new b0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function k0(){return new nt(se.comparator)}function C0(){return new nt(se.comparator)}const oC={asc:"ASCENDING",desc:"DESCENDING"},aC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lC={and:"AND",or:"OR"};class cC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pf(t,e){return t.useProto3Json||ed(e)?e:{value:e}}function xu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uC(t,e){return xu(t,e.toTimestamp())}function Jn(t){return Le(!!t),ue.fromTimestamp(function(n){const r=Ei(n);return new we(r.seconds,r.nanos)}(t))}function om(t,e){return Nf(t,e).canonicalString()}function Nf(t,e){const n=function(i){return new Ye(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ix(t){const e=Ye.fromString(t);return Le(cx(e)),e}function Df(t,e){return om(t.databaseId,e.path)}function ph(t,e){const n=ix(e);if(n.get(1)!==t.databaseId.projectId)throw new re(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new re(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(ox(n))}function sx(t,e){return om(t.databaseId,e)}function dC(t){const e=ix(t);return e.length===4?Ye.emptyPath():ox(e)}function Lf(t){return new Ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ox(t){return Le(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function R0(t,e,n){return{name:Df(t,e),fields:n.value.mapValue.fields}}function hC(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,f){return u.useProto3Json?(Le(f===void 0||typeof f=="string"),Rt.fromBase64String(f||"")):(Le(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Rt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const f=u.code===void 0?B.UNKNOWN:ex(u.code);return new re(f,u.message||"")}(o);n=new nx(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ph(t,r.document.name),s=Jn(r.document.updateTime),o=r.document.createTime?Jn(r.document.createTime):ue.min(),l=new nn({mapValue:{fields:r.document.fields}}),c=Ft.newFoundDocument(i,s,o,l),u=r.targetIds||[],f=r.removedTargetIds||[];n=new Dc(u,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ph(t,r.document),s=r.readTime?Jn(r.readTime):ue.min(),o=Ft.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Dc([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ph(t,r.document),s=r.removedTargetIds||[];n=new Dc([],s,i,null)}else{if(!("filter"in e))return le();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new tC(i,s),l=r.targetId;n=new tx(l,o)}}return n}function fC(t,e){let n;if(e instanceof yl)n={update:R0(t,e.key,e.value)};else if(e instanceof Zw)n={delete:Df(t,e.key)};else if(e instanceof Ri)n={update:R0(t,e.key,e.data),updateMask:EC(e.fieldMask)};else{if(!(e instanceof J4))return le();n={verify:Df(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof _u)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof mo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ol)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof wu)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw le()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:uC(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:le()}(t,e.precondition)),n}function pC(t,e){return t&&t.length>0?(Le(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Jn(i.updateTime):Jn(s);return o.isEqual(ue.min())&&(o=Jn(s)),new Q4(o,i.transformResults||[])}(n,e))):[]}function mC(t,e){return{documents:[sx(t,e.path)]}}function gC(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sx(t,i);const s=function(u){if(u.length!==0)return lx(nr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(f=>function(g){return{field:ks(g.field),direction:_C(g.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Pf(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function vC(t){let e=dC(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Le(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(m){const g=ax(m);return g instanceof nr&&Vw(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(g=>function(k){return new yu(Cs(k.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(m){let g;return g=typeof m=="object"?m.value:m,ed(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(m){const g=!!m.before,w=m.values||[];return new vu(w,g)}(n.startAt));let u=null;return n.endAt&&(u=function(m){const g=!m.before,w=m.values||[];return new vu(w,g)}(n.endAt)),L4(e,i,o,s,l,"F",c,u)}function yC(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ax(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Cs(n.unaryFilter.field);return gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Cs(n.unaryFilter.field);return gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Cs(n.unaryFilter.field);return gt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Cs(n.unaryFilter.field);return gt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(t):t.fieldFilter!==void 0?function(n){return gt.create(Cs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return nr.create(n.compositeFilter.filters.map(r=>ax(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le()}}(n.compositeFilter.op))}(t):le()}function _C(t){return oC[t]}function wC(t){return aC[t]}function xC(t){return lC[t]}function ks(t){return{fieldPath:t.canonicalString()}}function Cs(t){return St.fromServerFormat(t.fieldPath)}function lx(t){return t instanceof gt?function(n){if(n.op==="=="){if(m0(n.value))return{unaryFilter:{field:ks(n.field),op:"IS_NAN"}};if(p0(n.value))return{unaryFilter:{field:ks(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(m0(n.value))return{unaryFilter:{field:ks(n.field),op:"IS_NOT_NAN"}};if(p0(n.value))return{unaryFilter:{field:ks(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ks(n.field),op:wC(n.op),value:n.value}}}(t):t instanceof nr?function(n){const r=n.getFilters().map(i=>lx(i));return r.length===1?r[0]:{compositeFilter:{op:xC(n.op),filters:r}}}(t):le()}function EC(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n,r,i,s=ue.min(),o=ue.min(),l=Rt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.ct=e}}function IC(t){const e=vC({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Af(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(){this.un=new bC}addToCollectionParentIndex(e,n){return this.un.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(xi.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(xi.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class bC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kt(Ye.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kt(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new go(0)}static kn(){return new go(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(){this.changes=new So(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Da(r.mutation,i,pn.empty(),we.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const i=Hi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ya();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Hi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Rr();const o=Na(),l=function(){return Na()}();return n.forEach((c,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof Ri)?s=s.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),Da(f.mutation,u,f.mutation.getFieldMask(),we.now())):o.set(u.key,pn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,f)=>o.set(u,f)),n.forEach((u,f)=>{var m;return l.set(u,new CC(f,(m=o.get(u))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Na();let i=new nt((o,l)=>o-l),s=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let f=r.get(c)||pn.empty();f=l.applyToLocalView(u,f),r.set(c,f);const m=(i.get(l.batchId)||Ie()).add(c);i=i.insert(l.batchId,m)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,f=c.value,m=qw();f.forEach(g=>{if(!s.has(g)){const w=Xw(n.get(g),r.get(g));w!==null&&m.set(g,w),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,m))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):j4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(Hi());let l=-1,c=s;return o.next(u=>$.forEach(u,(f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(f)?$.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{c=c.insert(f,g)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Ie())).next(f=>({batchId:l,changes:Hw(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let i=ya();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ya();return this.indexManager.getCollectionParents(e,s).next(l=>$.forEach(l,c=>{const u=function(m,g){return new td(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((m,g)=>{o=o.insert(m,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const f=u.getKey();o.get(f)===null&&(o=o.insert(f,Ft.newInvalidDocument(f)))});let l=ya();return o.forEach((c,u)=>{const f=s.get(c);f!==void 0&&Da(f.mutation,u,pn.empty(),we.now()),id(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return $.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Jn(i.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:IC(i.bundledQuery),readTime:Jn(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(){this.overlays=new nt(se.comparator),this.Ir=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Hi();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=Hi(),s=n.length+1,o=new se(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new nt((u,f)=>u-f);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=s.get(u.largestBatchId);f===null&&(f=Hi(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const l=Hi(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,f)=>l.set(u,f)),!(l.size()>=i)););return $.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new eC(n,r));let s=this.Ir.get(n);s===void 0&&(s=Ie(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(){this.Tr=new kt(yt.Er),this.dr=new kt(yt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new yt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new yt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new se(new Ye([])),r=new yt(n,e),i=new yt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new se(new Ye([])),r=new yt(n,e),i=new yt(n,e+1);let s=Ie();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new yt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return se.comparator(e.key,n.key)||Ae(e.wr,n.wr)}static Ar(e,n){return Ae(e.wr,n.wr)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new kt(yt.Er)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Z4(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.br=this.br.add(new yt(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yt(n,0),i=new yt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const l=this.Dr(o.wr);s.push(l)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(Ae);return n.forEach(i=>{const s=new yt(i,0),o=new yt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],l=>{r=r.add(l.wr)})}),$.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;se.isDocumentKey(s)||(s=s.child(""));const o=new yt(new se(s),0);let l=new kt(Ae);return this.br.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.wr)),!0)},o),$.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Le(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return $.forEach(n.mutations,i=>{const s=new yt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new yt(n,0),i=this.br.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.Mr=e,this.docs=function(){return new nt(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let r=Rr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ft.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Rr();const o=n.path,l=new se(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:f}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||m4(p4(f),r)<=0||(i.has(f.key)||id(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,r,i){le()}Or(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new jC(this)}getSize(e){return $.resolve(this.size)}}class jC extends kC{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.persistence=e,this.Nr=new So(n=>tm(n),nm),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Lr=0,this.Br=new am,this.targetCount=0,this.kr=go.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),$.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new go(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Kn(n),$.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Xp(0),this.Kr=!1,this.Kr=!0,this.$r=new NC,this.referenceDelegate=e(this),this.Ur=new MC(this),this.indexManager=new SC,this.remoteDocumentCache=function(i){return new LC(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new TC(n),this.Gr=new AC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new DC(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const i=new OC(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return $.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class OC extends v4{constructor(e){super(),this.currentSequenceNumber=e}}class lm{constructor(e){this.persistence=e,this.Jr=new am,this.Yr=null}static Zr(e){return new lm(e)}get Xr(){if(this.Yr)return this.Yr;throw le()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),$.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Xr,r=>{const i=se.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ue.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return $.or([()=>$.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ie(),i=Ie();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new cm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return zb()?8:y4(Bt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new FC;return this.Xi(e,n,o).next(l=>{if(s.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(sa()<=Se.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",bs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),$.resolve()):(sa()<=Se.DEBUG&&Z("QueryEngine","Query:",bs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(sa()<=Se.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",bs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yn(n))):$.resolve())}Yi(e,n){if(_0(n))return $.resolve(null);let r=Yn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Af(n,null,"F"),r=Yn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ie(...s);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ts(n,l);return this.ns(n,u,o,c.readTime)?this.Yi(e,Af(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,r,i){return _0(n)||i.isEqual(ue.min())?$.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?$.resolve(null):(sa()<=Se.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),bs(n)),this.rs(e,o,n,f4(i,-1)).next(l=>l))})}ts(e,n){let r=new kt(Bw(e));return n.forEach((i,s)=>{id(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return sa()<=Se.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",bs(n)),this.Ji.getDocumentsMatchingQuery(e,n,xi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new nt(Ae),this._s=new So(s=>tm(s),nm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RC(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function BC(t,e,n,r){return new zC(t,e,n,r)}async function ux(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=Ie();for(const u of i){o.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}for(const u of s){l.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:l}))})})}function $C(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,f){const m=u.batch,g=m.keys();let w=$.resolve();return g.forEach(k=>{w=w.next(()=>f.getEntry(c,k)).next(C=>{const L=u.docVersions.get(k);Le(L!==null),C.version.compareTo(L)<0&&(m.applyToRemoteDocument(C,u),C.isValidDocument()&&(C.setReadTime(u.commitVersion),f.addEntry(C)))})}),w.next(()=>l.mutationQueue.removeMutationBatch(c,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Ie();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function dx(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function HC(t,e){const n=de(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((f,m)=>{const g=i.get(m);if(!g)return;l.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,m)));let w=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?w=w.withResumeToken(Rt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):f.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(f.resumeToken,r)),i=i.insert(m,w),function(C,L,E){return C.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(g,w,f)&&l.push(n.Ur.updateTargetData(s,w))});let c=Rr(),u=Ie();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(qC(s,o,e.documentUpdates).next(f=>{c=f.Ps,u=f.Is})),!r.isEqual(ue.min())){const f=n.Ur.getLastRemoteSnapshotVersion(s).next(m=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(f)}return $.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.os=i,s))}function qC(t,e,n){let r=Ie(),i=Ie();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Rr();return n.forEach((l,c)=>{const u=s.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(ue.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):Z("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{Ps:o,Is:i}})}function WC(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function GC(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new ii(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function jf(t,e,n){const r=de(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!vl(o))throw o;Z("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function A0(t,e,n){const r=de(t);let i=ue.min(),s=Ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,f){const m=de(c),g=m._s.get(f);return g!==void 0?$.resolve(m.os.get(g)):m.Ur.getTargetData(u,f)}(r,o,Yn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ue.min(),n?s:Ie())).next(l=>(KC(r,V4(e),l),{documents:l,Ts:s})))}function KC(t,e,n){let r=t.us.get(e)||ue.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class P0{constructor(){this.activeTargetIds=$4()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QC{constructor(){this.so=new P0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new P0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc=null;function mh(){return pc===null?pc=function(){return 268435456+Math.round(2147483648*Math.random())}():pc++,"0x"+pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt="WebChannelConnection";class ZC extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const l=mh(),c=this.xo(n,r.toUriEncodedString());Z("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,c,u,i).then(f=>(Z("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw uo("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",c,"request:",i),f})}Lo(n,r,i,s,o,l){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Io}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=XC[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=mh();return new Promise((o,l)=>{const c=new Sw;c.setWithCredentials(!0),c.listenOnce(bw.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ac.NO_ERROR:const f=c.getResponseJson();Z(jt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Ac.TIMEOUT:Z(jt,`RPC '${e}' ${s} timed out`),l(new re(B.DEADLINE_EXCEEDED,"Request time out"));break;case Ac.HTTP_ERROR:const m=c.getStatus();if(Z(jt,`RPC '${e}' ${s} failed with status:`,m,"response text:",c.getResponseText()),m>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const w=g==null?void 0:g.error;if(w&&w.status&&w.message){const k=function(L){const E=L.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(E)>=0?E:B.UNKNOWN}(w.status);l(new re(k,w.message))}else l(new re(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new re(B.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{Z(jt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Z(jt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=mh(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Rw(),l=Cw(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=s.join("");Z(jt,`Creating RPC '${e}' stream ${i}: ${f}`,c);const m=o.createWebChannel(f,c);let g=!1,w=!1;const k=new JC({Io:L=>{w?Z(jt,`Not sending because RPC '${e}' stream ${i} is closed:`,L):(g||(Z(jt,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),Z(jt,`RPC '${e}' stream ${i} sending:`,L),m.send(L))},To:()=>m.close()}),C=(L,E,y)=>{L.listen(E,S=>{try{y(S)}catch(M){setTimeout(()=>{throw M},0)}})};return C(m,va.EventType.OPEN,()=>{w||(Z(jt,`RPC '${e}' stream ${i} transport opened.`),k.yo())}),C(m,va.EventType.CLOSE,()=>{w||(w=!0,Z(jt,`RPC '${e}' stream ${i} transport closed`),k.So())}),C(m,va.EventType.ERROR,L=>{w||(w=!0,uo(jt,`RPC '${e}' stream ${i} transport errored:`,L),k.So(new re(B.UNAVAILABLE,"The operation could not be completed")))}),C(m,va.EventType.MESSAGE,L=>{var E;if(!w){const y=L.data[0];Le(!!y);const S=y,M=S.error||((E=S[0])===null||E===void 0?void 0:E.error);if(M){Z(jt,`RPC '${e}' stream ${i} received error:`,M);const U=M.status;let A=function(x){const I=dt[x];if(I!==void 0)return ex(I)}(U),T=M.message;A===void 0&&(A=B.INTERNAL,T="Unknown error status: "+U+" with message "+M.message),w=!0,k.So(new re(A,T)),m.close()}else Z(jt,`RPC '${e}' stream ${i} received:`,y),k.bo(y)}}),C(l,kw.STAT_EVENT,L=>{L.stat===Sf.PROXY?Z(jt,`RPC '${e}' stream ${i} detected buffering proxy`):L.stat===Sf.NOPROXY&&Z(jt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.wo()},0),k}}function gh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(t){return new cC(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n,r,i,s,o,l,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new hx(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Cr(n.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new re(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eR extends fx{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=hC(this.serializer,e),r=function(s){if(!("targetChange"in s))return ue.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?Jn(o.readTime):ue.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Lf(this.serializer),n.addTarget=function(s,o){let l;const c=o.target;if(l=Rf(c)?{documents:mC(s,c)}:{query:gC(s,c)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=rx(s,o.resumeToken);const u=Pf(s,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(ue.min())>0){l.readTime=xu(s,o.snapshotVersion.toTimestamp());const u=Pf(s,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=yC(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Lf(this.serializer),n.removeTarget=e,this.a_(n)}}class tR extends fx{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Le(!!e.streamToken),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=pC(e.writeResults,e.commitTime),r=Jn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Lf(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>fC(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new re(B.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Nf(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new re(B.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,Nf(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(B.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class rR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Cr(n),this.D_=!1):Z("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{ps(this)&&(Z("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=de(c);u.L_.add(4),await wl(u),u.q_.set("Unknown"),u.L_.delete(4),await cd(u)}(this))})}),this.q_=new rR(r,i)}}async function cd(t){if(ps(t))for(const e of t.B_)await e(!0)}async function wl(t){for(const e of t.B_)await e(!1)}function px(t,e){const n=de(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),fm(n)?hm(n):bo(n).r_()&&dm(n,e))}function um(t,e){const n=de(t),r=bo(n);n.N_.delete(e),r.r_()&&mx(n,e),n.N_.size===0&&(r.r_()?r.o_():ps(n)&&n.q_.set("Unknown"))}function dm(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bo(t).A_(e)}function mx(t,e){t.Q_.xe(e),bo(t).R_(e)}function hm(t){t.Q_=new sC({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),bo(t).start(),t.q_.v_()}function fm(t){return ps(t)&&!bo(t).n_()&&t.N_.size>0}function ps(t){return de(t).L_.size===0}function gx(t){t.Q_=void 0}async function sR(t){t.q_.set("Online")}async function oR(t){t.N_.forEach((e,n)=>{dm(t,e)})}async function aR(t,e){gx(t),fm(t)?(t.q_.M_(e),hm(t)):t.q_.set("Unknown")}async function lR(t,e,n){if(t.q_.set("Online"),e instanceof nx&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){Z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Eu(t,r)}else if(e instanceof Dc?t.Q_.Ke(e):e instanceof tx?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ue.min()))try{const r=await dx(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.Q_.rt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.N_.get(u);f&&s.N_.set(u,f.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const f=s.N_.get(c);if(!f)return;s.N_.set(c,f.withResumeToken(Rt.EMPTY_BYTE_STRING,f.snapshotVersion)),mx(s,c);const m=new ii(f.target,c,u,f.sequenceNumber);dm(s,m)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Z("RemoteStore","Failed to raise snapshot:",r),await Eu(t,r)}}async function Eu(t,e,n){if(!vl(e))throw e;t.L_.add(1),await wl(t),t.q_.set("Offline"),n||(n=()=>dx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await cd(t)})}function vx(t,e){return e().catch(n=>Eu(t,n,e))}async function ud(t){const e=de(t),n=Ti(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;cR(e);)try{const i=await WC(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,uR(e,i)}catch(i){await Eu(e,i)}yx(e)&&_x(e)}function cR(t){return ps(t)&&t.O_.length<10}function uR(t,e){t.O_.push(e);const n=Ti(t);n.r_()&&n.V_&&n.m_(e.mutations)}function yx(t){return ps(t)&&!Ti(t).n_()&&t.O_.length>0}function _x(t){Ti(t).start()}async function dR(t){Ti(t).p_()}async function hR(t){const e=Ti(t);for(const n of t.O_)e.m_(n.mutations)}async function fR(t,e,n){const r=t.O_.shift(),i=im.from(r,e,n);await vx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ud(t)}async function pR(t,e){e&&Ti(t).V_&&await async function(r,i){if(function(o){return nC(o)&&o!==B.ABORTED}(i.code)){const s=r.O_.shift();Ti(r).s_(),await vx(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ud(r)}}(t,e),yx(t)&&_x(t)}async function D0(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),Z("RemoteStore","RemoteStore received new credentials");const r=ps(n);n.L_.add(3),await wl(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await cd(n)}async function mR(t,e){const n=de(t);e?(n.L_.delete(2),await cd(n)):e||(n.L_.add(2),await wl(n),n.q_.set("Unknown"))}function bo(t){return t.K_||(t.K_=function(n,r,i){const s=de(n);return s.w_(),new eR(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:sR.bind(null,t),Ro:oR.bind(null,t),mo:aR.bind(null,t),d_:lR.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),fm(t)?hm(t):t.q_.set("Unknown")):(await t.K_.stop(),gx(t))})),t.K_}function Ti(t){return t.U_||(t.U_=function(n,r,i){const s=de(n);return s.w_(),new tR(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:dR.bind(null,t),mo:pR.bind(null,t),f_:hR.bind(null,t),g_:fR.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await ud(t)):(await t.U_.stop(),t.O_.length>0&&(Z("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new pm(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mm(t,e){if(Cr("AsyncQueue",`${e}: ${t}`),vl(t))return new re(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=ya(),this.sortedSet=new nt(this.comparator)}static emptySet(e){return new Ks(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ks)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ks;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(){this.W_=new nt(se.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):le():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class vo{constructor(e,n,r,i,s,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new vo(e,n,Ks.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class vR{constructor(){this.queries=j0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=de(n),s=i.queries;i.queries=j0(),s.forEach((o,l)=>{for(const c of l.j_)c.onError(r)})})(this,new re(B.ABORTED,"Firestore shutting down"))}}function j0(){return new So(t=>zw(t),rd)}async function gm(t,e){const n=de(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new gR,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=mm(o,`Initialization of query '${bs(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&ym(n)}async function vm(t,e){const n=de(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function yR(t,e){const n=de(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.j_)l.X_(i)&&(r=!0);o.z_=i}}r&&ym(n)}function _R(t,e,n){const r=de(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function ym(t){t.Y_.forEach(e=>{e.next()})}var Mf,M0;(M0=Mf||(Mf={})).ea="default",M0.Cache="cache";class _m{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new vo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Mf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.key=e}}class xx{constructor(e){this.key=e}}class wR{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ie(),this.mutatedKeys=Ie(),this.Aa=Bw(e),this.Ra=new Ks(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new L0,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,m)=>{const g=i.get(f),w=id(this.query,m)?m:null,k=!!g&&this.mutatedKeys.has(g.key),C=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let L=!1;g&&w?g.data.isEqual(w.data)?k!==C&&(r.track({type:3,doc:w}),L=!0):this.ga(g,w)||(r.track({type:2,doc:w}),L=!0,(c&&this.Aa(w,c)>0||u&&this.Aa(w,u)<0)&&(l=!0)):!g&&w?(r.track({type:0,doc:w}),L=!0):g&&!w&&(r.track({type:1,doc:g}),L=!0,(c||u)&&(l=!0)),L&&(w?(o=o.add(w),s=C?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:l,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((f,m)=>function(w,k){const C=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return C(w)-C(k)}(f.type,m.type)||this.Aa(f.doc,m.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,o.length!==0||u?{snapshot:new vo(this.query,e.Ra,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new L0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ie(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new xx(r))}),this.da.forEach(r=>{e.has(r)||n.push(new wx(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ie();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return vo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class xR{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ER{constructor(e){this.key=e,this.va=!1}}class TR{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new So(l=>zw(l),rd),this.Ma=new Map,this.xa=new Set,this.Oa=new nt(se.comparator),this.Na=new Map,this.La=new am,this.Ba={},this.ka=new Map,this.qa=go.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function IR(t,e,n=!0){const r=kx(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Ex(r,e,n,!0),i}async function SR(t,e){const n=kx(t);await Ex(n,e,!0,!1)}async function Ex(t,e,n,r){const i=await GC(t.localStore,Yn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await bR(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&px(t.remoteStore,i),l}async function bR(t,e,n,r,i){t.Ka=(m,g,w)=>async function(C,L,E,y){let S=L.view.ma(E);S.ns&&(S=await A0(C.localStore,L.query,!1).then(({documents:T})=>L.view.ma(T,S)));const M=y&&y.targetChanges.get(L.targetId),U=y&&y.targetMismatches.get(L.targetId)!=null,A=L.view.applyChanges(S,C.isPrimaryClient,M,U);return O0(C,L.targetId,A.wa),A.snapshot}(t,m,g,w);const s=await A0(t.localStore,e,!0),o=new wR(e,s.Ts),l=o.ma(s.documents),c=_l.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(l,t.isPrimaryClient,c);O0(t,n,u.wa);const f=new xR(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function kR(t,e,n){const r=de(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!rd(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await jf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&um(r.remoteStore,i.targetId),Vf(r,i.targetId)}).catch(gl)):(Vf(r,i.targetId),await jf(r.localStore,i.targetId,!0))}async function CR(t,e){const n=de(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),um(n.remoteStore,r.targetId))}async function RR(t,e,n){const r=MR(t);try{const i=await function(o,l){const c=de(o),u=we.now(),f=l.reduce((w,k)=>w.add(k.key),Ie());let m,g;return c.persistence.runTransaction("Locally write mutations","readwrite",w=>{let k=Rr(),C=Ie();return c.cs.getEntries(w,f).next(L=>{k=L,k.forEach((E,y)=>{y.isValidDocument()||(C=C.add(E))})}).next(()=>c.localDocuments.getOverlayedDocuments(w,k)).next(L=>{m=L;const E=[];for(const y of l){const S=X4(y,m.get(y.key).overlayedDocument);S!=null&&E.push(new Ri(y.key,S,Lw(S.value.mapValue),Xn.exists(!0)))}return c.mutationQueue.addMutationBatch(w,u,E,l)}).next(L=>{g=L;const E=L.applyToLocalDocumentSet(m,C);return c.documentOverlayCache.saveOverlays(w,L.batchId,E)})}).then(()=>({batchId:g.batchId,changes:Hw(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let u=o.Ba[o.currentUser.toKey()];u||(u=new nt(Ae)),u=u.insert(l,c),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await xl(r,i.changes),await ud(r.remoteStore)}catch(i){const s=mm(i,"Failed to persist write");n.reject(s)}}async function Tx(t,e){const n=de(t);try{const r=await HC(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Le(o.va):i.removedDocuments.size>0&&(Le(o.va),o.va=!1))}),await xl(n,r,e)}catch(r){await gl(r)}}function V0(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const l=o.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=de(o);c.onlineState=l;let u=!1;c.queries.forEach((f,m)=>{for(const g of m.j_)g.Z_(l)&&(u=!0)}),u&&ym(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function AR(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new nt(se.comparator);o=o.insert(s,Ft.newNoDocument(s,ue.min()));const l=Ie().add(s),c=new ad(ue.min(),new Map,new nt(Ae),o,l);await Tx(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(e),wm(r)}else await jf(r.localStore,e,!1).then(()=>Vf(r,e,n)).catch(gl)}async function PR(t,e){const n=de(t),r=e.batch.batchId;try{const i=await $C(n.localStore,e);Sx(n,r,null),Ix(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xl(n,i)}catch(i){await gl(i)}}async function NR(t,e,n){const r=de(t);try{const i=await function(o,l){const c=de(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return c.mutationQueue.lookupMutationBatch(u,l).next(m=>(Le(m!==null),f=m.keys(),c.mutationQueue.removeMutationBatch(u,m))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,f,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>c.localDocuments.getDocuments(u,f))})}(r.localStore,e);Sx(r,e,n),Ix(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xl(r,i)}catch(i){await gl(i)}}function Ix(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Sx(t,e,n){const r=de(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Vf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||bx(t,r)})}function bx(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(um(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),wm(t))}function O0(t,e,n){for(const r of n)r instanceof wx?(t.La.addReference(r.key,e),DR(t,r)):r instanceof xx?(Z("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||bx(t,r.key)):le()}function DR(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Z("SyncEngine","New document in limbo: "+n),t.xa.add(r),wm(t))}function wm(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new se(Ye.fromString(e)),r=t.qa.next();t.Na.set(r,new ER(n)),t.Oa=t.Oa.insert(n,r),px(t.remoteStore,new ii(Yn(nd(n.path)),r,"TargetPurposeLimboResolution",Xp.oe))}}async function xl(t,e,n){const r=de(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,c)=>{o.push(r.Ka(c,e,n).then(u=>{var f;if((u||n)&&r.isPrimaryClient){const m=u?!u.fromCache:(f=n==null?void 0:n.targetChanges.get(c.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(u){i.push(u);const m=cm.Wi(c.targetId,u);s.push(m)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(c,u){const f=de(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>$.forEach(u,g=>$.forEach(g.$i,w=>f.persistence.referenceDelegate.addReference(m,g.targetId,w)).next(()=>$.forEach(g.Ui,w=>f.persistence.referenceDelegate.removeReference(m,g.targetId,w)))))}catch(m){if(!vl(m))throw m;Z("LocalStore","Failed to update sequence numbers: "+m)}for(const m of u){const g=m.targetId;if(!m.fromCache){const w=f.os.get(g),k=w.snapshotVersion,C=w.withLastLimboFreeSnapshotVersion(k);f.os=f.os.insert(g,C)}}}(r.localStore,s))}async function LR(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){Z("SyncEngine","User change. New user:",e.toKey());const r=await ux(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(l=>{l.forEach(c=>{c.reject(new re(B.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xl(n,r.hs)}}function jR(t,e){const n=de(t),r=n.Na.get(e);if(r&&r.va)return Ie().add(r.key);{let i=Ie();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const l=n.Fa.get(o);i=i.unionWith(l.view.Va)}return i}}function kx(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Tx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AR.bind(null,e),e.Ca.d_=yR.bind(null,e.eventManager),e.Ca.$a=_R.bind(null,e.eventManager),e}function MR(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NR.bind(null,e),e}class Tu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ld(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return BC(this.persistence,new UC,e.initialUser,this.serializer)}Ga(e){return new VC(lm.Zr,this.serializer)}Wa(e){return new QC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tu.provider={build:()=>new Tu};class Of{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>V0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=LR.bind(null,this.syncEngine),await mR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new vR}()}createDatastore(e){const n=ld(e.databaseInfo.databaseId),r=function(s){return new ZC(s)}(e.databaseInfo);return function(s,o,l,c){return new nR(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new iR(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>V0(this.syncEngine,n,0),function(){return N0.D()?new N0:new YC}())}createSyncEngine(e,n){return function(i,s,o,l,c,u,f){const m=new TR(i,s,o,l,c,u);return f&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=de(i);Z("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await wl(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Of.provider={build:()=>new Of};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vt.UNAUTHENTICATED,this.clientId=Pw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Z("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Z("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=mm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vh(t,e){t.asyncQueue.verifyOperationInProgress(),Z("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await ux(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function F0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await OR(t);Z("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>D0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>D0(e.remoteStore,i)),t._onlineComponents=e}async function OR(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z("FirestoreClient","Using user provided OfflineComponentProvider");try{await vh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;uo("Error using user provided cache. Falling back to memory cache: "+n),await vh(t,new Tu)}}else Z("FirestoreClient","Using default OfflineComponentProvider"),await vh(t,new Tu);return t._offlineComponents}async function Cx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z("FirestoreClient","Using user provided OnlineComponentProvider"),await F0(t,t._uninitializedComponentsProvider._online)):(Z("FirestoreClient","Using default OnlineComponentProvider"),await F0(t,new Of))),t._onlineComponents}function FR(t){return Cx(t).then(e=>e.syncEngine)}async function Iu(t){const e=await Cx(t),n=e.eventManager;return n.onListen=IR.bind(null,e.syncEngine),n.onUnlisten=kR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=SR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=CR.bind(null,e.syncEngine),n}function UR(t,e,n={}){const r=new Er;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,u){const f=new xm({next:g=>{f.Za(),o.enqueueAndForget(()=>vm(s,m));const w=g.docs.has(l);!w&&g.fromCache?u.reject(new re(B.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&g.fromCache&&c&&c.source==="server"?u.reject(new re(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),m=new _m(nd(l.path),f,{includeMetadataChanges:!0,_a:!0});return gm(s,m)}(await Iu(t),t.asyncQueue,e,n,r)),r.promise}function zR(t,e,n={}){const r=new Er;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,u){const f=new xm({next:g=>{f.Za(),o.enqueueAndForget(()=>vm(s,m)),g.fromCache&&c.source==="server"?u.reject(new re(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),m=new _m(l,f,{includeMetadataChanges:!0,_a:!0});return gm(s,m)}(await Iu(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(t,e,n){if(!n)throw new re(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function BR(t,e,n,r){if(e===!0&&r===!0)throw new re(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function z0(t){if(!se.isDocumentKey(t))throw new re(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function B0(t){if(se.isDocumentKey(t))throw new re(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Em(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function bn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new re(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Em(t);throw new re(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new re(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new re(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Rx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new re(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new re(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new re(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new i4;switch(r.type){case"firstParty":return new l4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=U0.get(n);r&&(Z("ComponentProvider","Removing Datastore"),U0.delete(n),r.terminate())}(this),Promise.resolve()}}function $R(t,e,n,r={}){var i;const s=(t=bn(t,dd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=Vt.MOCK_USER;else{l=Lb(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new re(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Vt(u)}t._authCredentials=new s4(new Aw(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new El(this.firestore,e,this._query)}}class Gt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}}class vi extends El{constructor(e,n,r){super(e,n,nd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new se(e))}withConverter(e){return new vi(this.firestore,e,this._path)}}function Px(t,e,...n){if(t=Kt(t),Ax("collection","path",e),t instanceof dd){const r=Ye.fromString(e,...n);return B0(r),new vi(t,null,r)}{if(!(t instanceof Gt||t instanceof vi))throw new re(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return B0(r),new vi(t.firestore,null,r)}}function Qs(t,e,...n){if(t=Kt(t),arguments.length===1&&(e=Pw.newId()),Ax("doc","path",e),t instanceof dd){const r=Ye.fromString(e,...n);return z0(r),new Gt(t,null,new se(r))}{if(!(t instanceof Gt||t instanceof vi))throw new re(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return z0(r),new Gt(t.firestore,t instanceof vi?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new hx(this,"async_queue_retry"),this.Vu=()=>{const r=gh();r&&Z("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=gh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=gh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Er;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!vl(e))throw e;Z("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Cr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=pm.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&le()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function q0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class as extends dd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new H0,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new H0(e),this._firestoreClient=void 0,await e}}}function HR(t,e){const n=typeof t=="object"?t:xw(),r=typeof t=="string"?t:"(default)",i=Qp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Nb("firestore");s&&$R(i,...s)}return i}function hd(t){if(t._terminated)throw new re(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||qR(t),t._firestoreClient}function qR(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,u,f){return new x4(l,c,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Rx(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new VR(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yo(Rt.fromBase64String(e))}catch(n){throw new re(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yo(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=/^__.*__$/;class GR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ri(e,this.data,this.fieldMask,n,this.fieldTransforms):new yl(e,this.data,n,this.fieldTransforms)}}class Nx{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ri(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Dx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class md{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new md(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Su(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Dx(this.Cu)&&WR.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class KR{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ld(e)}Qu(e,n,r,i=!1){return new md({Cu:e,methodName:n,qu:r,path:St.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lx(t){const e=t._freezeSettings(),n=ld(t._databaseId);return new KR(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QR(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);bm("Data must be an object, but it was:",o,r);const l=jx(r,o);let c,u;if(s.merge)c=new pn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const g=Ff(e,m,n);if(!o.contains(g))throw new re(B.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Vx(f,g)||f.push(g)}c=new pn(f),u=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,u=o.fieldTransforms;return new GR(new nn(l),c,u)}class gd extends pd{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gd}}function YR(t,e,n){return new md({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Sm extends pd{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=YR(this,e,!0),r=this.Ku.map(s=>Tl(s,n)),i=new mo(r);return new G4(e.path,i)}isEqual(e){return e instanceof Sm&&el(this.Ku,e.Ku)}}function XR(t,e,n,r){const i=t.Qu(1,e,n);bm("Data must be an object, but it was:",i,r);const s=[],o=nn.empty();fs(r,(c,u)=>{const f=km(e,c,n);u=Kt(u);const m=i.Nu(f);if(u instanceof gd)s.push(f);else{const g=Tl(u,m);g!=null&&(s.push(f),o.set(f,g))}});const l=new pn(s);return new Nx(o,l,i.fieldTransforms)}function JR(t,e,n,r,i,s){const o=t.Qu(1,e,n),l=[Ff(e,r,n)],c=[i];if(s.length%2!=0)throw new re(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)l.push(Ff(e,s[g])),c.push(s[g+1]);const u=[],f=nn.empty();for(let g=l.length-1;g>=0;--g)if(!Vx(u,l[g])){const w=l[g];let k=c[g];k=Kt(k);const C=o.Nu(w);if(k instanceof gd)u.push(w);else{const L=Tl(k,C);L!=null&&(u.push(w),f.set(w,L))}}const m=new pn(u);return new Nx(f,m,o.fieldTransforms)}function Tl(t,e){if(Mx(t=Kt(t)))return bm("Unsupported field value:",e,t),jx(t,e);if(t instanceof pd)return function(r,i){if(!Dx(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let c=Tl(l,i.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return H4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=we.fromDate(r);return{timestampValue:xu(i.serializer,s)}}if(r instanceof we){const s=new we(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xu(i.serializer,s)}}if(r instanceof Tm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yo)return{bytesValue:rx(i.serializer,r._byteString)};if(r instanceof Gt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:om(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Im)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return rm(l.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Em(r)}`)}(t,e)}function jx(t,e){const n={};return Nw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fs(t,(r,i)=>{const s=Tl(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Mx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof we||t instanceof Tm||t instanceof yo||t instanceof Gt||t instanceof pd||t instanceof Im)}function bm(t,e,n){if(!Mx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Em(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Ff(t,e,n){if((e=Kt(e))instanceof fd)return e._internalPath;if(typeof e=="string")return km(t,e);throw Su("Field path arguments must be of type string or ",t,!1,void 0,n)}const ZR=new RegExp("[~\\*/\\[\\]]");function km(t,e,n){if(e.search(ZR)>=0)throw Su(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new fd(...e.split("."))._internalPath}catch{throw Su(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Su(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new re(B.INVALID_ARGUMENT,l+t+c)}function Vx(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Fx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eA extends Ox{data(){return super.data()}}function Fx(t,e){return typeof e=="string"?km(t,e):e instanceof fd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new re(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tA{convertValue(e,n="none"){switch(os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>ot(o.doubleValue));return new Im(s)}convertGeoPoint(e){return new Tm(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Zp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rl(e));default:return null}}convertTimestamp(e){const n=Ei(e);return new we(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ye.fromString(e);Le(cx(r));const i=new il(r.get(1),r.get(3)),s=new se(r.popFirst(5));return i.isEqual(n)||Cr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zx extends Ox{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Fx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Lc extends zx{data(e={}){return super.data(e)}}class Bx{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new wa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Lc(this._firestore,this._userDataWriter,r.key,r,new wa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new Lc(i._firestore,i._userDataWriter,l.doc.key,l.doc,new wa(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new Lc(i._firestore,i._userDataWriter,l.doc.key,l.doc,new wa(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:rA(l.type),doc:c,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function rA(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t){t=bn(t,Gt);const e=bn(t.firestore,as);return UR(hd(e),t._key).then(n=>Wx(e,t,n))}class Cm extends tA{constructor(e){super(),this.firestore=e}convertBytes(e){return new yo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,n)}}function sA(t){t=bn(t,El);const e=bn(t.firestore,as),n=hd(e),r=new Cm(e);return Ux(t._query),zR(n,t._query).then(i=>new Bx(e,r,t,i))}function $x(t,e,n){t=bn(t,Gt);const r=bn(t.firestore,as),i=nA(t.converter,e);return qx(r,[QR(Lx(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Xn.none())])}function oA(t,e,n,...r){t=bn(t,Gt);const i=bn(t.firestore,as),s=Lx(i);let o;return o=typeof(e=Kt(e))=="string"||e instanceof fd?JR(s,"updateDoc",t._key,e,n,r):XR(s,"updateDoc",t._key,e),qx(i,[o.toMutation(t._key,Xn.exists(!0))])}function Hx(t,...e){var n,r,i;t=Kt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||q0(e[o])||(s=e[o],o++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(q0(e[o])){const m=e[o];e[o]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[o+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[o+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let c,u,f;if(t instanceof Gt)u=bn(t.firestore,as),f=nd(t._key.path),c={next:m=>{e[o]&&e[o](Wx(u,t,m))},error:e[o+1],complete:e[o+2]};else{const m=bn(t,El);u=bn(m.firestore,as),f=m._query;const g=new Cm(u);c={next:w=>{e[o]&&e[o](new Bx(u,g,m,w))},error:e[o+1],complete:e[o+2]},Ux(t._query)}return function(g,w,k,C){const L=new xm(C),E=new _m(w,L,k);return g.asyncQueue.enqueueAndForget(async()=>gm(await Iu(g),E)),()=>{L.Za(),g.asyncQueue.enqueueAndForget(async()=>vm(await Iu(g),E))}}(hd(u),f,l,c)}function qx(t,e){return function(r,i){const s=new Er;return r.asyncQueue.enqueueAndForget(async()=>RR(await FR(r),i,s)),s.promise}(hd(t),e)}function Wx(t,e,n){const r=n.docs.get(e._key),i=new Cm(t);return new zx(t,i,e._key,r,new wa(n.hasPendingWrites,n.fromCache),e.converter)}function aA(...t){return new Sm("arrayUnion",t)}(function(e,n=!0){(function(i){Io=i})(To),co(new rs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new as(new o4(r.getProvider("auth-internal")),new u4(r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new re(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new il(u.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),gi(c0,"4.7.3",e),gi(c0,"4.7.3","esm2017")})();const At=qt.createContext({});var lA="firebase",cA="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi(lA,cA,"app");const uA={apiKey:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",authDomain:void 0,projectId:"cob-chatbot",storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0},dA=ww(uA),Gx=HR(dA),si={name:"Vivienne",slogan:"Tanong mo, sagot ko, dahil at home ka dito!",introduction:"The interactive chatbot for the city of Bacoor, Cavite.",about:"Our capstone project that uses Natural Language Processing (NLP) to deliver smooth experience for the users. The bot is temporarily being hosted by the dummy website we created based on the official website of the Bacoor City Hall. We really hope you have enjoyed using our app! "},hA=Px(Gx,"profile"),fA=({children:t})=>{const[e,n]=D.useState({icon:"",widgetIcon:"",name:si.name,slogan:si.slogan}),[r,i]=D.useState([]),[s,o]=D.useState(!0),[l,c]=D.useState(!1),u=async()=>{try{console.time("Received bot info in"),Hx(Qs(hA,"botProfile"),m=>{var g,w,k,C,L;n({icon:(g=m.data())==null?void 0:g.interactionIconURL,widgetIcon:(w=m.data())==null?void 0:w.widgetIconUrl,name:(k=m.data())==null?void 0:k.botName,slogan:(C=m.data())==null?void 0:C.metadata.slogan,initialGreet:` Hello there! My name is ${(L=m.data())==null?void 0:L.botName}, your friendly chatbot assistant. Welcome to our conversation! Whether you're here for assistance or information I'm here to help. Feel free to ask me anything or simply say hi.`,errorMessage:"Sorry, I can't seem to understand what your saying. Could you please try it again?"})})}catch(m){console.log(m)}finally{console.timeEnd("Received bot info in")}};D.useEffect(()=>{o(navigator.onLine),u()},[]),window.addEventListener("online",()=>{o(!0)}),window.addEventListener("offline",()=>{o(!1)});const f=D.useMemo(()=>({configuration:{configuration:e,setConfiguration:n},conversation:{conversation:r,setConversation:i},error:{error:l,setError:c},isOnline:{isOnline:s,setOnline:o}}),[e,r,l,s]);return d.jsx(At.Provider,{value:f,children:t})},Kx=qt.createContext({}),pA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890",mA=30;let qi="";const gA=()=>{for(let t=0;t<mA;t++)qi+=pA.charAt(Math.round(Math.random()*62));return localStorage.setItem("uid",qi),qi},vA=()=>{const t=localStorage.getItem("uid");return t==null||(t==null?void 0:t.length)<=15?(localStorage.removeItem("uid"),qi=gA()):t&&(qi=t||qi),qi},yA=({children:t})=>{const e=vA(),n=D.useContext(At),{conversation:r}=n.conversation,i=D.useMemo(()=>({uid:e,conversation:r}),[e,r]);return d.jsx(Kx.Provider,{value:i,children:t})};function Rm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Qx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _A=Qx,Yx=new pl("auth","Firebase",Qx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=new Gp("@firebase/auth");function wA(t,...e){bu.logLevel<=Se.WARN&&bu.warn(`Auth (${To}): ${t}`,...e)}function jc(t,...e){bu.logLevel<=Se.ERROR&&bu.error(`Auth (${To}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(t,...e){throw Am(t,...e)}function Zn(t,...e){return Am(t,...e)}function Xx(t,e,n){const r=Object.assign(Object.assign({},_A()),{[e]:n});return new pl("auth","Firebase",r).create(e,{appName:t.name})}function yi(t){return Xx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Am(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Yx.create(t,...e)}function ae(t,e,...n){if(!t)throw Am(e,...n)}function vr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jc(e),new Error(e)}function Pr(t,e){t||vr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function xA(){return W0()==="http:"||W0()==="https:"}function W0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xA()||Ob()||"connection"in navigator)?navigator.onLine:!0}function TA(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pr(n>e,"Short delay should be less than long delay!"),this.isMobile=jb()||Fb()}get(){return EA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(t,e){Pr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=new Il(3e4,6e4);function vd(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ko(t,e,n,r,i={}){return Zx(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=ml(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},s);return Vb()||(u.referrerPolicy="no-referrer"),Jx.fetch()(t2(t,t.config.apiHost,n,l),u)})}async function Zx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},IA),e);try{const i=new bA(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw mc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw mc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw mc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw mc(t,"user-disabled",o);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Xx(t,f,u);Ar(t,f)}}catch(i){if(i instanceof Dr)throw i;Ar(t,"network-request-failed",{message:String(i)})}}async function e2(t,e,n,r,i={}){const s=await ko(t,e,n,r,i);return"mfaPendingCredential"in s&&Ar(t,"multi-factor-auth-required",{_serverResponse:s}),s}function t2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Pm(t.config,i):`${t.config.apiScheme}://${i}`}class bA{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zn(this.auth,"network-request-failed")),SA.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Zn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kA(t,e){return ko(t,"POST","/v1/accounts:delete",e)}async function n2(t,e){return ko(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function La(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CA(t,e=!1){const n=Kt(t),r=await n.getIdToken(e),i=Nm(r);ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:La(yh(i.auth_time)),issuedAtTime:La(yh(i.iat)),expirationTime:La(yh(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function yh(t){return Number(t)*1e3}function Nm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return jc("JWT malformed, contained fewer than 3 sections"),null;try{const i=pw(n);return i?JSON.parse(i):(jc("Failed to decode base64 JWT payload"),null)}catch(i){return jc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function G0(t){const e=Nm(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Dr&&RA(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function RA({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=La(this.lastLoginAt),this.creationTime=La(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(t){var e;const n=t.auth,r=await t.getIdToken(),i=await al(t,n2(n,{idToken:r}));ae(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?r2(s.providerUserInfo):[],l=NA(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),f=c?u:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new zf(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function PA(t){const e=Kt(t);await ku(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NA(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function r2(t){return t.map(e=>{var{providerId:n}=e,r=Rm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DA(t,e){const n=await Zx(t,{},async()=>{const r=ml({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=t2(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",Jx.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function LA(t,e){return ko(t,"POST","/v2/accounts:revokeToken",vd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):G0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=G0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await DA(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ys;return r&&(ae(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ae(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ae(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ys,this.toJSON())}_performRefresh(){return vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class yr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Rm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new zf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await al(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return CA(this,e)}reload(){return PA(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ku(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gr(this.auth.app))return Promise.reject(yi(this.auth));const e=await this.getIdToken();return await al(this,kA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,c,u,f;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,k=(o=n.photoURL)!==null&&o!==void 0?o:void 0,C=(l=n.tenantId)!==null&&l!==void 0?l:void 0,L=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,E=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:S,emailVerified:M,isAnonymous:U,providerData:A,stsTokenManager:T}=n;ae(S&&T,e,"internal-error");const v=Ys.fromJSON(this.name,T);ae(typeof S=="string",e,"internal-error"),Br(m,e.name),Br(g,e.name),ae(typeof M=="boolean",e,"internal-error"),ae(typeof U=="boolean",e,"internal-error"),Br(w,e.name),Br(k,e.name),Br(C,e.name),Br(L,e.name),Br(E,e.name),Br(y,e.name);const x=new yr({uid:S,auth:e,email:g,emailVerified:M,displayName:m,isAnonymous:U,photoURL:k,phoneNumber:w,tenantId:C,stsTokenManager:v,createdAt:E,lastLoginAt:y});return A&&Array.isArray(A)&&(x.providerData=A.map(I=>Object.assign({},I))),L&&(x._redirectEventId=L),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ys;i.updateFromServerResponse(n);const s=new yr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ku(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ae(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?r2(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new Ys;l.updateFromIdToken(r);const c=new yr({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new zf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=new Map;function _r(t){Pr(t instanceof Function,"Expected a class definition");let e=K0.get(t);return e?(Pr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,K0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}i2.type="NONE";const Q0=i2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(t,e,n){return`firebase:${t}:${e}:${n}`}class Xs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Mc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Mc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?yr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Xs(_r(Q0),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||_r(Q0);const o=Mc(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const f=await u._get(o);if(f){const m=yr._fromJSON(e,f);u!==s&&(l=m),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Xs(s,e,r):(s=c[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Xs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(l2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(s2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(u2(e))return"Blackberry";if(d2(e))return"Webos";if(o2(e))return"Safari";if((e.includes("chrome/")||a2(e))&&!e.includes("edge/"))return"Chrome";if(c2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function s2(t=Bt()){return/firefox\//i.test(t)}function o2(t=Bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function a2(t=Bt()){return/crios\//i.test(t)}function l2(t=Bt()){return/iemobile/i.test(t)}function c2(t=Bt()){return/android/i.test(t)}function u2(t=Bt()){return/blackberry/i.test(t)}function d2(t=Bt()){return/webos/i.test(t)}function Dm(t=Bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jA(t=Bt()){var e;return Dm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function MA(){return Ub()&&document.documentMode===10}function h2(t=Bt()){return Dm(t)||c2(t)||d2(t)||u2(t)||/windows phone/i.test(t)||l2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(t,e=[]){let n;switch(t){case"Browser":n=Y0(Bt());break;case"Worker":n=`${Y0(Bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${To}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const c=e(s);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OA(t,e={}){return ko(t,"GET","/v2/passwordPolicy",vd(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=6;class UA{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:FA,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X0(this),this.idTokenSubscription=new X0(this),this.beforeStateQueue=new VA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_r(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Xs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await n2(this,{idToken:e}),r=await yr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(gr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ku(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gr(this.app))return Promise.reject(yi(this));const n=e?Kt(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gr(this.app)?Promise.reject(yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gr(this.app)?Promise.reject(yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OA(this),n=new UA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await LA(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_r(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await Xs.create(this,[_r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=f2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&wA(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function yd(t){return Kt(t)}class X0{constructor(e){this.auth=e,this.observer=null,this.addObserver=Kb(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BA(t){Lm=t}function $A(t){return Lm.loadJS(t)}function HA(){return Lm.gapiScript}function qA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(t,e){const n=Qp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(el(s,e??{}))return i;Ar(i,"already-initialized")}return n.initialize({options:e})}function GA(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_r);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function KA(t,e,n){const r=yd(t);ae(r._canInitEmulator,r,"emulator-config-failed"),ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=p2(e),{host:o,port:l}=QA(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),YA()}function p2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function QA(t){const e=p2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:J0(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:J0(o)}}}function J0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function YA(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vr("not implemented")}_getIdTokenResponse(e){return vr("not implemented")}_linkToIdToken(e,n){return vr("not implemented")}_getReauthenticationResolver(e){return vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Js(t,e){return e2(t,"POST","/v1/accounts:signInWithIdp",vd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="http://localhost";class ls extends m2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ls(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ar("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Rm(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ls(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Js(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Js(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Js(e,n)}buildRequest(){const e={requestUri:XA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ml(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl extends g2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Sl{constructor(){super("facebook.com")}static credential(e){return ls._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Sl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ls._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Jr.credential(n,r)}catch{return null}}}Jr.GOOGLE_SIGN_IN_METHOD="google.com";Jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Sl{constructor(){super("github.com")}static credential(e){return ls._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.GITHUB_SIGN_IN_METHOD="github.com";Zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends Sl{constructor(){super("twitter.com")}static credential(e,n){return ls._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ei.credential(n,r)}catch{return null}}}ei.TWITTER_SIGN_IN_METHOD="twitter.com";ei.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JA(t,e){return e2(t,"POST","/v1/accounts:signUp",vd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await yr._fromIdTokenResponse(e,r,i),o=Z0(r);return new Ii({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Z0(r);return new Ii({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Z0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZA(t){var e;if(gr(t.app))return Promise.reject(yi(t));const n=yd(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ii({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await JA(n,{returnSecureToken:!0}),i=await Ii._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends Dr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Cu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Cu(e,n,r,i)}}function v2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Cu._fromErrorAndOperation(t,s,e,r):s})}async function e3(t,e,n=!1){const r=await al(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ii._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t3(t,e,n=!1){const{auth:r}=t;if(gr(r.app))return Promise.reject(yi(r));const i="reauthenticate";try{const s=await al(t,v2(r,i,e,t),n);ae(s.idToken,r,"internal-error");const o=Nm(s.idToken);ae(o,r,"internal-error");const{sub:l}=o;return ae(t.uid===l,r,"user-mismatch"),Ii._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ar(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n3(t,e,n=!1){if(gr(t.app))return Promise.reject(yi(t));const r="signIn",i=await v2(t,r,e),s=await Ii._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function r3(t,e,n,r){return Kt(t).onIdTokenChanged(e,n,r)}function i3(t,e,n){return Kt(t).beforeAuthStateChanged(e,n)}const Ru="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ru,"1"),this.storage.removeItem(Ru),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=1e3,o3=10;class _2 extends y2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=h2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);MA()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,o3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},s3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_2.type="LOCAL";const a3=_2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2 extends y2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}w2.type="SESSION";const x2=w2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new _d(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async u=>u(n.origin,s)),c=await l3(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_d.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,c)=>{const u=jm("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(){return window}function u3(t){er().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}async function d3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function h3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function f3(){return E2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="firebaseLocalStorageDb",p3=1,Au="firebaseLocalStorage",I2="fbase_key";class bl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wd(t,e){return t.transaction([Au],e?"readwrite":"readonly").objectStore(Au)}function m3(){const t=indexedDB.deleteDatabase(T2);return new bl(t).toPromise()}function Bf(){const t=indexedDB.open(T2,p3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Au,{keyPath:I2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Au)?e(r):(r.close(),await m3(),e(await Bf()))})})}async function ey(t,e,n){const r=wd(t,!0).put({[I2]:e,value:n});return new bl(r).toPromise()}async function g3(t,e){const n=wd(t,!1).get(e),r=await new bl(n).toPromise();return r===void 0?null:r.value}function ty(t,e){const n=wd(t,!0).delete(e);return new bl(n).toPromise()}const v3=800,y3=3;class S2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>y3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return E2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_d._getInstance(f3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await d3(),!this.activeServiceWorker)return;this.sender=new c3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||h3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bf();return await ey(e,Ru,"1"),await ty(e,Ru),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ey(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>g3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ty(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=wd(i,!1).getAll();return new bl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),v3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}S2.type="LOCAL";const _3=S2;new Il(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(t,e){return e?_r(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm extends m2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Js(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Js(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Js(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function x3(t){return n3(t.auth,new Mm(t),t.bypassAuthState)}function E3(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),t3(n,new Mm(t),t.bypassAuthState)}async function T3(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),e3(n,new Mm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return x3;case"linkViaPopup":case"linkViaRedirect":return T3;case"reauthViaPopup":case"reauthViaRedirect":return E3;default:Ar(this.auth,"internal-error")}}resolve(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=new Il(2e3,1e4);class zs extends b2{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,zs.currentPopupAction&&zs.currentPopupAction.cancel(),zs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){Pr(this.filter.length===1,"Popup operations only handle one event");const e=jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,I3.get())};e()}}zs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3="pendingRedirect",Vc=new Map;class b3 extends b2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vc.get(this.auth._key());if(!e){try{const r=await k3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vc.set(this.auth._key(),e)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function k3(t,e){const n=A3(e),r=R3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function C3(t,e){Vc.set(t._key(),e)}function R3(t){return _r(t._redirectPersistence)}function A3(t){return Mc(S3,t.config.apiKey,t.name)}async function P3(t,e,n=!1){if(gr(t.app))return Promise.reject(yi(t));const r=yd(t),i=w3(r,e),o=await new b3(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=10*60*1e3;class D3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!L3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!k2(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=N3&&this.cachedEventUids.clear(),this.cachedEventUids.has(ny(e))}saveEventToCache(e){this.cachedEventUids.add(ny(e)),this.lastProcessedEventTime=Date.now()}}function ny(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function k2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function L3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return k2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j3(t,e={}){return ko(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,V3=/^https?/;async function O3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await j3(t);for(const n of e)try{if(F3(n))return}catch{}Ar(t,"unauthorized-domain")}function F3(t){const e=Uf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!V3.test(n))return!1;if(M3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=new Il(3e4,6e4);function ry(){const t=er().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function z3(t){return new Promise((e,n)=>{var r,i,s;function o(){ry(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ry(),n(Zn(t,"network-request-failed"))},timeout:U3.get()})}if(!((i=(r=er().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=er().gapi)===null||s===void 0)&&s.load)o();else{const l=qA("iframefcb");return er()[l]=()=>{gapi.load?o():n(Zn(t,"network-request-failed"))},$A(`${HA()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Oc=null,e})}let Oc=null;function B3(t){return Oc=Oc||z3(t),Oc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3=new Il(5e3,15e3),H3="__/auth/iframe",q3="emulator/auth/iframe",W3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},G3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K3(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Pm(e,q3):`https://${t.config.authDomain}/${H3}`,r={apiKey:e.apiKey,appName:t.name,v:To},i=G3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ml(r).slice(1)}`}async function Q3(t){const e=await B3(t),n=er().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:K3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:W3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Zn(t,"network-request-failed"),l=er().setTimeout(()=>{s(o)},$3.get());function c(){er().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},X3=500,J3=600,Z3="_blank",eP="http://localhost";class iy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tP(t,e,n,r=X3,i=J3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},Y3),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Bt().toLowerCase();n&&(l=a2(u)?Z3:n),s2(u)&&(e=e||eP,c.scrollbars="yes");const f=Object.entries(c).reduce((g,[w,k])=>`${g}${w}=${k},`,"");if(jA(u)&&l!=="_self")return nP(e||"",l),new iy(null);const m=window.open(e||"",l,f);ae(m,t,"popup-blocked");try{m.focus()}catch{}return new iy(m)}function nP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="__/auth/handler",iP="emulator/auth/handler",sP=encodeURIComponent("fac");async function sy(t,e,n,r,i,s){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:To,eventId:i};if(e instanceof g2){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Gb(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))o[f]=m}if(e instanceof Sl){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await t._getAppCheckToken(),u=c?`#${sP}=${encodeURIComponent(c)}`:"";return`${oP(t)}?${ml(l).slice(1)}${u}`}function oP({config:t}){return t.emulator?Pm(t,iP):`https://${t.authDomain}/${rP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h="webStorageSupport";class aP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=x2,this._completeRedirectFn=P3,this._overrideRedirectResult=C3}async _openPopup(e,n,r,i){var s;Pr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await sy(e,n,r,Uf(),i);return tP(e,o,jm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await sy(e,n,r,Uf(),i);return u3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Pr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Q3(e),r=new D3(e);return n.register("authEvent",i=>(ae(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_h,{type:_h},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[_h];o!==void 0&&n(!!o),Ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=O3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return h2()||o2()||Dm()}}const lP=aP;var oy="@firebase/auth",ay="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dP(t){co(new rs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ae(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:f2(t)},u=new zA(r,i,s,c);return GA(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),co(new rs("auth-internal",e=>{const n=yd(e.getProvider("auth").getImmediate());return(r=>new cP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gi(oy,ay,uP(t)),gi(oy,ay,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=5*60,fP=vw("authIdTokenMaxAge")||hP;let ly=null;const pP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>fP)return;const i=n==null?void 0:n.token;ly!==i&&(ly=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function mP(t=xw()){const e=Qp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=WA(t,{popupRedirectResolver:lP,persistence:[_3,a3,x2]}),r=vw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=pP(s.toString());i3(n,o,()=>o(n.currentUser)),r3(n,l=>o(l))}}const i=mw("auth");return i&&KA(n,`http://${i}`),n}function gP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}BA({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Zn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",gP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dP("Browser");const xd=qt.createContext({}),vP=({children:t})=>{const[e,n]=D.useState(!1);D.useEffect(()=>{const i=mP();ZA(i).then(()=>{n(!0)}).catch(s=>{console.error("Error occured: ",s)})},[e]);const r=D.useMemo(()=>({user:{isSignedIn:e,setIsSignedIn:n}}),[e,n]);return d.jsx(xd.Provider,{value:r,children:t})},Vm=qt.createContext({}),Mt={Light:{name:"light"},Dark:{name:"dark"},System:{name:"system"}},yP=()=>{const t=localStorage.getItem("theme");return t||"system"},_P=({children:t})=>{const[e,n]=D.useState(yP),r=()=>{n(e==="system"?matchMedia("(prefers-color-scheme: light)").matches?"dark":"light":e==="light"?"dark":"light")},i=o=>{switch(o){case Mt.Light.name:n(o);break;case Mt.Dark.name:n(o);break;case Mt.System.name:n(o)}};D.useEffect(()=>{switch(e){case Mt.Light.name:localStorage.setItem("theme",e),document.documentElement.classList.add(Mt.Light.name),document.documentElement.classList.remove(Mt.Dark.name);break;case Mt.Dark.name:localStorage.setItem("theme",e),document.documentElement.classList.add(Mt.Dark.name),document.documentElement.classList.remove(Mt.Light.name);break;case Mt.System.name:matchMedia("(prefers-color-scheme: light)").matches?(localStorage.setItem("theme",Mt.System.name),document.documentElement.classList.add(Mt.Light.name),document.documentElement.classList.remove(Mt.Dark.name)):(localStorage.setItem("theme",Mt.System.name),document.documentElement.classList.add(Mt.Dark.name),document.documentElement.classList.remove(Mt.Light.name));break}},[e]);const s=D.useMemo(()=>({default:{resolvedTheme:e,setTheme:n},toggleTheme:r,changeTheme:i}),[e,n]);return d.jsx(Vm.Provider,{value:s,children:t})},Co=qt.createContext({}),wP=()=>{const t=parseInt(localStorage.getItem("chatHeadSize")||"");return t||200},xP=({children:t})=>{const[e,n]=D.useState(!1),[r,i]=D.useState(wP),s=D.useRef(null),o=c=>{switch(c){case 100:i(c);break;case 200:i(c);break;case 300:i(c);break}};D.useEffect(()=>{localStorage.setItem("chatHeadSize",r.toString())},[r]),D.useEffect(()=>{const c=({target:u})=>{var f;(f=s.current)!=null&&f.contains(u)||n(!1)};return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[s]);const l=D.useMemo(()=>({active:{isChatActive:e,setIsChatActive:n},chatHeadSize:{chatHeadSize:r,setChatHeadSize:i},changeChatHeadSize:o,icon:s}),[e,n,r,i]);return d.jsx(Co.Provider,{value:l,children:t})};function C2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=C2(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function EP(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=C2(t))&&(r&&(r+=" "),r+=e);return r}const Om="-",TP=t=>{const e=SP(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(Om);return l[0]===""&&l.length!==1&&l.shift(),R2(l,e)||IP(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},R2=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?R2(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Om);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},cy=/^\[(.+)\]$/,IP=t=>{if(cy.test(t)){const e=cy.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},SP=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return kP(Object.entries(t.classGroups),n).forEach(([s,o])=>{$f(o,r,s,e)}),r},$f=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:uy(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(bP(i)){$f(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{$f(o,uy(e,s),n,r)})})},uy=(t,e)=>{let n=t;return e.split(Om).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},bP=t=>t.isThemeGetter,kP=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[n,i]}):t,CP=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},A2="!",RP=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=l=>{const c=[];let u=0,f=0,m;for(let L=0;L<l.length;L++){let E=l[L];if(u===0){if(E===i&&(r||l.slice(L,L+s)===e)){c.push(l.slice(f,L)),f=L+s;continue}if(E==="/"){m=L;continue}}E==="["?u++:E==="]"&&u--}const g=c.length===0?l:l.substring(f),w=g.startsWith(A2),k=w?g.substring(1):g,C=m&&m>f?m-f:void 0;return{modifiers:c,hasImportantModifier:w,baseClassName:k,maybePostfixModifierPosition:C}};return n?l=>n({className:l,parseClassName:o}):o},AP=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},PP=t=>({cache:CP(t.cacheSize),parseClassName:RP(t),...TP(t)}),NP=/\s+/,DP=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(NP);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:f,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:w}=n(u);let k=!!w,C=r(k?g.substring(0,w):g);if(!C){if(!k){l=u+(l.length>0?" "+l:l);continue}if(C=r(g),!C){l=u+(l.length>0?" "+l:l);continue}k=!1}const L=AP(f).join(":"),E=m?L+A2:L,y=E+C;if(s.includes(y))continue;s.push(y);const S=i(C,k);for(let M=0;M<S.length;++M){const U=S[M];s.push(E+U)}l=u+(l.length>0?" "+l:l)}return l};function LP(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=P2(e))&&(r&&(r+=" "),r+=n);return r}const P2=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=P2(t[r]))&&(n&&(n+=" "),n+=e);return n};function jP(t,...e){let n,r,i,s=o;function o(c){const u=e.reduce((f,m)=>m(f),t());return n=PP(u),r=n.cache.get,i=n.cache.set,s=l,l(c)}function l(c){const u=r(c);if(u)return u;const f=DP(c,n);return i(c,f),f}return function(){return s(LP.apply(null,arguments))}}const $e=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},N2=/^\[(?:([a-z-]+):)?(.+)\]$/i,MP=/^\d+\/\d+$/,VP=new Set(["px","full","screen"]),OP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,FP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,UP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,BP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,dr=t=>Zs(t)||VP.has(t)||MP.test(t),$r=t=>Ro(t,"length",YP),Zs=t=>!!t&&!Number.isNaN(Number(t)),wh=t=>Ro(t,"number",Zs),oa=t=>!!t&&Number.isInteger(Number(t)),$P=t=>t.endsWith("%")&&Zs(t.slice(0,-1)),pe=t=>N2.test(t),Hr=t=>OP.test(t),HP=new Set(["length","size","percentage"]),qP=t=>Ro(t,HP,D2),WP=t=>Ro(t,"position",D2),GP=new Set(["image","url"]),KP=t=>Ro(t,GP,JP),QP=t=>Ro(t,"",XP),aa=()=>!0,Ro=(t,e,n)=>{const r=N2.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},YP=t=>FP.test(t)&&!UP.test(t),D2=()=>!1,XP=t=>zP.test(t),JP=t=>BP.test(t),ZP=()=>{const t=$e("colors"),e=$e("spacing"),n=$e("blur"),r=$e("brightness"),i=$e("borderColor"),s=$e("borderRadius"),o=$e("borderSpacing"),l=$e("borderWidth"),c=$e("contrast"),u=$e("grayscale"),f=$e("hueRotate"),m=$e("invert"),g=$e("gap"),w=$e("gradientColorStops"),k=$e("gradientColorStopPositions"),C=$e("inset"),L=$e("margin"),E=$e("opacity"),y=$e("padding"),S=$e("saturate"),M=$e("scale"),U=$e("sepia"),A=$e("skew"),T=$e("space"),v=$e("translate"),x=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",pe,e],N=()=>[pe,e],b=()=>["",dr,$r],_e=()=>["auto",Zs,pe],ge=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],fe=()=>["solid","dashed","dotted","double","none"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],Y=()=>["","0",pe],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[Zs,pe];return{cacheSize:500,separator:":",theme:{colors:[aa],spacing:[dr,$r],blur:["none","",Hr,pe],brightness:ie(),borderColor:[t],borderRadius:["none","","full",Hr,pe],borderSpacing:N(),borderWidth:b(),contrast:ie(),grayscale:Y(),hueRotate:ie(),invert:Y(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[$P,$r],inset:P(),margin:P(),opacity:ie(),padding:N(),saturate:ie(),scale:ie(),sepia:Y(),skew:ie(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",pe]}],container:["container"],columns:[{columns:[Hr]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ge(),pe]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:x()}],"overscroll-x":[{"overscroll-x":x()}],"overscroll-y":[{"overscroll-y":x()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[C]}],"inset-x":[{"inset-x":[C]}],"inset-y":[{"inset-y":[C]}],start:[{start:[C]}],end:[{end:[C]}],top:[{top:[C]}],right:[{right:[C]}],bottom:[{bottom:[C]}],left:[{left:[C]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",oa,pe]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pe]}],grow:[{grow:Y()}],shrink:[{shrink:Y()}],order:[{order:["first","last","none",oa,pe]}],"grid-cols":[{"grid-cols":[aa]}],"col-start-end":[{col:["auto",{span:["full",oa,pe]},pe]}],"col-start":[{"col-start":_e()}],"col-end":[{"col-end":_e()}],"grid-rows":[{"grid-rows":[aa]}],"row-start-end":[{row:["auto",{span:[oa,pe]},pe]}],"row-start":[{"row-start":_e()}],"row-end":[{"row-end":_e()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pe]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[L]}],mx:[{mx:[L]}],my:[{my:[L]}],ms:[{ms:[L]}],me:[{me:[L]}],mt:[{mt:[L]}],mr:[{mr:[L]}],mb:[{mb:[L]}],ml:[{ml:[L]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pe,e]}],"min-w":[{"min-w":[pe,e,"min","max","fit"]}],"max-w":[{"max-w":[pe,e,"none","full","min","max","fit","prose",{screen:[Hr]},Hr]}],h:[{h:[pe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Hr,$r]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wh]}],"font-family":[{font:[aa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pe]}],"line-clamp":[{"line-clamp":["none",Zs,wh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",dr,pe]}],"list-image":[{"list-image":["none",pe]}],"list-style-type":[{list:["none","disc","decimal",pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",dr,$r]}],"underline-offset":[{"underline-offset":["auto",dr,pe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ge(),WP]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",qP]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},KP]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...fe(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:fe()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...fe()]}],"outline-offset":[{"outline-offset":[dr,pe]}],"outline-w":[{outline:[dr,$r]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:b()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[dr,$r]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Hr,QP]}],"shadow-color":[{shadow:[aa]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...he(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":he()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Hr,pe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[m]}],saturate:[{saturate:[S]}],sepia:[{sepia:[U]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[U]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pe]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",pe]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[oa,pe]}],"translate-x":[{"translate-x":[v]}],"translate-y":[{"translate-y":[v]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[dr,$r,wh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},e5=jP(ZP);function Fm(...t){return e5(EP(t))}function L2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=L2(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function t5(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=L2(t))&&(r&&(r+=" "),r+=e);return r}const dy=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,hy=t5,Um=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return hy(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const f=n==null?void 0:n[u],m=s==null?void 0:s[u];if(f===null)return null;const g=dy(f)||dy(m);return i[u][g]}),l=n&&Object.entries(n).reduce((u,f)=>{let[m,g]=f;return g===void 0||(u[m]=g),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:m,className:g,...w}=f;return Object.entries(w).every(k=>{let[C,L]=k;return Array.isArray(L)?L.includes({...s,...l}[C]):{...s,...l}[C]===L})?[...u,m,g]:u},[]);return hy(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},j2=Um("w-full h-full select-none",{variants:{variant:{default:"border dark:border-dm-surface-light bg-surface dark:bg-dm-surface",icon:"text-2xl rounded-full p-3 flex justify-center items-center",outline:"px-4 py-3 border border-primary rounded-full capitalize",cta:"px-8 py-4 capitalize rounded-full",destructive:"px-8 py-4 bg-error hover:bg-error/80 rounded-full capitalize",destructiveOutline:"px-4 py-3 border text-error dark:text-error border-error hover:text-white dark:hover:text-white bg-inherit dark:bg-inherit hover:bg-error dark:hover:bg-error rounded-full capitalize",radio:"bg-surface has-[input]:hover:bg-primary [&>label]:hover:text-white has-[input]:dark:hover:bg-primary dark:bg-dm-surface [&>label]:dark:text-white has-[:checked]:bg-primary has-[:checked]:dark:bg-primary has-[:checked]:hover:bg-primary-dark has-[:checked]:text-white shadow-md px-4 py-3 flex justify-center items-center rounded-3xl",settings:"flex rounded-lg text-left font-helvetica-bold hover:bg-gray-300 dark:hover:bg-dm-surface [&>span]:text-black/60 [&>span]:dark:text-white/60 [&>span]:has-[:checked]:text-white [&>span]:has-[:checked]:dark:text-white [&>div>svg>path]:text-black/60 [&>div>svg>path]:dark:text-white/60 [&>div>svg>path]:has-[:checked]:text-white [&>div>svg>path]:has-[:checked]:dark:text-white [&>div>svg>circle]:text-black/60 [&>div>svg>circle]:dark:text-white/60 [&>div>svg>circle]:has-[:checked]:text-white [&>div>svg>circle]:has-[:checked]:dark:text-white has-[:checked]:bg-primary has-[:checked]:hover:bg-primary has-[:checked]:dark:hover:bg-primary capitalize px-3 xs:px-4 py-3 cursor-pointer truncate"},size:{default:"w-max h-max",sm:"max-w-[30px]",md:"max-w-[100px] max-h-[40px]",lg:"max-w-[150px] max-h-[60px]",xl:"max-w-[200px] max-h-[80px]",icon:"max-w-[50px] max-h-[50px]",full:"w-full h-full"}},defaultVariants:{variant:"default",size:"default"}}),lt=D.forwardRef(({className:t,size:e,variant:n,...r},i)=>d.jsx("button",{ref:i,className:Fm(j2({className:t,variant:n,size:e})),...r}));var M2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},fy=qt.createContext&&qt.createContext(M2),n5=["attr","size","title"];function r5(t,e){if(t==null)return{};var n=i5(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function i5(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Pu(){return Pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pu.apply(this,arguments)}function py(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?py(Object(n),!0).forEach(function(r){s5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):py(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s5(t,e,n){return e=o5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o5(t){var e=a5(t,"string");return typeof e=="symbol"?e:e+""}function a5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V2(t){return t&&t.map((e,n)=>qt.createElement(e.tag,Nu({key:n},e.attr),V2(e.child)))}function me(t){return e=>qt.createElement(l5,Pu({attr:Nu({},t.attr)},e),V2(t.child))}function l5(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=r5(t,n5),l=i||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),qt.createElement("svg",Pu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:c,style:Nu(Nu({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&qt.createElement("title",null,s),t.children)};return fy!==void 0?qt.createElement(fy.Consumer,null,n=>e(n)):e(M2)}function zm(t){return me({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",x2:"20",y1:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"4",x2:"20",y1:"6",y2:"6"},child:[]},{tag:"line",attr:{x1:"4",x2:"20",y1:"18",y2:"18"},child:[]}]})(t)}function c5(t){return me({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"20",height:"14",x:"2",y:"3",rx:"2"},child:[]},{tag:"line",attr:{x1:"8",x2:"16",y1:"21",y2:"21"},child:[]},{tag:"line",attr:{x1:"12",x2:"12",y1:"17",y2:"21"},child:[]}]})(t)}function u5(t){return me({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"},child:[]}]})(t)}function d5(t){return me({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"4"},child:[]},{tag:"path",attr:{d:"M12 2v2"},child:[]},{tag:"path",attr:{d:"M12 20v2"},child:[]},{tag:"path",attr:{d:"m4.93 4.93 1.41 1.41"},child:[]},{tag:"path",attr:{d:"m17.66 17.66 1.41 1.41"},child:[]},{tag:"path",attr:{d:"M2 12h2"},child:[]},{tag:"path",attr:{d:"M20 12h2"},child:[]},{tag:"path",attr:{d:"m6.34 17.66-1.41 1.41"},child:[]},{tag:"path",attr:{d:"m19.07 4.93-1.41 1.41"},child:[]}]})(t)}const h5=()=>{const t=D.useContext(Vm),{resolvedTheme:e}=t.default,n=()=>e==="system"?d.jsx(c5,{}):e==="light"?d.jsx(u5,{}):d.jsx(d5,{});return d.jsxs("header",{className:"fixed top-0 left-[50%] -translate-x-[50%] container w-full h-[70px] px-[4vw] md:px-[2vw] lg:px-[4vw] flex items-center justify-between z-30",children:[d.jsx(ns,{to:"/",className:"hidden lg:block text-2xl dark:text-white bg-surface/30 dark:bg-dm-surface/50 rounded-lg p-2 backdrop-blur-sm sm:bg-transparent sm:dark:bg-transparent sm:rounded-none sm:p-0 sm:backdrop-blur-none",children:si.name}),d.jsx(lt,{onClick:t.toggleTheme,variant:"icon",size:"icon",className:"bg-surface/30 dark:bg-dm-surface/50 backdrop-blur-sm sm:bg-transparent sm:dark:bg-transparent sm:backdrop-blur-none hover:bg-surface dark:hover:bg-dm-surface [&>svg>path]:dark:text-white [&>svg>circle]:dark:text-white [&>svg>rect]:dark:text-white [&>svg>line]:dark:text-white ml-auto",children:n()})]})},f5="cob-chatbot",p5="3.0.1",m5="module",g5="pnpm@9.9.0",v5={build:"tsc -b && vite build",dev:"vite",lint:"eslint .",preview:"vite preview",prepare:"husky","pre-commit":"lint-staged",pretty:"prettier . --write",release:"release-it","release-patch":"release-it patch","release-minor":"release-it minor","release-major":"release-it major"},y5={"class-variance-authority":"^0.7.0",clsx:"^2.1.1",firebase:"^10.14.1",react:"^18.3.1","react-dom":"^18.3.1","react-icons":"^5.3.0","react-router":"^6.27.0","react-router-dom":"^6.27.0","react-textarea-autosize":"^8.5.4","tailwind-merge":"^2.5.3"},_5={"@commitlint/cli":"^19.5.0","@commitlint/config-conventional":"^19.5.0","@eslint/compat":"^1.2.0","@eslint/eslintrc":"^3.1.0","@eslint/js":"^9.12.0","@release-it/conventional-changelog":"^8.0.2","@types/react":"^18.3.11","@types/react-dom":"^18.3.1","@types/uuid":"^10.0.0","@vitejs/plugin-react-swc":"^3.7.1",autoprefixer:"^10.4.20",eslint:"^9.12.0","eslint-plugin-react":"^7.37.1","eslint-plugin-react-hooks":"^4.6.2","eslint-plugin-react-refresh":"^0.4.12","eslint-transforms":"^3.0.0","firebase-admin":"^12.6.0",globals:"^15.11.0",husky:"^9.1.6","lint-staged":"^15.2.10",postcss:"^8.4.47",prettier:"3.3.3","release-it":"^17.8.2","tailwind-scrollbar":"^3.1.0",tailwindcss:"^3.4.13",turbo:"^2.1.3",typescript:"^5.5.4","typescript-eslint":"^8.8.1",uuid:"^10.0.0",vite:"^5.4.8","vite-plugin-pwa":"^0.20.5"},w5={name:f5,version:p5,private:!0,type:m5,packageManager:g5,scripts:v5,dependencies:y5,devDependencies:_5,"lint-staged":{"*.{ts,js,tsx,json,css,html}":"prettier --write","*.{ts,js}":["prettier --write","eslint"]}},O2=({className:t,text:e})=>d.jsxs("div",{className:`${t}`,children:[e,w5.version]}),x5="/user/assets/landing-convo-light-9eANPx-E.gif",E5="/user/assets/landing-convo-dark-1yD7KdYH.gif",T5=()=>d.jsxs(d.Fragment,{children:[d.jsx(h5,{}),d.jsxs("main",{className:"container relative w-full lg:h-screen flex flex-col-reverse lg:flex-row items-center justify-center lg:justify-between 2xl:justify-around lg:items-center py-[100px] px-[2vw] lg:px-[4vw] 2xl:px-[6vw] gap-6",children:[d.jsxs("section",{className:"text-center lg:text-left",children:[d.jsxs("div",{className:"max-w-[400px]",children:[d.jsx("h1",{className:"font-helvetica text-6xl md:text-7xl lg:text-8xl bg-gradient-to-tr from-primary from-35% via-tertiary via-70% to-secondary bg-clip-text text-transparent cursor-default select-none",children:si.name}),d.jsx("p",{className:"text-2xl lg:text-3xl 2xl:text-4xl ml-2 dark:text-white max-w-[350px]",children:si.slogan})]}),d.jsx("p",{className:"text-xl text-black/50 dark:text-white/50 ml-2 mt-6 max-w-[350px]",children:si.introduction}),d.jsx(ns,{to:"/bacoor-gov",children:d.jsxs(lt,{variant:"cta",size:"xl",className:"mt-8 ml-2 bg-primary hover:bg-primary-dark lg:text-lg 2xl:text-xl text-white",children:["ask ",si.name]})})]}),d.jsxs("div",{className:"relative rounded-2xl overflow-hidden select-none",children:[d.jsx("img",{src:x5,alt:"Chatbot",className:"block dark:hidden w-max h-max max-h-max rounded-2xl object-contain"}),d.jsx("img",{src:E5,alt:"Chatbot",className:"hidden dark:block w-max h-max max-h-max rounded-2xl object-contain"})]}),d.jsx(O2,{text:"v",className:"fixed left-[2%] bottom-[2.5%] text-sm text-black/30 dark:text-white/30"})]})]}),Ao=qt.createContext({}),I5="font families",S5=[{name:"default",value:"Helvetica, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji"},{name:"cursive",value:"cursive"},{name:"monospace",value:"monospace"},{name:"poppins",value:"Poppins"},{name:"raleway",value:"Raleway"},{name:"montserrat",value:"Montserrat"},{name:"lato",value:"Lato"},{name:"kanit",value:"Kanit"},{name:"playpen sans",value:"Playpen Sans"},{name:"Caveat",value:"Caveat"}],Bm={name:I5,default:"Helvetica, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji",list:S5},b5=()=>{const t=parseInt(localStorage.getItem("fontSize")||"");return t||16},k5=()=>{const t=localStorage.getItem("fontFamily");return t||Bm.default},C5=({children:t})=>{const[e,n]=D.useState(b5),[r,i]=D.useState(k5);D.useEffect(()=>{localStorage.setItem("fontSize",e.toString()),localStorage.setItem("fontFamily",r)},[e,r]);const s=c=>{switch(c){case 8:n(c);break;case 12:n(c);break;case 16:n(c);break;case 24:n(c);break;case 32:n(c);break;case 48:n(c);break}},o=c=>{switch(c){case Bm.default:i(c);break;case"cursive":i(c);break;case"monospace":i(c);break;case"Poppins":i(c);break;case"Raleway":i(c);break;case"Montserrat":i(c);break;case"Lato":i(c);break;case"Kanit":i(c);break;case"Playpen Sans":i(c);break;case"Caveat":i(c);break}},l=D.useMemo(()=>({size:{fontSize:e,setFontSize:n},changeFontSize:s,family:{fontFamily:r,setFontFamily:i},changeFontFamily:o}),[e,n,r,i]);return d.jsx(Ao.Provider,{value:l,children:t})},$m=qt.createContext({}),R5=()=>{const t=localStorage.getItem("chatSentSound");return t||"minimalpop"},A5=({children:t})=>{const[e,n]=D.useState(R5);D.useEffect(()=>{localStorage.setItem("chatSentSound",e)},[e]);const r=D.useMemo(()=>({chatSent:{chatSentSound:e,setChatSentSound:n}}),[e,n]);return d.jsx($m.Provider,{value:r,children:t})};var Et=[];for(var xh=0;xh<256;++xh)Et.push((xh+256).toString(16).slice(1));function P5(t,e=0){return(Et[t[e+0]]+Et[t[e+1]]+Et[t[e+2]]+Et[t[e+3]]+"-"+Et[t[e+4]]+Et[t[e+5]]+"-"+Et[t[e+6]]+Et[t[e+7]]+"-"+Et[t[e+8]]+Et[t[e+9]]+"-"+Et[t[e+10]]+Et[t[e+11]]+Et[t[e+12]]+Et[t[e+13]]+Et[t[e+14]]+Et[t[e+15]]).toLowerCase()}var gc,N5=new Uint8Array(16);function D5(){if(!gc&&(gc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!gc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return gc(N5)}var L5=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const my={randomUUID:L5};function Ut(t,e,n){if(my.randomUUID&&!e&&!t)return my.randomUUID();t=t||{};var r=t.random||(t.rng||D5)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,P5(r)}const gy="Here are the list of departments with their services",j5=["departments","department","can you give me the list of departments?","can you give me the list of departments","can you give me the departments?","can you give me the departments","can you give me list of departments?","can you give me list of departments","departments list?","departments list","department list?","department list","list of departments","list of department","give me the list of deparments","depts","do you have the departments list?"],vy=[{deptName:"Office of the City Accounting and Internal Audit Services",service:`* Liquidation of Cash Advances 
* Processing of Disbursements (GF / SEF / Trust Fund) 
* Issuance of Creditable Tax BIR Forms 2306 & 2307 and F2317 
* Processing of Disbursements for Barangays`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{deptName:"City Administrator's Office",service:`* Administrative Support 
* Policy Formulation and Review 
* Approval of Leave of Absences, Travel Orders, DTRs, Obligation Requests, other Internal Transaction Documents 
* Approval of City Permits (BOSS) 
* Approval of Agricultural Permit 
* Approval of Tricycle Franchise Renewal 
* Approval of Contractor's Tax`,steps:"",requirements:""}],F2="/user/assets/minimal-pop-click-cz2B17GZ.mp3",U2="/user/assets/happy-pop-BDyL3yVR.mp3",Hf="/user/assets/multi-pop-aSd_Kb7h.mp3",M5="/user/assets/multi-pop-5-D6yGmOux.mp3",z2=()=>{const t=D.useContext($m),{chatSentSound:e}=t.chatSent;return{playMessageNotification:()=>{let s;switch(e){case"minimalpop":s=new Audio(F2);break;case"happypop":s=new Audio(U2);break;case"multipop":s=new Audio(Hf);break;default:s=new Audio(Hf);break}s.volume=.2,s.play()},playTypingSound:()=>{const s=new Audio(M5);s.volume=.1,s.play()},playChatSentSound:s=>{const o=new Audio(s);o.volume=.2,o.play()}}},eo=Px(Gx,"users"),V5=async(t,e)=>{try{const n={intent:"greetings",chat:e,chatId:Ut(),role:"bot",timestamp:we.now()};await $x(Qs(eo,t),{uid:t,conversation:[n]})}catch(n){console.log(n)}},qr=async(t,e,n)=>{const r=Qs(eo,t);(await iA(r)).exists()||await $x(Qs(eo,t),{uid:t,conversation:[e],rating:n}),await oA(Qs(eo,t),{conversation:aA(e)})},O5=["png","jpg","jpeg","gif","tiff","webp","jfif"],F5=["mp4","mov","avi","wmv","avchd","webm","flv"],U5=["doc","docx","pdf","htm","html","xls","xlsx","ppt","pptx","txt","zip"];let hn={chat:"",chatId:"",role:"",timestamp:we.now()};const z5=(t,e,n,r,i)=>(O5.includes(t)?n===i?hn={intent:r,chat:n,chatId:Ut(),role:"bot",timestamp:we.now()}:hn={intent:r,image:n,chat:null,chatId:Ut(),role:"bot",timestamp:we.now()}:F5.includes(t)?n===i?hn={intent:r,chat:n,chatId:Ut(),role:"bot",timestamp:we.now()}:hn={intent:r,video:n,chat:null,chatId:Ut(),role:"bot",timestamp:we.now()}:U5.includes(t)&&(n===i?hn={intent:r,chat:n,chatId:Ut(),role:"bot",timestamp:we.now()}:hn={intent:r,file:e,fileLink:n,fileType:t,chat:null,chatId:Ut(),role:"bot",timestamp:we.now()}),hn),yy=(t,e,n,r)=>(t===n?hn={intent:e,chat:t,chatId:Ut(),role:"bot",timestamp:we.now()}:hn={intent:e,chat:null,chatId:Ut(),link:t,linkMessage:r||"Click here",role:"bot",timestamp:we.now()},hn),B5=(t,e,n)=>(t===e?hn={chat:t,chatId:Ut(),role:"bot",timestamp:we.now()}:hn={chat:null,chatId:Ut(),role:"bot",depts:n,timestamp:we.now()},hn),cn=async t=>new Promise(e=>setTimeout(e,t*1e3)),B2=t=>/@=@/.test(t),$5=t=>/\[([^\]]+)\]/.test(t),H5=t=>/{=([^{}]+)=}/.test(t),q5=t=>{let e=[];return B2(t)&&(e=t.split("@=@")),e},W5=t=>{var e;return(e=t.current)==null||e.scrollIntoView(),!0},G5=t=>{var e;return(e=t.current)==null||e.scrollIntoView({behavior:"smooth"}),!0},_y=t=>{const e=/\[=(.*?)=]/,n=t.match(e),r=/{=([^{}]+)=}/,i=t.match(r),s=/<([^<>]+)>/,o=t.match(s);if(n){const l=n[1],c=t.replace(e,"").trim();return{link:l,text:c}}else if(i){const l=i[1];if(o){const c=o[1],u=t.replace(r,"").replace(s,"").trim();return{link:l,linkMessage:c,text:u}}else{const c=t.replace(r,"").trim();return{link:l,text:c}}}return{link:null,linkMessage:null,text:t.trim()}},K5=t=>{try{const e=decodeURIComponent(t),n=e.lastIndexOf("/")+1,r=e.indexOf("?alt=");return n!==-1&&r!==-1?e.substring(n,r):null}catch(e){return console.error("Failed to extract filename:",e),null}},$2=()=>{const t=D.useContext(xd),{isSignedIn:e}=t.user,n=D.useContext(Kx),r=D.useContext(At),{configuration:i}=r.configuration,{conversation:s,setConversation:o}=r.conversation,{error:l,setError:c}=r.error,{isOnline:u}=r.isOnline,{playMessageNotification:f}=z2(),m=D.useRef(null),[g,w]=D.useState(!1),k=D.useRef(null),[C,L]=D.useState(!1),[E,y]=D.useState(!0),[S,M]=D.useState(!1),[U,A]=D.useState(""),[T,v]=D.useState(!1);let x={chat:"",chatId:"",role:"",timestamp:we.now()};const I=()=>{L(!C)},P=D.useCallback(async()=>{try{const ge=await sA(eo);Hx(Qs(eo,n.uid),fe=>{fe.exists()?o(fe.data().conversation):!fe.exists()&&i.initialGreet&&V5(n.uid,i.initialGreet)}),ge&&y(!1)}catch(ge){console.log(ge),c(!0),ge||c(!1)}},[i.initialGreet,o,c]),N=async ge=>{try{if(console.time(`${i.name} Replied in`),v(!0),await cn(1),j5.includes(ge))[gy,vy].forEach(async(he,q)=>{q==1&&(await cn(1),v(!0),await cn(1)),x=B5(he,gy,vy),v(!1),qr(n.uid,x),f()});else{await cn(1);const fe=await fetch("https://chatbot-api-0zup.onrender.com/api/chatbot/query",{method:"POST",headers:{"content-type":"application/json",authorization:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f"},body:JSON.stringify({userQuery:ge})});fe.ok?c(!1):c(!0);const he=await fe.json(),{intent:q,answer:Y}=he.response;if(B2(Y)){q5(Y).forEach(async(ie,ce)=>{ce==1&&(await cn(1),v(!0),await cn(1)),x={intent:q,chat:ie,chatId:Ut(),role:"bot",timestamp:we.now()},v(!1),qr(n.uid,x),M(!1),f()});return}else if(H5(Y)){const{link:ee,linkMessage:ie,text:ce}=_y(Y);(ee?[ce,ee]:[]).forEach(async(Xe,st)=>{st==1&&(await cn(1),v(!0),await cn(1)),x=ie?yy(Xe,q,ce,ie):yy(Xe,q,ce),v(!1),qr(n.uid,x),M(!1),f()})}else if($5(Y)){const{text:ee,link:ie}=_y(Y),ce=ie?K5(ie):"",Pe=ce==null?void 0:ce.split(".")[1];(ie?[ee,ie]:[]).forEach(async(st,pt)=>{pt==1&&(await cn(1),v(!0),await cn(1)),x=Pe?z5(Pe,ce,st,q,ee):x,v(!1),qr(n.uid,x),M(!1),f()})}else q==="None"?(x={intent:q,chat:i.errorMessage,chatId:Ut(),role:"bot",timestamp:we.now()},v(!1),qr(n.uid,x),M(!1),f()):(x={intent:q,chat:Y,chatId:Ut(),role:"bot",timestamp:we.now()},v(!1),qr(n.uid,x),M(!1),f())}}catch(fe){console.log(fe),v(!1),c(!0),fe||c(!1)}finally{console.timeEnd(`${i.name} Replied in`)}},b=D.useCallback(async(ge,fe)=>{try{ge.preventDefault(),A(""),x={chat:fe,chatId:Ut(),role:"user",timestamp:we.now()},f(),qr(n.uid,x),await cn(1),N(fe)}catch(he){console.log(he),v(!1),c(!0),he||c(!1)}},[f,c]),_e=async ge=>{try{M(!1),x={chat:ge,chatId:Ut(),role:"user",timestamp:we.now()},f(),qr(n.uid,x),await cn(1),N(ge)}catch(fe){console.log(fe),v(!1),c(!0),fe||c(!1)}};return D.useEffect(()=>{const ge=G5(m);e&&ge&&w(!0)},[s,T,l,u,e]),D.useEffect(()=>{const ge=fe=>{const he=U.trim();fe.key=="Enter"&&!fe.shiftKey&&he!=""?(b(fe,he),A("")):fe.key=="Enter"&&!fe.shiftKey&&(fe.preventDefault(),A(""))};return document.addEventListener("keydown",ge),()=>{document.removeEventListener("keydown",ge)}},[b,U]),D.useEffect(()=>{const ge=({target:fe})=>{var he;(he=k.current)!=null&&he.contains(fe)||M(!1)};return document.addEventListener("mousedown",ge),()=>{document.removeEventListener("mousedown",ge)}},[k,S]),D.useEffect(()=>{try{console.time("Received conversation in"),P()}catch(ge){console.log(ge)}finally{console.timeEnd("Received conversation in")}},[P]),{isAtLatestChat:g,latestChat:m,questionsListRef:k,settings:C,setSettings:L,loading:E,setLoading:y,isFaqsMenuActive:S,setIsFaqsMenuActive:M,userMessage:U,setUserMessage:A,botIsTyping:T,setBotIsTyping:v,toggleSettings:I,conversation:s,sendMessageToBot:b,sendFaqToBot:_e}};function Q5(t){return me({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 1024c-69.1 0-136.2-13.5-199.3-40.2C251.7 958 197 921 150 874c-47-47-84-101.7-109.8-162.7C13.5 648.2 0 581.1 0 512c0-19.9 16.1-36 36-36s36 16.1 36 36c0 59.4 11.6 117 34.6 171.3 22.2 52.4 53.9 99.5 94.3 139.9 40.4 40.4 87.5 72.2 139.9 94.3C395 940.4 452.6 952 512 952c59.4 0 117-11.6 171.3-34.6 52.4-22.2 99.5-53.9 139.9-94.3 40.4-40.4 72.2-87.5 94.3-139.9C940.4 629 952 571.4 952 512c0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.2C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3s-13.5 136.2-40.2 199.3C958 772.3 921 827 874 874c-47 47-101.8 83.9-162.7 109.7-63.1 26.8-130.2 40.3-199.3 40.3z"},child:[]}]})(t)}const H2=()=>d.jsx("div",{className:"flex justify-center items-center h-[10%]",children:d.jsx(Q5,{className:"text-4xl animate-spin text-primary dark:text-dm-surface-light"})}),Y5=({onClick:t})=>{const e=D.useContext(xd),{isSignedIn:n}=e.user,r=D.useContext(At),{configuration:i}=r.configuration,s=D.useContext(Co),{isChatActive:o}=s.active,{chatHeadSize:l}=s.chatHeadSize,{isAtLatestChat:c}=$2();return d.jsx(d.Fragment,{children:n&&c&&i.widgetIcon?d.jsx("button",{onClick:t,id:"",className:`fixed right-[2%] bottom-[2%] rounded-full overflow-hidden z-[100] ${o?"scale-0 opacity-0 invisible":""}`,children:d.jsx("img",{src:i.widgetIcon,alt:"chat head logo",width:l,height:l,className:"aspect-square object-cover"})}):d.jsx("div",{style:{width:l,height:l},className:"fixed right-[2%] bottom-[2%] flex items-center justify-center z-[100] [&>div>svg>path]:text-primary xl:[&>div>svg>path]:text-white ",children:d.jsx(H2,{})})})},X5="suggested messages",J5=[{id:"1",displayedText:"City Hall Location",message:"Where can I find the City Hall of Bacoor?"},{id:"2",displayedText:"Say Hi!",message:"Hi"},{id:"3",displayedText:"Who made you?",message:"Who made you?"}],q2={name:X5,list:J5},W2=({...t})=>d.jsx(lt,{variant:"outline",size:"xl",className:"rounded-3xl w-full h-full border border-primary text-xs xs:text-sm text-primary dark:text-white hover:bg-primary hover:text-white  active:translate-y-1",...t}),rr=({items:t,renderItems:e})=>d.jsx(d.Fragment,{children:t==null?void 0:t.map((n,r)=>e(n,r))}),Z5=({sendMessageToBot:t})=>d.jsx("section",{id:"suggested-chats",className:"w-full max-w-[95%] rounded-3xl border border-surface dark:border-dm-surface-dark dark:bg-dm-surface text-xs xs:text-sm sm:text-base flex justify-around sm:justify-center xl:justify-around gap-x-2 sm:gap-x-8 xl:gap-x-2 px-4 py-2 mt-auto outline-none",children:d.jsx(rr,{items:q2.list,renderItems:e=>d.jsx(W2,{onClick:n=>t(n,e.message),children:e.displayedText},e.id)})});function qf(){return qf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qf.apply(null,arguments)}function eN(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}var tN=D.useLayoutEffect,nN=function(e){var n=D.useRef(e);return tN(function(){n.current=e}),n},wy=function(e,n){if(typeof e=="function"){e(n);return}e.current=n},rN=function(e,n){var r=D.useRef();return D.useCallback(function(i){e.current=i,r.current&&wy(r.current,null),r.current=n,n&&wy(n,i)},[n])},xy={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},iN=function(e){Object.keys(xy).forEach(function(n){e.style.setProperty(n,xy[n],"important")})},Ey=iN,$t=null,Ty=function(e,n){var r=e.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function sN(t,e,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),$t||($t=document.createElement("textarea"),$t.setAttribute("tabindex","-1"),$t.setAttribute("aria-hidden","true"),Ey($t)),$t.parentNode===null&&document.body.appendChild($t);var i=t.paddingSize,s=t.borderSize,o=t.sizingStyle,l=o.boxSizing;Object.keys(o).forEach(function(g){var w=g;$t.style[w]=o[w]}),Ey($t),$t.value=e;var c=Ty($t,t);$t.value=e,c=Ty($t,t),$t.value="x";var u=$t.scrollHeight-i,f=u*n;l==="border-box"&&(f=f+i+s),c=Math.max(f,c);var m=u*r;return l==="border-box"&&(m=m+i+s),c=Math.min(m,c),[c,u]}var Iy=function(){},oN=function(e,n){return e.reduce(function(r,i){return r[i]=n[i],r},{})},aN=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],lN=!!document.documentElement.currentStyle,cN=function(e){var n=window.getComputedStyle(e);if(n===null)return null;var r=oN(aN,n),i=r.boxSizing;if(i==="")return null;lN&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},uN=cN;function G2(t,e,n){var r=nN(n);D.useLayoutEffect(function(){var i=function(o){return r.current(o)};if(t)return t.addEventListener(e,i),function(){return t.removeEventListener(e,i)}},[])}var dN=function(e){G2(window,"resize",e)},hN=function(e){G2(document.fonts,"loadingdone",e)},fN=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],pN=function(e,n){var r=e.cacheMeasurements,i=e.maxRows,s=e.minRows,o=e.onChange,l=o===void 0?Iy:o,c=e.onHeightChange,u=c===void 0?Iy:c,f=eN(e,fN),m=f.value!==void 0,g=D.useRef(null),w=rN(g,n),k=D.useRef(0),C=D.useRef(),L=function(){var S=g.current,M=r&&C.current?C.current:uN(S);if(M){C.current=M;var U=sN(M,S.value||S.placeholder||"x",s,i),A=U[0],T=U[1];k.current!==A&&(k.current=A,S.style.setProperty("height",A+"px","important"),u(A,{rowHeight:T}))}},E=function(S){m||L(),l(S)};return D.useLayoutEffect(L),dN(L),hN(L),D.createElement("textarea",qf({},f,{onChange:E,ref:w}))},K2=D.forwardRef(pN);const mN="services and process questions",gN=[{query:"what is the process for disbursements?"},{query:"steps for the approval of the city permits business one stop shop?"},{query:"requirements for the distribution of palay seeds?"},{query:"where to secure reclassification of real property land?"},{query:"processing time for the emergency medical services"},{query:"what is the process for the issuance of mayor permit and business license permit"}],vN={name:mN,questions:gN};function yN(t){return me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M87.48 380c1.2-4.38-1.43-10.47-3.94-14.86a42.63 42.63 0 0 0-2.54-3.8 199.81 199.81 0 0 1-33-110C47.64 139.09 140.72 48 255.82 48 356.2 48 440 117.54 459.57 209.85a199 199 0 0 1 4.43 41.64c0 112.41-89.49 204.93-204.59 204.93-18.31 0-43-4.6-56.47-8.37s-26.92-8.77-30.39-10.11a31.14 31.14 0 0 0-11.13-2.07 30.7 30.7 0 0 0-12.08 2.43L81.5 462.78a15.92 15.92 0 0 1-4.66 1.22 9.61 9.61 0 0 1-9.58-9.74 15.85 15.85 0 0 1 .6-3.29z"},child:[]},{tag:"circle",attr:{cx:"160",cy:"256",r:"32"},child:[]},{tag:"circle",attr:{cx:"256",cy:"256",r:"32"},child:[]},{tag:"circle",attr:{cx:"352",cy:"256",r:"32"},child:[]}]})(t)}function _N(t){return me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(t)}function Q2(t){return me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m476.59 227.05-.16-.07L49.35 49.84A23.56 23.56 0 0 0 27.14 52 24.65 24.65 0 0 0 16 72.59v113.29a24 24 0 0 0 19.52 23.57l232.93 43.07a4 4 0 0 1 0 7.86L35.53 303.45A24 24 0 0 0 16 327v113.31A23.57 23.57 0 0 0 26.59 460a23.94 23.94 0 0 0 13.22 4 24.55 24.55 0 0 0 9.52-1.93L476.4 285.94l.19-.09a32 32 0 0 0 0-58.8z"},child:[]}]})(t)}function wN(t){return me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 176a80 80 0 1 0 80 80 80.24 80.24 0 0 0-80-80zm172.72 80a165.53 165.53 0 0 1-1.64 22.34l48.69 38.12a11.59 11.59 0 0 1 2.63 14.78l-46.06 79.52a11.64 11.64 0 0 1-14.14 4.93l-57.25-23a176.56 176.56 0 0 1-38.82 22.67l-8.56 60.78a11.93 11.93 0 0 1-11.51 9.86h-92.12a12 12 0 0 1-11.51-9.53l-8.56-60.78A169.3 169.3 0 0 1 151.05 393L93.8 416a11.64 11.64 0 0 1-14.14-4.92L33.6 331.57a11.59 11.59 0 0 1 2.63-14.78l48.69-38.12A174.58 174.58 0 0 1 83.28 256a165.53 165.53 0 0 1 1.64-22.34l-48.69-38.12a11.59 11.59 0 0 1-2.63-14.78l46.06-79.52a11.64 11.64 0 0 1 14.14-4.93l57.25 23a176.56 176.56 0 0 1 38.82-22.67l8.56-60.78A11.93 11.93 0 0 1 209.94 26h92.12a12 12 0 0 1 11.51 9.53l8.56 60.78A169.3 169.3 0 0 1 361 119l57.2-23a11.64 11.64 0 0 1 14.14 4.92l46.06 79.52a11.59 11.59 0 0 1-2.63 14.78l-48.69 38.12a174.58 174.58 0 0 1 1.64 22.66z"},child:[]}]})(t)}const xN=({questionsListRef:t,sendMessageToBot:e,sendFaqToBot:n,userMessage:r,setUserMessage:i,isFaqsMenuActive:s,setIsFaqsMenuActive:o})=>{const l=()=>{o(!s)},c=()=>d.jsxs("section",{id:"questions-list",className:`w-full max-w-[95%] max-h-[500px] md:max-h-[400px] xl:max-h-[300px] absolute bottom-0 px-4 py-5 mb-[160px] rounded-3xl bg-white dark:bg-dm-surface border border-surface dark:border-dm-surface-dark overflow-y-scroll scrollbar-thin scrollbar-track-transparent scrollbar-thumb-surface-dark dark:scrollbar-thumb-dm-surface-dark z-50 ${s?"block opacity-100 visible":"opacity-0 invisible"}`,children:[d.jsxs("div",{className:"mb-4 font-semibold",children:[d.jsx("h1",{className:"capitalize text-black/80 dark:text-white/80",children:"hello there!"}),d.jsx("p",{className:"text-black/50 dark:text-white/50",children:"You can ask me about,"})]}),d.jsx("div",{className:"inline-grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-2 gap-2 ",children:d.jsx(rr,{items:vN.questions,renderItems:({query:u},f)=>d.jsx(lt,{variant:"outline",className:"rounded-3xl w-full h-full border border-primary text-xs xs:text-sm text-primary dark:text-white hover:bg-primary hover:text-white active:translate-y-1",onClick:()=>n(u),children:u},f)})})]});return d.jsxs("div",{ref:t,className:"w-full flex justify-center items-center",children:[c(),d.jsxs("form",{onSubmit:u=>e(u,r),className:"w-full flex justify-between items-center gap-1 px-2 py-2",children:[d.jsx(lt,{variant:"icon",size:"icon",className:`text-primary hover:bg-surface dark:hover:bg-dm-surface ${s&&"bg-primary [&>svg]:text-white hover:bg-primary dark:hover:bg-primary"}`,type:"button",onClick:l,children:d.jsx(zm,{})}),d.jsx("label",{htmlFor:"chat",className:"w-full px-2 py-3 rounded-3xl flex items-center border border-surface-dark outline-primary focus-within:border-primary dark:border-transparent dark:bg-dm-surface dark:focus-within:bg-dm-surface-light cursor-text",children:d.jsx(K2,{id:"chat",name:"chat",autoFocus:!0,spellCheck:!1,value:r,onChange:u=>{i(u.target.value),o(!1)},className:"max-h-[100px] w-full dark:text-white outline-none bg-transparent placeholder:text-sm sm:placeholder:text-base px-2 dark:bg-dm-surface dark:focus:bg-dm-surface-light placeholder:opacity-80 caret-primary dark:caret-secondary scrollbar-thin scrollbar-track-transparent scrollbar-thumb-surface-dark dark:scrollbar-thumb-dm-surface-dark",placeholder:"Type here..."})}),d.jsx(lt,{variant:"icon",size:"icon",className:"text-primary active:translate-x-1 hover:bg-surface dark:hover:bg-dm-surface cursor-pointer",type:"submit",onClick:()=>o(!1),disabled:!r,children:d.jsx(Q2,{})})]})]})},EN=()=>{const[t,e]=D.useState("hide");return{backToView:t,setBackToView:e,handleScrollIntoView:r=>{var i;(i=r.current)==null||i.scrollIntoView({behavior:"smooth"})}}},TN=new Intl.DateTimeFormat("en-PH",{timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone,hour:"numeric",minute:"numeric"}),Sy=({message:t})=>d.jsx("div",{className:"w-full flex justify-center",children:d.jsx("div",{className:"min-w-[50%] px-4 py-3 mt-3 mb-2 text-center text-white rounded-3xl bg-red-500 capitalize",children:t})}),IN=({children:t,ref:e,type:n,disabled:r,onClick:i,state:s,className:o})=>{let l="",c="";switch(n){case"submit":l="active:translate-x-2";break;case"reset":l="active:tranform active:scale-75"}if(s)switch(s){case!0:c="bg-primary [&>svg>line]:text-white";break}return d.jsx("button",{ref:e,type:n,onClick:i,disabled:r,className:`p-3 rounded-full flex items-center justify-center text-2xl text-primary cursor-pointer ${l} ${c} ${o}`,children:t})},SN=()=>{const t=D.useContext(At),{configuration:e}=t.configuration;return d.jsxs("div",{className:"w-full mt-3 mb-2 rounded-3xl flex gap-2 items-center ",children:[d.jsx("img",{src:e.icon,alt:"Chatbot Icon",width:35,height:35,className:"rounded-full aspect-square object-cover select-none"}),d.jsxs("div",{className:"flex space-x-1 items-center rounded-3xl px-2 py-3 ",children:[d.jsx("div",{className:"h-2 w-2 bg-surface-dark dark:bg-dm-surface-light rounded-full animate-bounce [animation-delay:-0.3s]"}),d.jsx("div",{className:"h-2 w-2 bg-surface-dark dark:bg-dm-surface-light rounded-full animate-bounce [animation-delay:-0.15s]"}),d.jsx("div",{className:"h-2 w-2 bg-surface-dark dark:bg-dm-surface-light rounded-full animate-bounce"})]})]})},bN=Um("w-full h-full animate-pulse pointer-events-none",{variants:{variant:{default:"bg-surface-dark dark:bg-dm-surface-light",icon:"rounded-full aspect-square",chat:"max-w-[80%] rounded-3xl overflow-hidden"}},defaultVariants:{variant:"default"}}),Fc=D.forwardRef(({className:t,variant:e,...n},r)=>d.jsx("div",{ref:r,className:Fm(bN({className:t,variant:e})),...n})),kN=()=>{const t=[{role:"bot"},{role:"user"},{role:"bot"},{role:"user"},{role:"bot"}];return d.jsx("section",{id:"messages",children:d.jsx(rr,{items:t,renderItems:(e,n)=>d.jsxs(Fc,{variant:"chat",className:`${e.role=="bot"?"bot chat flex items-center gap-2":"user chat flex justify-end ml-auto"} mt-3 mb-2`,children:[e.role=="bot"&&d.jsx(Fc,{variant:"icon",className:"bg-surface dark:bg-dm-surface w-[35px] h-[35px] rounded-full select-none"}),d.jsx(Fc,{id:"chat",variant:"chat",className:`${e.role=="bot"?"bg-surface dark:bg-dm-surface w-full h-[96px]":"bg-primary w-[216px] h-[64px]"} `})]},n)})})},CN=Um("w-full h-full",{variants:{variant:{default:"",icon:"rounded-full aspect-square object-cover",iconBorder:"rounded-full border border-primary aspect-square object-cover"},size:{default:"max-w-[80px]",sm:"max-w-[50px]",md:"max-w-[100px]",lg:"max-w-[150px]",xl:"max-w-[200px]"}},defaultVariants:{variant:"default",size:"default"}}),Hm=D.forwardRef(({src:t,alt:e,className:n,size:r,variant:i,...s},o)=>d.jsx("img",{src:t,alt:e,ref:o,className:Fm(CN({className:n,variant:i,size:r})),...s})),RN=({className:t,miniProfileRef:e})=>{const n=D.useContext(At),{configuration:r}=n.configuration;return d.jsxs("section",{id:"bot-mini-profile",className:`flex flex-col items-center pt-10 ${t}`,ref:e,children:[d.jsx(Hm,{src:r.icon,alt:"Chatbot Icon",variant:"icon",size:"lg",className:"mb-2"}),d.jsx("div",{id:"details",className:"w-full flex flex-col items-center text-center mb-4 p-2",children:d.jsxs("div",{className:"mb-4 space-y-2",children:[d.jsx("h1",{className:"max-w-full font-bold text-2xl sm:text-4xl  dark:text-white capitalize line-clamp-5",children:r.name}),d.jsx("h3",{className:"max-w-full dark:text-white sm:text-lg  line-clamp-5",children:r.slogan})]})}),d.jsx("hr",{className:"w-full border-surface-dark dark:border-dm-surface-light"})]})};function AN(t){return me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(t)}function Y2(t){return me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"},child:[]}]})(t)}function by(t){return me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"},child:[]}]})(t)}const PN=({deptName:t,service:e})=>{const[n,r]=D.useState(!1),i=()=>{r(!n)};return d.jsxs("div",{className:"relative flex flex-col m-2",children:[d.jsxs("button",{onClick:()=>i(),className:`px-4 py-3 text-left text-white cursor-pointer flex justify-between items-center gap-2 ${n?"rounded-b-none rounded-t-3xl bg-primary":"rounded-3xl bg-surface-dark dark:bg-dm-surface-light"} [&>p]:hover:text-white [&>svg>path]:hover:text-white hover:bg-primary dark:hover:bg-primary z-20`,children:[d.jsx("p",{className:"max-w-[250px] text-white",children:t}),d.jsx(AN,{className:`${n?"rotate-180 text-white":"text-gray-400"}`})]}),d.jsx("div",{className:`w-full rounded-b-3xl z-10 overflow-hidden ${n==!0?"translate-y-0 bg-primary max-h-[1000px]":"-translate-y-[15%] rounded-3xl opacity-0 max-h-0 bg-surface-dark dark:bg-dm-surface-light"}`,children:d.jsx("div",{className:"px-4 py-3",children:d.jsxs("div",{className:"mb-2",children:[d.jsx("div",{className:"text-white text-lg font-semibold mb-1",children:"Here are the services we offer:"}),d.jsx("div",{className:"text-white",children:e})]})})})]})},NN=({className:t,image:e})=>d.jsx("img",{id:"image-dimmer",src:e,alt:"",className:`w-full h-full fixed inset-0 object-cover z-50 blur-xl backdrop-blur-xl brightness-[0.3] ${t}`}),la=({children:t,className:e,role:n,timestamp:r})=>{const i=D.useContext(Ao),{fontSize:s}=i.size,o=()=>{switch(n){case"user":return d.jsxs("div",{className:`rounded-3xl shadow px-4 py-3 space-y-2 break-words ${e}`,children:[d.jsx("div",{id:"message",style:{fontSize:s},className:"relative dark:text-white whitespace-pre-line",children:t}),d.jsx("div",{id:"timestamp",className:"w-full text-gray-200 dark:text-gray-300 text-xs text-right opacity-80 z-[9]",children:r})]});default:return d.jsxs("div",{className:`rounded-3xl shadow bg-surface dark:bg-dm-surface px-4 py-3 space-y-2 break-words ${e}`,children:[d.jsx("div",{id:"message",style:{fontSize:s},className:"relative dark:text-white whitespace-pre-line",children:t}),d.jsx("div",{id:"timestamp",className:"text-gray-500 dark:text-gray-300 text-xs text-right opacity-80 z-[9]",children:r})]})}};return d.jsx(d.Fragment,{children:o()})};function X2(t){return me({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6.2253 4.81108C5.83477 4.42056 5.20161 4.42056 4.81108 4.81108C4.42056 5.20161 4.42056 5.83477 4.81108 6.2253L10.5858 12L4.81114 17.7747C4.42062 18.1652 4.42062 18.7984 4.81114 19.1889C5.20167 19.5794 5.83483 19.5794 6.22535 19.1889L12 13.4142L17.7747 19.1889C18.1652 19.5794 18.7984 19.5794 19.1889 19.1889C19.5794 18.7984 19.5794 18.1652 19.1889 17.7747L13.4142 12L19.189 6.2253C19.5795 5.83477 19.5795 5.20161 19.189 4.81108C18.7985 4.42056 18.1653 4.42056 17.7748 4.81108L12 10.5858L6.2253 4.81108Z",fill:"currentColor"},child:[]}]})(t)}function DN(t){return me({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M4 4H8V8H4V4Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M4 10H8V14H4V10Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M8 16H4V20H8V16Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M10 4H14V8H10V4Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M14 10H10V14H14V10Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M10 16H14V20H10V16Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M20 4H16V8H20V4Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M16 10H20V14H16V10Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M20 16H16V20H20V16Z",fill:"currentColor"},child:[]}]})(t)}function LN(t){return me({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.5 4.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293z"},child:[]}]})(t)}function jN(t){return me({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5 7.5a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v.938l.4 1.599a1 1 0 0 1-.416 1.074l-.93.62a1 1 0 0 1-1.11 0l-.929-.62a1 1 0 0 1-.415-1.074L5 8.438zm2 0H6v.938a1 1 0 0 1-.03.243l-.4 1.598.93.62.929-.62-.4-1.598A1 1 0 0 1 7 8.438z"},child:[]},{tag:"path",attr:{d:"M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1h-2v1h-1v1h1v1h-1v1h1v1H6V5H5V4h1V3H5V2h1V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5z"},child:[]}]})(t)}function MN(t){return me({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2v-1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zm-7.839 9.166v.522q0 .384-.117.641a.86.86 0 0 1-.322.387.9.9 0 0 1-.469.126.9.9 0 0 1-.471-.126.87.87 0 0 1-.32-.386 1.55 1.55 0 0 1-.117-.642v-.522q0-.386.117-.641a.87.87 0 0 1 .32-.387.87.87 0 0 1 .471-.129q.264 0 .469.13a.86.86 0 0 1 .322.386q.117.255.117.641m.803.519v-.513q0-.565-.205-.972a1.46 1.46 0 0 0-.589-.63q-.381-.22-.917-.22-.533 0-.92.22a1.44 1.44 0 0 0-.589.627q-.204.406-.205.975v.513q0 .563.205.973.205.406.59.627.386.216.92.216.535 0 .916-.216.383-.22.59-.627.204-.41.204-.973M0 11.926v4h1.459q.603 0 .999-.238a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.59-.68q-.395-.234-1.004-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082H.79V12.57Zm7.422.483a1.7 1.7 0 0 0-.103.633v.495q0 .369.103.627a.83.83 0 0 0 .298.393.85.85 0 0 0 .478.131.9.9 0 0 0 .401-.088.7.7 0 0 0 .273-.248.8.8 0 0 0 .117-.364h.765v.076a1.27 1.27 0 0 1-.226.674q-.205.29-.55.454a1.8 1.8 0 0 1-.786.164q-.54 0-.914-.216a1.4 1.4 0 0 1-.571-.627q-.194-.408-.194-.976v-.498q0-.568.197-.978.195-.411.571-.633.378-.223.911-.223.328 0 .607.097.28.093.489.272a1.33 1.33 0 0 1 .466.964v.073H9.78a.85.85 0 0 0-.12-.38.7.7 0 0 0-.273-.261.8.8 0 0 0-.398-.097.8.8 0 0 0-.475.138.87.87 0 0 0-.301.398"},child:[]}]})(t)}function VN(t){return me({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V11h-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zm-6.839 9.688v-.522a1.5 1.5 0 0 0-.117-.641.86.86 0 0 0-.322-.387.86.86 0 0 0-.469-.129.87.87 0 0 0-.471.13.87.87 0 0 0-.32.386 1.5 1.5 0 0 0-.117.641v.522q0 .384.117.641a.87.87 0 0 0 .32.387.9.9 0 0 0 .471.126.9.9 0 0 0 .469-.126.86.86 0 0 0 .322-.386 1.55 1.55 0 0 0 .117-.642m.803-.516v.513q0 .563-.205.973a1.47 1.47 0 0 1-.589.627q-.381.216-.917.216a1.86 1.86 0 0 1-.92-.216 1.46 1.46 0 0 1-.589-.627 2.15 2.15 0 0 1-.205-.973v-.513q0-.569.205-.975.205-.411.59-.627.386-.22.92-.22.535 0 .916.22.383.219.59.63.204.406.204.972M1 15.925v-3.999h1.459q.609 0 1.005.235.396.233.589.68.196.445.196 1.074 0 .634-.196 1.084-.197.451-.595.689-.396.237-.999.237zm1.354-3.354H1.79v2.707h.563q.277 0 .483-.082a.8.8 0 0 0 .334-.252q.132-.17.196-.422a2.3 2.3 0 0 0 .068-.592q0-.45-.118-.753a.9.9 0 0 0-.354-.454q-.237-.152-.61-.152Zm6.756 1.116q0-.373.103-.633a.87.87 0 0 1 .301-.398.8.8 0 0 1 .475-.138q.225 0 .398.097a.7.7 0 0 1 .273.26.85.85 0 0 1 .12.381h.765v-.073a1.33 1.33 0 0 0-.466-.964 1.4 1.4 0 0 0-.49-.272 1.8 1.8 0 0 0-.606-.097q-.534 0-.911.223-.375.222-.571.633-.197.41-.197.978v.498q0 .568.194.976.195.406.571.627.375.216.914.216.44 0 .785-.164t.551-.454a1.27 1.27 0 0 0 .226-.674v-.076h-.765a.8.8 0 0 1-.117.364.7.7 0 0 1-.273.248.9.9 0 0 1-.401.088.85.85 0 0 1-.478-.131.83.83 0 0 1-.298-.393 1.7 1.7 0 0 1-.103-.627zm5.092-1.76h.894l-1.275 2.006 1.254 1.992h-.908l-.85-1.415h-.035l-.852 1.415h-.862l1.24-2.015-1.228-1.984h.932l.832 1.439h.035z"},child:[]}]})(t)}function ON(t){return me({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V11h-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zm-9.736 7.35v3.999h-.791v-1.714H1.79v1.714H1V11.85h.791v1.626h1.682V11.85h.79Zm2.251.662v3.337h-.794v-3.337H4.588v-.662h3.064v.662zm2.176 3.337v-2.66h.038l.952 2.159h.516l.946-2.16h.038v2.661h.715V11.85h-.8l-1.14 2.596H9.93L8.79 11.85h-.805v3.999zm4.71-.674h1.696v.674H12.61V11.85h.79v3.325Z"},child:[]}]})(t)}function FN(t){return me({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z"},child:[]}]})(t)}function UN(t){return me({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m2.817-1.333h-1.6v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474.162-.302.161-.677 0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H4.15V12.48h.66q.327 0 .512.181.185.183.185.522m2.767-.67v3.336H7.48v-3.337H6.346v-.662h3.065v.662z"},child:[]}]})(t)}function zN(t){return me({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V11h-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.5 11.85h1.6q.434 0 .732.179.302.175.46.477t.158.677-.16.677q-.159.299-.464.474a1.45 1.45 0 0 1-.732.173H2.29v1.342H1.5zm2.06 1.714a.8.8 0 0 0 .085-.381q0-.34-.185-.521-.185-.182-.513-.182h-.659v1.406h.66a.8.8 0 0 0 .374-.082.57.57 0 0 0 .238-.24m1.302-1.714h1.6q.434 0 .732.179.302.175.46.477t.158.677-.16.677q-.158.299-.464.474a1.45 1.45 0 0 1-.732.173h-.803v1.342h-.79zm2.06 1.714a.8.8 0 0 0 .085-.381q0-.34-.185-.521-.184-.182-.513-.182H5.65v1.406h.66a.8.8 0 0 0 .374-.082.57.57 0 0 0 .238-.24m2.852 2.285v-3.337h1.137v-.662H7.846v.662H8.98v3.337zm3.796-3.999h.893l-1.274 2.007 1.254 1.992h-.908l-.85-1.415h-.035l-.853 1.415h-.861l1.24-2.016-1.228-1.983h.931l.832 1.439h.035z"},child:[]}]})(t)}function BN(t){return me({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-2v-1h2a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.928 15.849v-3.337h1.136v-.662H0v.662h1.134v3.337zm4.689-3.999h-.894L4.9 13.289h-.035l-.832-1.439h-.932l1.228 1.983-1.24 2.016h.862l.853-1.415h.035l.85 1.415h.907l-1.253-1.992zm1.93.662v3.337h-.794v-3.337H6.619v-.662h3.064v.662H8.546Z"},child:[]}]})(t)}function $N(t){return me({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM6.472 15.29a1.2 1.2 0 0 1-.111-.449h.765a.58.58 0 0 0 .254.384q.106.073.25.114.143.041.319.041.246 0 .413-.07a.56.56 0 0 0 .255-.193.5.5 0 0 0 .085-.29.39.39 0 0 0-.153-.326q-.152-.12-.462-.193l-.619-.143a1.7 1.7 0 0 1-.539-.214 1 1 0 0 1-.351-.367 1.1 1.1 0 0 1-.123-.524q0-.366.19-.639.19-.272.527-.422.338-.15.777-.149.457 0 .78.152.324.153.5.41.18.255.2.566h-.75a.56.56 0 0 0-.12-.258.6.6 0 0 0-.247-.181.9.9 0 0 0-.369-.068q-.325 0-.513.152a.47.47 0 0 0-.184.384q0 .18.143.3a1 1 0 0 0 .405.175l.62.143q.326.075.566.211a1 1 0 0 1 .375.358q.135.222.135.56 0 .37-.188.656a1.2 1.2 0 0 1-.539.439q-.351.158-.858.158-.381 0-.665-.09a1.4 1.4 0 0 1-.478-.252 1.1 1.1 0 0 1-.29-.375m-2.945-3.358h-.893L1.81 13.37h-.036l-.832-1.438h-.93l1.227 1.983L0 15.931h.861l.853-1.415h.035l.85 1.415h.908L2.253 13.94zm2.727 3.325H4.557v-3.325h-.79v4h2.487z"},child:[]}]})(t)}function HN(t){return me({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V11h-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM7.86 14.841a1.13 1.13 0 0 0 .401.823q.195.162.479.252.284.091.665.091.507 0 .858-.158.355-.158.54-.44a1.17 1.17 0 0 0 .187-.656q0-.336-.135-.56a1 1 0 0 0-.375-.357 2 2 0 0 0-.565-.21l-.621-.144a1 1 0 0 1-.405-.176.37.37 0 0 1-.143-.299q0-.234.184-.384.188-.152.513-.152.214 0 .37.068a.6.6 0 0 1 .245.181.56.56 0 0 1 .12.258h.75a1.1 1.1 0 0 0-.199-.566 1.2 1.2 0 0 0-.5-.41 1.8 1.8 0 0 0-.78-.152q-.44 0-.777.15-.336.149-.527.421-.19.273-.19.639 0 .302.123.524t.351.367q.229.143.54.213l.618.144q.31.073.462.193a.39.39 0 0 1 .153.326.5.5 0 0 1-.085.29.56.56 0 0 1-.255.193q-.168.07-.413.07-.176 0-.32-.04a.8.8 0 0 1-.249-.115.58.58 0 0 1-.255-.384zm-3.726-2.909h.893l-1.274 2.007 1.254 1.992h-.908l-.85-1.415h-.035l-.853 1.415H1.5l1.24-2.016-1.228-1.983h.931l.832 1.438h.036zm1.923 3.325h1.697v.674H5.266v-3.999h.791zm7.636-3.325h.893l-1.274 2.007 1.254 1.992h-.908l-.85-1.415h-.035l-.853 1.415h-.861l1.24-2.016-1.228-1.983h.931l.832 1.438h.036z"},child:[]}]})(t)}function qN(t){return me({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(t)}function WN(t){return me({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.727 6.727H14V0H4.91c-.905 0-1.637.732-1.637 1.636v20.728c0 .904.732 1.636 1.636 1.636h14.182c.904 0 1.636-.732 1.636-1.636V6.727h-6zm-.545 10.455H7.09v-1.364h7.09v1.364zm2.727-3.273H7.091v-1.364h9.818v1.364zm0-3.273H7.091V9.273h9.818v1.363zM14.727 6h6l-6-6v6z"},child:[]}]})(t)}const ky=({chatBy:t,chat:e,img:n,video:r,image:i,file:s,fileLink:o,fileType:l,link:c,linkMessage:u,depts:f,renderDeptsContent:m,timestamp:g,loadMore:w,numberOfDeptsToShow:k})=>{const[C,L]=D.useState(!1),E=D.useRef(null),[y,S]=D.useState(!1),M=()=>{L(!C)},U=()=>{console.log("video loaded"),S(!0)},A=()=>{switch(l){case"doc":return d.jsx(MN,{});case"docx":return d.jsx(VN,{});case"pdf":return d.jsx(FN,{});case"html":return d.jsx(ON,{});case"xls":return d.jsx($N,{});case"xlsx":return d.jsx(HN,{});case"ppt":return d.jsx(UN,{});case"pptx":return d.jsx(zN,{});case"txt":return d.jsx(BN,{});case"zip":return d.jsx(jN,{});default:return d.jsx(WN,{})}};D.useEffect(()=>{const v=({target:x})=>{var I;(I=E.current)!=null&&I.contains(x)||L(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[C]);const T=()=>{switch(t){case"bot":return d.jsx("div",{className:`${t} message`,children:d.jsxs("div",{className:"w-full h-max relative flex items-center gap-2 mt-3 mb-2",children:[d.jsx("img",{src:n,alt:"Chatbot Icon",width:35,height:35,className:"rounded-full aspect-square object-cover select-none"}),(e||c||s||o||f)&&d.jsxs("div",{className:"max-w-[70%]",children:[e&&d.jsx(la,{timestamp:g,children:e}),c&&d.jsx(ns,{to:c,target:"_blank",className:"group",children:d.jsx(la,{timestamp:g,className:"group-hover:bg-surface-dark/50 dark:group-hover:bg-dm-surface-light/70",children:d.jsxs("div",{className:"flex items-center gap-2 font-semibold text-primary dark:text-secondary",children:[d.jsx(qN,{className:"text-xl"}),u]})})}),s&&o&&d.jsx(ns,{to:o,target:"_blank",className:"group",children:d.jsx(la,{timestamp:g,className:"group-hover:bg-surface-dark/50 dark:group-hover:bg-dm-surface-light/70",children:d.jsxs("div",{className:"flex items-center gap-2 font-semibold text-primary dark:text-secondary",children:[d.jsx("span",{className:"text-xl",children:A()}),s]})})}),f&&m&&k&&d.jsxs(la,{timestamp:g,children:[m(),d.jsx("button",{onClick:w,className:`w-full absolute -bottom-1 bg-gradient-to-t from-surface dark:from-dm-surface from-15% h-[100px] z-30 backdrop-blur-xs  ${(f==null?void 0:f.length)<=k?"hidden":"block"} hover:backdrop-blur-0 [&>p]:hover:opacity-15`,children:d.jsxs("p",{className:"flex flex-col items-center justify-center gap-1 font-semibold text-primary dark:text-secondary drop-shadow-lg animate-bounce text-base",children:["Click here to show more",d.jsx(LN,{})]})})]})]}),i&&d.jsx("div",{className:`${y?"w-max h-max":"w-full h-[400px] bg-surface-dark/50 dark:bg-dm-surface-light animate-pulse aspect-square"} max-w-[70%] sm:max-w-[70%] md:max-w-[60%] lg:max-w-[50%] xl:max-w-[70%] cursor-pointer hover:opacity-70 rounded-xl overflow-hidden`,onClick:M,children:d.jsx("img",{src:i,alt:"",className:"rounded-xl",onLoad:U})}),r&&d.jsx("video",{controls:!0,muted:!0,className:"w-max max-w-[50%] sm:max-w-[40%] md:max-w-[35%] lg:max-w-[30%] xl:max-w-[50%] max-h-max rounded-xl outline-primary object-contain cursor-pointer",children:d.jsx("source",{src:r,type:"video/mp4"})})]})});case"user":return d.jsx("div",{className:`${t} message`,children:d.jsx("div",{className:"w-full flex justify-end mt-3 mb-2",children:d.jsx(la,{timestamp:g,role:"user",className:"max-w-[80%] bg-primary text-white",children:e})})})}};return d.jsxs(d.Fragment,{children:[C&&d.jsxs(d.Fragment,{children:[d.jsx(lt,{variant:"icon",size:"icon",className:"fixed top-10 right-10 z-[100] text-white bg-error hover:bg-error/80 [&>svg>path]:hover:text-white",onClick:M,children:d.jsx(X2,{})}),d.jsx("div",{className:"fixed top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] w-screen h-screen flex justify-center items-center p-[4vw] z-[90]",children:d.jsx("img",{src:i,alt:"",className:"w-max max-w-[90%] h-max max-h-full",ref:E})}),d.jsx(NN,{image:i})]}),T()]})},GN=4,KN=1,QN=({role:t,chat:e,image:n,video:r,file:i,fileLink:s,fileType:o,link:l,linkMessage:c,depts:u,timestamp:f})=>{const m=D.useContext(At),{configuration:g}=m.configuration,[w,k]=D.useState(4),C=KN*w,L=C-w,E=u==null?void 0:u.slice(L,C),y=()=>{k(w+GN)},S=()=>{if(u)return d.jsx(rr,{items:E,renderItems:(U,A)=>d.jsx(PN,{deptName:U.deptName,service:U.service,steps:U.steps,requirements:U.requirements},A)})},M=()=>{if(t==="bot")return d.jsx(ky,{chatBy:t,chat:e,img:g.icon,image:n,video:r,file:i,fileLink:s,fileType:o,link:l,linkMessage:c,depts:u,renderDeptsContent:S,timestamp:f,loadMore:y,numberOfDeptsToShow:w});if(t==="user")return d.jsx(ky,{chatBy:t,chat:e,timestamp:f})};return d.jsx(d.Fragment,{children:M()})};function YN(t){return me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function XN(t){return me({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"},child:[]}]})(t)}function JN(t){return me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"},child:[]}]})(t)}function ZN(t){return me({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 0c17.7 0 32 14.3 32 32V96H472c39.8 0 72 32.2 72 72V440c0 39.8-32.2 72-72 72H168c-39.8 0-72-32.2-72-72V168c0-39.8 32.2-72 72-72H288V32c0-17.7 14.3-32 32-32zM208 384c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H208zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H304zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H400zM264 256a40 40 0 1 0 -80 0 40 40 0 1 0 80 0zm152 40a40 40 0 1 0 0-80 40 40 0 1 0 0 80zM48 224H64V416H48c-26.5 0-48-21.5-48-48V272c0-26.5 21.5-48 48-48zm544 0c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H576V224h16z"},child:[]}]})(t)}function e6(t){return me({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M533.6 32.5C598.5 85.2 640 165.8 640 256s-41.5 170.7-106.4 223.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C557.5 398.2 592 331.2 592 256s-34.5-142.2-88.7-186.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM473.1 107c43.2 35.2 70.9 88.9 70.9 149s-27.7 113.8-70.9 149c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C475.3 341.3 496 301.1 496 256s-20.7-85.3-53.2-111.8c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zm-60.5 74.5C434.1 199.1 448 225.9 448 256s-13.9 56.9-35.4 74.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C393.1 284.4 400 271 400 256s-6.9-28.4-17.7-37.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM301.1 34.8C312.6 40 320 51.4 320 64V448c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352H64c-35.3 0-64-28.7-64-64V224c0-35.3 28.7-64 64-64h67.8L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3z"},child:[]}]})(t)}const t6=15,n6=10,r6=({botIsTyping:t,latestChat:e})=>{const n=D.useContext(At),{conversation:r}=n.conversation,{error:i}=n.error,{isOnline:s}=n.isOnline,{backToView:o,setBackToView:l,handleScrollIntoView:c}=EN(),[u,f]=D.useState(t6),[m,g]=D.useState(!1),w=r.slice(Math.max(r.length-u,0)),k=D.useRef(null),C=D.useRef(null),L=async y=>{var T;const S=y.currentTarget.scrollTop,U=(y.currentTarget.scrollHeight-457)/2,A=(T=k.current)==null?void 0:T.children.length;try{typeof e.current=="object"&&A&&(S<=U&&A>10?l("show"):l("hide"),w.length!=r.length&&S==0&&(console.log("Loading more chats"),g(!0),await cn(1),g(!1),f(u+n6),W5(C)))}catch(v){console.log(v)}},E=()=>{if(r)return d.jsx(rr,{items:w,renderItems:y=>d.jsx(QN,{role:y.role,chat:y.chat,image:y.image,video:y.video,file:y.file,fileLink:y.fileLink,fileType:y.fileType,link:y.link,linkMessage:y.linkMessage,depts:y.depts,timestamp:TN.format(new Date(y.timestamp.seconds*1e3))},y.chatId)})};return d.jsxs(d.Fragment,{children:[d.jsx(IN,{className:`${o} absolute bottom-[150px] animate-bounce bg-surface hover:bg-primary [&>svg>path]:hover:text-white dark:bg-dm-surface dark:border-transparent dark:hover:bg-dm-surface-dark [&>svg>path]:dark:hover:text-primary z-50`,onClick:()=>c(e),children:d.jsx(XN,{})}),d.jsxs("section",{className:"relative w-full h-full px-4 py-6 overflow-y-scroll scrollbar-thin scrollbar-track-transparent scrollbar-thumb-surface-dark dark:scrollbar-thumb-dm-surface",onScroll:L,children:[d.jsx(RN,{className:"mb-8",miniProfileRef:C}),m&&d.jsx(H2,{}),r?d.jsxs("div",{id:"chats",ref:k,children:[E(),t&&d.jsx(SN,{})]}):d.jsx(kN,{}),i&&d.jsx(Sy,{message:"something went wrong!"}),!s&&d.jsx(Sy,{message:"no internet connection."}),d.jsx("div",{ref:e})]})]})},J2=({className:t,message:e})=>d.jsx("div",{id:"screen-dimmer",className:`w-full h-full fixed top-0 inset-x-0 flex justify-center items-center pr-[30%] ${t}`,children:d.jsx("p",{className:"text-lg text-gray-300 animate-bounce select-none",children:e})}),i6=[{name:"appearance",settingType:"chat",icon:yN},{name:"sound",settingType:"chat",icon:e6}],Cy=({name:t,checkedIf:e,onClick:n,onChange:r,state:i,icon:s})=>d.jsxs("label",{htmlFor:t,className:`${i?"w-full":"w-max md:w-full "} ${j2({variant:"settings",size:"full"})}`,onClick:n,children:[d.jsx("input",{type:"radio",name:"settings",id:t,value:t,checked:e,onChange:r,className:"hidden"}),i?d.jsx("span",{className:"md:block max-w-full truncate",children:t}):d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"hidden md:block max-w-full truncate",children:t}),d.jsx("div",{className:"text-xl p-0 md:hidden",children:s})]})]}),Ry=({children:t})=>d.jsxs("div",{className:"flex flex-col space-y-2 mb-4",children:[t,d.jsx("hr",{className:"border-surface-dark dark:border-dm-surface "})]}),Ay=({name:t})=>d.jsx("p",{className:"w-full min-h-[35px] md:min-h-0 md:mb-2 text-xs text-black/60 dark:text-white/50 font-helvetica-bold capitalize md:px-4 line-clamp-2 break-words",children:t}),s6=({state:t,handleSettingsChange:e,changeSetting:n})=>{const r=D.useContext(At),{configuration:i}=r.configuration,[s,o]=D.useState(!1),l=D.useRef(null),c=()=>{o(!s)};return D.useEffect(()=>{const u=({target:f})=>{var m;(m=l.current)!=null&&m.contains(f)||o(!1)};return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[]),d.jsx(d.Fragment,{children:d.jsxs("nav",{className:`absolute top-0 left-0 bottom-0 h-full px-4 py-10 flex flex-col items-start sm:justify-between bg-surface dark:bg-dm-surface-dark ${s?"w-[50%] md:w-[20%]":"w-[20%] sm:w-[15%] md:w-[20%]"} z-50`,ref:l,children:[d.jsx(lt,{variant:"icon",size:"icon",onClick:c,className:`${s?"bg-primary [&>svg>line]:text-white":"hover:bg-surface-dark dark:hover:bg-dm-surface"} [&>svg>line]:dark:text-white md:hidden mb-10`,children:d.jsx(zm,{})}),d.jsxs("div",{className:"w-full",children:[d.jsxs(Ry,{children:[d.jsx(Ay,{name:"chat settings"}),i6.filter(u=>u.settingType==="chat").map(u=>d.jsx(Cy,{name:u.name,checkedIf:t==u.name,onClick:()=>n(u.name),onChange:e,icon:d.jsx(u.icon,{}),state:s},u.name))]}),d.jsxs(Ry,{children:[d.jsx(Ay,{name:"about"}),d.jsx(Cy,{name:i.name,checkedIf:t==i.name,onClick:()=>n(i.name),onChange:e,icon:d.jsx(ZN,{}),state:s})]})]}),d.jsx(O2,{className:"text-xs px-2 md:px-4 text-black/60 dark:text-white/50 mt-auto",text:`${s?"Version ":"v"}`})]})})},qm=({text:t="Settings Title"})=>d.jsx("h1",{className:"capitalize text-3xl font-bold dark:text-white w-max",children:t}),Eh=({style:t,chat:e,linkedChat:n})=>{const r=D.useContext(At),{configuration:i}=r.configuration;return d.jsx("div",{style:t,className:"bot chat",children:d.jsxs("div",{className:"w-full relative flex items-center gap-2 mt-3 mb-2",children:[d.jsx("img",{src:i.icon,alt:"Chatbot Icon",width:35,height:35,className:"rounded-full aspect-square object-cover select-none"}),e&&d.jsxs("div",{className:"max-w-[80%] rounded-3xl shadow bg-surface dark:bg-dm-surface px-4 py-3 space-y-2 break-words",children:[d.jsx("p",{id:"chat",className:"dark:text-white",children:e}),d.jsx("div",{id:"timeSent",className:"w-full text-gray-500 dark:text-gray-300 text-xs text-right opacity-80",children:new Date().toLocaleTimeString().replace(/(.*)\D\d+/,"$1")})]}),n&&d.jsxs("div",{className:"max-w-[80%] rounded-3xl shadow bg-surface dark:bg-dm-surface px-4 py-3 space-y-2 break-words cursor-pointer group",children:[d.jsx("button",{className:"text-left text-primary dark:text-secondary font-semibold group-hover:underline",children:n}),d.jsx("div",{id:"timeSent",className:"w-full text-gray-500 dark:text-gray-300 text-xs text-right opacity-80",children:new Date().toLocaleTimeString().replace(/(.*)\D\d+/,"$1")})]})]})})},Py=({style:t,chat:e})=>d.jsx("div",{style:t,className:"user chat",children:d.jsx("div",{className:"w-full flex justify-end mt-3 mb-2",children:d.jsxs("div",{className:"max-w-[80%] rounded-3xl shadow bg-primary text-white px-4 py-3 space-y-2 break-words",children:[d.jsx("p",{id:"chat",children:e}),d.jsx("div",{id:"timeSent",className:"w-full text-gray-300 text-xs text-right opacity-80",children:new Date().toLocaleTimeString().replace(/(.*)\D\d+/,"$1")})]})})}),o6=()=>{const t=D.useContext(At),{configuration:e}=t.configuration,n=D.useContext(Ao),{fontSize:r}=n.size,{fontFamily:i}=n.family;return d.jsxs("div",{className:"max-w-[500px] w-full h-[700px] hidden md:flex flex-col items-center bg-background dark:bg-dm-background border border-surface-dark dark:border-dm-surface rounded-xl",style:{fontFamily:i},children:[d.jsx("header",{className:"w-full flex items-center justify-between px-4 py-4 mr-auto shadow-md dark:shadow-dm-surface-dark",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("img",{src:e.icon,alt:"",width:45,height:45,className:"rounded-full sm:w-[45px] sm:h-[45px] aspect-square object-cover select-none"}),d.jsx("h3",{className:"text-2xl capitalize font-semibold dark:text-white",children:"preview"})]})}),d.jsxs("div",{className:"w-full max-h-[612px] h-full px-4 py-6 overflow-y-scroll scrollbar-thin scrollbar-track-transparent scrollbar-thumb-surface-dark dark:scrollbar-thumb-dm-surface",children:[d.jsx(Py,{style:{fontSize:r},chat:"Sometimes, changing fonts helps us to read text clearly. Especially when we have eye problems "}),d.jsx(Py,{style:{fontSize:r},chat:`Your messages to ${e.name} will look like this.`}),d.jsx(Eh,{style:{fontSize:r},chat:`Meanwhile, ${e.name}'s messages will look like this.`}),d.jsx(Eh,{style:{fontSize:r},chat:`And when ${e.name} send a link`}),d.jsx(Eh,{style:{fontSize:r},linkedChat:"It will look like this"})]}),d.jsx("section",{className:"w-full max-w-[95%] rounded-3xl border border-surface dark:border-dm-surface-dark dark:bg-dm-surface text-xs xs:text-sm sm:text-base flex justify-around sm:justify-center xl:justify-around gap-x-2 sm:gap-x-8 xl:gap-x-2 px-4 py-2 mt-auto outline-none",children:q2.list.map((s,o)=>d.jsx(W2,{children:s.displayedText},o))}),d.jsxs("div",{className:"w-full flex justify-between items-center gap-1 px-2 py-2",children:[d.jsx(lt,{variant:"icon",size:"icon",className:"text-primary hover:bg-surface dark:hover:bg-dm-surface",type:"button",children:d.jsx(zm,{})}),d.jsx("label",{htmlFor:"sameple-chat-preview-ls",className:"w-full px-4 py-3 rounded-3xl flex items-center border border-surface-dark focus-within:border-primary dark:border-transparent dark:bg-dm-surface dark:focus-within:bg-dm-surface-light cursor-text",children:d.jsx(K2,{name:"sameple-chat-preview-ls",id:"sameple-chat-preview-ls",className:"max-h-[100px] w-full dark:text-white outline-none bg-transparent dark:focus:bg-dm-surface-light placeholder:text-sm sm:placeholder:text-base placeholder:opacity-80 caret-primary dark:caret-secondary scrollbar-thin scrollbar-track-transparent scrollbar-thumb-surface-dark dark:scrollbar-thumb-dm-surface-dark",placeholder:"The fonts only apply to chat"})}),d.jsx(lt,{variant:"icon",size:"icon",className:"text-primary active:translate-x-1 hover:bg-surface dark:hover:bg-dm-surface cursor-pointer",type:"submit",children:d.jsx(Q2,{})})]})]})},a6="themes",l6=[{id:"1",name:"light",value:"light"},{id:"2",name:"dark",value:"dark"},{id:"3",name:"system",value:"system"}],c6={name:a6,modes:l6},Po=({text:t="Settings Mini Title"})=>d.jsx("h3",{className:"capitalize text-lg font-semibold mb-2 text-black/60 dark:text-white/50",children:t}),kl=({name:t,id:e,value:n,checkedIf:r,onClick:i,onChange:s,style:o,displayedText:l})=>d.jsx(lt,{variant:"radio",size:"lg",className:"w-[120px] capitalize active:translate-y-1",onClick:i,children:d.jsxs("label",{htmlFor:e,className:"pointer-events-none truncate",style:o,children:[d.jsx("input",{type:"radio",name:t,id:e,value:n,checked:r,onChange:s,className:"hidden"}),l]})}),Cl=({...t})=>d.jsx("div",{className:"inline-grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 2xl:grid-cols-3 gap-5",...t}),Ed=({children:t,className:e})=>d.jsx("div",{className:`w-max ${e}`,children:t}),u6=()=>{const t=D.useContext(Vm),{resolvedTheme:e,setTheme:n}=t.default,r=i=>{n(i.target.value)};return d.jsxs(Ed,{children:[d.jsx(Po,{text:"theme"}),d.jsx(Cl,{children:d.jsx(rr,{items:c6.modes,renderItems:i=>d.jsx(kl,{name:"themes",id:i.value,value:i.value,checkedIf:e==i.value,onChange:r,onClick:()=>t.changeTheme(i.value),displayedText:i.name},i.id)})})]})},d6=()=>{const t=D.useContext(Ao),{fontFamily:e,setFontFamily:n}=t.family,r=i=>{n(i.target.value)};return d.jsxs(Ed,{children:[d.jsx(Po,{text:"font family"}),d.jsx(Cl,{children:d.jsx(rr,{items:Bm.list,renderItems:i=>d.jsx(kl,{name:"font-families",id:i.value,value:i.value,checkedIf:e==i.value,onChange:r,onClick:()=>t.changeFontFamily(i.value),style:{fontFamily:i.value},displayedText:i.name},i.value)})})]})},h6=[{name:"small",value:8},{name:"medium",value:12},{name:"normal",value:16},{name:"large",value:24},{name:"extra large",value:32},{name:"2XL",value:48}],f6=()=>{const t=D.useContext(Ao),{fontSize:e,setFontSize:n}=t.size,r=i=>{n(parseInt(i.target.value))};return d.jsxs(Ed,{children:[d.jsx(Po,{text:"font size"}),d.jsx(Cl,{children:d.jsx(rr,{items:h6,renderItems:i=>d.jsx(kl,{name:"font-sizes",id:i.value.toString(),value:i.value,checkedIf:e==i.value,onChange:r,onClick:()=>t.changeFontSize(i.value),displayedText:i.name},i.value)})})]})},Z2=({children:t})=>d.jsx("div",{className:"flex flex-col items-start gap-8",children:t}),p6=[{name:"small",value:100},{name:"medium",value:200},{name:"large",value:300}],m6=()=>{const t=D.useContext(At),{configuration:e}=t.configuration,n=D.useContext(Co),{chatHeadSize:r}=n.chatHeadSize;return d.jsx("div",{className:"hidden xs:block w-max h-max rounded-full overflow-hidden ",children:d.jsx("img",{src:e.widgetIcon,alt:"chat head logo",width:r,height:r,className:"aspect-square object-cover"})})},g6=()=>{const t=D.useContext(Co),{chatHeadSize:e,setChatHeadSize:n}=t.chatHeadSize,r=i=>{n(parseInt(i.target.value))};return d.jsxs(Ed,{className:"block",children:[d.jsx(Po,{text:"chat head size"}),d.jsx(Cl,{children:d.jsx(rr,{items:p6,renderItems:i=>d.jsx(kl,{name:"chat-head-size",id:i.value.toString(),value:i.value,checkedIf:e==i.value,onChange:r,onClick:()=>t.changeChatHeadSize(i.value),displayedText:i.name},i.value)})}),d.jsx("div",{className:"flex flex-col items-center md:items-start 2xl:items-center mt-8",children:d.jsx(m6,{})})]})},Ny=()=>d.jsx(d.Fragment,{children:d.jsxs("section",{className:"flex flex-col gap-8",children:[d.jsx(qm,{text:"appearance"}),d.jsxs("div",{className:"flex flex-col 2xl:flex-row 2xl:justify-between gap-y-10 gap-x-6",children:[d.jsxs(Z2,{children:[d.jsx(u6,{}),d.jsx(d6,{}),d.jsx(f6,{}),d.jsx(g6,{})]}),d.jsx(o6,{})]}),d.jsx("hr",{className:"w-full border-surface-dark dark:border-dm-surface-light"})]})}),v6=F2,y6=U2,Dy=Hf,_6=[{name:"minimal pop",value:"minimalpop"},{name:"happy pop",value:"happypop"},{name:"multi pop",value:"multipop"}],w6=()=>{const{playChatSentSound:t}=z2(),e=D.useContext($m),{chatSentSound:n,setChatSentSound:r}=e.chatSent,i=o=>{r(o.target.value)},s=o=>{switch(o){case"minimalpop":r(o),localStorage.setItem("chatSentSound",o),t(v6);break;case"happypop":r(o),localStorage.setItem("chatSentSound",o),t(y6);break;case"multipop":r(o),localStorage.setItem("chatSentSound",o),t(Dy);break;default:r("multipop"),t(Dy);break}};return d.jsxs("div",{children:[d.jsx(Po,{text:"chat sent"}),d.jsx(Cl,{children:d.jsx(rr,{items:_6,renderItems:o=>d.jsx(kl,{name:"message-sent-sounds",id:o.value,value:o.value,checkedIf:n==o.value,onChange:i,onClick:()=>s(o.value),displayedText:o.name},o.value)})})]})},x6=()=>d.jsxs("section",{className:"flex flex-col gap-8",children:[d.jsx(qm,{text:"sound"}),d.jsx(Z2,{children:d.jsx(w6,{})}),d.jsx("hr",{className:"w-full border-surface-dark dark:border-dm-surface-light"})]}),Ly=({to:t,src:e,alt:n,text:r})=>d.jsx(d.Fragment,{children:e?d.jsxs(ns,{to:t,target:"_blank",className:"relative flex justify-center items-center cursor-pointer rounded-full group",children:[d.jsx(Hm,{src:e,alt:n,variant:"icon",size:"xl",className:"group-hover:opacity-60 dark:group-hover:opacity-50"}),d.jsx("p",{className:"absolute opacity-0 group-hover:opacity-100 text-white text-xl font-helvetica-rounded-bold capitalize",children:r})]}):d.jsx(Fc,{variant:"icon",className:"w-full"})}),E6=({className:t})=>{const e=D.useContext(At),{configuration:n}=e.configuration;return d.jsxs("section",{id:"bot-profile",className:`flex flex-col items-center pt-10 ${t}`,children:[d.jsx(Hm,{src:n.icon,alt:"Chatbot Icon",variant:"icon",size:"lg",className:"mb-2"}),d.jsxs("div",{id:"details",className:"w-full flex flex-col items-center text-center mb-4 p-2",children:[d.jsxs("div",{className:"mb-4 space-y-2",children:[d.jsx("h1",{className:"max-w-full font-bold text-2xl sm:text-4xl  dark:text-white capitalize line-clamp-5",children:n.name}),d.jsx("h3",{className:"max-w-full dark:text-white sm:text-lg  line-clamp-5",children:n.slogan})]}),d.jsxs("div",{className:"space-y-8",children:[d.jsx("p",{className:"max-w-[600px] text-left text-black/80 dark:text-white/80 text-sm whitespace-pre-line",children:si.about}),d.jsxs("section",{className:"flex flex-col items-center gap-8 text-black/90 dark:text-white/90",children:[d.jsx("h2",{className:"font-semibold text-xl",children:"Meet my creators!"}),d.jsxs("div",{className:"inline-grid grid-cols-2 gap-4",children:[d.jsx(Ly,{to:"https://moonbamiofficial.vercel.app/",src:"https://avatars.githubusercontent.com/u/141120384?v=4",alt:"Jam Moonbami",text:"moonbami"}),d.jsx(Ly,{to:"https://www.facebook.com/JirehTumbagahan",src:"https://avatars.githubusercontent.com/u/106262567?v=4",alt:"Jireh",text:"ecchiko"})]})]})]})]}),d.jsx(ns,{to:"/",className:"my-8",children:d.jsx(lt,{variant:"cta",size:"xl",className:"text-sm border border-surface dark:border-dm-surface bg-surface dark:bg-dm-surface hover:bg-primary dark:hover:bg-primary dark:text-white hover:text-white",children:"back to homepage"})}),d.jsx("hr",{className:"w-full border-surface-dark dark:border-dm-surface-light"})]})},T6=()=>{const t=D.useContext(At),{configuration:e}=t.configuration;return d.jsxs("section",{className:"flex flex-col gap-8",children:[d.jsx(qm,{text:"about"}),d.jsx("div",{className:"flex flex-col gap-y-10 gap-x-6",children:d.jsxs("div",{children:[d.jsx(Po,{text:e.name}),d.jsx(E6,{})]})})]})},I6=({settings:t,toggleSettings:e})=>{const n=D.useContext(At),{configuration:r}=n.configuration,[i,s]=D.useState("appearance"),o=u=>{s(u.target.value)},l=u=>{switch(u){case"appearance":s(u);break;case"sound":s(u);break;case r.name:s(u);break;default:s("appearance");break}},c=()=>{switch(i){case"appearance":return d.jsx(Ny,{});case"sound":return d.jsx(x6,{});case r.name:return d.jsx(T6,{});default:return d.jsx(Ny,{})}};return d.jsxs(d.Fragment,{children:[d.jsxs("section",{className:`fixed xl:top-[50%] xl:translate-y-[-50%] xl:inset-x-0 mx-auto xl:max-w-[75%] w-full xl:max-h-[90%] h-full xl:rounded-lg border-none overflow-hidden bg-background dark:bg-dm-surface-light flex z-[150] ${t?"animate-open-modal opacity-100 visible":"opacity-0 invisible hidden"}`,children:[d.jsx(s6,{state:i,handleSettingsChange:o,changeSetting:l}),d.jsx("div",{className:"w-full pl-[23%] sm:pl-[18%] md:pl-[23%] pr-6 xl:pr-8 py-20 dark:bg-dm-background overflow-y-scroll scrollbar-thin scrollbar-track-transparent scrollbar-thumb-surface-dark dark:scrollbar-thumb-dm-surface-dark",children:c()}),d.jsx(lt,{variant:"destructiveOutline",size:"lg",className:"hidden sm:block absolute top-4 right-20 border-surface dark:border-dm-surface bg-surface dark:bg-dm-surface hover:text-white dark:hover:text-white",onClick:e,children:"back"}),d.jsx(lt,{variant:"icon",size:"icon",className:"sm:hidden border ml-auto text-error border-surface dark:border-dm-surface bg-surface dark:bg-dm-surface dark:hover:bg-error hover:bg-error [&>svg>path]:hover:text-white absolute top-4 right-10",onClick:e,children:d.jsx(X2,{})})]}),d.jsx(J2,{className:`${t?"backdrop-blur":"opacity-0 invisible"} bg-black/30 z-[140]`})]})},S6=({toggleSettings:t,closeUsing:e})=>{const n=D.useContext(At),{configuration:r}=(n==null?void 0:n.configuration)||{};return d.jsxs("header",{id:"chat-ui-header",className:"w-full flex items-center justify-between px-4 py-2 sm:py-3 lg:py-4 mr-auto border-b-2 dark:border-b-dm-surface-dark",children:[d.jsxs("button",{onClick:t,id:"chatbot-detai",className:"max-w-[60%] w-full flex items-center gap-4",children:[d.jsx("img",{src:r==null?void 0:r.icon,alt:"Chatbot Icon",width:40,height:40,className:"rounded-full sm:w-[45px] sm:h-[45px] aspect-square object-cover select-none"}),d.jsx("h3",{className:"max-w-max text-xl sm:text-2xl capitalize font-semibold dark:text-white truncate",children:r==null?void 0:r.name})]}),d.jsxs("menu",{className:"flex gap-4 justify-end items-center",children:[d.jsx(lt,{variant:"icon",size:"icon",className:"rounded-full hover:bg-primary hover:rotate-180 [&>svg>path]:hover:text-white [&>svg>path]:dark:text-white",onClick:t,children:d.jsx(wN,{})}),d.jsx(lt,{variant:"icon",size:"icon",className:"rounded-full hover:bg-error group [&>svg>path]:hover:text-white [&>svg>path]:dark:text-white",onClick:e,children:d.jsx(_N,{})})]})]})},b6=({closeUsing:t})=>{const{latestChat:e,questionsListRef:n,settings:r,isFaqsMenuActive:i,setIsFaqsMenuActive:s,userMessage:o,setUserMessage:l,botIsTyping:c,toggleSettings:u,sendMessageToBot:f,sendFaqToBot:m,isAtLatestChat:g}=$2(),w=D.useContext(xd),{isSignedIn:k}=w.user,C=D.useContext(At),{configuration:L}=C.configuration,E=D.useContext(Ao),{fontFamily:y}=E.family,S=D.useContext(Co),{isChatActive:M}=S.active,U=()=>{if(g&&k&&L.icon)return d.jsxs("div",{id:"message-box",className:`w-full h-full xl:max-w-[500px] fixed flex flex-col items-center xl:right-[10%] xl:bottom-[8%] bg-background dark:bg-dm-background xl:rounded-xl overflow-hidden z-[100] ${M?"":"translate-y-full opacity-0 invisible"} [@media_((min-height:0px)_and_(min-width:1280px))]:max-h-[85%]`,style:{fontFamily:y},children:[d.jsx(S6,{toggleSettings:u,closeUsing:t}),d.jsx(r6,{botIsTyping:c,latestChat:e}),d.jsx(Z5,{sendMessageToBot:f}),d.jsx(xN,{questionsListRef:n,sendMessageToBot:f,sendFaqToBot:m,userMessage:o,setUserMessage:l,isFaqsMenuActive:i,setIsFaqsMenuActive:s})]})};return d.jsxs(d.Fragment,{children:[U(),d.jsx(I6,{settings:r,toggleSettings:u})]})},Th=({children:t,className:e})=>d.jsx("section",{className:`md:container md:max-w-[756px] lg:max-w-[1021px] flex flex-col ${e}`,children:t}),jy=({href:t,text:e})=>d.jsx("a",{href:t,className:"capitalize font-bold py-5",children:e});function k6(t){return me({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11.9999 13.1714L16.9497 8.22168L18.3639 9.63589L11.9999 15.9999L5.63599 9.63589L7.0502 8.22168L11.9999 13.1714Z"},child:[]}]})(t)}function C6(t){return me({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10.8284 12.0007L15.7782 16.9504L14.364 18.3646L8 12.0007L14.364 5.63672L15.7782 7.05093L10.8284 12.0007Z"},child:[]}]})(t)}function R6(t){return me({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13.1717 12.0007L8.22192 7.05093L9.63614 5.63672L16.0001 12.0007L9.63614 18.3646L8.22192 16.9504L13.1717 12.0007Z"},child:[]}]})(t)}const ca=({text:t,dropdownOne:e,dropdownTwo:n,dropdownThree:r,dropdownFour:i,dropdownFive:s,toggle:o,href:l})=>d.jsxs("div",{onMouseEnter:o,onMouseLeave:o,className:"relative flex items-center gap-1 py-5 cursor-pointer",children:[l?d.jsx("a",{href:l,className:"capitalize font-bold w-full h-full",children:t}):d.jsx("p",{className:"capitalize font-bold",children:t}),d.jsx("span",{className:"[&>svg>path]:font-semibold",children:d.jsx(k6,{})}),e&&d.jsxs(ua,{children:[d.jsx(je,{href:"https://bacoor.gov.ph/uncategorized/vision-mission/",text:"mission & vision"}),d.jsx(je,{href:"https://bacoor.gov.ph/historical-background-of-bacoor/",text:"historical background of bacoor"}),d.jsx(je,{href:"https://bacoor.gov.ph/videos/352nd-bakood-festival/",text:"352nd bacoor festival"}),d.jsx(je,{href:"https://bacoor.gov.ph/ang-himno-ng-bacoor/",text:"ang himno ng bacoor"}),d.jsx(je,{href:"https://bacoor.gov.ph/category/tourism/",text:"tourism"})]}),n&&d.jsxs(ua,{children:[d.jsx(je,{href:"#",text:"citizen charter"}),d.jsx(je,{href:"https://bacoor.gov.ph/city-officials/",text:"city officials"}),d.jsx(je,{href:"https://bacoor.gov.ph/city-and-units-heads/",text:"city department and unit heads"}),d.jsx(je,{href:"https://bacoor.gov.ph/barangay-officials-2023/",text:"barangay officials"}),d.jsx(je,{href:"http://bacoorcitysp.com/legislative-tracker/",text:"city ordinances"}),d.jsx(je,{href:"#",text:"DILG Full Disclosure Policy"}),d.jsx(je,{href:"https://bacoor.gov.ph/clup-2015-2024/",text:"CLUP (2015-2024)"}),d.jsx(je,{href:"https://bacoor.gov.ph/job-vacancies/",text:"job vacancies"}),d.jsx(je,{href:"https://bacoor.gov.ph/privacy-policy/",text:"privacy policy"}),d.jsx(je,{href:"https://bacoor.gov.ph/iso-quality-management-system/",text:"ISO (Quality Management System)"})]}),r&&d.jsxs(ua,{children:[d.jsx(je,{href:"https://bacoor.gov.ph/category/awards/",text:"Awards / Accomplishment"}),d.jsx(je,{href:"https://www.facebook.com/MayorStrikeRevilla",text:"Official Facebook"}),d.jsx(je,{href:"https://www.strikesaserbisyo.com/",text:"Strike Sa Serbisyo App Website"}),d.jsx(je,{href:"#",text:"Mayor Strike - SCAN ME"})]}),i&&d.jsxs(ua,{children:[d.jsx(je,{href:"https://boss.bacoor.gov.ph/",text:"Online Application for Business & Building Permits"}),d.jsx(je,{href:"https://boss.bacoor.gov.ph/",text:"Online Appointment for Real Property Tax, Business & Building Permits"}),d.jsx(je,{href:"https://boss.bacoor.gov.ph/",text:"Solidarity Route Online Registration System"}),d.jsx(je,{href:"http://bacoorcitysp.com/legislative-tracker/",text:"city ordinances"})]}),s&&d.jsxs(ua,{children:[d.jsx(je,{href:"https://bacoor.gov.ph/bacoor-hospital-directory/",text:"hospital directory"}),d.jsx(je,{href:"https://bacoor.gov.ph/local-directory-of-bacoor-government-center/",text:"Local Gov't Offices"}),d.jsx(je,{href:"https://bacoor.gov.ph/city-and-units-heads/",text:"City Department and Unit Heads"}),d.jsx(je,{href:"https://bacoor.gov.ph/barangay-hall-directory/",text:"barangay hall"}),d.jsx(je,{href:"https://bacoor.gov.ph/national-government-agenciesoffices/",text:"National Government Agencies/Offices"})]})]}),ua=({children:t})=>d.jsx("div",{className:"w-[250px] absolute top-[60px] -left-6 flex flex-col text-xs text-black bg-white py-2 px-6",children:t}),je=({href:t,text:e})=>d.jsx("a",{href:t,className:"capitalize py-3 text-xs font-bold hover:text-[#ff0202]",children:e});function A6(t){return me({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(t)}function P6(t){return me({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M447.8 153.6c-2 43.6-32.4 103.3-91.4 179.1-60.9 79.2-112.4 118.8-154.6 118.8-26.1 0-48.2-24.1-66.3-72.3C100.3 250 85.3 174.3 56.2 174.3c-3.4 0-15.1 7.1-35.2 21.1L0 168.2c51.6-45.3 100.9-95.7 131.8-98.5 34.9-3.4 56.3 20.5 64.4 71.5 28.7 181.5 41.4 208.9 93.6 126.7 18.7-29.6 28.8-52.1 30.2-67.6 4.8-45.9-35.8-42.8-63.3-31 22-72.1 64.1-107.1 126.2-105.1 45.8 1.2 67.5 31.1 64.9 89.4z"},child:[]}]})(t)}function N6(t){return me({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(t)}function D6(t){return me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}const eE="/user/assets/city-hall-logo-DhRF3KuD.png",L6=({isMenuActive:t,setIsMenuActive:e,isSearchActive:n,setIsSearchActive:r})=>{const[i,s]=D.useState(!1),[o,l]=D.useState(!1),[c,u]=D.useState(!1),[f,m]=D.useState(!1),[g,w]=D.useState(!1),k=()=>{s(!i)},C=()=>{l(!o)},L=()=>{u(!c)},E=()=>{m(!f)},y=()=>{w(!g)};return d.jsxs("header",{className:" bg-[#1a94d5] text-white text-sm z-10",children:[d.jsxs("nav",{className:"hidden md:flex w-full items-center gap-[30px] pl-8",children:[d.jsx(jy,{href:"https://bacoor.gov.ph/",text:"home"}),d.jsx(ca,{text:"about bacoor",dropdownOne:i,toggle:k}),d.jsx(ca,{text:"city government",dropdownTwo:o,toggle:C}),d.jsx(ca,{href:"https://bacoor.gov.ph/mayor-strike-b-revilla-feed/",text:"mayor's corner",dropdownThree:c,toggle:L}),d.jsx(jy,{href:"https://bacoor.gov.ph/category/gallery/",text:"gallery"}),d.jsx(ca,{text:"services",dropdownFour:f,toggle:E}),d.jsx(ca,{text:"directory",dropdownFive:g,toggle:y}),d.jsx("button",{"aria-label":"Search Button",id:"search",className:"text-lg p-5 ml-auto",children:d.jsx(JN,{})})]}),d.jsxs("nav",{className:"flex items-center justify-between md:hidden",children:[d.jsx(lt,{onClick:()=>e(!t),className:"bg-transparent dark:bg-transparent border-none m-2",children:d.jsx(DN,{className:"text-4xl text-[#ff0202]"})}),d.jsx("a",{href:"/bacoor-gov",children:d.jsx("img",{src:eE,alt:"",className:"max-w-[40px]"})}),d.jsx(lt,{onClick:()=>r(!n),className:"bg-transparent dark:bg-transparent border-none m-2",children:d.jsx(D6,{className:"text-2xl text-[#ff0202]"})})]})]})},Du=new Date,j6=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],M6=["January","February","March","April","May","June","July","August","September","October","November","December"],V6=j6[Du.getDay()],O6=M6[Du.getMonth()],F6=`${V6}, ${O6} ${Du.getDate()}, ${Du.getFullYear()}`,U6=()=>d.jsx(d.Fragment,{children:d.jsxs("div",{id:"date-header",className:"w-full relative flex gap-10 text-xs py-1 text-white font-bold uppercase",children:[d.jsx("div",{id:"city",className:"",children:d.jsx("p",{children:"bacoor"})}),d.jsx("p",{id:"date",children:F6})]})}),z6=()=>d.jsx("a",{"aria-label":"Bacoor City Hall Logo",href:"/bacoor-gov",className:"w-[125px] h-[125px] mx-auto",children:d.jsx("img",{src:eE,alt:"Bacoor City Hall Logo",id:"main-logo",className:"rounded-full"})}),B6="/user/assets/article-image-1-6tQld0xJ.jpg",$6="/user/assets/article-image-2-B6HQEfwh.png",H6="/user/assets/article-image-3-Cavo1pST.png",q6="/user/assets/article-image-4-DsJ6AYkb.png",W6=()=>d.jsxs("article",{id:"left",className:"max-w-[680px] w-full h-full flex flex-col items-center",children:[d.jsx("img",{src:B6,alt:"",width:600,height:480,className:"p-5"}),d.jsxs("div",{className:"text-sm p-5",children:[d.jsx("a",{href:"https://bacoor.gov.ph/latest-news/parent-leaders-ng-zapote-3-nagbigay-ng-liham-para-kay-mayor-strike-b-revilla/",className:"mb-2",children:d.jsx("img",{src:$6,alt:"",className:"max-w"})}),d.jsx("p",{children:"Nabasa ni Mayor Strike B. Revilla ang pinadalang message sa kanya ng Parent Leaders ng Longos Zapote 3 sa kanyang opisina sa Bacoor City Hall. Masaya po naming nasaksihan ang naramdamang saya at lakas ng ating Mayor kanina. Nakakatuwa po..."})]}),d.jsxs("div",{className:"text-sm p-5",children:[d.jsx("a",{href:"https://bacoor.gov.ph/latest-news/tignan-unang-araw-ng-senakulo-ginanap-sa-san-nicolas-3/",className:"mb-2",children:d.jsx("img",{src:H6,alt:"",className:"max-w"})}),d.jsx("p",{children:"Noong March 25, 2024, isinagawa ang unang araw ng Senakulo na ginanap sa San Nicolas 3. Dumalo rin naman sa unang araw si Fr. Ramoncito Tadepa na nanguna sa pagbibigay ng Banal na Misa na nilahukan naman ito na Senakulista..."})]}),d.jsxs("div",{className:"text-sm p-5",children:[d.jsx("a",{href:"https://bacoor.gov.ph/latest-news/parent-leaders-ng-zapote-3-nagbigay-ng-liham-para-kay-mayor-strike-b-revilla/",className:"mb-2",children:d.jsx("img",{src:q6,alt:"",className:"max-w"})}),d.jsx("p",{children:'In a remarkable display of unity and collaboration, the City of Bacoor witnessed the launch of a groundbreaking partnership between private and public schools. The event, titled "Strike As 1 Ng Mga Nagkakaisang Paaralan," was organized by Mayor Strike...'})]})]});function G6(t){return me({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"},child:[]}]})(t)}const Wi=({text:t})=>d.jsx("div",{className:"bg-[#ff0202] px-3 capitalize text-white font-semibold text-sm rounded mr-auto inline",children:t}),K6="/user/assets/bacoor-city-hall-BIxqV_j3.png",Q6=()=>d.jsxs("article",{id:"right",className:"md:max-w-[340px] w-full border-l border-gray-300 ",children:[d.jsxs("div",{id:"about-bacoor",className:"flex flex-col gap-5 items-center px-5 pt-5 pb-10",children:[d.jsx(Wi,{text:"about bacoor"}),d.jsx("img",{src:K6,alt:"",width:300,height:100}),d.jsx("p",{className:"text-sm text-justify",children:"The City Government of Bacoor is the gateway to the province of Cavite. Bacoor is the first capital of the Revolutionary Government under General Emilio Aguinaldo. A historical landmark in our forebears' quest for Philippine Independence was the hard-fought Battle of Zapote Bridge on February 17, 1897. Gargano was the revolutionary name given to Bacoor."}),d.jsxs("a",{href:"http://bacoor.gov.ph/historical-background-of-bacoor/",className:"px-5 py-2 bg-[#1a94d5] rounded text-sm text-white capitalize flex items-center gap-1 ",children:[d.jsx(G6,{}),"history of bacoor"]}),d.jsxs("div",{id:"mission-vision",className:"text-sm",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"capitalize text-center text-xl pb-5",children:"mission"}),d.jsx("p",{className:"text-center",children:"To institute good governance, promote culture, trade and investment in the City, through modern technology towards a safe and sound environment."})]}),d.jsxs("div",{children:[d.jsx("h1",{className:"capitalize text-center text-xl pb-5",children:"vision"}),d.jsx("p",{className:"text-center t",children:"City of Bacoor: A model first class city, home of resilient, empowered, environment-friendly citizens, proud of their rich history and culture ably led by people-centered public servants united and guided by the rule of law, love of country and of God."})]})]})]}),d.jsxs("div",{id:"announcements",className:"flex flex-col bg-black text-white p-5",children:[d.jsx(Wi,{text:"announcement"}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"Memorandum Order No. 10 Series of 2024"}),d.jsx("p",{className:"text-xs text-gray-300",children:"March 25, 2024"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"Advisory: Heavy Traffic"}),d.jsx("p",{className:"text-xs text-gray-300",children:"March 18, 2024"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"SPECIAL (NON-WORKING) HOLIDAY in the province of Cavite through Proclamation No. 492"}),d.jsx("p",{className:"text-xs text-gray-300",children:"March 14, 2024"})]})]}),d.jsxs("div",{id:"city-bulletin",className:"flex flex-col p-5",children:[d.jsx(Wi,{text:"city bulletin"}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"Annual Procurement Plan 2024"}),d.jsx("p",{className:"text-xs",children:"January 31, 2024"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"ANNUAL BUDGET 2024"}),d.jsx("p",{className:"text-xs",children:"December 6, 2023"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"Public-Private Partnership Selection Committee Invitation for Comparative Proposals"}),d.jsx("p",{className:"text-xs",children:"November 7, 2023"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"CERTIFICATION OF BARANGAY MERGER"}),d.jsx("p",{className:"text-xs",children:"September 15, 2023"})]})]}),d.jsxs("div",{id:"announcements",className:"flex flex-col bg-black text-white p-5",children:[d.jsx(Wi,{text:"DILG Full Disclosure Policy"}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"DILG Full Disclosure Policy 2024"}),d.jsx("p",{className:"text-xs text-gray-300",children:"January 3, 2024"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"DILG Full Disclosure Policy 2023"}),d.jsx("p",{className:"text-xs text-gray-300",children:"December 19, 2022"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"DILG Full Disclosure Policy 2022"}),d.jsx("p",{className:"text-xs text-gray-300",children:"January 4, 2022"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"DILG Full Disclosure Policy 2021"}),d.jsx("p",{className:"text-xs text-gray-300",children:"January 7, 2021"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"DILG Full Disclosure Policy 2020"}),d.jsx("p",{className:"text-xs text-gray-300",children:"January 7, 2020"})]})]})]}),Y6="/user/assets/strike-scan-BmL1ajXO.jpg",X6="/user/assets/fb-page-5ekxKhTM.png",J6=()=>d.jsxs("footer",{className:"flex flex-col",children:[d.jsxs("div",{className:"flex flex-col md:flex-row gap-12 px-10 mt-16",children:[d.jsxs("div",{id:"fb-page",className:"max-w-[340px] flex flex-col mb-5",children:[d.jsx(Wi,{text:"LIKE US ON FACEBOOK:"}),d.jsx("a",{href:"https://www.facebook.com/CityGovtBacoor/?ref=embed_page",className:"w-[200px] inline",children:d.jsx("img",{src:X6,alt:"",width:200,height:500})})]}),d.jsxs("div",{id:"hotlines",className:"max-w-[340px] flex flex-col",children:[d.jsx("div",{className:"mb-5",children:d.jsx(Wi,{text:"EMERGENCY HOTLINES:"})}),d.jsxs("div",{className:"",children:[d.jsx("h1",{className:"text-[#ed1a3b]",children:"Bacoor Disaster Risk Reduction and Management Office (BDRRMO)"}),d.jsx("p",{className:"text-white text-sm",children:"(046) 417-0727"})]}),d.jsxs("div",{className:"",children:[d.jsx("h1",{className:"text-[#ed1a3b]",children:"Philippine National Police-Bacoor City (PNP)"}),d.jsx("p",{className:"text-white text-sm",children:"(046) 417-6366"})]}),d.jsxs("div",{className:"",children:[d.jsx("h1",{className:"text-[#ed1a3b]",children:"Bureau of Fire Protection-Bacoor City (BFP)"}),d.jsx("p",{className:"text-white text-sm",children:"(046) 417-6060"})]}),d.jsxs("div",{className:"",children:[d.jsx("h1",{className:"text-[#ed1a3b]",children:"BCity Information Office"}),d.jsx("p",{className:"text-white text-sm",children:"(046) 481-4120"})]})]}),d.jsxs("div",{id:"strike-scan",className:"max-w-[340px] flex flex-col",children:[d.jsx("div",{className:"mb-5",children:d.jsx(Wi,{text:"STRIKE SCAN ME"})}),d.jsx("img",{src:Y6,alt:"",width:200,height:250})]})]}),d.jsx("div",{id:"main-footer",className:"mt-[200px] w-full bg-black text-white text-sm py-3 px-5",children:d.jsxs("p",{children:[" Bacoor.gov.ph |",d.jsx("a",{href:"https://bacoor.gov.ph/privacy-policy/",className:"capitalize hover:text-[#ed1a3b] ml-4",children:"privacy policy"})]})})]}),Z6="/user/assets/landing-cdrUYs3f.png";function e9(t){return me({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14.5 0h-13c-0.825 0-1.5 0.675-1.5 1.5v13c0 0.825 0.675 1.5 1.5 1.5h13c0.825 0 1.5-0.675 1.5-1.5v-13c0-0.825-0.675-1.5-1.5-1.5zM11 2.5c0-0.275 0.225-0.5 0.5-0.5h2c0.275 0 0.5 0.225 0.5 0.5v2c0 0.275-0.225 0.5-0.5 0.5h-2c-0.275 0-0.5-0.225-0.5-0.5v-2zM8 5c1.656 0 3 1.344 3 3s-1.344 3-3 3c-1.656 0-3-1.344-3-3s1.344-3 3-3zM14 13.5v0c0 0.275-0.225 0.5-0.5 0.5h-11c-0.275 0-0.5-0.225-0.5-0.5v0-6.5h1.1c-0.066 0.322-0.1 0.656-0.1 1 0 2.762 2.237 5 5 5s5-2.238 5-5c0-0.344-0.034-0.678-0.1-1h1.1v6.5z"},child:[]}]})(t)}const t9=()=>{const[t,e]=D.useState(!1),[n,r]=D.useState(!1),[i,s]=D.useState(!1),[o,l]=D.useState(!1),[c,u]=D.useState(!1),[f,m]=D.useState(!1),[g,w]=D.useState(!1),k=()=>{s(!i)},C=()=>{l(!o)},L=()=>{u(!c)},E=()=>{m(!f)},y=()=>{w(!g)};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"city-hall-page-body",children:[d.jsx("span",{id:"time-header-bg",className:"w-full h-6 bg-black/40 absolute hidden md:block"}),d.jsxs(Th,{className:"hidden md:flex",children:[d.jsx(U6,{}),d.jsx(z6,{})]}),d.jsxs(Th,{className:" flex bg-white",children:[d.jsx(L6,{isMenuActive:t,setIsMenuActive:e,isSearchActive:n,setIsSearchActive:r}),d.jsxs("div",{id:"latest-news",className:"flex flex-col items-center md:flex-row px-6 py-3 gap-3",children:[d.jsx("div",{className:"w-max bg-black px-3 uppercase text-[#ff0202] font-bold text-sm rounded mr-5",children:"latest news"}),d.jsx("div",{className:"max-w-[730px] w-full text-[#ff0202] font-bold text-sm truncate",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Expedita, omnis voluptatum. Deserunt modi cumque accusamus at incidunt vel. Praesentium beatae non deleniti tempora eos dolorem labore dolore quibusdam amet vero."}),d.jsxs("div",{id:"latest-news-navigation",className:"gap-2 ml-auto hidden md:flex",children:[d.jsx("button",{className:"text-[#ff0202] rounded-sm border border-red-300",children:d.jsx(C6,{})}),d.jsx("button",{className:"text-[#ff0202] rounded-sm border border-red-300",children:d.jsx(R6,{})})]})]}),d.jsx("a",{href:"https://bacoor.gov.ph/featured/congratulations-city-government-of-bacoor/",id:"landing-image",className:"mx-auto mb-4 p-2",children:d.jsx("img",{src:Z6,alt:""})}),d.jsxs("div",{id:"article-list",className:"flex flex-col md:flex-row mx-auto",children:[d.jsx(W6,{}),d.jsx(Q6,{})]})]}),d.jsx(Th,{className:"flex bg-black/70",children:d.jsx(J6,{})})]}),d.jsxs("menu",{className:`fixed md:hidden top-0 ${t?"":"-translate-x-full invisible"} w-screen h-screen bg-[#353535] text-white z-20`,children:[d.jsxs("header",{className:"flex items-center justify-between pl-5 pr-10 pt-4",children:[d.jsxs("div",{className:"flex items-center gap-1 h-[60px]",children:[d.jsx("a",{href:"",className:"bg-transparent dark:bg-transparent border-none text-sm w-[40px] h-[40px] flex items-center justify-center hover:text-[#ff0202]",children:d.jsx(A6,{})}),d.jsx("a",{href:"",className:"bg-transparent dark:bg-transparent border-none text-sm w-[40px] h-[40px] flex items-center justify-center hover:text-[#ff0202]",children:d.jsx(e9,{})}),d.jsx("a",{href:"",className:"bg-transparent dark:bg-transparent border-none text-sm w-[40px] h-[40px] flex items-center justify-center hover:text-[#ff0202]",children:d.jsx(YN,{})}),d.jsx("a",{href:"",className:"bg-transparent dark:bg-transparent border-none text-sm w-[40px] h-[40px] flex items-center justify-center hover:text-[#ff0202]",children:d.jsx(P6,{})}),d.jsx("a",{href:"",className:"bg-transparent dark:bg-transparent border-none text-sm w-[40px] h-[40px] flex items-center justify-center hover:text-[#ff0202]",children:d.jsx(N6,{})})]}),d.jsx(lt,{onClick:()=>e(!t),className:"bg-transparent dark:bg-transparent border-none text-4xl hover:text-[#ff0202]",children:d.jsx(by,{})})]}),d.jsxs("nav",{className:"flex flex-col py-5 pl-8 pr-10",style:{fontFamily:"Raleway"},children:[d.jsx("a",{href:"/bacoor-gov",className:"capitalize text-[#ff0202] text-xl font-bold py-2",children:"home"}),d.jsxs(da,{text:"about bacoor",state:i,toggle:k,children:[d.jsx(Ue,{url:"https://bacoor.gov.ph/uncategorized/vision-mission/",text:"mission & vision"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/historical-background-of-bacoor/",text:"historical background of bacoor"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/videos/352nd-bakood-festival/",text:"352nd bacoor festival"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/ang-himno-ng-bacoor/",text:"ang himno ng bacoor"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/category/tourism/",text:"tourism"})]}),d.jsxs(da,{text:"city government",state:o,toggle:C,children:[d.jsx(Ue,{url:"https://bacoor.gov.ph/announcement/citizen-charter-2024/",text:"citizen charter"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/city-officials/",text:"city officials"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/city-and-units-heads/",text:"city department and unit heads"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/barangay-officials-2023/",text:"barangay officials"}),d.jsx(Ue,{url:"http://bacoorcitysp.com/legislative-tracker/",text:"city ordinances"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/dilg/dilg-full-disclosure-policy-2024/",text:"DILG Full Disclosure Policy"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/clup-2015-2024/",text:"CLUP (2015-2024)"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/job-vacancies/",text:"job vacancies"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/privacy-policy/",text:"privacy policy"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/iso-quality-management-system/",text:"ISO (Quality Management System)"})]}),d.jsxs("a",{href:"https://bacoor.gov.ph/mayor-strike-b-revilla-feed/",className:"w-full flex items-center justify-between capitalize text-xl font-bold py-2",children:["mayor's corner",d.jsx(Y2,{})]}),d.jsxs(da,{text:"gallery",state:c,toggle:L,children:[d.jsx(Ue,{url:"https://bacoor.gov.ph/category/gallery/",text:"gallery"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/category/photobooth/",text:"photobooth"})]}),d.jsxs(da,{text:"services",state:f,toggle:E,children:[d.jsx(Ue,{url:"https://boss.bacoor.gov.ph/",text:"Online Application for Business & Building Permits"}),d.jsx(Ue,{url:"https://boss.bacoor.gov.ph/",text:"Online Appointment for Real Property Tax, Business & Building Permits"}),d.jsx(Ue,{url:"https://boss.bacoor.gov.ph/",text:"Solidarity Route Online Registration System"}),d.jsx(Ue,{url:"http://bacoorcitysp.com/legislative-tracker/",text:"city ordinances"})]}),d.jsxs(da,{text:"directory",state:g,toggle:y,children:[d.jsx(Ue,{url:"https://bacoor.gov.ph/bacoor-hospital-directory/",text:"hospital directory"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/local-directory-of-bacoor-government-center/",text:"Local Gov't Offices"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/city-and-units-heads/",text:"City Department and Unit Heads"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/barangay-hall-directory/",text:"barangay hall"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/national-government-agenciesoffices/",text:"National Government Agencies/Offices"})]})]})]}),d.jsxs("div",{className:`fixed md:hidden top-0 ${n?"":"translate-x-full invisible"} w-screen h-screen bg-[#353535] text-white z-20`,style:{fontFamily:"Raleway"},children:[d.jsx("header",{className:"flex items-center justify-between pl-5 pr-10 pt-4",children:d.jsx(lt,{onClick:()=>r(!n),className:"bg-transparent dark:bg-transparent border-none text-4xl hover:text-[#ff0202] ml-auto",children:d.jsx(by,{})})}),d.jsxs("label",{htmlFor:"search",className:"flex flex-col gap-4 max-w-[90%] px-5 mx-auto focus-within:border-none",children:[d.jsx("p",{className:"capitalize text-center text-xs text-gray-300",children:"search"}),d.jsx("input",{type:"search",name:"search",id:"search",className:"bg-transparent border-b-[1px] text-center text-3xl font-bold py-2 focus:outline-none"})]})]})]})},da=({text:t,children:e,toggle:n,state:r})=>d.jsxs(lt,{className:"flex flex-col w-full capitalize text-xl font-bold bg-transparent dark:bg-transparent border-none",onClick:n,children:[d.jsxs("div",{className:"flex items-center justify-between w-full py-3",children:[t,d.jsx(Y2,{className:`${r&&"rotate-90"}`})]}),d.jsx("div",{className:`${r?"h-max":"h-0 opacity-0 invisible"} flex flex-col px-6 text-base font-normal text-gray-300 text-left`,children:e})]}),Ue=({text:t,url:e})=>d.jsx("a",{href:e,className:"py-2",children:t}),n9=()=>{const t=D.useContext(Co),{isChatActive:e,setIsChatActive:n}=t.active,r=t.icon,i=()=>{n(!e)};return d.jsx(d.Fragment,{children:d.jsxs("main",{className:"",children:[d.jsx("div",{ref:r,children:d.jsx(C5,{children:d.jsxs(A5,{children:[d.jsx(Y5,{onClick:i}),d.jsx(b6,{closeUsing:i})]})})}),d.jsx(t9,{}),d.jsx(J2,{message:"Click anywhere to close.",className:`bg-black z-40 backdrop-blur ${e?"opacity-80":"opacity-0 invisible"}`})]})})},r9=()=>d.jsxs("div",{children:["please provide a better 404 error page",d.jsx(ns,{to:"/",className:"underline",children:"go back here"})]}),i9=ub([{path:"/",element:d.jsx(T5,{}),errorElement:d.jsx(r9,{})},{path:"/bacoor-gov",element:d.jsx(n9,{})}],{basename:"/user"});Y_(document.getElementById("root")).render(d.jsx(D.StrictMode,{children:d.jsx(fA,{children:d.jsx(yA,{children:d.jsx(vP,{children:d.jsx(_P,{children:d.jsx(xP,{children:d.jsx(_b,{router:i9})})})})})})}));
