function E1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function T1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var S1={exports:{}},Ku={},I1={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yl=Symbol.for("react.element"),jT=Symbol.for("react.portal"),DT=Symbol.for("react.fragment"),LT=Symbol.for("react.strict_mode"),MT=Symbol.for("react.profiler"),VT=Symbol.for("react.provider"),OT=Symbol.for("react.context"),FT=Symbol.for("react.forward_ref"),zT=Symbol.for("react.suspense"),UT=Symbol.for("react.memo"),BT=Symbol.for("react.lazy"),Wg=Symbol.iterator;function $T(t){return t===null||typeof t!="object"?null:(t=Wg&&t[Wg]||t["@@iterator"],typeof t=="function"?t:null)}var b1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k1=Object.assign,C1={};function bo(t,e,n){this.props=t,this.context=e,this.refs=C1,this.updater=n||b1}bo.prototype.isReactComponent={};bo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};bo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function R1(){}R1.prototype=bo.prototype;function _p(t,e,n){this.props=t,this.context=e,this.refs=C1,this.updater=n||b1}var xp=_p.prototype=new R1;xp.constructor=_p;k1(xp,bo.prototype);xp.isPureReactComponent=!0;var Gg=Array.isArray,A1=Object.prototype.hasOwnProperty,wp={current:null},P1={key:!0,ref:!0,__self:!0,__source:!0};function N1(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)A1.call(e,r)&&!P1.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:yl,type:t,key:s,ref:o,props:i,_owner:wp.current}}function HT(t,e){return{$$typeof:yl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ep(t){return typeof t=="object"&&t!==null&&t.$$typeof===yl}function qT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Kg=/\/+/g;function Jd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qT(""+t.key):e.toString(36)}function Rc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case yl:case jT:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Jd(o,0):r,Gg(i)?(n="",t!=null&&(n=t.replace(Kg,"$&/")+"/"),Rc(i,e,n,"",function(u){return u})):i!=null&&(Ep(i)&&(i=HT(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Kg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Gg(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+Jd(s,l);o+=Rc(s,e,n,c,i)}else if(c=$T(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+Jd(s,l++),o+=Rc(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ic(t,e,n){if(t==null)return t;var r=[],i=0;return Rc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function WT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Jt={current:null},Ac={transition:null},GT={ReactCurrentDispatcher:Jt,ReactCurrentBatchConfig:Ac,ReactCurrentOwner:wp};function j1(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:ic,forEach:function(t,e,n){ic(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ic(t,function(){e++}),e},toArray:function(t){return ic(t,function(e){return e})||[]},only:function(t){if(!Ep(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=bo;_e.Fragment=DT;_e.Profiler=MT;_e.PureComponent=_p;_e.StrictMode=LT;_e.Suspense=zT;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GT;_e.act=j1;_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=k1({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=wp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)A1.call(e,c)&&!P1.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:yl,type:t.type,key:i,ref:s,props:r,_owner:o}};_e.createContext=function(t){return t={$$typeof:OT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:VT,_context:t},t.Consumer=t};_e.createElement=N1;_e.createFactory=function(t){var e=N1.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:FT,render:t}};_e.isValidElement=Ep;_e.lazy=function(t){return{$$typeof:BT,_payload:{_status:-1,_result:t},_init:WT}};_e.memo=function(t,e){return{$$typeof:UT,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=Ac.transition;Ac.transition={};try{t()}finally{Ac.transition=e}};_e.unstable_act=j1;_e.useCallback=function(t,e){return Jt.current.useCallback(t,e)};_e.useContext=function(t){return Jt.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return Jt.current.useDeferredValue(t)};_e.useEffect=function(t,e){return Jt.current.useEffect(t,e)};_e.useId=function(){return Jt.current.useId()};_e.useImperativeHandle=function(t,e,n){return Jt.current.useImperativeHandle(t,e,n)};_e.useInsertionEffect=function(t,e){return Jt.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return Jt.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return Jt.current.useMemo(t,e)};_e.useReducer=function(t,e,n){return Jt.current.useReducer(t,e,n)};_e.useRef=function(t){return Jt.current.useRef(t)};_e.useState=function(t){return Jt.current.useState(t)};_e.useSyncExternalStore=function(t,e,n){return Jt.current.useSyncExternalStore(t,e,n)};_e.useTransition=function(){return Jt.current.useTransition()};_e.version="18.3.1";I1.exports=_e;var A=I1.exports;const Kt=T1(A),KT=E1({__proto__:null,default:Kt},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QT=A,YT=Symbol.for("react.element"),XT=Symbol.for("react.fragment"),JT=Object.prototype.hasOwnProperty,ZT=QT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eS={key:!0,ref:!0,__self:!0,__source:!0};function D1(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)JT.call(e,r)&&!eS.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:YT,type:t,key:s,ref:o,props:i,_owner:ZT.current}}Ku.Fragment=XT;Ku.jsx=D1;Ku.jsxs=D1;S1.exports=Ku;var d=S1.exports,L1={exports:{}},_n={},M1={exports:{}},V1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,Z){var oe=q.length;q.push(Z);e:for(;0<oe;){var fe=oe-1>>>1,Te=q[fe];if(0<i(Te,Z))q[fe]=Z,q[oe]=Te,oe=fe;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var Z=q[0],oe=q.pop();if(oe!==Z){q[0]=oe;e:for(var fe=0,Te=q.length,Ve=Te>>>1;fe<Ve;){var mt=2*(fe+1)-1,Tt=q[mt],St=mt+1,en=q[St];if(0>i(Tt,oe))St<Te&&0>i(en,Tt)?(q[fe]=en,q[St]=oe,fe=St):(q[fe]=Tt,q[mt]=oe,fe=mt);else if(St<Te&&0>i(en,oe))q[fe]=en,q[St]=oe,fe=St;else break e}}return Z}function i(q,Z){var oe=q.sortIndex-Z.sortIndex;return oe!==0?oe:q.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,m=null,p=3,v=!1,y=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(q){for(var Z=n(u);Z!==null;){if(Z.callback===null)r(u);else if(Z.startTime<=q)r(u),Z.sortIndex=Z.expirationTime,e(c,Z);else break;Z=n(u)}}function L(q){if(S=!1,b(q),!y)if(n(c)!==null)y=!0,ot(F);else{var Z=n(u);Z!==null&&ke(L,Z.startTime-q)}}function F(q,Z){y=!1,S&&(S=!1,T(_),_=-1),v=!0;var oe=p;try{for(b(Z),m=n(c);m!==null&&(!(m.expirationTime>Z)||q&&!N());){var fe=m.callback;if(typeof fe=="function"){m.callback=null,p=m.priorityLevel;var Te=fe(m.expirationTime<=Z);Z=t.unstable_now(),typeof Te=="function"?m.callback=Te:m===n(c)&&r(c),b(Z)}else r(c);m=n(c)}if(m!==null)var Ve=!0;else{var mt=n(u);mt!==null&&ke(L,mt.startTime-Z),Ve=!1}return Ve}finally{m=null,p=oe,v=!1}}var P=!1,I=null,_=-1,w=5,k=-1;function N(){return!(t.unstable_now()-k<w)}function j(){if(I!==null){var q=t.unstable_now();k=q;var Z=!0;try{Z=I(!0,q)}finally{Z?R():(P=!1,I=null)}}else P=!1}var R;if(typeof x=="function")R=function(){x(j)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,Pe=ie.port2;ie.port1.onmessage=j,R=function(){Pe.postMessage(null)}}else R=function(){C(j,0)};function ot(q){I=q,P||(P=!0,R())}function ke(q,Z){_=C(function(){q(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,ot(F))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(q){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var oe=p;p=Z;try{return q()}finally{p=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,Z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var oe=p;p=q;try{return Z()}finally{p=oe}},t.unstable_scheduleCallback=function(q,Z,oe){var fe=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?fe+oe:fe):oe=fe,q){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=oe+Te,q={id:f++,callback:Z,priorityLevel:q,startTime:oe,expirationTime:Te,sortIndex:-1},oe>fe?(q.sortIndex=oe,e(u,q),n(c)===null&&q===n(u)&&(S?(T(_),_=-1):S=!0,ke(L,oe-fe))):(q.sortIndex=Te,e(c,q),y||v||(y=!0,ot(F))),q},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(q){var Z=p;return function(){var oe=p;p=Z;try{return q.apply(this,arguments)}finally{p=oe}}}})(V1);M1.exports=V1;var tS=M1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nS=A,yn=tS;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var O1=new Set,Ha={};function _s(t,e){lo(t,e),lo(t+"Capture",e)}function lo(t,e){for(Ha[t]=e,t=0;t<e.length;t++)O1.add(e[t])}var Cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qh=Object.prototype.hasOwnProperty,rS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qg={},Yg={};function iS(t){return Qh.call(Yg,t)?!0:Qh.call(Qg,t)?!1:rS.test(t)?Yg[t]=!0:(Qg[t]=!0,!1)}function sS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function oS(t,e,n,r){if(e===null||typeof e>"u"||sS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Zt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nt[t]=new Zt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nt[e]=new Zt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nt[t]=new Zt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nt[t]=new Zt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nt[t]=new Zt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nt[t]=new Zt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nt[t]=new Zt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nt[t]=new Zt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nt[t]=new Zt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Tp=/[\-:]([a-z])/g;function Sp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Tp,Sp);Nt[e]=new Zt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Tp,Sp);Nt[e]=new Zt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Tp,Sp);Nt[e]=new Zt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nt[t]=new Zt(t,1,!1,t.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new Zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nt[t]=new Zt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ip(t,e,n,r){var i=Nt.hasOwnProperty(e)?Nt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oS(e,n,i,r)&&(n=null),r||i===null?iS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vr=nS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sc=Symbol.for("react.element"),Os=Symbol.for("react.portal"),Fs=Symbol.for("react.fragment"),bp=Symbol.for("react.strict_mode"),Yh=Symbol.for("react.profiler"),F1=Symbol.for("react.provider"),z1=Symbol.for("react.context"),kp=Symbol.for("react.forward_ref"),Xh=Symbol.for("react.suspense"),Jh=Symbol.for("react.suspense_list"),Cp=Symbol.for("react.memo"),ti=Symbol.for("react.lazy"),U1=Symbol.for("react.offscreen"),Xg=Symbol.iterator;function ta(t){return t===null||typeof t!="object"?null:(t=Xg&&t[Xg]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,Zd;function wa(t){if(Zd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zd=e&&e[1]||""}return`
`+Zd+t}var eh=!1;function th(t,e){if(!t||eh)return"";eh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{eh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?wa(t):""}function aS(t){switch(t.tag){case 5:return wa(t.type);case 16:return wa("Lazy");case 13:return wa("Suspense");case 19:return wa("SuspenseList");case 0:case 2:case 15:return t=th(t.type,!1),t;case 11:return t=th(t.type.render,!1),t;case 1:return t=th(t.type,!0),t;default:return""}}function Zh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fs:return"Fragment";case Os:return"Portal";case Yh:return"Profiler";case bp:return"StrictMode";case Xh:return"Suspense";case Jh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case z1:return(t.displayName||"Context")+".Consumer";case F1:return(t._context.displayName||"Context")+".Provider";case kp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cp:return e=t.displayName||null,e!==null?e:Zh(t.type)||"Memo";case ti:e=t._payload,t=t._init;try{return Zh(t(e))}catch{}}return null}function lS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zh(e);case 8:return e===bp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ki(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function B1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cS(t){var e=B1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function oc(t){t._valueTracker||(t._valueTracker=cS(t))}function $1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=B1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Jc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ef(t,e){var n=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Jg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ki(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function H1(t,e){e=e.checked,e!=null&&Ip(t,"checked",e,!1)}function tf(t,e){H1(t,e);var n=ki(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?nf(t,e.type,n):e.hasOwnProperty("defaultValue")&&nf(t,e.type,ki(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Zg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function nf(t,e,n){(e!=="number"||Jc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ea=Array.isArray;function Xs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ki(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function rf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function e0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Ea(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ki(n)}}function q1(t,e){var n=ki(e.value),r=ki(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function t0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function W1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?W1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ac,G1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ac=ac||document.createElement("div"),ac.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ac.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Aa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uS=["Webkit","ms","Moz","O"];Object.keys(Aa).forEach(function(t){uS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Aa[e]=Aa[t]})});function K1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Aa.hasOwnProperty(t)&&Aa[t]?(""+e).trim():e+"px"}function Q1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=K1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var dS=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function of(t,e){if(e){if(dS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function af(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lf=null;function Rp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cf=null,Js=null,Zs=null;function n0(t){if(t=wl(t)){if(typeof cf!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Zu(e),cf(t.stateNode,t.type,e))}}function Y1(t){Js?Zs?Zs.push(t):Zs=[t]:Js=t}function X1(){if(Js){var t=Js,e=Zs;if(Zs=Js=null,n0(t),e)for(t=0;t<e.length;t++)n0(e[t])}}function J1(t,e){return t(e)}function Z1(){}var nh=!1;function e_(t,e,n){if(nh)return t(e,n);nh=!0;try{return J1(t,e,n)}finally{nh=!1,(Js!==null||Zs!==null)&&(Z1(),X1())}}function Wa(t,e){var n=t.stateNode;if(n===null)return null;var r=Zu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var uf=!1;if(Cr)try{var na={};Object.defineProperty(na,"passive",{get:function(){uf=!0}}),window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{uf=!1}function hS(t,e,n,r,i,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var Pa=!1,Zc=null,eu=!1,df=null,fS={onError:function(t){Pa=!0,Zc=t}};function pS(t,e,n,r,i,s,o,l,c){Pa=!1,Zc=null,hS.apply(fS,arguments)}function mS(t,e,n,r,i,s,o,l,c){if(pS.apply(this,arguments),Pa){if(Pa){var u=Zc;Pa=!1,Zc=null}else throw Error(H(198));eu||(eu=!0,df=u)}}function xs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function t_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function r0(t){if(xs(t)!==t)throw Error(H(188))}function gS(t){var e=t.alternate;if(!e){if(e=xs(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return r0(i),t;if(s===r)return r0(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function n_(t){return t=gS(t),t!==null?r_(t):null}function r_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=r_(t);if(e!==null)return e;t=t.sibling}return null}var i_=yn.unstable_scheduleCallback,i0=yn.unstable_cancelCallback,vS=yn.unstable_shouldYield,yS=yn.unstable_requestPaint,lt=yn.unstable_now,_S=yn.unstable_getCurrentPriorityLevel,Ap=yn.unstable_ImmediatePriority,s_=yn.unstable_UserBlockingPriority,tu=yn.unstable_NormalPriority,xS=yn.unstable_LowPriority,o_=yn.unstable_IdlePriority,Qu=null,Yn=null;function wS(t){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(Qu,t,void 0,(t.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:SS,ES=Math.log,TS=Math.LN2;function SS(t){return t>>>=0,t===0?32:31-(ES(t)/TS|0)|0}var lc=64,cc=4194304;function Ta(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Ta(l):(s&=o,s!==0&&(r=Ta(s)))}else o=n&~i,o!==0?r=Ta(o):s!==0&&(r=Ta(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-zn(e),i=1<<n,r|=t[n],e&=~i;return r}function IS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-zn(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=IS(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function hf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function a_(){var t=lc;return lc<<=1,!(lc&4194240)&&(lc=64),t}function rh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function _l(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zn(e),t[e]=n}function kS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-zn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Pp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-zn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var De=0;function l_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var c_,Np,u_,d_,h_,ff=!1,uc=[],pi=null,mi=null,gi=null,Ga=new Map,Ka=new Map,ri=[],CS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function s0(t,e){switch(t){case"focusin":case"focusout":pi=null;break;case"dragenter":case"dragleave":mi=null;break;case"mouseover":case"mouseout":gi=null;break;case"pointerover":case"pointerout":Ga.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ka.delete(e.pointerId)}}function ra(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=wl(e),e!==null&&Np(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function RS(t,e,n,r,i){switch(e){case"focusin":return pi=ra(pi,t,e,n,r,i),!0;case"dragenter":return mi=ra(mi,t,e,n,r,i),!0;case"mouseover":return gi=ra(gi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ga.set(s,ra(Ga.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ka.set(s,ra(Ka.get(s)||null,t,e,n,r,i)),!0}return!1}function f_(t){var e=Ji(t.target);if(e!==null){var n=xs(e);if(n!==null){if(e=n.tag,e===13){if(e=t_(n),e!==null){t.blockedOn=e,h_(t.priority,function(){u_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=pf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);lf=r,n.target.dispatchEvent(r),lf=null}else return e=wl(n),e!==null&&Np(e),t.blockedOn=n,!1;e.shift()}return!0}function o0(t,e,n){Pc(t)&&n.delete(e)}function AS(){ff=!1,pi!==null&&Pc(pi)&&(pi=null),mi!==null&&Pc(mi)&&(mi=null),gi!==null&&Pc(gi)&&(gi=null),Ga.forEach(o0),Ka.forEach(o0)}function ia(t,e){t.blockedOn===e&&(t.blockedOn=null,ff||(ff=!0,yn.unstable_scheduleCallback(yn.unstable_NormalPriority,AS)))}function Qa(t){function e(i){return ia(i,t)}if(0<uc.length){ia(uc[0],t);for(var n=1;n<uc.length;n++){var r=uc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(pi!==null&&ia(pi,t),mi!==null&&ia(mi,t),gi!==null&&ia(gi,t),Ga.forEach(e),Ka.forEach(e),n=0;n<ri.length;n++)r=ri[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ri.length&&(n=ri[0],n.blockedOn===null);)f_(n),n.blockedOn===null&&ri.shift()}var eo=Vr.ReactCurrentBatchConfig,ru=!0;function PS(t,e,n,r){var i=De,s=eo.transition;eo.transition=null;try{De=1,jp(t,e,n,r)}finally{De=i,eo.transition=s}}function NS(t,e,n,r){var i=De,s=eo.transition;eo.transition=null;try{De=4,jp(t,e,n,r)}finally{De=i,eo.transition=s}}function jp(t,e,n,r){if(ru){var i=pf(t,e,n,r);if(i===null)fh(t,e,r,iu,n),s0(t,r);else if(RS(i,t,e,n,r))r.stopPropagation();else if(s0(t,r),e&4&&-1<CS.indexOf(t)){for(;i!==null;){var s=wl(i);if(s!==null&&c_(s),s=pf(t,e,n,r),s===null&&fh(t,e,r,iu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else fh(t,e,r,null,n)}}var iu=null;function pf(t,e,n,r){if(iu=null,t=Rp(r),t=Ji(t),t!==null)if(e=xs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=t_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return iu=t,null}function p_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_S()){case Ap:return 1;case s_:return 4;case tu:case xS:return 16;case o_:return 536870912;default:return 16}default:return 16}}var ui=null,Dp=null,Nc=null;function m_(){if(Nc)return Nc;var t,e=Dp,n=e.length,r,i="value"in ui?ui.value:ui.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Nc=i.slice(t,1<r?1-r:void 0)}function jc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dc(){return!0}function a0(){return!1}function xn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?dc:a0,this.isPropagationStopped=a0,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dc)},persist:function(){},isPersistent:dc}),e}var ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lp=xn(ko),xl=tt({},ko,{view:0,detail:0}),jS=xn(xl),ih,sh,sa,Yu=tt({},xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sa&&(sa&&t.type==="mousemove"?(ih=t.screenX-sa.screenX,sh=t.screenY-sa.screenY):sh=ih=0,sa=t),ih)},movementY:function(t){return"movementY"in t?t.movementY:sh}}),l0=xn(Yu),DS=tt({},Yu,{dataTransfer:0}),LS=xn(DS),MS=tt({},xl,{relatedTarget:0}),oh=xn(MS),VS=tt({},ko,{animationName:0,elapsedTime:0,pseudoElement:0}),OS=xn(VS),FS=tt({},ko,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zS=xn(FS),US=tt({},ko,{data:0}),c0=xn(US),BS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$S={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=HS[t])?!!e[t]:!1}function Mp(){return qS}var WS=tt({},xl,{key:function(t){if(t.key){var e=BS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=jc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$S[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mp,charCode:function(t){return t.type==="keypress"?jc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),GS=xn(WS),KS=tt({},Yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),u0=xn(KS),QS=tt({},xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mp}),YS=xn(QS),XS=tt({},ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),JS=xn(XS),ZS=tt({},Yu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),eI=xn(ZS),tI=[9,13,27,32],Vp=Cr&&"CompositionEvent"in window,Na=null;Cr&&"documentMode"in document&&(Na=document.documentMode);var nI=Cr&&"TextEvent"in window&&!Na,g_=Cr&&(!Vp||Na&&8<Na&&11>=Na),d0=" ",h0=!1;function v_(t,e){switch(t){case"keyup":return tI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function y_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zs=!1;function rI(t,e){switch(t){case"compositionend":return y_(e);case"keypress":return e.which!==32?null:(h0=!0,d0);case"textInput":return t=e.data,t===d0&&h0?null:t;default:return null}}function iI(t,e){if(zs)return t==="compositionend"||!Vp&&v_(t,e)?(t=m_(),Nc=Dp=ui=null,zs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return g_&&e.locale!=="ko"?null:e.data;default:return null}}var sI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function f0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!sI[t.type]:e==="textarea"}function __(t,e,n,r){Y1(r),e=su(e,"onChange"),0<e.length&&(n=new Lp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ja=null,Ya=null;function oI(t){A_(t,0)}function Xu(t){var e=$s(t);if($1(e))return t}function aI(t,e){if(t==="change")return e}var x_=!1;if(Cr){var ah;if(Cr){var lh="oninput"in document;if(!lh){var p0=document.createElement("div");p0.setAttribute("oninput","return;"),lh=typeof p0.oninput=="function"}ah=lh}else ah=!1;x_=ah&&(!document.documentMode||9<document.documentMode)}function m0(){ja&&(ja.detachEvent("onpropertychange",w_),Ya=ja=null)}function w_(t){if(t.propertyName==="value"&&Xu(Ya)){var e=[];__(e,Ya,t,Rp(t)),e_(oI,e)}}function lI(t,e,n){t==="focusin"?(m0(),ja=e,Ya=n,ja.attachEvent("onpropertychange",w_)):t==="focusout"&&m0()}function cI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xu(Ya)}function uI(t,e){if(t==="click")return Xu(e)}function dI(t,e){if(t==="input"||t==="change")return Xu(e)}function hI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bn=typeof Object.is=="function"?Object.is:hI;function Xa(t,e){if(Bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Qh.call(e,i)||!Bn(t[i],e[i]))return!1}return!0}function g0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function v0(t,e){var n=g0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=g0(n)}}function E_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?E_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function T_(){for(var t=window,e=Jc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Jc(t.document)}return e}function Op(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function fI(t){var e=T_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&E_(n.ownerDocument.documentElement,n)){if(r!==null&&Op(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=v0(n,s);var o=v0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pI=Cr&&"documentMode"in document&&11>=document.documentMode,Us=null,mf=null,Da=null,gf=!1;function y0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gf||Us==null||Us!==Jc(r)||(r=Us,"selectionStart"in r&&Op(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Da&&Xa(Da,r)||(Da=r,r=su(mf,"onSelect"),0<r.length&&(e=new Lp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Us)))}function hc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bs={animationend:hc("Animation","AnimationEnd"),animationiteration:hc("Animation","AnimationIteration"),animationstart:hc("Animation","AnimationStart"),transitionend:hc("Transition","TransitionEnd")},ch={},S_={};Cr&&(S_=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function Ju(t){if(ch[t])return ch[t];if(!Bs[t])return t;var e=Bs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in S_)return ch[t]=e[n];return t}var I_=Ju("animationend"),b_=Ju("animationiteration"),k_=Ju("animationstart"),C_=Ju("transitionend"),R_=new Map,_0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Di(t,e){R_.set(t,e),_s(e,[t])}for(var uh=0;uh<_0.length;uh++){var dh=_0[uh],mI=dh.toLowerCase(),gI=dh[0].toUpperCase()+dh.slice(1);Di(mI,"on"+gI)}Di(I_,"onAnimationEnd");Di(b_,"onAnimationIteration");Di(k_,"onAnimationStart");Di("dblclick","onDoubleClick");Di("focusin","onFocus");Di("focusout","onBlur");Di(C_,"onTransitionEnd");lo("onMouseEnter",["mouseout","mouseover"]);lo("onMouseLeave",["mouseout","mouseover"]);lo("onPointerEnter",["pointerout","pointerover"]);lo("onPointerLeave",["pointerout","pointerover"]);_s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_s("onBeforeInput",["compositionend","keypress","textInput","paste"]);_s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sa));function x0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,mS(r,e,void 0,t),t.currentTarget=null}function A_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;x0(i,l,u),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;x0(i,l,u),s=c}}}if(eu)throw t=df,eu=!1,df=null,t}function qe(t,e){var n=e[wf];n===void 0&&(n=e[wf]=new Set);var r=t+"__bubble";n.has(r)||(P_(e,t,2,!1),n.add(r))}function hh(t,e,n){var r=0;e&&(r|=4),P_(n,t,r,e)}var fc="_reactListening"+Math.random().toString(36).slice(2);function Ja(t){if(!t[fc]){t[fc]=!0,O1.forEach(function(n){n!=="selectionchange"&&(vI.has(n)||hh(n,!1,t),hh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fc]||(e[fc]=!0,hh("selectionchange",!1,e))}}function P_(t,e,n,r){switch(p_(e)){case 1:var i=PS;break;case 4:i=NS;break;default:i=jp}n=i.bind(null,e,n,t),i=void 0,!uf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function fh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Ji(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}e_(function(){var u=s,f=Rp(n),m=[];e:{var p=R_.get(t);if(p!==void 0){var v=Lp,y=t;switch(t){case"keypress":if(jc(n)===0)break e;case"keydown":case"keyup":v=GS;break;case"focusin":y="focus",v=oh;break;case"focusout":y="blur",v=oh;break;case"beforeblur":case"afterblur":v=oh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=l0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=LS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=YS;break;case I_:case b_:case k_:v=OS;break;case C_:v=JS;break;case"scroll":v=jS;break;case"wheel":v=eI;break;case"copy":case"cut":case"paste":v=zS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=u0}var S=(e&4)!==0,C=!S&&t==="scroll",T=S?p!==null?p+"Capture":null:p;S=[];for(var x=u,b;x!==null;){b=x;var L=b.stateNode;if(b.tag===5&&L!==null&&(b=L,T!==null&&(L=Wa(x,T),L!=null&&S.push(Za(x,L,b)))),C)break;x=x.return}0<S.length&&(p=new v(p,y,null,n,f),m.push({event:p,listeners:S}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==lf&&(y=n.relatedTarget||n.fromElement)&&(Ji(y)||y[Rr]))break e;if((v||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=u,y=y?Ji(y):null,y!==null&&(C=xs(y),y!==C||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(S=l0,L="onMouseLeave",T="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(S=u0,L="onPointerLeave",T="onPointerEnter",x="pointer"),C=v==null?p:$s(v),b=y==null?p:$s(y),p=new S(L,x+"leave",v,n,f),p.target=C,p.relatedTarget=b,L=null,Ji(f)===u&&(S=new S(T,x+"enter",y,n,f),S.target=b,S.relatedTarget=C,L=S),C=L,v&&y)t:{for(S=v,T=y,x=0,b=S;b;b=Ds(b))x++;for(b=0,L=T;L;L=Ds(L))b++;for(;0<x-b;)S=Ds(S),x--;for(;0<b-x;)T=Ds(T),b--;for(;x--;){if(S===T||T!==null&&S===T.alternate)break t;S=Ds(S),T=Ds(T)}S=null}else S=null;v!==null&&w0(m,p,v,S,!1),y!==null&&C!==null&&w0(m,C,y,S,!0)}}e:{if(p=u?$s(u):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var F=aI;else if(f0(p))if(x_)F=dI;else{F=cI;var P=lI}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(F=uI);if(F&&(F=F(t,u))){__(m,F,n,f);break e}P&&P(t,p,u),t==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&nf(p,"number",p.value)}switch(P=u?$s(u):window,t){case"focusin":(f0(P)||P.contentEditable==="true")&&(Us=P,mf=u,Da=null);break;case"focusout":Da=mf=Us=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,y0(m,n,f);break;case"selectionchange":if(pI)break;case"keydown":case"keyup":y0(m,n,f)}var I;if(Vp)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else zs?v_(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(g_&&n.locale!=="ko"&&(zs||_!=="onCompositionStart"?_==="onCompositionEnd"&&zs&&(I=m_()):(ui=f,Dp="value"in ui?ui.value:ui.textContent,zs=!0)),P=su(u,_),0<P.length&&(_=new c0(_,t,null,n,f),m.push({event:_,listeners:P}),I?_.data=I:(I=y_(n),I!==null&&(_.data=I)))),(I=nI?rI(t,n):iI(t,n))&&(u=su(u,"onBeforeInput"),0<u.length&&(f=new c0("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:u}),f.data=I))}A_(m,e)})}function Za(t,e,n){return{instance:t,listener:e,currentTarget:n}}function su(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Wa(t,n),s!=null&&r.unshift(Za(t,s,i)),s=Wa(t,e),s!=null&&r.push(Za(t,s,i))),t=t.return}return r}function Ds(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function w0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=Wa(n,s),c!=null&&o.unshift(Za(n,c,l))):i||(c=Wa(n,s),c!=null&&o.push(Za(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var yI=/\r\n?/g,_I=/\u0000|\uFFFD/g;function E0(t){return(typeof t=="string"?t:""+t).replace(yI,`
`).replace(_I,"")}function pc(t,e,n){if(e=E0(e),E0(t)!==e&&n)throw Error(H(425))}function ou(){}var vf=null,yf=null;function _f(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xf=typeof setTimeout=="function"?setTimeout:void 0,xI=typeof clearTimeout=="function"?clearTimeout:void 0,T0=typeof Promise=="function"?Promise:void 0,wI=typeof queueMicrotask=="function"?queueMicrotask:typeof T0<"u"?function(t){return T0.resolve(null).then(t).catch(EI)}:xf;function EI(t){setTimeout(function(){throw t})}function ph(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Qa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Qa(e)}function vi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function S0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Co=Math.random().toString(36).slice(2),Qn="__reactFiber$"+Co,el="__reactProps$"+Co,Rr="__reactContainer$"+Co,wf="__reactEvents$"+Co,TI="__reactListeners$"+Co,SI="__reactHandles$"+Co;function Ji(t){var e=t[Qn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Rr]||n[Qn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=S0(t);t!==null;){if(n=t[Qn])return n;t=S0(t)}return e}t=n,n=t.parentNode}return null}function wl(t){return t=t[Qn]||t[Rr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $s(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Zu(t){return t[el]||null}var Ef=[],Hs=-1;function Li(t){return{current:t}}function We(t){0>Hs||(t.current=Ef[Hs],Ef[Hs]=null,Hs--)}function Be(t,e){Hs++,Ef[Hs]=t.current,t.current=e}var Ci={},$t=Li(Ci),ln=Li(!1),ls=Ci;function co(t,e){var n=t.type.contextTypes;if(!n)return Ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function cn(t){return t=t.childContextTypes,t!=null}function au(){We(ln),We($t)}function I0(t,e,n){if($t.current!==Ci)throw Error(H(168));Be($t,e),Be(ln,n)}function N_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,lS(t)||"Unknown",i));return tt({},n,r)}function lu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ci,ls=$t.current,Be($t,t),Be(ln,ln.current),!0}function b0(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=N_(t,e,ls),r.__reactInternalMemoizedMergedChildContext=t,We(ln),We($t),Be($t,t)):We(ln),Be(ln,n)}var vr=null,ed=!1,mh=!1;function j_(t){vr===null?vr=[t]:vr.push(t)}function II(t){ed=!0,j_(t)}function Mi(){if(!mh&&vr!==null){mh=!0;var t=0,e=De;try{var n=vr;for(De=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}vr=null,ed=!1}catch(i){throw vr!==null&&(vr=vr.slice(t+1)),i_(Ap,Mi),i}finally{De=e,mh=!1}}return null}var qs=[],Ws=0,cu=null,uu=0,In=[],bn=0,cs=null,yr=1,_r="";function Wi(t,e){qs[Ws++]=uu,qs[Ws++]=cu,cu=t,uu=e}function D_(t,e,n){In[bn++]=yr,In[bn++]=_r,In[bn++]=cs,cs=t;var r=yr;t=_r;var i=32-zn(r)-1;r&=~(1<<i),n+=1;var s=32-zn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,yr=1<<32-zn(e)+i|n<<i|r,_r=s+t}else yr=1<<s|n<<i|r,_r=t}function Fp(t){t.return!==null&&(Wi(t,1),D_(t,1,0))}function zp(t){for(;t===cu;)cu=qs[--Ws],qs[Ws]=null,uu=qs[--Ws],qs[Ws]=null;for(;t===cs;)cs=In[--bn],In[bn]=null,_r=In[--bn],In[bn]=null,yr=In[--bn],In[bn]=null}var gn=null,pn=null,Ye=!1,Fn=null;function L_(t,e){var n=kn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function k0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gn=t,pn=vi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gn=t,pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cs!==null?{id:yr,overflow:_r}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=kn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,gn=t,pn=null,!0):!1;default:return!1}}function Tf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sf(t){if(Ye){var e=pn;if(e){var n=e;if(!k0(t,e)){if(Tf(t))throw Error(H(418));e=vi(n.nextSibling);var r=gn;e&&k0(t,e)?L_(r,n):(t.flags=t.flags&-4097|2,Ye=!1,gn=t)}}else{if(Tf(t))throw Error(H(418));t.flags=t.flags&-4097|2,Ye=!1,gn=t}}}function C0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gn=t}function mc(t){if(t!==gn)return!1;if(!Ye)return C0(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_f(t.type,t.memoizedProps)),e&&(e=pn)){if(Tf(t))throw M_(),Error(H(418));for(;e;)L_(t,e),e=vi(e.nextSibling)}if(C0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pn=vi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pn=null}}else pn=gn?vi(t.stateNode.nextSibling):null;return!0}function M_(){for(var t=pn;t;)t=vi(t.nextSibling)}function uo(){pn=gn=null,Ye=!1}function Up(t){Fn===null?Fn=[t]:Fn.push(t)}var bI=Vr.ReactCurrentBatchConfig;function oa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function gc(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function R0(t){var e=t._init;return e(t._payload)}function V_(t){function e(T,x){if(t){var b=T.deletions;b===null?(T.deletions=[x],T.flags|=16):b.push(x)}}function n(T,x){if(!t)return null;for(;x!==null;)e(T,x),x=x.sibling;return null}function r(T,x){for(T=new Map;x!==null;)x.key!==null?T.set(x.key,x):T.set(x.index,x),x=x.sibling;return T}function i(T,x){return T=wi(T,x),T.index=0,T.sibling=null,T}function s(T,x,b){return T.index=b,t?(b=T.alternate,b!==null?(b=b.index,b<x?(T.flags|=2,x):b):(T.flags|=2,x)):(T.flags|=1048576,x)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function l(T,x,b,L){return x===null||x.tag!==6?(x=Eh(b,T.mode,L),x.return=T,x):(x=i(x,b),x.return=T,x)}function c(T,x,b,L){var F=b.type;return F===Fs?f(T,x,b.props.children,L,b.key):x!==null&&(x.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ti&&R0(F)===x.type)?(L=i(x,b.props),L.ref=oa(T,x,b),L.return=T,L):(L=zc(b.type,b.key,b.props,null,T.mode,L),L.ref=oa(T,x,b),L.return=T,L)}function u(T,x,b,L){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Th(b,T.mode,L),x.return=T,x):(x=i(x,b.children||[]),x.return=T,x)}function f(T,x,b,L,F){return x===null||x.tag!==7?(x=os(b,T.mode,L,F),x.return=T,x):(x=i(x,b),x.return=T,x)}function m(T,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Eh(""+x,T.mode,b),x.return=T,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case sc:return b=zc(x.type,x.key,x.props,null,T.mode,b),b.ref=oa(T,null,x),b.return=T,b;case Os:return x=Th(x,T.mode,b),x.return=T,x;case ti:var L=x._init;return m(T,L(x._payload),b)}if(Ea(x)||ta(x))return x=os(x,T.mode,b,null),x.return=T,x;gc(T,x)}return null}function p(T,x,b,L){var F=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return F!==null?null:l(T,x,""+b,L);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case sc:return b.key===F?c(T,x,b,L):null;case Os:return b.key===F?u(T,x,b,L):null;case ti:return F=b._init,p(T,x,F(b._payload),L)}if(Ea(b)||ta(b))return F!==null?null:f(T,x,b,L,null);gc(T,b)}return null}function v(T,x,b,L,F){if(typeof L=="string"&&L!==""||typeof L=="number")return T=T.get(b)||null,l(x,T,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case sc:return T=T.get(L.key===null?b:L.key)||null,c(x,T,L,F);case Os:return T=T.get(L.key===null?b:L.key)||null,u(x,T,L,F);case ti:var P=L._init;return v(T,x,b,P(L._payload),F)}if(Ea(L)||ta(L))return T=T.get(b)||null,f(x,T,L,F,null);gc(x,L)}return null}function y(T,x,b,L){for(var F=null,P=null,I=x,_=x=0,w=null;I!==null&&_<b.length;_++){I.index>_?(w=I,I=null):w=I.sibling;var k=p(T,I,b[_],L);if(k===null){I===null&&(I=w);break}t&&I&&k.alternate===null&&e(T,I),x=s(k,x,_),P===null?F=k:P.sibling=k,P=k,I=w}if(_===b.length)return n(T,I),Ye&&Wi(T,_),F;if(I===null){for(;_<b.length;_++)I=m(T,b[_],L),I!==null&&(x=s(I,x,_),P===null?F=I:P.sibling=I,P=I);return Ye&&Wi(T,_),F}for(I=r(T,I);_<b.length;_++)w=v(I,T,_,b[_],L),w!==null&&(t&&w.alternate!==null&&I.delete(w.key===null?_:w.key),x=s(w,x,_),P===null?F=w:P.sibling=w,P=w);return t&&I.forEach(function(N){return e(T,N)}),Ye&&Wi(T,_),F}function S(T,x,b,L){var F=ta(b);if(typeof F!="function")throw Error(H(150));if(b=F.call(b),b==null)throw Error(H(151));for(var P=F=null,I=x,_=x=0,w=null,k=b.next();I!==null&&!k.done;_++,k=b.next()){I.index>_?(w=I,I=null):w=I.sibling;var N=p(T,I,k.value,L);if(N===null){I===null&&(I=w);break}t&&I&&N.alternate===null&&e(T,I),x=s(N,x,_),P===null?F=N:P.sibling=N,P=N,I=w}if(k.done)return n(T,I),Ye&&Wi(T,_),F;if(I===null){for(;!k.done;_++,k=b.next())k=m(T,k.value,L),k!==null&&(x=s(k,x,_),P===null?F=k:P.sibling=k,P=k);return Ye&&Wi(T,_),F}for(I=r(T,I);!k.done;_++,k=b.next())k=v(I,T,_,k.value,L),k!==null&&(t&&k.alternate!==null&&I.delete(k.key===null?_:k.key),x=s(k,x,_),P===null?F=k:P.sibling=k,P=k);return t&&I.forEach(function(j){return e(T,j)}),Ye&&Wi(T,_),F}function C(T,x,b,L){if(typeof b=="object"&&b!==null&&b.type===Fs&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case sc:e:{for(var F=b.key,P=x;P!==null;){if(P.key===F){if(F=b.type,F===Fs){if(P.tag===7){n(T,P.sibling),x=i(P,b.props.children),x.return=T,T=x;break e}}else if(P.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ti&&R0(F)===P.type){n(T,P.sibling),x=i(P,b.props),x.ref=oa(T,P,b),x.return=T,T=x;break e}n(T,P);break}else e(T,P);P=P.sibling}b.type===Fs?(x=os(b.props.children,T.mode,L,b.key),x.return=T,T=x):(L=zc(b.type,b.key,b.props,null,T.mode,L),L.ref=oa(T,x,b),L.return=T,T=L)}return o(T);case Os:e:{for(P=b.key;x!==null;){if(x.key===P)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(T,x.sibling),x=i(x,b.children||[]),x.return=T,T=x;break e}else{n(T,x);break}else e(T,x);x=x.sibling}x=Th(b,T.mode,L),x.return=T,T=x}return o(T);case ti:return P=b._init,C(T,x,P(b._payload),L)}if(Ea(b))return y(T,x,b,L);if(ta(b))return S(T,x,b,L);gc(T,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(T,x.sibling),x=i(x,b),x.return=T,T=x):(n(T,x),x=Eh(b,T.mode,L),x.return=T,T=x),o(T)):n(T,x)}return C}var ho=V_(!0),O_=V_(!1),du=Li(null),hu=null,Gs=null,Bp=null;function $p(){Bp=Gs=hu=null}function Hp(t){var e=du.current;We(du),t._currentValue=e}function If(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function to(t,e){hu=t,Bp=Gs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(an=!0),t.firstContext=null)}function Rn(t){var e=t._currentValue;if(Bp!==t)if(t={context:t,memoizedValue:e,next:null},Gs===null){if(hu===null)throw Error(H(308));Gs=t,hu.dependencies={lanes:0,firstContext:t}}else Gs=Gs.next=t;return e}var Zi=null;function qp(t){Zi===null?Zi=[t]:Zi.push(t)}function F_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,qp(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ar(t,r)}function Ar(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ni=!1;function Wp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function z_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function yi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ar(t,n)}return i=r.interleaved,i===null?(e.next=e,qp(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ar(t,n)}function Dc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pp(t,n)}}function A0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fu(t,e,n,r){var i=t.updateQueue;ni=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(s!==null){var m=i.baseState;o=0,f=u=c=null,l=s;do{var p=l.lane,v=l.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,S=l;switch(p=e,v=n,S.tag){case 1:if(y=S.payload,typeof y=="function"){m=y.call(v,m,p);break e}m=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=S.payload,p=typeof y=="function"?y.call(v,m,p):y,p==null)break e;m=tt({},m,p);break e;case 2:ni=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[l]:p.push(l))}else v={eventTime:v,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=v,c=m):f=f.next=v,o|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(f===null&&(c=m),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ds|=o,t.lanes=o,t.memoizedState=m}}function P0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var El={},Xn=Li(El),tl=Li(El),nl=Li(El);function es(t){if(t===El)throw Error(H(174));return t}function Gp(t,e){switch(Be(nl,e),Be(tl,t),Be(Xn,El),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:sf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=sf(e,t)}We(Xn),Be(Xn,e)}function fo(){We(Xn),We(tl),We(nl)}function U_(t){es(nl.current);var e=es(Xn.current),n=sf(e,t.type);e!==n&&(Be(tl,t),Be(Xn,n))}function Kp(t){tl.current===t&&(We(Xn),We(tl))}var Ze=Li(0);function pu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gh=[];function Qp(){for(var t=0;t<gh.length;t++)gh[t]._workInProgressVersionPrimary=null;gh.length=0}var Lc=Vr.ReactCurrentDispatcher,vh=Vr.ReactCurrentBatchConfig,us=0,et=null,gt=null,wt=null,mu=!1,La=!1,rl=0,kI=0;function Mt(){throw Error(H(321))}function Yp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Bn(t[n],e[n]))return!1;return!0}function Xp(t,e,n,r,i,s){if(us=s,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Lc.current=t===null||t.memoizedState===null?PI:NI,t=n(r,i),La){s=0;do{if(La=!1,rl=0,25<=s)throw Error(H(301));s+=1,wt=gt=null,e.updateQueue=null,Lc.current=jI,t=n(r,i)}while(La)}if(Lc.current=gu,e=gt!==null&&gt.next!==null,us=0,wt=gt=et=null,mu=!1,e)throw Error(H(300));return t}function Jp(){var t=rl!==0;return rl=0,t}function Kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?et.memoizedState=wt=t:wt=wt.next=t,wt}function An(){if(gt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=wt===null?et.memoizedState:wt.next;if(e!==null)wt=e,gt=t;else{if(t===null)throw Error(H(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},wt===null?et.memoizedState=wt=t:wt=wt.next=t}return wt}function il(t,e){return typeof e=="function"?e(t):e}function yh(t){var e=An(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=gt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,u=s;do{var f=u.lane;if((us&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var m={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=m,o=r):c=c.next=m,et.lanes|=f,ds|=f}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=l,Bn(r,e.memoizedState)||(an=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,et.lanes|=s,ds|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _h(t){var e=An(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Bn(s,e.memoizedState)||(an=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function B_(){}function $_(t,e){var n=et,r=An(),i=e(),s=!Bn(r.memoizedState,i);if(s&&(r.memoizedState=i,an=!0),r=r.queue,Zp(W_.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,sl(9,q_.bind(null,n,r,i,e),void 0,null),Et===null)throw Error(H(349));us&30||H_(n,e,i)}return i}function H_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function q_(t,e,n,r){e.value=n,e.getSnapshot=r,G_(e)&&K_(t)}function W_(t,e,n){return n(function(){G_(e)&&K_(t)})}function G_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Bn(t,n)}catch{return!0}}function K_(t){var e=Ar(t,1);e!==null&&Un(e,t,1,-1)}function N0(t){var e=Kn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:t},e.queue=t,t=t.dispatch=AI.bind(null,et,t),[e.memoizedState,t]}function sl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Q_(){return An().memoizedState}function Mc(t,e,n,r){var i=Kn();et.flags|=t,i.memoizedState=sl(1|e,n,void 0,r===void 0?null:r)}function td(t,e,n,r){var i=An();r=r===void 0?null:r;var s=void 0;if(gt!==null){var o=gt.memoizedState;if(s=o.destroy,r!==null&&Yp(r,o.deps)){i.memoizedState=sl(e,n,s,r);return}}et.flags|=t,i.memoizedState=sl(1|e,n,s,r)}function j0(t,e){return Mc(8390656,8,t,e)}function Zp(t,e){return td(2048,8,t,e)}function Y_(t,e){return td(4,2,t,e)}function X_(t,e){return td(4,4,t,e)}function J_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Z_(t,e,n){return n=n!=null?n.concat([t]):null,td(4,4,J_.bind(null,e,t),n)}function em(){}function ex(t,e){var n=An();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function tx(t,e){var n=An();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function nx(t,e,n){return us&21?(Bn(n,e)||(n=a_(),et.lanes|=n,ds|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,an=!0),t.memoizedState=n)}function CI(t,e){var n=De;De=n!==0&&4>n?n:4,t(!0);var r=vh.transition;vh.transition={};try{t(!1),e()}finally{De=n,vh.transition=r}}function rx(){return An().memoizedState}function RI(t,e,n){var r=xi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ix(t))sx(e,n);else if(n=F_(t,e,n,r),n!==null){var i=Qt();Un(n,t,r,i),ox(n,e,r)}}function AI(t,e,n){var r=xi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ix(t))sx(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Bn(l,o)){var c=e.interleaved;c===null?(i.next=i,qp(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=F_(t,e,i,r),n!==null&&(i=Qt(),Un(n,t,r,i),ox(n,e,r))}}function ix(t){var e=t.alternate;return t===et||e!==null&&e===et}function sx(t,e){La=mu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ox(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pp(t,n)}}var gu={readContext:Rn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},PI={readContext:Rn,useCallback:function(t,e){return Kn().memoizedState=[t,e===void 0?null:e],t},useContext:Rn,useEffect:j0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Mc(4194308,4,J_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Mc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Mc(4,2,t,e)},useMemo:function(t,e){var n=Kn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Kn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=RI.bind(null,et,t),[r.memoizedState,t]},useRef:function(t){var e=Kn();return t={current:t},e.memoizedState=t},useState:N0,useDebugValue:em,useDeferredValue:function(t){return Kn().memoizedState=t},useTransition:function(){var t=N0(!1),e=t[0];return t=CI.bind(null,t[1]),Kn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=et,i=Kn();if(Ye){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),Et===null)throw Error(H(349));us&30||H_(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,j0(W_.bind(null,r,s,t),[t]),r.flags|=2048,sl(9,q_.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Kn(),e=Et.identifierPrefix;if(Ye){var n=_r,r=yr;n=(r&~(1<<32-zn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=rl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=kI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},NI={readContext:Rn,useCallback:ex,useContext:Rn,useEffect:Zp,useImperativeHandle:Z_,useInsertionEffect:Y_,useLayoutEffect:X_,useMemo:tx,useReducer:yh,useRef:Q_,useState:function(){return yh(il)},useDebugValue:em,useDeferredValue:function(t){var e=An();return nx(e,gt.memoizedState,t)},useTransition:function(){var t=yh(il)[0],e=An().memoizedState;return[t,e]},useMutableSource:B_,useSyncExternalStore:$_,useId:rx,unstable_isNewReconciler:!1},jI={readContext:Rn,useCallback:ex,useContext:Rn,useEffect:Zp,useImperativeHandle:Z_,useInsertionEffect:Y_,useLayoutEffect:X_,useMemo:tx,useReducer:_h,useRef:Q_,useState:function(){return _h(il)},useDebugValue:em,useDeferredValue:function(t){var e=An();return gt===null?e.memoizedState=t:nx(e,gt.memoizedState,t)},useTransition:function(){var t=_h(il)[0],e=An().memoizedState;return[t,e]},useMutableSource:B_,useSyncExternalStore:$_,useId:rx,unstable_isNewReconciler:!1};function Mn(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function bf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nd={isMounted:function(t){return(t=t._reactInternals)?xs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qt(),i=xi(t),s=Sr(r,i);s.payload=e,n!=null&&(s.callback=n),e=yi(t,s,i),e!==null&&(Un(e,t,i,r),Dc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qt(),i=xi(t),s=Sr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=yi(t,s,i),e!==null&&(Un(e,t,i,r),Dc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qt(),r=xi(t),i=Sr(n,r);i.tag=2,e!=null&&(i.callback=e),e=yi(t,i,r),e!==null&&(Un(e,t,r,n),Dc(e,t,r))}};function D0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Xa(n,r)||!Xa(i,s):!0}function ax(t,e,n){var r=!1,i=Ci,s=e.contextType;return typeof s=="object"&&s!==null?s=Rn(s):(i=cn(e)?ls:$t.current,r=e.contextTypes,s=(r=r!=null)?co(t,i):Ci),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function L0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nd.enqueueReplaceState(e,e.state,null)}function kf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Wp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Rn(s):(s=cn(e)?ls:$t.current,i.context=co(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(bf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nd.enqueueReplaceState(i,i.state,null),fu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function po(t,e){try{var n="",r=e;do n+=aS(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function xh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Cf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var DI=typeof WeakMap=="function"?WeakMap:Map;function lx(t,e,n){n=Sr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){yu||(yu=!0,Of=r),Cf(t,e)},n}function cx(t,e,n){n=Sr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Cf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Cf(t,e),typeof r!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function M0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new DI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=KI.bind(null,t,e,n),e.then(t,t))}function V0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function O0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Sr(-1,1),e.tag=2,yi(n,e,1))),n.lanes|=1),t)}var LI=Vr.ReactCurrentOwner,an=!1;function Wt(t,e,n,r){e.child=t===null?O_(e,null,n,r):ho(e,t.child,n,r)}function F0(t,e,n,r,i){n=n.render;var s=e.ref;return to(e,i),r=Xp(t,e,n,r,s,i),n=Jp(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pr(t,e,i)):(Ye&&n&&Fp(e),e.flags|=1,Wt(t,e,r,i),e.child)}function z0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!lm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,ux(t,e,s,r,i)):(t=zc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Xa,n(o,r)&&t.ref===e.ref)return Pr(t,e,i)}return e.flags|=1,t=wi(s,r),t.ref=e.ref,t.return=e,e.child=t}function ux(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Xa(s,r)&&t.ref===e.ref)if(an=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(an=!0);else return e.lanes=t.lanes,Pr(t,e,i)}return Rf(t,e,n,r,i)}function dx(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(Qs,hn),hn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(Qs,hn),hn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Be(Qs,hn),hn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Be(Qs,hn),hn|=r;return Wt(t,e,i,n),e.child}function hx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Rf(t,e,n,r,i){var s=cn(n)?ls:$t.current;return s=co(e,s),to(e,i),n=Xp(t,e,n,r,s,i),r=Jp(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pr(t,e,i)):(Ye&&r&&Fp(e),e.flags|=1,Wt(t,e,n,i),e.child)}function U0(t,e,n,r,i){if(cn(n)){var s=!0;lu(e)}else s=!1;if(to(e,i),e.stateNode===null)Vc(t,e),ax(e,n,r),kf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Rn(u):(u=cn(n)?ls:$t.current,u=co(e,u));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&L0(e,o,r,u),ni=!1;var p=e.memoizedState;o.state=p,fu(e,r,o,i),c=e.memoizedState,l!==r||p!==c||ln.current||ni?(typeof f=="function"&&(bf(e,n,f,r),c=e.memoizedState),(l=ni||D0(e,n,l,r,p,c,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,z_(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Mn(e.type,l),o.props=u,m=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Rn(c):(c=cn(n)?ls:$t.current,c=co(e,c));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||p!==c)&&L0(e,o,r,c),ni=!1,p=e.memoizedState,o.state=p,fu(e,r,o,i);var y=e.memoizedState;l!==m||p!==y||ln.current||ni?(typeof v=="function"&&(bf(e,n,v,r),y=e.memoizedState),(u=ni||D0(e,n,u,r,p,y,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Af(t,e,n,r,s,i)}function Af(t,e,n,r,i,s){hx(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&b0(e,n,!1),Pr(t,e,s);r=e.stateNode,LI.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ho(e,t.child,null,s),e.child=ho(e,null,l,s)):Wt(t,e,l,s),e.memoizedState=r.state,i&&b0(e,n,!0),e.child}function fx(t){var e=t.stateNode;e.pendingContext?I0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&I0(t,e.context,!1),Gp(t,e.containerInfo)}function B0(t,e,n,r,i){return uo(),Up(i),e.flags|=256,Wt(t,e,n,r),e.child}var Pf={dehydrated:null,treeContext:null,retryLane:0};function Nf(t){return{baseLanes:t,cachePool:null,transitions:null}}function px(t,e,n){var r=e.pendingProps,i=Ze.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Be(Ze,i&1),t===null)return Sf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=sd(o,r,0,null),t=os(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Nf(n),e.memoizedState=Pf,t):tm(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return MI(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=wi(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=wi(l,s):(s=os(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Nf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Pf,r}return s=t.child,t=s.sibling,r=wi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function tm(t,e){return e=sd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vc(t,e,n,r){return r!==null&&Up(r),ho(e,t.child,null,n),t=tm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function MI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=xh(Error(H(422))),vc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=sd({mode:"visible",children:r.children},i,0,null),s=os(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ho(e,t.child,null,o),e.child.memoizedState=Nf(o),e.memoizedState=Pf,s);if(!(e.mode&1))return vc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(H(419)),r=xh(s,r,void 0),vc(t,e,o,r)}if(l=(o&t.childLanes)!==0,an||l){if(r=Et,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ar(t,i),Un(r,t,i,-1))}return am(),r=xh(Error(H(421))),vc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=QI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,pn=vi(i.nextSibling),gn=e,Ye=!0,Fn=null,t!==null&&(In[bn++]=yr,In[bn++]=_r,In[bn++]=cs,yr=t.id,_r=t.overflow,cs=e),e=tm(e,r.children),e.flags|=4096,e)}function $0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),If(t.return,e,n)}function wh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function mx(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Wt(t,e,r.children,n),r=Ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$0(t,n,e);else if(t.tag===19)$0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(Ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&pu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),wh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&pu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}wh(e,!0,n,null,s);break;case"together":wh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ds|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=wi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function VI(t,e,n){switch(e.tag){case 3:fx(e),uo();break;case 5:U_(e);break;case 1:cn(e.type)&&lu(e);break;case 4:Gp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Be(du,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(Ze,Ze.current&1),e.flags|=128,null):n&e.child.childLanes?px(t,e,n):(Be(Ze,Ze.current&1),t=Pr(t,e,n),t!==null?t.sibling:null);Be(Ze,Ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return mx(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(Ze,Ze.current),r)break;return null;case 22:case 23:return e.lanes=0,dx(t,e,n)}return Pr(t,e,n)}var gx,jf,vx,yx;gx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jf=function(){};vx=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,es(Xn.current);var s=null;switch(n){case"input":i=ef(t,i),r=ef(t,r),s=[];break;case"select":i=tt({},i,{value:void 0}),r=tt({},r,{value:void 0}),s=[];break;case"textarea":i=rf(t,i),r=rf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ou)}of(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ha.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ha.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&qe("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};yx=function(t,e,n,r){n!==r&&(e.flags|=4)};function aa(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function OI(t,e,n){var r=e.pendingProps;switch(zp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(e),null;case 1:return cn(e.type)&&au(),Vt(e),null;case 3:return r=e.stateNode,fo(),We(ln),We($t),Qp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(mc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fn!==null&&(Uf(Fn),Fn=null))),jf(t,e),Vt(e),null;case 5:Kp(e);var i=es(nl.current);if(n=e.type,t!==null&&e.stateNode!=null)vx(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Vt(e),null}if(t=es(Xn.current),mc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Qn]=e,r[el]=s,t=(e.mode&1)!==0,n){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(i=0;i<Sa.length;i++)qe(Sa[i],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":Jg(r,s),qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},qe("invalid",r);break;case"textarea":e0(r,s),qe("invalid",r)}of(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&pc(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&pc(r.textContent,l,t),i=["children",""+l]):Ha.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&qe("scroll",r)}switch(n){case"input":oc(r),Zg(r,s,!0);break;case"textarea":oc(r),t0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ou)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=W1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Qn]=e,t[el]=r,gx(t,e,!1,!1),e.stateNode=t;e:{switch(o=af(n,r),n){case"dialog":qe("cancel",t),qe("close",t),i=r;break;case"iframe":case"object":case"embed":qe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Sa.length;i++)qe(Sa[i],t);i=r;break;case"source":qe("error",t),i=r;break;case"img":case"image":case"link":qe("error",t),qe("load",t),i=r;break;case"details":qe("toggle",t),i=r;break;case"input":Jg(t,r),i=ef(t,r),qe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=tt({},r,{value:void 0}),qe("invalid",t);break;case"textarea":e0(t,r),i=rf(t,r),qe("invalid",t);break;default:i=r}of(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?Q1(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&G1(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&qa(t,c):typeof c=="number"&&qa(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ha.hasOwnProperty(s)?c!=null&&s==="onScroll"&&qe("scroll",t):c!=null&&Ip(t,s,c,o))}switch(n){case"input":oc(t),Zg(t,r,!1);break;case"textarea":oc(t),t0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ki(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Xs(t,!!r.multiple,s,!1):r.defaultValue!=null&&Xs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ou)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vt(e),null;case 6:if(t&&e.stateNode!=null)yx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=es(nl.current),es(Xn.current),mc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Qn]=e,(s=r.nodeValue!==n)&&(t=gn,t!==null))switch(t.tag){case 3:pc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qn]=e,e.stateNode=r}return Vt(e),null;case 13:if(We(Ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&pn!==null&&e.mode&1&&!(e.flags&128))M_(),uo(),e.flags|=98560,s=!1;else if(s=mc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[Qn]=e}else uo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vt(e),s=!1}else Fn!==null&&(Uf(Fn),Fn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?_t===0&&(_t=3):am())),e.updateQueue!==null&&(e.flags|=4),Vt(e),null);case 4:return fo(),jf(t,e),t===null&&Ja(e.stateNode.containerInfo),Vt(e),null;case 10:return Hp(e.type._context),Vt(e),null;case 17:return cn(e.type)&&au(),Vt(e),null;case 19:if(We(Ze),s=e.memoizedState,s===null)return Vt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)aa(s,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=pu(t),o!==null){for(e.flags|=128,aa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(Ze,Ze.current&1|2),e.child}t=t.sibling}s.tail!==null&&lt()>mo&&(e.flags|=128,r=!0,aa(s,!1),e.lanes=4194304)}else{if(!r)if(t=pu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),aa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ye)return Vt(e),null}else 2*lt()-s.renderingStartTime>mo&&n!==1073741824&&(e.flags|=128,r=!0,aa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=lt(),e.sibling=null,n=Ze.current,Be(Ze,r?n&1|2:n&1),e):(Vt(e),null);case 22:case 23:return om(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?hn&1073741824&&(Vt(e),e.subtreeFlags&6&&(e.flags|=8192)):Vt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function FI(t,e){switch(zp(e),e.tag){case 1:return cn(e.type)&&au(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fo(),We(ln),We($t),Qp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Kp(e),null;case 13:if(We(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));uo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Ze),null;case 4:return fo(),null;case 10:return Hp(e.type._context),null;case 22:case 23:return om(),null;case 24:return null;default:return null}}var yc=!1,Ut=!1,zI=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Ks(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(t,e,r)}else n.current=null}function Df(t,e,n){try{n()}catch(r){it(t,e,r)}}var H0=!1;function UI(t,e){if(vf=ru,t=T_(),Op(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,f=0,m=t,p=null;t:for(;;){for(var v;m!==n||i!==0&&m.nodeType!==3||(l=o+i),m!==s||r!==0&&m.nodeType!==3||(c=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(v=m.firstChild)!==null;)p=m,m=v;for(;;){if(m===t)break t;if(p===n&&++u===i&&(l=o),p===s&&++f===r&&(c=o),(v=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(yf={focusedElem:t,selectionRange:n},ru=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var S=y.memoizedProps,C=y.memoizedState,T=e.stateNode,x=T.getSnapshotBeforeUpdate(e.elementType===e.type?S:Mn(e.type,S),C);T.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(L){it(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return y=H0,H0=!1,y}function Ma(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Df(e,n,s)}i=i.next}while(i!==r)}}function rd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Lf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _x(t){var e=t.alternate;e!==null&&(t.alternate=null,_x(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qn],delete e[el],delete e[wf],delete e[TI],delete e[SI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xx(t){return t.tag===5||t.tag===3||t.tag===4}function q0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ou));else if(r!==4&&(t=t.child,t!==null))for(Mf(t,e,n),t=t.sibling;t!==null;)Mf(t,e,n),t=t.sibling}function Vf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Vf(t,e,n),t=t.sibling;t!==null;)Vf(t,e,n),t=t.sibling}var kt=null,Vn=!1;function Gr(t,e,n){for(n=n.child;n!==null;)wx(t,e,n),n=n.sibling}function wx(t,e,n){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(Qu,n)}catch{}switch(n.tag){case 5:Ut||Ks(n,e);case 6:var r=kt,i=Vn;kt=null,Gr(t,e,n),kt=r,Vn=i,kt!==null&&(Vn?(t=kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):kt.removeChild(n.stateNode));break;case 18:kt!==null&&(Vn?(t=kt,n=n.stateNode,t.nodeType===8?ph(t.parentNode,n):t.nodeType===1&&ph(t,n),Qa(t)):ph(kt,n.stateNode));break;case 4:r=kt,i=Vn,kt=n.stateNode.containerInfo,Vn=!0,Gr(t,e,n),kt=r,Vn=i;break;case 0:case 11:case 14:case 15:if(!Ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Df(n,e,o),i=i.next}while(i!==r)}Gr(t,e,n);break;case 1:if(!Ut&&(Ks(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){it(n,e,l)}Gr(t,e,n);break;case 21:Gr(t,e,n);break;case 22:n.mode&1?(Ut=(r=Ut)||n.memoizedState!==null,Gr(t,e,n),Ut=r):Gr(t,e,n);break;default:Gr(t,e,n)}}function W0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new zI),e.forEach(function(r){var i=YI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ln(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:kt=l.stateNode,Vn=!1;break e;case 3:kt=l.stateNode.containerInfo,Vn=!0;break e;case 4:kt=l.stateNode.containerInfo,Vn=!0;break e}l=l.return}if(kt===null)throw Error(H(160));wx(s,o,i),kt=null,Vn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){it(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ex(e,t),e=e.sibling}function Ex(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ln(e,t),Gn(t),r&4){try{Ma(3,t,t.return),rd(3,t)}catch(S){it(t,t.return,S)}try{Ma(5,t,t.return)}catch(S){it(t,t.return,S)}}break;case 1:Ln(e,t),Gn(t),r&512&&n!==null&&Ks(n,n.return);break;case 5:if(Ln(e,t),Gn(t),r&512&&n!==null&&Ks(n,n.return),t.flags&32){var i=t.stateNode;try{qa(i,"")}catch(S){it(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&H1(i,s),af(l,o);var u=af(l,s);for(o=0;o<c.length;o+=2){var f=c[o],m=c[o+1];f==="style"?Q1(i,m):f==="dangerouslySetInnerHTML"?G1(i,m):f==="children"?qa(i,m):Ip(i,f,m,u)}switch(l){case"input":tf(i,s);break;case"textarea":q1(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Xs(i,!!s.multiple,v,!1):p!==!!s.multiple&&(s.defaultValue!=null?Xs(i,!!s.multiple,s.defaultValue,!0):Xs(i,!!s.multiple,s.multiple?[]:"",!1))}i[el]=s}catch(S){it(t,t.return,S)}}break;case 6:if(Ln(e,t),Gn(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){it(t,t.return,S)}}break;case 3:if(Ln(e,t),Gn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qa(e.containerInfo)}catch(S){it(t,t.return,S)}break;case 4:Ln(e,t),Gn(t);break;case 13:Ln(e,t),Gn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(im=lt())),r&4&&W0(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Ut=(u=Ut)||f,Ln(e,t),Ut=u):Ln(e,t),Gn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(Q=t,f=t.child;f!==null;){for(m=Q=f;Q!==null;){switch(p=Q,v=p.child,p.tag){case 0:case 11:case 14:case 15:Ma(4,p,p.return);break;case 1:Ks(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(S){it(r,n,S)}}break;case 5:Ks(p,p.return);break;case 22:if(p.memoizedState!==null){K0(m);continue}}v!==null?(v.return=p,Q=v):K0(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=K1("display",o))}catch(S){it(t,t.return,S)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(S){it(t,t.return,S)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ln(e,t),Gn(t),r&4&&W0(t);break;case 21:break;default:Ln(e,t),Gn(t)}}function Gn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(xx(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(qa(i,""),r.flags&=-33);var s=q0(t);Vf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=q0(t);Mf(t,l,o);break;default:throw Error(H(161))}}catch(c){it(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function BI(t,e,n){Q=t,Tx(t)}function Tx(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||yc;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Ut;l=yc;var u=Ut;if(yc=o,(Ut=c)&&!u)for(Q=i;Q!==null;)o=Q,c=o.child,o.tag===22&&o.memoizedState!==null?Q0(i):c!==null?(c.return=o,Q=c):Q0(i);for(;s!==null;)Q=s,Tx(s),s=s.sibling;Q=i,yc=l,Ut=u}G0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):G0(t)}}function G0(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ut||rd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ut)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Mn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&P0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}P0(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&Qa(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Ut||e.flags&512&&Lf(e)}catch(p){it(e,e.return,p)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function K0(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Q0(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rd(4,e)}catch(c){it(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){it(e,i,c)}}var s=e.return;try{Lf(e)}catch(c){it(e,s,c)}break;case 5:var o=e.return;try{Lf(e)}catch(c){it(e,o,c)}}}catch(c){it(e,e.return,c)}if(e===t){Q=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Q=l;break}Q=e.return}}var $I=Math.ceil,vu=Vr.ReactCurrentDispatcher,nm=Vr.ReactCurrentOwner,Cn=Vr.ReactCurrentBatchConfig,be=0,Et=null,pt=null,At=0,hn=0,Qs=Li(0),_t=0,ol=null,ds=0,id=0,rm=0,Va=null,sn=null,im=0,mo=1/0,gr=null,yu=!1,Of=null,_i=null,_c=!1,di=null,_u=0,Oa=0,Ff=null,Oc=-1,Fc=0;function Qt(){return be&6?lt():Oc!==-1?Oc:Oc=lt()}function xi(t){return t.mode&1?be&2&&At!==0?At&-At:bI.transition!==null?(Fc===0&&(Fc=a_()),Fc):(t=De,t!==0||(t=window.event,t=t===void 0?16:p_(t.type)),t):1}function Un(t,e,n,r){if(50<Oa)throw Oa=0,Ff=null,Error(H(185));_l(t,n,r),(!(be&2)||t!==Et)&&(t===Et&&(!(be&2)&&(id|=n),_t===4&&ii(t,At)),un(t,r),n===1&&be===0&&!(e.mode&1)&&(mo=lt()+500,ed&&Mi()))}function un(t,e){var n=t.callbackNode;bS(t,e);var r=nu(t,t===Et?At:0);if(r===0)n!==null&&i0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&i0(n),e===1)t.tag===0?II(Y0.bind(null,t)):j_(Y0.bind(null,t)),wI(function(){!(be&6)&&Mi()}),n=null;else{switch(l_(r)){case 1:n=Ap;break;case 4:n=s_;break;case 16:n=tu;break;case 536870912:n=o_;break;default:n=tu}n=Px(n,Sx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Sx(t,e){if(Oc=-1,Fc=0,be&6)throw Error(H(327));var n=t.callbackNode;if(no()&&t.callbackNode!==n)return null;var r=nu(t,t===Et?At:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=xu(t,r);else{e=r;var i=be;be|=2;var s=bx();(Et!==t||At!==e)&&(gr=null,mo=lt()+500,ss(t,e));do try{WI();break}catch(l){Ix(t,l)}while(!0);$p(),vu.current=s,be=i,pt!==null?e=0:(Et=null,At=0,e=_t)}if(e!==0){if(e===2&&(i=hf(t),i!==0&&(r=i,e=zf(t,i))),e===1)throw n=ol,ss(t,0),ii(t,r),un(t,lt()),n;if(e===6)ii(t,r);else{if(i=t.current.alternate,!(r&30)&&!HI(i)&&(e=xu(t,r),e===2&&(s=hf(t),s!==0&&(r=s,e=zf(t,s))),e===1))throw n=ol,ss(t,0),ii(t,r),un(t,lt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Gi(t,sn,gr);break;case 3:if(ii(t,r),(r&130023424)===r&&(e=im+500-lt(),10<e)){if(nu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Qt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=xf(Gi.bind(null,t,sn,gr),e);break}Gi(t,sn,gr);break;case 4:if(ii(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-zn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$I(r/1960))-r,10<r){t.timeoutHandle=xf(Gi.bind(null,t,sn,gr),r);break}Gi(t,sn,gr);break;case 5:Gi(t,sn,gr);break;default:throw Error(H(329))}}}return un(t,lt()),t.callbackNode===n?Sx.bind(null,t):null}function zf(t,e){var n=Va;return t.current.memoizedState.isDehydrated&&(ss(t,e).flags|=256),t=xu(t,e),t!==2&&(e=sn,sn=n,e!==null&&Uf(e)),t}function Uf(t){sn===null?sn=t:sn.push.apply(sn,t)}function HI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Bn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ii(t,e){for(e&=~rm,e&=~id,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-zn(e),r=1<<n;t[n]=-1,e&=~r}}function Y0(t){if(be&6)throw Error(H(327));no();var e=nu(t,0);if(!(e&1))return un(t,lt()),null;var n=xu(t,e);if(t.tag!==0&&n===2){var r=hf(t);r!==0&&(e=r,n=zf(t,r))}if(n===1)throw n=ol,ss(t,0),ii(t,e),un(t,lt()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gi(t,sn,gr),un(t,lt()),null}function sm(t,e){var n=be;be|=1;try{return t(e)}finally{be=n,be===0&&(mo=lt()+500,ed&&Mi())}}function hs(t){di!==null&&di.tag===0&&!(be&6)&&no();var e=be;be|=1;var n=Cn.transition,r=De;try{if(Cn.transition=null,De=1,t)return t()}finally{De=r,Cn.transition=n,be=e,!(be&6)&&Mi()}}function om(){hn=Qs.current,We(Qs)}function ss(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xI(n)),pt!==null)for(n=pt.return;n!==null;){var r=n;switch(zp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&au();break;case 3:fo(),We(ln),We($t),Qp();break;case 5:Kp(r);break;case 4:fo();break;case 13:We(Ze);break;case 19:We(Ze);break;case 10:Hp(r.type._context);break;case 22:case 23:om()}n=n.return}if(Et=t,pt=t=wi(t.current,null),At=hn=e,_t=0,ol=null,rm=id=ds=0,sn=Va=null,Zi!==null){for(e=0;e<Zi.length;e++)if(n=Zi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Zi=null}return t}function Ix(t,e){do{var n=pt;try{if($p(),Lc.current=gu,mu){for(var r=et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}mu=!1}if(us=0,wt=gt=et=null,La=!1,rl=0,nm.current=null,n===null||n.return===null){_t=1,ol=e,pt=null;break}e:{var s=t,o=n.return,l=n,c=e;if(e=At,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=V0(o);if(v!==null){v.flags&=-257,O0(v,o,l,s,e),v.mode&1&&M0(s,u,e),e=v,c=u;var y=e.updateQueue;if(y===null){var S=new Set;S.add(c),e.updateQueue=S}else y.add(c);break e}else{if(!(e&1)){M0(s,u,e),am();break e}c=Error(H(426))}}else if(Ye&&l.mode&1){var C=V0(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),O0(C,o,l,s,e),Up(po(c,l));break e}}s=c=po(c,l),_t!==4&&(_t=2),Va===null?Va=[s]:Va.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=lx(s,c,e);A0(s,T);break e;case 1:l=c;var x=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(_i===null||!_i.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var L=cx(s,l,e);A0(s,L);break e}}s=s.return}while(s!==null)}Cx(n)}catch(F){e=F,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(!0)}function bx(){var t=vu.current;return vu.current=gu,t===null?gu:t}function am(){(_t===0||_t===3||_t===2)&&(_t=4),Et===null||!(ds&268435455)&&!(id&268435455)||ii(Et,At)}function xu(t,e){var n=be;be|=2;var r=bx();(Et!==t||At!==e)&&(gr=null,ss(t,e));do try{qI();break}catch(i){Ix(t,i)}while(!0);if($p(),be=n,vu.current=r,pt!==null)throw Error(H(261));return Et=null,At=0,_t}function qI(){for(;pt!==null;)kx(pt)}function WI(){for(;pt!==null&&!vS();)kx(pt)}function kx(t){var e=Ax(t.alternate,t,hn);t.memoizedProps=t.pendingProps,e===null?Cx(t):pt=e,nm.current=null}function Cx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=FI(n,e),n!==null){n.flags&=32767,pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,pt=null;return}}else if(n=OI(n,e,hn),n!==null){pt=n;return}if(e=e.sibling,e!==null){pt=e;return}pt=e=t}while(e!==null);_t===0&&(_t=5)}function Gi(t,e,n){var r=De,i=Cn.transition;try{Cn.transition=null,De=1,GI(t,e,n,r)}finally{Cn.transition=i,De=r}return null}function GI(t,e,n,r){do no();while(di!==null);if(be&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(kS(t,s),t===Et&&(pt=Et=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_c||(_c=!0,Px(tu,function(){return no(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Cn.transition,Cn.transition=null;var o=De;De=1;var l=be;be|=4,nm.current=null,UI(t,n),Ex(n,t),fI(yf),ru=!!vf,yf=vf=null,t.current=n,BI(n),yS(),be=l,De=o,Cn.transition=s}else t.current=n;if(_c&&(_c=!1,di=t,_u=i),s=t.pendingLanes,s===0&&(_i=null),wS(n.stateNode),un(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(yu)throw yu=!1,t=Of,Of=null,t;return _u&1&&t.tag!==0&&no(),s=t.pendingLanes,s&1?t===Ff?Oa++:(Oa=0,Ff=t):Oa=0,Mi(),null}function no(){if(di!==null){var t=l_(_u),e=Cn.transition,n=De;try{if(Cn.transition=null,De=16>t?16:t,di===null)var r=!1;else{if(t=di,di=null,_u=0,be&6)throw Error(H(331));var i=be;for(be|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Q=u;Q!==null;){var f=Q;switch(f.tag){case 0:case 11:case 15:Ma(8,f,s)}var m=f.child;if(m!==null)m.return=f,Q=m;else for(;Q!==null;){f=Q;var p=f.sibling,v=f.return;if(_x(f),f===u){Q=null;break}if(p!==null){p.return=v,Q=p;break}Q=v}}}var y=s.alternate;if(y!==null){var S=y.child;if(S!==null){y.child=null;do{var C=S.sibling;S.sibling=null,S=C}while(S!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ma(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,Q=T;break e}Q=s.return}}var x=t.current;for(Q=x;Q!==null;){o=Q;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Q=b;else e:for(o=x;Q!==null;){if(l=Q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:rd(9,l)}}catch(F){it(l,l.return,F)}if(l===o){Q=null;break e}var L=l.sibling;if(L!==null){L.return=l.return,Q=L;break e}Q=l.return}}if(be=i,Mi(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(Qu,t)}catch{}r=!0}return r}finally{De=n,Cn.transition=e}}return!1}function X0(t,e,n){e=po(n,e),e=lx(t,e,1),t=yi(t,e,1),e=Qt(),t!==null&&(_l(t,1,e),un(t,e))}function it(t,e,n){if(t.tag===3)X0(t,t,n);else for(;e!==null;){if(e.tag===3){X0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_i===null||!_i.has(r))){t=po(n,t),t=cx(e,t,1),e=yi(e,t,1),t=Qt(),e!==null&&(_l(e,1,t),un(e,t));break}}e=e.return}}function KI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qt(),t.pingedLanes|=t.suspendedLanes&n,Et===t&&(At&n)===n&&(_t===4||_t===3&&(At&130023424)===At&&500>lt()-im?ss(t,0):rm|=n),un(t,e)}function Rx(t,e){e===0&&(t.mode&1?(e=cc,cc<<=1,!(cc&130023424)&&(cc=4194304)):e=1);var n=Qt();t=Ar(t,e),t!==null&&(_l(t,e,n),un(t,n))}function QI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Rx(t,n)}function YI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),Rx(t,n)}var Ax;Ax=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ln.current)an=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return an=!1,VI(t,e,n);an=!!(t.flags&131072)}else an=!1,Ye&&e.flags&1048576&&D_(e,uu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Vc(t,e),t=e.pendingProps;var i=co(e,$t.current);to(e,n),i=Xp(null,e,r,t,i,n);var s=Jp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cn(r)?(s=!0,lu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Wp(e),i.updater=nd,e.stateNode=i,i._reactInternals=e,kf(e,r,t,n),e=Af(null,e,r,!0,s,n)):(e.tag=0,Ye&&s&&Fp(e),Wt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Vc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=JI(r),t=Mn(r,t),i){case 0:e=Rf(null,e,r,t,n);break e;case 1:e=U0(null,e,r,t,n);break e;case 11:e=F0(null,e,r,t,n);break e;case 14:e=z0(null,e,r,Mn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),Rf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),U0(t,e,r,i,n);case 3:e:{if(fx(e),t===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,z_(t,e),fu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=po(Error(H(423)),e),e=B0(t,e,r,n,i);break e}else if(r!==i){i=po(Error(H(424)),e),e=B0(t,e,r,n,i);break e}else for(pn=vi(e.stateNode.containerInfo.firstChild),gn=e,Ye=!0,Fn=null,n=O_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(uo(),r===i){e=Pr(t,e,n);break e}Wt(t,e,r,n)}e=e.child}return e;case 5:return U_(e),t===null&&Sf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,_f(r,i)?o=null:s!==null&&_f(r,s)&&(e.flags|=32),hx(t,e),Wt(t,e,o,n),e.child;case 6:return t===null&&Sf(e),null;case 13:return px(t,e,n);case 4:return Gp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ho(e,null,r,n):Wt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),F0(t,e,r,i,n);case 7:return Wt(t,e,e.pendingProps,n),e.child;case 8:return Wt(t,e,e.pendingProps.children,n),e.child;case 12:return Wt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Be(du,r._currentValue),r._currentValue=o,s!==null)if(Bn(s.value,o)){if(s.children===i.children&&!ln.current){e=Pr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Sr(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),If(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),If(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Wt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,to(e,n),i=Rn(i),r=r(i),e.flags|=1,Wt(t,e,r,n),e.child;case 14:return r=e.type,i=Mn(r,e.pendingProps),i=Mn(r.type,i),z0(t,e,r,i,n);case 15:return ux(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),Vc(t,e),e.tag=1,cn(r)?(t=!0,lu(e)):t=!1,to(e,n),ax(e,r,i),kf(e,r,i,n),Af(null,e,r,!0,t,n);case 19:return mx(t,e,n);case 22:return dx(t,e,n)}throw Error(H(156,e.tag))};function Px(t,e){return i_(t,e)}function XI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,e,n,r){return new XI(t,e,n,r)}function lm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function JI(t){if(typeof t=="function")return lm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===kp)return 11;if(t===Cp)return 14}return 2}function wi(t,e){var n=t.alternate;return n===null?(n=kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")lm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Fs:return os(n.children,i,s,e);case bp:o=8,i|=8;break;case Yh:return t=kn(12,n,e,i|2),t.elementType=Yh,t.lanes=s,t;case Xh:return t=kn(13,n,e,i),t.elementType=Xh,t.lanes=s,t;case Jh:return t=kn(19,n,e,i),t.elementType=Jh,t.lanes=s,t;case U1:return sd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case F1:o=10;break e;case z1:o=9;break e;case kp:o=11;break e;case Cp:o=14;break e;case ti:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=kn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function os(t,e,n,r){return t=kn(7,t,r,e),t.lanes=n,t}function sd(t,e,n,r){return t=kn(22,t,r,e),t.elementType=U1,t.lanes=n,t.stateNode={isHidden:!1},t}function Eh(t,e,n){return t=kn(6,t,null,e),t.lanes=n,t}function Th(t,e,n){return e=kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ZI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rh(0),this.expirationTimes=rh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cm(t,e,n,r,i,s,o,l,c){return t=new ZI(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=kn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wp(s),t}function eb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Os,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Nx(t){if(!t)return Ci;t=t._reactInternals;e:{if(xs(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(cn(n))return N_(t,n,e)}return e}function jx(t,e,n,r,i,s,o,l,c){return t=cm(n,r,!0,t,i,s,o,l,c),t.context=Nx(null),n=t.current,r=Qt(),i=xi(n),s=Sr(r,i),s.callback=e??null,yi(n,s,i),t.current.lanes=i,_l(t,i,r),un(t,r),t}function od(t,e,n,r){var i=e.current,s=Qt(),o=xi(i);return n=Nx(n),e.context===null?e.context=n:e.pendingContext=n,e=Sr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=yi(i,e,o),t!==null&&(Un(t,i,o,s),Dc(t,i,o)),o}function wu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function J0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function um(t,e){J0(t,e),(t=t.alternate)&&J0(t,e)}function tb(){return null}var Dx=typeof reportError=="function"?reportError:function(t){console.error(t)};function dm(t){this._internalRoot=t}ad.prototype.render=dm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));od(t,e,null,null)};ad.prototype.unmount=dm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hs(function(){od(null,t,null,null)}),e[Rr]=null}};function ad(t){this._internalRoot=t}ad.prototype.unstable_scheduleHydration=function(t){if(t){var e=d_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ri.length&&e!==0&&e<ri[n].priority;n++);ri.splice(n,0,t),n===0&&f_(t)}};function hm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ld(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Z0(){}function nb(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=wu(o);s.call(u)}}var o=jx(e,r,t,0,null,!1,!1,"",Z0);return t._reactRootContainer=o,t[Rr]=o.current,Ja(t.nodeType===8?t.parentNode:t),hs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=wu(c);l.call(u)}}var c=cm(t,0,!1,null,null,!1,!1,"",Z0);return t._reactRootContainer=c,t[Rr]=c.current,Ja(t.nodeType===8?t.parentNode:t),hs(function(){od(e,c,n,r)}),c}function cd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=wu(o);l.call(c)}}od(e,o,t,i)}else o=nb(n,e,t,i,r);return wu(o)}c_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ta(e.pendingLanes);n!==0&&(Pp(e,n|1),un(e,lt()),!(be&6)&&(mo=lt()+500,Mi()))}break;case 13:hs(function(){var r=Ar(t,1);if(r!==null){var i=Qt();Un(r,t,1,i)}}),um(t,1)}};Np=function(t){if(t.tag===13){var e=Ar(t,134217728);if(e!==null){var n=Qt();Un(e,t,134217728,n)}um(t,134217728)}};u_=function(t){if(t.tag===13){var e=xi(t),n=Ar(t,e);if(n!==null){var r=Qt();Un(n,t,e,r)}um(t,e)}};d_=function(){return De};h_=function(t,e){var n=De;try{return De=t,e()}finally{De=n}};cf=function(t,e,n){switch(e){case"input":if(tf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Zu(r);if(!i)throw Error(H(90));$1(r),tf(r,i)}}}break;case"textarea":q1(t,n);break;case"select":e=n.value,e!=null&&Xs(t,!!n.multiple,e,!1)}};J1=sm;Z1=hs;var rb={usingClientEntryPoint:!1,Events:[wl,$s,Zu,Y1,X1,sm]},la={findFiberByHostInstance:Ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ib={bundleType:la.bundleType,version:la.version,rendererPackageName:la.rendererPackageName,rendererConfig:la.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=n_(t),t===null?null:t.stateNode},findFiberByHostInstance:la.findFiberByHostInstance||tb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{Qu=xc.inject(ib),Yn=xc}catch{}}_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rb;_n.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hm(e))throw Error(H(200));return eb(t,e,null,n)};_n.createRoot=function(t,e){if(!hm(t))throw Error(H(299));var n=!1,r="",i=Dx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=cm(t,1,!1,null,null,n,!1,r,i),t[Rr]=e.current,Ja(t.nodeType===8?t.parentNode:t),new dm(e)};_n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=n_(e),t=t===null?null:t.stateNode,t};_n.flushSync=function(t){return hs(t)};_n.hydrate=function(t,e,n){if(!ld(e))throw Error(H(200));return cd(null,t,e,!0,n)};_n.hydrateRoot=function(t,e,n){if(!hm(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Dx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=jx(e,null,t,1,n??null,i,!1,s,o),t[Rr]=e.current,Ja(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ad(e)};_n.render=function(t,e,n){if(!ld(e))throw Error(H(200));return cd(null,t,e,!1,n)};_n.unmountComponentAtNode=function(t){if(!ld(t))throw Error(H(40));return t._reactRootContainer?(hs(function(){cd(null,null,t,!1,function(){t._reactRootContainer=null,t[Rr]=null})}),!0):!1};_n.unstable_batchedUpdates=sm;_n.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ld(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return cd(t,e,n,!1,r)};_n.version="18.3.1-next-f1338f8080-20240426";function Lx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lx)}catch(t){console.error(t)}}Lx(),L1.exports=_n;var fm=L1.exports;const sb=T1(fm),ob=E1({__proto__:null,default:sb},[fm]);var Mx,ev=fm;Mx=ev.createRoot,ev.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qe(){return Qe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qe.apply(this,arguments)}var ht;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ht||(ht={}));const tv="popstate";function ab(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return al("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:fs(i)}return cb(e,n,null,t)}function ye(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function go(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lb(){return Math.random().toString(36).substr(2,8)}function nv(t,e){return{usr:t.state,key:t.key,idx:e}}function al(t,e,n,r){return n===void 0&&(n=null),Qe({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Vi(e):e,{state:n,key:e&&e.key||r||lb()})}function fs(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Vi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function cb(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=ht.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(Qe({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function m(){l=ht.Pop;let C=f(),T=C==null?null:C-u;u=C,c&&c({action:l,location:S.location,delta:T})}function p(C,T){l=ht.Push;let x=al(S.location,C,T);u=f()+1;let b=nv(x,u),L=S.createHref(x);try{o.pushState(b,"",L)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(L)}s&&c&&c({action:l,location:S.location,delta:1})}function v(C,T){l=ht.Replace;let x=al(S.location,C,T);u=f();let b=nv(x,u),L=S.createHref(x);o.replaceState(b,"",L),s&&c&&c({action:l,location:S.location,delta:0})}function y(C){let T=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof C=="string"?C:fs(C);return x=x.replace(/ $/,"%20"),ye(T,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,T)}let S={get action(){return l},get location(){return t(i,o)},listen(C){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(tv,m),c=C,()=>{i.removeEventListener(tv,m),c=null}},createHref(C){return e(i,C)},createURL:y,encodeLocation(C){let T=y(C);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:p,replace:v,go(C){return o.go(C)}};return S}var Me;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Me||(Me={}));const ub=new Set(["lazy","caseSensitive","path","id","index","children"]);function db(t){return t.index===!0}function Eu(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],l=typeof i.id=="string"?i.id:o.join("-");if(ye(i.index!==!0||!i.children,"Cannot specify children on an index route"),ye(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),db(i)){let c=Qe({},i,e(i),{id:l});return r[l]=c,c}else{let c=Qe({},i,e(i),{id:l,children:void 0});return r[l]=c,i.children&&(c.children=Eu(i.children,e,o,r)),c}})}function Qi(t,e,n){return n===void 0&&(n="/"),Uc(t,e,n,!1)}function Uc(t,e,n,r){let i=typeof e=="string"?Vi(e):e,s=Ro(i.pathname||"/",n);if(s==null)return null;let o=Vx(t);fb(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Sb(s);l=Eb(o[c],u,r)}return l}function hb(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Vx(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(ye(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Ir([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(ye(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Vx(s.children,e,f,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:xb(u,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of Ox(s.path))i(s,o,c)}),e}function Ox(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Ox(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function fb(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wb(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const pb=/^:[\w-]+$/,mb=3,gb=2,vb=1,yb=10,_b=-2,rv=t=>t==="*";function xb(t,e){let n=t.split("/"),r=n.length;return n.some(rv)&&(r+=_b),e&&(r+=gb),n.filter(i=>!rv(i)).reduce((i,s)=>i+(pb.test(s)?mb:s===""?vb:yb),r)}function wb(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Eb(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",m=iv({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),p=c.route;if(!m&&u&&n&&!r[r.length-1].route.index&&(m=iv({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:Ir([s,m.pathname]),pathnameBase:kb(Ir([s,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(s=Ir([s,m.pathnameBase]))}return o}function iv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Tb(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,f,m)=>{let{paramName:p,isOptional:v}=f;if(p==="*"){let S=l[m]||"";o=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const y=l[m];return v&&!y?u[p]=void 0:u[p]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function Tb(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),go(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Sb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return go(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ro(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Ib(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Vi(t):t;return{pathname:n?n.startsWith("/")?n:bb(n,e):e,search:Cb(r),hash:Rb(i)}}function bb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Sh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Fx(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ud(t,e){let n=Fx(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function dd(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Vi(t):(i=Qe({},t),ye(!i.pathname||!i.pathname.includes("?"),Sh("?","pathname","search",i)),ye(!i.pathname||!i.pathname.includes("#"),Sh("#","pathname","hash",i)),ye(!i.search||!i.search.includes("#"),Sh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),m-=1;i.pathname=p.join("/")}l=m>=0?e[m]:"/"}let c=Ib(i,l),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Ir=t=>t.join("/").replace(/\/\/+/g,"/"),kb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Cb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Rb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Tu{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function hd(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const zx=["post","put","patch","delete"],Ab=new Set(zx),Pb=["get",...zx],Nb=new Set(Pb),jb=new Set([301,302,303,307,308]),Db=new Set([307,308]),Ih={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Lb={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ca={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},pm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mb=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Ux="remix-router-transitions";function Vb(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;ye(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let D=t.detectErrorBoundary;i=M=>({hasErrorBoundary:D(M)})}else i=Mb;let s={},o=Eu(t.routes,i,void 0,s),l,c=t.basename||"/",u=t.dataStrategy||Ub,f=t.patchRoutesOnNavigation,m=Qe({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),p=null,v=new Set,y=null,S=null,C=null,T=t.hydrationData!=null,x=Qi(o,t.history.location,c),b=null;if(x==null&&!f){let D=rn(404,{pathname:t.history.location.pathname}),{matches:M,route:O}=mv(o);x=M,b={[O.id]:D}}x&&!t.hydrationData&&ur(x,o,t.history.location.pathname).active&&(x=null);let L;if(x)if(x.some(D=>D.route.lazy))L=!1;else if(!x.some(D=>D.route.loader))L=!0;else if(m.v7_partialHydration){let D=t.hydrationData?t.hydrationData.loaderData:null,M=t.hydrationData?t.hydrationData.errors:null;if(M){let O=x.findIndex(U=>M[U.route.id]!==void 0);L=x.slice(0,O+1).every(U=>!$f(U.route,D,M))}else L=x.every(O=>!$f(O.route,D,M))}else L=t.hydrationData!=null;else if(L=!1,x=[],m.v7_partialHydration){let D=ur(null,o,t.history.location.pathname);D.active&&D.matches&&(x=D.matches)}let F,P={historyAction:t.history.action,location:t.history.location,matches:x,initialized:L,navigation:Ih,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||b,fetchers:new Map,blockers:new Map},I=ht.Pop,_=!1,w,k=!1,N=new Map,j=null,R=!1,ie=!1,Pe=[],ot=new Set,ke=new Map,q=0,Z=-1,oe=new Map,fe=new Set,Te=new Map,Ve=new Map,mt=new Set,Tt=new Map,St=new Map,en;function Ud(){if(p=t.history.listen(D=>{let{action:M,location:O,delta:U}=D;if(en){en(),en=void 0;return}go(St.size===0||U!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let K=qo({currentLocation:P.location,nextLocation:O,historyAction:M});if(K&&U!=null){let te=new Promise(ae=>{en=ae});t.history.go(U*-1),zr(K,{state:"blocked",location:O,proceed(){zr(K,{state:"proceeding",proceed:void 0,reset:void 0,location:O}),te.then(()=>t.history.go(U))},reset(){let ae=new Map(P.blockers);ae.set(K,ca),ct({blockers:ae})}});return}return Pn(M,O)}),n){tk(e,N);let D=()=>nk(e,N);e.addEventListener("pagehide",D),j=()=>e.removeEventListener("pagehide",D)}return P.initialized||Pn(ht.Pop,P.location,{initialHydration:!0}),F}function Bd(){p&&p(),j&&j(),v.clear(),w&&w.abort(),P.fetchers.forEach((D,M)=>Ui(M)),P.blockers.forEach((D,M)=>Hl(M))}function Is(D){return v.add(D),()=>v.delete(D)}function ct(D,M){M===void 0&&(M={}),P=Qe({},P,D);let O=[],U=[];m.v7_fetcherPersist&&P.fetchers.forEach((K,te)=>{K.state==="idle"&&(mt.has(te)?U.push(te):O.push(te))}),[...v].forEach(K=>K(P,{deletedFetchers:U,viewTransitionOpts:M.viewTransitionOpts,flushSync:M.flushSync===!0})),m.v7_fetcherPersist&&(O.forEach(K=>P.fetchers.delete(K)),U.forEach(K=>Ui(K)))}function $n(D,M,O){var U,K;let{flushSync:te}=O===void 0?{}:O,ae=P.actionData!=null&&P.navigation.formMethod!=null&&On(P.navigation.formMethod)&&P.navigation.state==="loading"&&((U=D.state)==null?void 0:U._isRedirect)!==!0,Y;M.actionData?Object.keys(M.actionData).length>0?Y=M.actionData:Y=null:ae?Y=P.actionData:Y=null;let X=M.loaderData?fv(P.loaderData,M.loaderData,M.matches||[],M.errors):P.loaderData,G=P.blockers;G.size>0&&(G=new Map(G),G.forEach((ve,Fe)=>G.set(Fe,ca)));let ee=_===!0||P.navigation.formMethod!=null&&On(P.navigation.formMethod)&&((K=D.state)==null?void 0:K._isRedirect)!==!0;l&&(o=l,l=void 0),R||I===ht.Pop||(I===ht.Push?t.history.push(D,D.state):I===ht.Replace&&t.history.replace(D,D.state));let ge;if(I===ht.Pop){let ve=N.get(P.location.pathname);ve&&ve.has(D.pathname)?ge={currentLocation:P.location,nextLocation:D}:N.has(D.pathname)&&(ge={currentLocation:D,nextLocation:P.location})}else if(k){let ve=N.get(P.location.pathname);ve?ve.add(D.pathname):(ve=new Set([D.pathname]),N.set(P.location.pathname,ve)),ge={currentLocation:P.location,nextLocation:D}}ct(Qe({},M,{actionData:Y,loaderData:X,historyAction:I,location:D,initialized:!0,navigation:Ih,revalidation:"idle",restoreScrollPosition:Go(D,M.matches||P.matches),preventScrollReset:ee,blockers:G}),{viewTransitionOpts:ge,flushSync:te===!0}),I=ht.Pop,_=!1,k=!1,R=!1,ie=!1,Pe=[]}async function bs(D,M){if(typeof D=="number"){t.history.go(D);return}let O=Bf(P.location,P.matches,c,m.v7_prependBasename,D,m.v7_relativeSplatPath,M==null?void 0:M.fromRouteId,M==null?void 0:M.relative),{path:U,submission:K,error:te}=sv(m.v7_normalizeFormMethod,!1,O,M),ae=P.location,Y=al(P.location,U,M&&M.state);Y=Qe({},Y,t.history.encodeLocation(Y));let X=M&&M.replace!=null?M.replace:void 0,G=ht.Push;X===!0?G=ht.Replace:X===!1||K!=null&&On(K.formMethod)&&K.formAction===P.location.pathname+P.location.search&&(G=ht.Replace);let ee=M&&"preventScrollReset"in M?M.preventScrollReset===!0:void 0,ge=(M&&M.flushSync)===!0,ve=qo({currentLocation:ae,nextLocation:Y,historyAction:G});if(ve){zr(ve,{state:"blocked",location:Y,proceed(){zr(ve,{state:"proceeding",proceed:void 0,reset:void 0,location:Y}),bs(D,M)},reset(){let Fe=new Map(P.blockers);Fe.set(ve,ca),ct({blockers:Fe})}});return}return await Pn(G,Y,{submission:K,pendingError:te,preventScrollReset:ee,replace:M&&M.replace,enableViewTransition:M&&M.viewTransition,flushSync:ge})}function Fo(){if(ut(),ct({revalidation:"loading"}),P.navigation.state!=="submitting"){if(P.navigation.state==="idle"){Pn(P.historyAction,P.location,{startUninterruptedRevalidation:!0});return}Pn(I||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation,enableViewTransition:k===!0})}}async function Pn(D,M,O){w&&w.abort(),w=null,I=D,R=(O&&O.startUninterruptedRevalidation)===!0,cr(P.location,P.matches),_=(O&&O.preventScrollReset)===!0,k=(O&&O.enableViewTransition)===!0;let U=l||o,K=O&&O.overrideNavigation,te=Qi(U,M,c),ae=(O&&O.flushSync)===!0,Y=ur(te,U,M.pathname);if(Y.active&&Y.matches&&(te=Y.matches),!te){let{error:Ne,notFoundMatches:Se,route:ze}=Cs(M.pathname);$n(M,{matches:Se,loaderData:{},errors:{[ze.id]:Ne}},{flushSync:ae});return}if(P.initialized&&!ie&&Gb(P.location,M)&&!(O&&O.submission&&On(O.submission.formMethod))){$n(M,{matches:te},{flushSync:ae});return}w=new AbortController;let X=Ls(t.history,M,w.signal,O&&O.submission),G;if(O&&O.pendingError)G=[Yi(te).route.id,{type:Me.error,error:O.pendingError}];else if(O&&O.submission&&On(O.submission.formMethod)){let Ne=await zl(X,M,O.submission,te,Y.active,{replace:O.replace,flushSync:ae});if(Ne.shortCircuited)return;if(Ne.pendingActionResult){let[Se,ze]=Ne.pendingActionResult;if(fn(ze)&&hd(ze.error)&&ze.error.status===404){w=null,$n(M,{matches:Ne.matches,loaderData:{},errors:{[Se]:ze.error}});return}}te=Ne.matches||te,G=Ne.pendingActionResult,K=bh(M,O.submission),ae=!1,Y.active=!1,X=Ls(t.history,X.url,X.signal)}let{shortCircuited:ee,matches:ge,loaderData:ve,errors:Fe}=await $d(X,M,te,Y.active,K,O&&O.submission,O&&O.fetcherSubmission,O&&O.replace,O&&O.initialHydration===!0,ae,G);ee||(w=null,$n(M,Qe({matches:ge||te},pv(G),{loaderData:ve,errors:Fe})))}async function zl(D,M,O,U,K,te){te===void 0&&(te={}),ut();let ae=Zb(M,O);if(ct({navigation:ae},{flushSync:te.flushSync===!0}),K){let G=await Bi(U,M.pathname,D.signal);if(G.type==="aborted")return{shortCircuited:!0};if(G.type==="error"){let ee=Yi(G.partialMatches).route.id;return{matches:G.partialMatches,pendingActionResult:[ee,{type:Me.error,error:G.error}]}}else if(G.matches)U=G.matches;else{let{notFoundMatches:ee,error:ge,route:ve}=Cs(M.pathname);return{matches:ee,pendingActionResult:[ve.id,{type:Me.error,error:ge}]}}}let Y,X=Ia(U,M);if(!X.route.action&&!X.route.lazy)Y={type:Me.error,error:rn(405,{method:D.method,pathname:M.pathname,routeId:X.route.id})};else if(Y=(await ar("action",P,D,[X],U,null))[X.route.id],D.signal.aborted)return{shortCircuited:!0};if(ts(Y)){let G;return te&&te.replace!=null?G=te.replace:G=uv(Y.response.headers.get("Location"),new URL(D.url),c)===P.location.pathname+P.location.search,await Nn(D,Y,!0,{submission:O,replace:G}),{shortCircuited:!0}}if(hi(Y))throw rn(400,{type:"defer-action"});if(fn(Y)){let G=Yi(U,X.route.id);return(te&&te.replace)!==!0&&(I=ht.Push),{matches:U,pendingActionResult:[G.route.id,Y]}}return{matches:U,pendingActionResult:[X.route.id,Y]}}async function $d(D,M,O,U,K,te,ae,Y,X,G,ee){let ge=K||bh(M,te),ve=te||ae||vv(ge),Fe=!R&&(!m.v7_partialHydration||!X);if(U){if(Fe){let Ke=Ul(ee);ct(Qe({navigation:ge},Ke!==void 0?{actionData:Ke}:{}),{flushSync:G})}let xe=await Bi(O,M.pathname,D.signal);if(xe.type==="aborted")return{shortCircuited:!0};if(xe.type==="error"){let Ke=Yi(xe.partialMatches).route.id;return{matches:xe.partialMatches,loaderData:{},errors:{[Ke]:xe.error}}}else if(xe.matches)O=xe.matches;else{let{error:Ke,notFoundMatches:dr,route:Hr}=Cs(M.pathname);return{matches:dr,loaderData:{},errors:{[Hr.id]:Ke}}}}let Ne=l||o,[Se,ze]=av(t.history,P,O,ve,M,m.v7_partialHydration&&X===!0,m.v7_skipActionErrorRevalidation,ie,Pe,ot,mt,Te,fe,Ne,c,ee);if(lr(xe=>!(O&&O.some(Ke=>Ke.route.id===xe))||Se&&Se.some(Ke=>Ke.route.id===xe)),Z=++q,Se.length===0&&ze.length===0){let xe=Ho();return $n(M,Qe({matches:O,loaderData:{},errors:ee&&fn(ee[1])?{[ee[0]]:ee[1].error}:null},pv(ee),xe?{fetchers:new Map(P.fetchers)}:{}),{flushSync:G}),{shortCircuited:!0}}if(Fe){let xe={};if(!U){xe.navigation=ge;let Ke=Ul(ee);Ke!==void 0&&(xe.actionData=Ke)}ze.length>0&&(xe.fetchers=Bl(ze)),ct(xe,{flushSync:G})}ze.forEach(xe=>{nn(xe.key),xe.controller&&ke.set(xe.key,xe.controller)});let Hn=()=>ze.forEach(xe=>nn(xe.key));w&&w.signal.addEventListener("abort",Hn);let{loaderResults:Ur,fetcherResults:wn}=await Uo(P,O,Se,ze,D);if(D.signal.aborted)return{shortCircuited:!0};w&&w.signal.removeEventListener("abort",Hn),ze.forEach(xe=>ke.delete(xe.key));let En=wc(Ur);if(En)return await Nn(D,En.result,!0,{replace:Y}),{shortCircuited:!0};if(En=wc(wn),En)return fe.add(En.key),await Nn(D,En.result,!0,{replace:Y}),{shortCircuited:!0};let{loaderData:Br,errors:$r}=hv(P,O,Ur,ee,ze,wn,Tt);Tt.forEach((xe,Ke)=>{xe.subscribe(dr=>{(dr||xe.done)&&Tt.delete(Ke)})}),m.v7_partialHydration&&X&&P.errors&&($r=Qe({},P.errors,$r));let jn=Ho(),qn=ks(Z),Tn=jn||qn||ze.length>0;return Qe({matches:O,loaderData:Br,errors:$r},Tn?{fetchers:new Map(P.fetchers)}:{})}function Ul(D){if(D&&!fn(D[1]))return{[D[0]]:D[1].data};if(P.actionData)return Object.keys(P.actionData).length===0?null:P.actionData}function Bl(D){return D.forEach(M=>{let O=P.fetchers.get(M.key),U=ua(void 0,O?O.data:void 0);P.fetchers.set(M.key,U)}),new Map(P.fetchers)}function zo(D,M,O,U){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");nn(D);let K=(U&&U.flushSync)===!0,te=l||o,ae=Bf(P.location,P.matches,c,m.v7_prependBasename,O,m.v7_relativeSplatPath,M,U==null?void 0:U.relative),Y=Qi(te,ae,c),X=ur(Y,te,ae);if(X.active&&X.matches&&(Y=X.matches),!Y){tn(D,M,rn(404,{pathname:ae}),{flushSync:K});return}let{path:G,submission:ee,error:ge}=sv(m.v7_normalizeFormMethod,!0,ae,U);if(ge){tn(D,M,ge,{flushSync:K});return}let ve=Ia(Y,G),Fe=(U&&U.preventScrollReset)===!0;if(ee&&On(ee.formMethod)){$l(D,M,G,ve,Y,X.active,K,Fe,ee);return}Te.set(D,{routeId:M,path:G}),Hd(D,M,G,ve,Y,X.active,K,Fe,ee)}async function $l(D,M,O,U,K,te,ae,Y,X){ut(),Te.delete(D);function G(Je){if(!Je.route.action&&!Je.route.lazy){let Wn=rn(405,{method:X.formMethod,pathname:O,routeId:M});return tn(D,M,Wn,{flushSync:ae}),!0}return!1}if(!te&&G(U))return;let ee=P.fetchers.get(D);Ge(D,ek(X,ee),{flushSync:ae});let ge=new AbortController,ve=Ls(t.history,O,ge.signal,X);if(te){let Je=await Bi(K,O,ve.signal);if(Je.type==="aborted")return;if(Je.type==="error"){tn(D,M,Je.error,{flushSync:ae});return}else if(Je.matches){if(K=Je.matches,U=Ia(K,O),G(U))return}else{tn(D,M,rn(404,{pathname:O}),{flushSync:ae});return}}ke.set(D,ge);let Fe=q,Se=(await ar("action",P,ve,[U],K,D))[U.route.id];if(ve.signal.aborted){ke.get(D)===ge&&ke.delete(D);return}if(m.v7_fetcherPersist&&mt.has(D)){if(ts(Se)||fn(Se)){Ge(D,ei(void 0));return}}else{if(ts(Se))if(ke.delete(D),Z>Fe){Ge(D,ei(void 0));return}else return fe.add(D),Ge(D,ua(X)),Nn(ve,Se,!1,{fetcherSubmission:X,preventScrollReset:Y});if(fn(Se)){tn(D,M,Se.error);return}}if(hi(Se))throw rn(400,{type:"defer-action"});let ze=P.navigation.location||P.location,Hn=Ls(t.history,ze,ge.signal),Ur=l||o,wn=P.navigation.state!=="idle"?Qi(Ur,P.navigation.location,c):P.matches;ye(wn,"Didn't find any matches after fetcher action");let En=++q;oe.set(D,En);let Br=ua(X,Se.data);P.fetchers.set(D,Br);let[$r,jn]=av(t.history,P,wn,X,ze,!1,m.v7_skipActionErrorRevalidation,ie,Pe,ot,mt,Te,fe,Ur,c,[U.route.id,Se]);jn.filter(Je=>Je.key!==D).forEach(Je=>{let Wn=Je.key,As=P.fetchers.get(Wn),Wl=ua(void 0,As?As.data:void 0);P.fetchers.set(Wn,Wl),nn(Wn),Je.controller&&ke.set(Wn,Je.controller)}),ct({fetchers:new Map(P.fetchers)});let qn=()=>jn.forEach(Je=>nn(Je.key));ge.signal.addEventListener("abort",qn);let{loaderResults:Tn,fetcherResults:xe}=await Uo(P,wn,$r,jn,Hn);if(ge.signal.aborted)return;ge.signal.removeEventListener("abort",qn),oe.delete(D),ke.delete(D),jn.forEach(Je=>ke.delete(Je.key));let Ke=wc(Tn);if(Ke)return Nn(Hn,Ke.result,!1,{preventScrollReset:Y});if(Ke=wc(xe),Ke)return fe.add(Ke.key),Nn(Hn,Ke.result,!1,{preventScrollReset:Y});let{loaderData:dr,errors:Hr}=hv(P,wn,Tn,void 0,jn,xe,Tt);if(P.fetchers.has(D)){let Je=ei(Se.data);P.fetchers.set(D,Je)}ks(En),P.navigation.state==="loading"&&En>Z?(ye(I,"Expected pending action"),w&&w.abort(),$n(P.navigation.location,{matches:wn,loaderData:dr,errors:Hr,fetchers:new Map(P.fetchers)})):(ct({errors:Hr,loaderData:fv(P.loaderData,dr,wn,Hr),fetchers:new Map(P.fetchers)}),ie=!1)}async function Hd(D,M,O,U,K,te,ae,Y,X){let G=P.fetchers.get(D);Ge(D,ua(X,G?G.data:void 0),{flushSync:ae});let ee=new AbortController,ge=Ls(t.history,O,ee.signal);if(te){let Se=await Bi(K,O,ge.signal);if(Se.type==="aborted")return;if(Se.type==="error"){tn(D,M,Se.error,{flushSync:ae});return}else if(Se.matches)K=Se.matches,U=Ia(K,O);else{tn(D,M,rn(404,{pathname:O}),{flushSync:ae});return}}ke.set(D,ee);let ve=q,Ne=(await ar("loader",P,ge,[U],K,D))[U.route.id];if(hi(Ne)&&(Ne=await mm(Ne,ge.signal,!0)||Ne),ke.get(D)===ee&&ke.delete(D),!ge.signal.aborted){if(mt.has(D)){Ge(D,ei(void 0));return}if(ts(Ne))if(Z>ve){Ge(D,ei(void 0));return}else{fe.add(D),await Nn(ge,Ne,!1,{preventScrollReset:Y});return}if(fn(Ne)){tn(D,M,Ne.error);return}ye(!hi(Ne),"Unhandled fetcher deferred data"),Ge(D,ei(Ne.data))}}async function Nn(D,M,O,U){let{submission:K,fetcherSubmission:te,preventScrollReset:ae,replace:Y}=U===void 0?{}:U;M.response.headers.has("X-Remix-Revalidate")&&(ie=!0);let X=M.response.headers.get("Location");ye(X,"Expected a Location header on the redirect Response"),X=uv(X,new URL(D.url),c);let G=al(P.location,X,{_isRedirect:!0});if(n){let Se=!1;if(M.response.headers.has("X-Remix-Reload-Document"))Se=!0;else if(pm.test(X)){const ze=t.history.createURL(X);Se=ze.origin!==e.location.origin||Ro(ze.pathname,c)==null}if(Se){Y?e.location.replace(X):e.location.assign(X);return}}w=null;let ee=Y===!0||M.response.headers.has("X-Remix-Replace")?ht.Replace:ht.Push,{formMethod:ge,formAction:ve,formEncType:Fe}=P.navigation;!K&&!te&&ge&&ve&&Fe&&(K=vv(P.navigation));let Ne=K||te;if(Db.has(M.response.status)&&Ne&&On(Ne.formMethod))await Pn(ee,G,{submission:Qe({},Ne,{formAction:X}),preventScrollReset:ae||_,enableViewTransition:O?k:void 0});else{let Se=bh(G,K);await Pn(ee,G,{overrideNavigation:Se,fetcherSubmission:te,preventScrollReset:ae||_,enableViewTransition:O?k:void 0})}}async function ar(D,M,O,U,K,te){let ae,Y={};try{ae=await Bb(u,D,M,O,U,K,te,s,i)}catch(X){return U.forEach(G=>{Y[G.route.id]={type:Me.error,error:X}}),Y}for(let[X,G]of Object.entries(ae))if(Kb(G)){let ee=G.result;Y[X]={type:Me.redirect,response:qb(ee,O,X,K,c,m.v7_relativeSplatPath)}}else Y[X]=await Hb(G);return Y}async function Uo(D,M,O,U,K){let te=D.matches,ae=ar("loader",D,K,O,M,null),Y=Promise.all(U.map(async ee=>{if(ee.matches&&ee.match&&ee.controller){let ve=(await ar("loader",D,Ls(t.history,ee.path,ee.controller.signal),[ee.match],ee.matches,ee.key))[ee.match.route.id];return{[ee.key]:ve}}else return Promise.resolve({[ee.key]:{type:Me.error,error:rn(404,{pathname:ee.path})}})})),X=await ae,G=(await Y).reduce((ee,ge)=>Object.assign(ee,ge),{});return await Promise.all([Xb(M,X,K.signal,te,D.loaderData),Jb(M,G,U)]),{loaderResults:X,fetcherResults:G}}function ut(){ie=!0,Pe.push(...lr()),Te.forEach((D,M)=>{ke.has(M)&&ot.add(M),nn(M)})}function Ge(D,M,O){O===void 0&&(O={}),P.fetchers.set(D,M),ct({fetchers:new Map(P.fetchers)},{flushSync:(O&&O.flushSync)===!0})}function tn(D,M,O,U){U===void 0&&(U={});let K=Yi(P.matches,M);Ui(D),ct({errors:{[K.route.id]:O},fetchers:new Map(P.fetchers)},{flushSync:(U&&U.flushSync)===!0})}function Bo(D){return m.v7_fetcherPersist&&(Ve.set(D,(Ve.get(D)||0)+1),mt.has(D)&&mt.delete(D)),P.fetchers.get(D)||Lb}function Ui(D){let M=P.fetchers.get(D);ke.has(D)&&!(M&&M.state==="loading"&&oe.has(D))&&nn(D),Te.delete(D),oe.delete(D),fe.delete(D),mt.delete(D),ot.delete(D),P.fetchers.delete(D)}function qd(D){if(m.v7_fetcherPersist){let M=(Ve.get(D)||0)-1;M<=0?(Ve.delete(D),mt.add(D)):Ve.set(D,M)}else Ui(D);ct({fetchers:new Map(P.fetchers)})}function nn(D){let M=ke.get(D);M&&(M.abort(),ke.delete(D))}function $o(D){for(let M of D){let O=Bo(M),U=ei(O.data);P.fetchers.set(M,U)}}function Ho(){let D=[],M=!1;for(let O of fe){let U=P.fetchers.get(O);ye(U,"Expected fetcher: "+O),U.state==="loading"&&(fe.delete(O),D.push(O),M=!0)}return $o(D),M}function ks(D){let M=[];for(let[O,U]of oe)if(U<D){let K=P.fetchers.get(O);ye(K,"Expected fetcher: "+O),K.state==="loading"&&(nn(O),oe.delete(O),M.push(O))}return $o(M),M.length>0}function Wd(D,M){let O=P.blockers.get(D)||ca;return St.get(D)!==M&&St.set(D,M),O}function Hl(D){P.blockers.delete(D),St.delete(D)}function zr(D,M){let O=P.blockers.get(D)||ca;ye(O.state==="unblocked"&&M.state==="blocked"||O.state==="blocked"&&M.state==="blocked"||O.state==="blocked"&&M.state==="proceeding"||O.state==="blocked"&&M.state==="unblocked"||O.state==="proceeding"&&M.state==="unblocked","Invalid blocker state transition: "+O.state+" -> "+M.state);let U=new Map(P.blockers);U.set(D,M),ct({blockers:U})}function qo(D){let{currentLocation:M,nextLocation:O,historyAction:U}=D;if(St.size===0)return;St.size>1&&go(!1,"A router only supports one blocker at a time");let K=Array.from(St.entries()),[te,ae]=K[K.length-1],Y=P.blockers.get(te);if(!(Y&&Y.state==="proceeding")&&ae({currentLocation:M,nextLocation:O,historyAction:U}))return te}function Cs(D){let M=rn(404,{pathname:D}),O=l||o,{matches:U,route:K}=mv(O);return lr(),{notFoundMatches:U,route:K,error:M}}function lr(D){let M=[];return Tt.forEach((O,U)=>{(!D||D(U))&&(O.cancel(),M.push(U),Tt.delete(U))}),M}function Wo(D,M,O){if(y=D,C=M,S=O||null,!T&&P.navigation===Ih){T=!0;let U=Go(P.location,P.matches);U!=null&&ct({restoreScrollPosition:U})}return()=>{y=null,C=null,S=null}}function Rs(D,M){return S&&S(D,M.map(U=>hb(U,P.loaderData)))||D.key}function cr(D,M){if(y&&C){let O=Rs(D,M);y[O]=C()}}function Go(D,M){if(y){let O=Rs(D,M),U=y[O];if(typeof U=="number")return U}return null}function ur(D,M,O){if(f)if(D){if(Object.keys(D[0].params).length>0)return{active:!0,matches:Uc(M,O,c,!0)}}else return{active:!0,matches:Uc(M,O,c,!0)||[]};return{active:!1,matches:null}}async function Bi(D,M,O){if(!f)return{type:"success",matches:D};let U=D;for(;;){let K=l==null,te=l||o,ae=s;try{await f({path:M,matches:U,patch:(G,ee)=>{O.aborted||cv(G,ee,te,ae,i)}})}catch(G){return{type:"error",error:G,partialMatches:U}}finally{K&&!O.aborted&&(o=[...o])}if(O.aborted)return{type:"aborted"};let Y=Qi(te,M,c);if(Y)return{type:"success",matches:Y};let X=Uc(te,M,c,!0);if(!X||U.length===X.length&&U.every((G,ee)=>G.route.id===X[ee].route.id))return{type:"success",matches:null};U=X}}function $i(D){s={},l=Eu(D,i,void 0,s)}function ql(D,M){let O=l==null;cv(D,M,l||o,s,i),O&&(o=[...o],ct({}))}return F={get basename(){return c},get future(){return m},get state(){return P},get routes(){return o},get window(){return e},initialize:Ud,subscribe:Is,enableScrollRestoration:Wo,navigate:bs,fetch:zo,revalidate:Fo,createHref:D=>t.history.createHref(D),encodeLocation:D=>t.history.encodeLocation(D),getFetcher:Bo,deleteFetcher:qd,dispose:Bd,getBlocker:Wd,deleteBlocker:Hl,patchRoutes:ql,_internalFetchControllers:ke,_internalActiveDeferreds:Tt,_internalSetRoutes:$i},F}function Ob(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Bf(t,e,n,r,i,s,o,l){let c,u;if(o){c=[];for(let m of e)if(c.push(m),m.route.id===o){u=m;break}}else c=e,u=e[e.length-1];let f=dd(i||".",ud(c,s),Ro(t.pathname,n)||t.pathname,l==="path");if(i==null&&(f.search=t.search,f.hash=t.hash),(i==null||i===""||i===".")&&u){let m=gm(f.search);if(u.route.index&&!m)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&m){let p=new URLSearchParams(f.search),v=p.getAll("index");p.delete("index"),v.filter(S=>S).forEach(S=>p.append("index",S));let y=p.toString();f.search=y?"?"+y:""}}return r&&n!=="/"&&(f.pathname=f.pathname==="/"?n:Ir([n,f.pathname])),fs(f)}function sv(t,e,n,r){if(!r||!Ob(r))return{path:n};if(r.formMethod&&!Yb(r.formMethod))return{path:n,error:rn(405,{method:r.formMethod})};let i=()=>({path:n,error:rn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),l=Hx(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!On(o))return i();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((v,y)=>{let[S,C]=y;return""+v+S+"="+C+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!On(o))return i();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}ye(typeof FormData=="function","FormData is not available in this environment");let c,u;if(r.formData)c=Hf(r.formData),u=r.formData;else if(r.body instanceof FormData)c=Hf(r.body),u=r.body;else if(r.body instanceof URLSearchParams)c=r.body,u=dv(c);else if(r.body==null)c=new URLSearchParams,u=new FormData;else try{c=new URLSearchParams(r.body),u=dv(c)}catch{return i()}let f={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(On(f.formMethod))return{path:n,submission:f};let m=Vi(n);return e&&m.search&&gm(m.search)&&c.append("index",""),m.search="?"+c,{path:fs(m),submission:f}}function ov(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function av(t,e,n,r,i,s,o,l,c,u,f,m,p,v,y,S){let C=S?fn(S[1])?S[1].error:S[1].data:void 0,T=t.createURL(e.location),x=t.createURL(i),b=n;s&&e.errors?b=ov(n,Object.keys(e.errors)[0],!0):S&&fn(S[1])&&(b=ov(n,S[0]));let L=S?S[1].statusCode:void 0,F=o&&L&&L>=400,P=b.filter((_,w)=>{let{route:k}=_;if(k.lazy)return!0;if(k.loader==null)return!1;if(s)return $f(k,e.loaderData,e.errors);if(Fb(e.loaderData,e.matches[w],_)||c.some(R=>R===_.route.id))return!0;let N=e.matches[w],j=_;return lv(_,Qe({currentUrl:T,currentParams:N.params,nextUrl:x,nextParams:j.params},r,{actionResult:C,actionStatus:L,defaultShouldRevalidate:F?!1:l||T.pathname+T.search===x.pathname+x.search||T.search!==x.search||Bx(N,j)}))}),I=[];return m.forEach((_,w)=>{if(s||!n.some(ie=>ie.route.id===_.routeId)||f.has(w))return;let k=Qi(v,_.path,y);if(!k){I.push({key:w,routeId:_.routeId,path:_.path,matches:null,match:null,controller:null});return}let N=e.fetchers.get(w),j=Ia(k,_.path),R=!1;p.has(w)?R=!1:u.has(w)?(u.delete(w),R=!0):N&&N.state!=="idle"&&N.data===void 0?R=l:R=lv(j,Qe({currentUrl:T,currentParams:e.matches[e.matches.length-1].params,nextUrl:x,nextParams:n[n.length-1].params},r,{actionResult:C,actionStatus:L,defaultShouldRevalidate:F?!1:l})),R&&I.push({key:w,routeId:_.routeId,path:_.path,matches:k,match:j,controller:new AbortController})}),[P,I]}function $f(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function Fb(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function Bx(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function lv(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function cv(t,e,n,r,i){var s;let o;if(t){let u=r[t];ye(u,"No route found to patch children into: routeId = "+t),u.children||(u.children=[]),o=u.children}else o=n;let l=e.filter(u=>!o.some(f=>$x(u,f))),c=Eu(l,i,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...c)}function $x(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>$x(n,s))}):!1}async function zb(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ye(i,"No route found in manifest");let s={};for(let o in r){let c=i[o]!==void 0&&o!=="hasErrorBoundary";go(!c,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!c&&!ub.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Qe({},e(i),{lazy:void 0}))}async function Ub(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function Bb(t,e,n,r,i,s,o,l,c,u){let f=s.map(v=>v.route.lazy?zb(v.route,c,l):void 0),m=s.map((v,y)=>{let S=f[y],C=i.some(x=>x.route.id===v.route.id);return Qe({},v,{shouldLoad:C,resolve:async x=>(x&&r.method==="GET"&&(v.route.lazy||v.route.loader)&&(C=!0),C?$b(e,r,v,S,x,u):Promise.resolve({type:Me.data,result:void 0}))})}),p=await t({matches:m,request:r,params:s[0].params,fetcherKey:o,context:u});try{await Promise.all(f)}catch{}return p}async function $b(t,e,n,r,i,s){let o,l,c=u=>{let f,m=new Promise((y,S)=>f=S);l=()=>f(),e.signal.addEventListener("abort",l);let p=y=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):u({request:e,params:n.params,context:s},...y!==void 0?[y]:[]),v=(async()=>{try{return{type:"data",result:await(i?i(S=>p(S)):p())}}catch(y){return{type:"error",result:y}}})();return Promise.race([v,m])};try{let u=n.route[t];if(r)if(u){let f,[m]=await Promise.all([c(u).catch(p=>{f=p}),r]);if(f!==void 0)throw f;o=m}else if(await r,u=n.route[t],u)o=await c(u);else if(t==="action"){let f=new URL(e.url),m=f.pathname+f.search;throw rn(405,{method:e.method,pathname:m,routeId:n.route.id})}else return{type:Me.data,result:void 0};else if(u)o=await c(u);else{let f=new URL(e.url),m=f.pathname+f.search;throw rn(404,{pathname:m})}ye(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Me.error,result:u}}finally{l&&e.signal.removeEventListener("abort",l)}return o}async function Hb(t){let{result:e,type:n}=t;if(qx(e)){let u;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(f){return{type:Me.error,error:f}}return n===Me.error?{type:Me.error,error:new Tu(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:Me.data,data:u,statusCode:e.status,headers:e.headers}}if(n===Me.error){if(gv(e)){var r;if(e.data instanceof Error){var i;return{type:Me.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new Tu(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Me.error,error:e,statusCode:hd(e)?e.status:void 0}}if(Qb(e)){var s,o;return{type:Me.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(gv(e)){var l,c;return{type:Me.data,data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}}return{type:Me.data,data:e}}function qb(t,e,n,r,i,s){let o=t.headers.get("Location");if(ye(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!pm.test(o)){let l=r.slice(0,r.findIndex(c=>c.route.id===n)+1);o=Bf(new URL(e.url),l,i,!0,o,s),t.headers.set("Location",o)}return t}function uv(t,e,n){if(pm.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Ro(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Ls(t,e,n,r){let i=t.createURL(Hx(e)).toString(),s={signal:n};if(r&&On(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=Hf(r.formData):s.body=r.formData}return new Request(i,s)}function Hf(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function dv(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Wb(t,e,n,r,i){let s={},o=null,l,c=!1,u={},f=n&&fn(n[1])?n[1].error:void 0;return t.forEach(m=>{if(!(m.route.id in e))return;let p=m.route.id,v=e[p];if(ye(!ts(v),"Cannot handle redirect results in processLoaderData"),fn(v)){let y=v.error;f!==void 0&&(y=f,f=void 0),o=o||{};{let S=Yi(t,p);o[S.route.id]==null&&(o[S.route.id]=y)}s[p]=void 0,c||(c=!0,l=hd(v.error)?v.error.status:500),v.headers&&(u[p]=v.headers)}else hi(v)?(r.set(p,v.deferredData),s[p]=v.deferredData.data,v.statusCode!=null&&v.statusCode!==200&&!c&&(l=v.statusCode),v.headers&&(u[p]=v.headers)):(s[p]=v.data,v.statusCode&&v.statusCode!==200&&!c&&(l=v.statusCode),v.headers&&(u[p]=v.headers))}),f!==void 0&&n&&(o={[n[0]]:f},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:l||200,loaderHeaders:u}}function hv(t,e,n,r,i,s,o){let{loaderData:l,errors:c}=Wb(e,n,r,o);return i.forEach(u=>{let{key:f,match:m,controller:p}=u,v=s[f];if(ye(v,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(fn(v)){let y=Yi(t.matches,m==null?void 0:m.route.id);c&&c[y.route.id]||(c=Qe({},c,{[y.route.id]:v.error})),t.fetchers.delete(f)}else if(ts(v))ye(!1,"Unhandled fetcher revalidation redirect");else if(hi(v))ye(!1,"Unhandled fetcher deferred data");else{let y=ei(v.data);t.fetchers.set(f,y)}}),{loaderData:l,errors:c}}function fv(t,e,n,r){let i=Qe({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function pv(t){return t?fn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Yi(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function mv(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function rn(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,l="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(l="Bad Request",i&&n&&r?c="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?c="defer() is not supported in actions":s==="invalid-body"&&(c="Unable to encode submission body")):t===403?(l="Forbidden",c='Route "'+r+'" does not match URL "'+n+'"'):t===404?(l="Not Found",c='No route matches URL "'+n+'"'):t===405&&(l="Method Not Allowed",i&&n&&r?c="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(c='Invalid request method "'+i.toUpperCase()+'"')),new Tu(t||500,l,new Error(c),!0)}function wc(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(ts(i))return{key:r,result:i}}}function Hx(t){let e=typeof t=="string"?Vi(t):t;return fs(Qe({},e,{hash:""}))}function Gb(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Kb(t){return qx(t.result)&&jb.has(t.result.status)}function hi(t){return t.type===Me.deferred}function fn(t){return t.type===Me.error}function ts(t){return(t&&t.type)===Me.redirect}function gv(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Qb(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function qx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Yb(t){return Nb.has(t.toLowerCase())}function On(t){return Ab.has(t.toLowerCase())}async function Xb(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[l,c]=s[o],u=t.find(p=>(p==null?void 0:p.route.id)===l);if(!u)continue;let f=r.find(p=>p.route.id===u.route.id),m=f!=null&&!Bx(f,u)&&(i&&i[u.route.id])!==void 0;hi(c)&&m&&await mm(c,n,!1).then(p=>{p&&(e[l]=p)})}}async function Jb(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],l=e[i];t.find(u=>(u==null?void 0:u.route.id)===s)&&hi(l)&&(ye(o,"Expected an AbortController for revalidating fetcher deferred result"),await mm(l,o.signal,!0).then(u=>{u&&(e[i]=u)}))}}async function mm(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Me.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Me.error,error:i}}return{type:Me.data,data:t.deferredData.data}}}function gm(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Ia(t,e){let n=typeof e=="string"?Vi(e).search:e.search;if(t[t.length-1].route.index&&gm(n||""))return t[t.length-1];let r=Fx(t);return r[r.length-1]}function vv(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function bh(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Zb(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ua(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ek(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ei(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function tk(t,e){try{let n=t.sessionStorage.getItem(Ux);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function nk(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(Ux,JSON.stringify(n))}catch(r){go(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Su(){return Su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Su.apply(this,arguments)}const fd=A.createContext(null),Wx=A.createContext(null),Oi=A.createContext(null),vm=A.createContext(null),Fi=A.createContext({outlet:null,matches:[],isDataRoute:!1}),Gx=A.createContext(null);function rk(t,e){let{relative:n}=e===void 0?{}:e;Ao()||ye(!1);let{basename:r,navigator:i}=A.useContext(Oi),{hash:s,pathname:o,search:l}=Yx(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Ir([r,o])),i.createHref({pathname:c,search:l,hash:s})}function Ao(){return A.useContext(vm)!=null}function Po(){return Ao()||ye(!1),A.useContext(vm).location}function Kx(t){A.useContext(Oi).static||A.useLayoutEffect(t)}function Qx(){let{isDataRoute:t}=A.useContext(Fi);return t?mk():ik()}function ik(){Ao()||ye(!1);let t=A.useContext(fd),{basename:e,future:n,navigator:r}=A.useContext(Oi),{matches:i}=A.useContext(Fi),{pathname:s}=Po(),o=JSON.stringify(ud(i,n.v7_relativeSplatPath)),l=A.useRef(!1);return Kx(()=>{l.current=!0}),A.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let m=dd(u,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Ir([e,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[e,r,o,s,t])}function Yx(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=A.useContext(Oi),{matches:i}=A.useContext(Fi),{pathname:s}=Po(),o=JSON.stringify(ud(i,r.v7_relativeSplatPath));return A.useMemo(()=>dd(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function sk(t,e,n,r){Ao()||ye(!1);let{navigator:i}=A.useContext(Oi),{matches:s}=A.useContext(Fi),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Po(),f;f=u;let m=f.pathname||"/",p=m;if(c!=="/"){let S=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(S.length).join("/")}let v=Qi(t,{pathname:p});return uk(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:Ir([c,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:Ir([c,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r)}function ok(){let t=pk(),e=hd(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,null)}const ak=A.createElement(ok,null);class lk extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?A.createElement(Fi.Provider,{value:this.props.routeContext},A.createElement(Gx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ck(t){let{routeContext:e,match:n,children:r}=t,i=A.useContext(fd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(Fi.Provider,{value:e},r)}function uk(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);f>=0||ye(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:p,errors:v}=n,y=m.route.loader&&p[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,m,p)=>{let v,y=!1,S=null,C=null;n&&(v=l&&m.route.id?l[m.route.id]:void 0,S=m.route.errorElement||ak,c&&(u<0&&p===0?(gk("route-fallback"),y=!0,C=null):u===p&&(y=!0,C=m.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,p+1)),x=()=>{let b;return v?b=S:y?b=C:m.route.Component?b=A.createElement(m.route.Component,null):m.route.element?b=m.route.element:b=f,A.createElement(ck,{match:m,routeContext:{outlet:f,matches:T,isDataRoute:n!=null},children:b})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?A.createElement(lk,{location:n.location,revalidation:n.revalidation,component:S,error:v,children:x(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):x()},null)}var Xx=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Xx||{}),Iu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Iu||{});function dk(t){let e=A.useContext(fd);return e||ye(!1),e}function hk(t){let e=A.useContext(Wx);return e||ye(!1),e}function fk(t){let e=A.useContext(Fi);return e||ye(!1),e}function Jx(t){let e=fk(),n=e.matches[e.matches.length-1];return n.route.id||ye(!1),n.route.id}function pk(){var t;let e=A.useContext(Gx),n=hk(Iu.UseRouteError),r=Jx(Iu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function mk(){let{router:t}=dk(Xx.UseNavigateStable),e=Jx(Iu.UseNavigateStable),n=A.useRef(!1);return Kx(()=>{n.current=!0}),A.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Su({fromRouteId:e},s)))},[t,e])}const yv={};function gk(t,e,n){yv[t]||(yv[t]=!0)}function vk(t){let{to:e,replace:n,state:r,relative:i}=t;Ao()||ye(!1);let{future:s,static:o}=A.useContext(Oi),{matches:l}=A.useContext(Fi),{pathname:c}=Po(),u=Qx(),f=dd(e,ud(l,s.v7_relativeSplatPath),c,i==="path"),m=JSON.stringify(f);return A.useEffect(()=>u(JSON.parse(m),{replace:n,state:r,relative:i}),[u,m,i,n,r]),null}function yk(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ht.Pop,navigator:s,static:o=!1,future:l}=t;Ao()&&ye(!1);let c=e.replace(/^\/*/,"/"),u=A.useMemo(()=>({basename:c,navigator:s,static:o,future:Su({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof r=="string"&&(r=Vi(r));let{pathname:f="/",search:m="",hash:p="",state:v=null,key:y="default"}=r,S=A.useMemo(()=>{let C=Ro(f,c);return C==null?null:{location:{pathname:C,search:m,hash:p,state:v,key:y},navigationType:i}},[c,f,m,p,v,y,i]);return S==null?null:A.createElement(Oi.Provider,{value:u},A.createElement(vm.Provider,{children:n,value:S}))}new Promise(()=>{});function _k(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:A.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:A.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:A.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ll(){return ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ll.apply(this,arguments)}function xk(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function wk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ek(t,e){return t.button===0&&(!e||e==="_self")&&!wk(t)}const Tk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Sk="6";try{window.__reactRouterVersion=Sk}catch{}function Ik(t,e){return Vb({basename:e==null?void 0:e.basename,future:ll({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:ab({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||bk(),routes:t,mapRouteProperties:_k,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function bk(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=ll({},e,{errors:kk(e.errors)})),e}function kk(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Tu(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const Ck=A.createContext({isTransitioning:!1}),Rk=A.createContext(new Map),Ak="startTransition",_v=KT[Ak],Pk="flushSync",xv=ob[Pk];function Nk(t){_v?_v(t):t()}function da(t){xv?xv(t):t()}let jk=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function Dk(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=A.useState(n.state),[o,l]=A.useState(),[c,u]=A.useState({isTransitioning:!1}),[f,m]=A.useState(),[p,v]=A.useState(),[y,S]=A.useState(),C=A.useRef(new Map),{v7_startTransition:T}=r||{},x=A.useCallback(_=>{T?Nk(_):_()},[T]),b=A.useCallback((_,w)=>{let{deletedFetchers:k,flushSync:N,viewTransitionOpts:j}=w;k.forEach(ie=>C.current.delete(ie)),_.fetchers.forEach((ie,Pe)=>{ie.data!==void 0&&C.current.set(Pe,ie.data)});let R=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!j||R){N?da(()=>s(_)):x(()=>s(_));return}if(N){da(()=>{p&&(f&&f.resolve(),p.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:j.currentLocation,nextLocation:j.nextLocation})});let ie=n.window.document.startViewTransition(()=>{da(()=>s(_))});ie.finished.finally(()=>{da(()=>{m(void 0),v(void 0),l(void 0),u({isTransitioning:!1})})}),da(()=>v(ie));return}p?(f&&f.resolve(),p.skipTransition(),S({state:_,currentLocation:j.currentLocation,nextLocation:j.nextLocation})):(l(_),u({isTransitioning:!0,flushSync:!1,currentLocation:j.currentLocation,nextLocation:j.nextLocation}))},[n.window,p,f,C,x]);A.useLayoutEffect(()=>n.subscribe(b),[n,b]),A.useEffect(()=>{c.isTransitioning&&!c.flushSync&&m(new jk)},[c]),A.useEffect(()=>{if(f&&o&&n.window){let _=o,w=f.promise,k=n.window.document.startViewTransition(async()=>{x(()=>s(_)),await w});k.finished.finally(()=>{m(void 0),v(void 0),l(void 0),u({isTransitioning:!1})}),v(k)}},[x,o,f,n.window]),A.useEffect(()=>{f&&o&&i.location.key===o.location.key&&f.resolve()},[f,p,i.location,o]),A.useEffect(()=>{!c.isTransitioning&&y&&(l(y.state),u({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),S(void 0))},[c.isTransitioning,y]),A.useEffect(()=>{},[]);let L=A.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:_=>n.navigate(_),push:(_,w,k)=>n.navigate(_,{state:w,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(_,w,k)=>n.navigate(_,{replace:!0,state:w,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[n]),F=n.basename||"/",P=A.useMemo(()=>({router:n,navigator:L,static:!1,basename:F}),[n,L,F]),I=A.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return A.createElement(A.Fragment,null,A.createElement(fd.Provider,{value:P},A.createElement(Wx.Provider,{value:i},A.createElement(Rk.Provider,{value:C.current},A.createElement(Ck.Provider,{value:c},A.createElement(yk,{basename:F,location:i.location,navigationType:i.historyAction,navigator:L,future:I},i.initialized||n.future.v7_partialHydration?A.createElement(Lk,{routes:n.routes,future:n.future,state:i}):e))))),null)}const Lk=A.memo(Mk);function Mk(t){let{routes:e,future:n,state:r}=t;return sk(e,void 0,r,n)}const Vk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ok=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pd=A.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:f,viewTransition:m}=e,p=xk(e,Tk),{basename:v}=A.useContext(Oi),y,S=!1;if(typeof u=="string"&&Ok.test(u)&&(y=u,Vk))try{let b=new URL(window.location.href),L=u.startsWith("//")?new URL(b.protocol+u):new URL(u),F=Ro(L.pathname,v);L.origin===b.origin&&F!=null?u=F+L.search+L.hash:S=!0}catch{}let C=rk(u,{relative:i}),T=Fk(u,{replace:o,state:l,target:c,preventScrollReset:f,relative:i,viewTransition:m});function x(b){r&&r(b),b.defaultPrevented||T(b)}return A.createElement("a",ll({},p,{href:y||C,onClick:S||s?r:x,ref:n,target:c}))});var wv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(wv||(wv={}));var Ev;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ev||(Ev={}));function Fk(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,c=Qx(),u=Po(),f=Yx(t,{relative:o});return A.useCallback(m=>{if(Ek(m,n)){m.preventDefault();let p=r!==void 0?r:fs(u)===fs(f);c(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,f,r,i,n,t,s,o,l])}var Tv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ew={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,f=s>>2,m=(s&3)<<4|l>>4;let p=(l&15)<<2|u>>6,v=u&63;c||(v=64,o||(p=64)),r.push(n[f],n[m],n[p],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Zx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||m==null)throw new Uk;const p=s<<2|l>>4;if(r.push(p),u!==64){const v=l<<4&240|u>>2;if(r.push(v),m!==64){const y=u<<6&192|m;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Uk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Bk=function(t){const e=Zx(t);return ew.encodeByteArray(e,!0)},bu=function(t){return Bk(t).replace(/\./g,"")},tw=function(t){try{return ew.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=()=>$k().__FIREBASE_DEFAULTS__,qk=()=>{if(typeof process>"u"||typeof Tv>"u")return;const t=Tv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Wk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&tw(t[1]);return e&&JSON.parse(e)},md=()=>{try{return Hk()||qk()||Wk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nw=t=>{var e,n;return(n=(e=md())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Gk=t=>{const e=nw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},rw=()=>{var t;return(t=md())===null||t===void 0?void 0:t.config},iw=t=>{var e;return(e=md())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[bu(JSON.stringify(n)),bu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}function Xk(){var t;const e=(t=md())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Jk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Zk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function e4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function t4(){const t=Ht();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function n4(){return!Xk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function r4(){try{return typeof indexedDB=="object"}catch{return!1}}function i4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4="FirebaseError";class Or extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=s4,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tl.prototype.create)}}class Tl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?o4(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Or(i,l,r)}}function o4(t,e){return t.replace(a4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const a4=/\{\$([^}]+)}/g;function l4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function cl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Sv(s)&&Sv(o)){if(!cl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Sv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function c4(t,e){const n=new u4(t,e);return n.subscribe.bind(n)}class u4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");d4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=kh),i.error===void 0&&(i.error=kh),i.complete===void 0&&(i.complete=kh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function d4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(t){return t&&t._delegate?t._delegate:t}class ps{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Kk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(p4(e))try{this.getOrInitializeService({instanceIdentifier:Ki})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ki){return this.instances.has(e)}getOptions(e=Ki){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:f4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ki){return this.component?this.component.multipleInstances?e:Ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function f4(t){return t===Ki?void 0:t}function p4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new h4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const g4={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},v4=Ee.INFO,y4={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},_4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=y4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ym{constructor(e){this.name=e,this._logLevel=v4,this._logHandler=_4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?g4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const x4=(t,e)=>e.some(n=>t instanceof n);let Iv,bv;function w4(){return Iv||(Iv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function E4(){return bv||(bv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sw=new WeakMap,qf=new WeakMap,ow=new WeakMap,Ch=new WeakMap,_m=new WeakMap;function T4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ei(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&sw.set(n,t)}).catch(()=>{}),_m.set(e,t),e}function S4(t){if(qf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});qf.set(t,e)}let Wf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ow.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ei(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function I4(t){Wf=t(Wf)}function b4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Rh(this),e,...n);return ow.set(r,e.sort?e.sort():[e]),Ei(r)}:E4().includes(t)?function(...e){return t.apply(Rh(this),e),Ei(sw.get(this))}:function(...e){return Ei(t.apply(Rh(this),e))}}function k4(t){return typeof t=="function"?b4(t):(t instanceof IDBTransaction&&S4(t),x4(t,w4())?new Proxy(t,Wf):t)}function Ei(t){if(t instanceof IDBRequest)return T4(t);if(Ch.has(t))return Ch.get(t);const e=k4(t);return e!==t&&(Ch.set(t,e),_m.set(e,t)),e}const Rh=t=>_m.get(t);function C4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Ei(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ei(o.result),c.oldVersion,c.newVersion,Ei(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const R4=["get","getKey","getAll","getAllKeys","count"],A4=["put","add","delete","clear"],Ah=new Map;function kv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ah.get(e))return Ah.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=A4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||R4.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&c.done]))[0]};return Ah.set(e,s),s}I4(t=>({...t,get:(e,n,r)=>kv(e,n)||t.get(e,n,r),has:(e,n)=>!!kv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(N4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function N4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gf="@firebase/app",Cv="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new ym("@firebase/app"),j4="@firebase/app-compat",D4="@firebase/analytics-compat",L4="@firebase/analytics",M4="@firebase/app-check-compat",V4="@firebase/app-check",O4="@firebase/auth",F4="@firebase/auth-compat",z4="@firebase/database",U4="@firebase/data-connect",B4="@firebase/database-compat",$4="@firebase/functions",H4="@firebase/functions-compat",q4="@firebase/installations",W4="@firebase/installations-compat",G4="@firebase/messaging",K4="@firebase/messaging-compat",Q4="@firebase/performance",Y4="@firebase/performance-compat",X4="@firebase/remote-config",J4="@firebase/remote-config-compat",Z4="@firebase/storage",eC="@firebase/storage-compat",tC="@firebase/firestore",nC="@firebase/vertexai-preview",rC="@firebase/firestore-compat",iC="firebase",sC="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="[DEFAULT]",oC={[Gf]:"fire-core",[j4]:"fire-core-compat",[L4]:"fire-analytics",[D4]:"fire-analytics-compat",[V4]:"fire-app-check",[M4]:"fire-app-check-compat",[O4]:"fire-auth",[F4]:"fire-auth-compat",[z4]:"fire-rtdb",[U4]:"fire-data-connect",[B4]:"fire-rtdb-compat",[$4]:"fire-fn",[H4]:"fire-fn-compat",[q4]:"fire-iid",[W4]:"fire-iid-compat",[G4]:"fire-fcm",[K4]:"fire-fcm-compat",[Q4]:"fire-perf",[Y4]:"fire-perf-compat",[X4]:"fire-rc",[J4]:"fire-rc-compat",[Z4]:"fire-gcs",[eC]:"fire-gcs-compat",[tC]:"fire-fst",[rC]:"fire-fst-compat",[nC]:"fire-vertex","fire-js":"fire-js",[iC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=new Map,aC=new Map,Qf=new Map;function Rv(t,e){try{t.container.addComponent(e)}catch(n){Nr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vo(t){const e=t.name;if(Qf.has(e))return Nr.debug(`There were multiple attempts to register component ${e}.`),!1;Qf.set(e,t);for(const n of ku.values())Rv(n,t);for(const n of aC.values())Rv(n,t);return!0}function xm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ti=new Tl("app","Firebase",lC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ti.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=sC;function aw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Kf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ti.create("bad-app-name",{appName:String(i)});if(n||(n=rw()),!n)throw Ti.create("no-options");const s=ku.get(i);if(s){if(cl(n,s.options)&&cl(r,s.config))return s;throw Ti.create("duplicate-app",{appName:i})}const o=new m4(i);for(const c of Qf.values())o.addComponent(c);const l=new cC(n,r,o);return ku.set(i,l),l}function lw(t=Kf){const e=ku.get(t);if(!e&&t===Kf&&rw())return aw();if(!e)throw Ti.create("no-app",{appName:t});return e}function Si(t,e,n){var r;let i=(r=oC[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nr.warn(l.join(" "));return}vo(new ps(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="firebase-heartbeat-database",dC=1,ul="firebase-heartbeat-store";let Ph=null;function cw(){return Ph||(Ph=C4(uC,dC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ul)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ti.create("idb-open",{originalErrorMessage:t.message})})),Ph}async function hC(t){try{const n=(await cw()).transaction(ul),r=await n.objectStore(ul).get(uw(t));return await n.done,r}catch(e){if(e instanceof Or)Nr.warn(e.message);else{const n=Ti.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Nr.warn(n.message)}}}async function Av(t,e){try{const r=(await cw()).transaction(ul,"readwrite");await r.objectStore(ul).put(e,uw(t)),await r.done}catch(n){if(n instanceof Or)Nr.warn(n.message);else{const r=Ti.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Nr.warn(r.message)}}}function uw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=1024,pC=30*24*60*60*1e3;class mC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Pv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=pC}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Nr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Pv(),{heartbeatsToSend:r,unsentEntries:i}=gC(this._heartbeatsCache.heartbeats),s=bu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Nr.warn(n),""}}}function Pv(){return new Date().toISOString().substring(0,10)}function gC(t,e=fC){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Nv(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Nv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class vC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return r4()?i4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Av(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Av(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Nv(t){return bu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t){vo(new ps("platform-logger",e=>new P4(e),"PRIVATE")),vo(new ps("heartbeat",e=>new mC(e),"PRIVATE")),Si(Gf,Cv,t),Si(Gf,Cv,"esm2017"),Si("fire-js","")}yC("");var jv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var as,dw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,_){function w(){}w.prototype=_.prototype,I.D=_.prototype,I.prototype=new w,I.prototype.constructor=I,I.C=function(k,N,j){for(var R=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)R[ie-2]=arguments[ie];return _.prototype[N].apply(k,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,_,w){w||(w=0);var k=Array(16);if(typeof _=="string")for(var N=0;16>N;++N)k[N]=_.charCodeAt(w++)|_.charCodeAt(w++)<<8|_.charCodeAt(w++)<<16|_.charCodeAt(w++)<<24;else for(N=0;16>N;++N)k[N]=_[w++]|_[w++]<<8|_[w++]<<16|_[w++]<<24;_=I.g[0],w=I.g[1],N=I.g[2];var j=I.g[3],R=_+(j^w&(N^j))+k[0]+3614090360&4294967295;_=w+(R<<7&4294967295|R>>>25),R=j+(N^_&(w^N))+k[1]+3905402710&4294967295,j=_+(R<<12&4294967295|R>>>20),R=N+(w^j&(_^w))+k[2]+606105819&4294967295,N=j+(R<<17&4294967295|R>>>15),R=w+(_^N&(j^_))+k[3]+3250441966&4294967295,w=N+(R<<22&4294967295|R>>>10),R=_+(j^w&(N^j))+k[4]+4118548399&4294967295,_=w+(R<<7&4294967295|R>>>25),R=j+(N^_&(w^N))+k[5]+1200080426&4294967295,j=_+(R<<12&4294967295|R>>>20),R=N+(w^j&(_^w))+k[6]+2821735955&4294967295,N=j+(R<<17&4294967295|R>>>15),R=w+(_^N&(j^_))+k[7]+4249261313&4294967295,w=N+(R<<22&4294967295|R>>>10),R=_+(j^w&(N^j))+k[8]+1770035416&4294967295,_=w+(R<<7&4294967295|R>>>25),R=j+(N^_&(w^N))+k[9]+2336552879&4294967295,j=_+(R<<12&4294967295|R>>>20),R=N+(w^j&(_^w))+k[10]+4294925233&4294967295,N=j+(R<<17&4294967295|R>>>15),R=w+(_^N&(j^_))+k[11]+2304563134&4294967295,w=N+(R<<22&4294967295|R>>>10),R=_+(j^w&(N^j))+k[12]+1804603682&4294967295,_=w+(R<<7&4294967295|R>>>25),R=j+(N^_&(w^N))+k[13]+4254626195&4294967295,j=_+(R<<12&4294967295|R>>>20),R=N+(w^j&(_^w))+k[14]+2792965006&4294967295,N=j+(R<<17&4294967295|R>>>15),R=w+(_^N&(j^_))+k[15]+1236535329&4294967295,w=N+(R<<22&4294967295|R>>>10),R=_+(N^j&(w^N))+k[1]+4129170786&4294967295,_=w+(R<<5&4294967295|R>>>27),R=j+(w^N&(_^w))+k[6]+3225465664&4294967295,j=_+(R<<9&4294967295|R>>>23),R=N+(_^w&(j^_))+k[11]+643717713&4294967295,N=j+(R<<14&4294967295|R>>>18),R=w+(j^_&(N^j))+k[0]+3921069994&4294967295,w=N+(R<<20&4294967295|R>>>12),R=_+(N^j&(w^N))+k[5]+3593408605&4294967295,_=w+(R<<5&4294967295|R>>>27),R=j+(w^N&(_^w))+k[10]+38016083&4294967295,j=_+(R<<9&4294967295|R>>>23),R=N+(_^w&(j^_))+k[15]+3634488961&4294967295,N=j+(R<<14&4294967295|R>>>18),R=w+(j^_&(N^j))+k[4]+3889429448&4294967295,w=N+(R<<20&4294967295|R>>>12),R=_+(N^j&(w^N))+k[9]+568446438&4294967295,_=w+(R<<5&4294967295|R>>>27),R=j+(w^N&(_^w))+k[14]+3275163606&4294967295,j=_+(R<<9&4294967295|R>>>23),R=N+(_^w&(j^_))+k[3]+4107603335&4294967295,N=j+(R<<14&4294967295|R>>>18),R=w+(j^_&(N^j))+k[8]+1163531501&4294967295,w=N+(R<<20&4294967295|R>>>12),R=_+(N^j&(w^N))+k[13]+2850285829&4294967295,_=w+(R<<5&4294967295|R>>>27),R=j+(w^N&(_^w))+k[2]+4243563512&4294967295,j=_+(R<<9&4294967295|R>>>23),R=N+(_^w&(j^_))+k[7]+1735328473&4294967295,N=j+(R<<14&4294967295|R>>>18),R=w+(j^_&(N^j))+k[12]+2368359562&4294967295,w=N+(R<<20&4294967295|R>>>12),R=_+(w^N^j)+k[5]+4294588738&4294967295,_=w+(R<<4&4294967295|R>>>28),R=j+(_^w^N)+k[8]+2272392833&4294967295,j=_+(R<<11&4294967295|R>>>21),R=N+(j^_^w)+k[11]+1839030562&4294967295,N=j+(R<<16&4294967295|R>>>16),R=w+(N^j^_)+k[14]+4259657740&4294967295,w=N+(R<<23&4294967295|R>>>9),R=_+(w^N^j)+k[1]+2763975236&4294967295,_=w+(R<<4&4294967295|R>>>28),R=j+(_^w^N)+k[4]+1272893353&4294967295,j=_+(R<<11&4294967295|R>>>21),R=N+(j^_^w)+k[7]+4139469664&4294967295,N=j+(R<<16&4294967295|R>>>16),R=w+(N^j^_)+k[10]+3200236656&4294967295,w=N+(R<<23&4294967295|R>>>9),R=_+(w^N^j)+k[13]+681279174&4294967295,_=w+(R<<4&4294967295|R>>>28),R=j+(_^w^N)+k[0]+3936430074&4294967295,j=_+(R<<11&4294967295|R>>>21),R=N+(j^_^w)+k[3]+3572445317&4294967295,N=j+(R<<16&4294967295|R>>>16),R=w+(N^j^_)+k[6]+76029189&4294967295,w=N+(R<<23&4294967295|R>>>9),R=_+(w^N^j)+k[9]+3654602809&4294967295,_=w+(R<<4&4294967295|R>>>28),R=j+(_^w^N)+k[12]+3873151461&4294967295,j=_+(R<<11&4294967295|R>>>21),R=N+(j^_^w)+k[15]+530742520&4294967295,N=j+(R<<16&4294967295|R>>>16),R=w+(N^j^_)+k[2]+3299628645&4294967295,w=N+(R<<23&4294967295|R>>>9),R=_+(N^(w|~j))+k[0]+4096336452&4294967295,_=w+(R<<6&4294967295|R>>>26),R=j+(w^(_|~N))+k[7]+1126891415&4294967295,j=_+(R<<10&4294967295|R>>>22),R=N+(_^(j|~w))+k[14]+2878612391&4294967295,N=j+(R<<15&4294967295|R>>>17),R=w+(j^(N|~_))+k[5]+4237533241&4294967295,w=N+(R<<21&4294967295|R>>>11),R=_+(N^(w|~j))+k[12]+1700485571&4294967295,_=w+(R<<6&4294967295|R>>>26),R=j+(w^(_|~N))+k[3]+2399980690&4294967295,j=_+(R<<10&4294967295|R>>>22),R=N+(_^(j|~w))+k[10]+4293915773&4294967295,N=j+(R<<15&4294967295|R>>>17),R=w+(j^(N|~_))+k[1]+2240044497&4294967295,w=N+(R<<21&4294967295|R>>>11),R=_+(N^(w|~j))+k[8]+1873313359&4294967295,_=w+(R<<6&4294967295|R>>>26),R=j+(w^(_|~N))+k[15]+4264355552&4294967295,j=_+(R<<10&4294967295|R>>>22),R=N+(_^(j|~w))+k[6]+2734768916&4294967295,N=j+(R<<15&4294967295|R>>>17),R=w+(j^(N|~_))+k[13]+1309151649&4294967295,w=N+(R<<21&4294967295|R>>>11),R=_+(N^(w|~j))+k[4]+4149444226&4294967295,_=w+(R<<6&4294967295|R>>>26),R=j+(w^(_|~N))+k[11]+3174756917&4294967295,j=_+(R<<10&4294967295|R>>>22),R=N+(_^(j|~w))+k[2]+718787259&4294967295,N=j+(R<<15&4294967295|R>>>17),R=w+(j^(N|~_))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+_&4294967295,I.g[1]=I.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+j&4294967295}r.prototype.u=function(I,_){_===void 0&&(_=I.length);for(var w=_-this.blockSize,k=this.B,N=this.h,j=0;j<_;){if(N==0)for(;j<=w;)i(this,I,j),j+=this.blockSize;if(typeof I=="string"){for(;j<_;)if(k[N++]=I.charCodeAt(j++),N==this.blockSize){i(this,k),N=0;break}}else for(;j<_;)if(k[N++]=I[j++],N==this.blockSize){i(this,k),N=0;break}}this.h=N,this.o+=_},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var _=1;_<I.length-8;++_)I[_]=0;var w=8*this.o;for(_=I.length-8;_<I.length;++_)I[_]=w&255,w/=256;for(this.u(I),I=Array(16),_=w=0;4>_;++_)for(var k=0;32>k;k+=8)I[w++]=this.g[_]>>>k&255;return I};function s(I,_){var w=l;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=_(I)}function o(I,_){this.h=_;for(var w=[],k=!0,N=I.length-1;0<=N;N--){var j=I[N]|0;k&&j==_||(w[N]=j,k=!1)}this.g=w}var l={};function c(I){return-128<=I&&128>I?s(I,function(_){return new o([_|0],0>_?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return m;if(0>I)return C(u(-I));for(var _=[],w=1,k=0;I>=w;k++)_[k]=I/w|0,w*=4294967296;return new o(_,0)}function f(I,_){if(I.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(I.charAt(0)=="-")return C(f(I.substring(1),_));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=u(Math.pow(_,8)),k=m,N=0;N<I.length;N+=8){var j=Math.min(8,I.length-N),R=parseInt(I.substring(N,N+j),_);8>j?(j=u(Math.pow(_,j)),k=k.j(j).add(u(R))):(k=k.j(w),k=k.add(u(R)))}return k}var m=c(0),p=c(1),v=c(16777216);t=o.prototype,t.m=function(){if(S(this))return-C(this).m();for(var I=0,_=1,w=0;w<this.g.length;w++){var k=this.i(w);I+=(0<=k?k:4294967296+k)*_,_*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(y(this))return"0";if(S(this))return"-"+C(this).toString(I);for(var _=u(Math.pow(I,6)),w=this,k="";;){var N=L(w,_).g;w=T(w,N.j(_));var j=((0<w.g.length?w.g[0]:w.h)>>>0).toString(I);if(w=N,y(w))return j+k;for(;6>j.length;)j="0"+j;k=j+k}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function y(I){if(I.h!=0)return!1;for(var _=0;_<I.g.length;_++)if(I.g[_]!=0)return!1;return!0}function S(I){return I.h==-1}t.l=function(I){return I=T(this,I),S(I)?-1:y(I)?0:1};function C(I){for(var _=I.g.length,w=[],k=0;k<_;k++)w[k]=~I.g[k];return new o(w,~I.h).add(p)}t.abs=function(){return S(this)?C(this):this},t.add=function(I){for(var _=Math.max(this.g.length,I.g.length),w=[],k=0,N=0;N<=_;N++){var j=k+(this.i(N)&65535)+(I.i(N)&65535),R=(j>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);k=R>>>16,j&=65535,R&=65535,w[N]=R<<16|j}return new o(w,w[w.length-1]&-2147483648?-1:0)};function T(I,_){return I.add(C(_))}t.j=function(I){if(y(this)||y(I))return m;if(S(this))return S(I)?C(this).j(C(I)):C(C(this).j(I));if(S(I))return C(this.j(C(I)));if(0>this.l(v)&&0>I.l(v))return u(this.m()*I.m());for(var _=this.g.length+I.g.length,w=[],k=0;k<2*_;k++)w[k]=0;for(k=0;k<this.g.length;k++)for(var N=0;N<I.g.length;N++){var j=this.i(k)>>>16,R=this.i(k)&65535,ie=I.i(N)>>>16,Pe=I.i(N)&65535;w[2*k+2*N]+=R*Pe,x(w,2*k+2*N),w[2*k+2*N+1]+=j*Pe,x(w,2*k+2*N+1),w[2*k+2*N+1]+=R*ie,x(w,2*k+2*N+1),w[2*k+2*N+2]+=j*ie,x(w,2*k+2*N+2)}for(k=0;k<_;k++)w[k]=w[2*k+1]<<16|w[2*k];for(k=_;k<2*_;k++)w[k]=0;return new o(w,0)};function x(I,_){for(;(I[_]&65535)!=I[_];)I[_+1]+=I[_]>>>16,I[_]&=65535,_++}function b(I,_){this.g=I,this.h=_}function L(I,_){if(y(_))throw Error("division by zero");if(y(I))return new b(m,m);if(S(I))return _=L(C(I),_),new b(C(_.g),C(_.h));if(S(_))return _=L(I,C(_)),new b(C(_.g),_.h);if(30<I.g.length){if(S(I)||S(_))throw Error("slowDivide_ only works with positive integers.");for(var w=p,k=_;0>=k.l(I);)w=F(w),k=F(k);var N=P(w,1),j=P(k,1);for(k=P(k,2),w=P(w,2);!y(k);){var R=j.add(k);0>=R.l(I)&&(N=N.add(w),j=R),k=P(k,1),w=P(w,1)}return _=T(I,N.j(_)),new b(N,_)}for(N=m;0<=I.l(_);){for(w=Math.max(1,Math.floor(I.m()/_.m())),k=Math.ceil(Math.log(w)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),j=u(w),R=j.j(_);S(R)||0<R.l(I);)w-=k,j=u(w),R=j.j(_);y(j)&&(j=p),N=N.add(j),I=T(I,R)}return new b(N,I)}t.A=function(I){return L(this,I).h},t.and=function(I){for(var _=Math.max(this.g.length,I.g.length),w=[],k=0;k<_;k++)w[k]=this.i(k)&I.i(k);return new o(w,this.h&I.h)},t.or=function(I){for(var _=Math.max(this.g.length,I.g.length),w=[],k=0;k<_;k++)w[k]=this.i(k)|I.i(k);return new o(w,this.h|I.h)},t.xor=function(I){for(var _=Math.max(this.g.length,I.g.length),w=[],k=0;k<_;k++)w[k]=this.i(k)^I.i(k);return new o(w,this.h^I.h)};function F(I){for(var _=I.g.length+1,w=[],k=0;k<_;k++)w[k]=I.i(k)<<1|I.i(k-1)>>>31;return new o(w,I.h)}function P(I,_){var w=_>>5;_%=32;for(var k=I.g.length-w,N=[],j=0;j<k;j++)N[j]=0<_?I.i(j+w)>>>_|I.i(j+w+1)<<32-_:I.i(j+w);return new o(N,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,dw=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,as=o}).apply(typeof jv<"u"?jv:typeof self<"u"?self:typeof window<"u"?window:{});var Ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hw,ba,fw,Bc,Yf,pw,mw,gw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,g){return a==Array.prototype||a==Object.prototype||(a[h]=g.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ec=="object"&&Ec];for(var h=0;h<a.length;++h){var g=a[h];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var g=r;a=a.split(".");for(var E=0;E<a.length-1;E++){var V=a[E];if(!(V in g))break e;g=g[V]}a=a[a.length-1],E=g[a],h=h(E),h!=E&&h!=null&&e(g,a,{configurable:!0,writable:!0,value:h})}}function s(a,h){a instanceof String&&(a+="");var g=0,E=!1,V={next:function(){if(!E&&g<a.length){var z=g++;return{value:h(z,a[z]),done:!1}}return E=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(a){return a||function(){return s(this,function(h,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function u(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function f(a,h,g){return a.call.apply(a.bind,arguments)}function m(a,h,g){if(!a)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,E),a.apply(h,V)}}return function(){return a.apply(h,arguments)}}function p(a,h,g){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,p.apply(null,arguments)}function v(a,h){var g=Array.prototype.slice.call(arguments,1);return function(){var E=g.slice();return E.push.apply(E,arguments),a.apply(this,E)}}function y(a,h){function g(){}g.prototype=h.prototype,a.aa=h.prototype,a.prototype=new g,a.prototype.constructor=a,a.Qb=function(E,V,z){for(var W=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)W[Oe-2]=arguments[Oe];return h.prototype[V].apply(E,W)}}function S(a){const h=a.length;if(0<h){const g=Array(h);for(let E=0;E<h;E++)g[E]=a[E];return g}return[]}function C(a,h){for(let g=1;g<arguments.length;g++){const E=arguments[g];if(c(E)){const V=a.length||0,z=E.length||0;a.length=V+z;for(let W=0;W<z;W++)a[V+W]=E[W]}else a.push(E)}}class T{constructor(h,g){this.i=h,this.j=g,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function x(a){return/^[\s\xa0]*$/.test(a)}function b(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function L(a){return L[" "](a),a}L[" "]=function(){};var F=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function P(a,h,g){for(const E in a)h.call(g,a[E],E,a)}function I(a,h){for(const g in a)h.call(void 0,a[g],g,a)}function _(a){const h={};for(const g in a)h[g]=a[g];return h}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(a,h){let g,E;for(let V=1;V<arguments.length;V++){E=arguments[V];for(g in E)a[g]=E[g];for(let z=0;z<w.length;z++)g=w[z],Object.prototype.hasOwnProperty.call(E,g)&&(a[g]=E[g])}}function N(a){var h=1;a=a.split(":");const g=[];for(;0<h&&a.length;)g.push(a.shift()),h--;return a.length&&g.push(a.join(":")),g}function j(a){l.setTimeout(()=>{throw a},0)}function R(){var a=Z;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class ie{constructor(){this.h=this.g=null}add(h,g){const E=Pe.get();E.set(h,g),this.h?this.h.next=E:this.g=E,this.h=E}}var Pe=new T(()=>new ot,a=>a.reset());class ot{constructor(){this.next=this.g=this.h=null}set(h,g){this.h=h,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ke,q=!1,Z=new ie,oe=()=>{const a=l.Promise.resolve(void 0);ke=()=>{a.then(fe)}};var fe=()=>{for(var a;a=R();){try{a.h.call(a.g)}catch(g){j(g)}var h=Pe;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}q=!1};function Te(){this.s=this.s,this.C=this.C}Te.prototype.s=!1,Te.prototype.ma=function(){this.s||(this.s=!0,this.N())},Te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ve(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}Ve.prototype.h=function(){this.defaultPrevented=!0};var mt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const g=()=>{};l.addEventListener("test",g,h),l.removeEventListener("test",g,h)}catch{}return a}();function Tt(a,h){if(Ve.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var g=this.type=a.type,E=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(F){e:{try{L(h.nodeName);var V=!0;break e}catch{}V=!1}V||(h=null)}}else g=="mouseover"?h=a.fromElement:g=="mouseout"&&(h=a.toElement);this.relatedTarget=h,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:St[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Tt.aa.h.call(this)}}y(Tt,Ve);var St={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var en="closure_listenable_"+(1e6*Math.random()|0),Ud=0;function Bd(a,h,g,E,V){this.listener=a,this.proxy=null,this.src=h,this.type=g,this.capture=!!E,this.ha=V,this.key=++Ud,this.da=this.fa=!1}function Is(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ct(a){this.src=a,this.g={},this.h=0}ct.prototype.add=function(a,h,g,E,V){var z=a.toString();a=this.g[z],a||(a=this.g[z]=[],this.h++);var W=bs(a,h,E,V);return-1<W?(h=a[W],g||(h.fa=!1)):(h=new Bd(h,this.src,z,!!E,V),h.fa=g,a.push(h)),h};function $n(a,h){var g=h.type;if(g in a.g){var E=a.g[g],V=Array.prototype.indexOf.call(E,h,void 0),z;(z=0<=V)&&Array.prototype.splice.call(E,V,1),z&&(Is(h),a.g[g].length==0&&(delete a.g[g],a.h--))}}function bs(a,h,g,E){for(var V=0;V<a.length;++V){var z=a[V];if(!z.da&&z.listener==h&&z.capture==!!g&&z.ha==E)return V}return-1}var Fo="closure_lm_"+(1e6*Math.random()|0),Pn={};function zl(a,h,g,E,V){if(Array.isArray(h)){for(var z=0;z<h.length;z++)zl(a,h[z],g,E,V);return null}return g=Uo(g),a&&a[en]?a.K(h,g,u(E)?!!E.capture:!!E,V):$d(a,h,g,!1,E,V)}function $d(a,h,g,E,V,z){if(!h)throw Error("Invalid event type");var W=u(V)?!!V.capture:!!V,Oe=Nn(a);if(Oe||(a[Fo]=Oe=new ct(a)),g=Oe.add(h,g,E,W,z),g.proxy)return g;if(E=Ul(),g.proxy=E,E.src=a,E.listener=g,a.addEventListener)mt||(V=W),V===void 0&&(V=!1),a.addEventListener(h.toString(),E,V);else if(a.attachEvent)a.attachEvent($l(h.toString()),E);else if(a.addListener&&a.removeListener)a.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Ul(){function a(g){return h.call(a.src,a.listener,g)}const h=Hd;return a}function Bl(a,h,g,E,V){if(Array.isArray(h))for(var z=0;z<h.length;z++)Bl(a,h[z],g,E,V);else E=u(E)?!!E.capture:!!E,g=Uo(g),a&&a[en]?(a=a.i,h=String(h).toString(),h in a.g&&(z=a.g[h],g=bs(z,g,E,V),-1<g&&(Is(z[g]),Array.prototype.splice.call(z,g,1),z.length==0&&(delete a.g[h],a.h--)))):a&&(a=Nn(a))&&(h=a.g[h.toString()],a=-1,h&&(a=bs(h,g,E,V)),(g=-1<a?h[a]:null)&&zo(g))}function zo(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[en])$n(h.i,a);else{var g=a.type,E=a.proxy;h.removeEventListener?h.removeEventListener(g,E,a.capture):h.detachEvent?h.detachEvent($l(g),E):h.addListener&&h.removeListener&&h.removeListener(E),(g=Nn(h))?($n(g,a),g.h==0&&(g.src=null,h[Fo]=null)):Is(a)}}}function $l(a){return a in Pn?Pn[a]:Pn[a]="on"+a}function Hd(a,h){if(a.da)a=!0;else{h=new Tt(h,this);var g=a.listener,E=a.ha||a.src;a.fa&&zo(a),a=g.call(E,h)}return a}function Nn(a){return a=a[Fo],a instanceof ct?a:null}var ar="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uo(a){return typeof a=="function"?a:(a[ar]||(a[ar]=function(h){return a.handleEvent(h)}),a[ar])}function ut(){Te.call(this),this.i=new ct(this),this.M=this,this.F=null}y(ut,Te),ut.prototype[en]=!0,ut.prototype.removeEventListener=function(a,h,g,E){Bl(this,a,h,g,E)};function Ge(a,h){var g,E=a.F;if(E)for(g=[];E;E=E.F)g.push(E);if(a=a.M,E=h.type||h,typeof h=="string")h=new Ve(h,a);else if(h instanceof Ve)h.target=h.target||a;else{var V=h;h=new Ve(E,a),k(h,V)}if(V=!0,g)for(var z=g.length-1;0<=z;z--){var W=h.g=g[z];V=tn(W,E,!0,h)&&V}if(W=h.g=a,V=tn(W,E,!0,h)&&V,V=tn(W,E,!1,h)&&V,g)for(z=0;z<g.length;z++)W=h.g=g[z],V=tn(W,E,!1,h)&&V}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var g=a.g[h],E=0;E<g.length;E++)Is(g[E]);delete a.g[h],a.h--}}this.F=null},ut.prototype.K=function(a,h,g,E){return this.i.add(String(a),h,!1,g,E)},ut.prototype.L=function(a,h,g,E){return this.i.add(String(a),h,!0,g,E)};function tn(a,h,g,E){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var V=!0,z=0;z<h.length;++z){var W=h[z];if(W&&!W.da&&W.capture==g){var Oe=W.listener,It=W.ha||W.src;W.fa&&$n(a.i,W),V=Oe.call(It,E)!==!1&&V}}return V&&!E.defaultPrevented}function Bo(a,h,g){if(typeof a=="function")g&&(a=p(a,g));else if(a&&typeof a.handleEvent=="function")a=p(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function Ui(a){a.g=Bo(()=>{a.g=null,a.i&&(a.i=!1,Ui(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class qd extends Te{constructor(h,g){super(),this.m=h,this.l=g,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Ui(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nn(a){Te.call(this),this.h=a,this.g={}}y(nn,Te);var $o=[];function Ho(a){P(a.g,function(h,g){this.g.hasOwnProperty(g)&&zo(h)},a),a.g={}}nn.prototype.N=function(){nn.aa.N.call(this),Ho(this)},nn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ks=l.JSON.stringify,Wd=l.JSON.parse,Hl=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function zr(){}zr.prototype.h=null;function qo(a){return a.h||(a.h=a.i())}function Cs(){}var lr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wo(){Ve.call(this,"d")}y(Wo,Ve);function Rs(){Ve.call(this,"c")}y(Rs,Ve);var cr={},Go=null;function ur(){return Go=Go||new ut}cr.La="serverreachability";function Bi(a){Ve.call(this,cr.La,a)}y(Bi,Ve);function $i(a){const h=ur();Ge(h,new Bi(h))}cr.STAT_EVENT="statevent";function ql(a,h){Ve.call(this,cr.STAT_EVENT,a),this.stat=h}y(ql,Ve);function D(a){const h=ur();Ge(h,new ql(h,a))}cr.Ma="timingevent";function M(a,h){Ve.call(this,cr.Ma,a),this.size=h}y(M,Ve);function O(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function U(){this.g=!0}U.prototype.xa=function(){this.g=!1};function K(a,h,g,E,V,z){a.info(function(){if(a.g)if(z)for(var W="",Oe=z.split("&"),It=0;It<Oe.length;It++){var Ce=Oe[It].split("=");if(1<Ce.length){var Dt=Ce[0];Ce=Ce[1];var Lt=Dt.split("_");W=2<=Lt.length&&Lt[1]=="type"?W+(Dt+"="+Ce+"&"):W+(Dt+"=redacted&")}}else W=null;else W=z;return"XMLHTTP REQ ("+E+") [attempt "+V+"]: "+h+`
`+g+`
`+W})}function te(a,h,g,E,V,z,W){a.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+V+"]: "+h+`
`+g+`
`+z+" "+W})}function ae(a,h,g,E){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+X(a,g)+(E?" "+E:"")})}function Y(a,h){a.info(function(){return"TIMEOUT: "+h})}U.prototype.info=function(){};function X(a,h){if(!a.g)return h;if(!h)return null;try{var g=JSON.parse(h);if(g){for(a=0;a<g.length;a++)if(Array.isArray(g[a])){var E=g[a];if(!(2>E.length)){var V=E[1];if(Array.isArray(V)&&!(1>V.length)){var z=V[0];if(z!="noop"&&z!="stop"&&z!="close")for(var W=1;W<V.length;W++)V[W]=""}}}}return ks(g)}catch{return h}}var G={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ee={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ge;function ve(){}y(ve,zr),ve.prototype.g=function(){return new XMLHttpRequest},ve.prototype.i=function(){return{}},ge=new ve;function Fe(a,h,g,E){this.j=a,this.i=h,this.l=g,this.R=E||1,this.U=new nn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ne}function Ne(){this.i=null,this.g="",this.h=!1}var Se={},ze={};function Hn(a,h,g){a.L=1,a.v=Ql(hr(h)),a.m=g,a.P=!0,Ur(a,null)}function Ur(a,h){a.F=Date.now(),Br(a),a.A=hr(a.v);var g=a.A,E=a.R;Array.isArray(E)||(E=[String(E)]),Sg(g.i,"t",E),a.C=0,g=a.j.J,a.h=new Ne,a.g=Bg(a.j,g?h:null,!a.m),0<a.O&&(a.M=new qd(p(a.Y,a,a.g),a.O)),h=a.U,g=a.g,E=a.ca;var V="readystatechange";Array.isArray(V)||(V&&($o[0]=V.toString()),V=$o);for(var z=0;z<V.length;z++){var W=zl(g,V[z],E||h.handleEvent,!1,h.h||h);if(!W)break;h.g[W.key]=W}h=a.H?_(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),$i(),K(a.i,a.u,a.A,a.l,a.R,a.m)}Fe.prototype.ca=function(a){a=a.target;const h=this.M;h&&fr(a)==3?h.j():this.Y(a)},Fe.prototype.Y=function(a){try{if(a==this.g)e:{const Lt=fr(this.g);var h=this.g.Ba();const js=this.g.Z();if(!(3>Lt)&&(Lt!=3||this.g&&(this.h.h||this.g.oa()||Pg(this.g)))){this.J||Lt!=4||h==7||(h==8||0>=js?$i(3):$i(2)),jn(this);var g=this.g.Z();this.X=g;t:if(wn(this)){var E=Pg(this.g);a="";var V=E.length,z=fr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tn(this),qn(this);var W="";break t}this.h.i=new l.TextDecoder}for(h=0;h<V;h++)this.h.h=!0,a+=this.h.i.decode(E[h],{stream:!(z&&h==V-1)});E.length=0,this.h.g+=a,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=g==200,te(this.i,this.u,this.A,this.l,this.R,Lt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,It=this.g;if((Oe=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Oe)){var Ce=Oe;break t}}Ce=null}if(g=Ce)ae(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xe(this,g);else{this.o=!1,this.s=3,D(12),Tn(this),qn(this);break e}}if(this.P){g=!0;let Dn;for(;!this.J&&this.C<W.length;)if(Dn=En(this,W),Dn==ze){Lt==4&&(this.s=4,D(14),g=!1),ae(this.i,this.l,null,"[Incomplete Response]");break}else if(Dn==Se){this.s=4,D(15),ae(this.i,this.l,W,"[Invalid Chunk]"),g=!1;break}else ae(this.i,this.l,Dn,null),xe(this,Dn);if(wn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||W.length!=0||this.h.h||(this.s=1,D(16),g=!1),this.o=this.o&&g,!g)ae(this.i,this.l,W,"[Invalid Chunked Response]"),Tn(this),qn(this);else if(0<W.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Yd(Dt),Dt.M=!0,D(11))}}else ae(this.i,this.l,W,null),xe(this,W);Lt==4&&Tn(this),this.o&&!this.J&&(Lt==4?Og(this.j,this):(this.o=!1,Br(this)))}else PT(this.g),g==400&&0<W.indexOf("Unknown SID")?(this.s=3,D(12)):(this.s=0,D(13)),Tn(this),qn(this)}}}catch{}finally{}};function wn(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function En(a,h){var g=a.C,E=h.indexOf(`
`,g);return E==-1?ze:(g=Number(h.substring(g,E)),isNaN(g)?Se:(E+=1,E+g>h.length?ze:(h=h.slice(E,E+g),a.C=E+g,h)))}Fe.prototype.cancel=function(){this.J=!0,Tn(this)};function Br(a){a.S=Date.now()+a.I,$r(a,a.I)}function $r(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=O(p(a.ba,a),h)}function jn(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Fe.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(Y(this.i,this.A),this.L!=2&&($i(),D(17)),Tn(this),this.s=2,qn(this)):$r(this,this.S-a)};function qn(a){a.j.G==0||a.J||Og(a.j,a)}function Tn(a){jn(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,Ho(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function xe(a,h){try{var g=a.j;if(g.G!=0&&(g.g==a||Wn(g.h,a))){if(!a.K&&Wn(g.h,a)&&g.G==3){try{var E=g.Da.g.parse(h)}catch{E=null}if(Array.isArray(E)&&E.length==3){var V=E;if(V[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<a.F)tc(g),Zl(g);else break e;Qd(g),D(18)}}else g.za=V[1],0<g.za-g.T&&37500>V[2]&&g.F&&g.v==0&&!g.C&&(g.C=O(p(g.Za,g),6e3));if(1>=Je(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else qi(g,11)}else if((a.K||g.g==a)&&tc(g),!x(h))for(V=g.Da.g.parse(h),h=0;h<V.length;h++){let Ce=V[h];if(g.T=Ce[0],Ce=Ce[1],g.G==2)if(Ce[0]=="c"){g.K=Ce[1],g.ia=Ce[2];const Dt=Ce[3];Dt!=null&&(g.la=Dt,g.j.info("VER="+g.la));const Lt=Ce[4];Lt!=null&&(g.Aa=Lt,g.j.info("SVER="+g.Aa));const js=Ce[5];js!=null&&typeof js=="number"&&0<js&&(E=1.5*js,g.L=E,g.j.info("backChannelRequestTimeoutMs_="+E)),E=g;const Dn=a.g;if(Dn){const rc=Dn.g?Dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rc){var z=E.h;z.g||rc.indexOf("spdy")==-1&&rc.indexOf("quic")==-1&&rc.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(As(z,z.h),z.h=null))}if(E.D){const Xd=Dn.g?Dn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xd&&(E.ya=Xd,$e(E.I,E.D,Xd))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-a.F,g.j.info("Handshake RTT: "+g.R+"ms")),E=g;var W=a;if(E.qa=Ug(E,E.J?E.ia:null,E.W),W.K){Wl(E.h,W);var Oe=W,It=E.L;It&&(Oe.I=It),Oe.B&&(jn(Oe),Br(Oe)),E.g=W}else Mg(E);0<g.i.length&&ec(g)}else Ce[0]!="stop"&&Ce[0]!="close"||qi(g,7);else g.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?qi(g,7):Kd(g):Ce[0]!="noop"&&g.l&&g.l.ta(Ce),g.v=0)}}$i(4)}catch{}}var Ke=class{constructor(a,h){this.g=a,this.map=h}};function dr(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hr(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Je(a){return a.h?1:a.g?a.g.size:0}function Wn(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function As(a,h){a.g?a.g.add(h):a.h=h}function Wl(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}dr.prototype.cancel=function(){if(this.i=vg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function vg(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const g of a.g.values())h=h.concat(g.D);return h}return S(a.i)}function gT(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var h=[],g=a.length,E=0;E<g;E++)h.push(a[E]);return h}h=[],g=0;for(E in a)h[g++]=a[E];return h}function vT(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var h=[];a=a.length;for(var g=0;g<a;g++)h.push(g);return h}h=[],g=0;for(const E in a)h[g++]=E;return h}}}function yg(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var g=vT(a),E=gT(a),V=E.length,z=0;z<V;z++)h.call(void 0,E[z],g&&g[z],a)}var _g=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yT(a,h){if(a){a=a.split("&");for(var g=0;g<a.length;g++){var E=a[g].indexOf("="),V=null;if(0<=E){var z=a[g].substring(0,E);V=a[g].substring(E+1)}else z=a[g];h(z,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Hi(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Hi){this.h=a.h,Gl(this,a.j),this.o=a.o,this.g=a.g,Kl(this,a.s),this.l=a.l;var h=a.i,g=new Yo;g.i=h.i,h.g&&(g.g=new Map(h.g),g.h=h.h),xg(this,g),this.m=a.m}else a&&(h=String(a).match(_g))?(this.h=!1,Gl(this,h[1]||"",!0),this.o=Ko(h[2]||""),this.g=Ko(h[3]||"",!0),Kl(this,h[4]),this.l=Ko(h[5]||"",!0),xg(this,h[6]||"",!0),this.m=Ko(h[7]||"")):(this.h=!1,this.i=new Yo(null,this.h))}Hi.prototype.toString=function(){var a=[],h=this.j;h&&a.push(Qo(h,wg,!0),":");var g=this.g;return(g||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Qo(h,wg,!0),"@"),a.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&a.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&a.push("/"),a.push(Qo(g,g.charAt(0)=="/"?wT:xT,!0))),(g=this.i.toString())&&a.push("?",g),(g=this.m)&&a.push("#",Qo(g,TT)),a.join("")};function hr(a){return new Hi(a)}function Gl(a,h,g){a.j=g?Ko(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Kl(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function xg(a,h,g){h instanceof Yo?(a.i=h,ST(a.i,a.h)):(g||(h=Qo(h,ET)),a.i=new Yo(h,a.h))}function $e(a,h,g){a.i.set(h,g)}function Ql(a){return $e(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ko(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Qo(a,h,g){return typeof a=="string"?(a=encodeURI(a).replace(h,_T),g&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function _T(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var wg=/[#\/\?@]/g,xT=/[#\?:]/g,wT=/[#\?]/g,ET=/[#\?@]/g,TT=/#/g;function Yo(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function qr(a){a.g||(a.g=new Map,a.h=0,a.i&&yT(a.i,function(h,g){a.add(decodeURIComponent(h.replace(/\+/g," ")),g)}))}t=Yo.prototype,t.add=function(a,h){qr(this),this.i=null,a=Ps(this,a);var g=this.g.get(a);return g||this.g.set(a,g=[]),g.push(h),this.h+=1,this};function Eg(a,h){qr(a),h=Ps(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function Tg(a,h){return qr(a),h=Ps(a,h),a.g.has(h)}t.forEach=function(a,h){qr(this),this.g.forEach(function(g,E){g.forEach(function(V){a.call(h,V,E,this)},this)},this)},t.na=function(){qr(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),g=[];for(let E=0;E<h.length;E++){const V=a[E];for(let z=0;z<V.length;z++)g.push(h[E])}return g},t.V=function(a){qr(this);let h=[];if(typeof a=="string")Tg(this,a)&&(h=h.concat(this.g.get(Ps(this,a))));else{a=Array.from(this.g.values());for(let g=0;g<a.length;g++)h=h.concat(a[g])}return h},t.set=function(a,h){return qr(this),this.i=null,a=Ps(this,a),Tg(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function Sg(a,h,g){Eg(a,h),0<g.length&&(a.i=null,a.g.set(Ps(a,h),S(g)),a.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var g=0;g<h.length;g++){var E=h[g];const z=encodeURIComponent(String(E)),W=this.V(E);for(E=0;E<W.length;E++){var V=z;W[E]!==""&&(V+="="+encodeURIComponent(String(W[E]))),a.push(V)}}return this.i=a.join("&")};function Ps(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function ST(a,h){h&&!a.j&&(qr(a),a.i=null,a.g.forEach(function(g,E){var V=E.toLowerCase();E!=V&&(Eg(this,E),Sg(this,V,g))},a)),a.j=h}function IT(a,h){const g=new U;if(l.Image){const E=new Image;E.onload=v(Wr,g,"TestLoadImage: loaded",!0,h,E),E.onerror=v(Wr,g,"TestLoadImage: error",!1,h,E),E.onabort=v(Wr,g,"TestLoadImage: abort",!1,h,E),E.ontimeout=v(Wr,g,"TestLoadImage: timeout",!1,h,E),l.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=a}else h(!1)}function bT(a,h){const g=new U,E=new AbortController,V=setTimeout(()=>{E.abort(),Wr(g,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:E.signal}).then(z=>{clearTimeout(V),z.ok?Wr(g,"TestPingServer: ok",!0,h):Wr(g,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(V),Wr(g,"TestPingServer: error",!1,h)})}function Wr(a,h,g,E,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),E(g)}catch{}}function kT(){this.g=new Hl}function CT(a,h,g){const E=g||"";try{yg(a,function(V,z){let W=V;u(V)&&(W=ks(V)),h.push(E+z+"="+encodeURIComponent(W))})}catch(V){throw h.push(E+"type="+encodeURIComponent("_badmap")),V}}function Yl(a){this.l=a.Ub||null,this.j=a.eb||!1}y(Yl,zr),Yl.prototype.g=function(){return new Xl(this.l,this.j)},Yl.prototype.i=function(a){return function(){return a}}({});function Xl(a,h){ut.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Xl,ut),t=Xl.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,Jo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xo(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Jo(this)),this.g&&(this.readyState=3,Jo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ig(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ig(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Xo(this):Jo(this),this.readyState==3&&Ig(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Xo(this))},t.Qa=function(a){this.g&&(this.response=a,Xo(this))},t.ga=function(){this.g&&Xo(this)};function Xo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Jo(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var g=h.next();!g.done;)g=g.value,a.push(g[0]+": "+g[1]),g=h.next();return a.join(`\r
`)};function Jo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Xl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function bg(a){let h="";return P(a,function(g,E){h+=E,h+=":",h+=g,h+=`\r
`}),h}function Gd(a,h,g){e:{for(E in g){var E=!1;break e}E=!0}E||(g=bg(g),typeof a=="string"?g!=null&&encodeURIComponent(String(g)):$e(a,h,g))}function rt(a){ut.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(rt,ut);var RT=/^https?$/i,AT=["POST","PUT"];t=rt.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,g,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ge.g(),this.v=this.o?qo(this.o):qo(ge),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(z){kg(this,z);return}if(a=g||"",g=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var V in E)g.set(V,E[V]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const z of E.keys())g.set(z,E.get(z));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(g.keys()).find(z=>z.toLowerCase()=="content-type"),V=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(AT,h,void 0))||E||V||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,W]of g)this.g.setRequestHeader(z,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ag(this),this.u=!0,this.g.send(a),this.u=!1}catch(z){kg(this,z)}};function kg(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,Cg(a),Jl(a)}function Cg(a){a.A||(a.A=!0,Ge(a,"complete"),Ge(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Ge(this,"complete"),Ge(this,"abort"),Jl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jl(this,!0)),rt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Rg(this):this.bb())},t.bb=function(){Rg(this)};function Rg(a){if(a.h&&typeof o<"u"&&(!a.v[1]||fr(a)!=4||a.Z()!=2)){if(a.u&&fr(a)==4)Bo(a.Ea,0,a);else if(Ge(a,"readystatechange"),fr(a)==4){a.h=!1;try{const W=a.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var g;if(!(g=h)){var E;if(E=W===0){var V=String(a.D).match(_g)[1]||null;!V&&l.self&&l.self.location&&(V=l.self.location.protocol.slice(0,-1)),E=!RT.test(V?V.toLowerCase():"")}g=E}if(g)Ge(a,"complete"),Ge(a,"success");else{a.m=6;try{var z=2<fr(a)?a.g.statusText:""}catch{z=""}a.l=z+" ["+a.Z()+"]",Cg(a)}}finally{Jl(a)}}}}function Jl(a,h){if(a.g){Ag(a);const g=a.g,E=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||Ge(a,"ready");try{g.onreadystatechange=E}catch{}}}function Ag(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function fr(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<fr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),Wd(h)}};function Pg(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function PT(a){const h={};a=(a.g&&2<=fr(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<a.length;E++){if(x(a[E]))continue;var g=N(a[E]);const V=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const z=h[V]||[];h[V]=z,z.push(g)}I(h,function(E){return E.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zo(a,h,g){return g&&g.internalChannelParams&&g.internalChannelParams[a]||h}function Ng(a){this.Aa=0,this.i=[],this.j=new U,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zo("baseRetryDelayMs",5e3,a),this.cb=Zo("retryDelaySeedMs",1e4,a),this.Wa=Zo("forwardChannelMaxRetries",2,a),this.wa=Zo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new dr(a&&a.concurrentRequestLimit),this.Da=new kT,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ng.prototype,t.la=8,t.G=1,t.connect=function(a,h,g,E){D(0),this.W=a,this.H=h||{},g&&E!==void 0&&(this.H.OSID=g,this.H.OAID=E),this.F=this.X,this.I=Ug(this,null,this.W),ec(this)};function Kd(a){if(jg(a),a.G==3){var h=a.U++,g=hr(a.I);if($e(g,"SID",a.K),$e(g,"RID",h),$e(g,"TYPE","terminate"),ea(a,g),h=new Fe(a,a.j,h),h.L=2,h.v=Ql(hr(g)),g=!1,l.navigator&&l.navigator.sendBeacon)try{g=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!g&&l.Image&&(new Image().src=h.v,g=!0),g||(h.g=Bg(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Br(h)}zg(a)}function Zl(a){a.g&&(Yd(a),a.g.cancel(),a.g=null)}function jg(a){Zl(a),a.u&&(l.clearTimeout(a.u),a.u=null),tc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function ec(a){if(!Hr(a.h)&&!a.s){a.s=!0;var h=a.Ga;ke||oe(),q||(ke(),q=!0),Z.add(h,a),a.B=0}}function NT(a,h){return Je(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=O(p(a.Ga,a,h),Fg(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const V=new Fe(this,this.j,a);let z=this.o;if(this.S&&(z?(z=_(z),k(z,this.S)):z=this.S),this.m!==null||this.O||(V.H=z,z=null),this.P)e:{for(var h=0,g=0;g<this.i.length;g++){t:{var E=this.i[g];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(h+=E,4096<h){h=g;break e}if(h===4096||g===this.i.length-1){h=g+1;break e}}h=1e3}else h=1e3;h=Lg(this,V,h),g=hr(this.I),$e(g,"RID",a),$e(g,"CVER",22),this.D&&$e(g,"X-HTTP-Session-Id",this.D),ea(this,g),z&&(this.O?h="headers="+encodeURIComponent(String(bg(z)))+"&"+h:this.m&&Gd(g,this.m,z)),As(this.h,V),this.Ua&&$e(g,"TYPE","init"),this.P?($e(g,"$req",h),$e(g,"SID","null"),V.T=!0,Hn(V,g,null)):Hn(V,g,h),this.G=2}}else this.G==3&&(a?Dg(this,a):this.i.length==0||Hr(this.h)||Dg(this))};function Dg(a,h){var g;h?g=h.l:g=a.U++;const E=hr(a.I);$e(E,"SID",a.K),$e(E,"RID",g),$e(E,"AID",a.T),ea(a,E),a.m&&a.o&&Gd(E,a.m,a.o),g=new Fe(a,a.j,g,a.B+1),a.m===null&&(g.H=a.o),h&&(a.i=h.D.concat(a.i)),h=Lg(a,g,1e3),g.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),As(a.h,g),Hn(g,E,h)}function ea(a,h){a.H&&P(a.H,function(g,E){$e(h,E,g)}),a.l&&yg({},function(g,E){$e(h,E,g)})}function Lg(a,h,g){g=Math.min(a.i.length,g);var E=a.l?p(a.l.Na,a.l,a):null;e:{var V=a.i;let z=-1;for(;;){const W=["count="+g];z==-1?0<g?(z=V[0].g,W.push("ofs="+z)):z=0:W.push("ofs="+z);let Oe=!0;for(let It=0;It<g;It++){let Ce=V[It].g;const Dt=V[It].map;if(Ce-=z,0>Ce)z=Math.max(0,V[It].g-100),Oe=!1;else try{CT(Dt,W,"req"+Ce+"_")}catch{E&&E(Dt)}}if(Oe){E=W.join("&");break e}}}return a=a.i.splice(0,g),h.D=a,E}function Mg(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;ke||oe(),q||(ke(),q=!0),Z.add(h,a),a.v=0}}function Qd(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=O(p(a.Fa,a),Fg(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Vg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=O(p(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,D(10),Zl(this),Vg(this))};function Yd(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Vg(a){a.g=new Fe(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=hr(a.qa);$e(h,"RID","rpc"),$e(h,"SID",a.K),$e(h,"AID",a.T),$e(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&$e(h,"TO",a.ja),$e(h,"TYPE","xmlhttp"),ea(a,h),a.m&&a.o&&Gd(h,a.m,a.o),a.L&&(a.g.I=a.L);var g=a.g;a=a.ia,g.L=1,g.v=Ql(hr(h)),g.m=null,g.P=!0,Ur(g,a)}t.Za=function(){this.C!=null&&(this.C=null,Zl(this),Qd(this),D(19))};function tc(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Og(a,h){var g=null;if(a.g==h){tc(a),Yd(a),a.g=null;var E=2}else if(Wn(a.h,h))g=h.D,Wl(a.h,h),E=1;else return;if(a.G!=0){if(h.o)if(E==1){g=h.m?h.m.length:0,h=Date.now()-h.F;var V=a.B;E=ur(),Ge(E,new M(E,g)),ec(a)}else Mg(a);else if(V=h.s,V==3||V==0&&0<h.X||!(E==1&&NT(a,h)||E==2&&Qd(a)))switch(g&&0<g.length&&(h=a.h,h.i=h.i.concat(g)),V){case 1:qi(a,5);break;case 4:qi(a,10);break;case 3:qi(a,6);break;default:qi(a,2)}}}function Fg(a,h){let g=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(g*=2),g*h}function qi(a,h){if(a.j.info("Error code "+h),h==2){var g=p(a.fb,a),E=a.Xa;const V=!E;E=new Hi(E||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Gl(E,"https"),Ql(E),V?IT(E.toString(),g):bT(E.toString(),g)}else D(2);a.G=0,a.l&&a.l.sa(h),zg(a),jg(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),D(2)):(this.j.info("Failed to ping google.com"),D(1))};function zg(a){if(a.G=0,a.ka=[],a.l){const h=vg(a.h);(h.length!=0||a.i.length!=0)&&(C(a.ka,h),C(a.ka,a.i),a.h.i.length=0,S(a.i),a.i.length=0),a.l.ra()}}function Ug(a,h,g){var E=g instanceof Hi?hr(g):new Hi(g);if(E.g!="")h&&(E.g=h+"."+E.g),Kl(E,E.s);else{var V=l.location;E=V.protocol,h=h?h+"."+V.hostname:V.hostname,V=+V.port;var z=new Hi(null);E&&Gl(z,E),h&&(z.g=h),V&&Kl(z,V),g&&(z.l=g),E=z}return g=a.D,h=a.ya,g&&h&&$e(E,g,h),$e(E,"VER",a.la),ea(a,E),E}function Bg(a,h,g){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new rt(new Yl({eb:g})):new rt(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $g(){}t=$g.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function nc(){}nc.prototype.g=function(a,h){return new dn(a,h)};function dn(a,h){ut.call(this),this.g=new Ng(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!x(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!x(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Ns(this)}y(dn,ut),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Kd(this.g)},dn.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var g={};g.__data__=a,a=g}else this.u&&(g={},g.__data__=ks(a),a=g);h.i.push(new Ke(h.Ya++,a)),h.G==3&&ec(h)},dn.prototype.N=function(){this.g.l=null,delete this.j,Kd(this.g),delete this.g,dn.aa.N.call(this)};function Hg(a){Wo.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const g in h){a=g;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}y(Hg,Wo);function qg(){Rs.call(this),this.status=1}y(qg,Rs);function Ns(a){this.g=a}y(Ns,$g),Ns.prototype.ua=function(){Ge(this.g,"a")},Ns.prototype.ta=function(a){Ge(this.g,new Hg(a))},Ns.prototype.sa=function(a){Ge(this.g,new qg)},Ns.prototype.ra=function(){Ge(this.g,"b")},nc.prototype.createWebChannel=nc.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,gw=function(){return new nc},mw=function(){return ur()},pw=cr,Yf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},G.NO_ERROR=0,G.TIMEOUT=8,G.HTTP_ERROR=6,Bc=G,ee.COMPLETE="complete",fw=ee,Cs.EventType=lr,lr.OPEN="a",lr.CLOSE="b",lr.ERROR="c",lr.MESSAGE="d",ut.prototype.listen=ut.prototype.K,ba=Cs,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,hw=rt}).apply(typeof Ec<"u"?Ec:typeof self<"u"?self:typeof window<"u"?window:{});const Dv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new ym("@firebase/firestore");function ha(){return ms.logLevel}function J(t,...e){if(ms.logLevel<=Ee.DEBUG){const n=e.map(wm);ms.debug(`Firestore (${jo}): ${t}`,...n)}}function jr(t,...e){if(ms.logLevel<=Ee.ERROR){const n=e.map(wm);ms.error(`Firestore (${jo}): ${t}`,...n)}}function yo(t,...e){if(ms.logLevel<=Ee.WARN){const n=e.map(wm);ms.warn(`Firestore (${jo}): ${t}`,...n)}}function wm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t="Unexpected state"){const e=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: `+t;throw jr(e),new Error(e)}function Ae(t,e){t||ue()}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends Or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _C{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}class xC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class wC{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ae(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Jn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Jn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Jn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new vw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new zt(e)}}class EC{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class TC{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new EC(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class SC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ae(this.o===void 0);const r=s=>{s.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,J("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string"),this.R=n.token,new SC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=bC(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Re(t,e){return t<e?-1:t>e?1:0}function _o(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ne(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return me.fromMillis(Date.now())}static fromDate(e){return me.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new me(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.timestamp=e}static fromTimestamp(e){return new he(e)}static min(){return new he(new me(0,0))}static max(){return new he(new me(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n,r){n===void 0?n=0:n>e.length&&ue(),r===void 0?r=e.length-n:r>e.length-n&&ue(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return dl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof dl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Xe extends dl{construct(e,n,r){return new Xe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ne(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Xe(n)}static emptyPath(){return new Xe([])}}const kC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends dl{construct(e,n,r){return new Rt(e,n,r)}static isValidIdentifier(e){return kC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Rt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ne(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ne(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ne(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new ne(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(n)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(Xe.fromString(e))}static fromName(e){return new se(Xe.fromString(e).popFirst(5))}static empty(){return new se(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new Xe(e.slice()))}}function CC(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new me(n+1,0):new me(n,r));return new Ri(i,se.empty(),e)}function RC(t){return new Ri(t.readTime,t.key,-1)}class Ri{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ri(he.min(),se.empty(),-1)}static max(){return new Ri(he.max(),se.empty(),-1)}}function AC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==PC)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(f=>{o[u]=f,++l,l===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function jC(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Em.oe=-1;function gd(t){return t==null}function Cu(t){return t===0&&1/t==-1/0}function DC(t){return typeof t=="number"&&Number.isInteger(t)&&!Cu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ws(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LC(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function _w(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||Ct.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tc(this.root,e,this.comparator,!0)}}class Tc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ct.RED,this.left=i??Ct.EMPTY,this.right=s??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ct(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ct.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ue();const e=this.left.check();if(e!==this.right.check())throw ue();return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw ue()}get value(){throw ue()}get color(){throw ue()}get left(){throw ue()}get right(){throw ue()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Mv(this.data.getIterator())}getIteratorFrom(e){return new Mv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class Mv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new mn([])}unionWith(e){let n=new Pt(Rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new xw("Invalid base64 string: "+s):s}}(e);return new jt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const MC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ai(t){if(Ae(!!t),typeof t=="string"){let e=0;const n=MC.exec(t);if(Ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function gs(t){return typeof t=="string"?jt.fromBase64String(t):jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Sm(t){const e=t.mapValue.fields.__previous_value__;return Tm(e)?Sm(e):e}function hl(t){const e=Ai(t.mapValue.fields.__local_write_time__.timestampValue);return new me(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n,r,i,s,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}class fl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new fl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof fl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function vs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Tm(t)?4:FC(t)?9007199254740991:OC(t)?10:11:ue()}function ir(t,e){if(t===e)return!0;const n=vs(t);if(n!==vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hl(t).isEqual(hl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ai(i.timestampValue),l=Ai(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return gs(i.bytesValue).isEqual(gs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return at(i.geoPointValue.latitude)===at(s.geoPointValue.latitude)&&at(i.geoPointValue.longitude)===at(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return at(i.integerValue)===at(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=at(i.doubleValue),l=at(s.doubleValue);return o===l?Cu(o)===Cu(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return _o(t.arrayValue.values||[],e.arrayValue.values||[],ir);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(Lv(o)!==Lv(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!ir(o[c],l[c])))return!1;return!0}(t,e);default:return ue()}}function pl(t,e){return(t.values||[]).find(n=>ir(n,e))!==void 0}function xo(t,e){if(t===e)return 0;const n=vs(t),r=vs(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=at(s.integerValue||s.doubleValue),c=at(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Vv(t.timestampValue,e.timestampValue);case 4:return Vv(hl(t),hl(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(s,o){const l=gs(s),c=gs(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const f=Re(l[u],c[u]);if(f!==0)return f}return Re(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Re(at(s.latitude),at(o.latitude));return l!==0?l:Re(at(s.longitude),at(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Ov(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,c,u,f;const m=s.fields||{},p=o.fields||{},v=(l=m.value)===null||l===void 0?void 0:l.arrayValue,y=(c=p.value)===null||c===void 0?void 0:c.arrayValue,S=Re(((u=v==null?void 0:v.values)===null||u===void 0?void 0:u.length)||0,((f=y==null?void 0:y.values)===null||f===void 0?void 0:f.length)||0);return S!==0?S:Ov(v,y)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Sc.mapValue&&o===Sc.mapValue)return 0;if(s===Sc.mapValue)return 1;if(o===Sc.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),u=o.fields||{},f=Object.keys(u);c.sort(),f.sort();for(let m=0;m<c.length&&m<f.length;++m){const p=Re(c[m],f[m]);if(p!==0)return p;const v=xo(l[c[m]],u[f[m]]);if(v!==0)return v}return Re(c.length,f.length)}(t.mapValue,e.mapValue);default:throw ue()}}function Vv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=Ai(t),r=Ai(e),i=Re(n.seconds,r.seconds);return i!==0?i:Re(n.nanos,r.nanos)}function Ov(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=xo(n[i],r[i]);if(s)return s}return Re(n.length,r.length)}function wo(t){return Xf(t)}function Xf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ai(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return gs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Xf(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Xf(n.fields[o])}`;return i+"}"}(t.mapValue):ue()}function Jf(t){return!!t&&"integerValue"in t}function Im(t){return!!t&&"arrayValue"in t}function Fv(t){return!!t&&"nullValue"in t}function zv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $c(t){return!!t&&"mapValue"in t}function OC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Fa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ws(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Fa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function FC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$c(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fa(n)}setAll(e){let n=Rt.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Fa(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());$c(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ir(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];$c(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ws(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new on(Fa(this.value))}}function ww(t){const e=[];return ws(t.fields,(n,r)=>{const i=new Rt([n]);if($c(r)){const s=ww(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Bt(e,0,he.min(),he.min(),he.min(),on.empty(),0)}static newFoundDocument(e,n,r,i){return new Bt(e,1,n,he.min(),r,i,0)}static newNoDocument(e,n){return new Bt(e,2,n,he.min(),he.min(),on.empty(),0)}static newUnknownDocument(e,n){return new Bt(e,3,n,he.min(),he.min(),on.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n){this.position=e,this.inclusive=n}}function Uv(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=xo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Bv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ir(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n="asc"){this.field=e,this.dir=n}}function zC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{}class yt extends Ew{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new BC(e,n,r):n==="array-contains"?new qC(e,r):n==="in"?new WC(e,r):n==="not-in"?new GC(e,r):n==="array-contains-any"?new KC(e,r):new yt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $C(e,r):new HC(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(xo(n,this.value)):n!==null&&vs(this.value)===vs(n)&&this.matchesComparison(xo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sr extends Ew{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new sr(e,n)}matches(e){return Tw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Tw(t){return t.op==="and"}function Sw(t){return UC(t)&&Tw(t)}function UC(t){for(const e of t.filters)if(e instanceof sr)return!1;return!0}function Zf(t){if(t instanceof yt)return t.field.canonicalString()+t.op.toString()+wo(t.value);if(Sw(t))return t.filters.map(e=>Zf(e)).join(",");{const e=t.filters.map(n=>Zf(n)).join(",");return`${t.op}(${e})`}}function Iw(t,e){return t instanceof yt?function(r,i){return i instanceof yt&&r.op===i.op&&r.field.isEqual(i.field)&&ir(r.value,i.value)}(t,e):t instanceof sr?function(r,i){return i instanceof sr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&Iw(o,i.filters[l]),!0):!1}(t,e):void ue()}function bw(t){return t instanceof yt?function(n){return`${n.field.canonicalString()} ${n.op} ${wo(n.value)}`}(t):t instanceof sr?function(n){return n.op.toString()+" {"+n.getFilters().map(bw).join(" ,")+"}"}(t):"Filter"}class BC extends yt{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class $C extends yt{constructor(e,n){super(e,"in",n),this.keys=kw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class HC extends yt{constructor(e,n){super(e,"not-in",n),this.keys=kw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kw(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class qC extends yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Im(n)&&pl(n.arrayValue,this.value)}}class WC extends yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pl(this.value.arrayValue,n)}}class GC extends yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!pl(this.value.arrayValue,n)}}class KC extends yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Im(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>pl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function $v(t,e=null,n=[],r=[],i=null,s=null,o=null){return new QC(t,e,n,r,i,s,o)}function bm(t){const e=de(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Zf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),gd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>wo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>wo(r)).join(",")),e.ue=n}return e.ue}function km(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zC(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Iw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Bv(t.startAt,e.startAt)&&Bv(t.endAt,e.endAt)}function ep(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function YC(t,e,n,r,i,s,o,l){return new vd(t,e,n,r,i,s,o,l)}function yd(t){return new vd(t)}function Hv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function XC(t){return t.collectionGroup!==null}function za(t){const e=de(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Pt(Rt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Au(s,r))}),n.has(Rt.keyField().canonicalString())||e.ce.push(new Au(Rt.keyField(),r))}return e.ce}function Zn(t){const e=de(t);return e.le||(e.le=Cw(e,za(t))),e.le}function JC(t){const e=de(t);return e.he||(e.he=Cw(e,t.explicitOrderBy)),e.he}function Cw(t,e){if(t.limitType==="F")return $v(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Au(i.field,s)});const n=t.endAt?new Ru(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ru(t.startAt.position,t.startAt.inclusive):null;return $v(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function tp(t,e,n){return new vd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _d(t,e){return km(Zn(t),Zn(e))&&t.limitType===e.limitType}function Rw(t){return`${bm(Zn(t))}|lt:${t.limitType}`}function Ms(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>bw(i)).join(", ")}]`),gd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>wo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>wo(i)).join(",")),`Target(${r})`}(Zn(t))}; limitType=${t.limitType})`}function xd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):se.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of za(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const u=Uv(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,za(r),i)||r.endAt&&!function(o,l,c){const u=Uv(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,za(r),i))}(t,e)}function ZC(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Aw(t){return(e,n)=>{let r=!1;for(const i of za(t)){const s=e3(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function e3(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(s,o,l){const c=o.data.field(s),u=l.data.field(s);return c!==null&&u!==null?xo(c,u):ue()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ws(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return _w(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=new nt(se.comparator);function Dr(){return t3}const Pw=new nt(se.comparator);function ka(...t){let e=Pw;for(const n of t)e=e.insert(n.key,n);return e}function Nw(t){let e=Pw;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ns(){return Ua()}function jw(){return Ua()}function Ua(){return new Do(t=>t.toString(),(t,e)=>t.isEqual(e))}const n3=new nt(se.comparator),r3=new Pt(se.comparator);function we(...t){let e=r3;for(const n of t)e=e.add(n);return e}const i3=new Pt(Re);function s3(){return i3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cu(e)?"-0":e}}function Dw(t){return{integerValue:""+t}}function o3(t,e){return DC(e)?Dw(e):Cm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(){this._=void 0}}function a3(t,e,n){return t instanceof Pu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Tm(s)&&(s=Sm(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Eo?Mw(t,e):t instanceof ml?Vw(t,e):function(i,s){const o=Lw(i,s),l=qv(o)+qv(i.Pe);return Jf(o)&&Jf(i.Pe)?Dw(l):Cm(i.serializer,l)}(t,e)}function l3(t,e,n){return t instanceof Eo?Mw(t,e):t instanceof ml?Vw(t,e):n}function Lw(t,e){return t instanceof Nu?function(r){return Jf(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Pu extends wd{}class Eo extends wd{constructor(e){super(),this.elements=e}}function Mw(t,e){const n=Ow(e);for(const r of t.elements)n.some(i=>ir(i,r))||n.push(r);return{arrayValue:{values:n}}}class ml extends wd{constructor(e){super(),this.elements=e}}function Vw(t,e){let n=Ow(e);for(const r of t.elements)n=n.filter(i=>!ir(i,r));return{arrayValue:{values:n}}}class Nu extends wd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function qv(t){return at(t.integerValue||t.doubleValue)}function Ow(t){return Im(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n){this.field=e,this.transform=n}}function u3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Eo&&i instanceof Eo||r instanceof ml&&i instanceof ml?_o(r.elements,i.elements,ir):r instanceof Nu&&i instanceof Nu?ir(r.Pe,i.Pe):r instanceof Pu&&i instanceof Pu}(t.transform,e.transform)}class d3{constructor(e,n){this.version=e,this.transformResults=n}}class er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ed{}function Fw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Uw(t.key,er.none()):new kl(t.key,t.data,er.none());{const n=t.data,r=on.empty();let i=new Pt(Rt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new zi(t.key,r,new mn(i.toArray()),er.none())}}function h3(t,e,n){t instanceof kl?function(i,s,o){const l=i.value.clone(),c=Gv(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof zi?function(i,s,o){if(!Hc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=Gv(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(zw(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ba(t,e,n,r){return t instanceof kl?function(s,o,l,c){if(!Hc(s.precondition,o))return l;const u=s.value.clone(),f=Kv(s.fieldTransforms,c,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof zi?function(s,o,l,c){if(!Hc(s.precondition,o))return l;const u=Kv(s.fieldTransforms,c,o),f=o.data;return f.setAll(zw(s)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,o,l){return Hc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function f3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Lw(r.transform,i||null);s!=null&&(n===null&&(n=on.empty()),n.set(r.field,s))}return n||null}function Wv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&_o(r,i,(s,o)=>u3(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class kl extends Ed{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zi extends Ed{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function zw(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Gv(t,e,n){const r=new Map;Ae(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,l3(o,l,n[i]))}return r}function Kv(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,a3(s,o,e))}return r}class Uw extends Ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class p3 extends Ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&h3(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ba(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ba(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=jw();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const c=Fw(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,(n,r)=>Wv(n,r))&&_o(this.baseMutations,e.baseMutations,(n,r)=>Wv(n,r))}}class Rm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ae(e.mutations.length===r.length);let i=function(){return n3}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Rm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Ie;function _3(t){switch(t){default:return ue();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function Bw(t){if(t===void 0)return jr("GRPC error has no .code"),B.UNKNOWN;switch(t){case dt.OK:return B.OK;case dt.CANCELLED:return B.CANCELLED;case dt.UNKNOWN:return B.UNKNOWN;case dt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case dt.INTERNAL:return B.INTERNAL;case dt.UNAVAILABLE:return B.UNAVAILABLE;case dt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case dt.NOT_FOUND:return B.NOT_FOUND;case dt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case dt.ABORTED:return B.ABORTED;case dt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case dt.DATA_LOSS:return B.DATA_LOSS;default:return ue()}}(Ie=dt||(dt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=new as([4294967295,4294967295],0);function Qv(t){const e=x3().encode(t),n=new dw;return n.update(e),new Uint8Array(n.digest())}function Yv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new as([n,r],0),new as([i,s],0)]}class Am{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ca(`Invalid padding: ${n}`);if(r<0)throw new Ca(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ca(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ca(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=as.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(as.fromNumber(r)));return i.compare(w3)===1&&(i=new as([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Qv(e),[r,i]=Yv(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Am(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=Qv(e),[r,i]=Yv(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ca extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Cl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Td(he.min(),i,new nt(Re),Dr(),we())}}class Cl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cl(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class $w{constructor(e,n){this.targetId=e,this.me=n}}class Hw{constructor(e,n,r=jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Xv{constructor(){this.fe=0,this.ge=Zv(),this.pe=jt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=we(),n=we(),r=we();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ue()}}),new Cl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Zv()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ae(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class E3{constructor(e){this.Le=e,this.Be=new Map,this.ke=Dr(),this.qe=Jv(),this.Qe=new nt(Re)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ue()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(ep(s))if(r===0){const o=new se(s.path);this.Ue(n,o,Bt.newNoDocument(o,he.min()))}else Ae(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),c=l?this.Xe(l,e,o):1;if(c!==0){this.je(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=gs(r).toUint8Array()}catch(c){if(c instanceof xw)return yo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Am(o,i,s)}catch(c){return yo(c instanceof Ca?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&ep(l.target)){const c=new se(l.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,Bt.newNoDocument(c,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=we();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Td(e,n,this.Qe,this.ke,r);return this.ke=Dr(),this.qe=Jv(),this.Qe=new nt(Re),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Xv,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Pt(Re),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Xv),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Jv(){return new nt(se.comparator)}function Zv(){return new nt(se.comparator)}const T3={asc:"ASCENDING",desc:"DESCENDING"},S3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},I3={and:"AND",or:"OR"};class b3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function np(t,e){return t.useProto3Json||gd(e)?e:{value:e}}function ju(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function k3(t,e){return ju(t,e.toTimestamp())}function tr(t){return Ae(!!t),he.fromTimestamp(function(n){const r=Ai(n);return new me(r.seconds,r.nanos)}(t))}function Pm(t,e){return rp(t,e).canonicalString()}function rp(t,e){const n=function(i){return new Xe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Ww(t){const e=Xe.fromString(t);return Ae(Jw(e)),e}function ip(t,e){return Pm(t.databaseId,e.path)}function Nh(t,e){const n=Ww(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(Kw(n))}function Gw(t,e){return Pm(t.databaseId,e)}function C3(t){const e=Ww(t);return e.length===4?Xe.emptyPath():Kw(e)}function sp(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Kw(t){return Ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ey(t,e,n){return{name:ip(t,e),fields:n.value.mapValue.fields}}function R3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,f){return u.useProto3Json?(Ae(f===void 0||typeof f=="string"),jt.fromBase64String(f||"")):(Ae(f===void 0||f instanceof Buffer||f instanceof Uint8Array),jt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const f=u.code===void 0?B.UNKNOWN:Bw(u.code);return new ne(f,u.message||"")}(o);n=new Hw(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Nh(t,r.document.name),s=tr(r.document.updateTime),o=r.document.createTime?tr(r.document.createTime):he.min(),l=new on({mapValue:{fields:r.document.fields}}),c=Bt.newFoundDocument(i,s,o,l),u=r.targetIds||[],f=r.removedTargetIds||[];n=new qc(u,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Nh(t,r.document),s=r.readTime?tr(r.readTime):he.min(),o=Bt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new qc([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Nh(t,r.document),s=r.removedTargetIds||[];n=new qc([],s,i,null)}else{if(!("filter"in e))return ue();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new y3(i,s),l=r.targetId;n=new $w(l,o)}}return n}function A3(t,e){let n;if(e instanceof kl)n={update:ey(t,e.key,e.value)};else if(e instanceof Uw)n={delete:ip(t,e.key)};else if(e instanceof zi)n={update:ey(t,e.key,e.data),updateMask:F3(e.fieldMask)};else{if(!(e instanceof p3))return ue();n={verify:ip(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Pu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Eo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ml)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Nu)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw ue()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:k3(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ue()}(t,e.precondition)),n}function P3(t,e){return t&&t.length>0?(Ae(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?tr(i.updateTime):tr(s);return o.isEqual(he.min())&&(o=tr(s)),new d3(o,i.transformResults||[])}(n,e))):[]}function N3(t,e){return{documents:[Gw(t,e.path)]}}function Qw(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Gw(t,i);const s=function(u){if(u.length!==0)return Xw(sr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(f=>function(p){return{field:si(p.field),direction:M3(p.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=np(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function j3(t,e,n,r){const{_t:i,parent:s}=Qw(t,e),o={},l=[];let c=0;return n.forEach(u=>{const f="aggregate_"+c++;o[f]=u.alias,u.aggregateType==="count"?l.push({alias:f,count:{}}):u.aggregateType==="avg"?l.push({alias:f,avg:{field:si(u.fieldPath)}}):u.aggregateType==="sum"&&l.push({alias:f,sum:{field:si(u.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:l,structuredQuery:i.structuredQuery},parent:i.parent},ut:o,parent:s}}function D3(t){let e=C3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ae(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(m){const p=Yw(m);return p instanceof sr&&Sw(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(p=>function(y){return new Au(Vs(y.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(m){let p;return p=typeof m=="object"?m.value:m,gd(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(m){const p=!!m.before,v=m.values||[];return new Ru(v,p)}(n.startAt));let u=null;return n.endAt&&(u=function(m){const p=!m.before,v=m.values||[];return new Ru(v,p)}(n.endAt)),YC(e,i,o,s,l,"F",c,u)}function L3(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Yw(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vs(n.unaryFilter.field);return yt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Vs(n.unaryFilter.field);return yt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Vs(n.unaryFilter.field);return yt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Vs(n.unaryFilter.field);return yt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ue()}}(t):t.fieldFilter!==void 0?function(n){return yt.create(Vs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ue()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return sr.create(n.compositeFilter.filters.map(r=>Yw(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ue()}}(n.compositeFilter.op))}(t):ue()}function M3(t){return T3[t]}function V3(t){return S3[t]}function O3(t){return I3[t]}function si(t){return{fieldPath:t.canonicalString()}}function Vs(t){return Rt.fromServerFormat(t.fieldPath)}function Xw(t){return t instanceof yt?function(n){if(n.op==="=="){if(zv(n.value))return{unaryFilter:{field:si(n.field),op:"IS_NAN"}};if(Fv(n.value))return{unaryFilter:{field:si(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zv(n.value))return{unaryFilter:{field:si(n.field),op:"IS_NOT_NAN"}};if(Fv(n.value))return{unaryFilter:{field:si(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:si(n.field),op:V3(n.op),value:n.value}}}(t):t instanceof sr?function(n){const r=n.getFilters().map(i=>Xw(i));return r.length===1?r[0]:{compositeFilter:{op:O3(n.op),filters:r}}}(t):ue()}function F3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Jw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n,r,i,s=he.min(),o=he.min(),l=jt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e){this.ct=e}}function U3(t){const e=D3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(){this.un=new $3}addToCollectionParentIndex(e,n){return this.un.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Ri.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Ri.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class $3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pt(Xe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pt(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new To(0)}static kn(){return new To(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(){this.changes=new Do(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ba(r.mutation,i,mn.empty(),me.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const i=ns();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ka();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ns();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Dr();const o=Ua(),l=function(){return Ua()}();return n.forEach((c,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof zi)?s=s.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),Ba(f.mutation,u,f.mutation.getFieldMask(),me.now())):o.set(u.key,mn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,f)=>o.set(u,f)),n.forEach((u,f)=>{var m;return l.set(u,new q3(f,(m=o.get(u))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Ua();let i=new nt((o,l)=>o-l),s=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let f=r.get(c)||mn.empty();f=l.applyToLocalView(u,f),r.set(c,f);const m=(i.get(l.batchId)||we()).add(c);i=i.insert(l.batchId,m)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,f=c.value,m=jw();f.forEach(p=>{if(!s.has(p)){const v=Fw(n.get(p),r.get(p));v!==null&&m.set(p,v),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,m))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):XC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(ns());let l=-1,c=s;return o.next(u=>$.forEach(u,(f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(f)?$.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{c=c.insert(f,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,we())).next(f=>({batchId:l,changes:Nw(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let i=ka();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ka();return this.indexManager.getCollectionParents(e,s).next(l=>$.forEach(l,c=>{const u=function(m,p){return new vd(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((m,p)=>{o=o.insert(m,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const f=u.getKey();o.get(f)===null&&(o=o.insert(f,Bt.newInvalidDocument(f)))});let l=ka();return o.forEach((c,u)=>{const f=s.get(c);f!==void 0&&Ba(f.mutation,u,mn.empty(),me.now()),xd(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return $.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:tr(i.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:U3(i.bundledQuery),readTime:tr(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(){this.overlays=new nt(se.comparator),this.Ir=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ns();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=ns(),s=n.length+1,o=new se(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new nt((u,f)=>u-f);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=s.get(u.largestBatchId);f===null&&(f=ns(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const l=ns(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,f)=>l.set(u,f)),!(l.size()>=i)););return $.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new g3(n,r));let s=this.Ir.get(n);s===void 0&&(s=we(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(){this.Tr=new Pt(xt.Er),this.dr=new Pt(xt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new xt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new xt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new se(new Xe([])),r=new xt(n,e),i=new xt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new se(new Xe([])),r=new xt(n,e),i=new xt(n,e+1);let s=we();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new xt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class xt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return se.comparator(e.key,n.key)||Re(e.wr,n.wr)}static Ar(e,n){return Re(e.wr,n.wr)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Pt(xt.Er)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new m3(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.br=this.br.add(new xt(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new xt(n,0),i=new xt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const l=this.Dr(o.wr);s.push(l)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pt(Re);return n.forEach(i=>{const s=new xt(i,0),o=new xt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],l=>{r=r.add(l.wr)})}),$.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;se.isDocumentKey(s)||(s=s.child(""));const o=new xt(new se(s),0);let l=new Pt(Re);return this.br.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.wr)),!0)},o),$.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ae(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return $.forEach(n.mutations,i=>{const s=new xt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new xt(n,0),i=this.br.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e){this.Mr=e,this.docs=function(){return new nt(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let r=Dr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Bt.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Dr();const o=n.path,l=new se(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:f}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||AC(RC(f),r)<=0||(i.has(f.key)||xd(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ue()}Or(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new J3(this)}getSize(e){return $.resolve(this.size)}}class J3 extends H3{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e){this.persistence=e,this.Nr=new Do(n=>bm(n),km),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Nm,this.targetCount=0,this.kr=To.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),$.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new To(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Kn(n),$.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Em(0),this.Kr=!1,this.Kr=!0,this.$r=new Q3,this.referenceDelegate=e(this),this.Ur=new Z3(this),this.indexManager=new B3,this.remoteDocumentCache=function(i){return new X3(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new z3(n),this.Gr=new G3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new K3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Y3(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const i=new tR(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return $.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class tR extends NC{constructor(e){super(),this.currentSequenceNumber=e}}class jm{constructor(e){this.persistence=e,this.Jr=new Nm,this.Yr=null}static Zr(e){return new jm(e)}get Xr(){if(this.Yr)return this.Yr;throw ue()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),$.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Xr,r=>{const i=se.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,he.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return $.or([()=>$.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=we(),i=we();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Dm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return n4()?8:jC(Ht())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new nR;return this.Xi(e,n,o).next(l=>{if(s.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ha()<=Ee.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",Ms(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),$.resolve()):(ha()<=Ee.DEBUG&&J("QueryEngine","Query:",Ms(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ha()<=Ee.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",Ms(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(n))):$.resolve())}Yi(e,n){if(Hv(n))return $.resolve(null);let r=Zn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=tp(n,null,"F"),r=Zn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=we(...s);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ts(n,l);return this.ns(n,u,o,c.readTime)?this.Yi(e,tp(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,r,i){return Hv(n)||i.isEqual(he.min())?$.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?$.resolve(null):(ha()<=Ee.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ms(n)),this.rs(e,o,n,CC(i,-1)).next(l=>l))})}ts(e,n){let r=new Pt(Aw(e));return n.forEach((i,s)=>{xd(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return ha()<=Ee.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",Ms(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ri.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new nt(Re),this._s=new Do(s=>bm(s),km),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new W3(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function sR(t,e,n,r){return new iR(t,e,n,r)}async function Zw(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=we();for(const u of i){o.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}for(const u of s){l.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:l}))})})}function oR(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,f){const m=u.batch,p=m.keys();let v=$.resolve();return p.forEach(y=>{v=v.next(()=>f.getEntry(c,y)).next(S=>{const C=u.docVersions.get(y);Ae(C!==null),S.version.compareTo(C)<0&&(m.applyToRemoteDocument(S,u),S.isValidDocument()&&(S.setReadTime(u.commitVersion),f.addEntry(S)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(c,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=we();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function e2(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function aR(t,e){const n=de(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((f,m)=>{const p=i.get(m);if(!p)return;l.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,m)));let v=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?v=v.withResumeToken(jt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,r)),i=i.insert(m,v),function(S,C,T){return S.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(p,v,f)&&l.push(n.Ur.updateTargetData(s,v))});let c=Dr(),u=we();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(lR(s,o,e.documentUpdates).next(f=>{c=f.Ps,u=f.Is})),!r.isEqual(he.min())){const f=n.Ur.getLastRemoteSnapshotVersion(s).next(m=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(f)}return $.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.os=i,s))}function lR(t,e,n){let r=we(),i=we();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Dr();return n.forEach((l,c)=>{const u=s.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(he.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):J("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{Ps:o,Is:i}})}function cR(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function uR(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new fi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function op(t,e,n){const r=de(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!bl(o))throw o;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function ty(t,e,n){const r=de(t);let i=he.min(),s=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,f){const m=de(c),p=m._s.get(f);return p!==void 0?$.resolve(m.os.get(p)):m.Ur.getTargetData(u,f)}(r,o,Zn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:he.min(),n?s:we())).next(l=>(dR(r,ZC(e),l),{documents:l,Ts:s})))}function dR(t,e,n){let r=t.us.get(e)||he.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class ny{constructor(){this.activeTargetIds=s3()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hR{constructor(){this.so=new ny,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ny,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic=null;function jh(){return Ic===null?Ic=function(){return 268435456+Math.round(2147483648*Math.random())}():Ic++,"0x"+Ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class gR extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const l=jh(),c=this.xo(n,r.toUriEncodedString());J("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,c,u,i).then(f=>(J("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw yo("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",c,"request:",i),f})}Lo(n,r,i,s,o,l){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=pR[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=jh();return new Promise((o,l)=>{const c=new hw;c.setWithCredentials(!0),c.listenOnce(fw.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Bc.NO_ERROR:const f=c.getResponseJson();J(Ot,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Bc.TIMEOUT:J(Ot,`RPC '${e}' ${s} timed out`),l(new ne(B.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:const m=c.getStatus();if(J(Ot,`RPC '${e}' ${s} failed with status:`,m,"response text:",c.getResponseText()),m>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const v=p==null?void 0:p.error;if(v&&v.status&&v.message){const y=function(C){const T=C.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(T)>=0?T:B.UNKNOWN}(v.status);l(new ne(y,v.message))}else l(new ne(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ne(B.UNAVAILABLE,"Connection failed."));break;default:ue()}}finally{J(Ot,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);J(Ot,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=jh(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=gw(),l=mw(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=s.join("");J(Ot,`Creating RPC '${e}' stream ${i}: ${f}`,c);const m=o.createWebChannel(f,c);let p=!1,v=!1;const y=new mR({Io:C=>{v?J(Ot,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(p||(J(Ot,`Opening RPC '${e}' stream ${i} transport.`),m.open(),p=!0),J(Ot,`RPC '${e}' stream ${i} sending:`,C),m.send(C))},To:()=>m.close()}),S=(C,T,x)=>{C.listen(T,b=>{try{x(b)}catch(L){setTimeout(()=>{throw L},0)}})};return S(m,ba.EventType.OPEN,()=>{v||(J(Ot,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),S(m,ba.EventType.CLOSE,()=>{v||(v=!0,J(Ot,`RPC '${e}' stream ${i} transport closed`),y.So())}),S(m,ba.EventType.ERROR,C=>{v||(v=!0,yo(Ot,`RPC '${e}' stream ${i} transport errored:`,C),y.So(new ne(B.UNAVAILABLE,"The operation could not be completed")))}),S(m,ba.EventType.MESSAGE,C=>{var T;if(!v){const x=C.data[0];Ae(!!x);const b=x,L=b.error||((T=b[0])===null||T===void 0?void 0:T.error);if(L){J(Ot,`RPC '${e}' stream ${i} received error:`,L);const F=L.status;let P=function(w){const k=dt[w];if(k!==void 0)return Bw(k)}(F),I=L.message;P===void 0&&(P=B.INTERNAL,I="Unknown error status: "+F+" with message "+L.message),v=!0,y.So(new ne(P,I)),m.close()}else J(Ot,`RPC '${e}' stream ${i} received:`,x),y.bo(x)}}),S(l,pw.STAT_EVENT,C=>{C.stat===Yf.PROXY?J(Ot,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===Yf.NOPROXY&&J(Ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function Dh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(t){return new b3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&J("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n,r,i,s,o,l,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new t2(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(jr(n.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ne(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vR extends n2{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=R3(this.serializer,e),r=function(s){if(!("targetChange"in s))return he.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?he.min():o.readTime?tr(o.readTime):he.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=sp(this.serializer),n.addTarget=function(s,o){let l;const c=o.target;if(l=ep(c)?{documents:N3(s,c)}:{query:Qw(s,c)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=qw(s,o.resumeToken);const u=np(s,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(he.min())>0){l.readTime=ju(s,o.snapshotVersion.toTimestamp());const u=np(s,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=L3(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=sp(this.serializer),n.removeTarget=e,this.a_(n)}}class yR extends n2{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=P3(e.writeResults,e.commitTime),r=tr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=sp(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>A3(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ne(B.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,rp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ne(B.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,rp(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(B.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class xR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(jr(n),this.D_=!1):J("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Es(this)&&(J("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=de(c);u.L_.add(4),await Rl(u),u.q_.set("Unknown"),u.L_.delete(4),await Id(u)}(this))})}),this.q_=new xR(r,i)}}async function Id(t){if(Es(t))for(const e of t.B_)await e(!0)}async function Rl(t){for(const e of t.B_)await e(!1)}function r2(t,e){const n=de(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Om(n)?Vm(n):Lo(n).r_()&&Mm(n,e))}function Lm(t,e){const n=de(t),r=Lo(n);n.N_.delete(e),r.r_()&&i2(n,e),n.N_.size===0&&(r.r_()?r.o_():Es(n)&&n.q_.set("Unknown"))}function Mm(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lo(t).A_(e)}function i2(t,e){t.Q_.xe(e),Lo(t).R_(e)}function Vm(t){t.Q_=new E3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Lo(t).start(),t.q_.v_()}function Om(t){return Es(t)&&!Lo(t).n_()&&t.N_.size>0}function Es(t){return de(t).L_.size===0}function s2(t){t.Q_=void 0}async function ER(t){t.q_.set("Online")}async function TR(t){t.N_.forEach((e,n)=>{Mm(t,e)})}async function SR(t,e){s2(t),Om(t)?(t.q_.M_(e),Vm(t)):t.q_.set("Unknown")}async function IR(t,e,n){if(t.q_.set("Online"),e instanceof Hw&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Du(t,r)}else if(e instanceof qc?t.Q_.Ke(e):e instanceof $w?t.Q_.He(e):t.Q_.We(e),!n.isEqual(he.min()))try{const r=await e2(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.Q_.rt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.N_.get(u);f&&s.N_.set(u,f.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const f=s.N_.get(c);if(!f)return;s.N_.set(c,f.withResumeToken(jt.EMPTY_BYTE_STRING,f.snapshotVersion)),i2(s,c);const m=new fi(f.target,c,u,f.sequenceNumber);Mm(s,m)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){J("RemoteStore","Failed to raise snapshot:",r),await Du(t,r)}}async function Du(t,e,n){if(!bl(e))throw e;t.L_.add(1),await Rl(t),t.q_.set("Offline"),n||(n=()=>e2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Id(t)})}function o2(t,e){return e().catch(n=>Du(t,n,e))}async function bd(t){const e=de(t),n=Pi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;bR(e);)try{const i=await cR(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,kR(e,i)}catch(i){await Du(e,i)}a2(e)&&l2(e)}function bR(t){return Es(t)&&t.O_.length<10}function kR(t,e){t.O_.push(e);const n=Pi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function a2(t){return Es(t)&&!Pi(t).n_()&&t.O_.length>0}function l2(t){Pi(t).start()}async function CR(t){Pi(t).p_()}async function RR(t){const e=Pi(t);for(const n of t.O_)e.m_(n.mutations)}async function AR(t,e,n){const r=t.O_.shift(),i=Rm.from(r,e,n);await o2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await bd(t)}async function PR(t,e){e&&Pi(t).V_&&await async function(r,i){if(function(o){return _3(o)&&o!==B.ABORTED}(i.code)){const s=r.O_.shift();Pi(r).s_(),await o2(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await bd(r)}}(t,e),a2(t)&&l2(t)}async function iy(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");const r=Es(n);n.L_.add(3),await Rl(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Id(n)}async function NR(t,e){const n=de(t);e?(n.L_.delete(2),await Id(n)):e||(n.L_.add(2),await Rl(n),n.q_.set("Unknown"))}function Lo(t){return t.K_||(t.K_=function(n,r,i){const s=de(n);return s.w_(),new vR(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:ER.bind(null,t),Ro:TR.bind(null,t),mo:SR.bind(null,t),d_:IR.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Om(t)?Vm(t):t.q_.set("Unknown")):(await t.K_.stop(),s2(t))})),t.K_}function Pi(t){return t.U_||(t.U_=function(n,r,i){const s=de(n);return s.w_(),new yR(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:CR.bind(null,t),mo:PR.bind(null,t),f_:RR.bind(null,t),g_:AR.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await bd(t)):(await t.U_.stop(),t.O_.length>0&&(J("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new Fm(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zm(t,e){if(jr("AsyncQueue",`${e}: ${t}`),bl(t))return new ne(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=ka(),this.sortedSet=new nt(this.comparator)}static emptySet(e){return new ro(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ro;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(){this.W_=new nt(se.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ue():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class So{constructor(e,n,r,i,s,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new So(e,n,ro.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class DR{constructor(){this.queries=oy(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=de(n),s=i.queries;i.queries=oy(),s.forEach((o,l)=>{for(const c of l.j_)c.onError(r)})})(this,new ne(B.ABORTED,"Firestore shutting down"))}}function oy(){return new Do(t=>Rw(t),_d)}async function Um(t,e){const n=de(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new jR,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=zm(o,`Initialization of query '${Ms(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&$m(n)}async function Bm(t,e){const n=de(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function LR(t,e){const n=de(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.j_)l.X_(i)&&(r=!0);o.z_=i}}r&&$m(n)}function MR(t,e,n){const r=de(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function $m(t){t.Y_.forEach(e=>{e.next()})}var ap,ay;(ay=ap||(ap={})).ea="default",ay.Cache="cache";class Hm{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new So(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=So.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ap.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this.key=e}}class u2{constructor(e){this.key=e}}class VR{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=we(),this.mutatedKeys=we(),this.Aa=Aw(e),this.Ra=new ro(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new sy,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,m)=>{const p=i.get(f),v=xd(this.query,m)?m:null,y=!!p&&this.mutatedKeys.has(p.key),S=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let C=!1;p&&v?p.data.isEqual(v.data)?y!==S&&(r.track({type:3,doc:v}),C=!0):this.ga(p,v)||(r.track({type:2,doc:v}),C=!0,(c&&this.Aa(v,c)>0||u&&this.Aa(v,u)<0)&&(l=!0)):!p&&v?(r.track({type:0,doc:v}),C=!0):p&&!v&&(r.track({type:1,doc:p}),C=!0,(c||u)&&(l=!0)),C&&(v?(o=o.add(v),s=S?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:l,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((f,m)=>function(v,y){const S=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue()}};return S(v)-S(y)}(f.type,m.type)||this.Aa(f.doc,m.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,o.length!==0||u?{snapshot:new So(this.query,e.Ra,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new sy,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=we(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new u2(r))}),this.da.forEach(r=>{e.has(r)||n.push(new c2(r))}),n}ba(e){this.Ta=e.Ts,this.da=we();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return So.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class OR{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class FR{constructor(e){this.key=e,this.va=!1}}class zR{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Do(l=>Rw(l),_d),this.Ma=new Map,this.xa=new Set,this.Oa=new nt(se.comparator),this.Na=new Map,this.La=new Nm,this.Ba={},this.ka=new Map,this.qa=To.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function UR(t,e,n=!0){const r=g2(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await d2(r,e,n,!0),i}async function BR(t,e){const n=g2(t);await d2(n,e,!0,!1)}async function d2(t,e,n,r){const i=await uR(t.localStore,Zn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await $R(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&r2(t.remoteStore,i),l}async function $R(t,e,n,r,i){t.Ka=(m,p,v)=>async function(S,C,T,x){let b=C.view.ma(T);b.ns&&(b=await ty(S.localStore,C.query,!1).then(({documents:I})=>C.view.ma(I,b)));const L=x&&x.targetChanges.get(C.targetId),F=x&&x.targetMismatches.get(C.targetId)!=null,P=C.view.applyChanges(b,S.isPrimaryClient,L,F);return cy(S,C.targetId,P.wa),P.snapshot}(t,m,p,v);const s=await ty(t.localStore,e,!0),o=new VR(e,s.Ts),l=o.ma(s.documents),c=Cl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(l,t.isPrimaryClient,c);cy(t,n,u.wa);const f=new OR(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function HR(t,e,n){const r=de(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!_d(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await op(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Lm(r.remoteStore,i.targetId),lp(r,i.targetId)}).catch(Il)):(lp(r,i.targetId),await op(r.localStore,i.targetId,!0))}async function qR(t,e){const n=de(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Lm(n.remoteStore,r.targetId))}async function WR(t,e,n){const r=ZR(t);try{const i=await function(o,l){const c=de(o),u=me.now(),f=l.reduce((v,y)=>v.add(y.key),we());let m,p;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let y=Dr(),S=we();return c.cs.getEntries(v,f).next(C=>{y=C,y.forEach((T,x)=>{x.isValidDocument()||(S=S.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,y)).next(C=>{m=C;const T=[];for(const x of l){const b=f3(x,m.get(x.key).overlayedDocument);b!=null&&T.push(new zi(x.key,b,ww(b.value.mapValue),er.exists(!0)))}return c.mutationQueue.addMutationBatch(v,u,T,l)}).next(C=>{p=C;const T=C.applyToLocalDocumentSet(m,S);return c.documentOverlayCache.saveOverlays(v,C.batchId,T)})}).then(()=>({batchId:p.batchId,changes:Nw(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let u=o.Ba[o.currentUser.toKey()];u||(u=new nt(Re)),u=u.insert(l,c),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Al(r,i.changes),await bd(r.remoteStore)}catch(i){const s=zm(i,"Failed to persist write");n.reject(s)}}async function h2(t,e){const n=de(t);try{const r=await aR(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ae(o.va):i.removedDocuments.size>0&&(Ae(o.va),o.va=!1))}),await Al(n,r,e)}catch(r){await Il(r)}}function ly(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const l=o.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=de(o);c.onlineState=l;let u=!1;c.queries.forEach((f,m)=>{for(const p of m.j_)p.Z_(l)&&(u=!0)}),u&&$m(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function GR(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new nt(se.comparator);o=o.insert(s,Bt.newNoDocument(s,he.min()));const l=we().add(s),c=new Td(he.min(),new Map,new nt(Re),o,l);await h2(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(e),qm(r)}else await op(r.localStore,e,!1).then(()=>lp(r,e,n)).catch(Il)}async function KR(t,e){const n=de(t),r=e.batch.batchId;try{const i=await oR(n.localStore,e);p2(n,r,null),f2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Al(n,i)}catch(i){await Il(i)}}async function QR(t,e,n){const r=de(t);try{const i=await function(o,l){const c=de(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return c.mutationQueue.lookupMutationBatch(u,l).next(m=>(Ae(m!==null),f=m.keys(),c.mutationQueue.removeMutationBatch(u,m))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,f,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>c.localDocuments.getDocuments(u,f))})}(r.localStore,e);p2(r,e,n),f2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Al(r,i)}catch(i){await Il(i)}}function f2(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function p2(t,e,n){const r=de(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function lp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||m2(t,r)})}function m2(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Lm(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),qm(t))}function cy(t,e,n){for(const r of n)r instanceof c2?(t.La.addReference(r.key,e),YR(t,r)):r instanceof u2?(J("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||m2(t,r.key)):ue()}function YR(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(J("SyncEngine","New document in limbo: "+n),t.xa.add(r),qm(t))}function qm(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new se(Xe.fromString(e)),r=t.qa.next();t.Na.set(r,new FR(n)),t.Oa=t.Oa.insert(n,r),r2(t.remoteStore,new fi(Zn(yd(n.path)),r,"TargetPurposeLimboResolution",Em.oe))}}async function Al(t,e,n){const r=de(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,c)=>{o.push(r.Ka(c,e,n).then(u=>{var f;if((u||n)&&r.isPrimaryClient){const m=u?!u.fromCache:(f=n==null?void 0:n.targetChanges.get(c.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(u){i.push(u);const m=Dm.Wi(c.targetId,u);s.push(m)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(c,u){const f=de(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>$.forEach(u,p=>$.forEach(p.$i,v=>f.persistence.referenceDelegate.addReference(m,p.targetId,v)).next(()=>$.forEach(p.Ui,v=>f.persistence.referenceDelegate.removeReference(m,p.targetId,v)))))}catch(m){if(!bl(m))throw m;J("LocalStore","Failed to update sequence numbers: "+m)}for(const m of u){const p=m.targetId;if(!m.fromCache){const v=f.os.get(p),y=v.snapshotVersion,S=v.withLastLimboFreeSnapshotVersion(y);f.os=f.os.insert(p,S)}}}(r.localStore,s))}async function XR(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());const r=await Zw(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(l=>{l.forEach(c=>{c.reject(new ne(B.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Al(n,r.hs)}}function JR(t,e){const n=de(t),r=n.Na.get(e);if(r&&r.va)return we().add(r.key);{let i=we();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const l=n.Fa.get(o);i=i.unionWith(l.view.Va)}return i}}function g2(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=h2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GR.bind(null,e),e.Ca.d_=LR.bind(null,e.eventManager),e.Ca.$a=MR.bind(null,e.eventManager),e}function ZR(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QR.bind(null,e),e}class Lu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return sR(this.persistence,new rR,e.initialUser,this.serializer)}Ga(e){return new eR(jm.Zr,this.serializer)}Wa(e){return new hR}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lu.provider={build:()=>new Lu};class cp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ly(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=XR.bind(null,this.syncEngine),await NR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new DR}()}createDatastore(e){const n=Sd(e.databaseInfo.databaseId),r=function(s){return new gR(s)}(e.databaseInfo);return function(s,o,l,c){return new _R(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new wR(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>ly(this.syncEngine,n,0),function(){return ry.D()?new ry:new fR}())}createSyncEngine(e,n){return function(i,s,o,l,c,u,f){const m=new zR(i,s,o,l,c,u);return f&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=de(i);J("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Rl(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}cp.provider={build:()=>new cp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=zt.UNAUTHENTICATED,this.clientId=yw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{J("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(J("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=zm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Lh(t,e){t.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Zw(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function uy(t,e){t.asyncQueue.verifyOperationInProgress();const n=await tA(t);J("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>iy(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>iy(e.remoteStore,i)),t._onlineComponents=e}async function tA(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{await Lh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;yo("Error using user provided cache. Falling back to memory cache: "+n),await Lh(t,new Lu)}}else J("FirestoreClient","Using default OfflineComponentProvider"),await Lh(t,new Lu);return t._offlineComponents}async function Gm(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),await uy(t,t._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),await uy(t,new cp))),t._onlineComponents}function nA(t){return Gm(t).then(e=>e.syncEngine)}function rA(t){return Gm(t).then(e=>e.datastore)}async function Mu(t){const e=await Gm(t),n=e.eventManager;return n.onListen=UR.bind(null,e.syncEngine),n.onUnlisten=HR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=BR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=qR.bind(null,e.syncEngine),n}function iA(t,e,n={}){const r=new Jn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,u){const f=new Wm({next:p=>{f.Za(),o.enqueueAndForget(()=>Bm(s,m));const v=p.docs.has(l);!v&&p.fromCache?u.reject(new ne(B.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&p.fromCache&&c&&c.source==="server"?u.reject(new ne(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),m=new Hm(yd(l.path),f,{includeMetadataChanges:!0,_a:!0});return Um(s,m)}(await Mu(t),t.asyncQueue,e,n,r)),r.promise}function sA(t,e,n={}){const r=new Jn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,u){const f=new Wm({next:p=>{f.Za(),o.enqueueAndForget(()=>Bm(s,m)),p.fromCache&&c.source==="server"?u.reject(new ne(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),m=new Hm(l,f,{includeMetadataChanges:!0,_a:!0});return Um(s,m)}(await Mu(t),t.asyncQueue,e,n,r)),r.promise}function oA(t,e,n){const r=new Jn;return t.asyncQueue.enqueueAndForget(async()=>{try{const i=await rA(t);r.resolve(async function(o,l,c){var u;const f=de(o),{request:m,ut:p,parent:v}=j3(f.serializer,JC(l),c);f.connection.Fo||delete m.parent;const y=(await f.Lo("RunAggregationQuery",f.serializer.databaseId,v,m,1)).filter(C=>!!C.result);Ae(y.length===1);const S=(u=y[0].result)===null||u===void 0?void 0:u.aggregateFields;return Object.keys(S).reduce((C,T)=>(C[p[T]]=S[T],C),{})}(i,e,n))}catch(i){r.reject(i)}}),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(t,e,n){if(!n)throw new ne(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function aA(t,e,n,r){if(e===!0&&r===!0)throw new ne(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hy(t){if(!se.isDocumentKey(t))throw new ne(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fy(t){if(se.isDocumentKey(t))throw new ne(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Km(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ue()}function vn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Km(t);throw new ne(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ne(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ne(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=v2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ne(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ne(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ne(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new py({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ne(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ne(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new py(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _C;switch(r.type){case"firstParty":return new TC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=dy.get(n);r&&(J("ComponentProvider","Removing Datastore"),dy.delete(n),r.terminate())}(this),Promise.resolve()}}function lA(t,e,n,r={}){var i;const s=(t=vn(t,kd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=zt.MOCK_USER;else{l=Qk(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ne(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new zt(u)}t._authCredentials=new xC(new vw(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Pl(this.firestore,e,this._query)}}class Yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}}class Ii extends Pl{constructor(e,n,r){super(e,n,yd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new se(e))}withConverter(e){return new Ii(this.firestore,e,this._path)}}function _2(t,e,...n){if(t=Xt(t),y2("collection","path",e),t instanceof kd){const r=Xe.fromString(e,...n);return fy(r),new Ii(t,null,r)}{if(!(t instanceof Yt||t instanceof Ii))throw new ne(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return fy(r),new Ii(t.firestore,null,r)}}function br(t,e,...n){if(t=Xt(t),arguments.length===1&&(e=yw.newId()),y2("doc","path",e),t instanceof kd){const r=Xe.fromString(e,...n);return hy(r),new Yt(t,null,new se(r))}{if(!(t instanceof Yt||t instanceof Ii))throw new ne(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return hy(r),new Yt(t.firestore,t instanceof Ii?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new t2(this,"async_queue_retry"),this.Vu=()=>{const r=Dh();r&&J("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Dh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Dh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Jn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!bl(e))throw e;J("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw jr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Fm.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ue()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function gy(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Ni extends kd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new my,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new my(e),this._firestoreClient=void 0,await e}}}function cA(t,e){const n=typeof t=="object"?t:lw(),r=typeof t=="string"?t:"(default)",i=xm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Gk("firestore");s&&lA(i,...s)}return i}function Nl(t){if(t._terminated)throw new ne(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||uA(t),t._firestoreClient}function uA(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,u,f){return new VC(l,c,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,v2(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new eA(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class hA{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Io(jt.fromBase64String(e))}catch(n){throw new ne(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Io(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ne(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=/^__.*__$/;class pA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new kl(e,this.data,n,this.fieldTransforms)}}class x2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function w2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue()}}class Ad{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Ad(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ou(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(w2(this.Cu)&&fA.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class mA{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sd(e)}Qu(e,n,r,i=!1){return new Ad({Cu:e,methodName:n,qu:r,path:Rt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function E2(t){const e=t._freezeSettings(),n=Sd(t._databaseId);return new mA(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gA(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Jm("Data must be an object, but it was:",o,r);const l=T2(r,o);let c,u;if(s.merge)c=new mn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const p=Vu(e,m,n);if(!o.contains(p))throw new ne(B.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);I2(f,p)||f.push(p)}c=new mn(f),u=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,u=o.fieldTransforms;return new pA(new on(l),c,u)}class Pd extends Rd{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pd}}function vA(t,e,n){return new Ad({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Xm extends Rd{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=vA(this,e,!0),r=this.Ku.map(s=>jl(s,n)),i=new Eo(r);return new c3(e.path,i)}isEqual(e){return e instanceof Xm&&cl(this.Ku,e.Ku)}}function yA(t,e,n,r){const i=t.Qu(1,e,n);Jm("Data must be an object, but it was:",i,r);const s=[],o=on.empty();ws(r,(c,u)=>{const f=Zm(e,c,n);u=Xt(u);const m=i.Nu(f);if(u instanceof Pd)s.push(f);else{const p=jl(u,m);p!=null&&(s.push(f),o.set(f,p))}});const l=new mn(s);return new x2(o,l,i.fieldTransforms)}function _A(t,e,n,r,i,s){const o=t.Qu(1,e,n),l=[Vu(e,r,n)],c=[i];if(s.length%2!=0)throw new ne(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)l.push(Vu(e,s[p])),c.push(s[p+1]);const u=[],f=on.empty();for(let p=l.length-1;p>=0;--p)if(!I2(u,l[p])){const v=l[p];let y=c[p];y=Xt(y);const S=o.Nu(v);if(y instanceof Pd)u.push(v);else{const C=jl(y,S);C!=null&&(u.push(v),f.set(v,C))}}const m=new mn(u);return new x2(f,m,o.fieldTransforms)}function jl(t,e){if(S2(t=Xt(t)))return Jm("Unsupported field value:",e,t),T2(t,e);if(t instanceof Rd)return function(r,i){if(!w2(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let c=jl(l,i.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return o3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=me.fromDate(r);return{timestampValue:ju(i.serializer,s)}}if(r instanceof me){const s=new me(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ju(i.serializer,s)}}if(r instanceof Qm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Io)return{bytesValue:qw(i.serializer,r._byteString)};if(r instanceof Yt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Pm(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ym)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return Cm(l.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Km(r)}`)}(t,e)}function T2(t,e){const n={};return _w(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ws(t,(r,i)=>{const s=jl(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function S2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof me||t instanceof Qm||t instanceof Io||t instanceof Yt||t instanceof Rd||t instanceof Ym)}function Jm(t,e,n){if(!S2(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Km(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Vu(t,e,n){if((e=Xt(e))instanceof Cd)return e._internalPath;if(typeof e=="string")return Zm(t,e);throw Ou("Field path arguments must be of type string or ",t,!1,void 0,n)}const xA=new RegExp("[~\\*/\\[\\]]");function Zm(t,e,n){if(e.search(xA)>=0)throw Ou(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cd(...e.split("."))._internalPath}catch{throw Ou(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ou(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new ne(B.INVALID_ARGUMENT,l+t+c)}function I2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(k2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wA extends b2{data(){return super.data()}}function k2(t,e){return typeof e=="string"?Zm(t,e):e instanceof Cd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ne(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class EA{convertValue(e,n="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ue()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ws(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>at(o.doubleValue));return new Ym(s)}convertGeoPoint(e){return new Qm(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Sm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hl(e));default:return null}}convertTimestamp(e){const n=Ai(e);return new me(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Xe.fromString(e);Ae(Jw(r));const i=new fl(r.get(1),r.get(3)),s=new se(r.popFirst(5));return i.isEqual(n)||jr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(t,e,n){let r;return r=t?t.toFirestore(e):e,r}function SA(t){return new dA("avg",Vu("average",t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class R2 extends b2{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(k2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Wc extends R2{data(e={}){return super.data(e)}}class A2{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ra(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Wc(this._firestore,this._userDataWriter,r.key,r,new Ra(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new Wc(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ra(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new Wc(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ra(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:IA(l.type),doc:c,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function IA(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(t){t=vn(t,Yt);const e=vn(t.firestore,Ni);return iA(Nl(e),t._key).then(n=>L2(e,t,n))}class Nd extends EA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Io(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}function bA(t){t=vn(t,Pl);const e=vn(t.firestore,Ni),n=Nl(e),r=new Nd(e);return C2(t._query),sA(n,t._query).then(i=>new A2(e,r,t,i))}function N2(t,e,n){t=vn(t,Yt);const r=vn(t.firestore,Ni),i=TA(t.converter,e);return D2(r,[gA(E2(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,er.none())])}function j2(t,e,n,...r){t=vn(t,Yt);const i=vn(t.firestore,Ni),s=E2(i);let o;return o=typeof(e=Xt(e))=="string"||e instanceof Cd?_A(s,"updateDoc",t._key,e,n,r):yA(s,"updateDoc",t._key,e),D2(i,[o.toMutation(t._key,er.exists(!0))])}function up(t,...e){var n,r,i;t=Xt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||gy(e[o])||(s=e[o],o++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(gy(e[o])){const m=e[o];e[o]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[o+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[o+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let c,u,f;if(t instanceof Yt)u=vn(t.firestore,Ni),f=yd(t._key.path),c={next:m=>{e[o]&&e[o](L2(u,t,m))},error:e[o+1],complete:e[o+2]};else{const m=vn(t,Pl);u=vn(m.firestore,Ni),f=m._query;const p=new Nd(u);c={next:v=>{e[o]&&e[o](new A2(u,p,m,v))},error:e[o+1],complete:e[o+2]},C2(t._query)}return function(p,v,y,S){const C=new Wm(S),T=new Hm(v,C,y);return p.asyncQueue.enqueueAndForget(async()=>Um(await Mu(p),T)),()=>{C.Za(),p.asyncQueue.enqueueAndForget(async()=>Bm(await Mu(p),T))}}(Nl(u),f,l,c)}function D2(t,e){return function(r,i){const s=new Jn;return r.asyncQueue.enqueueAndForget(async()=>WR(await nA(r),i,s)),s.promise}(Nl(t),e)}function L2(t,e,n){const r=n.docs.get(e._key),i=new Nd(t);return new R2(t,i,e._key,r,new Ra(n.hasPendingWrites,n.fromCache),e.converter)}function kA(t,e){const n=vn(t.firestore,Ni),r=Nl(n),i=LC(e,(s,o)=>new v3(o,s.aggregateType,s._internalFieldPath));return oA(r,t._query,i).then(s=>function(l,c,u){const f=new Nd(l);return new hA(c,f,u)}(n,t,s))}function CA(...t){return new Xm("arrayUnion",t)}(function(e,n=!0){(function(i){jo=i})(No),vo(new ps("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Ni(new wC(r.getProvider("auth-internal")),new IC(r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ne(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fl(u.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Si(Dv,"4.7.3",e),Si(Dv,"4.7.3","esm2017")})();var RA="firebase",AA="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Si(RA,AA,"app");const PA={apiKey:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",authDomain:void 0,projectId:"cob-chatbot",storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0},NA=aw(PA),M2=cA(NA),kr=_2(M2,"users"),vy=_2(M2,"profile"),st=Kt.createContext({}),yy="/user/assets/logo-BHR7zzJX.png",jA=({children:t})=>{const[e,n]=A.useState({icon:yy,widgetIcon:yy,name:"",slogan:""}),[r,i]=A.useState([]),[s,o]=A.useState([]),[l,c]=A.useState([]),[u,f]=A.useState(!0),[m,p]=A.useState(!1),[v,y]=A.useState(!1),[S,C]=A.useState(!1),T=async()=>{try{console.time("Received bot info in"),up(br(vy,"botProfile"),L=>{var F,P,I,_,w;n({icon:(F=L.data())==null?void 0:F.interactionIconURL,widgetIcon:(P=L.data())==null?void 0:P.widgetIconUrl,name:(I=L.data())==null?void 0:I.botName,slogan:(_=L.data())==null?void 0:_.metadata.slogan,initialGreet:` Hello there! My name is ${(w=L.data())==null?void 0:w.botName}, your friendly chatbot assistant. Welcome to our conversation! Whether you're here for assistance or information I'm here to help. Feel free to ask me anything or simply say hi.`,errorMessage:"Sorry, I can't seem to understand what your saying. Could you please try it again?"})})}catch(L){console.log(L)}finally{console.timeEnd("Received bot info in")}},x=async()=>{try{console.time("Received suggested queries"),up(br(vy,"queries"),L=>{var F,P;L.exists()&&(o((F=L.data())==null?void 0:F.menuAccessQuery),c((P=L.data())==null?void 0:P.quickAccessQuery))}),console.timeEnd("Received suggested queries")}catch(L){console.log(L)}};A.useEffect(()=>{f(navigator.onLine),T(),x()},[]),window.addEventListener("online",()=>{f(!0)}),window.addEventListener("offline",()=>{f(!1)});const b=A.useMemo(()=>({configuration:{configuration:e,setConfiguration:n},conversation:{conversation:r,setConversation:i},menuAccessQuery:{menuAccessQueries:s,setMenuAccessQueries:o},quickAccessQuery:{quickAccessQueries:l,setQuickAccessQueries:c},error:{error:m,setError:p},isOnline:{isOnline:u,setOnline:f},isTyping:{isBotTyping:v,setIsBotTyping:y},isChatPaused:{isChatPaused:S,setIsChatPaused:C}}),[e,r,s,l,m,u,v,S]);return d.jsx(st.Provider,{value:b,children:t})};function eg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function V2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DA=V2,O2=new Tl("auth","Firebase",V2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=new ym("@firebase/auth");function LA(t,...e){Fu.logLevel<=Ee.WARN&&Fu.warn(`Auth (${No}): ${t}`,...e)}function Gc(t,...e){Fu.logLevel<=Ee.ERROR&&Fu.error(`Auth (${No}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(t,...e){throw tg(t,...e)}function nr(t,...e){return tg(t,...e)}function F2(t,e,n){const r=Object.assign(Object.assign({},DA()),{[e]:n});return new Tl("auth","Firebase",r).create(e,{appName:t.name})}function bi(t){return F2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return O2.create(t,...e)}function ce(t,e,...n){if(!t)throw tg(e,...n)}function wr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gc(e),new Error(e)}function Mr(t,e){t||wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function MA(){return _y()==="http:"||_y()==="https:"}function _y(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MA()||Zk()||"connection"in navigator)?navigator.onLine:!0}function OA(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mr(n>e,"Short delay should be less than long delay!"),this.isMobile=Yk()||e4()}get(){return VA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(t,e){Mr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=new Dl(3e4,6e4);function jd(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Mo(t,e,n,r,i={}){return U2(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=Sl(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},s);return Jk()||(u.referrerPolicy="no-referrer"),z2.fetch()($2(t,t.config.apiHost,n,l),u)})}async function U2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},FA),e);try{const i=new UA(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw bc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw bc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw bc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw bc(t,"user-disabled",o);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw F2(t,f,u);Lr(t,f)}}catch(i){if(i instanceof Or)throw i;Lr(t,"network-request-failed",{message:String(i)})}}async function B2(t,e,n,r,i={}){const s=await Mo(t,e,n,r,i);return"mfaPendingCredential"in s&&Lr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function $2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ng(t.config,i):`${t.config.apiScheme}://${i}`}class UA{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(nr(this.auth,"network-request-failed")),zA.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=nr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BA(t,e){return Mo(t,"POST","/v1/accounts:delete",e)}async function H2(t,e){return Mo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $A(t,e=!1){const n=Xt(t),r=await n.getIdToken(e),i=rg(r);ce(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:$a(Mh(i.auth_time)),issuedAtTime:$a(Mh(i.iat)),expirationTime:$a(Mh(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Mh(t){return Number(t)*1e3}function rg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{const i=tw(n);return i?JSON.parse(i):(Gc("Failed to decode base64 JWT payload"),null)}catch(i){return Gc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function xy(t){const e=rg(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Or&&HA(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function HA({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$a(this.lastLoginAt),this.creationTime=$a(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await gl(t,H2(n,{idToken:r}));ce(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?q2(s.providerUserInfo):[],l=GA(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),f=c?u:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new hp(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function WA(t){const e=Xt(t);await zu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GA(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function q2(t){return t.map(e=>{var{providerId:n}=e,r=eg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KA(t,e){const n=await U2(t,{},async()=>{const r=Sl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=$2(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",z2.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function QA(t,e){return Mo(t,"POST","/v2/accounts:revokeToken",jd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ce(e.length!==0,"internal-error");const n=xy(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await KA(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new io;return r&&(ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ce(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ce(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Er{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=eg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new hp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await gl(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $A(this,e)}reload(){return WA(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Er(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xr(this.auth.app))return Promise.reject(bi(this.auth));const e=await this.getIdToken();return await gl(this,BA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,c,u,f;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(l=n.tenantId)!==null&&l!==void 0?l:void 0,C=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,T=(u=n.createdAt)!==null&&u!==void 0?u:void 0,x=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:b,emailVerified:L,isAnonymous:F,providerData:P,stsTokenManager:I}=n;ce(b&&I,e,"internal-error");const _=io.fromJSON(this.name,I);ce(typeof b=="string",e,"internal-error"),Kr(m,e.name),Kr(p,e.name),ce(typeof L=="boolean",e,"internal-error"),ce(typeof F=="boolean",e,"internal-error"),Kr(v,e.name),Kr(y,e.name),Kr(S,e.name),Kr(C,e.name),Kr(T,e.name),Kr(x,e.name);const w=new Er({uid:b,auth:e,email:p,emailVerified:L,displayName:m,isAnonymous:F,photoURL:y,phoneNumber:v,tenantId:S,stsTokenManager:_,createdAt:T,lastLoginAt:x});return P&&Array.isArray(P)&&(w.providerData=P.map(k=>Object.assign({},k))),C&&(w._redirectEventId=C),w}static async _fromIdTokenResponse(e,n,r=!1){const i=new io;i.updateFromServerResponse(n);const s=new Er({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await zu(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ce(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?q2(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new io;l.updateFromIdToken(r);const c=new Er({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new hp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy=new Map;function Tr(t){Mr(t instanceof Function,"Expected a class definition");let e=wy.get(t);return e?(Mr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}W2.type="NONE";const Ey=W2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(t,e,n){return`firebase:${t}:${e}:${n}`}class so{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Kc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Kc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Er._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new so(Tr(Ey),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Tr(Ey);const o=Kc(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const f=await u._get(o);if(f){const m=Er._fromJSON(e,f);u!==s&&(l=m),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new so(s,e,r):(s=c[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new so(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Y2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(G2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(J2(e))return"Blackberry";if(Z2(e))return"Webos";if(K2(e))return"Safari";if((e.includes("chrome/")||Q2(e))&&!e.includes("edge/"))return"Chrome";if(X2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function G2(t=Ht()){return/firefox\//i.test(t)}function K2(t=Ht()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Q2(t=Ht()){return/crios\//i.test(t)}function Y2(t=Ht()){return/iemobile/i.test(t)}function X2(t=Ht()){return/android/i.test(t)}function J2(t=Ht()){return/blackberry/i.test(t)}function Z2(t=Ht()){return/webos/i.test(t)}function ig(t=Ht()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function YA(t=Ht()){var e;return ig(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function XA(){return t4()&&document.documentMode===10}function eE(t=Ht()){return ig(t)||X2(t)||Z2(t)||J2(t)||/windows phone/i.test(t)||Y2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(t,e=[]){let n;switch(t){case"Browser":n=Ty(Ht());break;case"Worker":n=`${Ty(Ht())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${No}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const c=e(s);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZA(t,e={}){return Mo(t,"GET","/v2/passwordPolicy",jd(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=6;class tP{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:eP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sy(this),this.idTokenSubscription=new Sy(this),this.beforeStateQueue=new JA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=O2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Tr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await so.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await H2(this,{idToken:e}),r=await Er._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(xr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xr(this.app))return Promise.reject(bi(this));const n=e?Xt(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xr(this.app)?Promise.reject(bi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xr(this.app)?Promise.reject(bi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZA(this),n=new tP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Tl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await QA(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Tr(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[Tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&LA(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Dd(t){return Xt(t)}class Sy{constructor(e){this.auth=e,this.observer=null,this.addObserver=c4(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rP(t){sg=t}function iP(t){return sg.loadJS(t)}function sP(){return sg.gapiScript}function oP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(t,e){const n=xm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(cl(s,e??{}))return i;Lr(i,"already-initialized")}return n.initialize({options:e})}function lP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Tr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function cP(t,e,n){const r=Dd(t);ce(r._canInitEmulator,r,"emulator-config-failed"),ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=nE(e),{host:o,port:l}=uP(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),dP()}function nE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uP(t){const e=nE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Iy(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Iy(o)}}}function Iy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function dP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wr("not implemented")}_getIdTokenResponse(e){return wr("not implemented")}_linkToIdToken(e,n){return wr("not implemented")}_getReauthenticationResolver(e){return wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(t,e){return B2(t,"POST","/v1/accounts:signInWithIdp",jd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP="http://localhost";class ys extends rE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Lr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=eg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ys(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return oo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,oo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oo(e,n)}buildRequest(){const e={requestUri:hP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Sl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends iE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends Ll{constructor(){super("facebook.com")}static credential(e){return ys._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends Ll{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ys._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ai.credential(n,r)}catch{return null}}}ai.GOOGLE_SIGN_IN_METHOD="google.com";ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends Ll{constructor(){super("github.com")}static credential(e){return ys._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.GITHUB_SIGN_IN_METHOD="github.com";li.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Ll{constructor(){super("twitter.com")}static credential(e,n){return ys._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ci.credential(n,r)}catch{return null}}}ci.TWITTER_SIGN_IN_METHOD="twitter.com";ci.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP(t,e){return B2(t,"POST","/v1/accounts:signUp",jd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Er._fromIdTokenResponse(e,r,i),o=by(r);return new ji({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=by(r);return new ji({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function by(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pP(t){var e;if(xr(t.app))return Promise.reject(bi(t));const n=Dd(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new ji({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await fP(n,{returnSecureToken:!0}),i=await ji._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends Or{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Uu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Uu(e,n,r,i)}}function sE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Uu._fromErrorAndOperation(t,s,e,r):s})}async function mP(t,e,n=!1){const r=await gl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ji._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gP(t,e,n=!1){const{auth:r}=t;if(xr(r.app))return Promise.reject(bi(r));const i="reauthenticate";try{const s=await gl(t,sE(r,i,e,t),n);ce(s.idToken,r,"internal-error");const o=rg(s.idToken);ce(o,r,"internal-error");const{sub:l}=o;return ce(t.uid===l,r,"user-mismatch"),ji._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Lr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vP(t,e,n=!1){if(xr(t.app))return Promise.reject(bi(t));const r="signIn",i=await sE(t,r,e),s=await ji._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function yP(t,e,n,r){return Xt(t).onIdTokenChanged(e,n,r)}function _P(t,e,n){return Xt(t).beforeAuthStateChanged(e,n)}const Bu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bu,"1"),this.storage.removeItem(Bu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=1e3,wP=10;class aE extends oE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);XA()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,wP):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},xP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}aE.type="LOCAL";const EP=aE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE extends oE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}lE.type="SESSION";const cE=lE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ld(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async u=>u(n.origin,s)),c=await TP(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ld.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,c)=>{const u=og("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const p=m;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(p.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(){return window}function IP(t){rr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(){return typeof rr().WorkerGlobalScope<"u"&&typeof rr().importScripts=="function"}async function bP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function CP(){return uE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="firebaseLocalStorageDb",RP=1,$u="firebaseLocalStorage",hE="fbase_key";class Ml{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Md(t,e){return t.transaction([$u],e?"readwrite":"readonly").objectStore($u)}function AP(){const t=indexedDB.deleteDatabase(dE);return new Ml(t).toPromise()}function fp(){const t=indexedDB.open(dE,RP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($u,{keyPath:hE})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($u)?e(r):(r.close(),await AP(),e(await fp()))})})}async function ky(t,e,n){const r=Md(t,!0).put({[hE]:e,value:n});return new Ml(r).toPromise()}async function PP(t,e){const n=Md(t,!1).get(e),r=await new Ml(n).toPromise();return r===void 0?null:r.value}function Cy(t,e){const n=Md(t,!0).delete(e);return new Ml(n).toPromise()}const NP=800,jP=3;class fE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>jP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ld._getInstance(CP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await bP(),!this.activeServiceWorker)return;this.sender=new SP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fp();return await ky(e,Bu,"1"),await Cy(e,Bu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ky(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>PP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Cy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Md(i,!1).getAll();return new Ml(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fE.type="LOCAL";const DP=fE;new Dl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(t,e){return e?Tr(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag extends rE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function MP(t){return vP(t.auth,new ag(t),t.bypassAuthState)}function VP(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),gP(n,new ag(t),t.bypassAuthState)}async function OP(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),mP(n,new ag(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MP;case"linkViaPopup":case"linkViaRedirect":return OP;case"reauthViaPopup":case"reauthViaRedirect":return VP;default:Lr(this.auth,"internal-error")}}resolve(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=new Dl(2e3,1e4);class Ys extends pE{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ys.currentPopupAction&&Ys.currentPopupAction.cancel(),Ys.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){Mr(this.filter.length===1,"Popup operations only handle one event");const e=og();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ys.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FP.get())};e()}}Ys.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP="pendingRedirect",Qc=new Map;class UP extends pE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Qc.get(this.auth._key());if(!e){try{const r=await BP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qc.set(this.auth._key(),e)}return this.bypassAuthState||Qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BP(t,e){const n=qP(e),r=HP(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function $P(t,e){Qc.set(t._key(),e)}function HP(t){return Tr(t._redirectPersistence)}function qP(t){return Kc(zP,t.config.apiKey,t.name)}async function WP(t,e,n=!1){if(xr(t.app))return Promise.reject(bi(t));const r=Dd(t),i=LP(r,e),o=await new UP(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP=10*60*1e3;class KP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!mE(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(nr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ry(e))}saveEventToCache(e){this.cachedEventUids.add(Ry(e)),this.lastProcessedEventTime=Date.now()}}function Ry(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function QP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YP(t,e={}){return Mo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JP=/^https?/;async function ZP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await YP(t);for(const n of e)try{if(e5(n))return}catch{}Lr(t,"unauthorized-domain")}function e5(t){const e=dp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!JP.test(n))return!1;if(XP.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5=new Dl(3e4,6e4);function Ay(){const t=rr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function n5(t){return new Promise((e,n)=>{var r,i,s;function o(){Ay(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ay(),n(nr(t,"network-request-failed"))},timeout:t5.get()})}if(!((i=(r=rr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=rr().gapi)===null||s===void 0)&&s.load)o();else{const l=oP("iframefcb");return rr()[l]=()=>{gapi.load?o():n(nr(t,"network-request-failed"))},iP(`${sP()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Yc=null,e})}let Yc=null;function r5(t){return Yc=Yc||n5(t),Yc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5=new Dl(5e3,15e3),s5="__/auth/iframe",o5="emulator/auth/iframe",a5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},l5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function c5(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ng(e,o5):`https://${t.config.authDomain}/${s5}`,r={apiKey:e.apiKey,appName:t.name,v:No},i=l5.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Sl(r).slice(1)}`}async function u5(t){const e=await r5(t),n=rr().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:c5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:a5,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=nr(t,"network-request-failed"),l=rr().setTimeout(()=>{s(o)},i5.get());function c(){rr().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},h5=500,f5=600,p5="_blank",m5="http://localhost";class Py{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function g5(t,e,n,r=h5,i=f5){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},d5),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ht().toLowerCase();n&&(l=Q2(u)?p5:n),G2(u)&&(e=e||m5,c.scrollbars="yes");const f=Object.entries(c).reduce((p,[v,y])=>`${p}${v}=${y},`,"");if(YA(u)&&l!=="_self")return v5(e||"",l),new Py(null);const m=window.open(e||"",l,f);ce(m,t,"popup-blocked");try{m.focus()}catch{}return new Py(m)}function v5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5="__/auth/handler",_5="emulator/auth/handler",x5=encodeURIComponent("fac");async function Ny(t,e,n,r,i,s){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:No,eventId:i};if(e instanceof iE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",l4(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))o[f]=m}if(e instanceof Ll){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await t._getAppCheckToken(),u=c?`#${x5}=${encodeURIComponent(c)}`:"";return`${w5(t)}?${Sl(l).slice(1)}${u}`}function w5({config:t}){return t.emulator?ng(t,_5):`https://${t.authDomain}/${y5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh="webStorageSupport";class E5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cE,this._completeRedirectFn=WP,this._overrideRedirectResult=$P}async _openPopup(e,n,r,i){var s;Mr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Ny(e,n,r,dp(),i);return g5(e,o,og())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Ny(e,n,r,dp(),i);return IP(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Mr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await u5(e),r=new KP(e);return n.register("authEvent",i=>(ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vh,{type:Vh},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Vh];o!==void 0&&n(!!o),Lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return eE()||K2()||ig()}}const T5=E5;var jy="@firebase/auth",Dy="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function b5(t){vo(new ps("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ce(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tE(t)},u=new nP(r,i,s,c);return lP(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vo(new ps("auth-internal",e=>{const n=Dd(e.getProvider("auth").getImmediate());return(r=>new S5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Si(jy,Dy,I5(t)),Si(jy,Dy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5=5*60,C5=iw("authIdTokenMaxAge")||k5;let Ly=null;const R5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>C5)return;const i=n==null?void 0:n.token;Ly!==i&&(Ly=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function A5(t=lw()){const e=xm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=aP(t,{popupRedirectResolver:T5,persistence:[DP,EP,cE]}),r=iw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=R5(s.toString());_P(n,o,()=>o(n.currentUser)),yP(n,l=>o(l))}}const i=nw("auth");return i&&cP(n,`http://${i}`),n}function P5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}rP({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=nr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",P5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});b5("Browser");const Vd=Kt.createContext({}),N5=()=>{const t=localStorage.getItem("isSignedIn");return t||!1},j5=({children:t})=>{const[e,n]=A.useState(N5),r=A5();pP(r),A.useEffect(()=>{localStorage.setItem("isSignedIn",e.toString())},[e]);const i=A.useMemo(()=>({user:{isSignedIn:e,setIsSignedIn:n}}),[e]);return d.jsx(Vd.Provider,{value:i,children:t})},lg=Kt.createContext({}),Ft={Light:{name:"light"},Dark:{name:"dark"},System:{name:"system"}},D5=()=>{const t=localStorage.getItem("theme");return t||"system"},L5=({children:t})=>{const[e,n]=A.useState(D5),r=()=>{n(e==="system"?matchMedia("(prefers-color-scheme: light)").matches?"dark":"light":e==="light"?"dark":"light")},i=o=>{switch(o){case Ft.Light.name:n(o);break;case Ft.Dark.name:n(o);break;case Ft.System.name:n(o)}};A.useEffect(()=>{switch(e){case Ft.Light.name:localStorage.setItem("theme",e),document.documentElement.classList.add(Ft.Light.name),document.documentElement.classList.remove(Ft.Dark.name);break;case Ft.Dark.name:localStorage.setItem("theme",e),document.documentElement.classList.add(Ft.Dark.name),document.documentElement.classList.remove(Ft.Light.name);break;case Ft.System.name:matchMedia("(prefers-color-scheme: light)").matches?(localStorage.setItem("theme",Ft.System.name),document.documentElement.classList.add(Ft.Light.name),document.documentElement.classList.remove(Ft.Dark.name)):(localStorage.setItem("theme",Ft.System.name),document.documentElement.classList.add(Ft.Dark.name),document.documentElement.classList.remove(Ft.Light.name));break}},[e]);const s=A.useMemo(()=>({default:{resolvedTheme:e,setTheme:n},toggleTheme:r,changeTheme:i}),[e,n]);return d.jsx(lg.Provider,{value:s,children:t})},Fr=Kt.createContext({}),M5=()=>{const t=parseInt(localStorage.getItem("chatHeadSize")||"");return t||200},V5=({children:t})=>{const[e,n]=A.useState(!1),[r,i]=A.useState(!1),[s,o]=A.useState(M5),l=A.useRef(null),c=A.useRef(null),u=m=>{switch(m){case 100:o(m);break;case 200:o(m);break;case 300:o(m);break}};A.useEffect(()=>{localStorage.setItem("chatHeadSize",s.toString())},[s]),A.useEffect(()=>{const m=({target:v})=>{var y,S;!((y=l.current)!=null&&y.contains(v))&&!((S=c.current)!=null&&S.contains(v))&&n(!1)};document.addEventListener("mousedown",m);const p=v=>{v.key.toLowerCase()==="escape"&&(i(!1),n(!1))};return document.addEventListener("keyup",p),()=>{document.removeEventListener("mousedown",m),document.removeEventListener("keyup",p)}},[l]);const f=A.useMemo(()=>({active:{isChatActive:e,setIsChatActive:n},settings:{isSettingsActive:r,setIsSettingsActive:i},chatHeadSize:{chatHeadSize:s,setChatHeadSize:o},changeChatHeadSize:u,icon:l,ratingBoxRef:c}),[e,s,r]);return d.jsx(Fr.Provider,{value:f,children:t})},gE="/user",Hu={name:"Vivienne",slogan:"Tanong mo, sagot ko, dahil at home ka dito!",introduction:"The interactive chatbot for the city of Bacoor, Cavite.",about:"Our capstone project that uses Natural Language Processing (NLP) to deliver smooth experience for the users. The bot is temporarily being hosted by the dummy website we created based on the official website of the Bacoor City Hall. We really hope you have enjoyed using our app! "};function vE(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=vE(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function O5(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=vE(t))&&(r&&(r+=" "),r+=e);return r}const cg="-",F5=t=>{const e=U5(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(cg);return l[0]===""&&l.length!==1&&l.shift(),yE(l,e)||z5(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},yE=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?yE(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(cg);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},My=/^\[(.+)\]$/,z5=t=>{if(My.test(t)){const e=My.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},U5=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return $5(Object.entries(t.classGroups),n).forEach(([s,o])=>{pp(o,r,s,e)}),r},pp=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Vy(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(B5(i)){pp(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{pp(o,Vy(e,s),n,r)})})},Vy=(t,e)=>{let n=t;return e.split(cg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},B5=t=>t.isThemeGetter,$5=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[n,i]}):t,H5=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},_E="!",q5=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=l=>{const c=[];let u=0,f=0,m;for(let C=0;C<l.length;C++){let T=l[C];if(u===0){if(T===i&&(r||l.slice(C,C+s)===e)){c.push(l.slice(f,C)),f=C+s;continue}if(T==="/"){m=C;continue}}T==="["?u++:T==="]"&&u--}const p=c.length===0?l:l.substring(f),v=p.startsWith(_E),y=v?p.substring(1):p,S=m&&m>f?m-f:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:S}};return n?l=>n({className:l,parseClassName:o}):o},W5=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},G5=t=>({cache:H5(t.cacheSize),parseClassName:q5(t),...F5(t)}),K5=/\s+/,Q5=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(K5);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:f,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:v}=n(u);let y=!!v,S=r(y?p.substring(0,v):p);if(!S){if(!y){l=u+(l.length>0?" "+l:l);continue}if(S=r(p),!S){l=u+(l.length>0?" "+l:l);continue}y=!1}const C=W5(f).join(":"),T=m?C+_E:C,x=T+S;if(s.includes(x))continue;s.push(x);const b=i(S,y);for(let L=0;L<b.length;++L){const F=b[L];s.push(T+F)}l=u+(l.length>0?" "+l:l)}return l};function Y5(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=xE(e))&&(r&&(r+=" "),r+=n);return r}const xE=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=xE(t[r]))&&(n&&(n+=" "),n+=e);return n};function X5(t,...e){let n,r,i,s=o;function o(c){const u=e.reduce((f,m)=>m(f),t());return n=G5(u),r=n.cache.get,i=n.cache.set,s=l,l(c)}function l(c){const u=r(c);if(u)return u;const f=Q5(c,n);return i(c,f),f}return function(){return s(Y5.apply(null,arguments))}}const He=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},wE=/^\[(?:([a-z-]+):)?(.+)\]$/i,J5=/^\d+\/\d+$/,Z5=new Set(["px","full","screen"]),eN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,rN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,iN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pr=t=>ao(t)||Z5.has(t)||J5.test(t),Qr=t=>Vo(t,"length",hN),ao=t=>!!t&&!Number.isNaN(Number(t)),Oh=t=>Vo(t,"number",ao),fa=t=>!!t&&Number.isInteger(Number(t)),sN=t=>t.endsWith("%")&&ao(t.slice(0,-1)),pe=t=>wE.test(t),Yr=t=>eN.test(t),oN=new Set(["length","size","percentage"]),aN=t=>Vo(t,oN,EE),lN=t=>Vo(t,"position",EE),cN=new Set(["image","url"]),uN=t=>Vo(t,cN,pN),dN=t=>Vo(t,"",fN),pa=()=>!0,Vo=(t,e,n)=>{const r=wE.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},hN=t=>tN.test(t)&&!nN.test(t),EE=()=>!1,fN=t=>rN.test(t),pN=t=>iN.test(t),mN=()=>{const t=He("colors"),e=He("spacing"),n=He("blur"),r=He("brightness"),i=He("borderColor"),s=He("borderRadius"),o=He("borderSpacing"),l=He("borderWidth"),c=He("contrast"),u=He("grayscale"),f=He("hueRotate"),m=He("invert"),p=He("gap"),v=He("gradientColorStops"),y=He("gradientColorStopPositions"),S=He("inset"),C=He("margin"),T=He("opacity"),x=He("padding"),b=He("saturate"),L=He("scale"),F=He("sepia"),P=He("skew"),I=He("space"),_=He("translate"),w=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",pe,e],j=()=>[pe,e],R=()=>["",pr,Qr],ie=()=>["auto",ao,pe],Pe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ot=()=>["solid","dashed","dotted","double","none"],ke=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",pe],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],fe=()=>[ao,pe];return{cacheSize:500,separator:":",theme:{colors:[pa],spacing:[pr,Qr],blur:["none","",Yr,pe],brightness:fe(),borderColor:[t],borderRadius:["none","","full",Yr,pe],borderSpacing:j(),borderWidth:R(),contrast:fe(),grayscale:Z(),hueRotate:fe(),invert:Z(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[sN,Qr],inset:N(),margin:N(),opacity:fe(),padding:j(),saturate:fe(),scale:fe(),sepia:Z(),skew:fe(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",pe]}],container:["container"],columns:[{columns:[Yr]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Pe(),pe]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:w()}],"overscroll-x":[{"overscroll-x":w()}],"overscroll-y":[{"overscroll-y":w()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fa,pe]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pe]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",fa,pe]}],"grid-cols":[{"grid-cols":[pa]}],"col-start-end":[{col:["auto",{span:["full",fa,pe]},pe]}],"col-start":[{"col-start":ie()}],"col-end":[{"col-end":ie()}],"grid-rows":[{"grid-rows":[pa]}],"row-start-end":[{row:["auto",{span:[fa,pe]},pe]}],"row-start":[{"row-start":ie()}],"row-end":[{"row-end":ie()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pe,e]}],"min-w":[{"min-w":[pe,e,"min","max","fit"]}],"max-w":[{"max-w":[pe,e,"none","full","min","max","fit","prose",{screen:[Yr]},Yr]}],h:[{h:[pe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Yr,Qr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Oh]}],"font-family":[{font:[pa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pe]}],"line-clamp":[{"line-clamp":["none",ao,Oh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pr,pe]}],"list-image":[{"list-image":["none",pe]}],"list-style-type":[{list:["none","disc","decimal",pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ot(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",pr,Qr]}],"underline-offset":[{"underline-offset":["auto",pr,pe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Pe(),lN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",aN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},uN]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...ot(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:ot()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ot()]}],"outline-offset":[{"outline-offset":[pr,pe]}],"outline-w":[{outline:[pr,Qr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[pr,Qr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Yr,dN]}],"shadow-color":[{shadow:[pa]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...ke(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ke()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Yr,pe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[m]}],saturate:[{saturate:[b]}],sepia:[{sepia:[F]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pe]}],duration:[{duration:fe()}],ease:[{ease:["linear","in","out","in-out",pe]}],delay:[{delay:fe()}],animate:[{animate:["none","spin","ping","pulse","bounce",pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[L]}],"scale-x":[{"scale-x":[L]}],"scale-y":[{"scale-y":[L]}],rotate:[{rotate:[fa,pe]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[pr,Qr,Oh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},gN=X5(mN);function vl(...t){return gN(O5(t))}function TE(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=TE(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function vN(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=TE(t))&&(r&&(r+=" "),r+=e);return r}const Oy=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,Fy=vN,Vl=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Fy(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const f=n==null?void 0:n[u],m=s==null?void 0:s[u];if(f===null)return null;const p=Oy(f)||Oy(m);return i[u][p]}),l=n&&Object.entries(n).reduce((u,f)=>{let[m,p]=f;return p===void 0||(u[m]=p),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:m,className:p,...v}=f;return Object.entries(v).every(y=>{let[S,C]=y;return Array.isArray(C)?C.includes({...s,...l}[S]):{...s,...l}[S]===C})?[...u,m,p]:u},[]);return Fy(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},SE=Vl("w-full h-full select-none",{variants:{variant:{default:"border dark:border-dm-surface-light bg-surface dark:bg-dm-surface",icon:"text-2xl rounded-full p-3 flex justify-center items-center",outline:"px-4 py-3 border border-primary rounded-full capitalize",cta:"px-8 py-4 capitalize rounded-full",destructive:"px-8 py-4 bg-error hover:bg-error/80 rounded-full capitalize",destructiveOutline:"px-4 py-3 border text-error dark:text-error border-error hover:text-white dark:hover:text-white bg-inherit dark:bg-inherit hover:bg-error dark:hover:bg-error rounded-full capitalize",radio:"bg-surface has-[input]:hover:bg-primary [&>label]:hover:text-white has-[input]:dark:hover:bg-primary dark:bg-dm-surface [&>label]:dark:text-white has-[:checked]:bg-primary has-[:checked]:dark:bg-primary has-[:checked]:hover:bg-primary-dark has-[:checked]:text-white shadow-md px-4 py-3 flex justify-center items-center rounded-3xl",settings:"flex rounded-lg text-left font-helvetica-bold hover:bg-gray-300 dark:hover:bg-dm-surface [&>span]:text-black/60 [&>span]:dark:text-white/60 [&>span]:has-[:checked]:text-white [&>span]:has-[:checked]:dark:text-white [&>div>svg>path]:text-black/60 [&>div>svg>path]:dark:text-white/60 [&>div>svg>path]:has-[:checked]:text-white [&>div>svg>path]:has-[:checked]:dark:text-white [&>div>svg>circle]:text-black/60 [&>div>svg>circle]:dark:text-white/60 [&>div>svg>circle]:has-[:checked]:text-white [&>div>svg>circle]:has-[:checked]:dark:text-white has-[:checked]:bg-primary has-[:checked]:hover:bg-primary has-[:checked]:dark:hover:bg-primary capitalize px-3 xs:px-4 py-3 cursor-pointer truncate",empty:""},size:{default:"w-max h-max",sm:"max-w-[30px]",md:"max-w-[100px] max-h-[40px]",lg:"max-w-[150px] max-h-[60px]",xl:"max-w-[200px] max-h-[80px]",icon:"max-w-[50px] max-h-[50px]",full:"w-full h-full"}},defaultVariants:{variant:"default",size:"default"}}),je=A.forwardRef(({className:t,size:e,variant:n,...r},i)=>d.jsx("button",{ref:i,className:vl(SE({className:t,variant:n,size:e})),...r}));var IE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},zy=Kt.createContext&&Kt.createContext(IE),yN=["attr","size","title"];function _N(t,e){if(t==null)return{};var n=xN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xN(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qu(){return qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qu.apply(this,arguments)}function Uy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uy(Object(n),!0).forEach(function(r){wN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wN(t,e,n){return e=EN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EN(t){var e=TN(t,"string");return typeof e=="symbol"?e:e+""}function TN(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bE(t){return t&&t.map((e,n)=>Kt.createElement(e.tag,Wu({key:n},e.attr),bE(e.child)))}function le(t){return e=>Kt.createElement(SN,qu({attr:Wu({},t.attr)},e),bE(t.child))}function SN(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=_N(t,yN),l=i||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),Kt.createElement("svg",qu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:c,style:Wu(Wu({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&Kt.createElement("title",null,s),t.children)};return zy!==void 0?Kt.createElement(zy.Consumer,null,n=>e(n)):e(IE)}function IN(t){return le({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 3H5a2 2 0 0 0-2 2v3"},child:[]},{tag:"path",attr:{d:"M21 8V5a2 2 0 0 0-2-2h-3"},child:[]},{tag:"path",attr:{d:"M3 16v3a2 2 0 0 0 2 2h3"},child:[]},{tag:"path",attr:{d:"M16 21h3a2 2 0 0 0 2-2v-3"},child:[]}]})(t)}function ug(t){return le({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",x2:"20",y1:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"4",x2:"20",y1:"6",y2:"6"},child:[]},{tag:"line",attr:{x1:"4",x2:"20",y1:"18",y2:"18"},child:[]}]})(t)}function bN(t){return le({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 3v3a2 2 0 0 1-2 2H3"},child:[]},{tag:"path",attr:{d:"M21 8h-3a2 2 0 0 1-2-2V3"},child:[]},{tag:"path",attr:{d:"M3 16h3a2 2 0 0 1 2 2v3"},child:[]},{tag:"path",attr:{d:"M16 21v-3a2 2 0 0 1 2-2h3"},child:[]}]})(t)}function kN(t){return le({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"20",height:"14",x:"2",y:"3",rx:"2"},child:[]},{tag:"line",attr:{x1:"8",x2:"16",y1:"21",y2:"21"},child:[]},{tag:"line",attr:{x1:"12",x2:"12",y1:"17",y2:"21"},child:[]}]})(t)}function CN(t){return le({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"},child:[]}]})(t)}function RN(t){return le({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"4"},child:[]},{tag:"path",attr:{d:"M12 2v2"},child:[]},{tag:"path",attr:{d:"M12 20v2"},child:[]},{tag:"path",attr:{d:"m4.93 4.93 1.41 1.41"},child:[]},{tag:"path",attr:{d:"m17.66 17.66 1.41 1.41"},child:[]},{tag:"path",attr:{d:"M2 12h2"},child:[]},{tag:"path",attr:{d:"M20 12h2"},child:[]},{tag:"path",attr:{d:"m6.34 17.66-1.41 1.41"},child:[]},{tag:"path",attr:{d:"m19.07 4.93-1.41 1.41"},child:[]}]})(t)}const kE=()=>{const t=A.useContext(st),{configuration:e}=t.configuration,n=A.useContext(lg),{resolvedTheme:r}=n.default,i=()=>r==="system"?d.jsx(kN,{}):r==="light"?d.jsx(CN,{}):d.jsx(RN,{});return d.jsxs("header",{className:"fixed top-0 left-[50%] -translate-x-[50%] container w-full h-[70px] px-[4vw] md:px-[2vw] lg:px-[4vw] flex items-center justify-between z-30",children:[d.jsx(pd,{to:"/",className:"hidden lg:block text-2xl dark:text-white bg-surface/30 dark:bg-dm-surface/50 rounded-lg p-2 backdrop-blur-sm sm:bg-transparent sm:dark:bg-transparent sm:rounded-none sm:p-0 sm:backdrop-blur-none",children:e.name}),d.jsx(je,{onClick:n.toggleTheme,variant:"icon",size:"icon",className:"bg-surface/30 dark:bg-dm-surface/50 backdrop-blur-sm sm:bg-transparent sm:dark:bg-transparent sm:backdrop-blur-none hover:bg-surface dark:hover:bg-dm-surface [&>svg>path]:dark:text-white [&>svg>circle]:dark:text-white [&>svg>rect]:dark:text-white [&>svg>line]:dark:text-white ml-auto",children:i()})]})},AN="cob-chatbot",PN="3.4.0",NN="module",jN="pnpm@9.9.0",DN={build:"tsc -b && vite build",dev:"vite",lint:"eslint .",preview:"vite preview",prepare:"husky","pre-commit":"lint-staged",pretty:"prettier . --write",release:"release-it","release-patch":"release-it patch","release-minor":"release-it minor","release-major":"release-it major"},LN={"class-variance-authority":"^0.7.0",clsx:"^2.1.1",firebase:"^10.14.1","markdown-to-jsx":"^7.7.0",react:"^18.3.1","react-dom":"^18.3.1","react-icons":"^5.3.0","react-router":"^6.27.0","react-router-dom":"^6.27.0","react-textarea-autosize":"^8.5.4","tailwind-merge":"^2.5.3"},MN={"@commitlint/cli":"^19.5.0","@commitlint/config-conventional":"^19.5.0","@eslint/compat":"^1.2.0","@eslint/eslintrc":"^3.1.0","@eslint/js":"^9.12.0","@release-it/conventional-changelog":"^8.0.2","@types/react":"^18.3.11","@types/react-dom":"^18.3.1","@types/uuid":"^10.0.0","@vitejs/plugin-react-swc":"^3.7.1",autoprefixer:"^10.4.20",eslint:"^9.12.0","eslint-plugin-react":"^7.37.1","eslint-plugin-react-hooks":"^4.6.2","eslint-plugin-react-refresh":"^0.4.12","eslint-transforms":"^3.0.0","firebase-admin":"^12.6.0",globals:"^15.11.0",husky:"^9.1.6","lint-staged":"^15.2.10",postcss:"^8.4.47",prettier:"3.3.3","release-it":"^17.8.2","tailwind-scrollbar":"^3.1.0",tailwindcss:"^3.4.13",turbo:"^2.1.3",typescript:"^5.5.4","typescript-eslint":"^8.8.1",uuid:"^10.0.0",vite:"^5.4.12","vite-plugin-pwa":"^0.20.5"},VN={name:AN,version:PN,private:!0,type:NN,packageManager:jN,scripts:DN,dependencies:LN,devDependencies:MN,"lint-staged":{"*.{ts,js,tsx,json,css,html}":"prettier --write","*.{ts,js}":["prettier --write","eslint"]}},CE=({className:t,text:e})=>d.jsxs("div",{className:`${t}`,children:[e,VN.version]}),dg=({className:t,children:e})=>d.jsx("div",{className:`${t} bg-gradient-to-tr from-primary from-35% via-tertiary via-70% to-secondary bg-clip-text text-transparent cursor-default select-none`,children:e});function ON(t){return le({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function FN(t){return le({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"},child:[]}]})(t)}function RE(t){return le({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"},child:[]}]})(t)}function AE(t){return le({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"},child:[]}]})(t)}function Fh(t){return le({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z"},child:[]}]})(t)}function zN(t){return le({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"},child:[]}]})(t)}function UN(t){return le({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 0c17.7 0 32 14.3 32 32V96H472c39.8 0 72 32.2 72 72V440c0 39.8-32.2 72-72 72H168c-39.8 0-72-32.2-72-72V168c0-39.8 32.2-72 72-72H288V32c0-17.7 14.3-32 32-32zM208 384c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H208zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H304zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H400zM264 256a40 40 0 1 0 -80 0 40 40 0 1 0 80 0zm152 40a40 40 0 1 0 0-80 40 40 0 1 0 0 80zM48 224H64V416H48c-26.5 0-48-21.5-48-48V272c0-26.5 21.5-48 48-48zm544 0c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H576V224h16z"},child:[]}]})(t)}function PE(t){return le({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"},child:[]}]})(t)}function BN(t){return le({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c1.8 0 3.5-.2 5.3-.5c-76.3-55.1-99.8-141-103.1-200.2c-16.1-4.8-33.1-7.3-50.7-7.3H178.3zm308.8-78.3l-120 48C358 277.4 352 286.2 352 296c0 63.3 25.9 168.8 134.8 214.2c5.9 2.5 12.6 2.5 18.5 0C614.1 464.8 640 359.3 640 296c0-9.8-6-18.6-15.1-22.3l-120-48c-5.7-2.3-12.1-2.3-17.8 0zM591.4 312c-3.9 50.7-27.2 116.7-95.4 149.7V273.8L591.4 312z"},child:[]}]})(t)}function $N(t){return le({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M533.6 32.5C598.5 85.2 640 165.8 640 256s-41.5 170.7-106.4 223.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C557.5 398.2 592 331.2 592 256s-34.5-142.2-88.7-186.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM473.1 107c43.2 35.2 70.9 88.9 70.9 149s-27.7 113.8-70.9 149c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C475.3 341.3 496 301.1 496 256s-20.7-85.3-53.2-111.8c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zm-60.5 74.5C434.1 199.1 448 225.9 448 256s-13.9 56.9-35.4 74.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C393.1 284.4 400 271 400 256s-6.9-28.4-17.7-37.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM301.1 34.8C312.6 40 320 51.4 320 64V448c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352H64c-35.3 0-64-28.7-64-64V224c0-35.3 28.7-64 64-64h67.8L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3z"},child:[]}]})(t)}const HN=()=>d.jsxs("div",{className:"fixed w-full h-full bottom-0 left-0 text-4xl sm:text-5xl lg:text-6xl xl:text-7xl flex items-center justify-center gap-5",children:[d.jsx(Fh,{className:"text-primary animate-bounce [animation-delay:-0.3s]"}),d.jsx(Fh,{className:"text-secondary animate-bounce [animation-delay:-0.15s]"}),d.jsx(Fh,{className:"text-tertiary animate-bounce"})]}),qN=()=>{const t=A.useContext(st),{configuration:e}=t.configuration,n=A.useContext(Vd),{setIsSignedIn:r}=n.user;return d.jsx(d.Fragment,{children:e.name?d.jsxs(d.Fragment,{children:[d.jsx(kE,{}),d.jsxs("main",{className:"container relative w-full lg:h-screen flex flex-col-reverse lg:flex-row items-center justify-center lg:justify-between 2xl:justify-around lg:items-center py-[100px] px-[2vw] lg:px-[4vw] 2xl:px-[6vw] gap-6",children:[d.jsxs("section",{className:"text-center lg:text-left",children:[d.jsxs("div",{className:"max-w-[500px]",children:[d.jsx(dg,{className:"font-helvetica text-6xl md:text-7xl lg:text-8xl",children:e.name}),d.jsx("p",{className:"text-2xl lg:text-3xl 2xl:text-4xl ml-2 dark:text-white max-w-[400px]",children:e.slogan})]}),d.jsx("p",{className:"text-xl text-black/50 dark:text-white/50 ml-2 mt-6 max-w-[350px]",children:Hu.introduction}),d.jsx("a",{href:`${gE}/bacoor-gov`,children:d.jsxs(je,{variant:"cta",className:"mt-8 ml-2 bg-primary hover:bg-primary-dark lg:text-lg 2xl:text-xl text-white",onClick:()=>r(!0),children:["ask ",e.name]})})]}),d.jsx("div",{className:"relative rounded-2xl overflow-hidden select-none",children:d.jsx("img",{src:e.icon,alt:"Chatbot",className:"w-max h-max max-h-[450px] lg:max-h-[600px] xl:max-h-[650px] [@media_(min-height:0px)]:max-h-[500px] [@media_(min-height:750px)]:max-h-[650px] rounded-2xl object-contain"})}),d.jsx(CE,{text:"v",className:"fixed left-[2%] bottom-[2.5%] text-sm text-black/30 dark:text-white/30"})]})]}):d.jsx(HN,{})})},Ts=Kt.createContext({}),WN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890",GN=30;let rs="";const KN=()=>{for(let t=0;t<GN;t++)rs+=WN.charAt(Math.round(Math.random()*62));return localStorage.setItem("uid",rs),rs},QN=()=>{const t=localStorage.getItem("uid");return t==null||(t==null?void 0:t.length)<=15?(localStorage.removeItem("uid"),rs=KN(),localStorage.removeItem("rating")):t&&(rs=t||rs),rs},YN=()=>{const t=parseInt(localStorage.getItem("rating")||"");return t||0},XN=({children:t})=>{const e=QN(),n=A.useContext(st),{conversation:r}=n.conversation,[i,s]=A.useState(YN),[o,l]=A.useState(Number),[c,u]=A.useState(!0),f=async()=>{var y;try{const C=(y=(await kA(kr,{rating:SA("rating")})).data().rating)==null?void 0:y.toFixed(2);C&&l(parseFloat(C))}catch(S){console.log(S)}},m=async()=>{var S;const y=await P2(br(kr,e));localStorage.setItem("rating",(S=y.data())==null?void 0:S.rating),u(!0)},p=async()=>{i!=0&&await j2(br(kr,e),{rating:i})};A.useEffect(()=>{p(),m()},[i]),A.useEffect(()=>{f()},[]);const v=A.useMemo(()=>({uid:e,conversation:r,rating:{rating:i,setRating:s,averageRating:o,hasRated:c,setHasRated:u}}),[e,r,i,o,c]);return d.jsx(Ts.Provider,{value:v,children:t})},Oo=Kt.createContext({}),JN="font families",ZN=[{name:"default",value:"Helvetica, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji"},{name:"cursive",value:"cursive"},{name:"monospace",value:"monospace"},{name:"poppins",value:"Poppins"},{name:"raleway",value:"Raleway"},{name:"montserrat",value:"Montserrat"},{name:"lato",value:"Lato"},{name:"kanit",value:"Kanit"},{name:"playpen sans",value:"Playpen Sans"},{name:"Caveat",value:"Caveat"}],hg={name:JN,default:"Helvetica, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji",list:ZN},e6=()=>{const t=parseInt(localStorage.getItem("fontSize")||"");return t||16},t6=()=>{const t=localStorage.getItem("fontFamily");return t||hg.default},n6=({children:t})=>{const[e,n]=A.useState(e6),[r,i]=A.useState(t6);A.useEffect(()=>{localStorage.setItem("fontSize",e.toString()),localStorage.setItem("fontFamily",r)},[e,r]);const s=c=>{switch(c){case 8:n(c);break;case 12:n(c);break;case 16:n(c);break;case 24:n(c);break;case 32:n(c);break;case 48:n(c);break}},o=c=>{switch(c){case hg.default:i(c);break;case"cursive":i(c);break;case"monospace":i(c);break;case"Poppins":i(c);break;case"Raleway":i(c);break;case"Montserrat":i(c);break;case"Lato":i(c);break;case"Kanit":i(c);break;case"Playpen Sans":i(c);break;case"Caveat":i(c);break}},l=A.useMemo(()=>({size:{fontSize:e,setFontSize:n},changeFontSize:s,family:{fontFamily:r,setFontFamily:i},changeFontFamily:o}),[e,n,r,i]);return d.jsx(Oo.Provider,{value:l,children:t})},fg=Kt.createContext({}),r6=()=>{const t=localStorage.getItem("chatSentSound");return t||"minimalpop"},i6=({children:t})=>{const[e,n]=A.useState(r6);A.useEffect(()=>{localStorage.setItem("chatSentSound",e)},[e]);const r=A.useMemo(()=>({chatSent:{chatSentSound:e,setChatSentSound:n}}),[e,n]);return d.jsx(fg.Provider,{value:r,children:t})};function s6(t){return le({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 1024c-69.1 0-136.2-13.5-199.3-40.2C251.7 958 197 921 150 874c-47-47-84-101.7-109.8-162.7C13.5 648.2 0 581.1 0 512c0-19.9 16.1-36 36-36s36 16.1 36 36c0 59.4 11.6 117 34.6 171.3 22.2 52.4 53.9 99.5 94.3 139.9 40.4 40.4 87.5 72.2 139.9 94.3C395 940.4 452.6 952 512 952c59.4 0 117-11.6 171.3-34.6 52.4-22.2 99.5-53.9 139.9-94.3 40.4-40.4 72.2-87.5 94.3-139.9C940.4 629 952 571.4 952 512c0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.2C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3s-13.5 136.2-40.2 199.3C958 772.3 921 827 874 874c-47 47-101.8 83.9-162.7 109.7-63.1 26.8-130.2 40.3-199.3 40.3z"},child:[]}]})(t)}const NE=()=>d.jsx("div",{className:"flex justify-center items-center h-[10%]",children:d.jsx(s6,{className:"text-4xl animate-spin text-primary dark:text-dm-surface-light"})}),o6=({onClick:t})=>{const e=A.useContext(Vd),{isSignedIn:n}=e.user,r=A.useContext(st),{configuration:i}=r.configuration,s=A.useContext(Fr),{isChatActive:o}=s.active,{chatHeadSize:l}=s.chatHeadSize;return d.jsx(d.Fragment,{children:n&&i.widgetIcon?d.jsx("button",{onClick:t,id:"",className:`fixed right-[2%] bottom-[2%] rounded-full overflow-hidden z-[100] ${o?"scale-0 opacity-0 invisible":""}`,children:d.jsx("img",{src:i.widgetIcon,alt:"chat head logo",width:l,height:l,className:"aspect-square object-cover"})}):d.jsx("div",{style:{width:l,height:l},className:"fixed right-[2%] bottom-[2%] flex items-center justify-center z-[100] [&>div>svg>path]:text-primary xl:[&>div>svg>path]:text-white ",children:d.jsx(NE,{})})})};var bt=[];for(var zh=0;zh<256;++zh)bt.push((zh+256).toString(16).slice(1));function a6(t,e=0){return(bt[t[e+0]]+bt[t[e+1]]+bt[t[e+2]]+bt[t[e+3]]+"-"+bt[t[e+4]]+bt[t[e+5]]+"-"+bt[t[e+6]]+bt[t[e+7]]+"-"+bt[t[e+8]]+bt[t[e+9]]+"-"+bt[t[e+10]]+bt[t[e+11]]+bt[t[e+12]]+bt[t[e+13]]+bt[t[e+14]]+bt[t[e+15]]).toLowerCase()}var kc,l6=new Uint8Array(16);function c6(){if(!kc&&(kc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!kc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return kc(l6)}var u6=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const By={randomUUID:u6};function ft(t,e,n){if(By.randomUUID&&!e&&!t)return By.randomUUID();t=t||{};var r=t.random||(t.rng||c6)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,a6(r)}const $y="Here are the list of departments with their services",d6=["departments","department","can you give me the list of departments?","can you give me the list of departments","can you give me the departments?","can you give me the departments","can you give me list of departments?","can you give me list of departments","departments list?","departments list","department list?","department list","list of departments","list of department","give me the list of deparments","depts","do you have the departments list?"],Hy=[{deptName:"Office of the City Accounting and Internal Audit Services",service:`* Liquidation of Cash Advances 
* Processing of Disbursements (GF / SEF / Trust Fund) 
* Issuance of Creditable Tax BIR Forms 2306 & 2307 and F2317 
* Processing of Disbursements for Barangays`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{deptName:"City Administrator's Office",service:`* Administrative Support 
* Policy Formulation and Review 
* Approval of Leave of Absences, Travel Orders, DTRs, Obligation Requests, other Internal Transaction Documents 
* Approval of City Permits (BOSS) 
* Approval of Agricultural Permit 
* Approval of Tricycle Franchise Renewal 
* Approval of Contractor's Tax`,steps:"",requirements:""}],jE="/user/assets/minimal-pop-click-cz2B17GZ.mp3",DE="/user/assets/happy-pop-BDyL3yVR.mp3",mp="/user/assets/multi-pop-aSd_Kb7h.mp3",h6="/user/assets/multi-pop-5-D6yGmOux.mp3",LE=()=>{const t=A.useContext(fg),{chatSentSound:e}=t.chatSent;return{playMessageNotification:()=>{let s;switch(e){case"minimalpop":s=new Audio(jE);break;case"happypop":s=new Audio(DE);break;case"multipop":s=new Audio(mp);break;default:s=new Audio(mp);break}s.volume=.2,s.play()},playTypingSound:()=>{const s=new Audio(h6);s.volume=.1,s.play()},playChatSentSound:s=>{const o=new Audio(s);o.volume=.2,o.play()}}},f6=async(t,e)=>{try{const n={intent:"greetings",chat:e,chatId:ft(),role:"bot",timestamp:me.now()};await N2(br(kr,t),{uid:t,conversation:[n]})}catch(n){console.log(n)}},Xr=async(t,e,n)=>{const r=br(kr,t);(await P2(r)).exists()||await N2(br(kr,t),{uid:t,conversation:[e],rating:n}),await j2(br(kr,t),{conversation:CA(e)})},ME=["png","jpg","jpeg","gif","tiff","webp","jfif"],VE=["mp4","mov","avi","wmv","avchd","webm","flv"],OE=["doc","docx","pdf","htm","html","xls","xlsx","ppt","pptx","txt","zip"];let vt={chat:"",chatId:"",role:"",timestamp:me.now()};const p6=(t,e,n,r,i)=>(ME.includes(t)?n===i?vt={intent:r,chat:n,chatId:ft(),role:"bot",timestamp:me.now()}:vt={intent:r,image:n,chat:null,chatId:ft(),role:"bot",timestamp:me.now()}:VE.includes(t)?n===i?vt={intent:r,chat:n,chatId:ft(),role:"bot",timestamp:me.now()}:vt={intent:r,video:n,chat:null,chatId:ft(),role:"bot",timestamp:me.now()}:OE.includes(t)&&(n===i?vt={intent:r,chat:n,chatId:ft(),role:"bot",timestamp:me.now()}:vt={intent:r,file:e,fileLink:n,fileType:t,chat:null,chatId:ft(),role:"bot",timestamp:me.now()}),vt),qy=(t,e,n)=>(vt={intent:t,chat:null,chatId:ft(),link:e,linkMessage:n||"Click here",role:"bot",timestamp:me.now()},vt),m6=(t,e,n)=>(t===e?vt={chat:t,chatId:ft(),role:"bot",timestamp:me.now()}:vt={chat:null,chatId:ft(),role:"bot",depts:n,timestamp:me.now()},vt),g6=(t,e,n,r,i,s)=>(ME.includes(s)?e===n?vt={intent:t,link:n,chat:null,chatId:ft(),role:"bot",timestamp:me.now()}:vt={intent:t,image:r,chat:null,chatId:ft(),role:"bot",timestamp:me.now()}:VE.includes(s)?e===n?vt={intent:t,link:n,chat:null,chatId:ft(),role:"bot",timestamp:me.now()}:vt={intent:t,video:r,chat:null,chatId:ft(),role:"bot",timestamp:me.now()}:OE.includes(s)&&(e===n?vt={intent:t,link:n,chat:null,chatId:ft(),role:"bot",timestamp:me.now()}:vt={intent:t,file:i,fileLink:r,fileType:s,chat:null,chatId:ft(),role:"bot",timestamp:me.now()}),vt);async function v6(t){return await(await fetch("https://cob-chatbot.onrender.com/api/chatbot/query",{method:"POST",headers:{"content-type":"application/json",authorization:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f"},body:JSON.stringify({userQuery:t})})).json()}const Sn=async t=>new Promise(e=>setTimeout(e,t*1e3)),FE=t=>/@=@/.test(t),Wy=t=>/\[([^\]]+)\]/.test(t),Gy=t=>/{=([^{}]+)=}/.test(t),y6=t=>{let e=[];return FE(t)&&(e=t.split("@=@")),e},_6=t=>{var e;return(e=t.current)==null||e.scrollIntoView(),!0},x6=t=>{var e;return(e=t.current)==null||e.scrollIntoView({behavior:"smooth"}),!0},Ky=t=>{const e=/\[=(.*?)=]/,n=t.match(e),r=/{=([^{}]+)=}/,i=t.match(r),s=/<([^<>]+)>/,o=t.match(s);if(n){const l=n[1],c=t.replace(e,"").trim();return{link:l,text:c}}else{if(i&&o)return{link:t.replace(/<(.+?)>{=(.+?)=}/g,(c,u,f)=>`<a class="font-semibold text-primary dark:text-secondary hover:underline" href="${f}" target="_blank" rel="noopener noreferrer">${u}</a>`)};if(i){const l=i[1];return{link:t.replace(r,`<a href="${l}" class="font-semibold text-primary dark:text-secondary hover:underline" target="_blank">Click here</a>`).trim()}}}return{link:"",linkMessage:null,text:t.trim()}},w6=t=>{const e=/\[=(.*?)=]/,n=t.match(e),r=/{=([^{}]+)=}/,i=t.match(r),s=/<([^<>]+)>/,o=t.match(s);if(n&&(i&&o||i)){const l=n[1];return{link:t.replace(/<(.+?)>{=(.+?)=}/g,(u,f,m)=>`<a class="font-semibold text-primary dark:text-secondary hover:underline" href="${m}" target="_blank" rel="noopener noreferrer">${f}</a>`).replace(e,""),fileLink:l}}return{link:"",fileLink:"",linkMessage:null}},Qy=t=>{try{const e=decodeURIComponent(t),n=e.lastIndexOf("/")+1,r=e.indexOf("?alt=");return n!==-1&&r!==-1?e.substring(n,r):null}catch(e){return console.error("Failed to extract filename:",e),null}},E6=()=>{const t=A.useContext(Ts),e=A.useContext(st),{configuration:n}=e.configuration,{conversation:r,setConversation:i}=e.conversation,{error:s,setError:o}=e.error,{isOnline:l}=e.isOnline,{setIsChatPaused:c}=e.isChatPaused,{isBotTyping:u,setIsBotTyping:f}=e.isTyping,{playMessageNotification:m}=LE(),p=A.useRef(null),v=A.useRef(null),[y,S]=A.useState(!0),[C,T]=A.useState(!1),[x,b]=A.useState("");let L={chat:"",chatId:"",role:"",timestamp:me.now()};const F=A.useCallback(async()=>{try{const w=await bA(kr);up(br(kr,t.uid),k=>{k.exists()?i(k.data().conversation):!k.exists()&&n.initialGreet&&f6(t.uid,n.initialGreet)}),w&&S(!1)}catch(w){console.log(w),o(!0),w||o(!1)}},[n.initialGreet,i,o]),P=async w=>{try{console.time(`${n.name} Replied in`),f(!0);const k=await v6(w);if(k.success)if(o(!1),await Sn(1),d6.includes(w))[$y,Hy].forEach(async(j,R)=>{R==1&&(await Sn(1),f(!0),await Sn(1)),L=m6(j,$y,Hy),f(!1),Xr(t.uid,L),m()}),c(!0);else{const{intent:N,answer:j}=k.response;if(FE(j))y6(j).forEach(async(ie,Pe)=>{Pe==1&&(await Sn(1),f(!0),await Sn(1)),L={intent:N,chat:ie,chatId:ft(),role:"bot",timestamp:me.now()},f(!1),Xr(t.uid,L),T(!1),m()});else if(Gy(j)&&Wy(j)){const{link:R,fileLink:ie}=w6(j),Pe=ie?Qy(ie):"",ot=Pe==null?void 0:Pe.split(".")[1];(R&&ie?[R,ie]:[]).forEach(async(q,Z)=>{console.log(q),Z==1&&(await Sn(1),f(!0),await Sn(1)),L=ot?g6(N,q,R,ie,Pe,ot):L,f(!1),Xr(t.uid,L),T(!1),m()})}else if(Gy(j)){const{link:R,linkMessage:ie}=Ky(j);L=ie?qy(N,R,ie):qy(N,R),f(!1),Xr(t.uid,L),T(!1),m()}else if(Wy(j)){const{text:R,link:ie}=Ky(j),Pe=ie?Qy(ie):"",ot=Pe==null?void 0:Pe.split(".")[1];(R&&ie?[R,ie]:[]).forEach(async(q,Z)=>{Z==1&&(await Sn(1),f(!0),await Sn(1)),L=ot&&R?p6(ot,Pe,q,N,R):L,f(!1),Xr(t.uid,L),T(!1),m()})}else L={intent:N,chat:j,chatId:ft(),role:"bot",timestamp:me.now()},f(!1),Xr(t.uid,L),T(!1),m()}console.timeEnd(`${n.name} Replied in`)}catch(k){o(!0),console.log(k)}finally{f(!1),c(!1)}},I=A.useCallback(async(w,k)=>{try{w.preventDefault(),b(""),c(!0),o(!1),L={chat:k,chatId:ft(),role:"user",timestamp:me.now()},m(),Xr(t.uid,L),await Sn(1),P(k)}catch(N){console.log(N),f(!1),o(!0),N||o(!1)}},[m,o]),_=async w=>{try{T(!1),c(!0),o(!1),L={chat:w,chatId:ft(),role:"user",timestamp:me.now()},m(),Xr(t.uid,L),await Sn(1),P(w)}catch(k){console.log(k),f(!1),o(!0),k||o(!1)}};return A.useEffect(()=>{x6(p)},[r.length,u,s,l]),A.useEffect(()=>{const w=({target:k})=>{var N;(N=v.current)!=null&&N.contains(k)||T(!1)};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[v,C]),A.useEffect(()=>{try{console.time("Received conversation in"),F()}catch(w){console.log(w)}finally{console.timeEnd("Received conversation in")}},[F]),{latestChat:p,questionsListRef:v,loading:y,setLoading:S,isFaqsMenuActive:C,setIsFaqsMenuActive:T,userMessage:x,setUserMessage:b,conversation:r,sendMessageToBot:I,sendSuggestedQueryToBot:_}},T6=Vl("w-full h-full animate-pulse rounded pointer-events-none",{variants:{variant:{default:"h-[100px] rounded-xl",icon:"rounded-full aspect-square",chat:"max-w-[80%] rounded-3xl overflow-hidden"}},defaultVariants:{variant:"default"}}),Gt=A.forwardRef(({className:t,variant:e,...n},r)=>d.jsx("div",{ref:r,className:vl(T6({className:t,variant:e})),...n})),or=({items:t,renderItems:e})=>d.jsx(d.Fragment,{children:t==null?void 0:t.map((n,r)=>e(n,r))}),S6=({sendSuggestedQueryToBot:t,isLargeScreen:e})=>{const n=A.useContext(st),{quickAccessQueries:r}=n.quickAccessQuery,{isChatPaused:i}=n.isChatPaused,s=A.useRef(null),o=s.current,[l,c]=A.useState(!1),[u,f]=A.useState(0),[m,p]=A.useState(0),[v,y]=A.useState(!0),[S,C]=A.useState(0),T=200,x=I=>{let _=S+I;o&&(_>=o.scrollWidth-128?_=0:_<=0&&(_=o.scrollWidth),o.scrollLeft=_),C(_)},b=I=>{y(!1),c(!0),o&&(f(I.pageX- -o.offsetLeft),p(o.scrollLeft))},L=()=>{c(!1),y(!0)},F=I=>{if(y(!1),!!l&&(I.preventDefault(),o)){const w=(I.pageX-o.offsetLeft-u)*2;o.scrollLeft=m-w}},P=()=>{c(!1),y(!0)};return d.jsxs("section",{id:"suggested-chats",className:`relative w-full ${e?"xl:max-w-[70%] max-w-[95%]":"max-w-[95%]"}  flex items-center rounded-3xl border border-surface dark:border-dm-surface-dark dark:bg-dm-surface text-xs xs:text-sm sm:text-base mt-auto outline-none py-4 overflow-hidden`,children:[d.jsx("div",{className:"w-[80px] h-full absolute -left-1 hidden xl:flex items-center bg-gradient-to-r from-white dark:from-dm-surface from-30%",children:r.length>=2&&d.jsx(je,{className:"outline-none h-full border-none bg-transparent text-primary pl-4",onClick:()=>x(-T),children:d.jsx(RE,{})})}),d.jsx("div",{ref:s,onMouseDown:b,onMouseLeave:L,onMouseUp:P,onMouseMove:F,className:`w-full h-[100px] px-10 xl:px-12 flex items-center gap-x-6 sm:gap-x-8 xl:gap-x-6 overflow-x-scroll ${r.length>=2&&"cursor-move"} ${v?"scroll-smooth":"scroll-auto"} scrollbar-none`,children:r.length?d.jsx(or,{items:r,renderItems:({id:I,label:_,text:w})=>d.jsx(je,{variant:"outline",size:"xl",className:`rounded-3xl min-w-[200px] h-full border border-primary text-xs xs:text-sm text-primary dark:text-white hover:bg-primary hover:text-white ${i?"cursor-wait":"active:translate-y-1"}`,onClick:()=>{w!=""&&t(w)},disabled:i,children:_},I)}):d.jsxs(d.Fragment,{children:[d.jsx(Gt,{className:"bg-surface dark:bg-dm-surface-light max-h-[80px] min-w-[200px]"}),d.jsx(Gt,{className:"bg-surface dark:bg-dm-surface-light max-h-[80px] min-w-[200px]"}),d.jsx(Gt,{className:"bg-surface dark:bg-dm-surface-light max-h-[80px] min-w-[200px]"})]})}),d.jsx("div",{className:"w-[80px] h-full absolute -right-1 hidden xl:flex items-center justify-end bg-gradient-to-l from-white dark:from-dm-surface from-30%",children:r.length>=2&&d.jsx(je,{className:"outline-none h-full border-none bg-transparent text-primary pr-4",onClick:()=>x(T),children:d.jsx(AE,{})})})]})};function gp(){return gp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gp.apply(null,arguments)}function I6(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}var b6=A.useLayoutEffect,k6=function(e){var n=A.useRef(e);return b6(function(){n.current=e}),n},Yy=function(e,n){if(typeof e=="function"){e(n);return}e.current=n},C6=function(e,n){var r=A.useRef();return A.useCallback(function(i){e.current=i,r.current&&Yy(r.current,null),r.current=n,n&&Yy(n,i)},[n])},Xy={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},R6=function(e){Object.keys(Xy).forEach(function(n){e.style.setProperty(n,Xy[n],"important")})},Jy=R6,qt=null,Zy=function(e,n){var r=e.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function A6(t,e,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),qt||(qt=document.createElement("textarea"),qt.setAttribute("tabindex","-1"),qt.setAttribute("aria-hidden","true"),Jy(qt)),qt.parentNode===null&&document.body.appendChild(qt);var i=t.paddingSize,s=t.borderSize,o=t.sizingStyle,l=o.boxSizing;Object.keys(o).forEach(function(p){var v=p;qt.style[v]=o[v]}),Jy(qt),qt.value=e;var c=Zy(qt,t);qt.value=e,c=Zy(qt,t),qt.value="x";var u=qt.scrollHeight-i,f=u*n;l==="border-box"&&(f=f+i+s),c=Math.max(f,c);var m=u*r;return l==="border-box"&&(m=m+i+s),c=Math.min(m,c),[c,u]}var e1=function(){},P6=function(e,n){return e.reduce(function(r,i){return r[i]=n[i],r},{})},N6=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],j6=!!document.documentElement.currentStyle,D6=function(e){var n=window.getComputedStyle(e);if(n===null)return null;var r=P6(N6,n),i=r.boxSizing;if(i==="")return null;j6&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},L6=D6;function zE(t,e,n){var r=k6(n);A.useLayoutEffect(function(){var i=function(o){return r.current(o)};if(t)return t.addEventListener(e,i),function(){return t.removeEventListener(e,i)}},[])}var M6=function(e){zE(window,"resize",e)},V6=function(e){zE(document.fonts,"loadingdone",e)},O6=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],F6=function(e,n){var r=e.cacheMeasurements,i=e.maxRows,s=e.minRows,o=e.onChange,l=o===void 0?e1:o,c=e.onHeightChange,u=c===void 0?e1:c,f=I6(e,O6),m=f.value!==void 0,p=A.useRef(null),v=C6(p,n),y=A.useRef(0),S=A.useRef(),C=function(){var b=p.current,L=r&&S.current?S.current:L6(b);if(L){S.current=L;var F=A6(L,b.value||b.placeholder||"x",s,i),P=F[0],I=F[1];y.current!==P&&(y.current=P,b.style.setProperty("height",P+"px","important"),u(P,{rowHeight:I}))}},T=function(b){m||C(),l(b)};return A.useLayoutEffect(C),M6(C),V6(C),A.createElement("textarea",gp({},f,{onChange:T,ref:v}))},UE=A.forwardRef(F6);function z6(t){return le({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M87.48 380c1.2-4.38-1.43-10.47-3.94-14.86a42.63 42.63 0 0 0-2.54-3.8 199.81 199.81 0 0 1-33-110C47.64 139.09 140.72 48 255.82 48 356.2 48 440 117.54 459.57 209.85a199 199 0 0 1 4.43 41.64c0 112.41-89.49 204.93-204.59 204.93-18.31 0-43-4.6-56.47-8.37s-26.92-8.77-30.39-10.11a31.14 31.14 0 0 0-11.13-2.07 30.7 30.7 0 0 0-12.08 2.43L81.5 462.78a15.92 15.92 0 0 1-4.66 1.22 9.61 9.61 0 0 1-9.58-9.74 15.85 15.85 0 0 1 .6-3.29z"},child:[]},{tag:"circle",attr:{cx:"160",cy:"256",r:"32"},child:[]},{tag:"circle",attr:{cx:"256",cy:"256",r:"32"},child:[]},{tag:"circle",attr:{cx:"352",cy:"256",r:"32"},child:[]}]})(t)}function BE(t){return le({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(t)}function $E(t){return le({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m476.59 227.05-.16-.07L49.35 49.84A23.56 23.56 0 0 0 27.14 52 24.65 24.65 0 0 0 16 72.59v113.29a24 24 0 0 0 19.52 23.57l232.93 43.07a4 4 0 0 1 0 7.86L35.53 303.45A24 24 0 0 0 16 327v113.31A23.57 23.57 0 0 0 26.59 460a23.94 23.94 0 0 0 13.22 4 24.55 24.55 0 0 0 9.52-1.93L476.4 285.94l.19-.09a32 32 0 0 0 0-58.8z"},child:[]}]})(t)}function U6(t){return le({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 176a80 80 0 1 0 80 80 80.24 80.24 0 0 0-80-80zm172.72 80a165.53 165.53 0 0 1-1.64 22.34l48.69 38.12a11.59 11.59 0 0 1 2.63 14.78l-46.06 79.52a11.64 11.64 0 0 1-14.14 4.93l-57.25-23a176.56 176.56 0 0 1-38.82 22.67l-8.56 60.78a11.93 11.93 0 0 1-11.51 9.86h-92.12a12 12 0 0 1-11.51-9.53l-8.56-60.78A169.3 169.3 0 0 1 151.05 393L93.8 416a11.64 11.64 0 0 1-14.14-4.92L33.6 331.57a11.59 11.59 0 0 1 2.63-14.78l48.69-38.12A174.58 174.58 0 0 1 83.28 256a165.53 165.53 0 0 1 1.64-22.34l-48.69-38.12a11.59 11.59 0 0 1-2.63-14.78l46.06-79.52a11.64 11.64 0 0 1 14.14-4.93l57.25 23a176.56 176.56 0 0 1 38.82-22.67l8.56-60.78A11.93 11.93 0 0 1 209.94 26h92.12a12 12 0 0 1 11.51 9.53l8.56 60.78A169.3 169.3 0 0 1 361 119l57.2-23a11.64 11.64 0 0 1 14.14 4.92l46.06 79.52a11.59 11.59 0 0 1-2.63 14.78l-48.69 38.12a174.58 174.58 0 0 1 1.64 22.66z"},child:[]}]})(t)}const B6=({questionsListRef:t,sendMessageToBot:e,sendSuggestedQueryToBot:n,userMessage:r,setUserMessage:i,isFaqsMenuActive:s,setIsFaqsMenuActive:o,isLargeScreen:l})=>{const c=A.useContext(st),{menuAccessQueries:u}=c.menuAccessQuery,{isChatPaused:f}=c.isChatPaused,m=()=>{o(!s)},p=y=>{const S=r.trim();y.key=="Enter"&&!y.shiftKey&&S!=""&&!f?(e(y,S),i("")):y.key=="Enter"&&!y.shiftKey&&(y.preventDefault(),f||i(""))},v=()=>d.jsxs("section",{id:"questions-list",className:`w-full ${l?"xl:max-w-[70%] max-w-[95%]":"max-w-[95%]"} max-h-[500px] md:max-h-[400px] xl:max-h-[300px] absolute bottom-[7%] sm:bottom-[6%] lg:bottom-[5%] px-4 py-5 mb-[160px] rounded-3xl bg-white dark:bg-dm-surface border border-surface dark:border-dm-surface-dark overflow-y-scroll scrollbar-thin scrollbar-track-transparent scrollbar-thumb-surface-dark dark:scrollbar-thumb-dm-surface-dark z-50 ${s?"block opacity-100 visible":"opacity-0 invisible"}`,children:[d.jsxs("div",{className:"mb-4 font-semibold",children:[d.jsx("h1",{className:"capitalize text-black/80 dark:text-white/80",children:"hello there!"}),d.jsx("p",{className:"text-black/50 dark:text-white/50",children:"You can ask me about,"})]}),d.jsx("div",{className:`inline-grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-2 ${l?"xl:grid-cols-3 2xl:grid-cols-4":""} gap-2`,children:u.length?d.jsx(or,{items:u,renderItems:({id:y,label:S,text:C})=>d.jsx(je,{variant:"outline",className:`rounded-3xl w-full h-full normal-case border border-primary text-xs xs:text-sm text-primary dark:text-white hover:bg-primary hover:text-white ${f?"cursor-wait":"active:translate-y-1"}`,onClick:()=>n(C),disabled:f,children:S},y)}):d.jsxs(d.Fragment,{children:[d.jsx(Gt,{className:"bg-surface dark:bg-dm-surface-light max-h-[80px] min-w-[200px]"}),d.jsx(Gt,{className:"bg-surface dark:bg-dm-surface-light max-h-[80px] min-w-[200px]"}),d.jsx(Gt,{className:"bg-surface dark:bg-dm-surface-light max-h-[80px] min-w-[200px]"}),d.jsx(Gt,{className:"bg-surface dark:bg-dm-surface-light max-h-[80px] min-w-[200px]"}),d.jsx(Gt,{className:"bg-surface dark:bg-dm-surface-light max-h-[80px] min-w-[200px]"})]})})]});return d.jsxs("div",{ref:t,className:`w-full flex justify-center items-center ${l?"xl:max-w-[50%]":""}`,children:[v(),d.jsxs("form",{onSubmit:y=>e(y,r),className:"w-full flex justify-between items-center gap-1 px-2 pt-2",children:[d.jsx(je,{variant:"icon",size:"icon",className:`text-primary hover:bg-surface dark:hover:bg-dm-surface ${s&&"bg-primary [&>svg]:text-white hover:bg-primary dark:hover:bg-primary"}`,type:"button",onClick:m,children:d.jsx(ug,{})}),d.jsx("label",{htmlFor:"chat-input",className:"w-full px-2 rounded-3xl flex items-center border border-surface-dark outline-primary focus-within:border-primary dark:border-transparent dark:bg-dm-surface dark:focus-within:bg-dm-surface-light cursor-text",children:d.jsx(UE,{id:"chat-input",name:"chat-input",autoFocus:!0,spellCheck:!1,value:r,onChange:y=>{i(y.target.value),o(!1)},onKeyDown:p,className:`${l?"xl:max-h-[200px] ":"max-h-[100px] "} whitespace-pre-line w-full dark:text-white outline-none bg-transparent placeholder:text-sm sm:placeholder:text-base px-2 my-3 dark:bg-dm-surface dark:focus:bg-dm-surface-light placeholder:opacity-80 caret-primary dark:caret-secondary scrollbar-thin scrollbar-track-transparent scrollbar-thumb-surface-dark dark:scrollbar-thumb-dm-surface-dark`,placeholder:"Type here..."})}),d.jsx(je,{variant:"icon",size:"icon",className:"text-primary active:translate-x-1 hover:bg-surface dark:hover:bg-dm-surface cursor-pointer",type:"submit",onClick:()=>o(!1),disabled:!r||f,children:d.jsx($E,{})})]})]})},$6=()=>{const[t,e]=A.useState("hide");return{backToView:t,setBackToView:e,handleScrollIntoView:r=>{var i;(i=r.current)==null||i.scrollIntoView({behavior:"smooth"})}}},H6=new Intl.DateTimeFormat("en-PH",{timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone,hour:"numeric",minute:"numeric"}),q6=new Intl.DateTimeFormat("en-PH",{timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone,weekday:"short",month:"short",day:"2-digit",year:"numeric"});function W6(t){return le({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M4.681 3H2V2h3.5l.5.5V6H5V4a5 5 0 1 0 4.53-.761l.302-.954A6 6 0 1 1 4.681 3z"},child:[]}]})(t)}const t1=({message:t})=>d.jsx(je,{variant:"empty",className:"w-full flex justify-center group",onClick:()=>location.reload(),children:d.jsxs("div",{className:"flex items-center justify-center gap-2 min-w-[60%] px-4 py-3 mt-3 mb-2 text-center text-white rounded-3xl bg-red-500 capitalize",children:[t,d.jsx(W6,{className:" group-hover:rotate-90"})]})}),G6=({children:t,ref:e,type:n,disabled:r,onClick:i,state:s,className:o})=>{let l="",c="";switch(n){case"submit":l="active:translate-x-2";break;case"reset":l="active:tranform active:scale-75"}if(s)switch(s){case!0:c="bg-primary [&>svg>line]:text-white";break}return d.jsx("button",{ref:e,type:n,onClick:i,disabled:r,className:`p-3 rounded-full flex items-center justify-center text-2xl text-primary cursor-pointer ${l} ${c} ${o}`,children:t})},K6=()=>{const t=A.useContext(st),{configuration:e}=t.configuration;return d.jsxs("div",{className:"w-full mt-3 mb-2 rounded-3xl flex gap-2 items-center ",children:[d.jsx("img",{src:e.icon,alt:"Chatbot Icon",width:35,height:35,className:"rounded-full aspect-square object-cover select-none"}),d.jsxs("div",{className:"flex space-x-1 items-center rounded-3xl px-2 py-3 ",children:[d.jsx("div",{className:"h-2 w-2 bg-surface-dark dark:bg-dm-surface-light rounded-full animate-bounce [animation-delay:-0.3s]"}),d.jsx("div",{className:"h-2 w-2 bg-surface-dark dark:bg-dm-surface-light rounded-full animate-bounce [animation-delay:-0.15s]"}),d.jsx("div",{className:"h-2 w-2 bg-surface-dark dark:bg-dm-surface-light rounded-full animate-bounce"})]})]})},Q6=()=>{const t=[{role:"bot"},{role:"user"},{role:"bot"},{role:"user"},{role:"bot"}];return d.jsx("section",{children:d.jsx(or,{items:t,renderItems:(e,n)=>d.jsxs("div",{className:`${e.role==="bot"?"bot-chat flex items-center gap-2":"user-chat flex justify-end ml-auto"} mt-3 mb-2`,children:[e.role==="bot"&&d.jsx(Gt,{variant:"icon",className:"bg-surface dark:bg-dm-surface w-[35px] h-[35px] rounded-full select-none"}),d.jsx(Gt,{id:"chat",variant:"chat",className:`${e.role==="bot"?"bg-surface dark:bg-dm-surface w-full h-[96px]":"bg-primary w-[300px] h-[68px]"} `})]},n)})})},Y6=Vl("",{variants:{color:{default:"text-secondary"},size:{default:"text-base",lg:"text-lg",xl:"text-xl",xxl:"text-2xl",xxxl:"text-3xl",four:"text-4xl",five:"text-5xl",six:"text-6xl",seven:"text-7xl"}},defaultVariants:{color:"default",size:"default"}}),X6=Vl("",{variants:{numberSize:{xs:"text-xs",sm:"text-sm",default:"text-base",lg:"text-lg",xl:"text-xl",xxl:"text-2xl",xxxl:"text-3xl",four:"text-4xl",five:"text-5xl",six:"text-6xl",seven:"text-7xl"}},defaultVariants:{numberSize:"default"}}),HE=({className:t,color:e,size:n,numberSize:r})=>{const i=A.useContext(Ts),{averageRating:s}=i.rating;return d.jsxs("div",{className:`flex items-center gap-2 ${t}`,children:[d.jsx(PE,{className:`${vl(Y6({color:e,size:n}))}`}),d.jsx("span",{className:`${vl(X6({numberSize:r}))} dark:text-white/80`,children:s})]})},J6=Vl("w-full h-full",{variants:{variant:{default:"",icon:"rounded-full aspect-square object-cover",iconBorder:"rounded-full border border-primary aspect-square object-cover"},size:{default:"max-w-[80px]",sm:"max-w-[50px]",md:"max-w-[100px]",lg:"max-w-[150px]",xl:"max-w-[200px]"}},defaultVariants:{variant:"default",size:"default"}}),pg=A.forwardRef(({src:t,alt:e,className:n,size:r,variant:i,...s},o)=>d.jsx("img",{src:t,alt:e,ref:o,className:vl(J6({className:n,variant:i,size:r})),...s})),Z6=({className:t,miniProfileRef:e})=>{const n=A.useContext(st),{configuration:r}=n.configuration,i=A.useContext(Ts),{averageRating:s}=i.rating;return d.jsxs("section",{id:"bot-mini-profile",className:`flex flex-col items-center pt-10 ${t}`,ref:e,children:[d.jsx(pg,{src:r.icon,alt:"Chatbot Icon",variant:"icon",size:"lg",className:"mb-2"}),d.jsxs("div",{id:"details",className:"w-full flex flex-col items-center text-center mb-4 p-2",children:[d.jsxs("div",{className:"mb-4 space-y-2",children:[d.jsx(dg,{className:"max-w-full font-bold text-2xl sm:text-4xl line-clamp-5",children:r.name?r.name:Hu.name}),d.jsx("h3",{className:"max-w-full dark:text-white sm:text-lg  line-clamp-5",children:r.slogan})]}),s!=0&&d.jsx(HE,{size:"four",numberSize:"xl"})]}),d.jsx("hr",{className:"w-full border-surface-dark dark:border-dm-surface-light"})]})};function e9(t){return le({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(t)}function qE(t){return le({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"},child:[]}]})(t)}function n1(t){return le({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"},child:[]}]})(t)}const t9=({deptName:t,service:e})=>{const[n,r]=A.useState(!1),i=()=>{r(!n)};return d.jsxs("div",{className:"relative flex flex-col m-2",children:[d.jsxs("button",{onClick:()=>i(),className:`px-4 py-3 text-left cursor-pointer flex justify-between items-center gap-2 hover:bg-primary dark:hover:bg-primary z-20 ${n?"rounded-b-none rounded-t-3xl bg-primary [&>p]:text-white [&>svg>path]:text-white":"rounded-3xl bg-surface-dark/60 dark:bg-dm-surface-light [&>p]:hover:text-white [&>svg>path]:hover:text-white"}`,children:[d.jsx("p",{className:"max-w-[200px]",children:t}),d.jsx(e9,{className:`${n?"rotate-180 ":""}`})]}),d.jsx("div",{className:`w-full rounded-b-3xl z-10 overflow-hidden ${n==!0?"translate-y-0 bg-primary max-h-[1000px]":"-translate-y-[15%] rounded-3xl opacity-0 max-h-0 bg-surface-dark dark:bg-dm-surface-light"}`,children:d.jsx("div",{className:"px-4 py-3",children:d.jsxs("div",{className:"mb-2",children:[d.jsx("div",{className:"text-white text-lg font-semibold mb-1",children:"Here are the services we offer:"}),d.jsx("div",{className:"text-white",children:e})]})})})]})},n9=({className:t,image:e})=>d.jsx("img",{id:"image-dimmer",src:e,alt:"",className:`w-full h-full fixed inset-0 object-cover z-50 blur-xl backdrop-blur-xl brightness-[0.3] ${t}`}),ma=({children:t,className:e,role:n,timestamp:r,toggleFullTimestamp:i})=>{const s=A.useContext(Oo),{fontSize:o}=s.size,l=()=>{switch(n){case"user":return d.jsxs("div",{className:`rounded-3xl shadow px-4 py-3 space-y-2 break-words selection:bg-secondary selection:text-black ${e}`,onClick:i,children:[d.jsx("div",{id:"chat",style:{fontSize:o},className:"relative dark:text-white",children:t}),d.jsx("div",{id:"timestamp",className:"w-full text-gray-200 dark:text-gray-300 text-xs text-right opacity-80 z-[9]",children:r})]});default:return d.jsxs("div",{className:`rounded-3xl shadow px-4 py-3 space-y-2 break-words ${e}`,onClick:i,children:[d.jsx("div",{id:"chat",style:{fontSize:o},className:"relative dark:text-white",children:t}),d.jsx("div",{id:"timestamp",className:"text-gray-500 dark:text-gray-300 text-xs text-right opacity-80 z-[9]",children:r})]})}};return d.jsx(d.Fragment,{children:l()})};function WE(t){return le({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6.2253 4.81108C5.83477 4.42056 5.20161 4.42056 4.81108 4.81108C4.42056 5.20161 4.42056 5.83477 4.81108 6.2253L10.5858 12L4.81114 17.7747C4.42062 18.1652 4.42062 18.7984 4.81114 19.1889C5.20167 19.5794 5.83483 19.5794 6.22535 19.1889L12 13.4142L17.7747 19.1889C18.1652 19.5794 18.7984 19.5794 19.1889 19.1889C19.5794 18.7984 19.5794 18.1652 19.1889 17.7747L13.4142 12L19.189 6.2253C19.5795 5.83477 19.5795 5.20161 19.189 4.81108C18.7985 4.42056 18.1653 4.42056 17.7748 4.81108L12 10.5858L6.2253 4.81108Z",fill:"currentColor"},child:[]}]})(t)}function r9(t){return le({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M4 4H8V8H4V4Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M4 10H8V14H4V10Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M8 16H4V20H8V16Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M10 4H14V8H10V4Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M14 10H10V14H14V10Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M10 16H14V20H10V16Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M20 4H16V8H20V4Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M16 10H20V14H16V10Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M20 16H16V20H20V16Z",fill:"currentColor"},child:[]}]})(t)}function i9(t){return le({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.5 4.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293z"},child:[]}]})(t)}function s9(t){return le({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5 7.5a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v.938l.4 1.599a1 1 0 0 1-.416 1.074l-.93.62a1 1 0 0 1-1.11 0l-.929-.62a1 1 0 0 1-.415-1.074L5 8.438zm2 0H6v.938a1 1 0 0 1-.03.243l-.4 1.598.93.62.929-.62-.4-1.598A1 1 0 0 1 7 8.438z"},child:[]},{tag:"path",attr:{d:"M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1h-2v1h-1v1h1v1h-1v1h1v1H6V5H5V4h1V3H5V2h1V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5z"},child:[]}]})(t)}function o9(t){return le({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2v-1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zm-7.839 9.166v.522q0 .384-.117.641a.86.86 0 0 1-.322.387.9.9 0 0 1-.469.126.9.9 0 0 1-.471-.126.87.87 0 0 1-.32-.386 1.55 1.55 0 0 1-.117-.642v-.522q0-.386.117-.641a.87.87 0 0 1 .32-.387.87.87 0 0 1 .471-.129q.264 0 .469.13a.86.86 0 0 1 .322.386q.117.255.117.641m.803.519v-.513q0-.565-.205-.972a1.46 1.46 0 0 0-.589-.63q-.381-.22-.917-.22-.533 0-.92.22a1.44 1.44 0 0 0-.589.627q-.204.406-.205.975v.513q0 .563.205.973.205.406.59.627.386.216.92.216.535 0 .916-.216.383-.22.59-.627.204-.41.204-.973M0 11.926v4h1.459q.603 0 .999-.238a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.59-.68q-.395-.234-1.004-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082H.79V12.57Zm7.422.483a1.7 1.7 0 0 0-.103.633v.495q0 .369.103.627a.83.83 0 0 0 .298.393.85.85 0 0 0 .478.131.9.9 0 0 0 .401-.088.7.7 0 0 0 .273-.248.8.8 0 0 0 .117-.364h.765v.076a1.27 1.27 0 0 1-.226.674q-.205.29-.55.454a1.8 1.8 0 0 1-.786.164q-.54 0-.914-.216a1.4 1.4 0 0 1-.571-.627q-.194-.408-.194-.976v-.498q0-.568.197-.978.195-.411.571-.633.378-.223.911-.223.328 0 .607.097.28.093.489.272a1.33 1.33 0 0 1 .466.964v.073H9.78a.85.85 0 0 0-.12-.38.7.7 0 0 0-.273-.261.8.8 0 0 0-.398-.097.8.8 0 0 0-.475.138.87.87 0 0 0-.301.398"},child:[]}]})(t)}function a9(t){return le({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V11h-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zm-6.839 9.688v-.522a1.5 1.5 0 0 0-.117-.641.86.86 0 0 0-.322-.387.86.86 0 0 0-.469-.129.87.87 0 0 0-.471.13.87.87 0 0 0-.32.386 1.5 1.5 0 0 0-.117.641v.522q0 .384.117.641a.87.87 0 0 0 .32.387.9.9 0 0 0 .471.126.9.9 0 0 0 .469-.126.86.86 0 0 0 .322-.386 1.55 1.55 0 0 0 .117-.642m.803-.516v.513q0 .563-.205.973a1.47 1.47 0 0 1-.589.627q-.381.216-.917.216a1.86 1.86 0 0 1-.92-.216 1.46 1.46 0 0 1-.589-.627 2.15 2.15 0 0 1-.205-.973v-.513q0-.569.205-.975.205-.411.59-.627.386-.22.92-.22.535 0 .916.22.383.219.59.63.204.406.204.972M1 15.925v-3.999h1.459q.609 0 1.005.235.396.233.589.68.196.445.196 1.074 0 .634-.196 1.084-.197.451-.595.689-.396.237-.999.237zm1.354-3.354H1.79v2.707h.563q.277 0 .483-.082a.8.8 0 0 0 .334-.252q.132-.17.196-.422a2.3 2.3 0 0 0 .068-.592q0-.45-.118-.753a.9.9 0 0 0-.354-.454q-.237-.152-.61-.152Zm6.756 1.116q0-.373.103-.633a.87.87 0 0 1 .301-.398.8.8 0 0 1 .475-.138q.225 0 .398.097a.7.7 0 0 1 .273.26.85.85 0 0 1 .12.381h.765v-.073a1.33 1.33 0 0 0-.466-.964 1.4 1.4 0 0 0-.49-.272 1.8 1.8 0 0 0-.606-.097q-.534 0-.911.223-.375.222-.571.633-.197.41-.197.978v.498q0 .568.194.976.195.406.571.627.375.216.914.216.44 0 .785-.164t.551-.454a1.27 1.27 0 0 0 .226-.674v-.076h-.765a.8.8 0 0 1-.117.364.7.7 0 0 1-.273.248.9.9 0 0 1-.401.088.85.85 0 0 1-.478-.131.83.83 0 0 1-.298-.393 1.7 1.7 0 0 1-.103-.627zm5.092-1.76h.894l-1.275 2.006 1.254 1.992h-.908l-.85-1.415h-.035l-.852 1.415h-.862l1.24-2.015-1.228-1.984h.932l.832 1.439h.035z"},child:[]}]})(t)}function l9(t){return le({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V11h-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zm-9.736 7.35v3.999h-.791v-1.714H1.79v1.714H1V11.85h.791v1.626h1.682V11.85h.79Zm2.251.662v3.337h-.794v-3.337H4.588v-.662h3.064v.662zm2.176 3.337v-2.66h.038l.952 2.159h.516l.946-2.16h.038v2.661h.715V11.85h-.8l-1.14 2.596H9.93L8.79 11.85h-.805v3.999zm4.71-.674h1.696v.674H12.61V11.85h.79v3.325Z"},child:[]}]})(t)}function c9(t){return le({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z"},child:[]}]})(t)}function u9(t){return le({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m2.817-1.333h-1.6v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474.162-.302.161-.677 0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H4.15V12.48h.66q.327 0 .512.181.185.183.185.522m2.767-.67v3.336H7.48v-3.337H6.346v-.662h3.065v.662z"},child:[]}]})(t)}function d9(t){return le({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V11h-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.5 11.85h1.6q.434 0 .732.179.302.175.46.477t.158.677-.16.677q-.159.299-.464.474a1.45 1.45 0 0 1-.732.173H2.29v1.342H1.5zm2.06 1.714a.8.8 0 0 0 .085-.381q0-.34-.185-.521-.185-.182-.513-.182h-.659v1.406h.66a.8.8 0 0 0 .374-.082.57.57 0 0 0 .238-.24m1.302-1.714h1.6q.434 0 .732.179.302.175.46.477t.158.677-.16.677q-.158.299-.464.474a1.45 1.45 0 0 1-.732.173h-.803v1.342h-.79zm2.06 1.714a.8.8 0 0 0 .085-.381q0-.34-.185-.521-.184-.182-.513-.182H5.65v1.406h.66a.8.8 0 0 0 .374-.082.57.57 0 0 0 .238-.24m2.852 2.285v-3.337h1.137v-.662H7.846v.662H8.98v3.337zm3.796-3.999h.893l-1.274 2.007 1.254 1.992h-.908l-.85-1.415h-.035l-.853 1.415h-.861l1.24-2.016-1.228-1.983h.931l.832 1.439h.035z"},child:[]}]})(t)}function h9(t){return le({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-2v-1h2a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.928 15.849v-3.337h1.136v-.662H0v.662h1.134v3.337zm4.689-3.999h-.894L4.9 13.289h-.035l-.832-1.439h-.932l1.228 1.983-1.24 2.016h.862l.853-1.415h.035l.85 1.415h.907l-1.253-1.992zm1.93.662v3.337h-.794v-3.337H6.619v-.662h3.064v.662H8.546Z"},child:[]}]})(t)}function f9(t){return le({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM6.472 15.29a1.2 1.2 0 0 1-.111-.449h.765a.58.58 0 0 0 .254.384q.106.073.25.114.143.041.319.041.246 0 .413-.07a.56.56 0 0 0 .255-.193.5.5 0 0 0 .085-.29.39.39 0 0 0-.153-.326q-.152-.12-.462-.193l-.619-.143a1.7 1.7 0 0 1-.539-.214 1 1 0 0 1-.351-.367 1.1 1.1 0 0 1-.123-.524q0-.366.19-.639.19-.272.527-.422.338-.15.777-.149.457 0 .78.152.324.153.5.41.18.255.2.566h-.75a.56.56 0 0 0-.12-.258.6.6 0 0 0-.247-.181.9.9 0 0 0-.369-.068q-.325 0-.513.152a.47.47 0 0 0-.184.384q0 .18.143.3a1 1 0 0 0 .405.175l.62.143q.326.075.566.211a1 1 0 0 1 .375.358q.135.222.135.56 0 .37-.188.656a1.2 1.2 0 0 1-.539.439q-.351.158-.858.158-.381 0-.665-.09a1.4 1.4 0 0 1-.478-.252 1.1 1.1 0 0 1-.29-.375m-2.945-3.358h-.893L1.81 13.37h-.036l-.832-1.438h-.93l1.227 1.983L0 15.931h.861l.853-1.415h.035l.85 1.415h.908L2.253 13.94zm2.727 3.325H4.557v-3.325h-.79v4h2.487z"},child:[]}]})(t)}function p9(t){return le({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V11h-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM7.86 14.841a1.13 1.13 0 0 0 .401.823q.195.162.479.252.284.091.665.091.507 0 .858-.158.355-.158.54-.44a1.17 1.17 0 0 0 .187-.656q0-.336-.135-.56a1 1 0 0 0-.375-.357 2 2 0 0 0-.565-.21l-.621-.144a1 1 0 0 1-.405-.176.37.37 0 0 1-.143-.299q0-.234.184-.384.188-.152.513-.152.214 0 .37.068a.6.6 0 0 1 .245.181.56.56 0 0 1 .12.258h.75a1.1 1.1 0 0 0-.199-.566 1.2 1.2 0 0 0-.5-.41 1.8 1.8 0 0 0-.78-.152q-.44 0-.777.15-.336.149-.527.421-.19.273-.19.639 0 .302.123.524t.351.367q.229.143.54.213l.618.144q.31.073.462.193a.39.39 0 0 1 .153.326.5.5 0 0 1-.085.29.56.56 0 0 1-.255.193q-.168.07-.413.07-.176 0-.32-.04a.8.8 0 0 1-.249-.115.58.58 0 0 1-.255-.384zm-3.726-2.909h.893l-1.274 2.007 1.254 1.992h-.908l-.85-1.415h-.035l-.853 1.415H1.5l1.24-2.016-1.228-1.983h.931l.832 1.438h.036zm1.923 3.325h1.697v.674H5.266v-3.999h.791zm7.636-3.325h.893l-1.274 2.007 1.254 1.992h-.908l-.85-1.415h-.035l-.853 1.415h-.861l1.24-2.016-1.228-1.983h.931l.832 1.438h.036z"},child:[]}]})(t)}function m9(t){return le({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.727 6.727H14V0H4.91c-.905 0-1.637.732-1.637 1.636v20.728c0 .904.732 1.636 1.636 1.636h14.182c.904 0 1.636-.732 1.636-1.636V6.727h-6zm-.545 10.455H7.09v-1.364h7.09v1.364zm2.727-3.273H7.091v-1.364h9.818v1.364zm0-3.273H7.091V9.273h9.818v1.363zM14.727 6h6l-6-6v6z"},child:[]}]})(t)}const r1=({chatBy:t,chat:e,img:n,video:r,image:i,file:s,fileLink:o,fileType:l,link:c,depts:u,renderDeptsContent:f,timestamp:m,fullTimestamp:p,loadMore:v,numberOfDeptsToShow:y})=>{const[S,C]=A.useState(!1),T=A.useRef(null),[x,b]=A.useState(!1),[L,F]=A.useState(!1),P=()=>{C(!S)},I=()=>{b(!0)},_=()=>{switch(l){case"doc":return d.jsx(o9,{});case"docx":return d.jsx(a9,{});case"pdf":return d.jsx(c9,{});case"html":return d.jsx(l9,{});case"xls":return d.jsx(f9,{});case"xlsx":return d.jsx(p9,{});case"ppt":return d.jsx(u9,{});case"pptx":return d.jsx(d9,{});case"txt":return d.jsx(h9,{});case"zip":return d.jsx(s9,{});default:return d.jsx(m9,{})}};A.useEffect(()=>{const k=({target:N})=>{var j;(j=T.current)!=null&&j.contains(N)||C(!1)};return document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[S]);const w=()=>{switch(t){case"bot":return d.jsxs("div",{className:`${t} chat flex flex-col`,children:[d.jsxs("div",{className:"w-full h-max relative flex items-center gap-2 mt-3 mb-2",children:[d.jsx("img",{src:n,alt:"Chatbot Icon",width:35,height:35,className:"rounded-full aspect-square object-cover select-none"}),(e||c||s||o||u)&&d.jsxs("div",{className:"max-w-[70%]",children:[e&&d.jsx(ma,{timestamp:m,toggleFullTimestamp:()=>F(!L),className:`${L?"bg-surface-dark/50 dark:bg-dm-surface-light":"bg-surface dark:bg-dm-surface hover:bg-surface-dark/50 hover:dark:bg-dm-surface-light"} cursor-pointer`,children:d.jsx("div",{className:"cursor-text whitespace-pre-wrap",children:e})}),c&&d.jsx(ma,{timestamp:m,toggleFullTimestamp:()=>F(!L),className:`${L?"bg-surface-dark/50 dark:bg-dm-surface-light":"bg-surface dark:bg-dm-surface hover:bg-surface-dark/50 hover:dark:bg-dm-surface-light"} cursor-pointer`,children:d.jsx("div",{className:"cursor-text whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:c}})}),s&&o&&d.jsx(pd,{to:o,target:"_blank",className:"group",children:d.jsx(ma,{timestamp:m,className:"bg-surface dark:bg-dm-surface hover:bg-surface-dark/50 hover:dark:bg-dm-surface-light cursor-pointer",children:d.jsxs("div",{className:"flex items-center gap-2 font-semibold text-primary dark:text-secondary",children:[d.jsx("span",{className:"text-xl",children:_()}),s]})})}),u&&f&&y&&d.jsxs(ma,{timestamp:m,toggleFullTimestamp:()=>F(!L),className:"bg-surface-dark/50 dark:bg-dm-surface cursor-pointer",children:[f(),d.jsx("button",{onClick:v,className:`w-full absolute -bottom-1 bg-gradient-to-t from-surface dark:from-dm-surface from-15% h-[100px] z-30 backdrop-blur-xs  ${(u==null?void 0:u.length)<=y?"hidden":"block"} hover:backdrop-blur-0 [&>p]:hover:opacity-15`,children:d.jsxs("p",{className:"flex flex-col items-center justify-center gap-1 font-semibold text-primary dark:text-secondary drop-shadow-lg animate-bounce text-base",children:["Click here to show more",d.jsx(i9,{})]})})]})]}),i&&d.jsx("div",{className:`${x?"w-max h-max":"w-full h-[400px] bg-surface-dark/50 dark:bg-dm-surface-light animate-pulse aspect-square"} max-w-[70%] sm:max-w-[70%] md:max-w-[60%] lg:max-w-[50%] xl:max-w-[70%] cursor-pointer hover:opacity-70 rounded-xl overflow-hidden`,onClick:P,children:d.jsx("img",{src:i,alt:"",className:"rounded-xl",onLoad:I})}),r&&d.jsx("video",{controls:!0,className:"w-max max-w-[70%] md:max-w-[60%] max-h-max rounded-xl outline-primary object-contain cursor-pointer",children:d.jsx("source",{src:r,type:"video/mp4"})})]}),d.jsx("span",{className:`${L?"h-max mt-1":"h-0 opacity-0 invisible"} text-xs ml-12 text-black/50 dark:text-white/50`,children:p})]});case"user":return d.jsxs("div",{className:`${t} chat flex flex-col items-end`,children:[d.jsx("div",{className:"w-full flex justify-end mt-3 mb-2",children:d.jsx(ma,{timestamp:m,role:"user",className:`max-w-[70%] ${L?"bg-primary-dark dark:bg-primary-light":"bg-primary hover:bg-primary-dark dark:hover:bg-primary-light"} cursor-pointer text-white`,toggleFullTimestamp:()=>F(!L),children:d.jsx("span",{className:"cursor-text whitespace-pre-line",children:e})})}),d.jsx("span",{className:`${L?"h-max mt-1":"h-0 opacity-0 invisible"} text-xs mr-1 text-black/50 dark:text-white/50`,children:p})]})}};return d.jsxs(d.Fragment,{children:[S&&d.jsxs(d.Fragment,{children:[d.jsx(je,{variant:"icon",size:"icon",className:"fixed top-10 right-10 z-[100] text-white bg-error hover:bg-error/80 [&>svg>path]:hover:text-white",onClick:P,children:d.jsx(WE,{})}),d.jsx("div",{className:"fixed top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] w-screen h-screen flex justify-center items-center p-[4vw] z-[90]",children:d.jsx("img",{src:i,alt:"",className:"w-max max-w-[90%] h-max max-h-full",ref:T})}),d.jsx(n9,{image:i})]}),w()]})},g9=4,v9=1,y9=({role:t,chat:e,image:n,video:r,file:i,fileLink:s,fileType:o,link:l,depts:c,timestamp:u,fullTimestamp:f})=>{const m=A.useContext(st),{configuration:p}=m.configuration,[v,y]=A.useState(4),S=v9*v,C=S-v,T=c==null?void 0:c.slice(C,S),x=()=>{y(v+g9)},b=()=>{if(c)return d.jsx(or,{items:T,renderItems:(F,P)=>d.jsx(t9,{deptName:F.deptName,service:F.service,steps:F.steps,requirements:F.requirements},P)})},L=()=>{if(t==="bot")return d.jsx(r1,{chatBy:t,chat:e,img:p.icon,image:n,video:r,file:i,fileLink:s,fileType:o,link:l,depts:c,renderDeptsContent:b,timestamp:u,fullTimestamp:f,loadMore:x,numberOfDeptsToShow:v});if(t==="user")return d.jsx(r1,{chatBy:t,chat:e,timestamp:u,fullTimestamp:f})};return d.jsx(d.Fragment,{children:L()})},_9=15,x9=10,w9=({latestChat:t,isLargeScreen:e})=>{const n=A.useContext(st),{conversation:r}=n.conversation,{error:i}=n.error,{isOnline:s}=n.isOnline,{isBotTyping:o}=n.isTyping,{backToView:l,setBackToView:c,handleScrollIntoView:u}=$6(),[f,m]=A.useState(_9),[p,v]=A.useState(!1),y=r.slice(Math.max(r.length-f,0)),S=A.useRef(null),C=A.useRef(null),T=async b=>{var _;const L=b.currentTarget.scrollTop,P=(b.currentTarget.scrollHeight-457)/2,I=(_=S.current)==null?void 0:_.children.length;try{typeof t.current=="object"&&I&&(L<=P&&I>10?c("show"):c("hide"),y.length!=r.length&&L==0&&(console.log("Loading more chats"),v(!0),await Sn(1),v(!1),m(f+x9),_6(C)))}catch(w){console.log(w)}},x=()=>{if(r)return d.jsx(or,{items:y,renderItems:b=>d.jsx(y9,{role:b.role,chat:b.chat,image:b.image,video:b.video,file:b.file,fileLink:b.fileLink,fileType:b.fileType,link:b.link,depts:b.depts,timestamp:H6.format(new Date(b.timestamp.seconds*1e3)),fullTimestamp:q6.format(new Date(b.timestamp.seconds*1e3))},b.chatId)})};return d.jsxs(d.Fragment,{children:[d.jsx(G6,{className:`${l} absolute bottom-[25%] animate-bounce bg-surface hover:bg-primary [&>svg>path]:hover:text-white dark:bg-dm-surface dark:border-transparent dark:hover:bg-dm-surface-dark [&>svg>path]:dark:hover:text-primary z-50`,onClick:()=>u(t),children:d.jsx(FN,{})}),d.jsxs("section",{className:"relative w-full h-full px-4 py-6 overflow-y-scroll scrollbar-thin scrollbar-track-transparent scrollbar-thumb-surface-dark dark:scrollbar-thumb-dm-surface",onScroll:T,children:[d.jsx(Z6,{className:"mb-8 w-full",miniProfileRef:C}),p&&d.jsx(NE,{}),r.length?d.jsxs("div",{id:"chats",className:`${e?"xl:max-w-[70%] xl:mx-auto":""} `,ref:S,children:[x(),o&&d.jsx(K6,{})]}):d.jsx(Q6,{}),i&&d.jsx(t1,{message:"something went wrong!"}),!s&&d.jsx(t1,{message:"no internet connection."}),d.jsx("div",{ref:t})]})]})},GE=({className:t,message:e})=>d.jsx("div",{id:"screen-dimmer",className:`w-full h-full fixed top-0 inset-x-0 flex justify-center items-center pr-[30%] ${t}`,children:d.jsx("p",{className:"text-lg text-gray-300 animate-bounce select-none",children:e})});function E9(t){return le({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91zM4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58A2.01 2.01 0 0 0 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29zM20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm4 3.43c0-.81-.48-1.53-1.22-1.85A6.95 6.95 0 0 0 20 14c-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24v-1.57zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3z"},child:[]}]})(t)}const i1=[{name:"appearance",settingType:"chat",icon:z6},{name:"sound",settingType:"chat",icon:$N},{name:"chatbot team",settingType:"about",icon:E9},{name:"security",settingType:"about",icon:BN}],Uh=({name:t,checkedIf:e,onClick:n,onChange:r,state:i,icon:s})=>d.jsxs("label",{htmlFor:t,className:`${i?"w-full":"w-max md:w-full "} ${SE({variant:"settings",size:"full"})}`,onClick:n,children:[d.jsx("input",{type:"radio",name:"settings",id:t,value:t,checked:e,onChange:r,className:"hidden"}),i?d.jsx("span",{className:"md:block max-w-full truncate",children:t}):d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"hidden md:block max-w-full truncate",children:t}),d.jsx("div",{className:"text-xl p-0 md:hidden",children:s})]})]}),s1=({children:t})=>d.jsxs("div",{className:"flex flex-col space-y-2 mb-4",children:[t,d.jsx("hr",{className:"border-surface-dark dark:border-dm-surface "})]}),o1=({name:t})=>d.jsx("p",{className:"w-full min-h-[35px] md:min-h-0 md:mb-2 text-xs text-black/60 dark:text-white/50 font-helvetica-bold capitalize md:px-4 line-clamp-2 break-words",children:t}),T9=({state:t,handleSettingsChange:e,changeSetting:n})=>{const r=A.useContext(st),{configuration:i}=r.configuration,[s,o]=A.useState(!1),l=A.useRef(null),c=()=>{o(!s)};return A.useEffect(()=>{const u=({target:f})=>{var m;(m=l.current)!=null&&m.contains(f)||o(!1)};return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[]),d.jsx(d.Fragment,{children:d.jsxs("nav",{className:`absolute top-0 left-0 bottom-0 h-full px-4 py-10 flex flex-col items-start sm:justify-between bg-surface dark:bg-dm-surface-dark ${s?"w-[50%] md:w-[20%]":"w-[20%] sm:w-[15%] md:w-[20%]"} z-50`,ref:l,children:[d.jsx(je,{variant:"icon",size:"icon",onClick:c,className:`${s?"bg-primary [&>svg>line]:text-white":"hover:bg-surface-dark dark:hover:bg-dm-surface"} [&>svg>line]:dark:text-white md:hidden mb-10`,children:d.jsx(ug,{})}),d.jsxs("div",{className:"w-full",children:[d.jsxs(s1,{children:[d.jsx(o1,{name:"chat settings"}),i1.filter(u=>u.settingType==="chat").map(u=>d.jsx(Uh,{name:u.name,checkedIf:t==u.name,onClick:()=>n(u.name),onChange:e,icon:d.jsx(u.icon,{}),state:s},u.name))]}),d.jsxs(s1,{children:[d.jsx(o1,{name:"about"}),d.jsx(Uh,{name:i.name,checkedIf:t==i.name,onClick:()=>n(i.name),onChange:e,icon:d.jsx(UN,{}),state:s}),i1.filter(u=>u.settingType==="about").map(u=>d.jsx(Uh,{name:u.name,checkedIf:t==u.name,onClick:()=>n(u.name),onChange:e,icon:d.jsx(u.icon,{}),state:s},u.name))]})]}),d.jsx(CE,{className:"text-xs px-2 md:px-4 text-black/60 dark:text-white/50 mt-auto",text:`${s?"Version ":"v"}`})]})})},Od=({text:t="Settings Title"})=>d.jsx("h1",{className:"capitalize text-3xl font-bold dark:text-white w-max",children:t}),a1=({style:t,chat:e,linkedChat:n})=>{const r=A.useContext(st),{configuration:i}=r.configuration;return d.jsx("div",{style:t,className:"bot chat",children:d.jsxs("div",{className:"w-full relative flex items-center gap-2 mt-3 mb-2",children:[d.jsx("img",{src:i.icon,alt:"Chatbot Icon",width:35,height:35,className:"rounded-full aspect-square object-cover select-none"}),e&&d.jsxs("div",{className:"max-w-[80%] rounded-3xl shadow bg-surface dark:bg-dm-surface px-4 py-3 space-y-2 break-words",children:[d.jsxs("div",{id:"chat",className:"dark:text-white",children:[e,n&&d.jsx("div",{className:"text-primary dark:text-secondary font-semibold hover:underline",children:n})]}),d.jsx("div",{id:"timeSent",className:"w-full text-gray-500 dark:text-gray-300 text-xs text-right opacity-80",children:new Date().toLocaleTimeString().replace(/(.*)\D\d+/,"$1")})]})]})})},l1=({style:t,chat:e})=>d.jsx("div",{style:t,className:"user chat",children:d.jsx("div",{className:"w-full flex justify-end mt-3 mb-2",children:d.jsxs("div",{className:"max-w-[80%] rounded-3xl shadow bg-primary text-white px-4 py-3 space-y-2 break-words",children:[d.jsx("p",{id:"chat",children:e}),d.jsx("div",{id:"timeSent",className:"w-full text-gray-300 text-xs text-right opacity-80",children:new Date().toLocaleTimeString().replace(/(.*)\D\d+/,"$1")})]})})}),S9=()=>{const t=A.useContext(st),{configuration:e}=t.configuration,{quickAccessQueries:n}=t.quickAccessQuery,r=A.useContext(Oo),{fontSize:i}=r.size,{fontFamily:s}=r.family,o=A.useRef(null),l=o.current,[c,u]=A.useState(!1),[f,m]=A.useState(0),[p,v]=A.useState(0),[y,S]=A.useState("auto"),[C,T]=A.useState(0),x=200,b=_=>{let w=C+_;l&&(w>=l.scrollWidth-128?w=0:w<=0&&(w=l.scrollWidth),l.scrollLeft=w),S("smooth"),T(w)},L=_=>{S("auto"),u(!0),l&&(m(_.pageX- -l.offsetLeft),v(l.scrollLeft))},F=()=>{u(!1)},P=_=>{if(S("auto"),!!c&&(_.preventDefault(),l)){const k=(_.pageX-l.offsetLeft-f)*2;l.scrollLeft=p-k}},I=()=>{u(!1)};return d.jsxs("div",{className:"max-w-[500px] w-full h-[700px] hidden md:flex flex-col items-center bg-background dark:bg-dm-background border border-surface-dark dark:border-dm-surface rounded-xl",style:{fontFamily:s},children:[d.jsx("header",{className:"w-full flex items-center justify-between px-4 py-4 mr-auto shadow-md dark:shadow-dm-surface-dark",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("img",{src:e.icon,alt:"",width:45,height:45,className:"rounded-full sm:w-[45px] sm:h-[45px] aspect-square object-cover select-none"}),d.jsx("h3",{className:"text-2xl capitalize font-semibold dark:text-white",children:"preview"})]})}),d.jsxs("div",{className:"w-full max-h-[612px] h-full px-4 py-6 overflow-y-scroll scrollbar-thin scrollbar-track-transparent scrollbar-thumb-surface-dark dark:scrollbar-thumb-dm-surface",children:[d.jsx(l1,{style:{fontSize:i},chat:"Sometimes, changing fonts helps us to read text clearly. Especially when we have eye problems "}),d.jsx(l1,{style:{fontSize:i},chat:`Your messages to ${e.name} will look like this.`}),d.jsx(a1,{style:{fontSize:i},chat:`Meanwhile, ${e.name}'s messages will look like this.`}),d.jsx(a1,{style:{fontSize:i},chat:`And when ${e.name} send a link`,linkedChat:"It will look like this"})]}),d.jsxs("section",{className:"relative w-full max-w-[95%] flex items-center rounded-3xl border border-surface dark:border-dm-surface-dark dark:bg-dm-surface text-xs xs:text-sm sm:text-base mt-auto outline-none overflow-clip",children:[d.jsx("div",{className:"w-[80px] h-full absolute left-0 flex items-center bg-gradient-to-r from-white dark:from-dm-surface from-30%",children:d.jsx(je,{className:"hidden xl:block h-full border-none bg-transparent text-primary pl-4",onClick:()=>b(-x),children:d.jsx(RE,{})})}),d.jsx("div",{ref:o,onMouseDown:L,onMouseLeave:F,onMouseUp:I,onMouseMove:P,className:`py-2 px-4 xl:px-12 flex items-center gap-x-6 sm:gap-x-8 xl:gap-x-6 overflow-x-auto cursor-move scroll-${y} scrollbar-none`,children:n.map((_,w)=>d.jsx(je,{variant:"outline",size:"xl",className:`rounded-3xl min-w-[${x}px] h-[80px] border border-primary text-xs xs:text-sm text-primary dark:text-white hover:bg-primary hover:text-white active:translate-y-1`,children:_.label},w))}),d.jsx("div",{className:"w-[80px] h-full absolute right-0 flex items-center justify-end bg-gradient-to-l from-white dark:from-dm-surface from-30%",children:d.jsx(je,{className:"hidden xl:block h-full border-none bg-transparent text-primary pr-4",onClick:()=>b(x),children:d.jsx(AE,{})})})]}),d.jsxs("div",{className:"w-full flex justify-between items-center gap-1 px-2 py-2",children:[d.jsx(je,{variant:"icon",size:"icon",className:"text-primary hover:bg-surface dark:hover:bg-dm-surface",type:"button",children:d.jsx(ug,{})}),d.jsx("label",{htmlFor:"sameple-chat-preview-ls",className:"w-full px-4 py-3 rounded-3xl flex items-center border border-surface-dark focus-within:border-primary dark:border-transparent dark:bg-dm-surface dark:focus-within:bg-dm-surface-light cursor-text",children:d.jsx(UE,{name:"sameple-chat-preview-ls",id:"sameple-chat-preview-ls",className:"max-h-[100px] w-full dark:text-white outline-none bg-transparent dark:focus:bg-dm-surface-light placeholder:text-sm sm:placeholder:text-base placeholder:opacity-80 caret-primary dark:caret-secondary scrollbar-thin scrollbar-track-transparent scrollbar-thumb-surface-dark dark:scrollbar-thumb-dm-surface-dark",placeholder:"The fonts only apply to chat"})}),d.jsx(je,{variant:"icon",size:"icon",className:"text-primary active:translate-x-1 hover:bg-surface dark:hover:bg-dm-surface cursor-pointer",type:"submit",children:d.jsx($E,{})})]})]})},I9="themes",b9=[{id:"1",name:"light",value:"light"},{id:"2",name:"dark",value:"dark"},{id:"3",name:"system",value:"system"}],k9={name:I9,modes:b9},Ss=({text:t="Settings Mini Title"})=>d.jsx("h3",{className:"capitalize text-lg font-semibold mb-2 text-black/60 dark:text-white/50",children:t}),Ol=({name:t,id:e,value:n,checkedIf:r,onClick:i,onChange:s,style:o,displayedText:l})=>d.jsx(je,{variant:"radio",size:"lg",className:"w-[120px] capitalize active:translate-y-1",onClick:i,children:d.jsxs("label",{htmlFor:e,className:"pointer-events-none truncate",style:o,children:[d.jsx("input",{type:"radio",name:t,id:e,value:n,checked:r,onChange:s,className:"hidden"}),l]})}),Fl=({...t})=>d.jsx("div",{className:"inline-grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 2xl:grid-cols-3 gap-5",...t}),Fd=({children:t,className:e})=>d.jsx("div",{className:`w-max ${e}`,children:t}),C9=()=>{const t=A.useContext(lg),{resolvedTheme:e,setTheme:n}=t.default,r=i=>{n(i.target.value)};return d.jsxs(Fd,{children:[d.jsx(Ss,{text:"theme"}),d.jsx(Fl,{children:d.jsx(or,{items:k9.modes,renderItems:i=>d.jsx(Ol,{name:"themes",id:i.value,value:i.value,checkedIf:e==i.value,onChange:r,onClick:()=>t.changeTheme(i.value),displayedText:i.name},i.id)})})]})},R9=()=>{const t=A.useContext(Oo),{fontFamily:e,setFontFamily:n}=t.family,r=i=>{n(i.target.value)};return d.jsxs(Fd,{children:[d.jsx(Ss,{text:"font family"}),d.jsx(Fl,{children:d.jsx(or,{items:hg.list,renderItems:i=>d.jsx(Ol,{name:"font-families",id:i.value,value:i.value,checkedIf:e==i.value,onChange:r,onClick:()=>t.changeFontFamily(i.value),style:{fontFamily:i.value},displayedText:i.name},i.value)})})]})},A9=[{name:"small",value:8},{name:"medium",value:12},{name:"normal",value:16},{name:"large",value:24},{name:"extra large",value:32},{name:"2XL",value:48}],P9=()=>{const t=A.useContext(Oo),{fontSize:e,setFontSize:n}=t.size,r=i=>{n(parseInt(i.target.value))};return d.jsxs(Fd,{children:[d.jsx(Ss,{text:"font size"}),d.jsx(Fl,{children:d.jsx(or,{items:A9,renderItems:i=>d.jsx(Ol,{name:"font-sizes",id:i.value.toString(),value:i.value,checkedIf:e==i.value,onChange:r,onClick:()=>t.changeFontSize(i.value),displayedText:i.name},i.value)})})]})},KE=({children:t})=>d.jsx("div",{className:"flex flex-col items-start gap-8",children:t}),N9=[{name:"small",value:100},{name:"medium",value:200},{name:"large",value:300}],j9=()=>{const t=A.useContext(st),{configuration:e}=t.configuration,n=A.useContext(Fr),{chatHeadSize:r}=n.chatHeadSize;return d.jsx("div",{className:"hidden xs:block w-max h-max rounded-full overflow-hidden ",children:d.jsx("img",{src:e.widgetIcon,alt:"chat head logo",width:r,height:r,className:"aspect-square object-cover"})})},D9=()=>{const t=A.useContext(Fr),{chatHeadSize:e,setChatHeadSize:n}=t.chatHeadSize,r=i=>{n(parseInt(i.target.value))};return d.jsxs(Fd,{className:"block",children:[d.jsx(Ss,{text:"chat head size"}),d.jsx(Fl,{children:d.jsx(or,{items:N9,renderItems:i=>d.jsx(Ol,{name:"chat-head-size",id:i.value.toString(),value:i.value,checkedIf:e==i.value,onChange:r,onClick:()=>t.changeChatHeadSize(i.value),displayedText:i.name},i.value)})}),d.jsx("div",{className:"flex flex-col items-center md:items-start 2xl:items-center mt-8",children:d.jsx(j9,{})})]})},c1=()=>d.jsx(d.Fragment,{children:d.jsxs("section",{className:"flex flex-col gap-8",children:[d.jsx(Od,{text:"appearance"}),d.jsxs("div",{className:"flex flex-col 2xl:flex-row 2xl:justify-between gap-y-10 gap-x-6",children:[d.jsxs(KE,{children:[d.jsx(C9,{}),d.jsx(R9,{}),d.jsx(P9,{}),d.jsx(D9,{})]}),d.jsx(S9,{})]}),d.jsx("hr",{className:"w-full border-surface-dark dark:border-dm-surface-light"})]})}),L9=jE,M9=DE,u1=mp,V9=[{name:"minimal pop",value:"minimalpop"},{name:"happy pop",value:"happypop"},{name:"multi pop",value:"multipop"}],O9=()=>{const{playChatSentSound:t}=LE(),e=A.useContext(fg),{chatSentSound:n,setChatSentSound:r}=e.chatSent,i=o=>{r(o.target.value)},s=o=>{switch(o){case"minimalpop":r(o),localStorage.setItem("chatSentSound",o),t(L9);break;case"happypop":r(o),localStorage.setItem("chatSentSound",o),t(M9);break;case"multipop":r(o),localStorage.setItem("chatSentSound",o),t(u1);break;default:r("multipop"),t(u1);break}};return d.jsxs("div",{children:[d.jsx(Ss,{text:"chat sent"}),d.jsx(Fl,{children:d.jsx(or,{items:V9,renderItems:o=>d.jsx(Ol,{name:"message-sent-sounds",id:o.value,value:o.value,checkedIf:n==o.value,onChange:i,onClick:()=>s(o.value),displayedText:o.name},o.value)})})]})},F9=()=>d.jsxs("section",{className:"flex flex-col gap-8",children:[d.jsx(Od,{text:"sound"}),d.jsx(KE,{children:d.jsx(O9,{})}),d.jsx("hr",{className:"w-full border-surface-dark dark:border-dm-surface-light"})]}),QE=({className:t})=>{const e=A.useContext(Ts),{rating:n,setRating:r}=e.rating,[i,s]=A.useState();return d.jsx("div",{className:`flex items-center mb-8 ${t}`,children:[...Array(5)].map((o,l)=>{const c=l+1;return d.jsxs("label",{className:"cursor-pointer",children:[d.jsx("input",{type:"radio",name:"rating",value:c,onClick:()=>{r(c)},className:"hidden"}),d.jsx(PE,{className:"text-4xl text-black/20 dark:text-white/20  ",color:c<=(i||n)?"#eab308":"",onMouseEnter:()=>s(c),onMouseLeave:()=>s(0)})]},l)})})},z9=({className:t})=>{const e=A.useContext(st),{configuration:n}=e.configuration,r=A.useContext(Ts),{averageRating:i,rating:s}=r.rating;return d.jsxs("section",{id:"bot-profile",className:`flex flex-col items-center pt-10 ${t}`,children:[i!=0&&d.jsx(HE,{size:"five",numberSize:"xxl",className:"mb-4"}),d.jsx(pg,{src:n.icon,alt:"Chatbot Icon",variant:"icon",size:"lg",className:"mb-2"}),d.jsxs("div",{id:"details",className:"w-full flex flex-col items-center text-center p-2",children:[d.jsxs("div",{className:"mb-4 space-y-2",children:[d.jsx(dg,{className:"max-w-full font-bold text-2xl sm:text-4xl line-clamp-5",children:n.name?n.name:Hu.name}),d.jsx("h3",{className:"max-w-full dark:text-white sm:text-lg line-clamp-5",children:n.slogan})]}),d.jsxs("div",{className:"space-y-8",children:[d.jsx("p",{className:"max-w-[600px] text-left text-black/80 dark:text-white/80 text-sm whitespace-pre-line",children:Hu.about}),d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx("h2",{className:"max-w-[200px] md:max-w-[300px] lg:max-w-[400px] text-black/80 dark:text-white/80",children:s!=0?`Your rating to ${n.name}`:`Enjoying talking to ${n.name} so far? Please give us a
            rating!`}),d.jsx(QE,{})]})]})]}),d.jsx("hr",{className:"w-full border-surface-dark dark:border-dm-surface-light"})]})},U9=()=>{const t=A.useContext(st),{configuration:e}=t.configuration;return d.jsxs("section",{className:"flex flex-col gap-8",children:[d.jsx(Od,{text:"about"}),d.jsx("div",{className:"flex flex-col gap-y-10 gap-x-6",children:d.jsxs("div",{children:[d.jsx(Ss,{text:e.name}),d.jsx(z9,{})]})})]})},Bh=({to:t,src:e,alt:n,text:r,role:i})=>{const[s,o]=A.useState(!1);return d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsxs(pd,{to:t,target:"_blank","pseudo-value":r,className:"relative flex justify-center items-center cursor-pointer rounded-full before:content-[attr(pseudo-value)] before:absolute before:text-7xl before:capitalize before:font-helvetica-rounded-bold before:opacity-0 hover:before:opacity-10 text-primary dark:text-secondary bg-inherit border-2 border-transparent hover:border-primary dark:hover:border-secondary overflow-hidden group",children:[d.jsx(pg,{src:e,alt:n,variant:"icon",size:"xl",className:`group-hover:opacity-30 dark:group-hover:opacity-50 ${s?"":"w-[200px] animate-pulse bg-surface-dark dark:bg-dm-surface-light"}`,onLoad:()=>o(!0)}),d.jsx("p",{className:"absolute opacity-0 group-hover:opacity-100 text-xl md:text-2xl font-helvetica-rounded-bold capitalize",children:r})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"capitalize text-xl font-helvetica-rounded-bold",children:r}),d.jsx("span",{className:"text-sm capitalize text-black/40 dark:text-white/40",children:i})]})]})},B9=()=>{const t=A.useContext(st),{configuration:e}=t.configuration;return d.jsxs("section",{className:"flex flex-col gap-8",children:[d.jsx(Od,{text:"about"}),d.jsx("div",{className:"flex flex-col gap-y-10 gap-x-6",children:d.jsxs("div",{children:[d.jsx(Ss,{text:"chatbot team"}),d.jsxs("section",{className:"flex flex-col items-center gap-8 mt-12 text-black/90 dark:text-white/90",children:[d.jsxs("h2",{className:"lg:text-lg text-center animate-pulse text-black/50 dark:text-white/50",children:["Click the icon to know more about the people who made"," ",e.name,"!"]}),d.jsxs("div",{className:"inline-grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[d.jsx(Bh,{to:"https://www.facebook.com/SenpaiJayvee",src:"https://avatars.githubusercontent.com/u/143238040?v=4",alt:"Jv",text:"SenpaiJayvee",role:"documentation"}),d.jsx(Bh,{to:"https://moonbamiofficial.vercel.app/",src:"https://avatars.githubusercontent.com/u/141120384?v=4",alt:"Jam Moonbami",text:"moonbami",role:"developer"}),d.jsx(Bh,{to:"https://www.facebook.com/JirehTumbagahan",src:"https://avatars.githubusercontent.com/u/106262567?v=4",alt:"Jireh",text:"ecchiko",role:"developer"})]})]})]})}),d.jsx("hr",{className:"w-full border-surface-dark dark:border-dm-surface-light"})]})},$9="modulepreload",H9=function(t){return"/user/"+t},d1={},$h=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=H9(c),c in d1)return;d1[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":$9,u||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),u)return new Promise((p,v)=>{m.addEventListener("load",p),m.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},q9=(t,e,n)=>{const r=t[e];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((i,s)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})};function Xi(){return Xi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xi.apply(this,arguments)}const W9=["children","options"],re={blockQuote:"0",breakLine:"1",breakThematic:"2",codeBlock:"3",codeFenced:"4",codeInline:"5",footnote:"6",footnoteReference:"7",gfmTask:"8",heading:"9",headingSetext:"10",htmlBlock:"11",htmlComment:"12",htmlSelfClosing:"13",image:"14",link:"15",linkAngleBraceStyleDetector:"16",linkBareUrlDetector:"17",linkMailtoDetector:"18",newlineCoalescer:"19",orderedList:"20",paragraph:"21",ref:"22",refImage:"23",refLink:"24",table:"25",tableSeparator:"26",text:"27",textBolded:"28",textEmphasized:"29",textEscaped:"30",textMarked:"31",textStrikethroughed:"32",unorderedList:"33"};var h1;(function(t){t[t.MAX=0]="MAX",t[t.HIGH=1]="HIGH",t[t.MED=2]="MED",t[t.LOW=3]="LOW",t[t.MIN=4]="MIN"})(h1||(h1={}));const f1=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce((t,e)=>(t[e.toLowerCase()]=e,t),{class:"className",for:"htmlFor"}),p1={amp:"&",apos:"'",gt:">",lt:"<",nbsp:"",quot:""},G9=["style","script"],K9=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,Q9=/mailto:/i,Y9=/\n{2,}$/,YE=/^(\s*>[\s\S]*?)(?=\n\n|$)/,X9=/^ *> ?/gm,J9=/^(?:\[!([^\]]*)\]\n)?([\s\S]*)/,Z9=/^ {2,}\n/,ej=/^(?:( *[-*_])){3,} *(?:\n *)+\n/,XE=/^(?: {1,3})?(`{3,}|~{3,}) *(\S+)? *([^\n]*?)?\n([\s\S]*?)(?:\1\n?|$)/,JE=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,tj=/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,nj=/^(?:\n *)*\n/,rj=/\r\n?/g,ij=/^\[\^([^\]]+)](:(.*)((\n+ {4,}.*)|(\n(?!\[\^).+))*)/,sj=/^\[\^([^\]]+)]/,oj=/\f/g,aj=/^---[ \t]*\n(.|\n)*\n---[ \t]*\n/,lj=/^\s*?\[(x|\s)\]/,ZE=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,eT=/^ *(#{1,6}) +([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,tT=/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/,vp=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?((?:[^>]*[^/])?)>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1\b)[\s\S])*?)<\/\1>(?!<\/\1>)\n*/i,cj=/&([a-z0-9]+|#[0-9]{1,6}|#x[0-9a-fA-F]{1,6});/gi,nT=/^<!--[\s\S]*?(?:-->)/,uj=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,yp=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,dj=/^\{.*\}$/,hj=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,fj=/^<([^ >]+@[^ >]+)>/,pj=/^<([^ >]+:\/[^ >]+)>/,mj=/-([a-z])?/gi,rT=/^(\|.*)\n(?: *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*))?\n?/,gj=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,vj=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,yj=/^\[([^\]]*)\] ?\[([^\]]*)\]/,_j=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,xj=/\t/g,wj=/(^ *\||\| *$)/g,Ej=/^ *:-+: *$/,Tj=/^ *:-+ *$/,Sj=/^ *-+: *$/,zd="((?:\\[.*?\\][([].*?[)\\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~~.*?~~|==.*?==|.|\\n)*?)",Ij=new RegExp(`^([*_])\\1${zd}\\1\\1(?!\\1)`),bj=new RegExp(`^([*_])${zd}\\1(?!\\1|\\w)`),kj=new RegExp(`^==${zd}==`),Cj=new RegExp(`^~~${zd}~~`),Rj=/^\\([^0-9A-Za-z\s])/,Aj=/^[\s\S]+?(?=[^0-9A-Z\s\u00c0-\uffff&#;.()'"]|\d+\.|\n\n| {2,}\n|\w+:\S|$)/i,Pj=/^\n+/,Nj=/^([ \t]*)/,jj=/\\([^\\])/g,m1=/ *\n+$/,Dj=/(?:^|\n)( *)$/,mg="(?:\\d+\\.)",gg="(?:[*+-])";function iT(t){return"( *)("+(t===1?mg:gg)+") +"}const sT=iT(1),oT=iT(2);function aT(t){return new RegExp("^"+(t===1?sT:oT))}const Lj=aT(1),Mj=aT(2);function lT(t){return new RegExp("^"+(t===1?sT:oT)+"[^\\n]*(?:\\n(?!\\1"+(t===1?mg:gg)+" )[^\\n]*)*(\\n|$)","gm")}const cT=lT(1),uT=lT(2);function dT(t){const e=t===1?mg:gg;return new RegExp("^( *)("+e+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+e+" (?!"+e+" ))\\n*|\\s*\\n*$)")}const hT=dT(1),fT=dT(2);function g1(t,e){const n=e===1,r=n?hT:fT,i=n?cT:uT,s=n?Lj:Mj;return{match(o,l){const c=Dj.exec(l.prevCapture);return c&&(l.list||!l.inline&&!l.simple)?r.exec(o=c[1]+o):null},order:1,parse(o,l,c){const u=n?+o[2]:void 0,f=o[0].replace(Y9,`
`).match(i);let m=!1;return{items:f.map(function(p,v){const y=s.exec(p)[0].length,S=new RegExp("^ {1,"+y+"}","gm"),C=p.replace(S,"").replace(s,""),T=v===f.length-1,x=C.indexOf(`

`)!==-1||T&&m;m=x;const b=c.inline,L=c.list;let F;c.list=!0,x?(c.inline=!1,F=C.replace(m1,`

`)):(c.inline=!0,F=C.replace(m1,""));const P=l(F,c);return c.inline=b,c.list=L,P}),ordered:n,start:u}},render:(o,l,c)=>t(o.ordered?"ol":"ul",{key:c.key,start:o.type===re.orderedList?o.start:void 0},o.items.map(function(u,f){return t("li",{key:f},l(u,c))}))}}const Vj=new RegExp(`^\\[((?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*)\\]\\(\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['"]([\\s\\S]*?)['"])?\\s*\\)`),Oj=/^!\[(.*?)\]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/,pT=[YE,XE,JE,ZE,tT,eT,nT,rT,cT,hT,uT,fT],Fj=[...pT,/^[^\n]+(?:  \n|\n{2,})/,vp,yp];function ga(t){return t.replace(/[]/g,"a").replace(/[]/g,"c").replace(/[]/g,"d").replace(/[]/g,"e").replace(/[]/g,"i").replace(/[]/g,"n").replace(/[]/g,"o").replace(/[]/g,"u").replace(/[]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function zj(t){return Sj.test(t)?"right":Ej.test(t)?"center":Tj.test(t)?"left":null}function v1(t,e,n,r){const i=n.inTable;n.inTable=!0;let s=t.trim().split(/( *(?:`[^`]*`|\\\||\|) *)/).reduce((l,c)=>(c.trim()==="|"?l.push(r?{type:re.tableSeparator}:{type:re.text,text:c}):c!==""&&l.push.apply(l,e(c,n)),l),[]);n.inTable=i;let o=[[]];return s.forEach(function(l,c){l.type===re.tableSeparator?c!==0&&c!==s.length-1&&o.push([]):(l.type!==re.text||s[c+1]!=null&&s[c+1].type!==re.tableSeparator||(l.text=l.text.trimEnd()),o[o.length-1].push(l))}),o}function Uj(t,e,n){n.inline=!0;const r=t[2]?t[2].replace(wj,"").split("|").map(zj):[],i=t[3]?function(o,l,c){return o.trim().split(`
`).map(function(u){return v1(u,l,c,!0)})}(t[3],e,n):[],s=v1(t[1],e,n,!!i.length);return n.inline=!1,i.length?{align:r,cells:i,header:s,type:re.table}:{children:s,type:re.paragraph}}function y1(t,e){return t.align[e]==null?{}:{textAlign:t.align[e]}}function Jr(t){return function(e,n){return n.inline?t.exec(e):null}}function Zr(t){return function(e,n){return n.inline||n.simple?t.exec(e):null}}function mr(t){return function(e,n){return n.inline||n.simple?null:t.exec(e)}}function va(t){return function(e){return t.exec(e)}}function Bj(t,e){if(e.inline||e.simple)return null;let n="";t.split(`
`).every(i=>!pT.some(s=>s.test(i))&&(n+=i+`
`,i.trim()));const r=n.trimEnd();return r==""?null:[n,r]}function $j(t){try{if(decodeURIComponent(t).replace(/[^A-Za-z0-9/:]/g,"").match(/^\s*(javascript|vbscript|data(?!:image)):/i))return null}catch{return null}return t}function _1(t){return t.replace(jj,"$1")}function Xc(t,e,n){const r=n.inline||!1,i=n.simple||!1;n.inline=!0,n.simple=!0;const s=t(e,n);return n.inline=r,n.simple=i,s}function Hj(t,e,n){const r=n.inline||!1,i=n.simple||!1;n.inline=!1,n.simple=!0;const s=t(e,n);return n.inline=r,n.simple=i,s}function qj(t,e,n){const r=n.inline||!1;n.inline=!1;const i=t(e,n);return n.inline=r,i}const Hh=(t,e,n)=>({children:Xc(e,t[1],n)});function qh(){return{}}function Wh(){return null}function Wj(...t){return t.filter(Boolean).join(" ")}function Gh(t,e,n){let r=t;const i=e.split(".");for(;i.length&&(r=r[i[0]],r!==void 0);)i.shift();return r||n}function Gj(t="",e={}){function n(p,v,...y){const S=Gh(e.overrides,`${p}.props`,{});return e.createElement(function(C,T){const x=Gh(T,C);return x?typeof x=="function"||typeof x=="object"&&"render"in x?x:Gh(T,`${C}.component`,C):C}(p,e.overrides),Xi({},v,S,{className:Wj(v==null?void 0:v.className,S.className)||void 0}),...y)}function r(p){p=p.replace(aj,"");let v=!1;e.forceInline?v=!0:e.forceBlock||(v=_j.test(p)===!1);const y=u(c(v?p:`${p.trimEnd().replace(Pj,"")}

`,{inline:v}));for(;typeof y[y.length-1]=="string"&&!y[y.length-1].trim();)y.pop();if(e.wrapper===null)return y;const S=e.wrapper||(v?"span":"div");let C;if(y.length>1||e.forceWrapper)C=y;else{if(y.length===1)return C=y[0],typeof C=="string"?n("span",{key:"outer"},C):C;C=null}return A.createElement(S,{key:"outer"},C)}function i(p,v){const y=v.match(K9);return y?y.reduce(function(S,C,T){const x=C.indexOf("=");if(x!==-1){const b=function(I){return I.indexOf("-")!==-1&&I.match(uj)===null&&(I=I.replace(mj,function(_,w){return w.toUpperCase()})),I}(C.slice(0,x)).trim(),L=function(I){const _=I[0];return(_==='"'||_==="'")&&I.length>=2&&I[I.length-1]===_?I.slice(1,-1):I}(C.slice(x+1).trim()),F=f1[b]||b;if(F==="ref")return S;const P=S[F]=function(I,_,w,k){return _==="style"?w.split(/;\s?/).reduce(function(N,j){const R=j.slice(0,j.indexOf(":"));return N[R.trim().replace(/(-[a-z])/g,ie=>ie[1].toUpperCase())]=j.slice(R.length+1).trim(),N},{}):_==="href"||_==="src"?k(w,I,_):(w.match(dj)&&(w=w.slice(1,w.length-1)),w==="true"||w!=="false"&&w)}(p,b,L,e.sanitizer);typeof P=="string"&&(vp.test(P)||yp.test(P))&&(S[F]=A.cloneElement(r(P.trim()),{key:T}))}else C!=="style"&&(S[f1[C]||C]=!0);return S},{}):null}e.overrides=e.overrides||{},e.sanitizer=e.sanitizer||$j,e.slugify=e.slugify||ga,e.namedCodesToUnicode=e.namedCodesToUnicode?Xi({},p1,e.namedCodesToUnicode):p1,e.createElement=e.createElement||A.createElement;const s=[],o={},l={[re.blockQuote]:{match:mr(YE),order:1,parse(p,v,y){const[,S,C]=p[0].replace(X9,"").match(J9);return{alert:S,children:v(C,y)}},render(p,v,y){const S={key:y.key};return p.alert&&(S.className="markdown-alert-"+e.slugify(p.alert.toLowerCase(),ga),p.children.unshift({attrs:{},children:[{type:re.text,text:p.alert}],noInnerParse:!0,type:re.htmlBlock,tag:"header"})),n("blockquote",S,v(p.children,y))}},[re.breakLine]:{match:va(Z9),order:1,parse:qh,render:(p,v,y)=>n("br",{key:y.key})},[re.breakThematic]:{match:mr(ej),order:1,parse:qh,render:(p,v,y)=>n("hr",{key:y.key})},[re.codeBlock]:{match:mr(JE),order:0,parse:p=>({lang:void 0,text:p[0].replace(/^ {4}/gm,"").replace(/\n+$/,"")}),render:(p,v,y)=>n("pre",{key:y.key},n("code",Xi({},p.attrs,{className:p.lang?`lang-${p.lang}`:""}),p.text))},[re.codeFenced]:{match:mr(XE),order:0,parse:p=>({attrs:i("code",p[3]||""),lang:p[2]||void 0,text:p[4],type:re.codeBlock})},[re.codeInline]:{match:Zr(tj),order:3,parse:p=>({text:p[2]}),render:(p,v,y)=>n("code",{key:y.key},p.text)},[re.footnote]:{match:mr(ij),order:0,parse:p=>(s.push({footnote:p[2],identifier:p[1]}),{}),render:Wh},[re.footnoteReference]:{match:Jr(sj),order:1,parse:p=>({target:`#${e.slugify(p[1],ga)}`,text:p[1]}),render:(p,v,y)=>n("a",{key:y.key,href:e.sanitizer(p.target,"a","href")},n("sup",{key:y.key},p.text))},[re.gfmTask]:{match:Jr(lj),order:1,parse:p=>({completed:p[1].toLowerCase()==="x"}),render:(p,v,y)=>n("input",{checked:p.completed,key:y.key,readOnly:!0,type:"checkbox"})},[re.heading]:{match:mr(e.enforceAtxHeadings?eT:ZE),order:1,parse:(p,v,y)=>({children:Xc(v,p[2],y),id:e.slugify(p[2],ga),level:p[1].length}),render:(p,v,y)=>n(`h${p.level}`,{id:p.id,key:y.key},v(p.children,y))},[re.headingSetext]:{match:mr(tT),order:0,parse:(p,v,y)=>({children:Xc(v,p[1],y),level:p[2]==="="?1:2,type:re.heading})},[re.htmlBlock]:{match:va(vp),order:1,parse(p,v,y){const[,S]=p[3].match(Nj),C=new RegExp(`^${S}`,"gm"),T=p[3].replace(C,""),x=(b=T,Fj.some(_=>_.test(b))?qj:Xc);var b;const L=p[1].toLowerCase(),F=G9.indexOf(L)!==-1,P=(F?L:p[1]).trim(),I={attrs:i(P,p[2]),noInnerParse:F,tag:P};return y.inAnchor=y.inAnchor||L==="a",F?I.text=p[3]:I.children=x(v,T,y),y.inAnchor=!1,I},render:(p,v,y)=>n(p.tag,Xi({key:y.key},p.attrs),p.text||(p.children?v(p.children,y):""))},[re.htmlSelfClosing]:{match:va(yp),order:1,parse(p){const v=p[1].trim();return{attrs:i(v,p[2]||""),tag:v}},render:(p,v,y)=>n(p.tag,Xi({},p.attrs,{key:y.key}))},[re.htmlComment]:{match:va(nT),order:1,parse:()=>({}),render:Wh},[re.image]:{match:Zr(Oj),order:1,parse:p=>({alt:p[1],target:_1(p[2]),title:p[3]}),render:(p,v,y)=>n("img",{key:y.key,alt:p.alt||void 0,title:p.title||void 0,src:e.sanitizer(p.target,"img","src")})},[re.link]:{match:Jr(Vj),order:3,parse:(p,v,y)=>({children:Hj(v,p[1],y),target:_1(p[2]),title:p[3]}),render:(p,v,y)=>n("a",{key:y.key,href:e.sanitizer(p.target,"a","href"),title:p.title},v(p.children,y))},[re.linkAngleBraceStyleDetector]:{match:Jr(pj),order:0,parse:p=>({children:[{text:p[1],type:re.text}],target:p[1],type:re.link})},[re.linkBareUrlDetector]:{match:(p,v)=>v.inAnchor||e.disableAutoLink?null:Jr(hj)(p,v),order:0,parse:p=>({children:[{text:p[1],type:re.text}],target:p[1],title:void 0,type:re.link})},[re.linkMailtoDetector]:{match:Jr(fj),order:0,parse(p){let v=p[1],y=p[1];return Q9.test(y)||(y="mailto:"+y),{children:[{text:v.replace("mailto:",""),type:re.text}],target:y,type:re.link}}},[re.orderedList]:g1(n,1),[re.unorderedList]:g1(n,2),[re.newlineCoalescer]:{match:mr(nj),order:3,parse:qh,render:()=>`
`},[re.paragraph]:{match:Bj,order:3,parse:Hh,render:(p,v,y)=>n("p",{key:y.key},v(p.children,y))},[re.ref]:{match:Jr(gj),order:0,parse:p=>(o[p[1]]={target:p[2],title:p[4]},{}),render:Wh},[re.refImage]:{match:Zr(vj),order:0,parse:p=>({alt:p[1]||void 0,ref:p[2]}),render:(p,v,y)=>o[p.ref]?n("img",{key:y.key,alt:p.alt,src:e.sanitizer(o[p.ref].target,"img","src"),title:o[p.ref].title}):null},[re.refLink]:{match:Jr(yj),order:0,parse:(p,v,y)=>({children:v(p[1],y),fallbackChildren:p[0],ref:p[2]}),render:(p,v,y)=>o[p.ref]?n("a",{key:y.key,href:e.sanitizer(o[p.ref].target,"a","href"),title:o[p.ref].title},v(p.children,y)):n("span",{key:y.key},p.fallbackChildren)},[re.table]:{match:mr(rT),order:1,parse:Uj,render(p,v,y){const S=p;return n("table",{key:y.key},n("thead",null,n("tr",null,S.header.map(function(C,T){return n("th",{key:T,style:y1(S,T)},v(C,y))}))),n("tbody",null,S.cells.map(function(C,T){return n("tr",{key:T},C.map(function(x,b){return n("td",{key:b,style:y1(S,b)},v(x,y))}))})))}},[re.text]:{match:va(Aj),order:4,parse:p=>({text:p[0].replace(cj,(v,y)=>e.namedCodesToUnicode[y]?e.namedCodesToUnicode[y]:v)}),render:p=>p.text},[re.textBolded]:{match:Zr(Ij),order:2,parse:(p,v,y)=>({children:v(p[2],y)}),render:(p,v,y)=>n("strong",{key:y.key},v(p.children,y))},[re.textEmphasized]:{match:Zr(bj),order:3,parse:(p,v,y)=>({children:v(p[2],y)}),render:(p,v,y)=>n("em",{key:y.key},v(p.children,y))},[re.textEscaped]:{match:Zr(Rj),order:1,parse:p=>({text:p[1],type:re.text})},[re.textMarked]:{match:Zr(kj),order:3,parse:Hh,render:(p,v,y)=>n("mark",{key:y.key},v(p.children,y))},[re.textStrikethroughed]:{match:Zr(Cj),order:3,parse:Hh,render:(p,v,y)=>n("del",{key:y.key},v(p.children,y))}};e.disableParsingRawHTML===!0&&(delete l[re.htmlBlock],delete l[re.htmlSelfClosing]);const c=function(p){let v=Object.keys(p);function y(S,C){let T=[];for(C.prevCapture=C.prevCapture||"";S;){let x=0;for(;x<v.length;){const b=v[x],L=p[b],F=L.match(S,C);if(F){const P=F[0];C.prevCapture+=P,S=S.substring(P.length);const I=L.parse(F,y,C);I.type==null&&(I.type=b),T.push(I);break}x++}}return C.prevCapture="",T}return v.sort(function(S,C){let T=p[S].order,x=p[C].order;return T!==x?T-x:S<C?-1:1}),function(S,C){return y(function(T){return T.replace(rj,`
`).replace(oj,"").replace(xj,"    ")}(S),C)}}(l),u=(f=function(p,v){return function(y,S,C){const T=p[y.type].render;return v?v(()=>T(y,S,C),y,S,C):T(y,S,C)}}(l,e.renderRule),function p(v,y={}){if(Array.isArray(v)){const S=y.key,C=[];let T=!1;for(let x=0;x<v.length;x++){y.key=x;const b=p(v[x],y),L=typeof b=="string";L&&T?C[C.length-1]+=b:b!==null&&C.push(b),T=L}return y.key=S,C}return f(v,p,y)});var f;const m=r(t);return s.length?n("div",null,m,n("footer",{key:"footer"},s.map(function(p){return n("div",{id:e.slugify(p.identifier,ga),key:p.identifier},p.identifier,u(c(p.footnote,{inline:!0})))}))):m}const Kj=t=>{let{children:e="",options:n}=t,r=function(i,s){if(i==null)return{};var o,l,c={},u=Object.keys(i);for(l=0;l<u.length;l++)s.indexOf(o=u[l])>=0||(c[o]=i[o]);return c}(t,W9);return A.cloneElement(Gj(e,n),r)},Qj=()=>{const t="SECURITY",[e,n]=A.useState("");return A.useEffect(()=>{q9(Object.assign({"../../../../../docs/CHANGELOG.md":()=>$h(()=>import("./CHANGELOG-CYPKpRHJ.js"),[]),"../../../../../docs/CONTRIBUTING.md":()=>$h(()=>import("./CONTRIBUTING-DOJ24yvG.js"),[]),"../../../../../docs/SECURITY.md":()=>$h(()=>import("./SECURITY-DMgf591S.js"),[])}),`../../../../../docs/${t}.md`,7).then(r=>{fetch(r.default).then(i=>i.text()).then(i=>n(i)).catch(i=>console.log(i))}).catch(r=>console.log(r))}),d.jsx("section",{id:"security",children:e?d.jsx(Kj,{className:"max-w-[90%] dark:text-white/70",children:e}):d.jsxs("div",{children:[d.jsx(Gt,{className:"max-w-[35%] h-[48px] mb-4"}),d.jsx(Gt,{className:"max-w-[90%] h-[100px] mb-8"}),d.jsx(Gt,{className:"max-w-[40%] h-[48px] mb-4"}),d.jsx(Gt,{className:"max-w-[50%] h-[100px] mb-4"}),d.jsx(Gt,{className:"max-w-[90%] h-[70px]"})]})})},Yj=()=>{const t=A.useContext(st),{configuration:e}=t.configuration,n=A.useContext(Fr),{isSettingsActive:r,setIsSettingsActive:i}=n.settings,[s,o]=A.useState("appearance"),l=f=>{o(f.target.value)},c=f=>{switch(f){case"appearance":o(f);break;case"sound":o(f);break;case e.name:o(f);break;case"chatbot team":o(f);break;case"security":o(f);break;default:o("appearance");break}},u=()=>{switch(s){case"appearance":return d.jsx(c1,{});case"sound":return d.jsx(F9,{});case e.name:return d.jsx(U9,{});case"chatbot team":return d.jsx(B9,{});case"security":return d.jsx(Qj,{});default:return d.jsx(c1,{})}};return d.jsxs(d.Fragment,{children:[d.jsxs("section",{className:`fixed xl:top-[50%] xl:translate-y-[-50%] xl:inset-x-0 mx-auto xl:max-w-[75%] w-full xl:max-h-[90%] h-full xl:rounded-lg border-none overflow-hidden bg-background dark:bg-dm-surface-light flex z-[150] selection:bg-primary selection:text-white ${r?"animate-open-modal opacity-100 visible":"opacity-0 invisible hidden"}`,children:[d.jsx(T9,{state:s,handleSettingsChange:l,changeSetting:c}),d.jsx("div",{className:"w-full pl-[23%] sm:pl-[18%] md:pl-[23%] pr-6 xl:pr-8 py-20 dark:bg-dm-background overflow-y-scroll scrollbar-thin scrollbar-track-transparent scrollbar-thumb-surface-dark dark:scrollbar-thumb-dm-surface-dark",children:u()}),d.jsx(je,{variant:"destructiveOutline",size:"lg",className:"hidden sm:block absolute top-4 right-20 border-surface dark:border-dm-surface bg-surface dark:bg-dm-surface hover:text-white dark:hover:text-white",onClick:()=>i(!r),children:"back"}),d.jsx(je,{variant:"icon",size:"icon",className:"sm:hidden border ml-auto text-error border-surface dark:border-dm-surface bg-surface dark:bg-dm-surface dark:hover:bg-error hover:bg-error [&>svg>path]:hover:text-white absolute top-4 right-10",onClick:()=>i(!r),children:d.jsx(WE,{})})]}),d.jsx(GE,{className:`${r?"backdrop-blur":"opacity-0 invisible"} bg-black/30 z-[140]`})]})},Xj=({isLargeScreen:t,toggleLargeScreen:e,closeUsing:n})=>{const r=A.useContext(st),{configuration:i}=(r==null?void 0:r.configuration)||{},s=A.useContext(Fr),{isSettingsActive:o,setIsSettingsActive:l}=s.settings;return d.jsxs("header",{id:"chat-ui-header",className:"w-full flex items-center justify-between px-4 py-2 sm:py-3 lg:py-4 mr-auto border-b-2 dark:border-b-dm-surface-dark",children:[d.jsxs("button",{onClick:()=>l(!o),id:"chatbot-detai",className:"max-w-[60%] w-full flex items-center gap-4",children:[d.jsx("img",{src:i==null?void 0:i.icon,alt:"Chatbot Icon",width:40,height:40,className:"rounded-full sm:w-[45px] sm:h-[45px] aspect-square object-cover select-none"}),d.jsx("h3",{className:"max-w-max text-xl sm:text-2xl capitalize font-semibold dark:text-white truncate",children:i==null?void 0:i.name})]}),d.jsxs("menu",{className:"flex gap-4 justify-end items-center",children:[d.jsx(je,{variant:"icon",size:"icon",className:"hidden xl:block rounded-full hover:bg-primary [&>svg>path]:hover:text-white [&>svg>path]:dark:text-white group",onClick:e,children:t?d.jsx(bN,{className:"group-hover:animate-pulse"}):d.jsx(IN,{className:"group-hover:animate-pulse"})}),d.jsx(je,{variant:"icon",size:"icon",className:"rounded-full hover:bg-primary hover:rotate-180 [&>svg>path]:hover:text-white [&>svg>path]:dark:text-white",onClick:()=>l(!o),children:d.jsx(U6,{})}),d.jsx(je,{variant:"icon",size:"icon",className:"rounded-full hover:bg-error group [&>svg>path]:hover:text-white [&>svg>path]:dark:text-white",onClick:n,children:d.jsx(BE,{})})]})]})},Jj=({closeUsing:t})=>{const{latestChat:e,questionsListRef:n,isFaqsMenuActive:r,setIsFaqsMenuActive:i,userMessage:s,setUserMessage:o,sendMessageToBot:l,sendSuggestedQueryToBot:c}=E6(),u=A.useContext(Oo),{fontFamily:f}=u.family,m=A.useContext(Fr),{isChatActive:p}=m.active,[v,y]=A.useState(!1),S=()=>{y(!v)};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{id:"message-box",className:`w-full h-full ${v?"xl:max-w-full xl:right-0 xl:bottom-0 [@media_((min-height:0px)_and_(min-width:1280px))]:max-h-full":"xl:max-w-[500px] xl:right-[10%] xl:bottom-[8%] xl:rounded-xl [@media_((min-height:0px)_and_(min-width:1280px))]:max-h-[85%]"} fixed flex flex-col items-center bg-background dark:bg-dm-background overflow-hidden z-[100] selection:bg-primary selection:text-white ${p?"":"translate-y-full opacity-0 invisible"}`,style:{fontFamily:f},children:[d.jsx(Xj,{isLargeScreen:v,toggleLargeScreen:S,closeUsing:t}),d.jsx(w9,{latestChat:e,isLargeScreen:v}),d.jsx(S6,{sendSuggestedQueryToBot:c,isLargeScreen:v}),d.jsx(B6,{questionsListRef:n,sendMessageToBot:l,sendSuggestedQueryToBot:c,userMessage:s,setUserMessage:o,isFaqsMenuActive:r,setIsFaqsMenuActive:i,isLargeScreen:v}),d.jsx("div",{className:"text-xs text-center text-black/70 dark:text-white/50 py-3 px-5",children:"The Chatbot can make mistake. Please double check the answers."})]}),d.jsx(Yj,{})]})},Kh=({children:t,className:e})=>d.jsx("section",{className:`md:container md:max-w-[756px] lg:max-w-[1021px] flex flex-col ${e}`,children:t}),x1=({href:t,text:e})=>d.jsx("a",{href:t,className:"capitalize font-bold py-5",children:e});function Zj(t){return le({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11.9999 13.1714L16.9497 8.22168L18.3639 9.63589L11.9999 15.9999L5.63599 9.63589L7.0502 8.22168L11.9999 13.1714Z"},child:[]}]})(t)}function eD(t){return le({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10.8284 12.0007L15.7782 16.9504L14.364 18.3646L8 12.0007L14.364 5.63672L15.7782 7.05093L10.8284 12.0007Z"},child:[]}]})(t)}function tD(t){return le({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13.1717 12.0007L8.22192 7.05093L9.63614 5.63672L16.0001 12.0007L9.63614 18.3646L8.22192 16.9504L13.1717 12.0007Z"},child:[]}]})(t)}const ya=({text:t,dropdownOne:e,dropdownTwo:n,dropdownThree:r,dropdownFour:i,dropdownFive:s,toggle:o,href:l})=>d.jsxs("div",{onMouseEnter:o,onMouseLeave:o,className:"relative flex items-center gap-1 py-5 cursor-pointer",children:[l?d.jsx("a",{href:l,className:"capitalize font-bold w-full h-full",children:t}):d.jsx("p",{className:"capitalize font-bold",children:t}),d.jsx("span",{className:"[&>svg>path]:font-semibold",children:d.jsx(Zj,{})}),e&&d.jsxs(_a,{children:[d.jsx(Le,{href:"https://bacoor.gov.ph/uncategorized/vision-mission/",text:"mission & vision"}),d.jsx(Le,{href:"https://bacoor.gov.ph/historical-background-of-bacoor/",text:"historical background of bacoor"}),d.jsx(Le,{href:"https://bacoor.gov.ph/videos/352nd-bakood-festival/",text:"352nd bacoor festival"}),d.jsx(Le,{href:"https://bacoor.gov.ph/ang-himno-ng-bacoor/",text:"ang himno ng bacoor"}),d.jsx(Le,{href:"https://bacoor.gov.ph/category/tourism/",text:"tourism"})]}),n&&d.jsxs(_a,{children:[d.jsx(Le,{href:"#",text:"citizen charter"}),d.jsx(Le,{href:"https://bacoor.gov.ph/city-officials/",text:"city officials"}),d.jsx(Le,{href:"https://bacoor.gov.ph/city-and-units-heads/",text:"city department and unit heads"}),d.jsx(Le,{href:"https://bacoor.gov.ph/barangay-officials-2023/",text:"barangay officials"}),d.jsx(Le,{href:"http://bacoorcitysp.com/legislative-tracker/",text:"city ordinances"}),d.jsx(Le,{href:"#",text:"DILG Full Disclosure Policy"}),d.jsx(Le,{href:"https://bacoor.gov.ph/clup-2015-2024/",text:"CLUP (2015-2024)"}),d.jsx(Le,{href:"https://bacoor.gov.ph/job-vacancies/",text:"job vacancies"}),d.jsx(Le,{href:"https://bacoor.gov.ph/privacy-policy/",text:"privacy policy"}),d.jsx(Le,{href:"https://bacoor.gov.ph/iso-quality-management-system/",text:"ISO (Quality Management System)"})]}),r&&d.jsxs(_a,{children:[d.jsx(Le,{href:"https://bacoor.gov.ph/category/awards/",text:"Awards / Accomplishment"}),d.jsx(Le,{href:"https://www.facebook.com/MayorStrikeRevilla",text:"Official Facebook"}),d.jsx(Le,{href:"https://www.strikesaserbisyo.com/",text:"Strike Sa Serbisyo App Website"}),d.jsx(Le,{href:"#",text:"Mayor Strike - SCAN ME"})]}),i&&d.jsxs(_a,{children:[d.jsx(Le,{href:"https://boss.bacoor.gov.ph/",text:"Online Application for Business & Building Permits"}),d.jsx(Le,{href:"https://boss.bacoor.gov.ph/",text:"Online Appointment for Real Property Tax, Business & Building Permits"}),d.jsx(Le,{href:"https://boss.bacoor.gov.ph/",text:"Solidarity Route Online Registration System"}),d.jsx(Le,{href:"http://bacoorcitysp.com/legislative-tracker/",text:"city ordinances"})]}),s&&d.jsxs(_a,{children:[d.jsx(Le,{href:"https://bacoor.gov.ph/bacoor-hospital-directory/",text:"hospital directory"}),d.jsx(Le,{href:"https://bacoor.gov.ph/local-directory-of-bacoor-government-center/",text:"Local Gov't Offices"}),d.jsx(Le,{href:"https://bacoor.gov.ph/city-and-units-heads/",text:"City Department and Unit Heads"}),d.jsx(Le,{href:"https://bacoor.gov.ph/barangay-hall-directory/",text:"barangay hall"}),d.jsx(Le,{href:"https://bacoor.gov.ph/national-government-agenciesoffices/",text:"National Government Agencies/Offices"})]})]}),_a=({children:t})=>d.jsx("div",{className:"w-[250px] absolute top-[60px] -left-6 flex flex-col text-xs text-black bg-white py-2 px-6",children:t}),Le=({href:t,text:e})=>d.jsx("a",{href:t,className:"capitalize py-3 text-xs font-bold hover:text-[#ff0202]",children:e});function nD(t){return le({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(t)}function rD(t){return le({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M447.8 153.6c-2 43.6-32.4 103.3-91.4 179.1-60.9 79.2-112.4 118.8-154.6 118.8-26.1 0-48.2-24.1-66.3-72.3C100.3 250 85.3 174.3 56.2 174.3c-3.4 0-15.1 7.1-35.2 21.1L0 168.2c51.6-45.3 100.9-95.7 131.8-98.5 34.9-3.4 56.3 20.5 64.4 71.5 28.7 181.5 41.4 208.9 93.6 126.7 18.7-29.6 28.8-52.1 30.2-67.6 4.8-45.9-35.8-42.8-63.3-31 22-72.1 64.1-107.1 126.2-105.1 45.8 1.2 67.5 31.1 64.9 89.4z"},child:[]}]})(t)}function iD(t){return le({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(t)}function sD(t){return le({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}const mT="/user/assets/city-hall-logo-DhRF3KuD.png",oD=({isMenuActive:t,setIsMenuActive:e,isSearchActive:n,setIsSearchActive:r})=>{const[i,s]=A.useState(!1),[o,l]=A.useState(!1),[c,u]=A.useState(!1),[f,m]=A.useState(!1),[p,v]=A.useState(!1),y=()=>{s(!i)},S=()=>{l(!o)},C=()=>{u(!c)},T=()=>{m(!f)},x=()=>{v(!p)};return d.jsxs("header",{className:" bg-[#1a94d5] text-white text-sm z-10",children:[d.jsxs("nav",{className:"hidden md:flex w-full items-center gap-[30px] pl-8",children:[d.jsx(x1,{href:"https://bacoor.gov.ph/",text:"home"}),d.jsx(ya,{text:"about bacoor",dropdownOne:i,toggle:y}),d.jsx(ya,{text:"city government",dropdownTwo:o,toggle:S}),d.jsx(ya,{href:"https://bacoor.gov.ph/mayor-strike-b-revilla-feed/",text:"mayor's corner",dropdownThree:c,toggle:C}),d.jsx(x1,{href:"https://bacoor.gov.ph/category/gallery/",text:"gallery"}),d.jsx(ya,{text:"services",dropdownFour:f,toggle:T}),d.jsx(ya,{text:"directory",dropdownFive:p,toggle:x}),d.jsx("button",{"aria-label":"Search Button",id:"search",className:"text-lg p-5 ml-auto",children:d.jsx(zN,{})})]}),d.jsxs("nav",{className:"flex items-center justify-between md:hidden",children:[d.jsx(je,{onClick:()=>e(!t),className:"bg-transparent dark:bg-transparent border-none m-2",children:d.jsx(r9,{className:"text-4xl text-[#ff0202]"})}),d.jsx("a",{href:"https://bacoor.gov.ph/",children:d.jsx("img",{src:mT,alt:"",className:"max-w-[40px]"})}),d.jsx(je,{onClick:()=>r(!n),className:"bg-transparent dark:bg-transparent border-none m-2",children:d.jsx(sD,{className:"text-2xl text-[#ff0202]"})})]})]})},Gu=new Date,aD=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],lD=["January","February","March","April","May","June","July","August","September","October","November","December"],cD=aD[Gu.getDay()],uD=lD[Gu.getMonth()],dD=`${cD}, ${uD} ${Gu.getDate()}, ${Gu.getFullYear()}`,hD=()=>d.jsx(d.Fragment,{children:d.jsxs("div",{id:"date-header",className:"w-full relative flex gap-10 text-xs py-1 text-white font-bold uppercase",children:[d.jsx("div",{id:"city",className:"",children:d.jsx("p",{children:"bacoor"})}),d.jsx("p",{id:"date",children:dD})]})}),fD=()=>d.jsx("a",{"aria-label":"Bacoor City Hall Logo",href:"https://bacoor.gov.ph/",className:"w-[125px] h-[125px] mx-auto",children:d.jsx("img",{src:mT,alt:"Bacoor City Hall Logo",id:"main-logo",className:"rounded-full"})}),pD="/user/assets/article-image-1-6tQld0xJ.jpg",mD="/user/assets/article-image-2-B6HQEfwh.png",gD="/user/assets/article-image-3-Cavo1pST.png",vD="/user/assets/article-image-4-DsJ6AYkb.png",yD=()=>d.jsxs("article",{id:"left",className:"max-w-[680px] w-full h-full flex flex-col items-center",children:[d.jsx("img",{src:pD,alt:"",width:600,height:480,className:"p-5"}),d.jsxs("div",{className:"text-sm p-5",children:[d.jsx("a",{href:"https://bacoor.gov.ph/latest-news/parent-leaders-ng-zapote-3-nagbigay-ng-liham-para-kay-mayor-strike-b-revilla/",className:"mb-2",children:d.jsx("img",{src:mD,alt:"",className:"max-w"})}),d.jsx("p",{children:"Nabasa ni Mayor Strike B. Revilla ang pinadalang message sa kanya ng Parent Leaders ng Longos Zapote 3 sa kanyang opisina sa Bacoor City Hall. Masaya po naming nasaksihan ang naramdamang saya at lakas ng ating Mayor kanina. Nakakatuwa po..."})]}),d.jsxs("div",{className:"text-sm p-5",children:[d.jsx("a",{href:"https://bacoor.gov.ph/latest-news/tignan-unang-araw-ng-senakulo-ginanap-sa-san-nicolas-3/",className:"mb-2",children:d.jsx("img",{src:gD,alt:"",className:"max-w"})}),d.jsx("p",{children:"Noong March 25, 2024, isinagawa ang unang araw ng Senakulo na ginanap sa San Nicolas 3. Dumalo rin naman sa unang araw si Fr. Ramoncito Tadepa na nanguna sa pagbibigay ng Banal na Misa na nilahukan naman ito na Senakulista..."})]}),d.jsxs("div",{className:"text-sm p-5",children:[d.jsx("a",{href:"https://bacoor.gov.ph/latest-news/parent-leaders-ng-zapote-3-nagbigay-ng-liham-para-kay-mayor-strike-b-revilla/",className:"mb-2",children:d.jsx("img",{src:vD,alt:"",className:"max-w"})}),d.jsx("p",{children:'In a remarkable display of unity and collaboration, the City of Bacoor witnessed the launch of a groundbreaking partnership between private and public schools. The event, titled "Strike As 1 Ng Mga Nagkakaisang Paaralan," was organized by Mayor Strike...'})]})]});function _D(t){return le({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"},child:[]}]})(t)}const is=({text:t})=>d.jsx("div",{className:"bg-[#ff0202] px-3 capitalize text-white font-semibold text-sm rounded mr-auto inline",children:t}),xD="/user/assets/bacoor-city-hall-BIxqV_j3.png",wD=()=>d.jsxs("article",{id:"right",className:"md:max-w-[340px] w-full border-l border-gray-300 ",children:[d.jsxs("div",{id:"about-bacoor",className:"flex flex-col gap-5 items-center px-5 pt-5 pb-10",children:[d.jsx(is,{text:"about bacoor"}),d.jsx("img",{src:xD,alt:"",width:300,height:100}),d.jsx("p",{className:"text-sm text-justify",children:"The City Government of Bacoor is the gateway to the province of Cavite. Bacoor is the first capital of the Revolutionary Government under General Emilio Aguinaldo. A historical landmark in our forebears' quest for Philippine Independence was the hard-fought Battle of Zapote Bridge on February 17, 1897. Gargano was the revolutionary name given to Bacoor."}),d.jsxs("a",{href:"http://bacoor.gov.ph/historical-background-of-bacoor/",className:"px-5 py-2 bg-[#1a94d5] rounded text-sm text-white capitalize flex items-center gap-1 ",children:[d.jsx(_D,{}),"history of bacoor"]}),d.jsxs("div",{id:"mission-vision",className:"text-sm",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"capitalize text-center text-xl pb-5",children:"mission"}),d.jsx("p",{className:"text-center",children:"To institute good governance, promote culture, trade and investment in the City, through modern technology towards a safe and sound environment."})]}),d.jsxs("div",{children:[d.jsx("h1",{className:"capitalize text-center text-xl pb-5",children:"vision"}),d.jsx("p",{className:"text-center t",children:"City of Bacoor: A model first class city, home of resilient, empowered, environment-friendly citizens, proud of their rich history and culture ably led by people-centered public servants united and guided by the rule of law, love of country and of God."})]})]})]}),d.jsxs("div",{id:"announcements",className:"flex flex-col bg-black text-white p-5",children:[d.jsx(is,{text:"announcement"}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"Memorandum Order No. 10 Series of 2024"}),d.jsx("p",{className:"text-xs text-gray-300",children:"March 25, 2024"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"Advisory: Heavy Traffic"}),d.jsx("p",{className:"text-xs text-gray-300",children:"March 18, 2024"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"SPECIAL (NON-WORKING) HOLIDAY in the province of Cavite through Proclamation No. 492"}),d.jsx("p",{className:"text-xs text-gray-300",children:"March 14, 2024"})]})]}),d.jsxs("div",{id:"city-bulletin",className:"flex flex-col p-5",children:[d.jsx(is,{text:"city bulletin"}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"Annual Procurement Plan 2024"}),d.jsx("p",{className:"text-xs",children:"January 31, 2024"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"ANNUAL BUDGET 2024"}),d.jsx("p",{className:"text-xs",children:"December 6, 2023"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"Public-Private Partnership Selection Committee Invitation for Comparative Proposals"}),d.jsx("p",{className:"text-xs",children:"November 7, 2023"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"CERTIFICATION OF BARANGAY MERGER"}),d.jsx("p",{className:"text-xs",children:"September 15, 2023"})]})]}),d.jsxs("div",{id:"announcements",className:"flex flex-col bg-black text-white p-5",children:[d.jsx(is,{text:"DILG Full Disclosure Policy"}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"DILG Full Disclosure Policy 2024"}),d.jsx("p",{className:"text-xs text-gray-300",children:"January 3, 2024"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"DILG Full Disclosure Policy 2023"}),d.jsx("p",{className:"text-xs text-gray-300",children:"December 19, 2022"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"DILG Full Disclosure Policy 2022"}),d.jsx("p",{className:"text-xs text-gray-300",children:"January 4, 2022"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"DILG Full Disclosure Policy 2021"}),d.jsx("p",{className:"text-xs text-gray-300",children:"January 7, 2021"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"DILG Full Disclosure Policy 2020"}),d.jsx("p",{className:"text-xs text-gray-300",children:"January 7, 2020"})]})]})]}),ED="/user/assets/strike-scan-BmL1ajXO.jpg",TD="/user/assets/fb-page-5ekxKhTM.png",SD=()=>d.jsxs("footer",{className:"flex flex-col",children:[d.jsxs("div",{className:"flex flex-col md:flex-row gap-12 px-10 mt-16",children:[d.jsxs("div",{id:"fb-page",className:"max-w-[340px] flex flex-col mb-5",children:[d.jsx(is,{text:"LIKE US ON FACEBOOK:"}),d.jsx("a",{href:"https://www.facebook.com/CityGovtBacoor/?ref=embed_page",className:"w-[200px] inline",children:d.jsx("img",{src:TD,alt:"",width:200,height:500})})]}),d.jsxs("div",{id:"hotlines",className:"max-w-[340px] flex flex-col",children:[d.jsx("div",{className:"mb-5",children:d.jsx(is,{text:"EMERGENCY HOTLINES:"})}),d.jsxs("div",{className:"",children:[d.jsx("h1",{className:"text-[#ed1a3b]",children:"Bacoor Disaster Risk Reduction and Management Office (BDRRMO)"}),d.jsx("p",{className:"text-white text-sm",children:"(046) 417-0727"})]}),d.jsxs("div",{className:"",children:[d.jsx("h1",{className:"text-[#ed1a3b]",children:"Philippine National Police-Bacoor City (PNP)"}),d.jsx("p",{className:"text-white text-sm",children:"(046) 417-6366"})]}),d.jsxs("div",{className:"",children:[d.jsx("h1",{className:"text-[#ed1a3b]",children:"Bureau of Fire Protection-Bacoor City (BFP)"}),d.jsx("p",{className:"text-white text-sm",children:"(046) 417-6060"})]}),d.jsxs("div",{className:"",children:[d.jsx("h1",{className:"text-[#ed1a3b]",children:"BCity Information Office"}),d.jsx("p",{className:"text-white text-sm",children:"(046) 481-4120"})]})]}),d.jsxs("div",{id:"strike-scan",className:"max-w-[340px] flex flex-col",children:[d.jsx("div",{className:"mb-5",children:d.jsx(is,{text:"STRIKE SCAN ME"})}),d.jsx("img",{src:ED,alt:"",width:200,height:250})]})]}),d.jsx("div",{id:"main-footer",className:"mt-[200px] w-full bg-black text-white text-sm py-3 px-5",children:d.jsxs("p",{children:[" Bacoor.gov.ph |",d.jsx("a",{href:"https://bacoor.gov.ph/privacy-policy/",className:"capitalize hover:text-[#ed1a3b] ml-4",children:"privacy policy"})]})})]}),ID="/user/assets/landing-cdrUYs3f.png";function bD(t){return le({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14.5 0h-13c-0.825 0-1.5 0.675-1.5 1.5v13c0 0.825 0.675 1.5 1.5 1.5h13c0.825 0 1.5-0.675 1.5-1.5v-13c0-0.825-0.675-1.5-1.5-1.5zM11 2.5c0-0.275 0.225-0.5 0.5-0.5h2c0.275 0 0.5 0.225 0.5 0.5v2c0 0.275-0.225 0.5-0.5 0.5h-2c-0.275 0-0.5-0.225-0.5-0.5v-2zM8 5c1.656 0 3 1.344 3 3s-1.344 3-3 3c-1.656 0-3-1.344-3-3s1.344-3 3-3zM14 13.5v0c0 0.275-0.225 0.5-0.5 0.5h-11c-0.275 0-0.5-0.225-0.5-0.5v0-6.5h1.1c-0.066 0.322-0.1 0.656-0.1 1 0 2.762 2.237 5 5 5s5-2.238 5-5c0-0.344-0.034-0.678-0.1-1h1.1v6.5z"},child:[]}]})(t)}const kD=()=>{const[t,e]=A.useState(!1),[n,r]=A.useState(!1),[i,s]=A.useState(!1),[o,l]=A.useState(!1),[c,u]=A.useState(!1),[f,m]=A.useState(!1),[p,v]=A.useState(!1),y=()=>{s(!i)},S=()=>{l(!o)},C=()=>{u(!c)},T=()=>{m(!f)},x=()=>{v(!p)};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"city-hall-page-body",children:[d.jsx("span",{id:"time-header-bg",className:"w-full h-6 bg-black/40 absolute hidden md:block"}),d.jsxs(Kh,{className:"hidden md:flex",children:[d.jsx(hD,{}),d.jsx(fD,{})]}),d.jsxs(Kh,{className:" flex bg-white",children:[d.jsx(oD,{isMenuActive:t,setIsMenuActive:e,isSearchActive:n,setIsSearchActive:r}),d.jsxs("div",{id:"latest-news",className:"flex flex-col items-center md:flex-row px-6 py-3 gap-3",children:[d.jsx("div",{className:"w-max bg-black px-3 uppercase text-[#ff0202] font-bold text-sm rounded mr-5",children:"latest news"}),d.jsx("div",{className:"max-w-[730px] w-full text-[#ff0202] font-bold text-sm truncate",children:"Libreng Anti-Rabies Vaccination Schedule"}),d.jsxs("div",{id:"latest-news-navigation",className:"gap-2 ml-auto hidden md:flex",children:[d.jsx("button",{className:"text-[#ff0202] rounded-sm border border-red-300",children:d.jsx(eD,{})}),d.jsx("button",{className:"text-[#ff0202] rounded-sm border border-red-300",children:d.jsx(tD,{})})]})]}),d.jsx("a",{href:"https://bacoor.gov.ph/featured/congratulations-city-government-of-bacoor/",id:"landing-image",className:"mx-auto mb-4 p-2",children:d.jsx("img",{src:ID,alt:""})}),d.jsxs("div",{id:"article-list",className:"flex flex-col md:flex-row mx-auto",children:[d.jsx(yD,{}),d.jsx(wD,{})]})]}),d.jsx(Kh,{className:"flex bg-black/70",children:d.jsx(SD,{})})]}),d.jsxs("menu",{className:`fixed md:hidden top-0 ${t?"":"-translate-x-full invisible"} w-screen h-screen bg-[#353535] text-white z-20`,children:[d.jsxs("header",{className:"flex items-center justify-between pl-5 pr-10 pt-4",children:[d.jsxs("div",{className:"flex items-center gap-1 h-[60px]",children:[d.jsx("a",{href:"",className:"bg-transparent dark:bg-transparent border-none text-sm w-[40px] h-[40px] flex items-center justify-center hover:text-[#ff0202]",children:d.jsx(nD,{})}),d.jsx("a",{href:"",className:"bg-transparent dark:bg-transparent border-none text-sm w-[40px] h-[40px] flex items-center justify-center hover:text-[#ff0202]",children:d.jsx(bD,{})}),d.jsx("a",{href:"",className:"bg-transparent dark:bg-transparent border-none text-sm w-[40px] h-[40px] flex items-center justify-center hover:text-[#ff0202]",children:d.jsx(ON,{})}),d.jsx("a",{href:"",className:"bg-transparent dark:bg-transparent border-none text-sm w-[40px] h-[40px] flex items-center justify-center hover:text-[#ff0202]",children:d.jsx(rD,{})}),d.jsx("a",{href:"",className:"bg-transparent dark:bg-transparent border-none text-sm w-[40px] h-[40px] flex items-center justify-center hover:text-[#ff0202]",children:d.jsx(iD,{})})]}),d.jsx(je,{onClick:()=>e(!t),className:"bg-transparent dark:bg-transparent border-none text-4xl hover:text-[#ff0202]",children:d.jsx(n1,{})})]}),d.jsxs("nav",{className:"flex flex-col py-5 pl-8 pr-10",style:{fontFamily:"Raleway"},children:[d.jsx("a",{href:"/bacoor-gov",className:"capitalize text-[#ff0202] text-xl font-bold py-2",children:"home"}),d.jsxs(xa,{text:"about bacoor",state:i,toggle:y,children:[d.jsx(Ue,{url:"https://bacoor.gov.ph/uncategorized/vision-mission/",text:"mission & vision"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/historical-background-of-bacoor/",text:"historical background of bacoor"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/videos/352nd-bakood-festival/",text:"352nd bacoor festival"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/ang-himno-ng-bacoor/",text:"ang himno ng bacoor"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/category/tourism/",text:"tourism"})]}),d.jsxs(xa,{text:"city government",state:o,toggle:S,children:[d.jsx(Ue,{url:"https://bacoor.gov.ph/announcement/citizen-charter-2024/",text:"citizen charter"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/city-officials/",text:"city officials"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/city-and-units-heads/",text:"city department and unit heads"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/barangay-officials-2023/",text:"barangay officials"}),d.jsx(Ue,{url:"http://bacoorcitysp.com/legislative-tracker/",text:"city ordinances"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/dilg/dilg-full-disclosure-policy-2024/",text:"DILG Full Disclosure Policy"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/clup-2015-2024/",text:"CLUP (2015-2024)"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/job-vacancies/",text:"job vacancies"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/privacy-policy/",text:"privacy policy"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/iso-quality-management-system/",text:"ISO (Quality Management System)"})]}),d.jsxs("a",{href:"https://bacoor.gov.ph/mayor-strike-b-revilla-feed/",className:"w-full flex items-center justify-between capitalize text-xl font-bold py-2",children:["mayor's corner",d.jsx(qE,{})]}),d.jsxs(xa,{text:"gallery",state:c,toggle:C,children:[d.jsx(Ue,{url:"https://bacoor.gov.ph/category/gallery/",text:"gallery"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/category/photobooth/",text:"photobooth"})]}),d.jsxs(xa,{text:"services",state:f,toggle:T,children:[d.jsx(Ue,{url:"https://boss.bacoor.gov.ph/",text:"Online Application for Business & Building Permits"}),d.jsx(Ue,{url:"https://boss.bacoor.gov.ph/",text:"Online Appointment for Real Property Tax, Business & Building Permits"}),d.jsx(Ue,{url:"https://boss.bacoor.gov.ph/",text:"Solidarity Route Online Registration System"}),d.jsx(Ue,{url:"http://bacoorcitysp.com/legislative-tracker/",text:"city ordinances"})]}),d.jsxs(xa,{text:"directory",state:p,toggle:x,children:[d.jsx(Ue,{url:"https://bacoor.gov.ph/bacoor-hospital-directory/",text:"hospital directory"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/local-directory-of-bacoor-government-center/",text:"Local Gov't Offices"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/city-and-units-heads/",text:"City Department and Unit Heads"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/barangay-hall-directory/",text:"barangay hall"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/national-government-agenciesoffices/",text:"National Government Agencies/Offices"})]})]})]}),d.jsxs("div",{className:`fixed md:hidden top-0 ${n?"":"translate-x-full invisible"} w-screen h-screen bg-[#353535] text-white z-20`,style:{fontFamily:"Raleway"},children:[d.jsx("header",{className:"flex items-center justify-between pl-5 pr-10 pt-4",children:d.jsx(je,{onClick:()=>r(!n),className:"bg-transparent dark:bg-transparent border-none text-4xl hover:text-[#ff0202] ml-auto",children:d.jsx(n1,{})})}),d.jsxs("label",{htmlFor:"search",className:"flex flex-col gap-4 max-w-[90%] px-5 mx-auto focus-within:border-none",children:[d.jsx("p",{className:"capitalize text-center text-xs text-gray-300",children:"search"}),d.jsx("input",{type:"search",name:"search",id:"search",className:"bg-transparent border-b-[1px] text-center text-3xl font-bold py-2 focus:outline-none"})]})]})]})},xa=({text:t,children:e,toggle:n,state:r})=>d.jsxs(je,{className:"flex flex-col w-full capitalize text-xl font-bold bg-transparent dark:bg-transparent border-none",onClick:n,children:[d.jsxs("div",{className:"flex items-center justify-between w-full py-3",children:[t,d.jsx(qE,{className:`${r&&"rotate-90"}`})]}),d.jsx("div",{className:`${r?"h-max":"h-0 opacity-0 invisible"} flex flex-col px-6 text-base font-normal text-gray-300 text-left`,children:e})]}),Ue=({text:t,url:e})=>d.jsx("a",{href:e,className:"py-2",children:t}),CD=({className:t})=>{const e=A.useContext(st),{configuration:n}=e.configuration,{conversation:r}=e.conversation,i=A.useContext(Ts),{rating:s}=i.rating,l=A.useContext(Fr).ratingBoxRef,[c,u]=A.useState("opacity-0 invisible"),[f,m]=A.useState(!0),p=()=>{s===0?setTimeout(()=>u(""),1e3):s!=0&&setTimeout(()=>u("opacity-0 invisible translate-y-full"),5e3)};return A.useEffect(()=>{r.length>=15&&p()},[r.length,s]),d.jsx(d.Fragment,{children:f&&d.jsx("div",{ref:l,className:`fixed top-[10%] mx-auto inset-x-0 xl:mx-0 xl:top-auto xl:bottom-[2%] xl:left-[2%] w-max h-max dark:text-white/80 bg-surface dark:bg-dm-background border border-surface-dark dark:border-dm-surface-light p-8 rounded-xl z-[100] xl:z-50 ${t} ${c}`,children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex gap-8 sm:text-lg xl:text-xl max-w-[250px] sm:max-w-[350px] xl:max-w-[400px]",children:[d.jsx("div",{children:s?d.jsx("p",{children:"Thanks for the feedback!"}):d.jsxs("p",{children:["Enjoying talking to"," ",d.jsx("span",{className:"font-semibold text-primary dark:text-secondary",children:n.name})," ","so far? Please give us a rating!"]})}),d.jsx(je,{onClick:()=>m(!1),variant:"icon",size:"icon",className:"ml-auto border text-error border-error dark:border-dm-surface bg-surface dark:bg-dm-surface dark:hover:bg-error hover:bg-error [&>svg>path]:hover:text-white",children:d.jsx(BE,{})})]}),d.jsx(QE,{})]})})})},RD=({title:t})=>{const e=Po();return A.useEffect(()=>{document.title=t},[e,t]),null},w1=()=>{const t=A.useContext(Vd),{isSignedIn:e}=t.user,n=A.useContext(Fr),{isChatActive:r,setIsChatActive:i}=n.active,s=n.icon,o=()=>{i(!r)};return d.jsx(d.Fragment,{children:e==="true"?d.jsxs(d.Fragment,{children:[d.jsx(RD,{title:"Bacoor Government Center | City of Bacoor Chatbot"}),d.jsx(XN,{children:d.jsxs("main",{children:[d.jsx("div",{ref:s,children:d.jsx(n6,{children:d.jsxs(i6,{children:[d.jsx(o6,{onClick:o}),d.jsx(Jj,{closeUsing:o})]})})}),d.jsx(kD,{}),d.jsx(GE,{message:"Click anywhere to close.",className:`bg-black z-40 backdrop-blur ${r?"opacity-80":"opacity-0 invisible"}`}),r&&d.jsx(CD,{})]})})]}):d.jsx(vk,{to:"/"})})},Cc=()=>d.jsxs(d.Fragment,{children:[d.jsx(kE,{}),d.jsxs("div",{className:"h-screen flex flex-col items-center justify-center gap-8 px-[5vw]",children:[d.jsx("h1",{className:"font-helvetica-compressed text-7xl md:text-8xl lg:text-[10.25rem] bg-gradient-to-tr from-primary from-35% via-tertiary via-70% to-secondary bg-clip-text text-transparent cursor-default select-none",children:"Oops!"}),d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("h3",{className:"font-bold text-2xl md:text-3xl lg:text-4xl dark:text-white",children:"Page Not Found"}),d.jsx("p",{className:"max-w-[400px] text-sm md:text-base dark:text-white",children:"The page you are looking for might have been removed, had its name changed or is temporarily unavailable."})]}),d.jsx(pd,{to:"/",children:d.jsx(je,{variant:"cta",size:"full",className:"bg-primary hover:bg-primary-dark text-white uppercase",children:"go back"})})]})]}),AD=Ik([{path:"/",element:localStorage.getItem("uid")&&localStorage.getItem("isSignedIn")==="true"?d.jsx(w1,{}):d.jsx(qN,{}),errorElement:d.jsx(Cc,{})},{path:"/bacoor-gov",element:d.jsx(w1,{}),errorElement:d.jsx(Cc,{})},{path:"*",element:d.jsx(Cc,{}),errorElement:d.jsx(Cc,{})}],{basename:gE});Mx(document.getElementById("root")).render(d.jsx(A.StrictMode,{children:d.jsx(jA,{children:d.jsx(j5,{children:d.jsx(L5,{children:d.jsx(V5,{children:d.jsx(Dk,{router:AD})})})})})}));
