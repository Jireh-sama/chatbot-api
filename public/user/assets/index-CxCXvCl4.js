function y1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function _1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var w1={exports:{}},Qu={},x1={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _l=Symbol.for("react.element"),kT=Symbol.for("react.portal"),CT=Symbol.for("react.fragment"),RT=Symbol.for("react.strict_mode"),AT=Symbol.for("react.profiler"),PT=Symbol.for("react.provider"),NT=Symbol.for("react.context"),DT=Symbol.for("react.forward_ref"),jT=Symbol.for("react.suspense"),LT=Symbol.for("react.memo"),MT=Symbol.for("react.lazy"),qg=Symbol.iterator;function VT(t){return t===null||typeof t!="object"?null:(t=qg&&t[qg]||t["@@iterator"],typeof t=="function"?t:null)}var E1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T1=Object.assign,S1={};function ko(t,e,n){this.props=t,this.context=e,this.refs=S1,this.updater=n||E1}ko.prototype.isReactComponent={};ko.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ko.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function I1(){}I1.prototype=ko.prototype;function yp(t,e,n){this.props=t,this.context=e,this.refs=S1,this.updater=n||E1}var _p=yp.prototype=new I1;_p.constructor=yp;T1(_p,ko.prototype);_p.isPureReactComponent=!0;var Wg=Array.isArray,b1=Object.prototype.hasOwnProperty,wp={current:null},k1={key:!0,ref:!0,__self:!0,__source:!0};function C1(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)b1.call(e,r)&&!k1.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:_l,type:t,key:s,ref:o,props:i,_owner:wp.current}}function OT(t,e){return{$$typeof:_l,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xp(t){return typeof t=="object"&&t!==null&&t.$$typeof===_l}function FT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Gg=/\/+/g;function Jd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?FT(""+t.key):e.toString(36)}function Pc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case _l:case kT:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Jd(o,0):r,Wg(i)?(n="",t!=null&&(n=t.replace(Gg,"$&/")+"/"),Pc(i,e,n,"",function(u){return u})):i!=null&&(xp(i)&&(i=OT(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Gg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Wg(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+Jd(s,l);o+=Pc(s,e,n,c,i)}else if(c=VT(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+Jd(s,l++),o+=Pc(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function oc(t,e,n){if(t==null)return t;var r=[],i=0;return Pc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function zT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qt={current:null},Nc={transition:null},UT={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:Nc,ReactCurrentOwner:wp};function R1(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:oc,forEach:function(t,e,n){oc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return oc(t,function(){e++}),e},toArray:function(t){return oc(t,function(e){return e})||[]},only:function(t){if(!xp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=ko;we.Fragment=CT;we.Profiler=AT;we.PureComponent=yp;we.StrictMode=RT;we.Suspense=jT;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UT;we.act=R1;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=T1({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=wp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)b1.call(e,c)&&!k1.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:_l,type:t.type,key:i,ref:s,props:r,_owner:o}};we.createContext=function(t){return t={$$typeof:NT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:PT,_context:t},t.Consumer=t};we.createElement=C1;we.createFactory=function(t){var e=C1.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:DT,render:t}};we.isValidElement=xp;we.lazy=function(t){return{$$typeof:MT,_payload:{_status:-1,_result:t},_init:zT}};we.memo=function(t,e){return{$$typeof:LT,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=Nc.transition;Nc.transition={};try{t()}finally{Nc.transition=e}};we.unstable_act=R1;we.useCallback=function(t,e){return Qt.current.useCallback(t,e)};we.useContext=function(t){return Qt.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return Qt.current.useDeferredValue(t)};we.useEffect=function(t,e){return Qt.current.useEffect(t,e)};we.useId=function(){return Qt.current.useId()};we.useImperativeHandle=function(t,e,n){return Qt.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return Qt.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return Qt.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return Qt.current.useMemo(t,e)};we.useReducer=function(t,e,n){return Qt.current.useReducer(t,e,n)};we.useRef=function(t){return Qt.current.useRef(t)};we.useState=function(t){return Qt.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return Qt.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return Qt.current.useTransition()};we.version="18.3.1";x1.exports=we;var R=x1.exports;const qt=_1(R),BT=y1({__proto__:null,default:qt},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $T=R,HT=Symbol.for("react.element"),qT=Symbol.for("react.fragment"),WT=Object.prototype.hasOwnProperty,GT=$T.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KT={key:!0,ref:!0,__self:!0,__source:!0};function A1(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)WT.call(e,r)&&!KT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:HT,type:t,key:s,ref:o,props:i,_owner:GT.current}}Qu.Fragment=qT;Qu.jsx=A1;Qu.jsxs=A1;w1.exports=Qu;var d=w1.exports,P1={exports:{}},vn={},N1={exports:{}},D1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,K){var Z=q.length;q.push(K);e:for(;0<Z;){var se=Z-1>>>1,pe=q[se];if(0<i(pe,K))q[se]=K,q[Z]=pe,Z=se;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var K=q[0],Z=q.pop();if(Z!==K){q[0]=Z;e:for(var se=0,pe=q.length,Pe=pe>>>1;se<Pe;){var at=2*(se+1)-1,mt=q[at],gt=at+1,Xt=q[gt];if(0>i(mt,Z))gt<pe&&0>i(Xt,mt)?(q[se]=Xt,q[gt]=Z,se=gt):(q[se]=mt,q[at]=Z,se=at);else if(gt<pe&&0>i(Xt,Z))q[se]=Xt,q[gt]=Z,se=gt;else break e}}return K}function i(q,K){var Z=q.sortIndex-K.sortIndex;return Z!==0?Z:q.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],p=1,m=null,f=3,v=!1,y=!1,I=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(q){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=q)r(u),K.sortIndex=K.expirationTime,e(c,K);else break;K=n(u)}}function L(q){if(I=!1,k(q),!y)if(n(c)!==null)y=!0,Te(F);else{var K=n(u);K!==null&&le(L,K.startTime-q)}}function F(q,K){y=!1,I&&(I=!1,T(_),_=-1),v=!0;var Z=f;try{for(k(K),m=n(c);m!==null&&(!(m.expirationTime>K)||q&&!j());){var se=m.callback;if(typeof se=="function"){m.callback=null,f=m.priorityLevel;var pe=se(m.expirationTime<=K);K=t.unstable_now(),typeof pe=="function"?m.callback=pe:m===n(c)&&r(c),k(K)}else r(c);m=n(c)}if(m!==null)var Pe=!0;else{var at=n(u);at!==null&&le(L,at.startTime-K),Pe=!1}return Pe}finally{m=null,f=Z,v=!1}}var A=!1,E=null,_=-1,S=5,b=-1;function j(){return!(t.unstable_now()-b<S)}function D(){if(E!==null){var q=t.unstable_now();b=q;var K=!0;try{K=E(!0,q)}finally{K?P():(A=!1,E=null)}}else A=!1}var P;if(typeof w=="function")P=function(){w(D)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,pt=ve.port2;ve.port1.onmessage=D,P=function(){pt.postMessage(null)}}else P=function(){C(D,0)};function Te(q){E=q,A||(A=!0,P())}function le(q,K){_=C(function(){q(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,Te(F))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(q){switch(f){case 1:case 2:case 3:var K=3;break;default:K=f}var Z=f;f=K;try{return q()}finally{f=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,K){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Z=f;f=q;try{return K()}finally{f=Z}},t.unstable_scheduleCallback=function(q,K,Z){var se=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?se+Z:se):Z=se,q){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=Z+pe,q={id:p++,callback:K,priorityLevel:q,startTime:Z,expirationTime:pe,sortIndex:-1},Z>se?(q.sortIndex=Z,e(u,q),n(c)===null&&q===n(u)&&(I?(T(_),_=-1):I=!0,le(L,Z-se))):(q.sortIndex=pe,e(c,q),y||v||(y=!0,Te(F))),q},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(q){var K=f;return function(){var Z=f;f=K;try{return q.apply(this,arguments)}finally{f=Z}}}})(D1);N1.exports=D1;var QT=N1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YT=R,gn=QT;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var j1=new Set,qa={};function _s(t,e){co(t,e),co(t+"Capture",e)}function co(t,e){for(qa[t]=e,t=0;t<e.length;t++)j1.add(e[t])}var Cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kh=Object.prototype.hasOwnProperty,XT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kg={},Qg={};function JT(t){return Kh.call(Qg,t)?!0:Kh.call(Kg,t)?!1:XT.test(t)?Qg[t]=!0:(Kg[t]=!0,!1)}function ZT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function eS(t,e,n,r){if(e===null||typeof e>"u"||ZT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var At={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){At[t]=new Yt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];At[e]=new Yt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){At[t]=new Yt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){At[t]=new Yt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){At[t]=new Yt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){At[t]=new Yt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){At[t]=new Yt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){At[t]=new Yt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){At[t]=new Yt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ep=/[\-:]([a-z])/g;function Tp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ep,Tp);At[e]=new Yt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ep,Tp);At[e]=new Yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ep,Tp);At[e]=new Yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){At[t]=new Yt(t,1,!1,t.toLowerCase(),null,!1,!1)});At.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){At[t]=new Yt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sp(t,e,n,r){var i=At.hasOwnProperty(e)?At[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(eS(e,n,i,r)&&(n=null),r||i===null?JT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vr=YT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ac=Symbol.for("react.element"),Fs=Symbol.for("react.portal"),zs=Symbol.for("react.fragment"),Ip=Symbol.for("react.strict_mode"),Qh=Symbol.for("react.profiler"),L1=Symbol.for("react.provider"),M1=Symbol.for("react.context"),bp=Symbol.for("react.forward_ref"),Yh=Symbol.for("react.suspense"),Xh=Symbol.for("react.suspense_list"),kp=Symbol.for("react.memo"),Zr=Symbol.for("react.lazy"),V1=Symbol.for("react.offscreen"),Yg=Symbol.iterator;function na(t){return t===null||typeof t!="object"?null:(t=Yg&&t[Yg]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,Zd;function Ea(t){if(Zd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zd=e&&e[1]||""}return`
`+Zd+t}var eh=!1;function th(t,e){if(!t||eh)return"";eh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{eh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ea(t):""}function tS(t){switch(t.tag){case 5:return Ea(t.type);case 16:return Ea("Lazy");case 13:return Ea("Suspense");case 19:return Ea("SuspenseList");case 0:case 2:case 15:return t=th(t.type,!1),t;case 11:return t=th(t.type.render,!1),t;case 1:return t=th(t.type,!0),t;default:return""}}function Jh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zs:return"Fragment";case Fs:return"Portal";case Qh:return"Profiler";case Ip:return"StrictMode";case Yh:return"Suspense";case Xh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case M1:return(t.displayName||"Context")+".Consumer";case L1:return(t._context.displayName||"Context")+".Provider";case bp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kp:return e=t.displayName||null,e!==null?e:Jh(t.type)||"Memo";case Zr:e=t._payload,t=t._init;try{return Jh(t(e))}catch{}}return null}function nS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jh(e);case 8:return e===Ip?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function bi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function O1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rS(t){var e=O1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function lc(t){t._valueTracker||(t._valueTracker=rS(t))}function F1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=O1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function eu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zh(t,e){var n=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Xg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=bi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function z1(t,e){e=e.checked,e!=null&&Sp(t,"checked",e,!1)}function ef(t,e){z1(t,e);var n=bi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tf(t,e.type,n):e.hasOwnProperty("defaultValue")&&tf(t,e.type,bi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Jg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function tf(t,e,n){(e!=="number"||eu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ta=Array.isArray;function Js(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+bi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function nf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Zg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Ta(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:bi(n)}}function U1(t,e){var n=bi(e.value),r=bi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ev(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function B1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?B1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var cc,$1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(cc=cc||document.createElement("div"),cc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=cc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Pa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iS=["Webkit","ms","Moz","O"];Object.keys(Pa).forEach(function(t){iS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pa[e]=Pa[t]})});function H1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Pa.hasOwnProperty(t)&&Pa[t]?(""+e).trim():e+"px"}function q1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=H1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var sS=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sf(t,e){if(e){if(sS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function of(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var af=null;function Cp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lf=null,Zs=null,eo=null;function tv(t){if(t=El(t)){if(typeof lf!="function")throw Error(H(280));var e=t.stateNode;e&&(e=ed(e),lf(t.stateNode,t.type,e))}}function W1(t){Zs?eo?eo.push(t):eo=[t]:Zs=t}function G1(){if(Zs){var t=Zs,e=eo;if(eo=Zs=null,tv(t),e)for(t=0;t<e.length;t++)tv(e[t])}}function K1(t,e){return t(e)}function Q1(){}var nh=!1;function Y1(t,e,n){if(nh)return t(e,n);nh=!0;try{return K1(t,e,n)}finally{nh=!1,(Zs!==null||eo!==null)&&(Q1(),G1())}}function Ga(t,e){var n=t.stateNode;if(n===null)return null;var r=ed(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var cf=!1;if(Cr)try{var ra={};Object.defineProperty(ra,"passive",{get:function(){cf=!0}}),window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{cf=!1}function oS(t,e,n,r,i,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(p){this.onError(p)}}var Na=!1,tu=null,nu=!1,uf=null,aS={onError:function(t){Na=!0,tu=t}};function lS(t,e,n,r,i,s,o,l,c){Na=!1,tu=null,oS.apply(aS,arguments)}function cS(t,e,n,r,i,s,o,l,c){if(lS.apply(this,arguments),Na){if(Na){var u=tu;Na=!1,tu=null}else throw Error(H(198));nu||(nu=!0,uf=u)}}function ws(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function X1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nv(t){if(ws(t)!==t)throw Error(H(188))}function uS(t){var e=t.alternate;if(!e){if(e=ws(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return nv(i),t;if(s===r)return nv(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function J1(t){return t=uS(t),t!==null?Z1(t):null}function Z1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Z1(t);if(e!==null)return e;t=t.sibling}return null}var e_=gn.unstable_scheduleCallback,rv=gn.unstable_cancelCallback,dS=gn.unstable_shouldYield,hS=gn.unstable_requestPaint,ot=gn.unstable_now,fS=gn.unstable_getCurrentPriorityLevel,Rp=gn.unstable_ImmediatePriority,t_=gn.unstable_UserBlockingPriority,ru=gn.unstable_NormalPriority,pS=gn.unstable_LowPriority,n_=gn.unstable_IdlePriority,Yu=null,Yn=null;function mS(t){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(Yu,t,void 0,(t.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:yS,gS=Math.log,vS=Math.LN2;function yS(t){return t>>>=0,t===0?32:31-(gS(t)/vS|0)|0}var uc=64,dc=4194304;function Sa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function iu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Sa(l):(s&=o,s!==0&&(r=Sa(s)))}else o=n&~i,o!==0?r=Sa(o):s!==0&&(r=Sa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-On(e),i=1<<n,r|=t[n],e&=~i;return r}function _S(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-On(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=_S(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function df(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function r_(){var t=uc;return uc<<=1,!(uc&4194240)&&(uc=64),t}function rh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-On(e),t[e]=n}function xS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-On(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Ap(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-On(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var je=0;function i_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var s_,Pp,o_,a_,l_,hf=!1,hc=[],fi=null,pi=null,mi=null,Ka=new Map,Qa=new Map,ti=[],ES="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iv(t,e){switch(t){case"focusin":case"focusout":fi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":Ka.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qa.delete(e.pointerId)}}function ia(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=El(e),e!==null&&Pp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function TS(t,e,n,r,i){switch(e){case"focusin":return fi=ia(fi,t,e,n,r,i),!0;case"dragenter":return pi=ia(pi,t,e,n,r,i),!0;case"mouseover":return mi=ia(mi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ka.set(s,ia(Ka.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Qa.set(s,ia(Qa.get(s)||null,t,e,n,r,i)),!0}return!1}function c_(t){var e=Ji(t.target);if(e!==null){var n=ws(e);if(n!==null){if(e=n.tag,e===13){if(e=X1(n),e!==null){t.blockedOn=e,l_(t.priority,function(){o_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ff(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);af=r,n.target.dispatchEvent(r),af=null}else return e=El(n),e!==null&&Pp(e),t.blockedOn=n,!1;e.shift()}return!0}function sv(t,e,n){Dc(t)&&n.delete(e)}function SS(){hf=!1,fi!==null&&Dc(fi)&&(fi=null),pi!==null&&Dc(pi)&&(pi=null),mi!==null&&Dc(mi)&&(mi=null),Ka.forEach(sv),Qa.forEach(sv)}function sa(t,e){t.blockedOn===e&&(t.blockedOn=null,hf||(hf=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,SS)))}function Ya(t){function e(i){return sa(i,t)}if(0<hc.length){sa(hc[0],t);for(var n=1;n<hc.length;n++){var r=hc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fi!==null&&sa(fi,t),pi!==null&&sa(pi,t),mi!==null&&sa(mi,t),Ka.forEach(e),Qa.forEach(e),n=0;n<ti.length;n++)r=ti[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ti.length&&(n=ti[0],n.blockedOn===null);)c_(n),n.blockedOn===null&&ti.shift()}var to=Vr.ReactCurrentBatchConfig,su=!0;function IS(t,e,n,r){var i=je,s=to.transition;to.transition=null;try{je=1,Np(t,e,n,r)}finally{je=i,to.transition=s}}function bS(t,e,n,r){var i=je,s=to.transition;to.transition=null;try{je=4,Np(t,e,n,r)}finally{je=i,to.transition=s}}function Np(t,e,n,r){if(su){var i=ff(t,e,n,r);if(i===null)fh(t,e,r,ou,n),iv(t,r);else if(TS(i,t,e,n,r))r.stopPropagation();else if(iv(t,r),e&4&&-1<ES.indexOf(t)){for(;i!==null;){var s=El(i);if(s!==null&&s_(s),s=ff(t,e,n,r),s===null&&fh(t,e,r,ou,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else fh(t,e,r,null,n)}}var ou=null;function ff(t,e,n,r){if(ou=null,t=Cp(r),t=Ji(t),t!==null)if(e=ws(t),e===null)t=null;else if(n=e.tag,n===13){if(t=X1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ou=t,null}function u_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fS()){case Rp:return 1;case t_:return 4;case ru:case pS:return 16;case n_:return 536870912;default:return 16}default:return 16}}var ci=null,Dp=null,jc=null;function d_(){if(jc)return jc;var t,e=Dp,n=e.length,r,i="value"in ci?ci.value:ci.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return jc=i.slice(t,1<r?1-r:void 0)}function Lc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fc(){return!0}function ov(){return!1}function yn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?fc:ov,this.isPropagationStopped=ov,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fc)},persist:function(){},isPersistent:fc}),e}var Co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jp=yn(Co),xl=tt({},Co,{view:0,detail:0}),kS=yn(xl),ih,sh,oa,Xu=tt({},xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oa&&(oa&&t.type==="mousemove"?(ih=t.screenX-oa.screenX,sh=t.screenY-oa.screenY):sh=ih=0,oa=t),ih)},movementY:function(t){return"movementY"in t?t.movementY:sh}}),av=yn(Xu),CS=tt({},Xu,{dataTransfer:0}),RS=yn(CS),AS=tt({},xl,{relatedTarget:0}),oh=yn(AS),PS=tt({},Co,{animationName:0,elapsedTime:0,pseudoElement:0}),NS=yn(PS),DS=tt({},Co,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jS=yn(DS),LS=tt({},Co,{data:0}),lv=yn(LS),MS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=OS[t])?!!e[t]:!1}function Lp(){return FS}var zS=tt({},xl,{key:function(t){if(t.key){var e=MS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Lc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?VS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lp,charCode:function(t){return t.type==="keypress"?Lc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),US=yn(zS),BS=tt({},Xu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cv=yn(BS),$S=tt({},xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lp}),HS=yn($S),qS=tt({},Co,{propertyName:0,elapsedTime:0,pseudoElement:0}),WS=yn(qS),GS=tt({},Xu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),KS=yn(GS),QS=[9,13,27,32],Mp=Cr&&"CompositionEvent"in window,Da=null;Cr&&"documentMode"in document&&(Da=document.documentMode);var YS=Cr&&"TextEvent"in window&&!Da,h_=Cr&&(!Mp||Da&&8<Da&&11>=Da),uv=" ",dv=!1;function f_(t,e){switch(t){case"keyup":return QS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function p_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Us=!1;function XS(t,e){switch(t){case"compositionend":return p_(e);case"keypress":return e.which!==32?null:(dv=!0,uv);case"textInput":return t=e.data,t===uv&&dv?null:t;default:return null}}function JS(t,e){if(Us)return t==="compositionend"||!Mp&&f_(t,e)?(t=d_(),jc=Dp=ci=null,Us=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return h_&&e.locale!=="ko"?null:e.data;default:return null}}var ZS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ZS[t.type]:e==="textarea"}function m_(t,e,n,r){W1(r),e=au(e,"onChange"),0<e.length&&(n=new jp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ja=null,Xa=null;function eI(t){b_(t,0)}function Ju(t){var e=Hs(t);if(F1(e))return t}function tI(t,e){if(t==="change")return e}var g_=!1;if(Cr){var ah;if(Cr){var lh="oninput"in document;if(!lh){var fv=document.createElement("div");fv.setAttribute("oninput","return;"),lh=typeof fv.oninput=="function"}ah=lh}else ah=!1;g_=ah&&(!document.documentMode||9<document.documentMode)}function pv(){ja&&(ja.detachEvent("onpropertychange",v_),Xa=ja=null)}function v_(t){if(t.propertyName==="value"&&Ju(Xa)){var e=[];m_(e,Xa,t,Cp(t)),Y1(eI,e)}}function nI(t,e,n){t==="focusin"?(pv(),ja=e,Xa=n,ja.attachEvent("onpropertychange",v_)):t==="focusout"&&pv()}function rI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ju(Xa)}function iI(t,e){if(t==="click")return Ju(e)}function sI(t,e){if(t==="input"||t==="change")return Ju(e)}function oI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zn=typeof Object.is=="function"?Object.is:oI;function Ja(t,e){if(zn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Kh.call(e,i)||!zn(t[i],e[i]))return!1}return!0}function mv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gv(t,e){var n=mv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mv(n)}}function y_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?y_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function __(){for(var t=window,e=eu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=eu(t.document)}return e}function Vp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function aI(t){var e=__(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&y_(n.ownerDocument.documentElement,n)){if(r!==null&&Vp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=gv(n,s);var o=gv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var lI=Cr&&"documentMode"in document&&11>=document.documentMode,Bs=null,pf=null,La=null,mf=!1;function vv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mf||Bs==null||Bs!==eu(r)||(r=Bs,"selectionStart"in r&&Vp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),La&&Ja(La,r)||(La=r,r=au(pf,"onSelect"),0<r.length&&(e=new jp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Bs)))}function pc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $s={animationend:pc("Animation","AnimationEnd"),animationiteration:pc("Animation","AnimationIteration"),animationstart:pc("Animation","AnimationStart"),transitionend:pc("Transition","TransitionEnd")},ch={},w_={};Cr&&(w_=document.createElement("div").style,"AnimationEvent"in window||(delete $s.animationend.animation,delete $s.animationiteration.animation,delete $s.animationstart.animation),"TransitionEvent"in window||delete $s.transitionend.transition);function Zu(t){if(ch[t])return ch[t];if(!$s[t])return t;var e=$s[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in w_)return ch[t]=e[n];return t}var x_=Zu("animationend"),E_=Zu("animationiteration"),T_=Zu("animationstart"),S_=Zu("transitionend"),I_=new Map,yv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Di(t,e){I_.set(t,e),_s(e,[t])}for(var uh=0;uh<yv.length;uh++){var dh=yv[uh],cI=dh.toLowerCase(),uI=dh[0].toUpperCase()+dh.slice(1);Di(cI,"on"+uI)}Di(x_,"onAnimationEnd");Di(E_,"onAnimationIteration");Di(T_,"onAnimationStart");Di("dblclick","onDoubleClick");Di("focusin","onFocus");Di("focusout","onBlur");Di(S_,"onTransitionEnd");co("onMouseEnter",["mouseout","mouseover"]);co("onMouseLeave",["mouseout","mouseover"]);co("onPointerEnter",["pointerout","pointerover"]);co("onPointerLeave",["pointerout","pointerover"]);_s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_s("onBeforeInput",["compositionend","keypress","textInput","paste"]);_s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ia));function _v(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,cS(r,e,void 0,t),t.currentTarget=null}function b_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;_v(i,l,u),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;_v(i,l,u),s=c}}}if(nu)throw t=uf,nu=!1,uf=null,t}function qe(t,e){var n=e[wf];n===void 0&&(n=e[wf]=new Set);var r=t+"__bubble";n.has(r)||(k_(e,t,2,!1),n.add(r))}function hh(t,e,n){var r=0;e&&(r|=4),k_(n,t,r,e)}var mc="_reactListening"+Math.random().toString(36).slice(2);function Za(t){if(!t[mc]){t[mc]=!0,j1.forEach(function(n){n!=="selectionchange"&&(dI.has(n)||hh(n,!1,t),hh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[mc]||(e[mc]=!0,hh("selectionchange",!1,e))}}function k_(t,e,n,r){switch(u_(e)){case 1:var i=IS;break;case 4:i=bS;break;default:i=Np}n=i.bind(null,e,n,t),i=void 0,!cf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function fh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Ji(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Y1(function(){var u=s,p=Cp(n),m=[];e:{var f=I_.get(t);if(f!==void 0){var v=jp,y=t;switch(t){case"keypress":if(Lc(n)===0)break e;case"keydown":case"keyup":v=US;break;case"focusin":y="focus",v=oh;break;case"focusout":y="blur",v=oh;break;case"beforeblur":case"afterblur":v=oh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=av;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=RS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=HS;break;case x_:case E_:case T_:v=NS;break;case S_:v=WS;break;case"scroll":v=kS;break;case"wheel":v=KS;break;case"copy":case"cut":case"paste":v=jS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=cv}var I=(e&4)!==0,C=!I&&t==="scroll",T=I?f!==null?f+"Capture":null:f;I=[];for(var w=u,k;w!==null;){k=w;var L=k.stateNode;if(k.tag===5&&L!==null&&(k=L,T!==null&&(L=Ga(w,T),L!=null&&I.push(el(w,L,k)))),C)break;w=w.return}0<I.length&&(f=new v(f,y,null,n,p),m.push({event:f,listeners:I}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&n!==af&&(y=n.relatedTarget||n.fromElement)&&(Ji(y)||y[Rr]))break e;if((v||f)&&(f=p.window===p?p:(f=p.ownerDocument)?f.defaultView||f.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=u,y=y?Ji(y):null,y!==null&&(C=ws(y),y!==C||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(I=av,L="onMouseLeave",T="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(I=cv,L="onPointerLeave",T="onPointerEnter",w="pointer"),C=v==null?f:Hs(v),k=y==null?f:Hs(y),f=new I(L,w+"leave",v,n,p),f.target=C,f.relatedTarget=k,L=null,Ji(p)===u&&(I=new I(T,w+"enter",y,n,p),I.target=k,I.relatedTarget=C,L=I),C=L,v&&y)t:{for(I=v,T=y,w=0,k=I;k;k=Ls(k))w++;for(k=0,L=T;L;L=Ls(L))k++;for(;0<w-k;)I=Ls(I),w--;for(;0<k-w;)T=Ls(T),k--;for(;w--;){if(I===T||T!==null&&I===T.alternate)break t;I=Ls(I),T=Ls(T)}I=null}else I=null;v!==null&&wv(m,f,v,I,!1),y!==null&&C!==null&&wv(m,C,y,I,!0)}}e:{if(f=u?Hs(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var F=tI;else if(hv(f))if(g_)F=sI;else{F=rI;var A=nI}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(F=iI);if(F&&(F=F(t,u))){m_(m,F,n,p);break e}A&&A(t,f,u),t==="focusout"&&(A=f._wrapperState)&&A.controlled&&f.type==="number"&&tf(f,"number",f.value)}switch(A=u?Hs(u):window,t){case"focusin":(hv(A)||A.contentEditable==="true")&&(Bs=A,pf=u,La=null);break;case"focusout":La=pf=Bs=null;break;case"mousedown":mf=!0;break;case"contextmenu":case"mouseup":case"dragend":mf=!1,vv(m,n,p);break;case"selectionchange":if(lI)break;case"keydown":case"keyup":vv(m,n,p)}var E;if(Mp)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Us?f_(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(h_&&n.locale!=="ko"&&(Us||_!=="onCompositionStart"?_==="onCompositionEnd"&&Us&&(E=d_()):(ci=p,Dp="value"in ci?ci.value:ci.textContent,Us=!0)),A=au(u,_),0<A.length&&(_=new lv(_,t,null,n,p),m.push({event:_,listeners:A}),E?_.data=E:(E=p_(n),E!==null&&(_.data=E)))),(E=YS?XS(t,n):JS(t,n))&&(u=au(u,"onBeforeInput"),0<u.length&&(p=new lv("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:u}),p.data=E))}b_(m,e)})}function el(t,e,n){return{instance:t,listener:e,currentTarget:n}}function au(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ga(t,n),s!=null&&r.unshift(el(t,s,i)),s=Ga(t,e),s!=null&&r.push(el(t,s,i))),t=t.return}return r}function Ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=Ga(n,s),c!=null&&o.unshift(el(n,c,l))):i||(c=Ga(n,s),c!=null&&o.push(el(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var hI=/\r\n?/g,fI=/\u0000|\uFFFD/g;function xv(t){return(typeof t=="string"?t:""+t).replace(hI,`
`).replace(fI,"")}function gc(t,e,n){if(e=xv(e),xv(t)!==e&&n)throw Error(H(425))}function lu(){}var gf=null,vf=null;function yf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _f=typeof setTimeout=="function"?setTimeout:void 0,pI=typeof clearTimeout=="function"?clearTimeout:void 0,Ev=typeof Promise=="function"?Promise:void 0,mI=typeof queueMicrotask=="function"?queueMicrotask:typeof Ev<"u"?function(t){return Ev.resolve(null).then(t).catch(gI)}:_f;function gI(t){setTimeout(function(){throw t})}function ph(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ya(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ya(e)}function gi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Tv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ro=Math.random().toString(36).slice(2),Kn="__reactFiber$"+Ro,tl="__reactProps$"+Ro,Rr="__reactContainer$"+Ro,wf="__reactEvents$"+Ro,vI="__reactListeners$"+Ro,yI="__reactHandles$"+Ro;function Ji(t){var e=t[Kn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Rr]||n[Kn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Tv(t);t!==null;){if(n=t[Kn])return n;t=Tv(t)}return e}t=n,n=t.parentNode}return null}function El(t){return t=t[Kn]||t[Rr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function ed(t){return t[tl]||null}var xf=[],qs=-1;function ji(t){return{current:t}}function We(t){0>qs||(t.current=xf[qs],xf[qs]=null,qs--)}function Be(t,e){qs++,xf[qs]=t.current,t.current=e}var ki={},Ut=ji(ki),on=ji(!1),ls=ki;function uo(t,e){var n=t.type.contextTypes;if(!n)return ki;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function an(t){return t=t.childContextTypes,t!=null}function cu(){We(on),We(Ut)}function Sv(t,e,n){if(Ut.current!==ki)throw Error(H(168));Be(Ut,e),Be(on,n)}function C_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,nS(t)||"Unknown",i));return tt({},n,r)}function uu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ki,ls=Ut.current,Be(Ut,t),Be(on,on.current),!0}function Iv(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=C_(t,e,ls),r.__reactInternalMemoizedMergedChildContext=t,We(on),We(Ut),Be(Ut,t)):We(on),Be(on,n)}var vr=null,td=!1,mh=!1;function R_(t){vr===null?vr=[t]:vr.push(t)}function _I(t){td=!0,R_(t)}function Li(){if(!mh&&vr!==null){mh=!0;var t=0,e=je;try{var n=vr;for(je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}vr=null,td=!1}catch(i){throw vr!==null&&(vr=vr.slice(t+1)),e_(Rp,Li),i}finally{je=e,mh=!1}}return null}var Ws=[],Gs=0,du=null,hu=0,Tn=[],Sn=0,cs=null,yr=1,_r="";function Wi(t,e){Ws[Gs++]=hu,Ws[Gs++]=du,du=t,hu=e}function A_(t,e,n){Tn[Sn++]=yr,Tn[Sn++]=_r,Tn[Sn++]=cs,cs=t;var r=yr;t=_r;var i=32-On(r)-1;r&=~(1<<i),n+=1;var s=32-On(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,yr=1<<32-On(e)+i|n<<i|r,_r=s+t}else yr=1<<s|n<<i|r,_r=t}function Op(t){t.return!==null&&(Wi(t,1),A_(t,1,0))}function Fp(t){for(;t===du;)du=Ws[--Gs],Ws[Gs]=null,hu=Ws[--Gs],Ws[Gs]=null;for(;t===cs;)cs=Tn[--Sn],Tn[Sn]=null,_r=Tn[--Sn],Tn[Sn]=null,yr=Tn[--Sn],Tn[Sn]=null}var pn=null,hn=null,Ye=!1,Vn=null;function P_(t,e){var n=In(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function bv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pn=t,hn=gi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pn=t,hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cs!==null?{id:yr,overflow:_r}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=In(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pn=t,hn=null,!0):!1;default:return!1}}function Ef(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tf(t){if(Ye){var e=hn;if(e){var n=e;if(!bv(t,e)){if(Ef(t))throw Error(H(418));e=gi(n.nextSibling);var r=pn;e&&bv(t,e)?P_(r,n):(t.flags=t.flags&-4097|2,Ye=!1,pn=t)}}else{if(Ef(t))throw Error(H(418));t.flags=t.flags&-4097|2,Ye=!1,pn=t}}}function kv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pn=t}function vc(t){if(t!==pn)return!1;if(!Ye)return kv(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yf(t.type,t.memoizedProps)),e&&(e=hn)){if(Ef(t))throw N_(),Error(H(418));for(;e;)P_(t,e),e=gi(e.nextSibling)}if(kv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){hn=gi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}hn=null}}else hn=pn?gi(t.stateNode.nextSibling):null;return!0}function N_(){for(var t=hn;t;)t=gi(t.nextSibling)}function ho(){hn=pn=null,Ye=!1}function zp(t){Vn===null?Vn=[t]:Vn.push(t)}var wI=Vr.ReactCurrentBatchConfig;function aa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function yc(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Cv(t){var e=t._init;return e(t._payload)}function D_(t){function e(T,w){if(t){var k=T.deletions;k===null?(T.deletions=[w],T.flags|=16):k.push(w)}}function n(T,w){if(!t)return null;for(;w!==null;)e(T,w),w=w.sibling;return null}function r(T,w){for(T=new Map;w!==null;)w.key!==null?T.set(w.key,w):T.set(w.index,w),w=w.sibling;return T}function i(T,w){return T=wi(T,w),T.index=0,T.sibling=null,T}function s(T,w,k){return T.index=k,t?(k=T.alternate,k!==null?(k=k.index,k<w?(T.flags|=2,w):k):(T.flags|=2,w)):(T.flags|=1048576,w)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function l(T,w,k,L){return w===null||w.tag!==6?(w=Eh(k,T.mode,L),w.return=T,w):(w=i(w,k),w.return=T,w)}function c(T,w,k,L){var F=k.type;return F===zs?p(T,w,k.props.children,L,k.key):w!==null&&(w.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Zr&&Cv(F)===w.type)?(L=i(w,k.props),L.ref=aa(T,w,k),L.return=T,L):(L=Bc(k.type,k.key,k.props,null,T.mode,L),L.ref=aa(T,w,k),L.return=T,L)}function u(T,w,k,L){return w===null||w.tag!==4||w.stateNode.containerInfo!==k.containerInfo||w.stateNode.implementation!==k.implementation?(w=Th(k,T.mode,L),w.return=T,w):(w=i(w,k.children||[]),w.return=T,w)}function p(T,w,k,L,F){return w===null||w.tag!==7?(w=os(k,T.mode,L,F),w.return=T,w):(w=i(w,k),w.return=T,w)}function m(T,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Eh(""+w,T.mode,k),w.return=T,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ac:return k=Bc(w.type,w.key,w.props,null,T.mode,k),k.ref=aa(T,null,w),k.return=T,k;case Fs:return w=Th(w,T.mode,k),w.return=T,w;case Zr:var L=w._init;return m(T,L(w._payload),k)}if(Ta(w)||na(w))return w=os(w,T.mode,k,null),w.return=T,w;yc(T,w)}return null}function f(T,w,k,L){var F=w!==null?w.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return F!==null?null:l(T,w,""+k,L);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ac:return k.key===F?c(T,w,k,L):null;case Fs:return k.key===F?u(T,w,k,L):null;case Zr:return F=k._init,f(T,w,F(k._payload),L)}if(Ta(k)||na(k))return F!==null?null:p(T,w,k,L,null);yc(T,k)}return null}function v(T,w,k,L,F){if(typeof L=="string"&&L!==""||typeof L=="number")return T=T.get(k)||null,l(w,T,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case ac:return T=T.get(L.key===null?k:L.key)||null,c(w,T,L,F);case Fs:return T=T.get(L.key===null?k:L.key)||null,u(w,T,L,F);case Zr:var A=L._init;return v(T,w,k,A(L._payload),F)}if(Ta(L)||na(L))return T=T.get(k)||null,p(w,T,L,F,null);yc(w,L)}return null}function y(T,w,k,L){for(var F=null,A=null,E=w,_=w=0,S=null;E!==null&&_<k.length;_++){E.index>_?(S=E,E=null):S=E.sibling;var b=f(T,E,k[_],L);if(b===null){E===null&&(E=S);break}t&&E&&b.alternate===null&&e(T,E),w=s(b,w,_),A===null?F=b:A.sibling=b,A=b,E=S}if(_===k.length)return n(T,E),Ye&&Wi(T,_),F;if(E===null){for(;_<k.length;_++)E=m(T,k[_],L),E!==null&&(w=s(E,w,_),A===null?F=E:A.sibling=E,A=E);return Ye&&Wi(T,_),F}for(E=r(T,E);_<k.length;_++)S=v(E,T,_,k[_],L),S!==null&&(t&&S.alternate!==null&&E.delete(S.key===null?_:S.key),w=s(S,w,_),A===null?F=S:A.sibling=S,A=S);return t&&E.forEach(function(j){return e(T,j)}),Ye&&Wi(T,_),F}function I(T,w,k,L){var F=na(k);if(typeof F!="function")throw Error(H(150));if(k=F.call(k),k==null)throw Error(H(151));for(var A=F=null,E=w,_=w=0,S=null,b=k.next();E!==null&&!b.done;_++,b=k.next()){E.index>_?(S=E,E=null):S=E.sibling;var j=f(T,E,b.value,L);if(j===null){E===null&&(E=S);break}t&&E&&j.alternate===null&&e(T,E),w=s(j,w,_),A===null?F=j:A.sibling=j,A=j,E=S}if(b.done)return n(T,E),Ye&&Wi(T,_),F;if(E===null){for(;!b.done;_++,b=k.next())b=m(T,b.value,L),b!==null&&(w=s(b,w,_),A===null?F=b:A.sibling=b,A=b);return Ye&&Wi(T,_),F}for(E=r(T,E);!b.done;_++,b=k.next())b=v(E,T,_,b.value,L),b!==null&&(t&&b.alternate!==null&&E.delete(b.key===null?_:b.key),w=s(b,w,_),A===null?F=b:A.sibling=b,A=b);return t&&E.forEach(function(D){return e(T,D)}),Ye&&Wi(T,_),F}function C(T,w,k,L){if(typeof k=="object"&&k!==null&&k.type===zs&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case ac:e:{for(var F=k.key,A=w;A!==null;){if(A.key===F){if(F=k.type,F===zs){if(A.tag===7){n(T,A.sibling),w=i(A,k.props.children),w.return=T,T=w;break e}}else if(A.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Zr&&Cv(F)===A.type){n(T,A.sibling),w=i(A,k.props),w.ref=aa(T,A,k),w.return=T,T=w;break e}n(T,A);break}else e(T,A);A=A.sibling}k.type===zs?(w=os(k.props.children,T.mode,L,k.key),w.return=T,T=w):(L=Bc(k.type,k.key,k.props,null,T.mode,L),L.ref=aa(T,w,k),L.return=T,T=L)}return o(T);case Fs:e:{for(A=k.key;w!==null;){if(w.key===A)if(w.tag===4&&w.stateNode.containerInfo===k.containerInfo&&w.stateNode.implementation===k.implementation){n(T,w.sibling),w=i(w,k.children||[]),w.return=T,T=w;break e}else{n(T,w);break}else e(T,w);w=w.sibling}w=Th(k,T.mode,L),w.return=T,T=w}return o(T);case Zr:return A=k._init,C(T,w,A(k._payload),L)}if(Ta(k))return y(T,w,k,L);if(na(k))return I(T,w,k,L);yc(T,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,w!==null&&w.tag===6?(n(T,w.sibling),w=i(w,k),w.return=T,T=w):(n(T,w),w=Eh(k,T.mode,L),w.return=T,T=w),o(T)):n(T,w)}return C}var fo=D_(!0),j_=D_(!1),fu=ji(null),pu=null,Ks=null,Up=null;function Bp(){Up=Ks=pu=null}function $p(t){var e=fu.current;We(fu),t._currentValue=e}function Sf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function no(t,e){pu=t,Up=Ks=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(sn=!0),t.firstContext=null)}function kn(t){var e=t._currentValue;if(Up!==t)if(t={context:t,memoizedValue:e,next:null},Ks===null){if(pu===null)throw Error(H(308));Ks=t,pu.dependencies={lanes:0,firstContext:t}}else Ks=Ks.next=t;return e}var Zi=null;function Hp(t){Zi===null?Zi=[t]:Zi.push(t)}function L_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Hp(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ar(t,r)}function Ar(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ei=!1;function qp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function M_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ar(t,n)}return i=r.interleaved,i===null?(e.next=e,Hp(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ar(t,n)}function Mc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ap(t,n)}}function Rv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function mu(t,e,n,r){var i=t.updateQueue;ei=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var p=t.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==o&&(l===null?p.firstBaseUpdate=u:l.next=u,p.lastBaseUpdate=c))}if(s!==null){var m=i.baseState;o=0,p=u=c=null,l=s;do{var f=l.lane,v=l.eventTime;if((r&f)===f){p!==null&&(p=p.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,I=l;switch(f=e,v=n,I.tag){case 1:if(y=I.payload,typeof y=="function"){m=y.call(v,m,f);break e}m=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=I.payload,f=typeof y=="function"?y.call(v,m,f):y,f==null)break e;m=tt({},m,f);break e;case 2:ei=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else v={eventTime:v,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(u=p=v,c=m):p=p.next=v,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(p===null&&(c=m),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ds|=o,t.lanes=o,t.memoizedState=m}}function Av(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var Tl={},Xn=ji(Tl),nl=ji(Tl),rl=ji(Tl);function es(t){if(t===Tl)throw Error(H(174));return t}function Wp(t,e){switch(Be(rl,e),Be(nl,t),Be(Xn,Tl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rf(e,t)}We(Xn),Be(Xn,e)}function po(){We(Xn),We(nl),We(rl)}function V_(t){es(rl.current);var e=es(Xn.current),n=rf(e,t.type);e!==n&&(Be(nl,t),Be(Xn,n))}function Gp(t){nl.current===t&&(We(Xn),We(nl))}var Ze=ji(0);function gu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gh=[];function Kp(){for(var t=0;t<gh.length;t++)gh[t]._workInProgressVersionPrimary=null;gh.length=0}var Vc=Vr.ReactCurrentDispatcher,vh=Vr.ReactCurrentBatchConfig,us=0,et=null,vt=null,xt=null,vu=!1,Ma=!1,il=0,xI=0;function jt(){throw Error(H(321))}function Qp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!zn(t[n],e[n]))return!1;return!0}function Yp(t,e,n,r,i,s){if(us=s,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vc.current=t===null||t.memoizedState===null?II:bI,t=n(r,i),Ma){s=0;do{if(Ma=!1,il=0,25<=s)throw Error(H(301));s+=1,xt=vt=null,e.updateQueue=null,Vc.current=kI,t=n(r,i)}while(Ma)}if(Vc.current=yu,e=vt!==null&&vt.next!==null,us=0,xt=vt=et=null,vu=!1,e)throw Error(H(300));return t}function Xp(){var t=il!==0;return il=0,t}function Gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?et.memoizedState=xt=t:xt=xt.next=t,xt}function Cn(){if(vt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var e=xt===null?et.memoizedState:xt.next;if(e!==null)xt=e,vt=t;else{if(t===null)throw Error(H(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},xt===null?et.memoizedState=xt=t:xt=xt.next=t}return xt}function sl(t,e){return typeof e=="function"?e(t):e}function yh(t){var e=Cn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=vt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,u=s;do{var p=u.lane;if((us&p)===p)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var m={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=m,o=r):c=c.next=m,et.lanes|=p,ds|=p}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=l,zn(r,e.memoizedState)||(sn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,et.lanes|=s,ds|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _h(t){var e=Cn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);zn(s,e.memoizedState)||(sn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function O_(){}function F_(t,e){var n=et,r=Cn(),i=e(),s=!zn(r.memoizedState,i);if(s&&(r.memoizedState=i,sn=!0),r=r.queue,Jp(B_.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||xt!==null&&xt.memoizedState.tag&1){if(n.flags|=2048,ol(9,U_.bind(null,n,r,i,e),void 0,null),Et===null)throw Error(H(349));us&30||z_(n,e,i)}return i}function z_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function U_(t,e,n,r){e.value=n,e.getSnapshot=r,$_(e)&&H_(t)}function B_(t,e,n){return n(function(){$_(e)&&H_(t)})}function $_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!zn(t,n)}catch{return!0}}function H_(t){var e=Ar(t,1);e!==null&&Fn(e,t,1,-1)}function Pv(t){var e=Gn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:t},e.queue=t,t=t.dispatch=SI.bind(null,et,t),[e.memoizedState,t]}function ol(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function q_(){return Cn().memoizedState}function Oc(t,e,n,r){var i=Gn();et.flags|=t,i.memoizedState=ol(1|e,n,void 0,r===void 0?null:r)}function nd(t,e,n,r){var i=Cn();r=r===void 0?null:r;var s=void 0;if(vt!==null){var o=vt.memoizedState;if(s=o.destroy,r!==null&&Qp(r,o.deps)){i.memoizedState=ol(e,n,s,r);return}}et.flags|=t,i.memoizedState=ol(1|e,n,s,r)}function Nv(t,e){return Oc(8390656,8,t,e)}function Jp(t,e){return nd(2048,8,t,e)}function W_(t,e){return nd(4,2,t,e)}function G_(t,e){return nd(4,4,t,e)}function K_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Q_(t,e,n){return n=n!=null?n.concat([t]):null,nd(4,4,K_.bind(null,e,t),n)}function Zp(){}function Y_(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function X_(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function J_(t,e,n){return us&21?(zn(n,e)||(n=r_(),et.lanes|=n,ds|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,sn=!0),t.memoizedState=n)}function EI(t,e){var n=je;je=n!==0&&4>n?n:4,t(!0);var r=vh.transition;vh.transition={};try{t(!1),e()}finally{je=n,vh.transition=r}}function Z_(){return Cn().memoizedState}function TI(t,e,n){var r=_i(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ew(t))tw(e,n);else if(n=L_(t,e,n,r),n!==null){var i=Wt();Fn(n,t,r,i),nw(n,e,r)}}function SI(t,e,n){var r=_i(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ew(t))tw(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,zn(l,o)){var c=e.interleaved;c===null?(i.next=i,Hp(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=L_(t,e,i,r),n!==null&&(i=Wt(),Fn(n,t,r,i),nw(n,e,r))}}function ew(t){var e=t.alternate;return t===et||e!==null&&e===et}function tw(t,e){Ma=vu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ap(t,n)}}var yu={readContext:kn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},II={readContext:kn,useCallback:function(t,e){return Gn().memoizedState=[t,e===void 0?null:e],t},useContext:kn,useEffect:Nv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Oc(4194308,4,K_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Oc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Oc(4,2,t,e)},useMemo:function(t,e){var n=Gn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Gn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=TI.bind(null,et,t),[r.memoizedState,t]},useRef:function(t){var e=Gn();return t={current:t},e.memoizedState=t},useState:Pv,useDebugValue:Zp,useDeferredValue:function(t){return Gn().memoizedState=t},useTransition:function(){var t=Pv(!1),e=t[0];return t=EI.bind(null,t[1]),Gn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=et,i=Gn();if(Ye){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),Et===null)throw Error(H(349));us&30||z_(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Nv(B_.bind(null,r,s,t),[t]),r.flags|=2048,ol(9,U_.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Gn(),e=Et.identifierPrefix;if(Ye){var n=_r,r=yr;n=(r&~(1<<32-On(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=il++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=xI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bI={readContext:kn,useCallback:Y_,useContext:kn,useEffect:Jp,useImperativeHandle:Q_,useInsertionEffect:W_,useLayoutEffect:G_,useMemo:X_,useReducer:yh,useRef:q_,useState:function(){return yh(sl)},useDebugValue:Zp,useDeferredValue:function(t){var e=Cn();return J_(e,vt.memoizedState,t)},useTransition:function(){var t=yh(sl)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:O_,useSyncExternalStore:F_,useId:Z_,unstable_isNewReconciler:!1},kI={readContext:kn,useCallback:Y_,useContext:kn,useEffect:Jp,useImperativeHandle:Q_,useInsertionEffect:W_,useLayoutEffect:G_,useMemo:X_,useReducer:_h,useRef:q_,useState:function(){return _h(sl)},useDebugValue:Zp,useDeferredValue:function(t){var e=Cn();return vt===null?e.memoizedState=t:J_(e,vt.memoizedState,t)},useTransition:function(){var t=_h(sl)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:O_,useSyncExternalStore:F_,useId:Z_,unstable_isNewReconciler:!1};function jn(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function If(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var rd={isMounted:function(t){return(t=t._reactInternals)?ws(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Wt(),i=_i(t),s=Sr(r,i);s.payload=e,n!=null&&(s.callback=n),e=vi(t,s,i),e!==null&&(Fn(e,t,i,r),Mc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Wt(),i=_i(t),s=Sr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=vi(t,s,i),e!==null&&(Fn(e,t,i,r),Mc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wt(),r=_i(t),i=Sr(n,r);i.tag=2,e!=null&&(i.callback=e),e=vi(t,i,r),e!==null&&(Fn(e,t,r,n),Mc(e,t,r))}};function Dv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ja(n,r)||!Ja(i,s):!0}function rw(t,e,n){var r=!1,i=ki,s=e.contextType;return typeof s=="object"&&s!==null?s=kn(s):(i=an(e)?ls:Ut.current,r=e.contextTypes,s=(r=r!=null)?uo(t,i):ki),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=rd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function jv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&rd.enqueueReplaceState(e,e.state,null)}function bf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},qp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=kn(s):(s=an(e)?ls:Ut.current,i.context=uo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(If(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&rd.enqueueReplaceState(i,i.state,null),mu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function mo(t,e){try{var n="",r=e;do n+=tS(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function wh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function kf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var CI=typeof WeakMap=="function"?WeakMap:Map;function iw(t,e,n){n=Sr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){wu||(wu=!0,Vf=r),kf(t,e)},n}function sw(t,e,n){n=Sr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){kf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){kf(t,e),typeof r!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Lv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new CI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=BI.bind(null,t,e,n),e.then(t,t))}function Mv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Vv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Sr(-1,1),e.tag=2,vi(n,e,1))),n.lanes|=1),t)}var RI=Vr.ReactCurrentOwner,sn=!1;function Ht(t,e,n,r){e.child=t===null?j_(e,null,n,r):fo(e,t.child,n,r)}function Ov(t,e,n,r,i){n=n.render;var s=e.ref;return no(e,i),r=Yp(t,e,n,r,s,i),n=Xp(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pr(t,e,i)):(Ye&&n&&Op(e),e.flags|=1,Ht(t,e,r,i),e.child)}function Fv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!am(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,ow(t,e,s,r,i)):(t=Bc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ja,n(o,r)&&t.ref===e.ref)return Pr(t,e,i)}return e.flags|=1,t=wi(s,r),t.ref=e.ref,t.return=e,e.child=t}function ow(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ja(s,r)&&t.ref===e.ref)if(sn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(sn=!0);else return e.lanes=t.lanes,Pr(t,e,i)}return Cf(t,e,n,r,i)}function aw(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(Ys,un),un|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(Ys,un),un|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Be(Ys,un),un|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Be(Ys,un),un|=r;return Ht(t,e,i,n),e.child}function lw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Cf(t,e,n,r,i){var s=an(n)?ls:Ut.current;return s=uo(e,s),no(e,i),n=Yp(t,e,n,r,s,i),r=Xp(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pr(t,e,i)):(Ye&&r&&Op(e),e.flags|=1,Ht(t,e,n,i),e.child)}function zv(t,e,n,r,i){if(an(n)){var s=!0;uu(e)}else s=!1;if(no(e,i),e.stateNode===null)Fc(t,e),rw(e,n,r),bf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=kn(u):(u=an(n)?ls:Ut.current,u=uo(e,u));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&jv(e,o,r,u),ei=!1;var f=e.memoizedState;o.state=f,mu(e,r,o,i),c=e.memoizedState,l!==r||f!==c||on.current||ei?(typeof p=="function"&&(If(e,n,p,r),c=e.memoizedState),(l=ei||Dv(e,n,l,r,f,c,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,M_(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:jn(e.type,l),o.props=u,m=e.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=kn(c):(c=an(n)?ls:Ut.current,c=uo(e,c));var v=n.getDerivedStateFromProps;(p=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||f!==c)&&jv(e,o,r,c),ei=!1,f=e.memoizedState,o.state=f,mu(e,r,o,i);var y=e.memoizedState;l!==m||f!==y||on.current||ei?(typeof v=="function"&&(If(e,n,v,r),y=e.memoizedState),(u=ei||Dv(e,n,u,r,f,y,c)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Rf(t,e,n,r,s,i)}function Rf(t,e,n,r,i,s){lw(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Iv(e,n,!1),Pr(t,e,s);r=e.stateNode,RI.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=fo(e,t.child,null,s),e.child=fo(e,null,l,s)):Ht(t,e,l,s),e.memoizedState=r.state,i&&Iv(e,n,!0),e.child}function cw(t){var e=t.stateNode;e.pendingContext?Sv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Sv(t,e.context,!1),Wp(t,e.containerInfo)}function Uv(t,e,n,r,i){return ho(),zp(i),e.flags|=256,Ht(t,e,n,r),e.child}var Af={dehydrated:null,treeContext:null,retryLane:0};function Pf(t){return{baseLanes:t,cachePool:null,transitions:null}}function uw(t,e,n){var r=e.pendingProps,i=Ze.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Be(Ze,i&1),t===null)return Tf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=od(o,r,0,null),t=os(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Pf(n),e.memoizedState=Af,t):em(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return AI(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=wi(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=wi(l,s):(s=os(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Pf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Af,r}return s=t.child,t=s.sibling,r=wi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function em(t,e){return e=od({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _c(t,e,n,r){return r!==null&&zp(r),fo(e,t.child,null,n),t=em(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function AI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=wh(Error(H(422))),_c(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=od({mode:"visible",children:r.children},i,0,null),s=os(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&fo(e,t.child,null,o),e.child.memoizedState=Pf(o),e.memoizedState=Af,s);if(!(e.mode&1))return _c(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(H(419)),r=wh(s,r,void 0),_c(t,e,o,r)}if(l=(o&t.childLanes)!==0,sn||l){if(r=Et,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ar(t,i),Fn(r,t,i,-1))}return om(),r=wh(Error(H(421))),_c(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=$I.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,hn=gi(i.nextSibling),pn=e,Ye=!0,Vn=null,t!==null&&(Tn[Sn++]=yr,Tn[Sn++]=_r,Tn[Sn++]=cs,yr=t.id,_r=t.overflow,cs=e),e=em(e,r.children),e.flags|=4096,e)}function Bv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Sf(t.return,e,n)}function xh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function dw(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ht(t,e,r.children,n),r=Ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bv(t,n,e);else if(t.tag===19)Bv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(Ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&gu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),xh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&gu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}xh(e,!0,n,null,s);break;case"together":xh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ds|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=wi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function PI(t,e,n){switch(e.tag){case 3:cw(e),ho();break;case 5:V_(e);break;case 1:an(e.type)&&uu(e);break;case 4:Wp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Be(fu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(Ze,Ze.current&1),e.flags|=128,null):n&e.child.childLanes?uw(t,e,n):(Be(Ze,Ze.current&1),t=Pr(t,e,n),t!==null?t.sibling:null);Be(Ze,Ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dw(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(Ze,Ze.current),r)break;return null;case 22:case 23:return e.lanes=0,aw(t,e,n)}return Pr(t,e,n)}var hw,Nf,fw,pw;hw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Nf=function(){};fw=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,es(Xn.current);var s=null;switch(n){case"input":i=Zh(t,i),r=Zh(t,r),s=[];break;case"select":i=tt({},i,{value:void 0}),r=tt({},r,{value:void 0}),s=[];break;case"textarea":i=nf(t,i),r=nf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=lu)}sf(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qa.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qa.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&qe("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};pw=function(t,e,n,r){n!==r&&(e.flags|=4)};function la(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function NI(t,e,n){var r=e.pendingProps;switch(Fp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(e),null;case 1:return an(e.type)&&cu(),Lt(e),null;case 3:return r=e.stateNode,po(),We(on),We(Ut),Kp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(vc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vn!==null&&(zf(Vn),Vn=null))),Nf(t,e),Lt(e),null;case 5:Gp(e);var i=es(rl.current);if(n=e.type,t!==null&&e.stateNode!=null)fw(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Lt(e),null}if(t=es(Xn.current),vc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Kn]=e,r[tl]=s,t=(e.mode&1)!==0,n){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(i=0;i<Ia.length;i++)qe(Ia[i],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":Xg(r,s),qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},qe("invalid",r);break;case"textarea":Zg(r,s),qe("invalid",r)}sf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&gc(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&gc(r.textContent,l,t),i=["children",""+l]):qa.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&qe("scroll",r)}switch(n){case"input":lc(r),Jg(r,s,!0);break;case"textarea":lc(r),ev(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=lu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=B1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Kn]=e,t[tl]=r,hw(t,e,!1,!1),e.stateNode=t;e:{switch(o=of(n,r),n){case"dialog":qe("cancel",t),qe("close",t),i=r;break;case"iframe":case"object":case"embed":qe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ia.length;i++)qe(Ia[i],t);i=r;break;case"source":qe("error",t),i=r;break;case"img":case"image":case"link":qe("error",t),qe("load",t),i=r;break;case"details":qe("toggle",t),i=r;break;case"input":Xg(t,r),i=Zh(t,r),qe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=tt({},r,{value:void 0}),qe("invalid",t);break;case"textarea":Zg(t,r),i=nf(t,r),qe("invalid",t);break;default:i=r}sf(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?q1(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&$1(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Wa(t,c):typeof c=="number"&&Wa(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(qa.hasOwnProperty(s)?c!=null&&s==="onScroll"&&qe("scroll",t):c!=null&&Sp(t,s,c,o))}switch(n){case"input":lc(t),Jg(t,r,!1);break;case"textarea":lc(t),ev(t);break;case"option":r.value!=null&&t.setAttribute("value",""+bi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Js(t,!!r.multiple,s,!1):r.defaultValue!=null&&Js(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=lu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Lt(e),null;case 6:if(t&&e.stateNode!=null)pw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=es(rl.current),es(Xn.current),vc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Kn]=e,(s=r.nodeValue!==n)&&(t=pn,t!==null))switch(t.tag){case 3:gc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kn]=e,e.stateNode=r}return Lt(e),null;case 13:if(We(Ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&hn!==null&&e.mode&1&&!(e.flags&128))N_(),ho(),e.flags|=98560,s=!1;else if(s=vc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[Kn]=e}else ho(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Lt(e),s=!1}else Vn!==null&&(zf(Vn),Vn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?_t===0&&(_t=3):om())),e.updateQueue!==null&&(e.flags|=4),Lt(e),null);case 4:return po(),Nf(t,e),t===null&&Za(e.stateNode.containerInfo),Lt(e),null;case 10:return $p(e.type._context),Lt(e),null;case 17:return an(e.type)&&cu(),Lt(e),null;case 19:if(We(Ze),s=e.memoizedState,s===null)return Lt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)la(s,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=gu(t),o!==null){for(e.flags|=128,la(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(Ze,Ze.current&1|2),e.child}t=t.sibling}s.tail!==null&&ot()>go&&(e.flags|=128,r=!0,la(s,!1),e.lanes=4194304)}else{if(!r)if(t=gu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),la(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ye)return Lt(e),null}else 2*ot()-s.renderingStartTime>go&&n!==1073741824&&(e.flags|=128,r=!0,la(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ot(),e.sibling=null,n=Ze.current,Be(Ze,r?n&1|2:n&1),e):(Lt(e),null);case 22:case 23:return sm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?un&1073741824&&(Lt(e),e.subtreeFlags&6&&(e.flags|=8192)):Lt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function DI(t,e){switch(Fp(e),e.tag){case 1:return an(e.type)&&cu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return po(),We(on),We(Ut),Kp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gp(e),null;case 13:if(We(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));ho()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Ze),null;case 4:return po(),null;case 10:return $p(e.type._context),null;case 22:case 23:return sm(),null;case 24:return null;default:return null}}var wc=!1,Ft=!1,jI=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Qs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(t,e,r)}else n.current=null}function Df(t,e,n){try{n()}catch(r){it(t,e,r)}}var $v=!1;function LI(t,e){if(gf=su,t=__(),Vp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,p=0,m=t,f=null;t:for(;;){for(var v;m!==n||i!==0&&m.nodeType!==3||(l=o+i),m!==s||r!==0&&m.nodeType!==3||(c=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(v=m.firstChild)!==null;)f=m,m=v;for(;;){if(m===t)break t;if(f===n&&++u===i&&(l=o),f===s&&++p===r&&(c=o),(v=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(vf={focusedElem:t,selectionRange:n},su=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var I=y.memoizedProps,C=y.memoizedState,T=e.stateNode,w=T.getSnapshotBeforeUpdate(e.elementType===e.type?I:jn(e.type,I),C);T.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(L){it(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return y=$v,$v=!1,y}function Va(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Df(e,n,s)}i=i.next}while(i!==r)}}function id(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function jf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mw(t){var e=t.alternate;e!==null&&(t.alternate=null,mw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Kn],delete e[tl],delete e[wf],delete e[vI],delete e[yI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gw(t){return t.tag===5||t.tag===3||t.tag===4}function Hv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=lu));else if(r!==4&&(t=t.child,t!==null))for(Lf(t,e,n),t=t.sibling;t!==null;)Lf(t,e,n),t=t.sibling}function Mf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Mf(t,e,n),t=t.sibling;t!==null;)Mf(t,e,n),t=t.sibling}var It=null,Ln=!1;function Wr(t,e,n){for(n=n.child;n!==null;)vw(t,e,n),n=n.sibling}function vw(t,e,n){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(Yu,n)}catch{}switch(n.tag){case 5:Ft||Qs(n,e);case 6:var r=It,i=Ln;It=null,Wr(t,e,n),It=r,Ln=i,It!==null&&(Ln?(t=It,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):It.removeChild(n.stateNode));break;case 18:It!==null&&(Ln?(t=It,n=n.stateNode,t.nodeType===8?ph(t.parentNode,n):t.nodeType===1&&ph(t,n),Ya(t)):ph(It,n.stateNode));break;case 4:r=It,i=Ln,It=n.stateNode.containerInfo,Ln=!0,Wr(t,e,n),It=r,Ln=i;break;case 0:case 11:case 14:case 15:if(!Ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Df(n,e,o),i=i.next}while(i!==r)}Wr(t,e,n);break;case 1:if(!Ft&&(Qs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){it(n,e,l)}Wr(t,e,n);break;case 21:Wr(t,e,n);break;case 22:n.mode&1?(Ft=(r=Ft)||n.memoizedState!==null,Wr(t,e,n),Ft=r):Wr(t,e,n);break;default:Wr(t,e,n)}}function qv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new jI),e.forEach(function(r){var i=HI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Dn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:It=l.stateNode,Ln=!1;break e;case 3:It=l.stateNode.containerInfo,Ln=!0;break e;case 4:It=l.stateNode.containerInfo,Ln=!0;break e}l=l.return}if(It===null)throw Error(H(160));vw(s,o,i),It=null,Ln=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){it(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yw(e,t),e=e.sibling}function yw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dn(e,t),qn(t),r&4){try{Va(3,t,t.return),id(3,t)}catch(I){it(t,t.return,I)}try{Va(5,t,t.return)}catch(I){it(t,t.return,I)}}break;case 1:Dn(e,t),qn(t),r&512&&n!==null&&Qs(n,n.return);break;case 5:if(Dn(e,t),qn(t),r&512&&n!==null&&Qs(n,n.return),t.flags&32){var i=t.stateNode;try{Wa(i,"")}catch(I){it(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&z1(i,s),of(l,o);var u=of(l,s);for(o=0;o<c.length;o+=2){var p=c[o],m=c[o+1];p==="style"?q1(i,m):p==="dangerouslySetInnerHTML"?$1(i,m):p==="children"?Wa(i,m):Sp(i,p,m,u)}switch(l){case"input":ef(i,s);break;case"textarea":U1(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Js(i,!!s.multiple,v,!1):f!==!!s.multiple&&(s.defaultValue!=null?Js(i,!!s.multiple,s.defaultValue,!0):Js(i,!!s.multiple,s.multiple?[]:"",!1))}i[tl]=s}catch(I){it(t,t.return,I)}}break;case 6:if(Dn(e,t),qn(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(I){it(t,t.return,I)}}break;case 3:if(Dn(e,t),qn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ya(e.containerInfo)}catch(I){it(t,t.return,I)}break;case 4:Dn(e,t),qn(t);break;case 13:Dn(e,t),qn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(rm=ot())),r&4&&qv(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Ft=(u=Ft)||p,Dn(e,t),Ft=u):Dn(e,t),qn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!p&&t.mode&1)for(Y=t,p=t.child;p!==null;){for(m=Y=p;Y!==null;){switch(f=Y,v=f.child,f.tag){case 0:case 11:case 14:case 15:Va(4,f,f.return);break;case 1:Qs(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(I){it(r,n,I)}}break;case 5:Qs(f,f.return);break;case 22:if(f.memoizedState!==null){Gv(m);continue}}v!==null?(v.return=f,Y=v):Gv(m)}p=p.sibling}e:for(p=null,m=t;;){if(m.tag===5){if(p===null){p=m;try{i=m.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=H1("display",o))}catch(I){it(t,t.return,I)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(I){it(t,t.return,I)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Dn(e,t),qn(t),r&4&&qv(t);break;case 21:break;default:Dn(e,t),qn(t)}}function qn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gw(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Wa(i,""),r.flags&=-33);var s=Hv(t);Mf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Hv(t);Lf(t,l,o);break;default:throw Error(H(161))}}catch(c){it(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function MI(t,e,n){Y=t,_w(t)}function _w(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||wc;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Ft;l=wc;var u=Ft;if(wc=o,(Ft=c)&&!u)for(Y=i;Y!==null;)o=Y,c=o.child,o.tag===22&&o.memoizedState!==null?Kv(i):c!==null?(c.return=o,Y=c):Kv(i);for(;s!==null;)Y=s,_w(s),s=s.sibling;Y=i,wc=l,Ft=u}Wv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):Wv(t)}}function Wv(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ft||id(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ft)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:jn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Av(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Av(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&Ya(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Ft||e.flags&512&&jf(e)}catch(f){it(e,e.return,f)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Gv(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Kv(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{id(4,e)}catch(c){it(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){it(e,i,c)}}var s=e.return;try{jf(e)}catch(c){it(e,s,c)}break;case 5:var o=e.return;try{jf(e)}catch(c){it(e,o,c)}}}catch(c){it(e,e.return,c)}if(e===t){Y=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Y=l;break}Y=e.return}}var VI=Math.ceil,_u=Vr.ReactCurrentDispatcher,tm=Vr.ReactCurrentOwner,bn=Vr.ReactCurrentBatchConfig,Ce=0,Et=null,ht=null,Ct=0,un=0,Ys=ji(0),_t=0,al=null,ds=0,sd=0,nm=0,Oa=null,tn=null,rm=0,go=1/0,gr=null,wu=!1,Vf=null,yi=null,xc=!1,ui=null,xu=0,Fa=0,Of=null,zc=-1,Uc=0;function Wt(){return Ce&6?ot():zc!==-1?zc:zc=ot()}function _i(t){return t.mode&1?Ce&2&&Ct!==0?Ct&-Ct:wI.transition!==null?(Uc===0&&(Uc=r_()),Uc):(t=je,t!==0||(t=window.event,t=t===void 0?16:u_(t.type)),t):1}function Fn(t,e,n,r){if(50<Fa)throw Fa=0,Of=null,Error(H(185));wl(t,n,r),(!(Ce&2)||t!==Et)&&(t===Et&&(!(Ce&2)&&(sd|=n),_t===4&&ni(t,Ct)),ln(t,r),n===1&&Ce===0&&!(e.mode&1)&&(go=ot()+500,td&&Li()))}function ln(t,e){var n=t.callbackNode;wS(t,e);var r=iu(t,t===Et?Ct:0);if(r===0)n!==null&&rv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&rv(n),e===1)t.tag===0?_I(Qv.bind(null,t)):R_(Qv.bind(null,t)),mI(function(){!(Ce&6)&&Li()}),n=null;else{switch(i_(r)){case 1:n=Rp;break;case 4:n=t_;break;case 16:n=ru;break;case 536870912:n=n_;break;default:n=ru}n=kw(n,ww.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ww(t,e){if(zc=-1,Uc=0,Ce&6)throw Error(H(327));var n=t.callbackNode;if(ro()&&t.callbackNode!==n)return null;var r=iu(t,t===Et?Ct:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Eu(t,r);else{e=r;var i=Ce;Ce|=2;var s=Ew();(Et!==t||Ct!==e)&&(gr=null,go=ot()+500,ss(t,e));do try{zI();break}catch(l){xw(t,l)}while(!0);Bp(),_u.current=s,Ce=i,ht!==null?e=0:(Et=null,Ct=0,e=_t)}if(e!==0){if(e===2&&(i=df(t),i!==0&&(r=i,e=Ff(t,i))),e===1)throw n=al,ss(t,0),ni(t,r),ln(t,ot()),n;if(e===6)ni(t,r);else{if(i=t.current.alternate,!(r&30)&&!OI(i)&&(e=Eu(t,r),e===2&&(s=df(t),s!==0&&(r=s,e=Ff(t,s))),e===1))throw n=al,ss(t,0),ni(t,r),ln(t,ot()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Gi(t,tn,gr);break;case 3:if(ni(t,r),(r&130023424)===r&&(e=rm+500-ot(),10<e)){if(iu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Wt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_f(Gi.bind(null,t,tn,gr),e);break}Gi(t,tn,gr);break;case 4:if(ni(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-On(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*VI(r/1960))-r,10<r){t.timeoutHandle=_f(Gi.bind(null,t,tn,gr),r);break}Gi(t,tn,gr);break;case 5:Gi(t,tn,gr);break;default:throw Error(H(329))}}}return ln(t,ot()),t.callbackNode===n?ww.bind(null,t):null}function Ff(t,e){var n=Oa;return t.current.memoizedState.isDehydrated&&(ss(t,e).flags|=256),t=Eu(t,e),t!==2&&(e=tn,tn=n,e!==null&&zf(e)),t}function zf(t){tn===null?tn=t:tn.push.apply(tn,t)}function OI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!zn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ni(t,e){for(e&=~nm,e&=~sd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-On(e),r=1<<n;t[n]=-1,e&=~r}}function Qv(t){if(Ce&6)throw Error(H(327));ro();var e=iu(t,0);if(!(e&1))return ln(t,ot()),null;var n=Eu(t,e);if(t.tag!==0&&n===2){var r=df(t);r!==0&&(e=r,n=Ff(t,r))}if(n===1)throw n=al,ss(t,0),ni(t,e),ln(t,ot()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gi(t,tn,gr),ln(t,ot()),null}function im(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(go=ot()+500,td&&Li())}}function hs(t){ui!==null&&ui.tag===0&&!(Ce&6)&&ro();var e=Ce;Ce|=1;var n=bn.transition,r=je;try{if(bn.transition=null,je=1,t)return t()}finally{je=r,bn.transition=n,Ce=e,!(Ce&6)&&Li()}}function sm(){un=Ys.current,We(Ys)}function ss(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,pI(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(Fp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cu();break;case 3:po(),We(on),We(Ut),Kp();break;case 5:Gp(r);break;case 4:po();break;case 13:We(Ze);break;case 19:We(Ze);break;case 10:$p(r.type._context);break;case 22:case 23:sm()}n=n.return}if(Et=t,ht=t=wi(t.current,null),Ct=un=e,_t=0,al=null,nm=sd=ds=0,tn=Oa=null,Zi!==null){for(e=0;e<Zi.length;e++)if(n=Zi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Zi=null}return t}function xw(t,e){do{var n=ht;try{if(Bp(),Vc.current=yu,vu){for(var r=et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vu=!1}if(us=0,xt=vt=et=null,Ma=!1,il=0,tm.current=null,n===null||n.return===null){_t=1,al=e,ht=null;break}e:{var s=t,o=n.return,l=n,c=e;if(e=Ct,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,p=l,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var f=p.alternate;f?(p.updateQueue=f.updateQueue,p.memoizedState=f.memoizedState,p.lanes=f.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=Mv(o);if(v!==null){v.flags&=-257,Vv(v,o,l,s,e),v.mode&1&&Lv(s,u,e),e=v,c=u;var y=e.updateQueue;if(y===null){var I=new Set;I.add(c),e.updateQueue=I}else y.add(c);break e}else{if(!(e&1)){Lv(s,u,e),om();break e}c=Error(H(426))}}else if(Ye&&l.mode&1){var C=Mv(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Vv(C,o,l,s,e),zp(mo(c,l));break e}}s=c=mo(c,l),_t!==4&&(_t=2),Oa===null?Oa=[s]:Oa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=iw(s,c,e);Rv(s,T);break e;case 1:l=c;var w=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(yi===null||!yi.has(k)))){s.flags|=65536,e&=-e,s.lanes|=e;var L=sw(s,l,e);Rv(s,L);break e}}s=s.return}while(s!==null)}Sw(n)}catch(F){e=F,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(!0)}function Ew(){var t=_u.current;return _u.current=yu,t===null?yu:t}function om(){(_t===0||_t===3||_t===2)&&(_t=4),Et===null||!(ds&268435455)&&!(sd&268435455)||ni(Et,Ct)}function Eu(t,e){var n=Ce;Ce|=2;var r=Ew();(Et!==t||Ct!==e)&&(gr=null,ss(t,e));do try{FI();break}catch(i){xw(t,i)}while(!0);if(Bp(),Ce=n,_u.current=r,ht!==null)throw Error(H(261));return Et=null,Ct=0,_t}function FI(){for(;ht!==null;)Tw(ht)}function zI(){for(;ht!==null&&!dS();)Tw(ht)}function Tw(t){var e=bw(t.alternate,t,un);t.memoizedProps=t.pendingProps,e===null?Sw(t):ht=e,tm.current=null}function Sw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=DI(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,ht=null;return}}else if(n=NI(n,e,un),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);_t===0&&(_t=5)}function Gi(t,e,n){var r=je,i=bn.transition;try{bn.transition=null,je=1,UI(t,e,n,r)}finally{bn.transition=i,je=r}return null}function UI(t,e,n,r){do ro();while(ui!==null);if(Ce&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(xS(t,s),t===Et&&(ht=Et=null,Ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xc||(xc=!0,kw(ru,function(){return ro(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=bn.transition,bn.transition=null;var o=je;je=1;var l=Ce;Ce|=4,tm.current=null,LI(t,n),yw(n,t),aI(vf),su=!!gf,vf=gf=null,t.current=n,MI(n),hS(),Ce=l,je=o,bn.transition=s}else t.current=n;if(xc&&(xc=!1,ui=t,xu=i),s=t.pendingLanes,s===0&&(yi=null),mS(n.stateNode),ln(t,ot()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(wu)throw wu=!1,t=Vf,Vf=null,t;return xu&1&&t.tag!==0&&ro(),s=t.pendingLanes,s&1?t===Of?Fa++:(Fa=0,Of=t):Fa=0,Li(),null}function ro(){if(ui!==null){var t=i_(xu),e=bn.transition,n=je;try{if(bn.transition=null,je=16>t?16:t,ui===null)var r=!1;else{if(t=ui,ui=null,xu=0,Ce&6)throw Error(H(331));var i=Ce;for(Ce|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Y=u;Y!==null;){var p=Y;switch(p.tag){case 0:case 11:case 15:Va(8,p,s)}var m=p.child;if(m!==null)m.return=p,Y=m;else for(;Y!==null;){p=Y;var f=p.sibling,v=p.return;if(mw(p),p===u){Y=null;break}if(f!==null){f.return=v,Y=f;break}Y=v}}}var y=s.alternate;if(y!==null){var I=y.child;if(I!==null){y.child=null;do{var C=I.sibling;I.sibling=null,I=C}while(I!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Va(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,Y=T;break e}Y=s.return}}var w=t.current;for(Y=w;Y!==null;){o=Y;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,Y=k;else e:for(o=w;Y!==null;){if(l=Y,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:id(9,l)}}catch(F){it(l,l.return,F)}if(l===o){Y=null;break e}var L=l.sibling;if(L!==null){L.return=l.return,Y=L;break e}Y=l.return}}if(Ce=i,Li(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(Yu,t)}catch{}r=!0}return r}finally{je=n,bn.transition=e}}return!1}function Yv(t,e,n){e=mo(n,e),e=iw(t,e,1),t=vi(t,e,1),e=Wt(),t!==null&&(wl(t,1,e),ln(t,e))}function it(t,e,n){if(t.tag===3)Yv(t,t,n);else for(;e!==null;){if(e.tag===3){Yv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yi===null||!yi.has(r))){t=mo(n,t),t=sw(e,t,1),e=vi(e,t,1),t=Wt(),e!==null&&(wl(e,1,t),ln(e,t));break}}e=e.return}}function BI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Wt(),t.pingedLanes|=t.suspendedLanes&n,Et===t&&(Ct&n)===n&&(_t===4||_t===3&&(Ct&130023424)===Ct&&500>ot()-rm?ss(t,0):nm|=n),ln(t,e)}function Iw(t,e){e===0&&(t.mode&1?(e=dc,dc<<=1,!(dc&130023424)&&(dc=4194304)):e=1);var n=Wt();t=Ar(t,e),t!==null&&(wl(t,e,n),ln(t,n))}function $I(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Iw(t,n)}function HI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),Iw(t,n)}var bw;bw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||on.current)sn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return sn=!1,PI(t,e,n);sn=!!(t.flags&131072)}else sn=!1,Ye&&e.flags&1048576&&A_(e,hu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Fc(t,e),t=e.pendingProps;var i=uo(e,Ut.current);no(e,n),i=Yp(null,e,r,t,i,n);var s=Xp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,an(r)?(s=!0,uu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,qp(e),i.updater=rd,e.stateNode=i,i._reactInternals=e,bf(e,r,t,n),e=Rf(null,e,r,!0,s,n)):(e.tag=0,Ye&&s&&Op(e),Ht(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Fc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=WI(r),t=jn(r,t),i){case 0:e=Cf(null,e,r,t,n);break e;case 1:e=zv(null,e,r,t,n);break e;case 11:e=Ov(null,e,r,t,n);break e;case 14:e=Fv(null,e,r,jn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jn(r,i),Cf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jn(r,i),zv(t,e,r,i,n);case 3:e:{if(cw(e),t===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,M_(t,e),mu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=mo(Error(H(423)),e),e=Uv(t,e,r,n,i);break e}else if(r!==i){i=mo(Error(H(424)),e),e=Uv(t,e,r,n,i);break e}else for(hn=gi(e.stateNode.containerInfo.firstChild),pn=e,Ye=!0,Vn=null,n=j_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ho(),r===i){e=Pr(t,e,n);break e}Ht(t,e,r,n)}e=e.child}return e;case 5:return V_(e),t===null&&Tf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,yf(r,i)?o=null:s!==null&&yf(r,s)&&(e.flags|=32),lw(t,e),Ht(t,e,o,n),e.child;case 6:return t===null&&Tf(e),null;case 13:return uw(t,e,n);case 4:return Wp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fo(e,null,r,n):Ht(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jn(r,i),Ov(t,e,r,i,n);case 7:return Ht(t,e,e.pendingProps,n),e.child;case 8:return Ht(t,e,e.pendingProps.children,n),e.child;case 12:return Ht(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Be(fu,r._currentValue),r._currentValue=o,s!==null)if(zn(s.value,o)){if(s.children===i.children&&!on.current){e=Pr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Sr(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?c.next=c:(c.next=p.next,p.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Sf(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Sf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ht(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,no(e,n),i=kn(i),r=r(i),e.flags|=1,Ht(t,e,r,n),e.child;case 14:return r=e.type,i=jn(r,e.pendingProps),i=jn(r.type,i),Fv(t,e,r,i,n);case 15:return ow(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jn(r,i),Fc(t,e),e.tag=1,an(r)?(t=!0,uu(e)):t=!1,no(e,n),rw(e,r,i),bf(e,r,i,n),Rf(null,e,r,!0,t,n);case 19:return dw(t,e,n);case 22:return aw(t,e,n)}throw Error(H(156,e.tag))};function kw(t,e){return e_(t,e)}function qI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,e,n,r){return new qI(t,e,n,r)}function am(t){return t=t.prototype,!(!t||!t.isReactComponent)}function WI(t){if(typeof t=="function")return am(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bp)return 11;if(t===kp)return 14}return 2}function wi(t,e){var n=t.alternate;return n===null?(n=In(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")am(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zs:return os(n.children,i,s,e);case Ip:o=8,i|=8;break;case Qh:return t=In(12,n,e,i|2),t.elementType=Qh,t.lanes=s,t;case Yh:return t=In(13,n,e,i),t.elementType=Yh,t.lanes=s,t;case Xh:return t=In(19,n,e,i),t.elementType=Xh,t.lanes=s,t;case V1:return od(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case L1:o=10;break e;case M1:o=9;break e;case bp:o=11;break e;case kp:o=14;break e;case Zr:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=In(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function os(t,e,n,r){return t=In(7,t,r,e),t.lanes=n,t}function od(t,e,n,r){return t=In(22,t,r,e),t.elementType=V1,t.lanes=n,t.stateNode={isHidden:!1},t}function Eh(t,e,n){return t=In(6,t,null,e),t.lanes=n,t}function Th(t,e,n){return e=In(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function GI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rh(0),this.expirationTimes=rh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function lm(t,e,n,r,i,s,o,l,c){return t=new GI(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=In(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qp(s),t}function KI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Cw(t){if(!t)return ki;t=t._reactInternals;e:{if(ws(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(an(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(an(n))return C_(t,n,e)}return e}function Rw(t,e,n,r,i,s,o,l,c){return t=lm(n,r,!0,t,i,s,o,l,c),t.context=Cw(null),n=t.current,r=Wt(),i=_i(n),s=Sr(r,i),s.callback=e??null,vi(n,s,i),t.current.lanes=i,wl(t,i,r),ln(t,r),t}function ad(t,e,n,r){var i=e.current,s=Wt(),o=_i(i);return n=Cw(n),e.context===null?e.context=n:e.pendingContext=n,e=Sr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=vi(i,e,o),t!==null&&(Fn(t,i,o,s),Mc(t,i,o)),o}function Tu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Xv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function cm(t,e){Xv(t,e),(t=t.alternate)&&Xv(t,e)}function QI(){return null}var Aw=typeof reportError=="function"?reportError:function(t){console.error(t)};function um(t){this._internalRoot=t}ld.prototype.render=um.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));ad(t,e,null,null)};ld.prototype.unmount=um.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hs(function(){ad(null,t,null,null)}),e[Rr]=null}};function ld(t){this._internalRoot=t}ld.prototype.unstable_scheduleHydration=function(t){if(t){var e=a_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ti.length&&e!==0&&e<ti[n].priority;n++);ti.splice(n,0,t),n===0&&c_(t)}};function dm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Jv(){}function YI(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Tu(o);s.call(u)}}var o=Rw(e,r,t,0,null,!1,!1,"",Jv);return t._reactRootContainer=o,t[Rr]=o.current,Za(t.nodeType===8?t.parentNode:t),hs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Tu(c);l.call(u)}}var c=lm(t,0,!1,null,null,!1,!1,"",Jv);return t._reactRootContainer=c,t[Rr]=c.current,Za(t.nodeType===8?t.parentNode:t),hs(function(){ad(e,c,n,r)}),c}function ud(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=Tu(o);l.call(c)}}ad(e,o,t,i)}else o=YI(n,e,t,i,r);return Tu(o)}s_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Sa(e.pendingLanes);n!==0&&(Ap(e,n|1),ln(e,ot()),!(Ce&6)&&(go=ot()+500,Li()))}break;case 13:hs(function(){var r=Ar(t,1);if(r!==null){var i=Wt();Fn(r,t,1,i)}}),cm(t,1)}};Pp=function(t){if(t.tag===13){var e=Ar(t,134217728);if(e!==null){var n=Wt();Fn(e,t,134217728,n)}cm(t,134217728)}};o_=function(t){if(t.tag===13){var e=_i(t),n=Ar(t,e);if(n!==null){var r=Wt();Fn(n,t,e,r)}cm(t,e)}};a_=function(){return je};l_=function(t,e){var n=je;try{return je=t,e()}finally{je=n}};lf=function(t,e,n){switch(e){case"input":if(ef(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ed(r);if(!i)throw Error(H(90));F1(r),ef(r,i)}}}break;case"textarea":U1(t,n);break;case"select":e=n.value,e!=null&&Js(t,!!n.multiple,e,!1)}};K1=im;Q1=hs;var XI={usingClientEntryPoint:!1,Events:[El,Hs,ed,W1,G1,im]},ca={findFiberByHostInstance:Ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JI={bundleType:ca.bundleType,version:ca.version,rendererPackageName:ca.rendererPackageName,rendererConfig:ca.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=J1(t),t===null?null:t.stateNode},findFiberByHostInstance:ca.findFiberByHostInstance||QI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ec.isDisabled&&Ec.supportsFiber)try{Yu=Ec.inject(JI),Yn=Ec}catch{}}vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XI;vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dm(e))throw Error(H(200));return KI(t,e,null,n)};vn.createRoot=function(t,e){if(!dm(t))throw Error(H(299));var n=!1,r="",i=Aw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=lm(t,1,!1,null,null,n,!1,r,i),t[Rr]=e.current,Za(t.nodeType===8?t.parentNode:t),new um(e)};vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=J1(e),t=t===null?null:t.stateNode,t};vn.flushSync=function(t){return hs(t)};vn.hydrate=function(t,e,n){if(!cd(e))throw Error(H(200));return ud(null,t,e,!0,n)};vn.hydrateRoot=function(t,e,n){if(!dm(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Aw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Rw(e,null,t,1,n??null,i,!1,s,o),t[Rr]=e.current,Za(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ld(e)};vn.render=function(t,e,n){if(!cd(e))throw Error(H(200));return ud(null,t,e,!1,n)};vn.unmountComponentAtNode=function(t){if(!cd(t))throw Error(H(40));return t._reactRootContainer?(hs(function(){ud(null,null,t,!1,function(){t._reactRootContainer=null,t[Rr]=null})}),!0):!1};vn.unstable_batchedUpdates=im;vn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!cd(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return ud(t,e,n,!1,r)};vn.version="18.3.1-next-f1338f8080-20240426";function Pw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pw)}catch(t){console.error(t)}}Pw(),P1.exports=vn;var hm=P1.exports;const ZI=_1(hm),eb=y1({__proto__:null,default:ZI},[hm]);var Nw,Zv=hm;Nw=Zv.createRoot,Zv.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qe(){return Qe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qe.apply(this,arguments)}var dt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(dt||(dt={}));const e0="popstate";function tb(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return ll("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:fs(i)}return rb(e,n,null,t)}function _e(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nb(){return Math.random().toString(36).substr(2,8)}function t0(t,e){return{usr:t.state,key:t.key,idx:e}}function ll(t,e,n,r){return n===void 0&&(n=null),Qe({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Mi(e):e,{state:n,key:e&&e.key||r||nb()})}function fs(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Mi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function rb(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=dt.Pop,c=null,u=p();u==null&&(u=0,o.replaceState(Qe({},o.state,{idx:u}),""));function p(){return(o.state||{idx:null}).idx}function m(){l=dt.Pop;let C=p(),T=C==null?null:C-u;u=C,c&&c({action:l,location:I.location,delta:T})}function f(C,T){l=dt.Push;let w=ll(I.location,C,T);u=p()+1;let k=t0(w,u),L=I.createHref(w);try{o.pushState(k,"",L)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(L)}s&&c&&c({action:l,location:I.location,delta:1})}function v(C,T){l=dt.Replace;let w=ll(I.location,C,T);u=p();let k=t0(w,u),L=I.createHref(w);o.replaceState(k,"",L),s&&c&&c({action:l,location:I.location,delta:0})}function y(C){let T=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof C=="string"?C:fs(C);return w=w.replace(/ $/,"%20"),_e(T,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,T)}let I={get action(){return l},get location(){return t(i,o)},listen(C){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(e0,m),c=C,()=>{i.removeEventListener(e0,m),c=null}},createHref(C){return e(i,C)},createURL:y,encodeLocation(C){let T=y(C);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:f,replace:v,go(C){return o.go(C)}};return I}var Me;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Me||(Me={}));const ib=new Set(["lazy","caseSensitive","path","id","index","children"]);function sb(t){return t.index===!0}function Su(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],l=typeof i.id=="string"?i.id:o.join("-");if(_e(i.index!==!0||!i.children,"Cannot specify children on an index route"),_e(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),sb(i)){let c=Qe({},i,e(i),{id:l});return r[l]=c,c}else{let c=Qe({},i,e(i),{id:l,children:void 0});return r[l]=c,i.children&&(c.children=Su(i.children,e,o,r)),c}})}function Qi(t,e,n){return n===void 0&&(n="/"),$c(t,e,n,!1)}function $c(t,e,n,r){let i=typeof e=="string"?Mi(e):e,s=Ao(i.pathname||"/",n);if(s==null)return null;let o=Dw(t);ab(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=yb(s);l=gb(o[c],u,r)}return l}function ob(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Dw(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(_e(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Ir([r,c.relativePath]),p=n.concat(c);s.children&&s.children.length>0&&(_e(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Dw(s.children,e,p,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:pb(u,s.index),routesMeta:p})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of jw(s.path))i(s,o,c)}),e}function jw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=jw(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function ab(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:mb(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const lb=/^:[\w-]+$/,cb=3,ub=2,db=1,hb=10,fb=-2,n0=t=>t==="*";function pb(t,e){let n=t.split("/"),r=n.length;return n.some(n0)&&(r+=fb),e&&(r+=ub),n.filter(i=>!n0(i)).reduce((i,s)=>i+(lb.test(s)?cb:s===""?db:hb),r)}function mb(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function gb(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",m=r0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},p),f=c.route;if(!m&&u&&n&&!r[r.length-1].route.index&&(m=r0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:Ir([s,m.pathname]),pathnameBase:xb(Ir([s,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(s=Ir([s,m.pathnameBase]))}return o}function r0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=vb(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,p,m)=>{let{paramName:f,isOptional:v}=p;if(f==="*"){let I=l[m]||"";o=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const y=l[m];return v&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function vb(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),vo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function yb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vo(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ao(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function _b(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Mi(t):t;return{pathname:n?n.startsWith("/")?n:wb(n,e):e,search:Eb(r),hash:Tb(i)}}function wb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Sh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Lw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function dd(t,e){let n=Lw(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function hd(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Mi(t):(i=Qe({},t),_e(!i.pathname||!i.pathname.includes("?"),Sh("?","pathname","search",i)),_e(!i.pathname||!i.pathname.includes("#"),Sh("#","pathname","hash",i)),_e(!i.search||!i.search.includes("#"),Sh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),m-=1;i.pathname=f.join("/")}l=m>=0?e[m]:"/"}let c=_b(i,l),u=o&&o!=="/"&&o.endsWith("/"),p=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||p)&&(c.pathname+="/"),c}const Ir=t=>t.join("/").replace(/\/\/+/g,"/"),xb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Eb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Tb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Iu{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function fd(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Mw=["post","put","patch","delete"],Sb=new Set(Mw),Ib=["get",...Mw],bb=new Set(Ib),kb=new Set([301,302,303,307,308]),Cb=new Set([307,308]),Ih={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Rb={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ua={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},fm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ab=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Vw="remix-router-transitions";function Pb(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;_e(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let N=t.detectErrorBoundary;i=M=>({hasErrorBoundary:N(M)})}else i=Ab;let s={},o=Su(t.routes,i,void 0,s),l,c=t.basename||"/",u=t.dataStrategy||Lb,p=t.patchRoutesOnNavigation,m=Qe({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,v=new Set,y=null,I=null,C=null,T=t.hydrationData!=null,w=Qi(o,t.history.location,c),k=null;if(w==null&&!p){let N=en(404,{pathname:t.history.location.pathname}),{matches:M,route:O}=p0(o);w=M,k={[O.id]:N}}w&&!t.hydrationData&&ur(w,o,t.history.location.pathname).active&&(w=null);let L;if(w)if(w.some(N=>N.route.lazy))L=!1;else if(!w.some(N=>N.route.loader))L=!0;else if(m.v7_partialHydration){let N=t.hydrationData?t.hydrationData.loaderData:null,M=t.hydrationData?t.hydrationData.errors:null;if(M){let O=w.findIndex(U=>M[U.route.id]!==void 0);L=w.slice(0,O+1).every(U=>!Bf(U.route,N,M))}else L=w.every(O=>!Bf(O.route,N,M))}else L=t.hydrationData!=null;else if(L=!1,w=[],m.v7_partialHydration){let N=ur(null,o,t.history.location.pathname);N.active&&N.matches&&(w=N.matches)}let F,A={historyAction:t.history.action,location:t.history.location,matches:w,initialized:L,navigation:Ih,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||k,fetchers:new Map,blockers:new Map},E=dt.Pop,_=!1,S,b=!1,j=new Map,D=null,P=!1,ve=!1,pt=[],Te=new Set,le=new Map,q=0,K=-1,Z=new Map,se=new Set,pe=new Map,Pe=new Map,at=new Set,mt=new Map,gt=new Map,Xt;function Ud(){if(f=t.history.listen(N=>{let{action:M,location:O,delta:U}=N;if(Xt){Xt(),Xt=void 0;return}vo(gt.size===0||U!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Q=Wo({currentLocation:A.location,nextLocation:O,historyAction:M});if(Q&&U!=null){let ne=new Promise(ae=>{Xt=ae});t.history.go(U*-1),Fr(Q,{state:"blocked",location:O,proceed(){Fr(Q,{state:"proceeding",proceed:void 0,reset:void 0,location:O}),ne.then(()=>t.history.go(U))},reset(){let ae=new Map(A.blockers);ae.set(Q,ua),lt({blockers:ae})}});return}return Rn(M,O)}),n){Qb(e,j);let N=()=>Yb(e,j);e.addEventListener("pagehide",N),D=()=>e.removeEventListener("pagehide",N)}return A.initialized||Rn(dt.Pop,A.location,{initialHydration:!0}),F}function Bd(){f&&f(),D&&D(),v.clear(),S&&S.abort(),A.fetchers.forEach((N,M)=>zi(M)),A.blockers.forEach((N,M)=>Wl(M))}function bs(N){return v.add(N),()=>v.delete(N)}function lt(N,M){M===void 0&&(M={}),A=Qe({},A,N);let O=[],U=[];m.v7_fetcherPersist&&A.fetchers.forEach((Q,ne)=>{Q.state==="idle"&&(at.has(ne)?U.push(ne):O.push(ne))}),[...v].forEach(Q=>Q(A,{deletedFetchers:U,viewTransitionOpts:M.viewTransitionOpts,flushSync:M.flushSync===!0})),m.v7_fetcherPersist&&(O.forEach(Q=>A.fetchers.delete(Q)),U.forEach(Q=>zi(Q)))}function Un(N,M,O){var U,Q;let{flushSync:ne}=O===void 0?{}:O,ae=A.actionData!=null&&A.navigation.formMethod!=null&&Mn(A.navigation.formMethod)&&A.navigation.state==="loading"&&((U=N.state)==null?void 0:U._isRedirect)!==!0,X;M.actionData?Object.keys(M.actionData).length>0?X=M.actionData:X=null:ae?X=A.actionData:X=null;let J=M.loaderData?h0(A.loaderData,M.loaderData,M.matches||[],M.errors):A.loaderData,G=A.blockers;G.size>0&&(G=new Map(G),G.forEach((ye,Fe)=>G.set(Fe,ua)));let te=_===!0||A.navigation.formMethod!=null&&Mn(A.navigation.formMethod)&&((Q=N.state)==null?void 0:Q._isRedirect)!==!0;l&&(o=l,l=void 0),P||E===dt.Pop||(E===dt.Push?t.history.push(N,N.state):E===dt.Replace&&t.history.replace(N,N.state));let ge;if(E===dt.Pop){let ye=j.get(A.location.pathname);ye&&ye.has(N.pathname)?ge={currentLocation:A.location,nextLocation:N}:j.has(N.pathname)&&(ge={currentLocation:N,nextLocation:A.location})}else if(b){let ye=j.get(A.location.pathname);ye?ye.add(N.pathname):(ye=new Set([N.pathname]),j.set(A.location.pathname,ye)),ge={currentLocation:A.location,nextLocation:N}}lt(Qe({},M,{actionData:X,loaderData:J,historyAction:E,location:N,initialized:!0,navigation:Ih,revalidation:"idle",restoreScrollPosition:Ko(N,M.matches||A.matches),preventScrollReset:te,blockers:G}),{viewTransitionOpts:ge,flushSync:ne===!0}),E=dt.Pop,_=!1,b=!1,P=!1,ve=!1,pt=[]}async function ks(N,M){if(typeof N=="number"){t.history.go(N);return}let O=Uf(A.location,A.matches,c,m.v7_prependBasename,N,m.v7_relativeSplatPath,M==null?void 0:M.fromRouteId,M==null?void 0:M.relative),{path:U,submission:Q,error:ne}=i0(m.v7_normalizeFormMethod,!1,O,M),ae=A.location,X=ll(A.location,U,M&&M.state);X=Qe({},X,t.history.encodeLocation(X));let J=M&&M.replace!=null?M.replace:void 0,G=dt.Push;J===!0?G=dt.Replace:J===!1||Q!=null&&Mn(Q.formMethod)&&Q.formAction===A.location.pathname+A.location.search&&(G=dt.Replace);let te=M&&"preventScrollReset"in M?M.preventScrollReset===!0:void 0,ge=(M&&M.flushSync)===!0,ye=Wo({currentLocation:ae,nextLocation:X,historyAction:G});if(ye){Fr(ye,{state:"blocked",location:X,proceed(){Fr(ye,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),ks(N,M)},reset(){let Fe=new Map(A.blockers);Fe.set(ye,ua),lt({blockers:Fe})}});return}return await Rn(G,X,{submission:Q,pendingError:ne,preventScrollReset:te,replace:M&&M.replace,enableViewTransition:M&&M.viewTransition,flushSync:ge})}function zo(){if(ct(),lt({revalidation:"loading"}),A.navigation.state!=="submitting"){if(A.navigation.state==="idle"){Rn(A.historyAction,A.location,{startUninterruptedRevalidation:!0});return}Rn(E||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation,enableViewTransition:b===!0})}}async function Rn(N,M,O){S&&S.abort(),S=null,E=N,P=(O&&O.startUninterruptedRevalidation)===!0,cr(A.location,A.matches),_=(O&&O.preventScrollReset)===!0,b=(O&&O.enableViewTransition)===!0;let U=l||o,Q=O&&O.overrideNavigation,ne=Qi(U,M,c),ae=(O&&O.flushSync)===!0,X=ur(ne,U,M.pathname);if(X.active&&X.matches&&(ne=X.matches),!ne){let{error:De,notFoundMatches:be,route:ze}=Rs(M.pathname);Un(M,{matches:be,loaderData:{},errors:{[ze.id]:De}},{flushSync:ae});return}if(A.initialized&&!ve&&Ub(A.location,M)&&!(O&&O.submission&&Mn(O.submission.formMethod))){Un(M,{matches:ne},{flushSync:ae});return}S=new AbortController;let J=Ms(t.history,M,S.signal,O&&O.submission),G;if(O&&O.pendingError)G=[Yi(ne).route.id,{type:Me.error,error:O.pendingError}];else if(O&&O.submission&&Mn(O.submission.formMethod)){let De=await Bl(J,M,O.submission,ne,X.active,{replace:O.replace,flushSync:ae});if(De.shortCircuited)return;if(De.pendingActionResult){let[be,ze]=De.pendingActionResult;if(dn(ze)&&fd(ze.error)&&ze.error.status===404){S=null,Un(M,{matches:De.matches,loaderData:{},errors:{[be]:ze.error}});return}}ne=De.matches||ne,G=De.pendingActionResult,Q=bh(M,O.submission),ae=!1,X.active=!1,J=Ms(t.history,J.url,J.signal)}let{shortCircuited:te,matches:ge,loaderData:ye,errors:Fe}=await $d(J,M,ne,X.active,Q,O&&O.submission,O&&O.fetcherSubmission,O&&O.replace,O&&O.initialHydration===!0,ae,G);te||(S=null,Un(M,Qe({matches:ge||ne},f0(G),{loaderData:ye,errors:Fe})))}async function Bl(N,M,O,U,Q,ne){ne===void 0&&(ne={}),ct();let ae=Gb(M,O);if(lt({navigation:ae},{flushSync:ne.flushSync===!0}),Q){let G=await Ui(U,M.pathname,N.signal);if(G.type==="aborted")return{shortCircuited:!0};if(G.type==="error"){let te=Yi(G.partialMatches).route.id;return{matches:G.partialMatches,pendingActionResult:[te,{type:Me.error,error:G.error}]}}else if(G.matches)U=G.matches;else{let{notFoundMatches:te,error:ge,route:ye}=Rs(M.pathname);return{matches:te,pendingActionResult:[ye.id,{type:Me.error,error:ge}]}}}let X,J=ba(U,M);if(!J.route.action&&!J.route.lazy)X={type:Me.error,error:en(405,{method:N.method,pathname:M.pathname,routeId:J.route.id})};else if(X=(await ar("action",A,N,[J],U,null))[J.route.id],N.signal.aborted)return{shortCircuited:!0};if(ts(X)){let G;return ne&&ne.replace!=null?G=ne.replace:G=c0(X.response.headers.get("Location"),new URL(N.url),c)===A.location.pathname+A.location.search,await An(N,X,!0,{submission:O,replace:G}),{shortCircuited:!0}}if(di(X))throw en(400,{type:"defer-action"});if(dn(X)){let G=Yi(U,J.route.id);return(ne&&ne.replace)!==!0&&(E=dt.Push),{matches:U,pendingActionResult:[G.route.id,X]}}return{matches:U,pendingActionResult:[J.route.id,X]}}async function $d(N,M,O,U,Q,ne,ae,X,J,G,te){let ge=Q||bh(M,ne),ye=ne||ae||g0(ge),Fe=!P&&(!m.v7_partialHydration||!J);if(U){if(Fe){let Ke=$l(te);lt(Qe({navigation:ge},Ke!==void 0?{actionData:Ke}:{}),{flushSync:G})}let xe=await Ui(O,M.pathname,N.signal);if(xe.type==="aborted")return{shortCircuited:!0};if(xe.type==="error"){let Ke=Yi(xe.partialMatches).route.id;return{matches:xe.partialMatches,loaderData:{},errors:{[Ke]:xe.error}}}else if(xe.matches)O=xe.matches;else{let{error:Ke,notFoundMatches:dr,route:$r}=Rs(M.pathname);return{matches:dr,loaderData:{},errors:{[$r.id]:Ke}}}}let De=l||o,[be,ze]=o0(t.history,A,O,ye,M,m.v7_partialHydration&&J===!0,m.v7_skipActionErrorRevalidation,ve,pt,Te,at,pe,se,De,c,te);if(lr(xe=>!(O&&O.some(Ke=>Ke.route.id===xe))||be&&be.some(Ke=>Ke.route.id===xe)),K=++q,be.length===0&&ze.length===0){let xe=qo();return Un(M,Qe({matches:O,loaderData:{},errors:te&&dn(te[1])?{[te[0]]:te[1].error}:null},f0(te),xe?{fetchers:new Map(A.fetchers)}:{}),{flushSync:G}),{shortCircuited:!0}}if(Fe){let xe={};if(!U){xe.navigation=ge;let Ke=$l(te);Ke!==void 0&&(xe.actionData=Ke)}ze.length>0&&(xe.fetchers=Hl(ze)),lt(xe,{flushSync:G})}ze.forEach(xe=>{Zt(xe.key),xe.controller&&le.set(xe.key,xe.controller)});let Bn=()=>ze.forEach(xe=>Zt(xe.key));S&&S.signal.addEventListener("abort",Bn);let{loaderResults:zr,fetcherResults:_n}=await Bo(A,O,be,ze,N);if(N.signal.aborted)return{shortCircuited:!0};S&&S.signal.removeEventListener("abort",Bn),ze.forEach(xe=>le.delete(xe.key));let wn=Tc(zr);if(wn)return await An(N,wn.result,!0,{replace:X}),{shortCircuited:!0};if(wn=Tc(_n),wn)return se.add(wn.key),await An(N,wn.result,!0,{replace:X}),{shortCircuited:!0};let{loaderData:Ur,errors:Br}=d0(A,O,zr,te,ze,_n,mt);mt.forEach((xe,Ke)=>{xe.subscribe(dr=>{(dr||xe.done)&&mt.delete(Ke)})}),m.v7_partialHydration&&J&&A.errors&&(Br=Qe({},A.errors,Br));let Pn=qo(),$n=Cs(K),xn=Pn||$n||ze.length>0;return Qe({matches:O,loaderData:Ur,errors:Br},xn?{fetchers:new Map(A.fetchers)}:{})}function $l(N){if(N&&!dn(N[1]))return{[N[0]]:N[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function Hl(N){return N.forEach(M=>{let O=A.fetchers.get(M.key),U=da(void 0,O?O.data:void 0);A.fetchers.set(M.key,U)}),new Map(A.fetchers)}function Uo(N,M,O,U){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Zt(N);let Q=(U&&U.flushSync)===!0,ne=l||o,ae=Uf(A.location,A.matches,c,m.v7_prependBasename,O,m.v7_relativeSplatPath,M,U==null?void 0:U.relative),X=Qi(ne,ae,c),J=ur(X,ne,ae);if(J.active&&J.matches&&(X=J.matches),!X){Jt(N,M,en(404,{pathname:ae}),{flushSync:Q});return}let{path:G,submission:te,error:ge}=i0(m.v7_normalizeFormMethod,!0,ae,U);if(ge){Jt(N,M,ge,{flushSync:Q});return}let ye=ba(X,G),Fe=(U&&U.preventScrollReset)===!0;if(te&&Mn(te.formMethod)){ql(N,M,G,ye,X,J.active,Q,Fe,te);return}pe.set(N,{routeId:M,path:G}),Hd(N,M,G,ye,X,J.active,Q,Fe,te)}async function ql(N,M,O,U,Q,ne,ae,X,J){ct(),pe.delete(N);function G(Je){if(!Je.route.action&&!Je.route.lazy){let Hn=en(405,{method:J.formMethod,pathname:O,routeId:M});return Jt(N,M,Hn,{flushSync:ae}),!0}return!1}if(!ne&&G(U))return;let te=A.fetchers.get(N);Ge(N,Kb(J,te),{flushSync:ae});let ge=new AbortController,ye=Ms(t.history,O,ge.signal,J);if(ne){let Je=await Ui(Q,O,ye.signal);if(Je.type==="aborted")return;if(Je.type==="error"){Jt(N,M,Je.error,{flushSync:ae});return}else if(Je.matches){if(Q=Je.matches,U=ba(Q,O),G(U))return}else{Jt(N,M,en(404,{pathname:O}),{flushSync:ae});return}}le.set(N,ge);let Fe=q,be=(await ar("action",A,ye,[U],Q,N))[U.route.id];if(ye.signal.aborted){le.get(N)===ge&&le.delete(N);return}if(m.v7_fetcherPersist&&at.has(N)){if(ts(be)||dn(be)){Ge(N,Jr(void 0));return}}else{if(ts(be))if(le.delete(N),K>Fe){Ge(N,Jr(void 0));return}else return se.add(N),Ge(N,da(J)),An(ye,be,!1,{fetcherSubmission:J,preventScrollReset:X});if(dn(be)){Jt(N,M,be.error);return}}if(di(be))throw en(400,{type:"defer-action"});let ze=A.navigation.location||A.location,Bn=Ms(t.history,ze,ge.signal),zr=l||o,_n=A.navigation.state!=="idle"?Qi(zr,A.navigation.location,c):A.matches;_e(_n,"Didn't find any matches after fetcher action");let wn=++q;Z.set(N,wn);let Ur=da(J,be.data);A.fetchers.set(N,Ur);let[Br,Pn]=o0(t.history,A,_n,J,ze,!1,m.v7_skipActionErrorRevalidation,ve,pt,Te,at,pe,se,zr,c,[U.route.id,be]);Pn.filter(Je=>Je.key!==N).forEach(Je=>{let Hn=Je.key,Ps=A.fetchers.get(Hn),Kl=da(void 0,Ps?Ps.data:void 0);A.fetchers.set(Hn,Kl),Zt(Hn),Je.controller&&le.set(Hn,Je.controller)}),lt({fetchers:new Map(A.fetchers)});let $n=()=>Pn.forEach(Je=>Zt(Je.key));ge.signal.addEventListener("abort",$n);let{loaderResults:xn,fetcherResults:xe}=await Bo(A,_n,Br,Pn,Bn);if(ge.signal.aborted)return;ge.signal.removeEventListener("abort",$n),Z.delete(N),le.delete(N),Pn.forEach(Je=>le.delete(Je.key));let Ke=Tc(xn);if(Ke)return An(Bn,Ke.result,!1,{preventScrollReset:X});if(Ke=Tc(xe),Ke)return se.add(Ke.key),An(Bn,Ke.result,!1,{preventScrollReset:X});let{loaderData:dr,errors:$r}=d0(A,_n,xn,void 0,Pn,xe,mt);if(A.fetchers.has(N)){let Je=Jr(be.data);A.fetchers.set(N,Je)}Cs(wn),A.navigation.state==="loading"&&wn>K?(_e(E,"Expected pending action"),S&&S.abort(),Un(A.navigation.location,{matches:_n,loaderData:dr,errors:$r,fetchers:new Map(A.fetchers)})):(lt({errors:$r,loaderData:h0(A.loaderData,dr,_n,$r),fetchers:new Map(A.fetchers)}),ve=!1)}async function Hd(N,M,O,U,Q,ne,ae,X,J){let G=A.fetchers.get(N);Ge(N,da(J,G?G.data:void 0),{flushSync:ae});let te=new AbortController,ge=Ms(t.history,O,te.signal);if(ne){let be=await Ui(Q,O,ge.signal);if(be.type==="aborted")return;if(be.type==="error"){Jt(N,M,be.error,{flushSync:ae});return}else if(be.matches)Q=be.matches,U=ba(Q,O);else{Jt(N,M,en(404,{pathname:O}),{flushSync:ae});return}}le.set(N,te);let ye=q,De=(await ar("loader",A,ge,[U],Q,N))[U.route.id];if(di(De)&&(De=await pm(De,ge.signal,!0)||De),le.get(N)===te&&le.delete(N),!ge.signal.aborted){if(at.has(N)){Ge(N,Jr(void 0));return}if(ts(De))if(K>ye){Ge(N,Jr(void 0));return}else{se.add(N),await An(ge,De,!1,{preventScrollReset:X});return}if(dn(De)){Jt(N,M,De.error);return}_e(!di(De),"Unhandled fetcher deferred data"),Ge(N,Jr(De.data))}}async function An(N,M,O,U){let{submission:Q,fetcherSubmission:ne,preventScrollReset:ae,replace:X}=U===void 0?{}:U;M.response.headers.has("X-Remix-Revalidate")&&(ve=!0);let J=M.response.headers.get("Location");_e(J,"Expected a Location header on the redirect Response"),J=c0(J,new URL(N.url),c);let G=ll(A.location,J,{_isRedirect:!0});if(n){let be=!1;if(M.response.headers.has("X-Remix-Reload-Document"))be=!0;else if(fm.test(J)){const ze=t.history.createURL(J);be=ze.origin!==e.location.origin||Ao(ze.pathname,c)==null}if(be){X?e.location.replace(J):e.location.assign(J);return}}S=null;let te=X===!0||M.response.headers.has("X-Remix-Replace")?dt.Replace:dt.Push,{formMethod:ge,formAction:ye,formEncType:Fe}=A.navigation;!Q&&!ne&&ge&&ye&&Fe&&(Q=g0(A.navigation));let De=Q||ne;if(Cb.has(M.response.status)&&De&&Mn(De.formMethod))await Rn(te,G,{submission:Qe({},De,{formAction:J}),preventScrollReset:ae||_,enableViewTransition:O?b:void 0});else{let be=bh(G,Q);await Rn(te,G,{overrideNavigation:be,fetcherSubmission:ne,preventScrollReset:ae||_,enableViewTransition:O?b:void 0})}}async function ar(N,M,O,U,Q,ne){let ae,X={};try{ae=await Mb(u,N,M,O,U,Q,ne,s,i)}catch(J){return U.forEach(G=>{X[G.route.id]={type:Me.error,error:J}}),X}for(let[J,G]of Object.entries(ae))if(Bb(G)){let te=G.result;X[J]={type:Me.redirect,response:Fb(te,O,J,Q,c,m.v7_relativeSplatPath)}}else X[J]=await Ob(G);return X}async function Bo(N,M,O,U,Q){let ne=N.matches,ae=ar("loader",N,Q,O,M,null),X=Promise.all(U.map(async te=>{if(te.matches&&te.match&&te.controller){let ye=(await ar("loader",N,Ms(t.history,te.path,te.controller.signal),[te.match],te.matches,te.key))[te.match.route.id];return{[te.key]:ye}}else return Promise.resolve({[te.key]:{type:Me.error,error:en(404,{pathname:te.path})}})})),J=await ae,G=(await X).reduce((te,ge)=>Object.assign(te,ge),{});return await Promise.all([qb(M,J,Q.signal,ne,N.loaderData),Wb(M,G,U)]),{loaderResults:J,fetcherResults:G}}function ct(){ve=!0,pt.push(...lr()),pe.forEach((N,M)=>{le.has(M)&&Te.add(M),Zt(M)})}function Ge(N,M,O){O===void 0&&(O={}),A.fetchers.set(N,M),lt({fetchers:new Map(A.fetchers)},{flushSync:(O&&O.flushSync)===!0})}function Jt(N,M,O,U){U===void 0&&(U={});let Q=Yi(A.matches,M);zi(N),lt({errors:{[Q.route.id]:O},fetchers:new Map(A.fetchers)},{flushSync:(U&&U.flushSync)===!0})}function $o(N){return m.v7_fetcherPersist&&(Pe.set(N,(Pe.get(N)||0)+1),at.has(N)&&at.delete(N)),A.fetchers.get(N)||Rb}function zi(N){let M=A.fetchers.get(N);le.has(N)&&!(M&&M.state==="loading"&&Z.has(N))&&Zt(N),pe.delete(N),Z.delete(N),se.delete(N),at.delete(N),Te.delete(N),A.fetchers.delete(N)}function qd(N){if(m.v7_fetcherPersist){let M=(Pe.get(N)||0)-1;M<=0?(Pe.delete(N),at.add(N)):Pe.set(N,M)}else zi(N);lt({fetchers:new Map(A.fetchers)})}function Zt(N){let M=le.get(N);M&&(M.abort(),le.delete(N))}function Ho(N){for(let M of N){let O=$o(M),U=Jr(O.data);A.fetchers.set(M,U)}}function qo(){let N=[],M=!1;for(let O of se){let U=A.fetchers.get(O);_e(U,"Expected fetcher: "+O),U.state==="loading"&&(se.delete(O),N.push(O),M=!0)}return Ho(N),M}function Cs(N){let M=[];for(let[O,U]of Z)if(U<N){let Q=A.fetchers.get(O);_e(Q,"Expected fetcher: "+O),Q.state==="loading"&&(Zt(O),Z.delete(O),M.push(O))}return Ho(M),M.length>0}function Wd(N,M){let O=A.blockers.get(N)||ua;return gt.get(N)!==M&&gt.set(N,M),O}function Wl(N){A.blockers.delete(N),gt.delete(N)}function Fr(N,M){let O=A.blockers.get(N)||ua;_e(O.state==="unblocked"&&M.state==="blocked"||O.state==="blocked"&&M.state==="blocked"||O.state==="blocked"&&M.state==="proceeding"||O.state==="blocked"&&M.state==="unblocked"||O.state==="proceeding"&&M.state==="unblocked","Invalid blocker state transition: "+O.state+" -> "+M.state);let U=new Map(A.blockers);U.set(N,M),lt({blockers:U})}function Wo(N){let{currentLocation:M,nextLocation:O,historyAction:U}=N;if(gt.size===0)return;gt.size>1&&vo(!1,"A router only supports one blocker at a time");let Q=Array.from(gt.entries()),[ne,ae]=Q[Q.length-1],X=A.blockers.get(ne);if(!(X&&X.state==="proceeding")&&ae({currentLocation:M,nextLocation:O,historyAction:U}))return ne}function Rs(N){let M=en(404,{pathname:N}),O=l||o,{matches:U,route:Q}=p0(O);return lr(),{notFoundMatches:U,route:Q,error:M}}function lr(N){let M=[];return mt.forEach((O,U)=>{(!N||N(U))&&(O.cancel(),M.push(U),mt.delete(U))}),M}function Go(N,M,O){if(y=N,C=M,I=O||null,!T&&A.navigation===Ih){T=!0;let U=Ko(A.location,A.matches);U!=null&&lt({restoreScrollPosition:U})}return()=>{y=null,C=null,I=null}}function As(N,M){return I&&I(N,M.map(U=>ob(U,A.loaderData)))||N.key}function cr(N,M){if(y&&C){let O=As(N,M);y[O]=C()}}function Ko(N,M){if(y){let O=As(N,M),U=y[O];if(typeof U=="number")return U}return null}function ur(N,M,O){if(p)if(N){if(Object.keys(N[0].params).length>0)return{active:!0,matches:$c(M,O,c,!0)}}else return{active:!0,matches:$c(M,O,c,!0)||[]};return{active:!1,matches:null}}async function Ui(N,M,O){if(!p)return{type:"success",matches:N};let U=N;for(;;){let Q=l==null,ne=l||o,ae=s;try{await p({path:M,matches:U,patch:(G,te)=>{O.aborted||l0(G,te,ne,ae,i)}})}catch(G){return{type:"error",error:G,partialMatches:U}}finally{Q&&!O.aborted&&(o=[...o])}if(O.aborted)return{type:"aborted"};let X=Qi(ne,M,c);if(X)return{type:"success",matches:X};let J=$c(ne,M,c,!0);if(!J||U.length===J.length&&U.every((G,te)=>G.route.id===J[te].route.id))return{type:"success",matches:null};U=J}}function Bi(N){s={},l=Su(N,i,void 0,s)}function Gl(N,M){let O=l==null;l0(N,M,l||o,s,i),O&&(o=[...o],lt({}))}return F={get basename(){return c},get future(){return m},get state(){return A},get routes(){return o},get window(){return e},initialize:Ud,subscribe:bs,enableScrollRestoration:Go,navigate:ks,fetch:Uo,revalidate:zo,createHref:N=>t.history.createHref(N),encodeLocation:N=>t.history.encodeLocation(N),getFetcher:$o,deleteFetcher:qd,dispose:Bd,getBlocker:Wd,deleteBlocker:Wl,patchRoutes:Gl,_internalFetchControllers:le,_internalActiveDeferreds:mt,_internalSetRoutes:Bi},F}function Nb(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Uf(t,e,n,r,i,s,o,l){let c,u;if(o){c=[];for(let m of e)if(c.push(m),m.route.id===o){u=m;break}}else c=e,u=e[e.length-1];let p=hd(i||".",dd(c,s),Ao(t.pathname,n)||t.pathname,l==="path");if(i==null&&(p.search=t.search,p.hash=t.hash),(i==null||i===""||i===".")&&u){let m=mm(p.search);if(u.route.index&&!m)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&m){let f=new URLSearchParams(p.search),v=f.getAll("index");f.delete("index"),v.filter(I=>I).forEach(I=>f.append("index",I));let y=f.toString();p.search=y?"?"+y:""}}return r&&n!=="/"&&(p.pathname=p.pathname==="/"?n:Ir([n,p.pathname])),fs(p)}function i0(t,e,n,r){if(!r||!Nb(r))return{path:n};if(r.formMethod&&!Hb(r.formMethod))return{path:n,error:en(405,{method:r.formMethod})};let i=()=>({path:n,error:en(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),l=zw(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Mn(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((v,y)=>{let[I,C]=y;return""+v+I+"="+C+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Mn(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}_e(typeof FormData=="function","FormData is not available in this environment");let c,u;if(r.formData)c=$f(r.formData),u=r.formData;else if(r.body instanceof FormData)c=$f(r.body),u=r.body;else if(r.body instanceof URLSearchParams)c=r.body,u=u0(c);else if(r.body==null)c=new URLSearchParams,u=new FormData;else try{c=new URLSearchParams(r.body),u=u0(c)}catch{return i()}let p={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Mn(p.formMethod))return{path:n,submission:p};let m=Mi(n);return e&&m.search&&mm(m.search)&&c.append("index",""),m.search="?"+c,{path:fs(m),submission:p}}function s0(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function o0(t,e,n,r,i,s,o,l,c,u,p,m,f,v,y,I){let C=I?dn(I[1])?I[1].error:I[1].data:void 0,T=t.createURL(e.location),w=t.createURL(i),k=n;s&&e.errors?k=s0(n,Object.keys(e.errors)[0],!0):I&&dn(I[1])&&(k=s0(n,I[0]));let L=I?I[1].statusCode:void 0,F=o&&L&&L>=400,A=k.filter((_,S)=>{let{route:b}=_;if(b.lazy)return!0;if(b.loader==null)return!1;if(s)return Bf(b,e.loaderData,e.errors);if(Db(e.loaderData,e.matches[S],_)||c.some(P=>P===_.route.id))return!0;let j=e.matches[S],D=_;return a0(_,Qe({currentUrl:T,currentParams:j.params,nextUrl:w,nextParams:D.params},r,{actionResult:C,actionStatus:L,defaultShouldRevalidate:F?!1:l||T.pathname+T.search===w.pathname+w.search||T.search!==w.search||Ow(j,D)}))}),E=[];return m.forEach((_,S)=>{if(s||!n.some(ve=>ve.route.id===_.routeId)||p.has(S))return;let b=Qi(v,_.path,y);if(!b){E.push({key:S,routeId:_.routeId,path:_.path,matches:null,match:null,controller:null});return}let j=e.fetchers.get(S),D=ba(b,_.path),P=!1;f.has(S)?P=!1:u.has(S)?(u.delete(S),P=!0):j&&j.state!=="idle"&&j.data===void 0?P=l:P=a0(D,Qe({currentUrl:T,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:C,actionStatus:L,defaultShouldRevalidate:F?!1:l})),P&&E.push({key:S,routeId:_.routeId,path:_.path,matches:b,match:D,controller:new AbortController})}),[A,E]}function Bf(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function Db(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function Ow(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function a0(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function l0(t,e,n,r,i){var s;let o;if(t){let u=r[t];_e(u,"No route found to patch children into: routeId = "+t),u.children||(u.children=[]),o=u.children}else o=n;let l=e.filter(u=>!o.some(p=>Fw(u,p))),c=Su(l,i,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...c)}function Fw(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>Fw(n,s))}):!1}async function jb(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];_e(i,"No route found in manifest");let s={};for(let o in r){let c=i[o]!==void 0&&o!=="hasErrorBoundary";vo(!c,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!c&&!ib.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Qe({},e(i),{lazy:void 0}))}async function Lb(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function Mb(t,e,n,r,i,s,o,l,c,u){let p=s.map(v=>v.route.lazy?jb(v.route,c,l):void 0),m=s.map((v,y)=>{let I=p[y],C=i.some(w=>w.route.id===v.route.id);return Qe({},v,{shouldLoad:C,resolve:async w=>(w&&r.method==="GET"&&(v.route.lazy||v.route.loader)&&(C=!0),C?Vb(e,r,v,I,w,u):Promise.resolve({type:Me.data,result:void 0}))})}),f=await t({matches:m,request:r,params:s[0].params,fetcherKey:o,context:u});try{await Promise.all(p)}catch{}return f}async function Vb(t,e,n,r,i,s){let o,l,c=u=>{let p,m=new Promise((y,I)=>p=I);l=()=>p(),e.signal.addEventListener("abort",l);let f=y=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):u({request:e,params:n.params,context:s},...y!==void 0?[y]:[]),v=(async()=>{try{return{type:"data",result:await(i?i(I=>f(I)):f())}}catch(y){return{type:"error",result:y}}})();return Promise.race([v,m])};try{let u=n.route[t];if(r)if(u){let p,[m]=await Promise.all([c(u).catch(f=>{p=f}),r]);if(p!==void 0)throw p;o=m}else if(await r,u=n.route[t],u)o=await c(u);else if(t==="action"){let p=new URL(e.url),m=p.pathname+p.search;throw en(405,{method:e.method,pathname:m,routeId:n.route.id})}else return{type:Me.data,result:void 0};else if(u)o=await c(u);else{let p=new URL(e.url),m=p.pathname+p.search;throw en(404,{pathname:m})}_e(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Me.error,result:u}}finally{l&&e.signal.removeEventListener("abort",l)}return o}async function Ob(t){let{result:e,type:n}=t;if(Uw(e)){let u;try{let p=e.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(p){return{type:Me.error,error:p}}return n===Me.error?{type:Me.error,error:new Iu(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:Me.data,data:u,statusCode:e.status,headers:e.headers}}if(n===Me.error){if(m0(e)){var r;if(e.data instanceof Error){var i;return{type:Me.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new Iu(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Me.error,error:e,statusCode:fd(e)?e.status:void 0}}if($b(e)){var s,o;return{type:Me.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(m0(e)){var l,c;return{type:Me.data,data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}}return{type:Me.data,data:e}}function Fb(t,e,n,r,i,s){let o=t.headers.get("Location");if(_e(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!fm.test(o)){let l=r.slice(0,r.findIndex(c=>c.route.id===n)+1);o=Uf(new URL(e.url),l,i,!0,o,s),t.headers.set("Location",o)}return t}function c0(t,e,n){if(fm.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Ao(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Ms(t,e,n,r){let i=t.createURL(zw(e)).toString(),s={signal:n};if(r&&Mn(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=$f(r.formData):s.body=r.formData}return new Request(i,s)}function $f(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function u0(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function zb(t,e,n,r,i){let s={},o=null,l,c=!1,u={},p=n&&dn(n[1])?n[1].error:void 0;return t.forEach(m=>{if(!(m.route.id in e))return;let f=m.route.id,v=e[f];if(_e(!ts(v),"Cannot handle redirect results in processLoaderData"),dn(v)){let y=v.error;p!==void 0&&(y=p,p=void 0),o=o||{};{let I=Yi(t,f);o[I.route.id]==null&&(o[I.route.id]=y)}s[f]=void 0,c||(c=!0,l=fd(v.error)?v.error.status:500),v.headers&&(u[f]=v.headers)}else di(v)?(r.set(f,v.deferredData),s[f]=v.deferredData.data,v.statusCode!=null&&v.statusCode!==200&&!c&&(l=v.statusCode),v.headers&&(u[f]=v.headers)):(s[f]=v.data,v.statusCode&&v.statusCode!==200&&!c&&(l=v.statusCode),v.headers&&(u[f]=v.headers))}),p!==void 0&&n&&(o={[n[0]]:p},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:l||200,loaderHeaders:u}}function d0(t,e,n,r,i,s,o){let{loaderData:l,errors:c}=zb(e,n,r,o);return i.forEach(u=>{let{key:p,match:m,controller:f}=u,v=s[p];if(_e(v,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(dn(v)){let y=Yi(t.matches,m==null?void 0:m.route.id);c&&c[y.route.id]||(c=Qe({},c,{[y.route.id]:v.error})),t.fetchers.delete(p)}else if(ts(v))_e(!1,"Unhandled fetcher revalidation redirect");else if(di(v))_e(!1,"Unhandled fetcher deferred data");else{let y=Jr(v.data);t.fetchers.set(p,y)}}),{loaderData:l,errors:c}}function h0(t,e,n,r){let i=Qe({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function f0(t){return t?dn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Yi(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function p0(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function en(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,l="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(l="Bad Request",i&&n&&r?c="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?c="defer() is not supported in actions":s==="invalid-body"&&(c="Unable to encode submission body")):t===403?(l="Forbidden",c='Route "'+r+'" does not match URL "'+n+'"'):t===404?(l="Not Found",c='No route matches URL "'+n+'"'):t===405&&(l="Method Not Allowed",i&&n&&r?c="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(c='Invalid request method "'+i.toUpperCase()+'"')),new Iu(t||500,l,new Error(c),!0)}function Tc(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(ts(i))return{key:r,result:i}}}function zw(t){let e=typeof t=="string"?Mi(t):t;return fs(Qe({},e,{hash:""}))}function Ub(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Bb(t){return Uw(t.result)&&kb.has(t.result.status)}function di(t){return t.type===Me.deferred}function dn(t){return t.type===Me.error}function ts(t){return(t&&t.type)===Me.redirect}function m0(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function $b(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Uw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Hb(t){return bb.has(t.toLowerCase())}function Mn(t){return Sb.has(t.toLowerCase())}async function qb(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[l,c]=s[o],u=t.find(f=>(f==null?void 0:f.route.id)===l);if(!u)continue;let p=r.find(f=>f.route.id===u.route.id),m=p!=null&&!Ow(p,u)&&(i&&i[u.route.id])!==void 0;di(c)&&m&&await pm(c,n,!1).then(f=>{f&&(e[l]=f)})}}async function Wb(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],l=e[i];t.find(u=>(u==null?void 0:u.route.id)===s)&&di(l)&&(_e(o,"Expected an AbortController for revalidating fetcher deferred result"),await pm(l,o.signal,!0).then(u=>{u&&(e[i]=u)}))}}async function pm(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Me.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Me.error,error:i}}return{type:Me.data,data:t.deferredData.data}}}function mm(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function ba(t,e){let n=typeof e=="string"?Mi(e).search:e.search;if(t[t.length-1].route.index&&mm(n||""))return t[t.length-1];let r=Lw(t);return r[r.length-1]}function g0(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function bh(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Gb(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function da(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Kb(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Jr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Qb(t,e){try{let n=t.sessionStorage.getItem(Vw);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function Yb(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(Vw,JSON.stringify(n))}catch(r){vo(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bu(){return bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bu.apply(this,arguments)}const pd=R.createContext(null),Bw=R.createContext(null),Vi=R.createContext(null),gm=R.createContext(null),Oi=R.createContext({outlet:null,matches:[],isDataRoute:!1}),$w=R.createContext(null);function Xb(t,e){let{relative:n}=e===void 0?{}:e;Po()||_e(!1);let{basename:r,navigator:i}=R.useContext(Vi),{hash:s,pathname:o,search:l}=Ww(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Ir([r,o])),i.createHref({pathname:c,search:l,hash:s})}function Po(){return R.useContext(gm)!=null}function No(){return Po()||_e(!1),R.useContext(gm).location}function Hw(t){R.useContext(Vi).static||R.useLayoutEffect(t)}function qw(){let{isDataRoute:t}=R.useContext(Oi);return t?ck():Jb()}function Jb(){Po()||_e(!1);let t=R.useContext(pd),{basename:e,future:n,navigator:r}=R.useContext(Vi),{matches:i}=R.useContext(Oi),{pathname:s}=No(),o=JSON.stringify(dd(i,n.v7_relativeSplatPath)),l=R.useRef(!1);return Hw(()=>{l.current=!0}),R.useCallback(function(u,p){if(p===void 0&&(p={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let m=hd(u,JSON.parse(o),s,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Ir([e,m.pathname])),(p.replace?r.replace:r.push)(m,p.state,p)},[e,r,o,s,t])}function Ww(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=R.useContext(Vi),{matches:i}=R.useContext(Oi),{pathname:s}=No(),o=JSON.stringify(dd(i,r.v7_relativeSplatPath));return R.useMemo(()=>hd(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function Zb(t,e,n,r){Po()||_e(!1);let{navigator:i}=R.useContext(Vi),{matches:s}=R.useContext(Oi),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=No(),p;p=u;let m=p.pathname||"/",f=m;if(c!=="/"){let I=c.replace(/^\//,"").split("/");f="/"+m.replace(/^\//,"").split("/").slice(I.length).join("/")}let v=Qi(t,{pathname:f});return ik(v&&v.map(I=>Object.assign({},I,{params:Object.assign({},l,I.params),pathname:Ir([c,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?c:Ir([c,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),s,n,r)}function ek(){let t=lk(),e=fd(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,null)}const tk=R.createElement(ek,null);class nk extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?R.createElement(Oi.Provider,{value:this.props.routeContext},R.createElement($w.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rk(t){let{routeContext:e,match:n,children:r}=t,i=R.useContext(pd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(Oi.Provider,{value:e},r)}function ik(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let p=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);p>=0||_e(!1),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=p),m.route.id){let{loaderData:f,errors:v}=n,y=m.route.loader&&f[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((p,m,f)=>{let v,y=!1,I=null,C=null;n&&(v=l&&m.route.id?l[m.route.id]:void 0,I=m.route.errorElement||tk,c&&(u<0&&f===0?(uk("route-fallback"),y=!0,C=null):u===f&&(y=!0,C=m.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,f+1)),w=()=>{let k;return v?k=I:y?k=C:m.route.Component?k=R.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=p,R.createElement(rk,{match:m,routeContext:{outlet:p,matches:T,isDataRoute:n!=null},children:k})};return n&&(m.route.ErrorBoundary||m.route.errorElement||f===0)?R.createElement(nk,{location:n.location,revalidation:n.revalidation,component:I,error:v,children:w(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):w()},null)}var Gw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Gw||{}),ku=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ku||{});function sk(t){let e=R.useContext(pd);return e||_e(!1),e}function ok(t){let e=R.useContext(Bw);return e||_e(!1),e}function ak(t){let e=R.useContext(Oi);return e||_e(!1),e}function Kw(t){let e=ak(),n=e.matches[e.matches.length-1];return n.route.id||_e(!1),n.route.id}function lk(){var t;let e=R.useContext($w),n=ok(ku.UseRouteError),r=Kw(ku.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function ck(){let{router:t}=sk(Gw.UseNavigateStable),e=Kw(ku.UseNavigateStable),n=R.useRef(!1);return Hw(()=>{n.current=!0}),R.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,bu({fromRouteId:e},s)))},[t,e])}const v0={};function uk(t,e,n){v0[t]||(v0[t]=!0)}function dk(t){let{to:e,replace:n,state:r,relative:i}=t;Po()||_e(!1);let{future:s,static:o}=R.useContext(Vi),{matches:l}=R.useContext(Oi),{pathname:c}=No(),u=qw(),p=hd(e,dd(l,s.v7_relativeSplatPath),c,i==="path"),m=JSON.stringify(p);return R.useEffect(()=>u(JSON.parse(m),{replace:n,state:r,relative:i}),[u,m,i,n,r]),null}function hk(t){let{basename:e="/",children:n=null,location:r,navigationType:i=dt.Pop,navigator:s,static:o=!1,future:l}=t;Po()&&_e(!1);let c=e.replace(/^\/*/,"/"),u=R.useMemo(()=>({basename:c,navigator:s,static:o,future:bu({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof r=="string"&&(r=Mi(r));let{pathname:p="/",search:m="",hash:f="",state:v=null,key:y="default"}=r,I=R.useMemo(()=>{let C=Ao(p,c);return C==null?null:{location:{pathname:C,search:m,hash:f,state:v,key:y},navigationType:i}},[c,p,m,f,v,y,i]);return I==null?null:R.createElement(Vi.Provider,{value:u},R.createElement(gm.Provider,{children:n,value:I}))}new Promise(()=>{});function fk(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:R.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:R.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:R.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cl(){return cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cl.apply(this,arguments)}function pk(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function mk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function gk(t,e){return t.button===0&&(!e||e==="_self")&&!mk(t)}const vk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],yk="6";try{window.__reactRouterVersion=yk}catch{}function _k(t,e){return Pb({basename:e==null?void 0:e.basename,future:cl({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:tb({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||wk(),routes:t,mapRouteProperties:fk,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function wk(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=cl({},e,{errors:xk(e.errors)})),e}function xk(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Iu(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const Ek=R.createContext({isTransitioning:!1}),Tk=R.createContext(new Map),Sk="startTransition",y0=BT[Sk],Ik="flushSync",_0=eb[Ik];function bk(t){y0?y0(t):t()}function ha(t){_0?_0(t):t()}let kk=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function Ck(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=R.useState(n.state),[o,l]=R.useState(),[c,u]=R.useState({isTransitioning:!1}),[p,m]=R.useState(),[f,v]=R.useState(),[y,I]=R.useState(),C=R.useRef(new Map),{v7_startTransition:T}=r||{},w=R.useCallback(_=>{T?bk(_):_()},[T]),k=R.useCallback((_,S)=>{let{deletedFetchers:b,flushSync:j,viewTransitionOpts:D}=S;b.forEach(ve=>C.current.delete(ve)),_.fetchers.forEach((ve,pt)=>{ve.data!==void 0&&C.current.set(pt,ve.data)});let P=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!D||P){j?ha(()=>s(_)):w(()=>s(_));return}if(j){ha(()=>{f&&(p&&p.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let ve=n.window.document.startViewTransition(()=>{ha(()=>s(_))});ve.finished.finally(()=>{ha(()=>{m(void 0),v(void 0),l(void 0),u({isTransitioning:!1})})}),ha(()=>v(ve));return}f?(p&&p.resolve(),f.skipTransition(),I({state:_,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(l(_),u({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[n.window,f,p,C,w]);R.useLayoutEffect(()=>n.subscribe(k),[n,k]),R.useEffect(()=>{c.isTransitioning&&!c.flushSync&&m(new kk)},[c]),R.useEffect(()=>{if(p&&o&&n.window){let _=o,S=p.promise,b=n.window.document.startViewTransition(async()=>{w(()=>s(_)),await S});b.finished.finally(()=>{m(void 0),v(void 0),l(void 0),u({isTransitioning:!1})}),v(b)}},[w,o,p,n.window]),R.useEffect(()=>{p&&o&&i.location.key===o.location.key&&p.resolve()},[p,f,i.location,o]),R.useEffect(()=>{!c.isTransitioning&&y&&(l(y.state),u({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),I(void 0))},[c.isTransitioning,y]),R.useEffect(()=>{},[]);let L=R.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:_=>n.navigate(_),push:(_,S,b)=>n.navigate(_,{state:S,preventScrollReset:b==null?void 0:b.preventScrollReset}),replace:(_,S,b)=>n.navigate(_,{replace:!0,state:S,preventScrollReset:b==null?void 0:b.preventScrollReset})}),[n]),F=n.basename||"/",A=R.useMemo(()=>({router:n,navigator:L,static:!1,basename:F}),[n,L,F]),E=R.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return R.createElement(R.Fragment,null,R.createElement(pd.Provider,{value:A},R.createElement(Bw.Provider,{value:i},R.createElement(Tk.Provider,{value:C.current},R.createElement(Ek.Provider,{value:c},R.createElement(hk,{basename:F,location:i.location,navigationType:i.historyAction,navigator:L,future:E},i.initialized||n.future.v7_partialHydration?R.createElement(Rk,{routes:n.routes,future:n.future,state:i}):e))))),null)}const Rk=R.memo(Ak);function Ak(t){let{routes:e,future:n,state:r}=t;return Zb(e,void 0,r,n)}const Pk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Nk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,md=R.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:p,viewTransition:m}=e,f=pk(e,vk),{basename:v}=R.useContext(Vi),y,I=!1;if(typeof u=="string"&&Nk.test(u)&&(y=u,Pk))try{let k=new URL(window.location.href),L=u.startsWith("//")?new URL(k.protocol+u):new URL(u),F=Ao(L.pathname,v);L.origin===k.origin&&F!=null?u=F+L.search+L.hash:I=!0}catch{}let C=Xb(u,{relative:i}),T=Dk(u,{replace:o,state:l,target:c,preventScrollReset:p,relative:i,viewTransition:m});function w(k){r&&r(k),k.defaultPrevented||T(k)}return R.createElement("a",cl({},f,{href:y||C,onClick:I||s?r:w,ref:n,target:c}))});var w0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(w0||(w0={}));var x0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(x0||(x0={}));function Dk(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,c=qw(),u=No(),p=Ww(t,{relative:o});return R.useCallback(m=>{if(gk(m,n)){m.preventDefault();let f=r!==void 0?r:fs(u)===fs(p);c(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,p,r,i,n,t,s,o,l])}var E0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},jk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Yw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,p=s>>2,m=(s&3)<<4|l>>4;let f=(l&15)<<2|u>>6,v=u&63;c||(v=64,o||(f=64)),r.push(n[p],n[m],n[f],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Qw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):jk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||m==null)throw new Lk;const f=s<<2|l>>4;if(r.push(f),u!==64){const v=l<<4&240|u>>2;if(r.push(v),m!==64){const y=u<<6&192|m;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Lk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mk=function(t){const e=Qw(t);return Yw.encodeByteArray(e,!0)},Cu=function(t){return Mk(t).replace(/\./g,"")},Xw=function(t){try{return Yw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=()=>Vk().__FIREBASE_DEFAULTS__,Fk=()=>{if(typeof process>"u"||typeof E0>"u")return;const t=E0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Xw(t[1]);return e&&JSON.parse(e)},gd=()=>{try{return Ok()||Fk()||zk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Jw=t=>{var e,n;return(n=(e=gd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Uk=t=>{const e=Jw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Zw=()=>{var t;return(t=gd())===null||t===void 0?void 0:t.config},ex=t=>{var e;return(e=gd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Cu(JSON.stringify(n)),Cu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function qk(){var t;const e=(t=gd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Wk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Gk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Kk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qk(){const t=Bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Yk(){return!qk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xk(){try{return typeof indexedDB=="object"}catch{return!1}}function Jk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk="FirebaseError";class Or extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Zk,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sl.prototype.create)}}class Sl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?e4(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Or(i,l,r)}}function e4(t,e){return t.replace(t4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const t4=/\{\$([^}]+)}/g;function n4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ul(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(T0(s)&&T0(o)){if(!ul(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function T0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function r4(t,e){const n=new i4(t,e);return n.subscribe.bind(n)}class i4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");s4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=kh),i.error===void 0&&(i.error=kh),i.complete===void 0&&(i.complete=kh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t){return t&&t._delegate?t._delegate:t}class ps{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Bk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l4(e))try{this.getOrInitializeService({instanceIdentifier:Ki})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ki){return this.instances.has(e)}getOptions(e=Ki){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:a4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ki){return this.component?this.component.multipleInstances?e:Ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function a4(t){return t===Ki?void 0:t}function l4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new o4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const u4={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},d4=Se.INFO,h4={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},f4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=h4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vm{constructor(e){this.name=e,this._logLevel=d4,this._logHandler=f4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?u4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const p4=(t,e)=>e.some(n=>t instanceof n);let S0,I0;function m4(){return S0||(S0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g4(){return I0||(I0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tx=new WeakMap,Hf=new WeakMap,nx=new WeakMap,Ch=new WeakMap,ym=new WeakMap;function v4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(xi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&tx.set(n,t)}).catch(()=>{}),ym.set(e,t),e}function y4(t){if(Hf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Hf.set(t,e)}let qf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _4(t){qf=t(qf)}function w4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Rh(this),e,...n);return nx.set(r,e.sort?e.sort():[e]),xi(r)}:g4().includes(t)?function(...e){return t.apply(Rh(this),e),xi(tx.get(this))}:function(...e){return xi(t.apply(Rh(this),e))}}function x4(t){return typeof t=="function"?w4(t):(t instanceof IDBTransaction&&y4(t),p4(t,m4())?new Proxy(t,qf):t)}function xi(t){if(t instanceof IDBRequest)return v4(t);if(Ch.has(t))return Ch.get(t);const e=x4(t);return e!==t&&(Ch.set(t,e),ym.set(e,t)),e}const Rh=t=>ym.get(t);function E4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=xi(o);return r&&o.addEventListener("upgradeneeded",c=>{r(xi(o.result),c.oldVersion,c.newVersion,xi(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const T4=["get","getKey","getAll","getAllKeys","count"],S4=["put","add","delete","clear"],Ah=new Map;function b0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ah.get(e))return Ah.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=S4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||T4.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&c.done]))[0]};return Ah.set(e,s),s}_4(t=>({...t,get:(e,n,r)=>b0(e,n)||t.get(e,n,r),has:(e,n)=>!!b0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(b4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function b4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wf="@firebase/app",k0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new vm("@firebase/app"),k4="@firebase/app-compat",C4="@firebase/analytics-compat",R4="@firebase/analytics",A4="@firebase/app-check-compat",P4="@firebase/app-check",N4="@firebase/auth",D4="@firebase/auth-compat",j4="@firebase/database",L4="@firebase/data-connect",M4="@firebase/database-compat",V4="@firebase/functions",O4="@firebase/functions-compat",F4="@firebase/installations",z4="@firebase/installations-compat",U4="@firebase/messaging",B4="@firebase/messaging-compat",$4="@firebase/performance",H4="@firebase/performance-compat",q4="@firebase/remote-config",W4="@firebase/remote-config-compat",G4="@firebase/storage",K4="@firebase/storage-compat",Q4="@firebase/firestore",Y4="@firebase/vertexai-preview",X4="@firebase/firestore-compat",J4="firebase",Z4="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="[DEFAULT]",eC={[Wf]:"fire-core",[k4]:"fire-core-compat",[R4]:"fire-analytics",[C4]:"fire-analytics-compat",[P4]:"fire-app-check",[A4]:"fire-app-check-compat",[N4]:"fire-auth",[D4]:"fire-auth-compat",[j4]:"fire-rtdb",[L4]:"fire-data-connect",[M4]:"fire-rtdb-compat",[V4]:"fire-fn",[O4]:"fire-fn-compat",[F4]:"fire-iid",[z4]:"fire-iid-compat",[U4]:"fire-fcm",[B4]:"fire-fcm-compat",[$4]:"fire-perf",[H4]:"fire-perf-compat",[q4]:"fire-rc",[W4]:"fire-rc-compat",[G4]:"fire-gcs",[K4]:"fire-gcs-compat",[Q4]:"fire-fst",[X4]:"fire-fst-compat",[Y4]:"fire-vertex","fire-js":"fire-js",[J4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=new Map,tC=new Map,Kf=new Map;function C0(t,e){try{t.container.addComponent(e)}catch(n){Nr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yo(t){const e=t.name;if(Kf.has(e))return Nr.debug(`There were multiple attempts to register component ${e}.`),!1;Kf.set(e,t);for(const n of Ru.values())C0(n,t);for(const n of tC.values())C0(n,t);return!0}function _m(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function wr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ei=new Sl("app","Firebase",nC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=Z4;function rx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Gf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ei.create("bad-app-name",{appName:String(i)});if(n||(n=Zw()),!n)throw Ei.create("no-options");const s=Ru.get(i);if(s){if(ul(n,s.options)&&ul(r,s.config))return s;throw Ei.create("duplicate-app",{appName:i})}const o=new c4(i);for(const c of Kf.values())o.addComponent(c);const l=new rC(n,r,o);return Ru.set(i,l),l}function ix(t=Gf){const e=Ru.get(t);if(!e&&t===Gf&&Zw())return rx();if(!e)throw Ei.create("no-app",{appName:t});return e}function Ti(t,e,n){var r;let i=(r=eC[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nr.warn(l.join(" "));return}yo(new ps(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="firebase-heartbeat-database",sC=1,dl="firebase-heartbeat-store";let Ph=null;function sx(){return Ph||(Ph=E4(iC,sC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(dl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ei.create("idb-open",{originalErrorMessage:t.message})})),Ph}async function oC(t){try{const n=(await sx()).transaction(dl),r=await n.objectStore(dl).get(ox(t));return await n.done,r}catch(e){if(e instanceof Or)Nr.warn(e.message);else{const n=Ei.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Nr.warn(n.message)}}}async function R0(t,e){try{const r=(await sx()).transaction(dl,"readwrite");await r.objectStore(dl).put(e,ox(t)),await r.done}catch(n){if(n instanceof Or)Nr.warn(n.message);else{const r=Ei.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Nr.warn(r.message)}}}function ox(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=1024,lC=30*24*60*60*1e3;class cC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=A0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=lC}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Nr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=A0(),{heartbeatsToSend:r,unsentEntries:i}=uC(this._heartbeatsCache.heartbeats),s=Cu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Nr.warn(n),""}}}function A0(){return new Date().toISOString().substring(0,10)}function uC(t,e=aC){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),P0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),P0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Xk()?Jk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return R0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return R0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function P0(t){return Cu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(t){yo(new ps("platform-logger",e=>new I4(e),"PRIVATE")),yo(new ps("heartbeat",e=>new cC(e),"PRIVATE")),Ti(Wf,k0,t),Ti(Wf,k0,"esm2017"),Ti("fire-js","")}hC("");var N0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var as,ax;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,_){function S(){}S.prototype=_.prototype,E.D=_.prototype,E.prototype=new S,E.prototype.constructor=E,E.C=function(b,j,D){for(var P=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)P[ve-2]=arguments[ve];return _.prototype[j].apply(b,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,_,S){S||(S=0);var b=Array(16);if(typeof _=="string")for(var j=0;16>j;++j)b[j]=_.charCodeAt(S++)|_.charCodeAt(S++)<<8|_.charCodeAt(S++)<<16|_.charCodeAt(S++)<<24;else for(j=0;16>j;++j)b[j]=_[S++]|_[S++]<<8|_[S++]<<16|_[S++]<<24;_=E.g[0],S=E.g[1],j=E.g[2];var D=E.g[3],P=_+(D^S&(j^D))+b[0]+3614090360&4294967295;_=S+(P<<7&4294967295|P>>>25),P=D+(j^_&(S^j))+b[1]+3905402710&4294967295,D=_+(P<<12&4294967295|P>>>20),P=j+(S^D&(_^S))+b[2]+606105819&4294967295,j=D+(P<<17&4294967295|P>>>15),P=S+(_^j&(D^_))+b[3]+3250441966&4294967295,S=j+(P<<22&4294967295|P>>>10),P=_+(D^S&(j^D))+b[4]+4118548399&4294967295,_=S+(P<<7&4294967295|P>>>25),P=D+(j^_&(S^j))+b[5]+1200080426&4294967295,D=_+(P<<12&4294967295|P>>>20),P=j+(S^D&(_^S))+b[6]+2821735955&4294967295,j=D+(P<<17&4294967295|P>>>15),P=S+(_^j&(D^_))+b[7]+4249261313&4294967295,S=j+(P<<22&4294967295|P>>>10),P=_+(D^S&(j^D))+b[8]+1770035416&4294967295,_=S+(P<<7&4294967295|P>>>25),P=D+(j^_&(S^j))+b[9]+2336552879&4294967295,D=_+(P<<12&4294967295|P>>>20),P=j+(S^D&(_^S))+b[10]+4294925233&4294967295,j=D+(P<<17&4294967295|P>>>15),P=S+(_^j&(D^_))+b[11]+2304563134&4294967295,S=j+(P<<22&4294967295|P>>>10),P=_+(D^S&(j^D))+b[12]+1804603682&4294967295,_=S+(P<<7&4294967295|P>>>25),P=D+(j^_&(S^j))+b[13]+4254626195&4294967295,D=_+(P<<12&4294967295|P>>>20),P=j+(S^D&(_^S))+b[14]+2792965006&4294967295,j=D+(P<<17&4294967295|P>>>15),P=S+(_^j&(D^_))+b[15]+1236535329&4294967295,S=j+(P<<22&4294967295|P>>>10),P=_+(j^D&(S^j))+b[1]+4129170786&4294967295,_=S+(P<<5&4294967295|P>>>27),P=D+(S^j&(_^S))+b[6]+3225465664&4294967295,D=_+(P<<9&4294967295|P>>>23),P=j+(_^S&(D^_))+b[11]+643717713&4294967295,j=D+(P<<14&4294967295|P>>>18),P=S+(D^_&(j^D))+b[0]+3921069994&4294967295,S=j+(P<<20&4294967295|P>>>12),P=_+(j^D&(S^j))+b[5]+3593408605&4294967295,_=S+(P<<5&4294967295|P>>>27),P=D+(S^j&(_^S))+b[10]+38016083&4294967295,D=_+(P<<9&4294967295|P>>>23),P=j+(_^S&(D^_))+b[15]+3634488961&4294967295,j=D+(P<<14&4294967295|P>>>18),P=S+(D^_&(j^D))+b[4]+3889429448&4294967295,S=j+(P<<20&4294967295|P>>>12),P=_+(j^D&(S^j))+b[9]+568446438&4294967295,_=S+(P<<5&4294967295|P>>>27),P=D+(S^j&(_^S))+b[14]+3275163606&4294967295,D=_+(P<<9&4294967295|P>>>23),P=j+(_^S&(D^_))+b[3]+4107603335&4294967295,j=D+(P<<14&4294967295|P>>>18),P=S+(D^_&(j^D))+b[8]+1163531501&4294967295,S=j+(P<<20&4294967295|P>>>12),P=_+(j^D&(S^j))+b[13]+2850285829&4294967295,_=S+(P<<5&4294967295|P>>>27),P=D+(S^j&(_^S))+b[2]+4243563512&4294967295,D=_+(P<<9&4294967295|P>>>23),P=j+(_^S&(D^_))+b[7]+1735328473&4294967295,j=D+(P<<14&4294967295|P>>>18),P=S+(D^_&(j^D))+b[12]+2368359562&4294967295,S=j+(P<<20&4294967295|P>>>12),P=_+(S^j^D)+b[5]+4294588738&4294967295,_=S+(P<<4&4294967295|P>>>28),P=D+(_^S^j)+b[8]+2272392833&4294967295,D=_+(P<<11&4294967295|P>>>21),P=j+(D^_^S)+b[11]+1839030562&4294967295,j=D+(P<<16&4294967295|P>>>16),P=S+(j^D^_)+b[14]+4259657740&4294967295,S=j+(P<<23&4294967295|P>>>9),P=_+(S^j^D)+b[1]+2763975236&4294967295,_=S+(P<<4&4294967295|P>>>28),P=D+(_^S^j)+b[4]+1272893353&4294967295,D=_+(P<<11&4294967295|P>>>21),P=j+(D^_^S)+b[7]+4139469664&4294967295,j=D+(P<<16&4294967295|P>>>16),P=S+(j^D^_)+b[10]+3200236656&4294967295,S=j+(P<<23&4294967295|P>>>9),P=_+(S^j^D)+b[13]+681279174&4294967295,_=S+(P<<4&4294967295|P>>>28),P=D+(_^S^j)+b[0]+3936430074&4294967295,D=_+(P<<11&4294967295|P>>>21),P=j+(D^_^S)+b[3]+3572445317&4294967295,j=D+(P<<16&4294967295|P>>>16),P=S+(j^D^_)+b[6]+76029189&4294967295,S=j+(P<<23&4294967295|P>>>9),P=_+(S^j^D)+b[9]+3654602809&4294967295,_=S+(P<<4&4294967295|P>>>28),P=D+(_^S^j)+b[12]+3873151461&4294967295,D=_+(P<<11&4294967295|P>>>21),P=j+(D^_^S)+b[15]+530742520&4294967295,j=D+(P<<16&4294967295|P>>>16),P=S+(j^D^_)+b[2]+3299628645&4294967295,S=j+(P<<23&4294967295|P>>>9),P=_+(j^(S|~D))+b[0]+4096336452&4294967295,_=S+(P<<6&4294967295|P>>>26),P=D+(S^(_|~j))+b[7]+1126891415&4294967295,D=_+(P<<10&4294967295|P>>>22),P=j+(_^(D|~S))+b[14]+2878612391&4294967295,j=D+(P<<15&4294967295|P>>>17),P=S+(D^(j|~_))+b[5]+4237533241&4294967295,S=j+(P<<21&4294967295|P>>>11),P=_+(j^(S|~D))+b[12]+1700485571&4294967295,_=S+(P<<6&4294967295|P>>>26),P=D+(S^(_|~j))+b[3]+2399980690&4294967295,D=_+(P<<10&4294967295|P>>>22),P=j+(_^(D|~S))+b[10]+4293915773&4294967295,j=D+(P<<15&4294967295|P>>>17),P=S+(D^(j|~_))+b[1]+2240044497&4294967295,S=j+(P<<21&4294967295|P>>>11),P=_+(j^(S|~D))+b[8]+1873313359&4294967295,_=S+(P<<6&4294967295|P>>>26),P=D+(S^(_|~j))+b[15]+4264355552&4294967295,D=_+(P<<10&4294967295|P>>>22),P=j+(_^(D|~S))+b[6]+2734768916&4294967295,j=D+(P<<15&4294967295|P>>>17),P=S+(D^(j|~_))+b[13]+1309151649&4294967295,S=j+(P<<21&4294967295|P>>>11),P=_+(j^(S|~D))+b[4]+4149444226&4294967295,_=S+(P<<6&4294967295|P>>>26),P=D+(S^(_|~j))+b[11]+3174756917&4294967295,D=_+(P<<10&4294967295|P>>>22),P=j+(_^(D|~S))+b[2]+718787259&4294967295,j=D+(P<<15&4294967295|P>>>17),P=S+(D^(j|~_))+b[9]+3951481745&4294967295,E.g[0]=E.g[0]+_&4294967295,E.g[1]=E.g[1]+(j+(P<<21&4294967295|P>>>11))&4294967295,E.g[2]=E.g[2]+j&4294967295,E.g[3]=E.g[3]+D&4294967295}r.prototype.u=function(E,_){_===void 0&&(_=E.length);for(var S=_-this.blockSize,b=this.B,j=this.h,D=0;D<_;){if(j==0)for(;D<=S;)i(this,E,D),D+=this.blockSize;if(typeof E=="string"){for(;D<_;)if(b[j++]=E.charCodeAt(D++),j==this.blockSize){i(this,b),j=0;break}}else for(;D<_;)if(b[j++]=E[D++],j==this.blockSize){i(this,b),j=0;break}}this.h=j,this.o+=_},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var _=1;_<E.length-8;++_)E[_]=0;var S=8*this.o;for(_=E.length-8;_<E.length;++_)E[_]=S&255,S/=256;for(this.u(E),E=Array(16),_=S=0;4>_;++_)for(var b=0;32>b;b+=8)E[S++]=this.g[_]>>>b&255;return E};function s(E,_){var S=l;return Object.prototype.hasOwnProperty.call(S,E)?S[E]:S[E]=_(E)}function o(E,_){this.h=_;for(var S=[],b=!0,j=E.length-1;0<=j;j--){var D=E[j]|0;b&&D==_||(S[j]=D,b=!1)}this.g=S}var l={};function c(E){return-128<=E&&128>E?s(E,function(_){return new o([_|0],0>_?-1:0)}):new o([E|0],0>E?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return m;if(0>E)return C(u(-E));for(var _=[],S=1,b=0;E>=S;b++)_[b]=E/S|0,S*=4294967296;return new o(_,0)}function p(E,_){if(E.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(E.charAt(0)=="-")return C(p(E.substring(1),_));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=u(Math.pow(_,8)),b=m,j=0;j<E.length;j+=8){var D=Math.min(8,E.length-j),P=parseInt(E.substring(j,j+D),_);8>D?(D=u(Math.pow(_,D)),b=b.j(D).add(u(P))):(b=b.j(S),b=b.add(u(P)))}return b}var m=c(0),f=c(1),v=c(16777216);t=o.prototype,t.m=function(){if(I(this))return-C(this).m();for(var E=0,_=1,S=0;S<this.g.length;S++){var b=this.i(S);E+=(0<=b?b:4294967296+b)*_,_*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(y(this))return"0";if(I(this))return"-"+C(this).toString(E);for(var _=u(Math.pow(E,6)),S=this,b="";;){var j=L(S,_).g;S=T(S,j.j(_));var D=((0<S.g.length?S.g[0]:S.h)>>>0).toString(E);if(S=j,y(S))return D+b;for(;6>D.length;)D="0"+D;b=D+b}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function y(E){if(E.h!=0)return!1;for(var _=0;_<E.g.length;_++)if(E.g[_]!=0)return!1;return!0}function I(E){return E.h==-1}t.l=function(E){return E=T(this,E),I(E)?-1:y(E)?0:1};function C(E){for(var _=E.g.length,S=[],b=0;b<_;b++)S[b]=~E.g[b];return new o(S,~E.h).add(f)}t.abs=function(){return I(this)?C(this):this},t.add=function(E){for(var _=Math.max(this.g.length,E.g.length),S=[],b=0,j=0;j<=_;j++){var D=b+(this.i(j)&65535)+(E.i(j)&65535),P=(D>>>16)+(this.i(j)>>>16)+(E.i(j)>>>16);b=P>>>16,D&=65535,P&=65535,S[j]=P<<16|D}return new o(S,S[S.length-1]&-2147483648?-1:0)};function T(E,_){return E.add(C(_))}t.j=function(E){if(y(this)||y(E))return m;if(I(this))return I(E)?C(this).j(C(E)):C(C(this).j(E));if(I(E))return C(this.j(C(E)));if(0>this.l(v)&&0>E.l(v))return u(this.m()*E.m());for(var _=this.g.length+E.g.length,S=[],b=0;b<2*_;b++)S[b]=0;for(b=0;b<this.g.length;b++)for(var j=0;j<E.g.length;j++){var D=this.i(b)>>>16,P=this.i(b)&65535,ve=E.i(j)>>>16,pt=E.i(j)&65535;S[2*b+2*j]+=P*pt,w(S,2*b+2*j),S[2*b+2*j+1]+=D*pt,w(S,2*b+2*j+1),S[2*b+2*j+1]+=P*ve,w(S,2*b+2*j+1),S[2*b+2*j+2]+=D*ve,w(S,2*b+2*j+2)}for(b=0;b<_;b++)S[b]=S[2*b+1]<<16|S[2*b];for(b=_;b<2*_;b++)S[b]=0;return new o(S,0)};function w(E,_){for(;(E[_]&65535)!=E[_];)E[_+1]+=E[_]>>>16,E[_]&=65535,_++}function k(E,_){this.g=E,this.h=_}function L(E,_){if(y(_))throw Error("division by zero");if(y(E))return new k(m,m);if(I(E))return _=L(C(E),_),new k(C(_.g),C(_.h));if(I(_))return _=L(E,C(_)),new k(C(_.g),_.h);if(30<E.g.length){if(I(E)||I(_))throw Error("slowDivide_ only works with positive integers.");for(var S=f,b=_;0>=b.l(E);)S=F(S),b=F(b);var j=A(S,1),D=A(b,1);for(b=A(b,2),S=A(S,2);!y(b);){var P=D.add(b);0>=P.l(E)&&(j=j.add(S),D=P),b=A(b,1),S=A(S,1)}return _=T(E,j.j(_)),new k(j,_)}for(j=m;0<=E.l(_);){for(S=Math.max(1,Math.floor(E.m()/_.m())),b=Math.ceil(Math.log(S)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),D=u(S),P=D.j(_);I(P)||0<P.l(E);)S-=b,D=u(S),P=D.j(_);y(D)&&(D=f),j=j.add(D),E=T(E,P)}return new k(j,E)}t.A=function(E){return L(this,E).h},t.and=function(E){for(var _=Math.max(this.g.length,E.g.length),S=[],b=0;b<_;b++)S[b]=this.i(b)&E.i(b);return new o(S,this.h&E.h)},t.or=function(E){for(var _=Math.max(this.g.length,E.g.length),S=[],b=0;b<_;b++)S[b]=this.i(b)|E.i(b);return new o(S,this.h|E.h)},t.xor=function(E){for(var _=Math.max(this.g.length,E.g.length),S=[],b=0;b<_;b++)S[b]=this.i(b)^E.i(b);return new o(S,this.h^E.h)};function F(E){for(var _=E.g.length+1,S=[],b=0;b<_;b++)S[b]=E.i(b)<<1|E.i(b-1)>>>31;return new o(S,E.h)}function A(E,_){var S=_>>5;_%=32;for(var b=E.g.length-S,j=[],D=0;D<b;D++)j[D]=0<_?E.i(D+S)>>>_|E.i(D+S+1)<<32-_:E.i(D+S);return new o(j,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ax=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=p,as=o}).apply(typeof N0<"u"?N0:typeof self<"u"?self:typeof window<"u"?window:{});var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lx,ka,cx,Hc,Qf,ux,dx,hx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,g){return a==Array.prototype||a==Object.prototype||(a[h]=g.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sc=="object"&&Sc];for(var h=0;h<a.length;++h){var g=a[h];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var g=r;a=a.split(".");for(var x=0;x<a.length-1;x++){var V=a[x];if(!(V in g))break e;g=g[V]}a=a[a.length-1],x=g[a],h=h(x),h!=x&&h!=null&&e(g,a,{configurable:!0,writable:!0,value:h})}}function s(a,h){a instanceof String&&(a+="");var g=0,x=!1,V={next:function(){if(!x&&g<a.length){var z=g++;return{value:h(z,a[z]),done:!1}}return x=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(a){return a||function(){return s(this,function(h,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function u(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function p(a,h,g){return a.call.apply(a.bind,arguments)}function m(a,h,g){if(!a)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,x),a.apply(h,V)}}return function(){return a.apply(h,arguments)}}function f(a,h,g){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,f.apply(null,arguments)}function v(a,h){var g=Array.prototype.slice.call(arguments,1);return function(){var x=g.slice();return x.push.apply(x,arguments),a.apply(this,x)}}function y(a,h){function g(){}g.prototype=h.prototype,a.aa=h.prototype,a.prototype=new g,a.prototype.constructor=a,a.Qb=function(x,V,z){for(var W=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)W[Oe-2]=arguments[Oe];return h.prototype[V].apply(x,W)}}function I(a){const h=a.length;if(0<h){const g=Array(h);for(let x=0;x<h;x++)g[x]=a[x];return g}return[]}function C(a,h){for(let g=1;g<arguments.length;g++){const x=arguments[g];if(c(x)){const V=a.length||0,z=x.length||0;a.length=V+z;for(let W=0;W<z;W++)a[V+W]=x[W]}else a.push(x)}}class T{constructor(h,g){this.i=h,this.j=g,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function w(a){return/^[\s\xa0]*$/.test(a)}function k(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function L(a){return L[" "](a),a}L[" "]=function(){};var F=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function A(a,h,g){for(const x in a)h.call(g,a[x],x,a)}function E(a,h){for(const g in a)h.call(void 0,a[g],g,a)}function _(a){const h={};for(const g in a)h[g]=a[g];return h}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(a,h){let g,x;for(let V=1;V<arguments.length;V++){x=arguments[V];for(g in x)a[g]=x[g];for(let z=0;z<S.length;z++)g=S[z],Object.prototype.hasOwnProperty.call(x,g)&&(a[g]=x[g])}}function j(a){var h=1;a=a.split(":");const g=[];for(;0<h&&a.length;)g.push(a.shift()),h--;return a.length&&g.push(a.join(":")),g}function D(a){l.setTimeout(()=>{throw a},0)}function P(){var a=K;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class ve{constructor(){this.h=this.g=null}add(h,g){const x=pt.get();x.set(h,g),this.h?this.h.next=x:this.g=x,this.h=x}}var pt=new T(()=>new Te,a=>a.reset());class Te{constructor(){this.next=this.g=this.h=null}set(h,g){this.h=h,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let le,q=!1,K=new ve,Z=()=>{const a=l.Promise.resolve(void 0);le=()=>{a.then(se)}};var se=()=>{for(var a;a=P();){try{a.h.call(a.g)}catch(g){D(g)}var h=pt;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}q=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Pe(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}Pe.prototype.h=function(){this.defaultPrevented=!0};var at=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const g=()=>{};l.addEventListener("test",g,h),l.removeEventListener("test",g,h)}catch{}return a}();function mt(a,h){if(Pe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var g=this.type=a.type,x=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(F){e:{try{L(h.nodeName);var V=!0;break e}catch{}V=!1}V||(h=null)}}else g=="mouseover"?h=a.fromElement:g=="mouseout"&&(h=a.toElement);this.relatedTarget=h,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:gt[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&mt.aa.h.call(this)}}y(mt,Pe);var gt={2:"touch",3:"pen",4:"mouse"};mt.prototype.h=function(){mt.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Xt="closure_listenable_"+(1e6*Math.random()|0),Ud=0;function Bd(a,h,g,x,V){this.listener=a,this.proxy=null,this.src=h,this.type=g,this.capture=!!x,this.ha=V,this.key=++Ud,this.da=this.fa=!1}function bs(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function lt(a){this.src=a,this.g={},this.h=0}lt.prototype.add=function(a,h,g,x,V){var z=a.toString();a=this.g[z],a||(a=this.g[z]=[],this.h++);var W=ks(a,h,x,V);return-1<W?(h=a[W],g||(h.fa=!1)):(h=new Bd(h,this.src,z,!!x,V),h.fa=g,a.push(h)),h};function Un(a,h){var g=h.type;if(g in a.g){var x=a.g[g],V=Array.prototype.indexOf.call(x,h,void 0),z;(z=0<=V)&&Array.prototype.splice.call(x,V,1),z&&(bs(h),a.g[g].length==0&&(delete a.g[g],a.h--))}}function ks(a,h,g,x){for(var V=0;V<a.length;++V){var z=a[V];if(!z.da&&z.listener==h&&z.capture==!!g&&z.ha==x)return V}return-1}var zo="closure_lm_"+(1e6*Math.random()|0),Rn={};function Bl(a,h,g,x,V){if(Array.isArray(h)){for(var z=0;z<h.length;z++)Bl(a,h[z],g,x,V);return null}return g=Bo(g),a&&a[Xt]?a.K(h,g,u(x)?!!x.capture:!!x,V):$d(a,h,g,!1,x,V)}function $d(a,h,g,x,V,z){if(!h)throw Error("Invalid event type");var W=u(V)?!!V.capture:!!V,Oe=An(a);if(Oe||(a[zo]=Oe=new lt(a)),g=Oe.add(h,g,x,W,z),g.proxy)return g;if(x=$l(),g.proxy=x,x.src=a,x.listener=g,a.addEventListener)at||(V=W),V===void 0&&(V=!1),a.addEventListener(h.toString(),x,V);else if(a.attachEvent)a.attachEvent(ql(h.toString()),x);else if(a.addListener&&a.removeListener)a.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return g}function $l(){function a(g){return h.call(a.src,a.listener,g)}const h=Hd;return a}function Hl(a,h,g,x,V){if(Array.isArray(h))for(var z=0;z<h.length;z++)Hl(a,h[z],g,x,V);else x=u(x)?!!x.capture:!!x,g=Bo(g),a&&a[Xt]?(a=a.i,h=String(h).toString(),h in a.g&&(z=a.g[h],g=ks(z,g,x,V),-1<g&&(bs(z[g]),Array.prototype.splice.call(z,g,1),z.length==0&&(delete a.g[h],a.h--)))):a&&(a=An(a))&&(h=a.g[h.toString()],a=-1,h&&(a=ks(h,g,x,V)),(g=-1<a?h[a]:null)&&Uo(g))}function Uo(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[Xt])Un(h.i,a);else{var g=a.type,x=a.proxy;h.removeEventListener?h.removeEventListener(g,x,a.capture):h.detachEvent?h.detachEvent(ql(g),x):h.addListener&&h.removeListener&&h.removeListener(x),(g=An(h))?(Un(g,a),g.h==0&&(g.src=null,h[zo]=null)):bs(a)}}}function ql(a){return a in Rn?Rn[a]:Rn[a]="on"+a}function Hd(a,h){if(a.da)a=!0;else{h=new mt(h,this);var g=a.listener,x=a.ha||a.src;a.fa&&Uo(a),a=g.call(x,h)}return a}function An(a){return a=a[zo],a instanceof lt?a:null}var ar="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bo(a){return typeof a=="function"?a:(a[ar]||(a[ar]=function(h){return a.handleEvent(h)}),a[ar])}function ct(){pe.call(this),this.i=new lt(this),this.M=this,this.F=null}y(ct,pe),ct.prototype[Xt]=!0,ct.prototype.removeEventListener=function(a,h,g,x){Hl(this,a,h,g,x)};function Ge(a,h){var g,x=a.F;if(x)for(g=[];x;x=x.F)g.push(x);if(a=a.M,x=h.type||h,typeof h=="string")h=new Pe(h,a);else if(h instanceof Pe)h.target=h.target||a;else{var V=h;h=new Pe(x,a),b(h,V)}if(V=!0,g)for(var z=g.length-1;0<=z;z--){var W=h.g=g[z];V=Jt(W,x,!0,h)&&V}if(W=h.g=a,V=Jt(W,x,!0,h)&&V,V=Jt(W,x,!1,h)&&V,g)for(z=0;z<g.length;z++)W=h.g=g[z],V=Jt(W,x,!1,h)&&V}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var g=a.g[h],x=0;x<g.length;x++)bs(g[x]);delete a.g[h],a.h--}}this.F=null},ct.prototype.K=function(a,h,g,x){return this.i.add(String(a),h,!1,g,x)},ct.prototype.L=function(a,h,g,x){return this.i.add(String(a),h,!0,g,x)};function Jt(a,h,g,x){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var V=!0,z=0;z<h.length;++z){var W=h[z];if(W&&!W.da&&W.capture==g){var Oe=W.listener,Tt=W.ha||W.src;W.fa&&Un(a.i,W),V=Oe.call(Tt,x)!==!1&&V}}return V&&!x.defaultPrevented}function $o(a,h,g){if(typeof a=="function")g&&(a=f(a,g));else if(a&&typeof a.handleEvent=="function")a=f(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function zi(a){a.g=$o(()=>{a.g=null,a.i&&(a.i=!1,zi(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class qd extends pe{constructor(h,g){super(),this.m=h,this.l=g,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:zi(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zt(a){pe.call(this),this.h=a,this.g={}}y(Zt,pe);var Ho=[];function qo(a){A(a.g,function(h,g){this.g.hasOwnProperty(g)&&Uo(h)},a),a.g={}}Zt.prototype.N=function(){Zt.aa.N.call(this),qo(this)},Zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cs=l.JSON.stringify,Wd=l.JSON.parse,Wl=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Fr(){}Fr.prototype.h=null;function Wo(a){return a.h||(a.h=a.i())}function Rs(){}var lr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Go(){Pe.call(this,"d")}y(Go,Pe);function As(){Pe.call(this,"c")}y(As,Pe);var cr={},Ko=null;function ur(){return Ko=Ko||new ct}cr.La="serverreachability";function Ui(a){Pe.call(this,cr.La,a)}y(Ui,Pe);function Bi(a){const h=ur();Ge(h,new Ui(h))}cr.STAT_EVENT="statevent";function Gl(a,h){Pe.call(this,cr.STAT_EVENT,a),this.stat=h}y(Gl,Pe);function N(a){const h=ur();Ge(h,new Gl(h,a))}cr.Ma="timingevent";function M(a,h){Pe.call(this,cr.Ma,a),this.size=h}y(M,Pe);function O(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function U(){this.g=!0}U.prototype.xa=function(){this.g=!1};function Q(a,h,g,x,V,z){a.info(function(){if(a.g)if(z)for(var W="",Oe=z.split("&"),Tt=0;Tt<Oe.length;Tt++){var Re=Oe[Tt].split("=");if(1<Re.length){var Nt=Re[0];Re=Re[1];var Dt=Nt.split("_");W=2<=Dt.length&&Dt[1]=="type"?W+(Nt+"="+Re+"&"):W+(Nt+"=redacted&")}}else W=null;else W=z;return"XMLHTTP REQ ("+x+") [attempt "+V+"]: "+h+`
`+g+`
`+W})}function ne(a,h,g,x,V,z,W){a.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+V+"]: "+h+`
`+g+`
`+z+" "+W})}function ae(a,h,g,x){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+J(a,g)+(x?" "+x:"")})}function X(a,h){a.info(function(){return"TIMEOUT: "+h})}U.prototype.info=function(){};function J(a,h){if(!a.g)return h;if(!h)return null;try{var g=JSON.parse(h);if(g){for(a=0;a<g.length;a++)if(Array.isArray(g[a])){var x=g[a];if(!(2>x.length)){var V=x[1];if(Array.isArray(V)&&!(1>V.length)){var z=V[0];if(z!="noop"&&z!="stop"&&z!="close")for(var W=1;W<V.length;W++)V[W]=""}}}}return Cs(g)}catch{return h}}var G={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},te={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ge;function ye(){}y(ye,Fr),ye.prototype.g=function(){return new XMLHttpRequest},ye.prototype.i=function(){return{}},ge=new ye;function Fe(a,h,g,x){this.j=a,this.i=h,this.l=g,this.R=x||1,this.U=new Zt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new De}function De(){this.i=null,this.g="",this.h=!1}var be={},ze={};function Bn(a,h,g){a.L=1,a.v=Xl(hr(h)),a.m=g,a.P=!0,zr(a,null)}function zr(a,h){a.F=Date.now(),Ur(a),a.A=hr(a.v);var g=a.A,x=a.R;Array.isArray(x)||(x=[String(x)]),Tg(g.i,"t",x),a.C=0,g=a.j.J,a.h=new De,a.g=Ug(a.j,g?h:null,!a.m),0<a.O&&(a.M=new qd(f(a.Y,a,a.g),a.O)),h=a.U,g=a.g,x=a.ca;var V="readystatechange";Array.isArray(V)||(V&&(Ho[0]=V.toString()),V=Ho);for(var z=0;z<V.length;z++){var W=Bl(g,V[z],x||h.handleEvent,!1,h.h||h);if(!W)break;h.g[W.key]=W}h=a.H?_(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),Bi(),Q(a.i,a.u,a.A,a.l,a.R,a.m)}Fe.prototype.ca=function(a){a=a.target;const h=this.M;h&&fr(a)==3?h.j():this.Y(a)},Fe.prototype.Y=function(a){try{if(a==this.g)e:{const Dt=fr(this.g);var h=this.g.Ba();const js=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||Ag(this.g)))){this.J||Dt!=4||h==7||(h==8||0>=js?Bi(3):Bi(2)),Pn(this);var g=this.g.Z();this.X=g;t:if(_n(this)){var x=Ag(this.g);a="";var V=x.length,z=fr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xn(this),$n(this);var W="";break t}this.h.i=new l.TextDecoder}for(h=0;h<V;h++)this.h.h=!0,a+=this.h.i.decode(x[h],{stream:!(z&&h==V-1)});x.length=0,this.h.g+=a,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=g==200,ne(this.i,this.u,this.A,this.l,this.R,Dt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,Tt=this.g;if((Oe=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Oe)){var Re=Oe;break t}}Re=null}if(g=Re)ae(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xe(this,g);else{this.o=!1,this.s=3,N(12),xn(this),$n(this);break e}}if(this.P){g=!0;let Nn;for(;!this.J&&this.C<W.length;)if(Nn=wn(this,W),Nn==ze){Dt==4&&(this.s=4,N(14),g=!1),ae(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==be){this.s=4,N(15),ae(this.i,this.l,W,"[Invalid Chunk]"),g=!1;break}else ae(this.i,this.l,Nn,null),xe(this,Nn);if(_n(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||W.length!=0||this.h.h||(this.s=1,N(16),g=!1),this.o=this.o&&g,!g)ae(this.i,this.l,W,"[Invalid Chunked Response]"),xn(this),$n(this);else if(0<W.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Yd(Nt),Nt.M=!0,N(11))}}else ae(this.i,this.l,W,null),xe(this,W);Dt==4&&xn(this),this.o&&!this.J&&(Dt==4?Vg(this.j,this):(this.o=!1,Ur(this)))}else IT(this.g),g==400&&0<W.indexOf("Unknown SID")?(this.s=3,N(12)):(this.s=0,N(13)),xn(this),$n(this)}}}catch{}finally{}};function _n(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function wn(a,h){var g=a.C,x=h.indexOf(`
`,g);return x==-1?ze:(g=Number(h.substring(g,x)),isNaN(g)?be:(x+=1,x+g>h.length?ze:(h=h.slice(x,x+g),a.C=x+g,h)))}Fe.prototype.cancel=function(){this.J=!0,xn(this)};function Ur(a){a.S=Date.now()+a.I,Br(a,a.I)}function Br(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=O(f(a.ba,a),h)}function Pn(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Fe.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(X(this.i,this.A),this.L!=2&&(Bi(),N(17)),xn(this),this.s=2,$n(this)):Br(this,this.S-a)};function $n(a){a.j.G==0||a.J||Vg(a.j,a)}function xn(a){Pn(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,qo(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function xe(a,h){try{var g=a.j;if(g.G!=0&&(g.g==a||Hn(g.h,a))){if(!a.K&&Hn(g.h,a)&&g.G==3){try{var x=g.Da.g.parse(h)}catch{x=null}if(Array.isArray(x)&&x.length==3){var V=x;if(V[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<a.F)rc(g),tc(g);else break e;Qd(g),N(18)}}else g.za=V[1],0<g.za-g.T&&37500>V[2]&&g.F&&g.v==0&&!g.C&&(g.C=O(f(g.Za,g),6e3));if(1>=Je(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Hi(g,11)}else if((a.K||g.g==a)&&rc(g),!w(h))for(V=g.Da.g.parse(h),h=0;h<V.length;h++){let Re=V[h];if(g.T=Re[0],Re=Re[1],g.G==2)if(Re[0]=="c"){g.K=Re[1],g.ia=Re[2];const Nt=Re[3];Nt!=null&&(g.la=Nt,g.j.info("VER="+g.la));const Dt=Re[4];Dt!=null&&(g.Aa=Dt,g.j.info("SVER="+g.Aa));const js=Re[5];js!=null&&typeof js=="number"&&0<js&&(x=1.5*js,g.L=x,g.j.info("backChannelRequestTimeoutMs_="+x)),x=g;const Nn=a.g;if(Nn){const sc=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sc){var z=x.h;z.g||sc.indexOf("spdy")==-1&&sc.indexOf("quic")==-1&&sc.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(Ps(z,z.h),z.h=null))}if(x.D){const Xd=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xd&&(x.ya=Xd,$e(x.I,x.D,Xd))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-a.F,g.j.info("Handshake RTT: "+g.R+"ms")),x=g;var W=a;if(x.qa=zg(x,x.J?x.ia:null,x.W),W.K){Kl(x.h,W);var Oe=W,Tt=x.L;Tt&&(Oe.I=Tt),Oe.B&&(Pn(Oe),Ur(Oe)),x.g=W}else Lg(x);0<g.i.length&&nc(g)}else Re[0]!="stop"&&Re[0]!="close"||Hi(g,7);else g.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?Hi(g,7):Kd(g):Re[0]!="noop"&&g.l&&g.l.ta(Re),g.v=0)}}Bi(4)}catch{}}var Ke=class{constructor(a,h){this.g=a,this.map=h}};function dr(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $r(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Je(a){return a.h?1:a.g?a.g.size:0}function Hn(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function Ps(a,h){a.g?a.g.add(h):a.h=h}function Kl(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}dr.prototype.cancel=function(){if(this.i=gg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function gg(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const g of a.g.values())h=h.concat(g.D);return h}return I(a.i)}function uT(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var h=[],g=a.length,x=0;x<g;x++)h.push(a[x]);return h}h=[],g=0;for(x in a)h[g++]=a[x];return h}function dT(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var h=[];a=a.length;for(var g=0;g<a;g++)h.push(g);return h}h=[],g=0;for(const x in a)h[g++]=x;return h}}}function vg(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var g=dT(a),x=uT(a),V=x.length,z=0;z<V;z++)h.call(void 0,x[z],g&&g[z],a)}var yg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hT(a,h){if(a){a=a.split("&");for(var g=0;g<a.length;g++){var x=a[g].indexOf("="),V=null;if(0<=x){var z=a[g].substring(0,x);V=a[g].substring(x+1)}else z=a[g];h(z,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function $i(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof $i){this.h=a.h,Ql(this,a.j),this.o=a.o,this.g=a.g,Yl(this,a.s),this.l=a.l;var h=a.i,g=new Xo;g.i=h.i,h.g&&(g.g=new Map(h.g),g.h=h.h),_g(this,g),this.m=a.m}else a&&(h=String(a).match(yg))?(this.h=!1,Ql(this,h[1]||"",!0),this.o=Qo(h[2]||""),this.g=Qo(h[3]||"",!0),Yl(this,h[4]),this.l=Qo(h[5]||"",!0),_g(this,h[6]||"",!0),this.m=Qo(h[7]||"")):(this.h=!1,this.i=new Xo(null,this.h))}$i.prototype.toString=function(){var a=[],h=this.j;h&&a.push(Yo(h,wg,!0),":");var g=this.g;return(g||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Yo(h,wg,!0),"@"),a.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&a.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&a.push("/"),a.push(Yo(g,g.charAt(0)=="/"?mT:pT,!0))),(g=this.i.toString())&&a.push("?",g),(g=this.m)&&a.push("#",Yo(g,vT)),a.join("")};function hr(a){return new $i(a)}function Ql(a,h,g){a.j=g?Qo(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Yl(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function _g(a,h,g){h instanceof Xo?(a.i=h,yT(a.i,a.h)):(g||(h=Yo(h,gT)),a.i=new Xo(h,a.h))}function $e(a,h,g){a.i.set(h,g)}function Xl(a){return $e(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Qo(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Yo(a,h,g){return typeof a=="string"?(a=encodeURI(a).replace(h,fT),g&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function fT(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var wg=/[#\/\?@]/g,pT=/[#\?:]/g,mT=/[#\?]/g,gT=/[#\?@]/g,vT=/#/g;function Xo(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Hr(a){a.g||(a.g=new Map,a.h=0,a.i&&hT(a.i,function(h,g){a.add(decodeURIComponent(h.replace(/\+/g," ")),g)}))}t=Xo.prototype,t.add=function(a,h){Hr(this),this.i=null,a=Ns(this,a);var g=this.g.get(a);return g||this.g.set(a,g=[]),g.push(h),this.h+=1,this};function xg(a,h){Hr(a),h=Ns(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function Eg(a,h){return Hr(a),h=Ns(a,h),a.g.has(h)}t.forEach=function(a,h){Hr(this),this.g.forEach(function(g,x){g.forEach(function(V){a.call(h,V,x,this)},this)},this)},t.na=function(){Hr(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),g=[];for(let x=0;x<h.length;x++){const V=a[x];for(let z=0;z<V.length;z++)g.push(h[x])}return g},t.V=function(a){Hr(this);let h=[];if(typeof a=="string")Eg(this,a)&&(h=h.concat(this.g.get(Ns(this,a))));else{a=Array.from(this.g.values());for(let g=0;g<a.length;g++)h=h.concat(a[g])}return h},t.set=function(a,h){return Hr(this),this.i=null,a=Ns(this,a),Eg(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function Tg(a,h,g){xg(a,h),0<g.length&&(a.i=null,a.g.set(Ns(a,h),I(g)),a.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var g=0;g<h.length;g++){var x=h[g];const z=encodeURIComponent(String(x)),W=this.V(x);for(x=0;x<W.length;x++){var V=z;W[x]!==""&&(V+="="+encodeURIComponent(String(W[x]))),a.push(V)}}return this.i=a.join("&")};function Ns(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function yT(a,h){h&&!a.j&&(Hr(a),a.i=null,a.g.forEach(function(g,x){var V=x.toLowerCase();x!=V&&(xg(this,x),Tg(this,V,g))},a)),a.j=h}function _T(a,h){const g=new U;if(l.Image){const x=new Image;x.onload=v(qr,g,"TestLoadImage: loaded",!0,h,x),x.onerror=v(qr,g,"TestLoadImage: error",!1,h,x),x.onabort=v(qr,g,"TestLoadImage: abort",!1,h,x),x.ontimeout=v(qr,g,"TestLoadImage: timeout",!1,h,x),l.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=a}else h(!1)}function wT(a,h){const g=new U,x=new AbortController,V=setTimeout(()=>{x.abort(),qr(g,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:x.signal}).then(z=>{clearTimeout(V),z.ok?qr(g,"TestPingServer: ok",!0,h):qr(g,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(V),qr(g,"TestPingServer: error",!1,h)})}function qr(a,h,g,x,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),x(g)}catch{}}function xT(){this.g=new Wl}function ET(a,h,g){const x=g||"";try{vg(a,function(V,z){let W=V;u(V)&&(W=Cs(V)),h.push(x+z+"="+encodeURIComponent(W))})}catch(V){throw h.push(x+"type="+encodeURIComponent("_badmap")),V}}function Jl(a){this.l=a.Ub||null,this.j=a.eb||!1}y(Jl,Fr),Jl.prototype.g=function(){return new Zl(this.l,this.j)},Jl.prototype.i=function(a){return function(){return a}}({});function Zl(a,h){ct.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Zl,ct),t=Zl.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,Zo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jo(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Zo(this)),this.g&&(this.readyState=3,Zo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sg(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sg(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Jo(this):Zo(this),this.readyState==3&&Sg(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Jo(this))},t.Qa=function(a){this.g&&(this.response=a,Jo(this))},t.ga=function(){this.g&&Jo(this)};function Jo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Zo(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var g=h.next();!g.done;)g=g.value,a.push(g[0]+": "+g[1]),g=h.next();return a.join(`\r
`)};function Zo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Zl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Ig(a){let h="";return A(a,function(g,x){h+=x,h+=":",h+=g,h+=`\r
`}),h}function Gd(a,h,g){e:{for(x in g){var x=!1;break e}x=!0}x||(g=Ig(g),typeof a=="string"?g!=null&&encodeURIComponent(String(g)):$e(a,h,g))}function rt(a){ct.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(rt,ct);var TT=/^https?$/i,ST=["POST","PUT"];t=rt.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,g,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ge.g(),this.v=this.o?Wo(this.o):Wo(ge),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(z){bg(this,z);return}if(a=g||"",g=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var V in x)g.set(V,x[V]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const z of x.keys())g.set(z,x.get(z));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(g.keys()).find(z=>z.toLowerCase()=="content-type"),V=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(ST,h,void 0))||x||V||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,W]of g)this.g.setRequestHeader(z,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Rg(this),this.u=!0,this.g.send(a),this.u=!1}catch(z){bg(this,z)}};function bg(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,kg(a),ec(a)}function kg(a){a.A||(a.A=!0,Ge(a,"complete"),Ge(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Ge(this,"complete"),Ge(this,"abort"),ec(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ec(this,!0)),rt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Cg(this):this.bb())},t.bb=function(){Cg(this)};function Cg(a){if(a.h&&typeof o<"u"&&(!a.v[1]||fr(a)!=4||a.Z()!=2)){if(a.u&&fr(a)==4)$o(a.Ea,0,a);else if(Ge(a,"readystatechange"),fr(a)==4){a.h=!1;try{const W=a.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var g;if(!(g=h)){var x;if(x=W===0){var V=String(a.D).match(yg)[1]||null;!V&&l.self&&l.self.location&&(V=l.self.location.protocol.slice(0,-1)),x=!TT.test(V?V.toLowerCase():"")}g=x}if(g)Ge(a,"complete"),Ge(a,"success");else{a.m=6;try{var z=2<fr(a)?a.g.statusText:""}catch{z=""}a.l=z+" ["+a.Z()+"]",kg(a)}}finally{ec(a)}}}}function ec(a,h){if(a.g){Rg(a);const g=a.g,x=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||Ge(a,"ready");try{g.onreadystatechange=x}catch{}}}function Rg(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function fr(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<fr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),Wd(h)}};function Ag(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function IT(a){const h={};a=(a.g&&2<=fr(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<a.length;x++){if(w(a[x]))continue;var g=j(a[x]);const V=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const z=h[V]||[];h[V]=z,z.push(g)}E(h,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ea(a,h,g){return g&&g.internalChannelParams&&g.internalChannelParams[a]||h}function Pg(a){this.Aa=0,this.i=[],this.j=new U,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ea("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ea("baseRetryDelayMs",5e3,a),this.cb=ea("retryDelaySeedMs",1e4,a),this.Wa=ea("forwardChannelMaxRetries",2,a),this.wa=ea("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new dr(a&&a.concurrentRequestLimit),this.Da=new xT,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Pg.prototype,t.la=8,t.G=1,t.connect=function(a,h,g,x){N(0),this.W=a,this.H=h||{},g&&x!==void 0&&(this.H.OSID=g,this.H.OAID=x),this.F=this.X,this.I=zg(this,null,this.W),nc(this)};function Kd(a){if(Ng(a),a.G==3){var h=a.U++,g=hr(a.I);if($e(g,"SID",a.K),$e(g,"RID",h),$e(g,"TYPE","terminate"),ta(a,g),h=new Fe(a,a.j,h),h.L=2,h.v=Xl(hr(g)),g=!1,l.navigator&&l.navigator.sendBeacon)try{g=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!g&&l.Image&&(new Image().src=h.v,g=!0),g||(h.g=Ug(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Ur(h)}Fg(a)}function tc(a){a.g&&(Yd(a),a.g.cancel(),a.g=null)}function Ng(a){tc(a),a.u&&(l.clearTimeout(a.u),a.u=null),rc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function nc(a){if(!$r(a.h)&&!a.s){a.s=!0;var h=a.Ga;le||Z(),q||(le(),q=!0),K.add(h,a),a.B=0}}function bT(a,h){return Je(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=O(f(a.Ga,a,h),Og(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const V=new Fe(this,this.j,a);let z=this.o;if(this.S&&(z?(z=_(z),b(z,this.S)):z=this.S),this.m!==null||this.O||(V.H=z,z=null),this.P)e:{for(var h=0,g=0;g<this.i.length;g++){t:{var x=this.i[g];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(h+=x,4096<h){h=g;break e}if(h===4096||g===this.i.length-1){h=g+1;break e}}h=1e3}else h=1e3;h=jg(this,V,h),g=hr(this.I),$e(g,"RID",a),$e(g,"CVER",22),this.D&&$e(g,"X-HTTP-Session-Id",this.D),ta(this,g),z&&(this.O?h="headers="+encodeURIComponent(String(Ig(z)))+"&"+h:this.m&&Gd(g,this.m,z)),Ps(this.h,V),this.Ua&&$e(g,"TYPE","init"),this.P?($e(g,"$req",h),$e(g,"SID","null"),V.T=!0,Bn(V,g,null)):Bn(V,g,h),this.G=2}}else this.G==3&&(a?Dg(this,a):this.i.length==0||$r(this.h)||Dg(this))};function Dg(a,h){var g;h?g=h.l:g=a.U++;const x=hr(a.I);$e(x,"SID",a.K),$e(x,"RID",g),$e(x,"AID",a.T),ta(a,x),a.m&&a.o&&Gd(x,a.m,a.o),g=new Fe(a,a.j,g,a.B+1),a.m===null&&(g.H=a.o),h&&(a.i=h.D.concat(a.i)),h=jg(a,g,1e3),g.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Ps(a.h,g),Bn(g,x,h)}function ta(a,h){a.H&&A(a.H,function(g,x){$e(h,x,g)}),a.l&&vg({},function(g,x){$e(h,x,g)})}function jg(a,h,g){g=Math.min(a.i.length,g);var x=a.l?f(a.l.Na,a.l,a):null;e:{var V=a.i;let z=-1;for(;;){const W=["count="+g];z==-1?0<g?(z=V[0].g,W.push("ofs="+z)):z=0:W.push("ofs="+z);let Oe=!0;for(let Tt=0;Tt<g;Tt++){let Re=V[Tt].g;const Nt=V[Tt].map;if(Re-=z,0>Re)z=Math.max(0,V[Tt].g-100),Oe=!1;else try{ET(Nt,W,"req"+Re+"_")}catch{x&&x(Nt)}}if(Oe){x=W.join("&");break e}}}return a=a.i.splice(0,g),h.D=a,x}function Lg(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;le||Z(),q||(le(),q=!0),K.add(h,a),a.v=0}}function Qd(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=O(f(a.Fa,a),Og(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Mg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=O(f(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,N(10),tc(this),Mg(this))};function Yd(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Mg(a){a.g=new Fe(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=hr(a.qa);$e(h,"RID","rpc"),$e(h,"SID",a.K),$e(h,"AID",a.T),$e(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&$e(h,"TO",a.ja),$e(h,"TYPE","xmlhttp"),ta(a,h),a.m&&a.o&&Gd(h,a.m,a.o),a.L&&(a.g.I=a.L);var g=a.g;a=a.ia,g.L=1,g.v=Xl(hr(h)),g.m=null,g.P=!0,zr(g,a)}t.Za=function(){this.C!=null&&(this.C=null,tc(this),Qd(this),N(19))};function rc(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Vg(a,h){var g=null;if(a.g==h){rc(a),Yd(a),a.g=null;var x=2}else if(Hn(a.h,h))g=h.D,Kl(a.h,h),x=1;else return;if(a.G!=0){if(h.o)if(x==1){g=h.m?h.m.length:0,h=Date.now()-h.F;var V=a.B;x=ur(),Ge(x,new M(x,g)),nc(a)}else Lg(a);else if(V=h.s,V==3||V==0&&0<h.X||!(x==1&&bT(a,h)||x==2&&Qd(a)))switch(g&&0<g.length&&(h=a.h,h.i=h.i.concat(g)),V){case 1:Hi(a,5);break;case 4:Hi(a,10);break;case 3:Hi(a,6);break;default:Hi(a,2)}}}function Og(a,h){let g=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(g*=2),g*h}function Hi(a,h){if(a.j.info("Error code "+h),h==2){var g=f(a.fb,a),x=a.Xa;const V=!x;x=new $i(x||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ql(x,"https"),Xl(x),V?_T(x.toString(),g):wT(x.toString(),g)}else N(2);a.G=0,a.l&&a.l.sa(h),Fg(a),Ng(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),N(2)):(this.j.info("Failed to ping google.com"),N(1))};function Fg(a){if(a.G=0,a.ka=[],a.l){const h=gg(a.h);(h.length!=0||a.i.length!=0)&&(C(a.ka,h),C(a.ka,a.i),a.h.i.length=0,I(a.i),a.i.length=0),a.l.ra()}}function zg(a,h,g){var x=g instanceof $i?hr(g):new $i(g);if(x.g!="")h&&(x.g=h+"."+x.g),Yl(x,x.s);else{var V=l.location;x=V.protocol,h=h?h+"."+V.hostname:V.hostname,V=+V.port;var z=new $i(null);x&&Ql(z,x),h&&(z.g=h),V&&Yl(z,V),g&&(z.l=g),x=z}return g=a.D,h=a.ya,g&&h&&$e(x,g,h),$e(x,"VER",a.la),ta(a,x),x}function Ug(a,h,g){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new rt(new Jl({eb:g})):new rt(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bg(){}t=Bg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ic(){}ic.prototype.g=function(a,h){return new cn(a,h)};function cn(a,h){ct.call(this),this.g=new Pg(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!w(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!w(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Ds(this)}y(cn,ct),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Kd(this.g)},cn.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var g={};g.__data__=a,a=g}else this.u&&(g={},g.__data__=Cs(a),a=g);h.i.push(new Ke(h.Ya++,a)),h.G==3&&nc(h)},cn.prototype.N=function(){this.g.l=null,delete this.j,Kd(this.g),delete this.g,cn.aa.N.call(this)};function $g(a){Go.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const g in h){a=g;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}y($g,Go);function Hg(){As.call(this),this.status=1}y(Hg,As);function Ds(a){this.g=a}y(Ds,Bg),Ds.prototype.ua=function(){Ge(this.g,"a")},Ds.prototype.ta=function(a){Ge(this.g,new $g(a))},Ds.prototype.sa=function(a){Ge(this.g,new Hg)},Ds.prototype.ra=function(){Ge(this.g,"b")},ic.prototype.createWebChannel=ic.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,hx=function(){return new ic},dx=function(){return ur()},ux=cr,Qf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},G.NO_ERROR=0,G.TIMEOUT=8,G.HTTP_ERROR=6,Hc=G,te.COMPLETE="complete",cx=te,Rs.EventType=lr,lr.OPEN="a",lr.CLOSE="b",lr.ERROR="c",lr.MESSAGE="d",ct.prototype.listen=ct.prototype.K,ka=Rs,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,lx=rt}).apply(typeof Sc<"u"?Sc:typeof self<"u"?self:typeof window<"u"?window:{});const D0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new vm("@firebase/firestore");function fa(){return ms.logLevel}function ee(t,...e){if(ms.logLevel<=Se.DEBUG){const n=e.map(wm);ms.debug(`Firestore (${jo}): ${t}`,...n)}}function Dr(t,...e){if(ms.logLevel<=Se.ERROR){const n=e.map(wm);ms.error(`Firestore (${jo}): ${t}`,...n)}}function _o(t,...e){if(ms.logLevel<=Se.WARN){const n=e.map(wm);ms.warn(`Firestore (${jo}): ${t}`,...n)}}function wm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t="Unexpected state"){const e=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: `+t;throw Dr(e),new Error(e)}function Ne(t,e){t||ue()}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends Or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ot.UNAUTHENTICATED))}shutdown(){}}class pC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class mC{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ne(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Jn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Jn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Jn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string"),new fx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string"),new Ot(e)}}class gC{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class vC{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new gC(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _C{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ne(this.o===void 0);const r=s=>{s.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ne(typeof n.token=="string"),this.R=n.token,new yC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=wC(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ae(t,e){return t<e?-1:t>e?1:0}function wo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new re(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ie.fromMillis(Date.now())}static fromDate(e){return Ie.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ie(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new fe(e)}static min(){return new fe(new Ie(0,0))}static max(){return new fe(new Ie(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n,r){n===void 0?n=0:n>e.length&&ue(),r===void 0?r=e.length-n:r>e.length-n&&ue(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return hl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Xe extends hl{construct(e,n,r){return new Xe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Xe(n)}static emptyPath(){return new Xe([])}}const xC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends hl{construct(e,n,r){return new kt(e,n,r)}static isValidIdentifier(e){return xC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new kt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new re(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new re(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new re(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new re(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(n)}static emptyPath(){return new kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Xe.fromString(e))}static fromName(e){return new oe(Xe.fromString(e).popFirst(5))}static empty(){return new oe(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Xe(e.slice()))}}function EC(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(r===1e9?new Ie(n+1,0):new Ie(n,r));return new Ci(i,oe.empty(),e)}function TC(t){return new Ci(t.readTime,t.key,-1)}class Ci{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ci(fe.min(),oe.empty(),-1)}static max(){return new Ci(fe.max(),oe.empty(),-1)}}function SC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==IC)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(p=>{o[u]=p,++l,l===s&&r(o)},p=>i(p))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function kC(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function kl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}xm.oe=-1;function vd(t){return t==null}function Au(t){return t===0&&1/t==-1/0}function CC(t){return typeof t=="number"&&Number.isInteger(t)&&!Au(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function RC(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function mx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||bt.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ic(this.root,e,this.comparator,!0)}}class Ic{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??bt.RED,this.left=i??bt.EMPTY,this.right=s??bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new bt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return bt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ue();const e=this.left.check();if(e!==this.right.check())throw ue();return e+(this.isRed()?0:1)}}bt.EMPTY=null,bt.RED=!0,bt.BLACK=!1;bt.EMPTY=new class{constructor(){this.size=0}get key(){throw ue()}get value(){throw ue()}get color(){throw ue()}get left(){throw ue()}get right(){throw ue()}copy(e,n,r,i,s){return this}insert(e,n,r){return new bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new L0(this.data.getIterator())}getIteratorFrom(e){return new L0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class L0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new fn([])}unionWith(e){let n=new Rt(kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new gx("Invalid base64 string: "+s):s}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const AC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ri(t){if(Ne(!!t),typeof t=="string"){let e=0;const n=AC.exec(t);if(Ne(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function gs(t){return typeof t=="string"?Pt.fromBase64String(t):Pt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Tm(t){const e=t.mapValue.fields.__previous_value__;return Em(e)?Tm(e):e}function fl(t){const e=Ri(t.mapValue.fields.__local_write_time__.timestampValue);return new Ie(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n,r,i,s,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}class pl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new pl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof pl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function vs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Em(t)?4:DC(t)?9007199254740991:NC(t)?10:11:ue()}function ir(t,e){if(t===e)return!0;const n=vs(t);if(n!==vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fl(t).isEqual(fl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ri(i.timestampValue),l=Ri(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return gs(i.bytesValue).isEqual(gs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return st(i.geoPointValue.latitude)===st(s.geoPointValue.latitude)&&st(i.geoPointValue.longitude)===st(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return st(i.integerValue)===st(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=st(i.doubleValue),l=st(s.doubleValue);return o===l?Au(o)===Au(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return wo(t.arrayValue.values||[],e.arrayValue.values||[],ir);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(j0(o)!==j0(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!ir(o[c],l[c])))return!1;return!0}(t,e);default:return ue()}}function ml(t,e){return(t.values||[]).find(n=>ir(n,e))!==void 0}function xo(t,e){if(t===e)return 0;const n=vs(t),r=vs(e);if(n!==r)return Ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=st(s.integerValue||s.doubleValue),c=st(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return M0(t.timestampValue,e.timestampValue);case 4:return M0(fl(t),fl(e));case 5:return Ae(t.stringValue,e.stringValue);case 6:return function(s,o){const l=gs(s),c=gs(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const p=Ae(l[u],c[u]);if(p!==0)return p}return Ae(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Ae(st(s.latitude),st(o.latitude));return l!==0?l:Ae(st(s.longitude),st(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return V0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,c,u,p;const m=s.fields||{},f=o.fields||{},v=(l=m.value)===null||l===void 0?void 0:l.arrayValue,y=(c=f.value)===null||c===void 0?void 0:c.arrayValue,I=Ae(((u=v==null?void 0:v.values)===null||u===void 0?void 0:u.length)||0,((p=y==null?void 0:y.values)===null||p===void 0?void 0:p.length)||0);return I!==0?I:V0(v,y)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===bc.mapValue&&o===bc.mapValue)return 0;if(s===bc.mapValue)return 1;if(o===bc.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),u=o.fields||{},p=Object.keys(u);c.sort(),p.sort();for(let m=0;m<c.length&&m<p.length;++m){const f=Ae(c[m],p[m]);if(f!==0)return f;const v=xo(l[c[m]],u[p[m]]);if(v!==0)return v}return Ae(c.length,p.length)}(t.mapValue,e.mapValue);default:throw ue()}}function M0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ae(t,e);const n=Ri(t),r=Ri(e),i=Ae(n.seconds,r.seconds);return i!==0?i:Ae(n.nanos,r.nanos)}function V0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=xo(n[i],r[i]);if(s)return s}return Ae(n.length,r.length)}function Eo(t){return Yf(t)}function Yf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ri(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return gs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Yf(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Yf(n.fields[o])}`;return i+"}"}(t.mapValue):ue()}function Xf(t){return!!t&&"integerValue"in t}function Sm(t){return!!t&&"arrayValue"in t}function O0(t){return!!t&&"nullValue"in t}function F0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qc(t){return!!t&&"mapValue"in t}function NC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function za(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=za(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=za(t.arrayValue.values[n]);return e}return Object.assign({},t)}function DC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=za(n)}setAll(e){let n=kt.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=za(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());qc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ir(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];qc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){xs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new rn(za(this.value))}}function vx(t){const e=[];return xs(t.fields,(n,r)=>{const i=new kt([n]);if(qc(r)){const s=vx(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new zt(e,0,fe.min(),fe.min(),fe.min(),rn.empty(),0)}static newFoundDocument(e,n,r,i){return new zt(e,1,n,fe.min(),r,i,0)}static newNoDocument(e,n){return new zt(e,2,n,fe.min(),fe.min(),rn.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,fe.min(),fe.min(),rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n){this.position=e,this.inclusive=n}}function z0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=xo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function U0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ir(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n="asc"){this.field=e,this.dir=n}}function jC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{}class yt extends yx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new MC(e,n,r):n==="array-contains"?new FC(e,r):n==="in"?new zC(e,r):n==="not-in"?new UC(e,r):n==="array-contains-any"?new BC(e,r):new yt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new VC(e,r):new OC(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(xo(n,this.value)):n!==null&&vs(this.value)===vs(n)&&this.matchesComparison(xo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sr extends yx{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new sr(e,n)}matches(e){return _x(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function _x(t){return t.op==="and"}function wx(t){return LC(t)&&_x(t)}function LC(t){for(const e of t.filters)if(e instanceof sr)return!1;return!0}function Jf(t){if(t instanceof yt)return t.field.canonicalString()+t.op.toString()+Eo(t.value);if(wx(t))return t.filters.map(e=>Jf(e)).join(",");{const e=t.filters.map(n=>Jf(n)).join(",");return`${t.op}(${e})`}}function xx(t,e){return t instanceof yt?function(r,i){return i instanceof yt&&r.op===i.op&&r.field.isEqual(i.field)&&ir(r.value,i.value)}(t,e):t instanceof sr?function(r,i){return i instanceof sr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&xx(o,i.filters[l]),!0):!1}(t,e):void ue()}function Ex(t){return t instanceof yt?function(n){return`${n.field.canonicalString()} ${n.op} ${Eo(n.value)}`}(t):t instanceof sr?function(n){return n.op.toString()+" {"+n.getFilters().map(Ex).join(" ,")+"}"}(t):"Filter"}class MC extends yt{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class VC extends yt{constructor(e,n){super(e,"in",n),this.keys=Tx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class OC extends yt{constructor(e,n){super(e,"not-in",n),this.keys=Tx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Tx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class FC extends yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Sm(n)&&ml(n.arrayValue,this.value)}}class zC extends yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ml(this.value.arrayValue,n)}}class UC extends yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ml(this.value.arrayValue,n)}}class BC extends yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Sm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ml(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function B0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new $C(t,e,n,r,i,s,o)}function Im(t){const e=de(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Jf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),vd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Eo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Eo(r)).join(",")),e.ue=n}return e.ue}function bm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!jC(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!U0(t.startAt,e.startAt)&&U0(t.endAt,e.endAt)}function Zf(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function HC(t,e,n,r,i,s,o,l){return new yd(t,e,n,r,i,s,o,l)}function _d(t){return new yd(t)}function $0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function qC(t){return t.collectionGroup!==null}function Ua(t){const e=de(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Rt(kt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Nu(s,r))}),n.has(kt.keyField().canonicalString())||e.ce.push(new Nu(kt.keyField(),r))}return e.ce}function Zn(t){const e=de(t);return e.le||(e.le=Sx(e,Ua(t))),e.le}function WC(t){const e=de(t);return e.he||(e.he=Sx(e,t.explicitOrderBy)),e.he}function Sx(t,e){if(t.limitType==="F")return B0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Nu(i.field,s)});const n=t.endAt?new Pu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Pu(t.startAt.position,t.startAt.inclusive):null;return B0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ep(t,e,n){return new yd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wd(t,e){return bm(Zn(t),Zn(e))&&t.limitType===e.limitType}function Ix(t){return`${Im(Zn(t))}|lt:${t.limitType}`}function Vs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Ex(i)).join(", ")}]`),vd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Eo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Eo(i)).join(",")),`Target(${r})`}(Zn(t))}; limitType=${t.limitType})`}function xd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):oe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ua(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const u=z0(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,Ua(r),i)||r.endAt&&!function(o,l,c){const u=z0(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,Ua(r),i))}(t,e)}function GC(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bx(t){return(e,n)=>{let r=!1;for(const i of Ua(t)){const s=KC(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function KC(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(s,o,l){const c=o.data.field(s),u=l.data.field(s);return c!==null&&u!==null?xo(c,u):ue()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return mx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=new nt(oe.comparator);function jr(){return QC}const kx=new nt(oe.comparator);function Ca(...t){let e=kx;for(const n of t)e=e.insert(n.key,n);return e}function Cx(t){let e=kx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ns(){return Ba()}function Rx(){return Ba()}function Ba(){return new Lo(t=>t.toString(),(t,e)=>t.isEqual(e))}const YC=new nt(oe.comparator),XC=new Rt(oe.comparator);function Ee(...t){let e=XC;for(const n of t)e=e.add(n);return e}const JC=new Rt(Ae);function ZC(){return JC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Au(e)?"-0":e}}function Ax(t){return{integerValue:""+t}}function e3(t,e){return CC(e)?Ax(e):km(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(){this._=void 0}}function t3(t,e,n){return t instanceof Du?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Em(s)&&(s=Tm(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof To?Nx(t,e):t instanceof gl?Dx(t,e):function(i,s){const o=Px(i,s),l=H0(o)+H0(i.Pe);return Xf(o)&&Xf(i.Pe)?Ax(l):km(i.serializer,l)}(t,e)}function n3(t,e,n){return t instanceof To?Nx(t,e):t instanceof gl?Dx(t,e):n}function Px(t,e){return t instanceof ju?function(r){return Xf(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Du extends Ed{}class To extends Ed{constructor(e){super(),this.elements=e}}function Nx(t,e){const n=jx(e);for(const r of t.elements)n.some(i=>ir(i,r))||n.push(r);return{arrayValue:{values:n}}}class gl extends Ed{constructor(e){super(),this.elements=e}}function Dx(t,e){let n=jx(e);for(const r of t.elements)n=n.filter(i=>!ir(i,r));return{arrayValue:{values:n}}}class ju extends Ed{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function H0(t){return st(t.integerValue||t.doubleValue)}function jx(t){return Sm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,n){this.field=e,this.transform=n}}function i3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof To&&i instanceof To||r instanceof gl&&i instanceof gl?wo(r.elements,i.elements,ir):r instanceof ju&&i instanceof ju?ir(r.Pe,i.Pe):r instanceof Du&&i instanceof Du}(t.transform,e.transform)}class s3{constructor(e,n){this.version=e,this.transformResults=n}}class er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Td{}function Lx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Vx(t.key,er.none()):new Cl(t.key,t.data,er.none());{const n=t.data,r=rn.empty();let i=new Rt(kt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Fi(t.key,r,new fn(i.toArray()),er.none())}}function o3(t,e,n){t instanceof Cl?function(i,s,o){const l=i.value.clone(),c=W0(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Fi?function(i,s,o){if(!Wc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=W0(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(Mx(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function $a(t,e,n,r){return t instanceof Cl?function(s,o,l,c){if(!Wc(s.precondition,o))return l;const u=s.value.clone(),p=G0(s.fieldTransforms,c,o);return u.setAll(p),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fi?function(s,o,l,c){if(!Wc(s.precondition,o))return l;const u=G0(s.fieldTransforms,c,o),p=o.data;return p.setAll(Mx(s)),p.setAll(u),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,o,l){return Wc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function a3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Px(r.transform,i||null);s!=null&&(n===null&&(n=rn.empty()),n.set(r.field,s))}return n||null}function q0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&wo(r,i,(s,o)=>i3(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cl extends Td{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fi extends Td{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Mx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function W0(t,e,n){const r=new Map;Ne(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,n3(o,l,n[i]))}return r}function G0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,t3(s,o,e))}return r}class Vx extends Td{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l3 extends Td{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&o3(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$a(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$a(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Rx();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const c=Lx(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&wo(this.mutations,e.mutations,(n,r)=>q0(n,r))&&wo(this.baseMutations,e.baseMutations,(n,r)=>q0(n,r))}}class Cm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ne(e.mutations.length===r.length);let i=function(){return YC}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Cm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,ke;function f3(t){switch(t){default:return ue();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function Ox(t){if(t===void 0)return Dr("GRPC error has no .code"),B.UNKNOWN;switch(t){case ut.OK:return B.OK;case ut.CANCELLED:return B.CANCELLED;case ut.UNKNOWN:return B.UNKNOWN;case ut.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case ut.INTERNAL:return B.INTERNAL;case ut.UNAVAILABLE:return B.UNAVAILABLE;case ut.UNAUTHENTICATED:return B.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case ut.NOT_FOUND:return B.NOT_FOUND;case ut.ALREADY_EXISTS:return B.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return B.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case ut.ABORTED:return B.ABORTED;case ut.OUT_OF_RANGE:return B.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return B.UNIMPLEMENTED;case ut.DATA_LOSS:return B.DATA_LOSS;default:return ue()}}(ke=ut||(ut={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=new as([4294967295,4294967295],0);function K0(t){const e=p3().encode(t),n=new ax;return n.update(e),new Uint8Array(n.digest())}function Q0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new as([n,r],0),new as([i,s],0)]}class Rm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ra(`Invalid padding: ${n}`);if(r<0)throw new Ra(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ra(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ra(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=as.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(as.fromNumber(r)));return i.compare(m3)===1&&(i=new as([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=K0(e),[r,i]=Q0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Rm(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=K0(e),[r,i]=Q0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ra extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Rl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Sd(fe.min(),i,new nt(Ae),jr(),Ee())}}class Rl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Rl(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Fx{constructor(e,n){this.targetId=e,this.me=n}}class zx{constructor(e,n,r=Pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Y0{constructor(){this.fe=0,this.ge=J0(),this.pe=Pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ee(),n=Ee(),r=Ee();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ue()}}),new Rl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=J0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ne(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class g3{constructor(e){this.Le=e,this.Be=new Map,this.ke=jr(),this.qe=X0(),this.Qe=new nt(Ae)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ue()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Zf(s))if(r===0){const o=new oe(s.path);this.Ue(n,o,zt.newNoDocument(o,fe.min()))}else Ne(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),c=l?this.Xe(l,e,o):1;if(c!==0){this.je(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=gs(r).toUint8Array()}catch(c){if(c instanceof gx)return _o("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Rm(o,i,s)}catch(c){return _o(c instanceof Ra?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&Zf(l.target)){const c=new oe(l.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,zt.newNoDocument(c,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Ee();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Sd(e,n,this.Qe,this.ke,r);return this.ke=jr(),this.qe=X0(),this.Qe=new nt(Ae),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Y0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Rt(Ae),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Y0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function X0(){return new nt(oe.comparator)}function J0(){return new nt(oe.comparator)}const v3={asc:"ASCENDING",desc:"DESCENDING"},y3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_3={and:"AND",or:"OR"};class w3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tp(t,e){return t.useProto3Json||vd(e)?e:{value:e}}function Lu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ux(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function x3(t,e){return Lu(t,e.toTimestamp())}function tr(t){return Ne(!!t),fe.fromTimestamp(function(n){const r=Ri(n);return new Ie(r.seconds,r.nanos)}(t))}function Am(t,e){return np(t,e).canonicalString()}function np(t,e){const n=function(i){return new Xe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Bx(t){const e=Xe.fromString(t);return Ne(Kx(e)),e}function rp(t,e){return Am(t.databaseId,e.path)}function Nh(t,e){const n=Bx(e);if(n.get(1)!==t.databaseId.projectId)throw new re(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new re(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(Hx(n))}function $x(t,e){return Am(t.databaseId,e)}function E3(t){const e=Bx(t);return e.length===4?Xe.emptyPath():Hx(e)}function ip(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Hx(t){return Ne(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Z0(t,e,n){return{name:rp(t,e),fields:n.value.mapValue.fields}}function T3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,p){return u.useProto3Json?(Ne(p===void 0||typeof p=="string"),Pt.fromBase64String(p||"")):(Ne(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Pt.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const p=u.code===void 0?B.UNKNOWN:Ox(u.code);return new re(p,u.message||"")}(o);n=new zx(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Nh(t,r.document.name),s=tr(r.document.updateTime),o=r.document.createTime?tr(r.document.createTime):fe.min(),l=new rn({mapValue:{fields:r.document.fields}}),c=zt.newFoundDocument(i,s,o,l),u=r.targetIds||[],p=r.removedTargetIds||[];n=new Gc(u,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Nh(t,r.document),s=r.readTime?tr(r.readTime):fe.min(),o=zt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Gc([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Nh(t,r.document),s=r.removedTargetIds||[];n=new Gc([],s,i,null)}else{if(!("filter"in e))return ue();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new h3(i,s),l=r.targetId;n=new Fx(l,o)}}return n}function S3(t,e){let n;if(e instanceof Cl)n={update:Z0(t,e.key,e.value)};else if(e instanceof Vx)n={delete:rp(t,e.key)};else if(e instanceof Fi)n={update:Z0(t,e.key,e.data),updateMask:D3(e.fieldMask)};else{if(!(e instanceof l3))return ue();n={verify:rp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Du)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof To)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof gl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ju)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw ue()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:x3(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ue()}(t,e.precondition)),n}function I3(t,e){return t&&t.length>0?(Ne(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?tr(i.updateTime):tr(s);return o.isEqual(fe.min())&&(o=tr(s)),new s3(o,i.transformResults||[])}(n,e))):[]}function b3(t,e){return{documents:[$x(t,e.path)]}}function qx(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$x(t,i);const s=function(u){if(u.length!==0)return Gx(sr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(p=>function(f){return{field:ri(f.field),direction:A3(f.dir)}}(p))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=tp(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function k3(t,e,n,r){const{_t:i,parent:s}=qx(t,e),o={},l=[];let c=0;return n.forEach(u=>{const p="aggregate_"+c++;o[p]=u.alias,u.aggregateType==="count"?l.push({alias:p,count:{}}):u.aggregateType==="avg"?l.push({alias:p,avg:{field:ri(u.fieldPath)}}):u.aggregateType==="sum"&&l.push({alias:p,sum:{field:ri(u.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:l,structuredQuery:i.structuredQuery},parent:i.parent},ut:o,parent:s}}function C3(t){let e=E3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ne(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(m){const f=Wx(m);return f instanceof sr&&wx(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(f=>function(y){return new Nu(Os(y.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let l=null;n.limit&&(l=function(m){let f;return f=typeof m=="object"?m.value:m,vd(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(m){const f=!!m.before,v=m.values||[];return new Pu(v,f)}(n.startAt));let u=null;return n.endAt&&(u=function(m){const f=!m.before,v=m.values||[];return new Pu(v,f)}(n.endAt)),HC(e,i,o,s,l,"F",c,u)}function R3(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Wx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Os(n.unaryFilter.field);return yt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Os(n.unaryFilter.field);return yt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Os(n.unaryFilter.field);return yt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Os(n.unaryFilter.field);return yt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ue()}}(t):t.fieldFilter!==void 0?function(n){return yt.create(Os(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ue()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return sr.create(n.compositeFilter.filters.map(r=>Wx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ue()}}(n.compositeFilter.op))}(t):ue()}function A3(t){return v3[t]}function P3(t){return y3[t]}function N3(t){return _3[t]}function ri(t){return{fieldPath:t.canonicalString()}}function Os(t){return kt.fromServerFormat(t.fieldPath)}function Gx(t){return t instanceof yt?function(n){if(n.op==="=="){if(F0(n.value))return{unaryFilter:{field:ri(n.field),op:"IS_NAN"}};if(O0(n.value))return{unaryFilter:{field:ri(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(F0(n.value))return{unaryFilter:{field:ri(n.field),op:"IS_NOT_NAN"}};if(O0(n.value))return{unaryFilter:{field:ri(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ri(n.field),op:P3(n.op),value:n.value}}}(t):t instanceof sr?function(n){const r=n.getFilters().map(i=>Gx(i));return r.length===1?r[0]:{compositeFilter:{op:N3(n.op),filters:r}}}(t):ue()}function D3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Kx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n,r,i,s=fe.min(),o=fe.min(),l=Pt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e){this.ct=e}}function L3(t){const e=C3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ep(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(){this.un=new V3}addToCollectionParentIndex(e,n){return this.un.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Ci.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Ci.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class V3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Rt(Xe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Rt(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new So(0)}static kn(){return new So(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(){this.changes=new Lo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&$a(r.mutation,i,fn.empty(),Ie.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const i=ns();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ca();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ns();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=jr();const o=Ba(),l=function(){return Ba()}();return n.forEach((c,u)=>{const p=r.get(u.key);i.has(u.key)&&(p===void 0||p.mutation instanceof Fi)?s=s.insert(u.key,u):p!==void 0?(o.set(u.key,p.mutation.getFieldMask()),$a(p.mutation,u,p.mutation.getFieldMask(),Ie.now())):o.set(u.key,fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,p)=>o.set(u,p)),n.forEach((u,p)=>{var m;return l.set(u,new F3(p,(m=o.get(u))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Ba();let i=new nt((o,l)=>o-l),s=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let p=r.get(c)||fn.empty();p=l.applyToLocalView(u,p),r.set(c,p);const m=(i.get(l.batchId)||Ee()).add(c);i=i.insert(l.batchId,m)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,p=c.value,m=Rx();p.forEach(f=>{if(!s.has(f)){const v=Lx(n.get(f),r.get(f));v!==null&&m.set(f,v),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,m))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(ns());let l=-1,c=s;return o.next(u=>$.forEach(u,(p,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(p)?$.resolve():this.remoteDocumentCache.getEntry(e,p).next(f=>{c=c.insert(p,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Ee())).next(p=>({batchId:l,changes:Cx(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let i=Ca();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ca();return this.indexManager.getCollectionParents(e,s).next(l=>$.forEach(l,c=>{const u=function(m,f){return new yd(f,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(p=>{p.forEach((m,f)=>{o=o.insert(m,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const p=u.getKey();o.get(p)===null&&(o=o.insert(p,zt.newInvalidDocument(p)))});let l=Ca();return o.forEach((c,u)=>{const p=s.get(c);p!==void 0&&$a(p.mutation,u,fn.empty(),Ie.now()),xd(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return $.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:tr(i.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:L3(i.bundledQuery),readTime:tr(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(){this.overlays=new nt(oe.comparator),this.Ir=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ns();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=ns(),s=n.length+1,o=new oe(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new nt((u,p)=>u-p);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let p=s.get(u.largestBatchId);p===null&&(p=ns(),s=s.insert(u.largestBatchId,p)),p.set(u.getKey(),u)}}const l=ns(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,p)=>l.set(u,p)),!(l.size()>=i)););return $.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new u3(n,r));let s=this.Ir.get(n);s===void 0&&(s=Ee(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(){this.Tr=new Rt(wt.Er),this.dr=new Rt(wt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new wt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new wt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new oe(new Xe([])),r=new wt(n,e),i=new wt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new oe(new Xe([])),r=new wt(n,e),i=new wt(n,e+1);let s=Ee();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new wt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class wt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return oe.comparator(e.key,n.key)||Ae(e.wr,n.wr)}static Ar(e,n){return Ae(e.wr,n.wr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Rt(wt.Er)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new c3(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.br=this.br.add(new wt(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new wt(n,0),i=new wt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const l=this.Dr(o.wr);s.push(l)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Rt(Ae);return n.forEach(i=>{const s=new wt(i,0),o=new wt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],l=>{r=r.add(l.wr)})}),$.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;oe.isDocumentKey(s)||(s=s.child(""));const o=new wt(new oe(s),0);let l=new Rt(Ae);return this.br.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.wr)),!0)},o),$.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ne(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return $.forEach(n.mutations,i=>{const s=new wt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new wt(n,0),i=this.br.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e){this.Mr=e,this.docs=function(){return new nt(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let r=jr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():zt.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=jr();const o=n.path,l=new oe(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:p}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||SC(TC(p),r)<=0||(i.has(p.key)||xd(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ue()}Or(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new W3(this)}getSize(e){return $.resolve(this.size)}}class W3 extends O3{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e){this.persistence=e,this.Nr=new Lo(n=>Im(n),bm),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Pm,this.targetCount=0,this.kr=So.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),$.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new So(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Kn(n),$.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e,n){this.qr={},this.overlays={},this.Qr=new xm(0),this.Kr=!1,this.Kr=!0,this.$r=new $3,this.referenceDelegate=e(this),this.Ur=new G3(this),this.indexManager=new M3,this.remoteDocumentCache=function(i){return new q3(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new j3(n),this.Gr=new U3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new B3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new H3(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const i=new Q3(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return $.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Q3 extends bC{constructor(e){super(),this.currentSequenceNumber=e}}class Nm{constructor(e){this.persistence=e,this.Jr=new Pm,this.Yr=null}static Zr(e){return new Nm(e)}get Xr(){if(this.Yr)return this.Yr;throw ue()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),$.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Xr,r=>{const i=oe.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,fe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return $.or([()=>$.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ee(),i=Ee();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Dm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Yk()?8:kC(Bt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Y3;return this.Xi(e,n,o).next(l=>{if(s.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(fa()<=Se.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",Vs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),$.resolve()):(fa()<=Se.DEBUG&&ee("QueryEngine","Query:",Vs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(fa()<=Se.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",Vs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(n))):$.resolve())}Yi(e,n){if($0(n))return $.resolve(null);let r=Zn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ep(n,null,"F"),r=Zn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ee(...s);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ts(n,l);return this.ns(n,u,o,c.readTime)?this.Yi(e,ep(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,r,i){return $0(n)||i.isEqual(fe.min())?$.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?$.resolve(null):(fa()<=Se.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vs(n)),this.rs(e,o,n,EC(i,-1)).next(l=>l))})}ts(e,n){let r=new Rt(bx(e));return n.forEach((i,s)=>{xd(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return fa()<=Se.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Vs(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ci.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new nt(Ae),this._s=new Lo(s=>Im(s),bm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new z3(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Z3(t,e,n,r){return new J3(t,e,n,r)}async function Qx(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=Ee();for(const u of i){o.push(u.batchId);for(const p of u.mutations)c=c.add(p.key)}for(const u of s){l.push(u.batchId);for(const p of u.mutations)c=c.add(p.key)}return n.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:l}))})})}function eR(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,p){const m=u.batch,f=m.keys();let v=$.resolve();return f.forEach(y=>{v=v.next(()=>p.getEntry(c,y)).next(I=>{const C=u.docVersions.get(y);Ne(C!==null),I.version.compareTo(C)<0&&(m.applyToRemoteDocument(I,u),I.isValidDocument()&&(I.setReadTime(u.commitVersion),p.addEntry(I)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(c,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Ee();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Yx(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function tR(t,e){const n=de(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((p,m)=>{const f=i.get(m);if(!f)return;l.push(n.Ur.removeMatchingKeys(s,p.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(s,p.addedDocuments,m)));let v=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?v=v.withResumeToken(Pt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):p.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(p.resumeToken,r)),i=i.insert(m,v),function(I,C,T){return I.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(f,v,p)&&l.push(n.Ur.updateTargetData(s,v))});let c=jr(),u=Ee();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),l.push(nR(s,o,e.documentUpdates).next(p=>{c=p.Ps,u=p.Is})),!r.isEqual(fe.min())){const p=n.Ur.getLastRemoteSnapshotVersion(s).next(m=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(p)}return $.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.os=i,s))}function nR(t,e,n){let r=Ee(),i=Ee();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=jr();return n.forEach((l,c)=>{const u=s.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(fe.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):ee("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{Ps:o,Is:i}})}function rR(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function iR(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new hi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function sp(t,e,n){const r=de(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!kl(o))throw o;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function ey(t,e,n){const r=de(t);let i=fe.min(),s=Ee();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,p){const m=de(c),f=m._s.get(p);return f!==void 0?$.resolve(m.os.get(f)):m.Ur.getTargetData(u,p)}(r,o,Zn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:fe.min(),n?s:Ee())).next(l=>(sR(r,GC(e),l),{documents:l,Ts:s})))}function sR(t,e,n){let r=t.us.get(e)||fe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class ty{constructor(){this.activeTargetIds=ZC()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oR{constructor(){this.so=new ty,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ty,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc=null;function Dh(){return kc===null?kc=function(){return 268435456+Math.round(2147483648*Math.random())}():kc++,"0x"+kc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class uR extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const l=Dh(),c=this.xo(n,r.toUriEncodedString());ee("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,c,u,i).then(p=>(ee("RestConnection",`Received RPC '${n}' ${l}: `,p),p),p=>{throw _o("RestConnection",`RPC '${n}' ${l} failed with error: `,p,"url: ",c,"request:",i),p})}Lo(n,r,i,s,o,l){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=lR[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Dh();return new Promise((o,l)=>{const c=new lx;c.setWithCredentials(!0),c.listenOnce(cx.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Hc.NO_ERROR:const p=c.getResponseJson();ee(Mt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),o(p);break;case Hc.TIMEOUT:ee(Mt,`RPC '${e}' ${s} timed out`),l(new re(B.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const m=c.getStatus();if(ee(Mt,`RPC '${e}' ${s} failed with status:`,m,"response text:",c.getResponseText()),m>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const v=f==null?void 0:f.error;if(v&&v.status&&v.message){const y=function(C){const T=C.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(T)>=0?T:B.UNKNOWN}(v.status);l(new re(y,v.message))}else l(new re(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new re(B.UNAVAILABLE,"Connection failed."));break;default:ue()}}finally{ee(Mt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ee(Mt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Dh(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=hx(),l=dx(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const p=s.join("");ee(Mt,`Creating RPC '${e}' stream ${i}: ${p}`,c);const m=o.createWebChannel(p,c);let f=!1,v=!1;const y=new cR({Io:C=>{v?ee(Mt,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(f||(ee(Mt,`Opening RPC '${e}' stream ${i} transport.`),m.open(),f=!0),ee(Mt,`RPC '${e}' stream ${i} sending:`,C),m.send(C))},To:()=>m.close()}),I=(C,T,w)=>{C.listen(T,k=>{try{w(k)}catch(L){setTimeout(()=>{throw L},0)}})};return I(m,ka.EventType.OPEN,()=>{v||(ee(Mt,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),I(m,ka.EventType.CLOSE,()=>{v||(v=!0,ee(Mt,`RPC '${e}' stream ${i} transport closed`),y.So())}),I(m,ka.EventType.ERROR,C=>{v||(v=!0,_o(Mt,`RPC '${e}' stream ${i} transport errored:`,C),y.So(new re(B.UNAVAILABLE,"The operation could not be completed")))}),I(m,ka.EventType.MESSAGE,C=>{var T;if(!v){const w=C.data[0];Ne(!!w);const k=w,L=k.error||((T=k[0])===null||T===void 0?void 0:T.error);if(L){ee(Mt,`RPC '${e}' stream ${i} received error:`,L);const F=L.status;let A=function(S){const b=ut[S];if(b!==void 0)return Ox(b)}(F),E=L.message;A===void 0&&(A=B.INTERNAL,E="Unknown error status: "+F+" with message "+L.message),v=!0,y.So(new re(A,E)),m.close()}else ee(Mt,`RPC '${e}' stream ${i} received:`,w),y.bo(w)}}),I(l,ux.STAT_EVENT,C=>{C.stat===Qf.PROXY?ee(Mt,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===Qf.NOPROXY&&ee(Mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function jh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(t){return new w3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n,r,i,s,o,l,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Xx(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Dr(n.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new re(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dR extends Jx{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=T3(this.serializer,e),r=function(s){if(!("targetChange"in s))return fe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?fe.min():o.readTime?tr(o.readTime):fe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=ip(this.serializer),n.addTarget=function(s,o){let l;const c=o.target;if(l=Zf(c)?{documents:b3(s,c)}:{query:qx(s,c)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=Ux(s,o.resumeToken);const u=tp(s,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(fe.min())>0){l.readTime=Lu(s,o.snapshotVersion.toTimestamp());const u=tp(s,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=R3(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=ip(this.serializer),n.removeTarget=e,this.a_(n)}}class hR extends Jx{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,Ne(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=I3(e.writeResults,e.commitTime),r=tr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=ip(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>S3(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new re(B.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,np(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new re(B.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,np(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(B.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class pR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Dr(n),this.D_=!1):ee("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Es(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=de(c);u.L_.add(4),await Al(u),u.q_.set("Unknown"),u.L_.delete(4),await bd(u)}(this))})}),this.q_=new pR(r,i)}}async function bd(t){if(Es(t))for(const e of t.B_)await e(!0)}async function Al(t){for(const e of t.B_)await e(!1)}function Zx(t,e){const n=de(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Vm(n)?Mm(n):Mo(n).r_()&&Lm(n,e))}function jm(t,e){const n=de(t),r=Mo(n);n.N_.delete(e),r.r_()&&e2(n,e),n.N_.size===0&&(r.r_()?r.o_():Es(n)&&n.q_.set("Unknown"))}function Lm(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mo(t).A_(e)}function e2(t,e){t.Q_.xe(e),Mo(t).R_(e)}function Mm(t){t.Q_=new g3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Mo(t).start(),t.q_.v_()}function Vm(t){return Es(t)&&!Mo(t).n_()&&t.N_.size>0}function Es(t){return de(t).L_.size===0}function t2(t){t.Q_=void 0}async function gR(t){t.q_.set("Online")}async function vR(t){t.N_.forEach((e,n)=>{Lm(t,e)})}async function yR(t,e){t2(t),Vm(t)?(t.q_.M_(e),Mm(t)):t.q_.set("Unknown")}async function _R(t,e,n){if(t.q_.set("Online"),e instanceof zx&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Mu(t,r)}else if(e instanceof Gc?t.Q_.Ke(e):e instanceof Fx?t.Q_.He(e):t.Q_.We(e),!n.isEqual(fe.min()))try{const r=await Yx(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.Q_.rt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const p=s.N_.get(u);p&&s.N_.set(u,p.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const p=s.N_.get(c);if(!p)return;s.N_.set(c,p.withResumeToken(Pt.EMPTY_BYTE_STRING,p.snapshotVersion)),e2(s,c);const m=new hi(p.target,c,u,p.sequenceNumber);Lm(s,m)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){ee("RemoteStore","Failed to raise snapshot:",r),await Mu(t,r)}}async function Mu(t,e,n){if(!kl(e))throw e;t.L_.add(1),await Al(t),t.q_.set("Offline"),n||(n=()=>Yx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await bd(t)})}function n2(t,e){return e().catch(n=>Mu(t,n,e))}async function kd(t){const e=de(t),n=Ai(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;wR(e);)try{const i=await rR(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,xR(e,i)}catch(i){await Mu(e,i)}r2(e)&&i2(e)}function wR(t){return Es(t)&&t.O_.length<10}function xR(t,e){t.O_.push(e);const n=Ai(t);n.r_()&&n.V_&&n.m_(e.mutations)}function r2(t){return Es(t)&&!Ai(t).n_()&&t.O_.length>0}function i2(t){Ai(t).start()}async function ER(t){Ai(t).p_()}async function TR(t){const e=Ai(t);for(const n of t.O_)e.m_(n.mutations)}async function SR(t,e,n){const r=t.O_.shift(),i=Cm.from(r,e,n);await n2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await kd(t)}async function IR(t,e){e&&Ai(t).V_&&await async function(r,i){if(function(o){return f3(o)&&o!==B.ABORTED}(i.code)){const s=r.O_.shift();Ai(r).s_(),await n2(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await kd(r)}}(t,e),r2(t)&&i2(t)}async function ry(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");const r=Es(n);n.L_.add(3),await Al(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await bd(n)}async function bR(t,e){const n=de(t);e?(n.L_.delete(2),await bd(n)):e||(n.L_.add(2),await Al(n),n.q_.set("Unknown"))}function Mo(t){return t.K_||(t.K_=function(n,r,i){const s=de(n);return s.w_(),new dR(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:gR.bind(null,t),Ro:vR.bind(null,t),mo:yR.bind(null,t),d_:_R.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Vm(t)?Mm(t):t.q_.set("Unknown")):(await t.K_.stop(),t2(t))})),t.K_}function Ai(t){return t.U_||(t.U_=function(n,r,i){const s=de(n);return s.w_(),new hR(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:ER.bind(null,t),mo:IR.bind(null,t),f_:TR.bind(null,t),g_:SR.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await kd(t)):(await t.U_.stop(),t.O_.length>0&&(ee("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new Om(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fm(t,e){if(Dr("AsyncQueue",`${e}: ${t}`),kl(t))return new re(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=Ca(),this.sortedSet=new nt(this.comparator)}static emptySet(e){return new io(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof io)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new io;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(){this.W_=new nt(oe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ue():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Io{constructor(e,n,r,i,s,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Io(e,n,io.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class CR{constructor(){this.queries=sy(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=de(n),s=i.queries;i.queries=sy(),s.forEach((o,l)=>{for(const c of l.j_)c.onError(r)})})(this,new re(B.ABORTED,"Firestore shutting down"))}}function sy(){return new Lo(t=>Ix(t),wd)}async function zm(t,e){const n=de(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new kR,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=Fm(o,`Initialization of query '${Vs(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Bm(n)}async function Um(t,e){const n=de(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function RR(t,e){const n=de(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.j_)l.X_(i)&&(r=!0);o.z_=i}}r&&Bm(n)}function AR(t,e,n){const r=de(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Bm(t){t.Y_.forEach(e=>{e.next()})}var op,oy;(oy=op||(op={})).ea="default",oy.Cache="cache";class $m{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Io(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==op.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.key=e}}class o2{constructor(e){this.key=e}}class PR{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ee(),this.mutatedKeys=Ee(),this.Aa=bx(e),this.Ra=new io(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new iy,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{const f=i.get(p),v=xd(this.query,m)?m:null,y=!!f&&this.mutatedKeys.has(f.key),I=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let C=!1;f&&v?f.data.isEqual(v.data)?y!==I&&(r.track({type:3,doc:v}),C=!0):this.ga(f,v)||(r.track({type:2,doc:v}),C=!0,(c&&this.Aa(v,c)>0||u&&this.Aa(v,u)<0)&&(l=!0)):!f&&v?(r.track({type:0,doc:v}),C=!0):f&&!v&&(r.track({type:1,doc:f}),C=!0,(c||u)&&(l=!0)),C&&(v?(o=o.add(v),s=I?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Ra:o,fa:r,ns:l,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((p,m)=>function(v,y){const I=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue()}};return I(v)-I(y)}(p.type,m.type)||this.Aa(p.doc,m.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,o.length!==0||u?{snapshot:new Io(this.query,e.Ra,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new iy,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ee(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new o2(r))}),this.da.forEach(r=>{e.has(r)||n.push(new s2(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ee();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Io.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class NR{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class DR{constructor(e){this.key=e,this.va=!1}}class jR{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Lo(l=>Ix(l),wd),this.Ma=new Map,this.xa=new Set,this.Oa=new nt(oe.comparator),this.Na=new Map,this.La=new Pm,this.Ba={},this.ka=new Map,this.qa=So.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function LR(t,e,n=!0){const r=h2(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await a2(r,e,n,!0),i}async function MR(t,e){const n=h2(t);await a2(n,e,!0,!1)}async function a2(t,e,n,r){const i=await iR(t.localStore,Zn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await VR(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Zx(t.remoteStore,i),l}async function VR(t,e,n,r,i){t.Ka=(m,f,v)=>async function(I,C,T,w){let k=C.view.ma(T);k.ns&&(k=await ey(I.localStore,C.query,!1).then(({documents:E})=>C.view.ma(E,k)));const L=w&&w.targetChanges.get(C.targetId),F=w&&w.targetMismatches.get(C.targetId)!=null,A=C.view.applyChanges(k,I.isPrimaryClient,L,F);return ly(I,C.targetId,A.wa),A.snapshot}(t,m,f,v);const s=await ey(t.localStore,e,!0),o=new PR(e,s.Ts),l=o.ma(s.documents),c=Rl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(l,t.isPrimaryClient,c);ly(t,n,u.wa);const p=new NR(e,n,o);return t.Fa.set(e,p),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function OR(t,e,n){const r=de(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!wd(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await sp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&jm(r.remoteStore,i.targetId),ap(r,i.targetId)}).catch(bl)):(ap(r,i.targetId),await sp(r.localStore,i.targetId,!0))}async function FR(t,e){const n=de(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),jm(n.remoteStore,r.targetId))}async function zR(t,e,n){const r=GR(t);try{const i=await function(o,l){const c=de(o),u=Ie.now(),p=l.reduce((v,y)=>v.add(y.key),Ee());let m,f;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let y=jr(),I=Ee();return c.cs.getEntries(v,p).next(C=>{y=C,y.forEach((T,w)=>{w.isValidDocument()||(I=I.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,y)).next(C=>{m=C;const T=[];for(const w of l){const k=a3(w,m.get(w.key).overlayedDocument);k!=null&&T.push(new Fi(w.key,k,vx(k.value.mapValue),er.exists(!0)))}return c.mutationQueue.addMutationBatch(v,u,T,l)}).next(C=>{f=C;const T=C.applyToLocalDocumentSet(m,I);return c.documentOverlayCache.saveOverlays(v,C.batchId,T)})}).then(()=>({batchId:f.batchId,changes:Cx(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let u=o.Ba[o.currentUser.toKey()];u||(u=new nt(Ae)),u=u.insert(l,c),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Pl(r,i.changes),await kd(r.remoteStore)}catch(i){const s=Fm(i,"Failed to persist write");n.reject(s)}}async function l2(t,e){const n=de(t);try{const r=await tR(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ne(o.va):i.removedDocuments.size>0&&(Ne(o.va),o.va=!1))}),await Pl(n,r,e)}catch(r){await bl(r)}}function ay(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const l=o.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=de(o);c.onlineState=l;let u=!1;c.queries.forEach((p,m)=>{for(const f of m.j_)f.Z_(l)&&(u=!0)}),u&&Bm(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function UR(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new nt(oe.comparator);o=o.insert(s,zt.newNoDocument(s,fe.min()));const l=Ee().add(s),c=new Sd(fe.min(),new Map,new nt(Ae),o,l);await l2(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(e),Hm(r)}else await sp(r.localStore,e,!1).then(()=>ap(r,e,n)).catch(bl)}async function BR(t,e){const n=de(t),r=e.batch.batchId;try{const i=await eR(n.localStore,e);u2(n,r,null),c2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pl(n,i)}catch(i){await bl(i)}}async function $R(t,e,n){const r=de(t);try{const i=await function(o,l){const c=de(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let p;return c.mutationQueue.lookupMutationBatch(u,l).next(m=>(Ne(m!==null),p=m.keys(),c.mutationQueue.removeMutationBatch(u,m))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,p,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,p)).next(()=>c.localDocuments.getDocuments(u,p))})}(r.localStore,e);u2(r,e,n),c2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Pl(r,i)}catch(i){await bl(i)}}function c2(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function u2(t,e,n){const r=de(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function ap(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||d2(t,r)})}function d2(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(jm(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Hm(t))}function ly(t,e,n){for(const r of n)r instanceof s2?(t.La.addReference(r.key,e),HR(t,r)):r instanceof o2?(ee("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||d2(t,r.key)):ue()}function HR(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ee("SyncEngine","New document in limbo: "+n),t.xa.add(r),Hm(t))}function Hm(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new oe(Xe.fromString(e)),r=t.qa.next();t.Na.set(r,new DR(n)),t.Oa=t.Oa.insert(n,r),Zx(t.remoteStore,new hi(Zn(_d(n.path)),r,"TargetPurposeLimboResolution",xm.oe))}}async function Pl(t,e,n){const r=de(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,c)=>{o.push(r.Ka(c,e,n).then(u=>{var p;if((u||n)&&r.isPrimaryClient){const m=u?!u.fromCache:(p=n==null?void 0:n.targetChanges.get(c.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(u){i.push(u);const m=Dm.Wi(c.targetId,u);s.push(m)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(c,u){const p=de(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>$.forEach(u,f=>$.forEach(f.$i,v=>p.persistence.referenceDelegate.addReference(m,f.targetId,v)).next(()=>$.forEach(f.Ui,v=>p.persistence.referenceDelegate.removeReference(m,f.targetId,v)))))}catch(m){if(!kl(m))throw m;ee("LocalStore","Failed to update sequence numbers: "+m)}for(const m of u){const f=m.targetId;if(!m.fromCache){const v=p.os.get(f),y=v.snapshotVersion,I=v.withLastLimboFreeSnapshotVersion(y);p.os=p.os.insert(f,I)}}}(r.localStore,s))}async function qR(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());const r=await Qx(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(l=>{l.forEach(c=>{c.reject(new re(B.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pl(n,r.hs)}}function WR(t,e){const n=de(t),r=n.Na.get(e);if(r&&r.va)return Ee().add(r.key);{let i=Ee();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const l=n.Fa.get(o);i=i.unionWith(l.view.Va)}return i}}function h2(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=l2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UR.bind(null,e),e.Ca.d_=RR.bind(null,e.eventManager),e.Ca.$a=AR.bind(null,e.eventManager),e}function GR(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$R.bind(null,e),e}class Vu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Id(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Z3(this.persistence,new X3,e.initialUser,this.serializer)}Ga(e){return new K3(Nm.Zr,this.serializer)}Wa(e){return new oR}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vu.provider={build:()=>new Vu};class lp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ay(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qR.bind(null,this.syncEngine),await bR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new CR}()}createDatastore(e){const n=Id(e.databaseInfo.databaseId),r=function(s){return new uR(s)}(e.databaseInfo);return function(s,o,l,c){return new fR(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new mR(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>ay(this.syncEngine,n,0),function(){return ny.D()?new ny:new aR}())}createSyncEngine(e,n){return function(i,s,o,l,c,u,p){const m=new jR(i,s,o,l,c,u);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=de(i);ee("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Al(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}lp.provider={build:()=>new lp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Dr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ot.UNAUTHENTICATED,this.clientId=px.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{ee("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ee("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Fm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Lh(t,e){t.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Qx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function cy(t,e){t.asyncQueue.verifyOperationInProgress();const n=await QR(t);ee("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ry(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ry(e.remoteStore,i)),t._onlineComponents=e}async function QR(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await Lh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;_o("Error using user provided cache. Falling back to memory cache: "+n),await Lh(t,new Vu)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),await Lh(t,new Vu);return t._offlineComponents}async function Wm(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),await cy(t,t._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),await cy(t,new lp))),t._onlineComponents}function YR(t){return Wm(t).then(e=>e.syncEngine)}function XR(t){return Wm(t).then(e=>e.datastore)}async function Ou(t){const e=await Wm(t),n=e.eventManager;return n.onListen=LR.bind(null,e.syncEngine),n.onUnlisten=OR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FR.bind(null,e.syncEngine),n}function JR(t,e,n={}){const r=new Jn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,u){const p=new qm({next:f=>{p.Za(),o.enqueueAndForget(()=>Um(s,m));const v=f.docs.has(l);!v&&f.fromCache?u.reject(new re(B.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&f.fromCache&&c&&c.source==="server"?u.reject(new re(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),m=new $m(_d(l.path),p,{includeMetadataChanges:!0,_a:!0});return zm(s,m)}(await Ou(t),t.asyncQueue,e,n,r)),r.promise}function ZR(t,e,n={}){const r=new Jn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,u){const p=new qm({next:f=>{p.Za(),o.enqueueAndForget(()=>Um(s,m)),f.fromCache&&c.source==="server"?u.reject(new re(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),m=new $m(l,p,{includeMetadataChanges:!0,_a:!0});return zm(s,m)}(await Ou(t),t.asyncQueue,e,n,r)),r.promise}function eA(t,e,n){const r=new Jn;return t.asyncQueue.enqueueAndForget(async()=>{try{const i=await XR(t);r.resolve(async function(o,l,c){var u;const p=de(o),{request:m,ut:f,parent:v}=k3(p.serializer,WC(l),c);p.connection.Fo||delete m.parent;const y=(await p.Lo("RunAggregationQuery",p.serializer.databaseId,v,m,1)).filter(C=>!!C.result);Ne(y.length===1);const I=(u=y[0].result)===null||u===void 0?void 0:u.aggregateFields;return Object.keys(I).reduce((C,T)=>(C[f[T]]=I[T],C),{})}(i,e,n))}catch(i){r.reject(i)}}),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(t,e,n){if(!n)throw new re(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tA(t,e,n,r){if(e===!0&&r===!0)throw new re(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dy(t){if(!oe.isDocumentKey(t))throw new re(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hy(t){if(oe.isDocumentKey(t))throw new re(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Gm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ue()}function mn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new re(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gm(t);throw new re(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new re(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new re(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=f2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new re(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new re(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new re(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fy(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new fC;switch(r.type){case"firstParty":return new vC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=uy.get(n);r&&(ee("ComponentProvider","Removing Datastore"),uy.delete(n),r.terminate())}(this),Promise.resolve()}}function nA(t,e,n,r={}){var i;const s=(t=mn(t,Cd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=Ot.MOCK_USER;else{l=$k(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new re(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ot(u)}t._authCredentials=new pC(new fx(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Nl(this.firestore,e,this._query)}}class Gt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Si(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}}class Si extends Nl{constructor(e,n,r){super(e,n,_d(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new oe(e))}withConverter(e){return new Si(this.firestore,e,this._path)}}function m2(t,e,...n){if(t=Kt(t),p2("collection","path",e),t instanceof Cd){const r=Xe.fromString(e,...n);return hy(r),new Si(t,null,r)}{if(!(t instanceof Gt||t instanceof Si))throw new re(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return hy(r),new Si(t.firestore,null,r)}}function br(t,e,...n){if(t=Kt(t),arguments.length===1&&(e=px.newId()),p2("doc","path",e),t instanceof Cd){const r=Xe.fromString(e,...n);return dy(r),new Gt(t,null,new oe(r))}{if(!(t instanceof Gt||t instanceof Si))throw new re(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return dy(r),new Gt(t.firestore,t instanceof Si?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Xx(this,"async_queue_retry"),this.Vu=()=>{const r=jh();r&&ee("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=jh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=jh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Jn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!kl(e))throw e;ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Dr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Om.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ue()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function my(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Pi extends Cd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new py,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new py(e),this._firestoreClient=void 0,await e}}}function rA(t,e){const n=typeof t=="object"?t:ix(),r=typeof t=="string"?t:"(default)",i=_m(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Uk("firestore");s&&nA(i,...s)}return i}function Dl(t){if(t._terminated)throw new re(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||iA(t),t._firestoreClient}function iA(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,u,p){return new PC(l,c,u,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,f2(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new KR(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class oA{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bo(Pt.fromBase64String(e))}catch(n){throw new re(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bo(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=/^__.*__$/;class lA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cl(e,this.data,n,this.fieldTransforms)}}class g2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function v2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue()}}class Pd{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Pd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return zu(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(v2(this.Cu)&&aA.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class cA{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Id(e)}Qu(e,n,r,i=!1){return new Pd({Cu:e,methodName:n,qu:r,path:kt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function y2(t){const e=t._freezeSettings(),n=Id(t._databaseId);return new cA(t._databaseId,!!e.ignoreUndefinedProperties,n)}function uA(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Xm("Data must be an object, but it was:",o,r);const l=_2(r,o);let c,u;if(s.merge)c=new fn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const p=[];for(const m of s.mergeFields){const f=Fu(e,m,n);if(!o.contains(f))throw new re(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);x2(p,f)||p.push(f)}c=new fn(p),u=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,u=o.fieldTransforms;return new lA(new rn(l),c,u)}class Nd extends Ad{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nd}}function dA(t,e,n){return new Pd({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ym extends Ad{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=dA(this,e,!0),r=this.Ku.map(s=>jl(s,n)),i=new To(r);return new r3(e.path,i)}isEqual(e){return e instanceof Ym&&ul(this.Ku,e.Ku)}}function hA(t,e,n,r){const i=t.Qu(1,e,n);Xm("Data must be an object, but it was:",i,r);const s=[],o=rn.empty();xs(r,(c,u)=>{const p=Jm(e,c,n);u=Kt(u);const m=i.Nu(p);if(u instanceof Nd)s.push(p);else{const f=jl(u,m);f!=null&&(s.push(p),o.set(p,f))}});const l=new fn(s);return new g2(o,l,i.fieldTransforms)}function fA(t,e,n,r,i,s){const o=t.Qu(1,e,n),l=[Fu(e,r,n)],c=[i];if(s.length%2!=0)throw new re(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)l.push(Fu(e,s[f])),c.push(s[f+1]);const u=[],p=rn.empty();for(let f=l.length-1;f>=0;--f)if(!x2(u,l[f])){const v=l[f];let y=c[f];y=Kt(y);const I=o.Nu(v);if(y instanceof Nd)u.push(v);else{const C=jl(y,I);C!=null&&(u.push(v),p.set(v,C))}}const m=new fn(u);return new g2(p,m,o.fieldTransforms)}function jl(t,e){if(w2(t=Kt(t)))return Xm("Unsupported field value:",e,t),_2(t,e);if(t instanceof Ad)return function(r,i){if(!v2(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let c=jl(l,i.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return e3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ie.fromDate(r);return{timestampValue:Lu(i.serializer,s)}}if(r instanceof Ie){const s=new Ie(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lu(i.serializer,s)}}if(r instanceof Km)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bo)return{bytesValue:Ux(i.serializer,r._byteString)};if(r instanceof Gt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Am(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Qm)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return km(l.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Gm(r)}`)}(t,e)}function _2(t,e){const n={};return mx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xs(t,(r,i)=>{const s=jl(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function w2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ie||t instanceof Km||t instanceof bo||t instanceof Gt||t instanceof Ad||t instanceof Qm)}function Xm(t,e,n){if(!w2(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Gm(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Fu(t,e,n){if((e=Kt(e))instanceof Rd)return e._internalPath;if(typeof e=="string")return Jm(t,e);throw zu("Field path arguments must be of type string or ",t,!1,void 0,n)}const pA=new RegExp("[~\\*/\\[\\]]");function Jm(t,e,n){if(e.search(pA)>=0)throw zu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Rd(...e.split("."))._internalPath}catch{throw zu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zu(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new re(B.INVALID_ARGUMENT,l+t+c)}function x2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(T2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mA extends E2{data(){return super.data()}}function T2(t,e){return typeof e=="string"?Jm(t,e):e instanceof Rd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new re(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gA{convertValue(e,n="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ue()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>st(o.doubleValue));return new Qm(s)}convertGeoPoint(e){return new Km(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Tm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fl(e));default:return null}}convertTimestamp(e){const n=Ri(e);return new Ie(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Xe.fromString(e);Ne(Kx(r));const i=new pl(r.get(1),r.get(3)),s=new oe(r.popFirst(5));return i.isEqual(n)||Dr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(t,e,n){let r;return r=t?t.toFirestore(e):e,r}function yA(t){return new sA("avg",Fu("average",t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class I2 extends E2{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(T2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Kc extends I2{data(e={}){return super.data(e)}}class b2{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Aa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Kc(this._firestore,this._userDataWriter,r.key,r,new Aa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new Kc(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Aa(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new Kc(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Aa(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,p=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),p=o.indexOf(l.doc.key)),{type:_A(l.type),doc:c,oldIndex:u,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function _A(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(t){t=mn(t,Gt);const e=mn(t.firestore,Pi);return JR(Dl(e),t._key).then(n=>P2(e,t,n))}class Dd extends gA{constructor(e){super(),this.firestore=e}convertBytes(e){return new bo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,n)}}function wA(t){t=mn(t,Nl);const e=mn(t.firestore,Pi),n=Dl(e),r=new Dd(e);return S2(t._query),ZR(n,t._query).then(i=>new b2(e,r,t,i))}function C2(t,e,n){t=mn(t,Gt);const r=mn(t.firestore,Pi),i=vA(t.converter,e);return A2(r,[uA(y2(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,er.none())])}function R2(t,e,n,...r){t=mn(t,Gt);const i=mn(t.firestore,Pi),s=y2(i);let o;return o=typeof(e=Kt(e))=="string"||e instanceof Rd?fA(s,"updateDoc",t._key,e,n,r):hA(s,"updateDoc",t._key,e),A2(i,[o.toMutation(t._key,er.exists(!0))])}function cp(t,...e){var n,r,i;t=Kt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||my(e[o])||(s=e[o],o++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(my(e[o])){const m=e[o];e[o]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[o+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[o+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let c,u,p;if(t instanceof Gt)u=mn(t.firestore,Pi),p=_d(t._key.path),c={next:m=>{e[o]&&e[o](P2(u,t,m))},error:e[o+1],complete:e[o+2]};else{const m=mn(t,Nl);u=mn(m.firestore,Pi),p=m._query;const f=new Dd(u);c={next:v=>{e[o]&&e[o](new b2(u,f,m,v))},error:e[o+1],complete:e[o+2]},S2(t._query)}return function(f,v,y,I){const C=new qm(I),T=new $m(v,C,y);return f.asyncQueue.enqueueAndForget(async()=>zm(await Ou(f),T)),()=>{C.Za(),f.asyncQueue.enqueueAndForget(async()=>Um(await Ou(f),T))}}(Dl(u),p,l,c)}function A2(t,e){return function(r,i){const s=new Jn;return r.asyncQueue.enqueueAndForget(async()=>zR(await YR(r),i,s)),s.promise}(Dl(t),e)}function P2(t,e,n){const r=n.docs.get(e._key),i=new Dd(t);return new I2(t,i,e._key,r,new Aa(n.hasPendingWrites,n.fromCache),e.converter)}function xA(t,e){const n=mn(t.firestore,Pi),r=Dl(n),i=RC(e,(s,o)=>new d3(o,s.aggregateType,s._internalFieldPath));return eA(r,t._query,i).then(s=>function(l,c,u){const p=new Dd(l);return new oA(c,p,u)}(n,t,s))}function EA(...t){return new Ym("arrayUnion",t)}(function(e,n=!0){(function(i){jo=i})(Do),yo(new ps("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Pi(new mC(r.getProvider("auth-internal")),new _C(r.getProvider("app-check-internal")),function(u,p){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new re(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pl(u.options.projectId,p)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Ti(D0,"4.7.3",e),Ti(D0,"4.7.3","esm2017")})();var TA="firebase",SA="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ti(TA,SA,"app");const IA={apiKey:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",authDomain:void 0,projectId:"cob-chatbot",storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0},bA=rx(IA),N2=rA(bA),kr=m2(N2,"users"),gy=m2(N2,"profile"),ft=qt.createContext({}),Qn={name:"Vivienne",slogan:"Tanong mo, sagot ko, dahil at home ka dito!",introduction:"The interactive chatbot for the city of Bacoor, Cavite.",about:"Our capstone project that uses Natural Language Processing (NLP) to deliver smooth experience for the users. The bot is temporarily being hosted by the dummy website we created based on the official website of the Bacoor City Hall. We really hope you have enjoyed using our app! "},vy="/user/assets/logo-BHR7zzJX.png",kA=({children:t})=>{const[e,n]=R.useState({icon:vy,widgetIcon:vy,name:Qn.name,slogan:Qn.slogan}),[r,i]=R.useState([]),[s,o]=R.useState([]),[l,c]=R.useState([]),[u,p]=R.useState(!0),[m,f]=R.useState(!1),[v,y]=R.useState(!1),[I,C]=R.useState(!1),T=async()=>{try{console.time("Received bot info in"),cp(br(gy,"botProfile"),L=>{var F,A,E,_,S;n({icon:(F=L.data())==null?void 0:F.interactionIconURL,widgetIcon:(A=L.data())==null?void 0:A.widgetIconUrl,name:(E=L.data())==null?void 0:E.botName,slogan:(_=L.data())==null?void 0:_.metadata.slogan,initialGreet:` Hello there! My name is ${(S=L.data())==null?void 0:S.botName}, your friendly chatbot assistant. Welcome to our conversation! Whether you're here for assistance or information I'm here to help. Feel free to ask me anything or simply say hi.`,errorMessage:"Sorry, I can't seem to understand what your saying. Could you please try it again?"})})}catch(L){console.log(L)}finally{console.timeEnd("Received bot info in")}},w=async()=>{try{console.time("Received suggested queries"),cp(br(gy,"queries"),L=>{var F,A;L.exists()&&(o((F=L.data())==null?void 0:F.menuAccessQuery),c((A=L.data())==null?void 0:A.quickAccessQuery))}),console.timeEnd("Received suggested queries")}catch(L){console.log(L)}};R.useEffect(()=>{p(navigator.onLine),T(),w()},[]),window.addEventListener("online",()=>{p(!0)}),window.addEventListener("offline",()=>{p(!1)});const k=R.useMemo(()=>({configuration:{configuration:e,setConfiguration:n},conversation:{conversation:r,setConversation:i},menuAccessQuery:{menuAccessQueries:s,setMenuAccessQueries:o},quickAccessQuery:{quickAccessQueries:l,setQuickAccessQueries:c},error:{error:m,setError:f},isOnline:{isOnline:u,setOnline:p},isTyping:{isBotTyping:v,setIsBotTyping:y},isChatPaused:{isChatPaused:I,setIsChatPaused:C}}),[e,r,s,l,m,u,v,I]);return d.jsx(ft.Provider,{value:k,children:t})};function Zm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function D2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CA=D2,j2=new Sl("auth","Firebase",D2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=new vm("@firebase/auth");function RA(t,...e){Uu.logLevel<=Se.WARN&&Uu.warn(`Auth (${Do}): ${t}`,...e)}function Qc(t,...e){Uu.logLevel<=Se.ERROR&&Uu.error(`Auth (${Do}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(t,...e){throw eg(t,...e)}function nr(t,...e){return eg(t,...e)}function L2(t,e,n){const r=Object.assign(Object.assign({},CA()),{[e]:n});return new Sl("auth","Firebase",r).create(e,{appName:t.name})}function Ii(t){return L2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return j2.create(t,...e)}function ce(t,e,...n){if(!t)throw eg(e,...n)}function xr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qc(e),new Error(e)}function Mr(t,e){t||xr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function AA(){return yy()==="http:"||yy()==="https:"}function yy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AA()||Gk()||"connection"in navigator)?navigator.onLine:!0}function NA(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mr(n>e,"Short delay should be less than long delay!"),this.isMobile=Hk()||Kk()}get(){return PA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(t,e){Mr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=new Ll(3e4,6e4);function jd(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Vo(t,e,n,r,i={}){return V2(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=Il(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},s);return Wk()||(u.referrerPolicy="no-referrer"),M2.fetch()(F2(t,t.config.apiHost,n,l),u)})}async function V2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},DA),e);try{const i=new LA(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Cc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Cc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Cc(t,"user-disabled",o);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw L2(t,p,u);Lr(t,p)}}catch(i){if(i instanceof Or)throw i;Lr(t,"network-request-failed",{message:String(i)})}}async function O2(t,e,n,r,i={}){const s=await Vo(t,e,n,r,i);return"mfaPendingCredential"in s&&Lr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function F2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?tg(t.config,i):`${t.config.apiScheme}://${i}`}class LA{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(nr(this.auth,"network-request-failed")),jA.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=nr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MA(t,e){return Vo(t,"POST","/v1/accounts:delete",e)}async function z2(t,e){return Vo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VA(t,e=!1){const n=Kt(t),r=await n.getIdToken(e),i=ng(r);ce(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ha(Mh(i.auth_time)),issuedAtTime:Ha(Mh(i.iat)),expirationTime:Ha(Mh(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Mh(t){return Number(t)*1e3}function ng(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const i=Xw(n);return i?JSON.parse(i):(Qc("Failed to decode base64 JWT payload"),null)}catch(i){return Qc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _y(t){const e=ng(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Or&&OA(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function OA({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ha(this.lastLoginAt),this.creationTime=Ha(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await vl(t,z2(n,{idToken:r}));ce(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?U2(s.providerUserInfo):[],l=UA(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),p=c?u:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new dp(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function zA(t){const e=Kt(t);await Bu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UA(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function U2(t){return t.map(e=>{var{providerId:n}=e,r=Zm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BA(t,e){const n=await V2(t,{},async()=>{const r=Il({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=F2(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",M2.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $A(t,e){return Vo(t,"POST","/v2/accounts:revokeToken",jd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_y(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ce(e.length!==0,"internal-error");const n=_y(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await BA(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new so;return r&&(ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ce(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ce(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new so,this.toJSON())}_performRefresh(){return xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Er{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Zm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new FA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new dp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await vl(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return VA(this,e)}reload(){return zA(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Er(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Bu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wr(this.auth.app))return Promise.reject(Ii(this.auth));const e=await this.getIdToken();return await vl(this,MA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,c,u,p;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,I=(l=n.tenantId)!==null&&l!==void 0?l:void 0,C=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,T=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:k,emailVerified:L,isAnonymous:F,providerData:A,stsTokenManager:E}=n;ce(k&&E,e,"internal-error");const _=so.fromJSON(this.name,E);ce(typeof k=="string",e,"internal-error"),Gr(m,e.name),Gr(f,e.name),ce(typeof L=="boolean",e,"internal-error"),ce(typeof F=="boolean",e,"internal-error"),Gr(v,e.name),Gr(y,e.name),Gr(I,e.name),Gr(C,e.name),Gr(T,e.name),Gr(w,e.name);const S=new Er({uid:k,auth:e,email:f,emailVerified:L,displayName:m,isAnonymous:F,photoURL:y,phoneNumber:v,tenantId:I,stsTokenManager:_,createdAt:T,lastLoginAt:w});return A&&Array.isArray(A)&&(S.providerData=A.map(b=>Object.assign({},b))),C&&(S._redirectEventId=C),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new so;i.updateFromServerResponse(n);const s=new Er({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Bu(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ce(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?U2(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new so;l.updateFromIdToken(r);const c=new Er({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new dp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy=new Map;function Tr(t){Mr(t instanceof Function,"Expected a class definition");let e=wy.get(t);return e?(Mr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}B2.type="NONE";const xy=B2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t,e,n){return`firebase:${t}:${e}:${n}`}class oo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Yc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Yc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Er._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new oo(Tr(xy),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Tr(xy);const o=Yc(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const p=await u._get(o);if(p){const m=Er._fromJSON(e,p);u!==s&&(l=m),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new oo(s,e,r):(s=c[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new oo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(W2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(K2(e))return"Blackberry";if(Q2(e))return"Webos";if(H2(e))return"Safari";if((e.includes("chrome/")||q2(e))&&!e.includes("edge/"))return"Chrome";if(G2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $2(t=Bt()){return/firefox\//i.test(t)}function H2(t=Bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function q2(t=Bt()){return/crios\//i.test(t)}function W2(t=Bt()){return/iemobile/i.test(t)}function G2(t=Bt()){return/android/i.test(t)}function K2(t=Bt()){return/blackberry/i.test(t)}function Q2(t=Bt()){return/webos/i.test(t)}function rg(t=Bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function HA(t=Bt()){var e;return rg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qA(){return Qk()&&document.documentMode===10}function Y2(t=Bt()){return rg(t)||G2(t)||Q2(t)||K2(t)||/windows phone/i.test(t)||W2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(t,e=[]){let n;switch(t){case"Browser":n=Ey(Bt());break;case"Worker":n=`${Ey(Bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Do}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const c=e(s);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GA(t,e={}){return Vo(t,"GET","/v2/passwordPolicy",jd(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=6;class QA{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:KA,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ty(this),this.idTokenSubscription=new Ty(this),this.beforeStateQueue=new WA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=j2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Tr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await oo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await z2(this,{idToken:e}),r=await Er._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(wr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wr(this.app))return Promise.reject(Ii(this));const n=e?Kt(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wr(this.app)?Promise.reject(Ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wr(this.app)?Promise.reject(Ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GA(this),n=new QA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $A(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Tr(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[Tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=X2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&RA(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ld(t){return Kt(t)}class Ty{constructor(e){this.auth=e,this.observer=null,this.addObserver=r4(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ig={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XA(t){ig=t}function JA(t){return ig.loadJS(t)}function ZA(){return ig.gapiScript}function eP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(t,e){const n=_m(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ul(s,e??{}))return i;Lr(i,"already-initialized")}return n.initialize({options:e})}function nP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Tr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function rP(t,e,n){const r=Ld(t);ce(r._canInitEmulator,r,"emulator-config-failed"),ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=J2(e),{host:o,port:l}=iP(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),sP()}function J2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function iP(t){const e=J2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Sy(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Sy(o)}}}function Sy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function sP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xr("not implemented")}_getIdTokenResponse(e){return xr("not implemented")}_linkToIdToken(e,n){return xr("not implemented")}_getReauthenticationResolver(e){return xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(t,e){return O2(t,"POST","/v1/accounts:signInWithIdp",jd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP="http://localhost";class ys extends Z2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Lr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Zm(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ys(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ao(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ao(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ao(e,n)}buildRequest(){const e={requestUri:oP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Il(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends eE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends Ml{constructor(){super("facebook.com")}static credential(e){return ys._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ii.credential(e.oauthAccessToken)}catch{return null}}}ii.FACEBOOK_SIGN_IN_METHOD="facebook.com";ii.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends Ml{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ys._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return si.credential(n,r)}catch{return null}}}si.GOOGLE_SIGN_IN_METHOD="google.com";si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends Ml{constructor(){super("github.com")}static credential(e){return ys._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.GITHUB_SIGN_IN_METHOD="github.com";oi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends Ml{constructor(){super("twitter.com")}static credential(e,n){return ys._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ai.credential(n,r)}catch{return null}}}ai.TWITTER_SIGN_IN_METHOD="twitter.com";ai.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aP(t,e){return O2(t,"POST","/v1/accounts:signUp",jd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Er._fromIdTokenResponse(e,r,i),o=Iy(r);return new Ni({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Iy(r);return new Ni({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Iy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lP(t){var e;if(wr(t.app))return Promise.reject(Ii(t));const n=Ld(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ni({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await aP(n,{returnSecureToken:!0}),i=await Ni._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends Or{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,$u.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new $u(e,n,r,i)}}function tE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?$u._fromErrorAndOperation(t,s,e,r):s})}async function cP(t,e,n=!1){const r=await vl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ni._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uP(t,e,n=!1){const{auth:r}=t;if(wr(r.app))return Promise.reject(Ii(r));const i="reauthenticate";try{const s=await vl(t,tE(r,i,e,t),n);ce(s.idToken,r,"internal-error");const o=ng(s.idToken);ce(o,r,"internal-error");const{sub:l}=o;return ce(t.uid===l,r,"user-mismatch"),Ni._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Lr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dP(t,e,n=!1){if(wr(t.app))return Promise.reject(Ii(t));const r="signIn",i=await tE(t,r,e),s=await Ni._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function hP(t,e,n,r){return Kt(t).onIdTokenChanged(e,n,r)}function fP(t,e,n){return Kt(t).beforeAuthStateChanged(e,n)}const Hu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hu,"1"),this.storage.removeItem(Hu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=1e3,mP=10;class rE extends nE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Y2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);qA()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,mP):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},pP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rE.type="LOCAL";const gP=rE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE extends nE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}iE.type="SESSION";const sE=iE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Md(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async u=>u(n.origin,s)),c=await vP(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Md.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,c)=>{const u=sg("",20);i.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const f=m;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(f.data.response);break;default:clearTimeout(p),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(){return window}function _P(t){rr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(){return typeof rr().WorkerGlobalScope<"u"&&typeof rr().importScripts=="function"}async function wP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function EP(){return oE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="firebaseLocalStorageDb",TP=1,qu="firebaseLocalStorage",lE="fbase_key";class Vl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vd(t,e){return t.transaction([qu],e?"readwrite":"readonly").objectStore(qu)}function SP(){const t=indexedDB.deleteDatabase(aE);return new Vl(t).toPromise()}function hp(){const t=indexedDB.open(aE,TP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qu,{keyPath:lE})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(qu)?e(r):(r.close(),await SP(),e(await hp()))})})}async function by(t,e,n){const r=Vd(t,!0).put({[lE]:e,value:n});return new Vl(r).toPromise()}async function IP(t,e){const n=Vd(t,!1).get(e),r=await new Vl(n).toPromise();return r===void 0?null:r.value}function ky(t,e){const n=Vd(t,!0).delete(e);return new Vl(n).toPromise()}const bP=800,kP=3;class cE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>kP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Md._getInstance(EP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await wP(),!this.activeServiceWorker)return;this.sender=new yP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hp();return await by(e,Hu,"1"),await ky(e,Hu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>by(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>IP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ky(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Vd(i,!1).getAll();return new Vl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cE.type="LOCAL";const CP=cE;new Ll(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(t,e){return e?Tr(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og extends Z2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function AP(t){return dP(t.auth,new og(t),t.bypassAuthState)}function PP(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),uP(n,new og(t),t.bypassAuthState)}async function NP(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),cP(n,new og(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AP;case"linkViaPopup":case"linkViaRedirect":return NP;case"reauthViaPopup":case"reauthViaRedirect":return PP;default:Lr(this.auth,"internal-error")}}resolve(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=new Ll(2e3,1e4);class Xs extends uE{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Xs.currentPopupAction&&Xs.currentPopupAction.cancel(),Xs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){Mr(this.filter.length===1,"Popup operations only handle one event");const e=sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DP.get())};e()}}Xs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP="pendingRedirect",Xc=new Map;class LP extends uE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xc.get(this.auth._key());if(!e){try{const r=await MP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xc.set(this.auth._key(),e)}return this.bypassAuthState||Xc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MP(t,e){const n=FP(e),r=OP(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function VP(t,e){Xc.set(t._key(),e)}function OP(t){return Tr(t._redirectPersistence)}function FP(t){return Yc(jP,t.config.apiKey,t.name)}async function zP(t,e,n=!1){if(wr(t.app))return Promise.reject(Ii(t));const r=Ld(t),i=RP(r,e),o=await new LP(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=10*60*1e3;class BP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$P(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!dE(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(nr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cy(e))}saveEventToCache(e){this.cachedEventUids.add(Cy(e)),this.lastProcessedEventTime=Date.now()}}function Cy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $P(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HP(t,e={}){return Vo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WP=/^https?/;async function GP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await HP(t);for(const n of e)try{if(KP(n))return}catch{}Lr(t,"unauthorized-domain")}function KP(t){const e=up(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!WP.test(n))return!1;if(qP.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=new Ll(3e4,6e4);function Ry(){const t=rr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function YP(t){return new Promise((e,n)=>{var r,i,s;function o(){Ry(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ry(),n(nr(t,"network-request-failed"))},timeout:QP.get()})}if(!((i=(r=rr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=rr().gapi)===null||s===void 0)&&s.load)o();else{const l=eP("iframefcb");return rr()[l]=()=>{gapi.load?o():n(nr(t,"network-request-failed"))},JA(`${ZA()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Jc=null,e})}let Jc=null;function XP(t){return Jc=Jc||YP(t),Jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=new Ll(5e3,15e3),ZP="__/auth/iframe",e5="emulator/auth/iframe",t5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function r5(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?tg(e,e5):`https://${t.config.authDomain}/${ZP}`,r={apiKey:e.apiKey,appName:t.name,v:Do},i=n5.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Il(r).slice(1)}`}async function i5(t){const e=await XP(t),n=rr().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:r5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:t5,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=nr(t,"network-request-failed"),l=rr().setTimeout(()=>{s(o)},JP.get());function c(){rr().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},o5=500,a5=600,l5="_blank",c5="http://localhost";class Ay{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function u5(t,e,n,r=o5,i=a5){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},s5),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Bt().toLowerCase();n&&(l=q2(u)?l5:n),$2(u)&&(e=e||c5,c.scrollbars="yes");const p=Object.entries(c).reduce((f,[v,y])=>`${f}${v}=${y},`,"");if(HA(u)&&l!=="_self")return d5(e||"",l),new Ay(null);const m=window.open(e||"",l,p);ce(m,t,"popup-blocked");try{m.focus()}catch{}return new Ay(m)}function d5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5="__/auth/handler",f5="emulator/auth/handler",p5=encodeURIComponent("fac");async function Py(t,e,n,r,i,s){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Do,eventId:i};if(e instanceof eE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",n4(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))o[p]=m}if(e instanceof Ml){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const p of Object.keys(l))l[p]===void 0&&delete l[p];const c=await t._getAppCheckToken(),u=c?`#${p5}=${encodeURIComponent(c)}`:"";return`${m5(t)}?${Il(l).slice(1)}${u}`}function m5({config:t}){return t.emulator?tg(t,f5):`https://${t.authDomain}/${h5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh="webStorageSupport";class g5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sE,this._completeRedirectFn=zP,this._overrideRedirectResult=VP}async _openPopup(e,n,r,i){var s;Mr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Py(e,n,r,up(),i);return u5(e,o,sg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Py(e,n,r,up(),i);return _P(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Mr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await i5(e),r=new BP(e);return n.register("authEvent",i=>(ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vh,{type:Vh},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Vh];o!==void 0&&n(!!o),Lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Y2()||H2()||rg()}}const v5=g5;var Ny="@firebase/auth",Dy="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function w5(t){yo(new ps("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ce(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:X2(t)},u=new YA(r,i,s,c);return nP(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),yo(new ps("auth-internal",e=>{const n=Ld(e.getProvider("auth").getImmediate());return(r=>new y5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ti(Ny,Dy,_5(t)),Ti(Ny,Dy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=5*60,E5=ex("authIdTokenMaxAge")||x5;let jy=null;const T5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>E5)return;const i=n==null?void 0:n.token;jy!==i&&(jy=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function S5(t=ix()){const e=_m(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tP(t,{popupRedirectResolver:v5,persistence:[CP,gP,sE]}),r=ex("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=T5(s.toString());fP(n,o,()=>o(n.currentUser)),hP(n,l=>o(l))}}const i=Jw("auth");return i&&rP(n,`http://${i}`),n}function I5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}XA({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=nr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",I5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});w5("Browser");const Ol=qt.createContext({}),b5=()=>{const t=localStorage.getItem("isSignedIn");return t||!1},k5=({children:t})=>{const[e,n]=R.useState(b5),r=S5();lP(r),R.useEffect(()=>{localStorage.setItem("isSignedIn",e.toString())},[e]);const i=R.useMemo(()=>({user:{isSignedIn:e,setIsSignedIn:n}}),[e]);return d.jsx(Ol.Provider,{value:i,children:t})},ag=qt.createContext({}),Vt={Light:{name:"light"},Dark:{name:"dark"},System:{name:"system"}},C5=()=>{const t=localStorage.getItem("theme");return t||"system"},R5=({children:t})=>{const[e,n]=R.useState(C5),r=()=>{n(e==="system"?matchMedia("(prefers-color-scheme: light)").matches?"dark":"light":e==="light"?"dark":"light")},i=o=>{switch(o){case Vt.Light.name:n(o);break;case Vt.Dark.name:n(o);break;case Vt.System.name:n(o)}};R.useEffect(()=>{switch(e){case Vt.Light.name:localStorage.setItem("theme",e),document.documentElement.classList.add(Vt.Light.name),document.documentElement.classList.remove(Vt.Dark.name);break;case Vt.Dark.name:localStorage.setItem("theme",e),document.documentElement.classList.add(Vt.Dark.name),document.documentElement.classList.remove(Vt.Light.name);break;case Vt.System.name:matchMedia("(prefers-color-scheme: light)").matches?(localStorage.setItem("theme",Vt.System.name),document.documentElement.classList.add(Vt.Light.name),document.documentElement.classList.remove(Vt.Dark.name)):(localStorage.setItem("theme",Vt.System.name),document.documentElement.classList.add(Vt.Dark.name),document.documentElement.classList.remove(Vt.Light.name));break}},[e]);const s=R.useMemo(()=>({default:{resolvedTheme:e,setTheme:n},toggleTheme:r,changeTheme:i}),[e,n]);return d.jsx(ag.Provider,{value:s,children:t})},Ts=qt.createContext({}),A5=()=>{const t=parseInt(localStorage.getItem("chatHeadSize")||"");return t||200},P5=({children:t})=>{const[e,n]=R.useState(!1),[r,i]=R.useState(A5),s=R.useRef(null),o=R.useRef(null),l=u=>{switch(u){case 100:i(u);break;case 200:i(u);break;case 300:i(u);break}};R.useEffect(()=>{localStorage.setItem("chatHeadSize",r.toString())},[r]),R.useEffect(()=>{const u=({target:p})=>{var m,f;!((m=s.current)!=null&&m.contains(p))&&!((f=o.current)!=null&&f.contains(p))&&n(!1)};return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[s]);const c=R.useMemo(()=>({active:{isChatActive:e,setIsChatActive:n},chatHeadSize:{chatHeadSize:r,setChatHeadSize:i},changeChatHeadSize:l,icon:s,ratingBoxRef:o}),[e,n,r,i]);return d.jsx(Ts.Provider,{value:c,children:t})},hE="/user";function fE(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=fE(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function N5(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=fE(t))&&(r&&(r+=" "),r+=e);return r}const lg="-",D5=t=>{const e=L5(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(lg);return l[0]===""&&l.length!==1&&l.shift(),pE(l,e)||j5(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},pE=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?pE(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(lg);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},Ly=/^\[(.+)\]$/,j5=t=>{if(Ly.test(t)){const e=Ly.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},L5=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return V5(Object.entries(t.classGroups),n).forEach(([s,o])=>{fp(o,r,s,e)}),r},fp=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:My(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(M5(i)){fp(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{fp(o,My(e,s),n,r)})})},My=(t,e)=>{let n=t;return e.split(lg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},M5=t=>t.isThemeGetter,V5=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[n,i]}):t,O5=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},mE="!",F5=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=l=>{const c=[];let u=0,p=0,m;for(let C=0;C<l.length;C++){let T=l[C];if(u===0){if(T===i&&(r||l.slice(C,C+s)===e)){c.push(l.slice(p,C)),p=C+s;continue}if(T==="/"){m=C;continue}}T==="["?u++:T==="]"&&u--}const f=c.length===0?l:l.substring(p),v=f.startsWith(mE),y=v?f.substring(1):f,I=m&&m>p?m-p:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:I}};return n?l=>n({className:l,parseClassName:o}):o},z5=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},U5=t=>({cache:O5(t.cacheSize),parseClassName:F5(t),...D5(t)}),B5=/\s+/,$5=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(B5);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:p,hasImportantModifier:m,baseClassName:f,maybePostfixModifierPosition:v}=n(u);let y=!!v,I=r(y?f.substring(0,v):f);if(!I){if(!y){l=u+(l.length>0?" "+l:l);continue}if(I=r(f),!I){l=u+(l.length>0?" "+l:l);continue}y=!1}const C=z5(p).join(":"),T=m?C+mE:C,w=T+I;if(s.includes(w))continue;s.push(w);const k=i(I,y);for(let L=0;L<k.length;++L){const F=k[L];s.push(T+F)}l=u+(l.length>0?" "+l:l)}return l};function H5(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=gE(e))&&(r&&(r+=" "),r+=n);return r}const gE=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=gE(t[r]))&&(n&&(n+=" "),n+=e);return n};function q5(t,...e){let n,r,i,s=o;function o(c){const u=e.reduce((p,m)=>m(p),t());return n=U5(u),r=n.cache.get,i=n.cache.set,s=l,l(c)}function l(c){const u=r(c);if(u)return u;const p=$5(c,n);return i(c,p),p}return function(){return s(H5.apply(null,arguments))}}const He=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},vE=/^\[(?:([a-z-]+):)?(.+)\]$/i,W5=/^\d+\/\d+$/,G5=new Set(["px","full","screen"]),K5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Q5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Y5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,X5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,J5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pr=t=>lo(t)||G5.has(t)||W5.test(t),Kr=t=>Oo(t,"length",oN),lo=t=>!!t&&!Number.isNaN(Number(t)),Oh=t=>Oo(t,"number",lo),pa=t=>!!t&&Number.isInteger(Number(t)),Z5=t=>t.endsWith("%")&&lo(t.slice(0,-1)),me=t=>vE.test(t),Qr=t=>K5.test(t),eN=new Set(["length","size","percentage"]),tN=t=>Oo(t,eN,yE),nN=t=>Oo(t,"position",yE),rN=new Set(["image","url"]),iN=t=>Oo(t,rN,lN),sN=t=>Oo(t,"",aN),ma=()=>!0,Oo=(t,e,n)=>{const r=vE.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},oN=t=>Q5.test(t)&&!Y5.test(t),yE=()=>!1,aN=t=>X5.test(t),lN=t=>J5.test(t),cN=()=>{const t=He("colors"),e=He("spacing"),n=He("blur"),r=He("brightness"),i=He("borderColor"),s=He("borderRadius"),o=He("borderSpacing"),l=He("borderWidth"),c=He("contrast"),u=He("grayscale"),p=He("hueRotate"),m=He("invert"),f=He("gap"),v=He("gradientColorStops"),y=He("gradientColorStopPositions"),I=He("inset"),C=He("margin"),T=He("opacity"),w=He("padding"),k=He("saturate"),L=He("scale"),F=He("sepia"),A=He("skew"),E=He("space"),_=He("translate"),S=()=>["auto","contain","none"],b=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",me,e],D=()=>[me,e],P=()=>["",pr,Kr],ve=()=>["auto",lo,me],pt=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Te=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",me],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[lo,me];return{cacheSize:500,separator:":",theme:{colors:[ma],spacing:[pr,Kr],blur:["none","",Qr,me],brightness:se(),borderColor:[t],borderRadius:["none","","full",Qr,me],borderSpacing:D(),borderWidth:P(),contrast:se(),grayscale:K(),hueRotate:se(),invert:K(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[Z5,Kr],inset:j(),margin:j(),opacity:se(),padding:D(),saturate:se(),scale:se(),sepia:K(),skew:se(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[Qr]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...pt(),me]}],overflow:[{overflow:b()}],"overflow-x":[{"overflow-x":b()}],"overflow-y":[{"overflow-y":b()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[I]}],"inset-x":[{"inset-x":[I]}],"inset-y":[{"inset-y":[I]}],start:[{start:[I]}],end:[{end:[I]}],top:[{top:[I]}],right:[{right:[I]}],bottom:[{bottom:[I]}],left:[{left:[I]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",pa,me]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",pa,me]}],"grid-cols":[{"grid-cols":[ma]}],"col-start-end":[{col:["auto",{span:["full",pa,me]},me]}],"col-start":[{"col-start":ve()}],"col-end":[{"col-end":ve()}],"grid-rows":[{"grid-rows":[ma]}],"row-start-end":[{row:["auto",{span:[pa,me]},me]}],"row-start":[{"row-start":ve()}],"row-end":[{"row-end":ve()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",me,e]}],"min-w":[{"min-w":[me,e,"min","max","fit"]}],"max-w":[{"max-w":[me,e,"none","full","min","max","fit","prose",{screen:[Qr]},Qr]}],h:[{h:[me,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[me,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Qr,Kr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Oh]}],"font-family":[{font:[ma]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",lo,Oh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pr,me]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",pr,Kr]}],"underline-offset":[{"underline-offset":["auto",pr,me]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...pt(),nN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",tN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},iN]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...Te(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:Te()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Te()]}],"outline-offset":[{"outline-offset":[pr,me]}],"outline-w":[{outline:[pr,Kr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[pr,Kr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Qr,sN]}],"shadow-color":[{shadow:[ma]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Qr,me]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[m]}],saturate:[{saturate:[k]}],sepia:[{sepia:[F]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[L]}],"scale-x":[{"scale-x":[L]}],"scale-y":[{"scale-y":[L]}],rotate:[{rotate:[pa,me]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[pr,Kr,Oh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},uN=q5(cN);function yl(...t){return uN(N5(t))}function _E(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=_E(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function dN(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=_E(t))&&(r&&(r+=" "),r+=e);return r}const Vy=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,Oy=dN,Fl=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Oy(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const p=n==null?void 0:n[u],m=s==null?void 0:s[u];if(p===null)return null;const f=Vy(p)||Vy(m);return i[u][f]}),l=n&&Object.entries(n).reduce((u,p)=>{let[m,f]=p;return f===void 0||(u[m]=f),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,p)=>{let{class:m,className:f,...v}=p;return Object.entries(v).every(y=>{let[I,C]=y;return Array.isArray(C)?C.includes({...s,...l}[I]):{...s,...l}[I]===C})?[...u,m,f]:u},[]);return Oy(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},wE=Fl("w-full h-full select-none",{variants:{variant:{default:"border dark:border-dm-surface-light bg-surface dark:bg-dm-surface",icon:"text-2xl rounded-full p-3 flex justify-center items-center",outline:"px-4 py-3 border border-primary rounded-full capitalize",cta:"px-8 py-4 capitalize rounded-full",destructive:"px-8 py-4 bg-error hover:bg-error/80 rounded-full capitalize",destructiveOutline:"px-4 py-3 border text-error dark:text-error border-error hover:text-white dark:hover:text-white bg-inherit dark:bg-inherit hover:bg-error dark:hover:bg-error rounded-full capitalize",radio:"bg-surface has-[input]:hover:bg-primary [&>label]:hover:text-white has-[input]:dark:hover:bg-primary dark:bg-dm-surface [&>label]:dark:text-white has-[:checked]:bg-primary has-[:checked]:dark:bg-primary has-[:checked]:hover:bg-primary-dark has-[:checked]:text-white shadow-md px-4 py-3 flex justify-center items-center rounded-3xl",settings:"flex rounded-lg text-left font-helvetica-bold hover:bg-gray-300 dark:hover:bg-dm-surface [&>span]:text-black/60 [&>span]:dark:text-white/60 [&>span]:has-[:checked]:text-white [&>span]:has-[:checked]:dark:text-white [&>div>svg>path]:text-black/60 [&>div>svg>path]:dark:text-white/60 [&>div>svg>path]:has-[:checked]:text-white [&>div>svg>path]:has-[:checked]:dark:text-white [&>div>svg>circle]:text-black/60 [&>div>svg>circle]:dark:text-white/60 [&>div>svg>circle]:has-[:checked]:text-white [&>div>svg>circle]:has-[:checked]:dark:text-white has-[:checked]:bg-primary has-[:checked]:hover:bg-primary has-[:checked]:dark:hover:bg-primary capitalize px-3 xs:px-4 py-3 cursor-pointer truncate",empty:""},size:{default:"w-max h-max",sm:"max-w-[30px]",md:"max-w-[100px] max-h-[40px]",lg:"max-w-[150px] max-h-[60px]",xl:"max-w-[200px] max-h-[80px]",icon:"max-w-[50px] max-h-[50px]",full:"w-full h-full"}},defaultVariants:{variant:"default",size:"default"}}),Ve=R.forwardRef(({className:t,size:e,variant:n,...r},i)=>d.jsx("button",{ref:i,className:yl(wE({className:t,variant:n,size:e})),...r}));var xE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Fy=qt.createContext&&qt.createContext(xE),hN=["attr","size","title"];function fN(t,e){if(t==null)return{};var n=pN(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pN(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wu(){return Wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wu.apply(this,arguments)}function zy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zy(Object(n),!0).forEach(function(r){mN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mN(t,e,n){return e=gN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gN(t){var e=vN(t,"string");return typeof e=="symbol"?e:e+""}function vN(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EE(t){return t&&t.map((e,n)=>qt.createElement(e.tag,Gu({key:n},e.attr),EE(e.child)))}function he(t){return e=>qt.createElement(yN,Wu({attr:Gu({},t.attr)},e),EE(t.child))}function yN(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=fN(t,hN),l=i||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),qt.createElement("svg",Wu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:c,style:Gu(Gu({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&qt.createElement("title",null,s),t.children)};return Fy!==void 0?qt.createElement(Fy.Consumer,null,n=>e(n)):e(xE)}function cg(t){return he({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",x2:"20",y1:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"4",x2:"20",y1:"6",y2:"6"},child:[]},{tag:"line",attr:{x1:"4",x2:"20",y1:"18",y2:"18"},child:[]}]})(t)}function _N(t){return he({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"20",height:"14",x:"2",y:"3",rx:"2"},child:[]},{tag:"line",attr:{x1:"8",x2:"16",y1:"21",y2:"21"},child:[]},{tag:"line",attr:{x1:"12",x2:"12",y1:"17",y2:"21"},child:[]}]})(t)}function wN(t){return he({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"},child:[]}]})(t)}function xN(t){return he({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"4"},child:[]},{tag:"path",attr:{d:"M12 2v2"},child:[]},{tag:"path",attr:{d:"M12 20v2"},child:[]},{tag:"path",attr:{d:"m4.93 4.93 1.41 1.41"},child:[]},{tag:"path",attr:{d:"m17.66 17.66 1.41 1.41"},child:[]},{tag:"path",attr:{d:"M2 12h2"},child:[]},{tag:"path",attr:{d:"M20 12h2"},child:[]},{tag:"path",attr:{d:"m6.34 17.66-1.41 1.41"},child:[]},{tag:"path",attr:{d:"m19.07 4.93-1.41 1.41"},child:[]}]})(t)}const TE=()=>{const t=R.useContext(ag),{resolvedTheme:e}=t.default,n=()=>e==="system"?d.jsx(_N,{}):e==="light"?d.jsx(wN,{}):d.jsx(xN,{});return d.jsxs("header",{className:"fixed top-0 left-[50%] -translate-x-[50%] container w-full h-[70px] px-[4vw] md:px-[2vw] lg:px-[4vw] flex items-center justify-between z-30",children:[d.jsx(md,{to:"/",className:"hidden lg:block text-2xl dark:text-white bg-surface/30 dark:bg-dm-surface/50 rounded-lg p-2 backdrop-blur-sm sm:bg-transparent sm:dark:bg-transparent sm:rounded-none sm:p-0 sm:backdrop-blur-none",children:Qn.name}),d.jsx(Ve,{onClick:t.toggleTheme,variant:"icon",size:"icon",className:"bg-surface/30 dark:bg-dm-surface/50 backdrop-blur-sm sm:bg-transparent sm:dark:bg-transparent sm:backdrop-blur-none hover:bg-surface dark:hover:bg-dm-surface [&>svg>path]:dark:text-white [&>svg>circle]:dark:text-white [&>svg>rect]:dark:text-white [&>svg>line]:dark:text-white ml-auto",children:n()})]})},EN="cob-chatbot",TN="3.2.1",SN="module",IN="pnpm@9.9.0",bN={build:"tsc -b && vite build",dev:"vite",lint:"eslint .",preview:"vite preview",prepare:"husky","pre-commit":"lint-staged",pretty:"prettier . --write",release:"release-it","release-patch":"release-it patch","release-minor":"release-it minor","release-major":"release-it major"},kN={"class-variance-authority":"^0.7.0",clsx:"^2.1.1",firebase:"^10.14.1","markdown-to-jsx":"^7.7.0",react:"^18.3.1","react-dom":"^18.3.1","react-icons":"^5.3.0","react-router":"^6.27.0","react-router-dom":"^6.27.0","react-textarea-autosize":"^8.5.4","tailwind-merge":"^2.5.3"},CN={"@commitlint/cli":"^19.5.0","@commitlint/config-conventional":"^19.5.0","@eslint/compat":"^1.2.0","@eslint/eslintrc":"^3.1.0","@eslint/js":"^9.12.0","@release-it/conventional-changelog":"^8.0.2","@types/react":"^18.3.11","@types/react-dom":"^18.3.1","@types/uuid":"^10.0.0","@vitejs/plugin-react-swc":"^3.7.1",autoprefixer:"^10.4.20",eslint:"^9.12.0","eslint-plugin-react":"^7.37.1","eslint-plugin-react-hooks":"^4.6.2","eslint-plugin-react-refresh":"^0.4.12","eslint-transforms":"^3.0.0","firebase-admin":"^12.6.0",globals:"^15.11.0",husky:"^9.1.6","lint-staged":"^15.2.10",postcss:"^8.4.47",prettier:"3.3.3","release-it":"^17.8.2","tailwind-scrollbar":"^3.1.0",tailwindcss:"^3.4.13",turbo:"^2.1.3",typescript:"^5.5.4","typescript-eslint":"^8.8.1",uuid:"^10.0.0",vite:"^5.4.8","vite-plugin-pwa":"^0.20.5"},RN={name:EN,version:TN,private:!0,type:SN,packageManager:IN,scripts:bN,dependencies:kN,devDependencies:CN,"lint-staged":{"*.{ts,js,tsx,json,css,html}":"prettier --write","*.{ts,js}":["prettier --write","eslint"]}},SE=({className:t,text:e})=>d.jsxs("div",{className:`${t}`,children:[e,RN.version]}),ug=({className:t,children:e})=>d.jsx("div",{className:`${t} bg-gradient-to-tr from-primary from-35% via-tertiary via-70% to-secondary bg-clip-text text-transparent cursor-default select-none`,children:e}),AN="/user/assets/landing-convo-light-9eANPx-E.gif",PN="/user/assets/landing-convo-dark-1yD7KdYH.gif",NN=()=>{const t=R.useContext(Ol),{setIsSignedIn:e}=t.user;return d.jsxs(d.Fragment,{children:[d.jsx(TE,{}),d.jsxs("main",{className:"container relative w-full lg:h-screen flex flex-col-reverse lg:flex-row items-center justify-center lg:justify-between 2xl:justify-around lg:items-center py-[100px] px-[2vw] lg:px-[4vw] 2xl:px-[6vw] gap-6",children:[d.jsxs("section",{className:"text-center lg:text-left",children:[d.jsxs("div",{className:"max-w-[400px]",children:[d.jsx(ug,{className:"font-helvetica text-6xl md:text-7xl lg:text-8xl",children:Qn.name}),d.jsx("p",{className:"text-2xl lg:text-3xl 2xl:text-4xl ml-2 dark:text-white max-w-[350px]",children:Qn.slogan})]}),d.jsx("p",{className:"text-xl text-black/50 dark:text-white/50 ml-2 mt-6 max-w-[350px]",children:Qn.introduction}),d.jsx("a",{href:`${hE}/bacoor-gov`,children:d.jsxs(Ve,{variant:"cta",size:"xl",className:"mt-8 ml-2 bg-primary hover:bg-primary-dark lg:text-lg 2xl:text-xl text-white",onClick:()=>e(!0),children:["ask ",Qn.name]})})]}),d.jsxs("div",{className:"relative rounded-2xl overflow-hidden select-none",children:[d.jsx("img",{src:AN,alt:"Chatbot",className:"block dark:hidden w-max h-max max-h-[500px] lg:max-h-[650px] xl:max-h-[700px] rounded-2xl object-contain"}),d.jsx("img",{src:PN,alt:"Chatbot",className:"hidden dark:block w-max h-max max-h-[500px] lg:max-h-[650px] xl:max-h-[700px] rounded-2xl object-contain"})]}),d.jsx(SE,{text:"v",className:"fixed left-[2%] bottom-[2.5%] text-sm text-black/30 dark:text-white/30"})]})]})},Ss=qt.createContext({}),DN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890",jN=30;let rs="";const LN=()=>{for(let t=0;t<jN;t++)rs+=DN.charAt(Math.round(Math.random()*62));return localStorage.setItem("uid",rs),rs},MN=()=>{const t=localStorage.getItem("uid");return t==null||(t==null?void 0:t.length)<=15?(localStorage.removeItem("uid"),rs=LN(),localStorage.removeItem("rating")):t&&(rs=t||rs),rs},VN=()=>{const t=parseInt(localStorage.getItem("rating")||"");return t||0},ON=({children:t})=>{const e=MN(),n=R.useContext(ft),{conversation:r}=n.conversation,[i,s]=R.useState(VN),[o,l]=R.useState(Number),[c,u]=R.useState(!0),p=async()=>{var y;try{const C=(y=(await xA(kr,{rating:yA("rating")})).data().rating)==null?void 0:y.toFixed(2);C&&l(parseFloat(C))}catch(I){console.log(I)}},m=async()=>{var I;const y=await k2(br(kr,e));localStorage.setItem("rating",(I=y.data())==null?void 0:I.rating),u(!0)},f=async()=>{i!=0&&await R2(br(kr,e),{rating:i})};R.useEffect(()=>{f(),m()},[i]),R.useEffect(()=>{p()},[]);const v=R.useMemo(()=>({uid:e,conversation:r,rating:{rating:i,setRating:s,averageRating:o,hasRated:c,setHasRated:u}}),[e,r,i,o,c]);return d.jsx(Ss.Provider,{value:v,children:t})},Fo=qt.createContext({}),FN="font families",zN=[{name:"default",value:"Helvetica, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji"},{name:"cursive",value:"cursive"},{name:"monospace",value:"monospace"},{name:"poppins",value:"Poppins"},{name:"raleway",value:"Raleway"},{name:"montserrat",value:"Montserrat"},{name:"lato",value:"Lato"},{name:"kanit",value:"Kanit"},{name:"playpen sans",value:"Playpen Sans"},{name:"Caveat",value:"Caveat"}],dg={name:FN,default:"Helvetica, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji",list:zN},UN=()=>{const t=parseInt(localStorage.getItem("fontSize")||"");return t||16},BN=()=>{const t=localStorage.getItem("fontFamily");return t||dg.default},$N=({children:t})=>{const[e,n]=R.useState(UN),[r,i]=R.useState(BN);R.useEffect(()=>{localStorage.setItem("fontSize",e.toString()),localStorage.setItem("fontFamily",r)},[e,r]);const s=c=>{switch(c){case 8:n(c);break;case 12:n(c);break;case 16:n(c);break;case 24:n(c);break;case 32:n(c);break;case 48:n(c);break}},o=c=>{switch(c){case dg.default:i(c);break;case"cursive":i(c);break;case"monospace":i(c);break;case"Poppins":i(c);break;case"Raleway":i(c);break;case"Montserrat":i(c);break;case"Lato":i(c);break;case"Kanit":i(c);break;case"Playpen Sans":i(c);break;case"Caveat":i(c);break}},l=R.useMemo(()=>({size:{fontSize:e,setFontSize:n},changeFontSize:s,family:{fontFamily:r,setFontFamily:i},changeFontFamily:o}),[e,n,r,i]);return d.jsx(Fo.Provider,{value:l,children:t})},hg=qt.createContext({}),HN=()=>{const t=localStorage.getItem("chatSentSound");return t||"minimalpop"},qN=({children:t})=>{const[e,n]=R.useState(HN);R.useEffect(()=>{localStorage.setItem("chatSentSound",e)},[e]);const r=R.useMemo(()=>({chatSent:{chatSentSound:e,setChatSentSound:n}}),[e,n]);return d.jsx(hg.Provider,{value:r,children:t})};var St=[];for(var Fh=0;Fh<256;++Fh)St.push((Fh+256).toString(16).slice(1));function WN(t,e=0){return(St[t[e+0]]+St[t[e+1]]+St[t[e+2]]+St[t[e+3]]+"-"+St[t[e+4]]+St[t[e+5]]+"-"+St[t[e+6]]+St[t[e+7]]+"-"+St[t[e+8]]+St[t[e+9]]+"-"+St[t[e+10]]+St[t[e+11]]+St[t[e+12]]+St[t[e+13]]+St[t[e+14]]+St[t[e+15]]).toLowerCase()}var Rc,GN=new Uint8Array(16);function KN(){if(!Rc&&(Rc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Rc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Rc(GN)}var QN=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const Uy={randomUUID:QN};function nn(t,e,n){if(Uy.randomUUID&&!e&&!t)return Uy.randomUUID();t=t||{};var r=t.random||(t.rng||KN)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,WN(r)}const By="Here are the list of departments with their services",YN=["departments","department","can you give me the list of departments?","can you give me the list of departments","can you give me the departments?","can you give me the departments","can you give me list of departments?","can you give me list of departments","departments list?","departments list","department list?","department list","list of departments","list of department","give me the list of deparments","depts","do you have the departments list?"],$y=[{deptName:"Office of the City Accounting and Internal Audit Services",service:`* Liquidation of Cash Advances 
* Processing of Disbursements (GF / SEF / Trust Fund) 
* Issuance of Creditable Tax BIR Forms 2306 & 2307 and F2317 
* Processing of Disbursements for Barangays`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{deptName:"City Administrator's Office",service:`* Administrative Support 
* Policy Formulation and Review 
* Approval of Leave of Absences, Travel Orders, DTRs, Obligation Requests, other Internal Transaction Documents 
* Approval of City Permits (BOSS) 
* Approval of Agricultural Permit 
* Approval of Tricycle Franchise Renewal 
* Approval of Contractor's Tax`,steps:"",requirements:""}],IE="/user/assets/minimal-pop-click-cz2B17GZ.mp3",bE="/user/assets/happy-pop-BDyL3yVR.mp3",pp="/user/assets/multi-pop-aSd_Kb7h.mp3",XN="/user/assets/multi-pop-5-D6yGmOux.mp3",kE=()=>{const t=R.useContext(hg),{chatSentSound:e}=t.chatSent;return{playMessageNotification:()=>{let s;switch(e){case"minimalpop":s=new Audio(IE);break;case"happypop":s=new Audio(bE);break;case"multipop":s=new Audio(pp);break;default:s=new Audio(pp);break}s.volume=.2,s.play()},playTypingSound:()=>{const s=new Audio(XN);s.volume=.1,s.play()},playChatSentSound:s=>{const o=new Audio(s);o.volume=.2,o.play()}}},JN=async(t,e)=>{try{const n={intent:"greetings",chat:e,chatId:nn(),role:"bot",timestamp:Ie.now()};await C2(br(kr,t),{uid:t,conversation:[n]})}catch(n){console.log(n)}},qi=async(t,e,n)=>{const r=br(kr,t);(await k2(r)).exists()||await C2(br(kr,t),{uid:t,conversation:[e],rating:n}),await R2(br(kr,t),{conversation:EA(e)})},ZN=["png","jpg","jpeg","gif","tiff","webp","jfif"],e6=["mp4","mov","avi","wmv","avchd","webm","flv"],t6=["doc","docx","pdf","htm","html","xls","xlsx","ppt","pptx","txt","zip"];let En={chat:"",chatId:"",role:"",timestamp:Ie.now()};const n6=(t,e,n,r,i)=>(ZN.includes(t)?n===i?En={intent:r,chat:n,chatId:nn(),role:"bot",timestamp:Ie.now()}:En={intent:r,image:n,chat:null,chatId:nn(),role:"bot",timestamp:Ie.now()}:e6.includes(t)?n===i?En={intent:r,chat:n,chatId:nn(),role:"bot",timestamp:Ie.now()}:En={intent:r,video:n,chat:null,chatId:nn(),role:"bot",timestamp:Ie.now()}:t6.includes(t)&&(n===i?En={intent:r,chat:n,chatId:nn(),role:"bot",timestamp:Ie.now()}:En={intent:r,file:e,fileLink:n,fileType:t,chat:null,chatId:nn(),role:"bot",timestamp:Ie.now()}),En),Hy=(t,e,n)=>(En={intent:t,chat:null,chatId:nn(),link:e,linkMessage:n||"Click here",role:"bot",timestamp:Ie.now()},En),r6=(t,e,n)=>(t===e?En={chat:t,chatId:nn(),role:"bot",timestamp:Ie.now()}:En={chat:null,chatId:nn(),role:"bot",depts:n,timestamp:Ie.now()},En);async function i6(t){return await(await fetch("https://cob-chatbot.onrender.com/api/chatbot/query",{method:"POST",headers:{"content-type":"application/json",authorization:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f"},body:JSON.stringify({userQuery:t})})).json()}const Wn=async t=>new Promise(e=>setTimeout(e,t*1e3)),CE=t=>/@=@/.test(t),s6=t=>/\[([^\]]+)\]/.test(t),o6=t=>/{=([^{}]+)=}/.test(t),a6=t=>{let e=[];return CE(t)&&(e=t.split("@=@")),e},l6=t=>{var e;return(e=t.current)==null||e.scrollIntoView(),!0},c6=t=>{var e;return(e=t.current)==null||e.scrollIntoView({behavior:"smooth"}),!0},qy=t=>{const e=/\[=(.*?)=]/,n=t.match(e),r=/{=([^{}]+)=}/,i=t.match(r),s=/<([^<>]+)>/,o=t.match(s);if(n){const l=n[1],c=t.replace(e,"").trim();return{link:l,text:c}}else{if(i&&o)return{link:t.replace(/<(.+?)>{=(.+?)=}/g,(c,u,p)=>`<a class="font-semibold text-primary dark:text-secondary hover:underline" href="${p}" target="_blank" rel="noopener noreferrer">${u}</a>`)};if(i){const l=i[1];return{link:t.replace(r,`<a href="${l}" class="font-semibold text-primary dark:text-secondary hover:underline" target="_blank">Click here</a>`).trim()}}}return{link:"",linkMessage:null,text:t.trim()}},u6=t=>{try{const e=decodeURIComponent(t),n=e.lastIndexOf("/")+1,r=e.indexOf("?alt=");return n!==-1&&r!==-1?e.substring(n,r):null}catch(e){return console.error("Failed to extract filename:",e),null}},RE=()=>{const t=R.useContext(Ol),{isSignedIn:e}=t.user,n=R.useContext(Ss),r=R.useContext(ft),{configuration:i}=r.configuration,{conversation:s,setConversation:o}=r.conversation,{error:l,setError:c}=r.error,{isOnline:u}=r.isOnline,{setIsChatPaused:p}=r.isChatPaused,{isBotTyping:m,setIsBotTyping:f}=r.isTyping,{playMessageNotification:v}=kE(),y=R.useRef(null),[I,C]=R.useState(!1),T=R.useRef(null),[w,k]=R.useState(!1),[L,F]=R.useState(!0),[A,E]=R.useState(!1),[_,S]=R.useState("");let b={chat:"",chatId:"",role:"",timestamp:Ie.now()};const j=()=>{k(!w)},D=R.useCallback(async()=>{try{const Te=await wA(kr);cp(br(kr,n.uid),le=>{le.exists()?o(le.data().conversation):!le.exists()&&i.initialGreet&&JN(n.uid,i.initialGreet)}),Te&&F(!1)}catch(Te){console.log(Te),c(!0),Te||c(!1)}},[i.initialGreet,o,c]),P=async Te=>{try{console.time(`${i.name} Replied in`),f(!0);const le=await i6(Te);if(le.success)if(c(!1),await Wn(1),YN.includes(Te))[By,$y].forEach(async(K,Z)=>{Z==1&&(await Wn(1),f(!0),await Wn(1)),b=r6(K,By,$y),f(!1),qi(n.uid,b),v()}),p(!0);else{const{intent:q,answer:K}=le.response;if(CE(K))a6(K).forEach(async(se,pe)=>{pe==1&&(await Wn(1),f(!0),await Wn(1)),b={intent:q,chat:se,chatId:nn(),role:"bot",timestamp:Ie.now()},f(!1),qi(n.uid,b),E(!1),v()});else if(o6(K)){const{link:Z,linkMessage:se}=qy(K);b=se?Hy(q,Z,se):Hy(q,Z),f(!1),qi(n.uid,b),E(!1),v()}else if(s6(K)){const{text:Z,link:se}=qy(K),pe=se?u6(se):"",Pe=pe==null?void 0:pe.split(".")[1];(Z&&se?[Z,se]:[]).forEach(async(mt,gt)=>{gt==1&&(await Wn(1),f(!0),await Wn(1)),b=Pe&&Z?n6(Pe,pe,mt,q,Z):b,f(!1),qi(n.uid,b),E(!1),v()})}else b={intent:q,chat:K,chatId:nn(),role:"bot",timestamp:Ie.now()},f(!1),qi(n.uid,b),E(!1),v()}console.timeEnd(`${i.name} Replied in`)}catch(le){c(!0),console.log(le)}finally{f(!1),p(!1)}},ve=R.useCallback(async(Te,le)=>{try{Te.preventDefault(),S(""),p(!0),c(!1),b={chat:le,chatId:nn(),role:"user",timestamp:Ie.now()},v(),qi(n.uid,b),await Wn(1),P(le)}catch(q){console.log(q),f(!1),c(!0),q||c(!1)}},[v,c]),pt=async Te=>{try{E(!1),p(!0),c(!1),b={chat:Te,chatId:nn(),role:"user",timestamp:Ie.now()},v(),qi(n.uid,b),await Wn(1),P(Te)}catch(le){console.log(le),f(!1),c(!0),le||c(!1)}};return R.useEffect(()=>{const Te=c6(y);e&&Te&&C(!0)},[s,m,l,u,e]),R.useEffect(()=>{const Te=({target:le})=>{var q;(q=T.current)!=null&&q.contains(le)||E(!1)};return document.addEventListener("mousedown",Te),()=>{document.removeEventListener("mousedown",Te)}},[T,A]),R.useEffect(()=>{try{console.time("Received conversation in"),D()}catch(Te){console.log(Te)}finally{console.timeEnd("Received conversation in")}},[D]),{isAtLatestChat:I,latestChat:y,questionsListRef:T,settings:w,setSettings:k,loading:L,setLoading:F,isFaqsMenuActive:A,setIsFaqsMenuActive:E,userMessage:_,setUserMessage:S,toggleSettings:j,conversation:s,sendMessageToBot:ve,sendSuggestedQueryToBot:pt}};function d6(t){return he({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 1024c-69.1 0-136.2-13.5-199.3-40.2C251.7 958 197 921 150 874c-47-47-84-101.7-109.8-162.7C13.5 648.2 0 581.1 0 512c0-19.9 16.1-36 36-36s36 16.1 36 36c0 59.4 11.6 117 34.6 171.3 22.2 52.4 53.9 99.5 94.3 139.9 40.4 40.4 87.5 72.2 139.9 94.3C395 940.4 452.6 952 512 952c59.4 0 117-11.6 171.3-34.6 52.4-22.2 99.5-53.9 139.9-94.3 40.4-40.4 72.2-87.5 94.3-139.9C940.4 629 952 571.4 952 512c0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.2C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3s-13.5 136.2-40.2 199.3C958 772.3 921 827 874 874c-47 47-101.8 83.9-162.7 109.7-63.1 26.8-130.2 40.3-199.3 40.3z"},child:[]}]})(t)}const AE=()=>d.jsx("div",{className:"flex justify-center items-center h-[10%]",children:d.jsx(d6,{className:"text-4xl animate-spin text-primary dark:text-dm-surface-light"})}),h6=({onClick:t})=>{const e=R.useContext(Ol),{isSignedIn:n}=e.user,r=R.useContext(ft),{configuration:i}=r.configuration,{conversation:s}=r.conversation,o=R.useContext(Ts),{isChatActive:l}=o.active,{chatHeadSize:c}=o.chatHeadSize,{isAtLatestChat:u}=RE();return d.jsx(d.Fragment,{children:n&&s.length!=0&&u&&i.widgetIcon?d.jsx("button",{onClick:t,id:"",className:`fixed right-[2%] bottom-[2%] rounded-full overflow-hidden z-[100] ${l?"scale-0 opacity-0 invisible":""}`,children:d.jsx("img",{src:i.widgetIcon,alt:"chat head logo",width:c,height:c,className:"aspect-square object-cover"})}):d.jsx("div",{style:{width:c,height:c},className:"fixed right-[2%] bottom-[2%] flex items-center justify-center z-[100] [&>div>svg>path]:text-primary xl:[&>div>svg>path]:text-white ",children:d.jsx(AE,{})})})},or=({items:t,renderItems:e})=>d.jsx(d.Fragment,{children:t==null?void 0:t.map((n,r)=>e(n,r))});function f6(t){return he({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function p6(t){return he({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"},child:[]}]})(t)}function PE(t){return he({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"},child:[]}]})(t)}function NE(t){return he({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"},child:[]}]})(t)}function m6(t){return he({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"},child:[]}]})(t)}function g6(t){return he({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 0c17.7 0 32 14.3 32 32V96H472c39.8 0 72 32.2 72 72V440c0 39.8-32.2 72-72 72H168c-39.8 0-72-32.2-72-72V168c0-39.8 32.2-72 72-72H288V32c0-17.7 14.3-32 32-32zM208 384c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H208zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H304zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H400zM264 256a40 40 0 1 0 -80 0 40 40 0 1 0 80 0zm152 40a40 40 0 1 0 0-80 40 40 0 1 0 0 80zM48 224H64V416H48c-26.5 0-48-21.5-48-48V272c0-26.5 21.5-48 48-48zm544 0c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H576V224h16z"},child:[]}]})(t)}function DE(t){return he({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"},child:[]}]})(t)}function v6(t){return he({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c1.8 0 3.5-.2 5.3-.5c-76.3-55.1-99.8-141-103.1-200.2c-16.1-4.8-33.1-7.3-50.7-7.3H178.3zm308.8-78.3l-120 48C358 277.4 352 286.2 352 296c0 63.3 25.9 168.8 134.8 214.2c5.9 2.5 12.6 2.5 18.5 0C614.1 464.8 640 359.3 640 296c0-9.8-6-18.6-15.1-22.3l-120-48c-5.7-2.3-12.1-2.3-17.8 0zM591.4 312c-3.9 50.7-27.2 116.7-95.4 149.7V273.8L591.4 312z"},child:[]}]})(t)}function y6(t){return he({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M533.6 32.5C598.5 85.2 640 165.8 640 256s-41.5 170.7-106.4 223.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C557.5 398.2 592 331.2 592 256s-34.5-142.2-88.7-186.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM473.1 107c43.2 35.2 70.9 88.9 70.9 149s-27.7 113.8-70.9 149c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C475.3 341.3 496 301.1 496 256s-20.7-85.3-53.2-111.8c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zm-60.5 74.5C434.1 199.1 448 225.9 448 256s-13.9 56.9-35.4 74.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C393.1 284.4 400 271 400 256s-6.9-28.4-17.7-37.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM301.1 34.8C312.6 40 320 51.4 320 64V448c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352H64c-35.3 0-64-28.7-64-64V224c0-35.3 28.7-64 64-64h67.8L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3z"},child:[]}]})(t)}const _6=({sendSuggestedQueryToBot:t})=>{const e=R.useContext(ft),{quickAccessQueries:n}=e.quickAccessQuery,{isChatPaused:r}=e.isChatPaused,i=R.useRef(null),s=i.current,[o,l]=R.useState(!1),[c,u]=R.useState(0),[p,m]=R.useState(0),[f,v]=R.useState(!0),[y,I]=R.useState(0),C=200,T=A=>{let E=y+A;s&&(E>=s.scrollWidth-128?E=0:E<=0&&(E=s.scrollWidth),s.scrollLeft=E),I(E)},w=A=>{v(!1),l(!0),s&&(u(A.pageX- -s.offsetLeft),m(s.scrollLeft))},k=()=>{l(!1),v(!0)},L=A=>{if(v(!1),!!o&&(A.preventDefault(),s)){const _=(A.pageX-s.offsetLeft-c)*2;s.scrollLeft=p-_}},F=()=>{l(!1),v(!0)};return d.jsxs("section",{id:"suggested-chats",className:"relative w-full max-w-[95%] flex items-center rounded-3xl border border-surface dark:border-dm-surface-dark dark:bg-dm-surface text-xs xs:text-sm sm:text-base mt-auto outline-none py-4 overflow-hidden",children:[d.jsx("div",{className:"w-[80px] h-full absolute -left-1 hidden xl:flex items-center bg-gradient-to-r from-white dark:from-dm-surface from-30%",children:n.length>=2&&d.jsx(Ve,{className:"outline-none h-full border-none bg-transparent text-primary pl-4",onClick:()=>T(-C),children:d.jsx(PE,{})})}),d.jsx("div",{ref:i,onMouseDown:w,onMouseLeave:k,onMouseUp:F,onMouseMove:L,className:`w-full h-[100px] px-10 xl:px-12 flex items-center gap-x-6 sm:gap-x-8 xl:gap-x-6 overflow-x-scroll ${n.length>=2&&"cursor-move"} ${f?"scroll-smooth":"scroll-auto"} scrollbar-none`,children:d.jsx(or,{items:n,renderItems:({id:A,label:E,text:_})=>d.jsx(Ve,{variant:"outline",size:"xl",className:`rounded-3xl min-w-[200px] h-full border border-primary text-xs xs:text-sm text-primary dark:text-white hover:bg-primary hover:text-white ${r?"cursor-wait":"active:translate-y-1"}`,onClick:()=>{_!=""&&t(_)},disabled:r,children:E},A)})}),d.jsx("div",{className:"w-[80px] h-full absolute -right-1 hidden xl:flex items-center justify-end bg-gradient-to-l from-white dark:from-dm-surface from-30%",children:n.length>=2&&d.jsx(Ve,{className:"outline-none h-full border-none bg-transparent text-primary pr-4",onClick:()=>T(C),children:d.jsx(NE,{})})})]})};function mp(){return mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mp.apply(null,arguments)}function w6(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}var x6=R.useLayoutEffect,E6=function(e){var n=R.useRef(e);return x6(function(){n.current=e}),n},Wy=function(e,n){if(typeof e=="function"){e(n);return}e.current=n},T6=function(e,n){var r=R.useRef();return R.useCallback(function(i){e.current=i,r.current&&Wy(r.current,null),r.current=n,n&&Wy(n,i)},[n])},Gy={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},S6=function(e){Object.keys(Gy).forEach(function(n){e.style.setProperty(n,Gy[n],"important")})},Ky=S6,$t=null,Qy=function(e,n){var r=e.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function I6(t,e,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),$t||($t=document.createElement("textarea"),$t.setAttribute("tabindex","-1"),$t.setAttribute("aria-hidden","true"),Ky($t)),$t.parentNode===null&&document.body.appendChild($t);var i=t.paddingSize,s=t.borderSize,o=t.sizingStyle,l=o.boxSizing;Object.keys(o).forEach(function(f){var v=f;$t.style[v]=o[v]}),Ky($t),$t.value=e;var c=Qy($t,t);$t.value=e,c=Qy($t,t),$t.value="x";var u=$t.scrollHeight-i,p=u*n;l==="border-box"&&(p=p+i+s),c=Math.max(p,c);var m=u*r;return l==="border-box"&&(m=m+i+s),c=Math.min(m,c),[c,u]}var Yy=function(){},b6=function(e,n){return e.reduce(function(r,i){return r[i]=n[i],r},{})},k6=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],C6=!!document.documentElement.currentStyle,R6=function(e){var n=window.getComputedStyle(e);if(n===null)return null;var r=b6(k6,n),i=r.boxSizing;if(i==="")return null;C6&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},A6=R6;function jE(t,e,n){var r=E6(n);R.useLayoutEffect(function(){var i=function(o){return r.current(o)};if(t)return t.addEventListener(e,i),function(){return t.removeEventListener(e,i)}},[])}var P6=function(e){jE(window,"resize",e)},N6=function(e){jE(document.fonts,"loadingdone",e)},D6=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],j6=function(e,n){var r=e.cacheMeasurements,i=e.maxRows,s=e.minRows,o=e.onChange,l=o===void 0?Yy:o,c=e.onHeightChange,u=c===void 0?Yy:c,p=w6(e,D6),m=p.value!==void 0,f=R.useRef(null),v=T6(f,n),y=R.useRef(0),I=R.useRef(),C=function(){var k=f.current,L=r&&I.current?I.current:A6(k);if(L){I.current=L;var F=I6(L,k.value||k.placeholder||"x",s,i),A=F[0],E=F[1];y.current!==A&&(y.current=A,k.style.setProperty("height",A+"px","important"),u(A,{rowHeight:E}))}},T=function(k){m||C(),l(k)};return R.useLayoutEffect(C),P6(C),N6(C),R.createElement("textarea",mp({},p,{onChange:T,ref:v}))},LE=R.forwardRef(j6);function L6(t){return he({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M87.48 380c1.2-4.38-1.43-10.47-3.94-14.86a42.63 42.63 0 0 0-2.54-3.8 199.81 199.81 0 0 1-33-110C47.64 139.09 140.72 48 255.82 48 356.2 48 440 117.54 459.57 209.85a199 199 0 0 1 4.43 41.64c0 112.41-89.49 204.93-204.59 204.93-18.31 0-43-4.6-56.47-8.37s-26.92-8.77-30.39-10.11a31.14 31.14 0 0 0-11.13-2.07 30.7 30.7 0 0 0-12.08 2.43L81.5 462.78a15.92 15.92 0 0 1-4.66 1.22 9.61 9.61 0 0 1-9.58-9.74 15.85 15.85 0 0 1 .6-3.29z"},child:[]},{tag:"circle",attr:{cx:"160",cy:"256",r:"32"},child:[]},{tag:"circle",attr:{cx:"256",cy:"256",r:"32"},child:[]},{tag:"circle",attr:{cx:"352",cy:"256",r:"32"},child:[]}]})(t)}function ME(t){return he({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(t)}function VE(t){return he({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m476.59 227.05-.16-.07L49.35 49.84A23.56 23.56 0 0 0 27.14 52 24.65 24.65 0 0 0 16 72.59v113.29a24 24 0 0 0 19.52 23.57l232.93 43.07a4 4 0 0 1 0 7.86L35.53 303.45A24 24 0 0 0 16 327v113.31A23.57 23.57 0 0 0 26.59 460a23.94 23.94 0 0 0 13.22 4 24.55 24.55 0 0 0 9.52-1.93L476.4 285.94l.19-.09a32 32 0 0 0 0-58.8z"},child:[]}]})(t)}function M6(t){return he({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 176a80 80 0 1 0 80 80 80.24 80.24 0 0 0-80-80zm172.72 80a165.53 165.53 0 0 1-1.64 22.34l48.69 38.12a11.59 11.59 0 0 1 2.63 14.78l-46.06 79.52a11.64 11.64 0 0 1-14.14 4.93l-57.25-23a176.56 176.56 0 0 1-38.82 22.67l-8.56 60.78a11.93 11.93 0 0 1-11.51 9.86h-92.12a12 12 0 0 1-11.51-9.53l-8.56-60.78A169.3 169.3 0 0 1 151.05 393L93.8 416a11.64 11.64 0 0 1-14.14-4.92L33.6 331.57a11.59 11.59 0 0 1 2.63-14.78l48.69-38.12A174.58 174.58 0 0 1 83.28 256a165.53 165.53 0 0 1 1.64-22.34l-48.69-38.12a11.59 11.59 0 0 1-2.63-14.78l46.06-79.52a11.64 11.64 0 0 1 14.14-4.93l57.25 23a176.56 176.56 0 0 1 38.82-22.67l8.56-60.78A11.93 11.93 0 0 1 209.94 26h92.12a12 12 0 0 1 11.51 9.53l8.56 60.78A169.3 169.3 0 0 1 361 119l57.2-23a11.64 11.64 0 0 1 14.14 4.92l46.06 79.52a11.59 11.59 0 0 1-2.63 14.78l-48.69 38.12a174.58 174.58 0 0 1 1.64 22.66z"},child:[]}]})(t)}const V6=({questionsListRef:t,sendMessageToBot:e,sendSuggestedQueryToBot:n,userMessage:r,setUserMessage:i,isFaqsMenuActive:s,setIsFaqsMenuActive:o})=>{const l=R.useContext(ft),{menuAccessQueries:c}=l.menuAccessQuery,{isChatPaused:u}=l.isChatPaused,p=()=>{o(!s)},m=v=>{const y=r.trim();v.key=="Enter"&&!v.shiftKey&&y!=""&&!u?(e(v,y),i("")):v.key=="Enter"&&!v.shiftKey&&(v.preventDefault(),u||i(""))},f=()=>d.jsxs("section",{id:"questions-list",className:`w-full max-w-[95%] max-h-[500px] md:max-h-[400px] xl:max-h-[300px] absolute bottom-[7%] sm:bottom-[6%] lg:bottom-[5%] px-4 py-5 mb-[160px] rounded-3xl bg-white dark:bg-dm-surface border border-surface dark:border-dm-surface-dark overflow-y-scroll scrollbar-thin scrollbar-track-transparent scrollbar-thumb-surface-dark dark:scrollbar-thumb-dm-surface-dark z-50 ${s?"block opacity-100 visible":"opacity-0 invisible"}`,children:[d.jsxs("div",{className:"mb-4 font-semibold",children:[d.jsx("h1",{className:"capitalize text-black/80 dark:text-white/80",children:"hello there!"}),d.jsx("p",{className:"text-black/50 dark:text-white/50",children:"You can ask me about,"})]}),d.jsx("div",{className:"inline-grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-2 gap-2 ",children:d.jsx(or,{items:c,renderItems:({id:v,label:y,text:I})=>d.jsx(Ve,{variant:"outline",className:`rounded-3xl w-full h-full normal-case border border-primary text-xs xs:text-sm text-primary dark:text-white hover:bg-primary hover:text-white ${u?"cursor-wait":"active:translate-y-1"}`,onClick:()=>n(I),disabled:u,children:y},v)})})]});return d.jsxs("div",{ref:t,className:"w-full flex justify-center items-center",children:[f(),d.jsxs("form",{onSubmit:v=>e(v,r),className:"w-full flex justify-between items-center gap-1 px-2 pt-2",children:[d.jsx(Ve,{variant:"icon",size:"icon",className:`text-primary hover:bg-surface dark:hover:bg-dm-surface ${s&&"bg-primary [&>svg]:text-white hover:bg-primary dark:hover:bg-primary"}`,type:"button",onClick:p,children:d.jsx(cg,{})}),d.jsx("label",{htmlFor:"chat-input",className:"w-full px-2 rounded-3xl flex items-center border border-surface-dark outline-primary focus-within:border-primary dark:border-transparent dark:bg-dm-surface dark:focus-within:bg-dm-surface-light cursor-text",children:d.jsx(LE,{id:"chat-input",name:"chat-input",autoFocus:!0,spellCheck:!1,value:r,onChange:v=>{i(v.target.value),o(!1)},onKeyDown:m,className:"max-h-[100px] w-full dark:text-white outline-none bg-transparent placeholder:text-sm sm:placeholder:text-base px-2 my-3 dark:bg-dm-surface dark:focus:bg-dm-surface-light placeholder:opacity-80 caret-primary dark:caret-secondary scrollbar-thin scrollbar-track-transparent scrollbar-thumb-surface-dark dark:scrollbar-thumb-dm-surface-dark",placeholder:"Type here..."})}),d.jsx(Ve,{variant:"icon",size:"icon",className:"text-primary active:translate-x-1 hover:bg-surface dark:hover:bg-dm-surface cursor-pointer",type:"submit",onClick:()=>o(!1),disabled:!r||u,children:d.jsx(VE,{})})]})]})},O6=()=>{const[t,e]=R.useState("hide");return{backToView:t,setBackToView:e,handleScrollIntoView:r=>{var i;(i=r.current)==null||i.scrollIntoView({behavior:"smooth"})}}},F6=new Intl.DateTimeFormat("en-PH",{timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone,hour:"numeric",minute:"numeric"}),z6=new Intl.DateTimeFormat("en-PH",{timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone,weekday:"short",month:"short",day:"2-digit",year:"numeric"});function U6(t){return he({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M4.681 3H2V2h3.5l.5.5V6H5V4a5 5 0 1 0 4.53-.761l.302-.954A6 6 0 1 1 4.681 3z"},child:[]}]})(t)}const Xy=({message:t})=>d.jsx(Ve,{variant:"empty",className:"w-full flex justify-center group",onClick:()=>location.reload(),children:d.jsxs("div",{className:"flex items-center justify-center gap-2 min-w-[60%] px-4 py-3 mt-3 mb-2 text-center text-white rounded-3xl bg-red-500 capitalize",children:[t,d.jsx(U6,{className:" group-hover:rotate-90"})]})}),B6=({children:t,ref:e,type:n,disabled:r,onClick:i,state:s,className:o})=>{let l="",c="";switch(n){case"submit":l="active:translate-x-2";break;case"reset":l="active:tranform active:scale-75"}if(s)switch(s){case!0:c="bg-primary [&>svg>line]:text-white";break}return d.jsx("button",{ref:e,type:n,onClick:i,disabled:r,className:`p-3 rounded-full flex items-center justify-center text-2xl text-primary cursor-pointer ${l} ${c} ${o}`,children:t})},$6=()=>{const t=R.useContext(ft),{configuration:e}=t.configuration;return d.jsxs("div",{className:"w-full mt-3 mb-2 rounded-3xl flex gap-2 items-center ",children:[d.jsx("img",{src:e.icon,alt:"Chatbot Icon",width:35,height:35,className:"rounded-full aspect-square object-cover select-none"}),d.jsxs("div",{className:"flex space-x-1 items-center rounded-3xl px-2 py-3 ",children:[d.jsx("div",{className:"h-2 w-2 bg-surface-dark dark:bg-dm-surface-light rounded-full animate-bounce [animation-delay:-0.3s]"}),d.jsx("div",{className:"h-2 w-2 bg-surface-dark dark:bg-dm-surface-light rounded-full animate-bounce [animation-delay:-0.15s]"}),d.jsx("div",{className:"h-2 w-2 bg-surface-dark dark:bg-dm-surface-light rounded-full animate-bounce"})]})]})},H6=Fl("w-full h-full animate-pulse bg-surface-dark dark:bg-dm-surface-light rounded pointer-events-none",{variants:{variant:{default:"h-[100px] rounded-xl",icon:"rounded-full aspect-square",chat:"max-w-[80%] rounded-3xl overflow-hidden"}},defaultVariants:{variant:"default"}}),li=R.forwardRef(({className:t,variant:e,...n},r)=>d.jsx("div",{ref:r,className:yl(H6({className:t,variant:e})),...n})),q6=()=>{const t=[{role:"bot"},{role:"user"},{role:"bot"},{role:"user"},{role:"bot"}];return d.jsx("section",{id:"messages",children:d.jsx(or,{items:t,renderItems:(e,n)=>d.jsxs(li,{variant:"chat",className:`${e.role=="bot"?"bot chat flex items-center gap-2":"user chat flex justify-end ml-auto"} mt-3 mb-2`,children:[e.role=="bot"&&d.jsx(li,{variant:"icon",className:"bg-surface dark:bg-dm-surface w-[35px] h-[35px] rounded-full select-none"}),d.jsx(li,{id:"chat",variant:"chat",className:`${e.role=="bot"?"bg-surface dark:bg-dm-surface w-full h-[96px]":"bg-primary w-[216px] h-[64px]"} `})]},n)})})},W6=Fl("",{variants:{color:{default:"text-secondary"},size:{default:"text-base",lg:"text-lg",xl:"text-xl",xxl:"text-2xl",xxxl:"text-3xl",four:"text-4xl",five:"text-5xl",six:"text-6xl",seven:"text-7xl"}},defaultVariants:{color:"default",size:"default"}}),G6=Fl("",{variants:{numberSize:{xs:"text-xs",sm:"text-sm",default:"text-base",lg:"text-lg",xl:"text-xl",xxl:"text-2xl",xxxl:"text-3xl",four:"text-4xl",five:"text-5xl",six:"text-6xl",seven:"text-7xl"}},defaultVariants:{numberSize:"default"}}),OE=({className:t,color:e,size:n,numberSize:r})=>{const i=R.useContext(Ss),{averageRating:s}=i.rating;return d.jsxs("div",{className:`flex items-center gap-2 ${t}`,children:[d.jsx(DE,{className:`${yl(W6({color:e,size:n}))}`}),d.jsx("span",{className:`${yl(G6({numberSize:r}))} dark:text-white/80`,children:s})]})},K6=Fl("w-full h-full",{variants:{variant:{default:"",icon:"rounded-full aspect-square object-cover",iconBorder:"rounded-full border border-primary aspect-square object-cover"},size:{default:"max-w-[80px]",sm:"max-w-[50px]",md:"max-w-[100px]",lg:"max-w-[150px]",xl:"max-w-[200px]"}},defaultVariants:{variant:"default",size:"default"}}),fg=R.forwardRef(({src:t,alt:e,className:n,size:r,variant:i,...s},o)=>d.jsx("img",{src:t,alt:e,ref:o,className:yl(K6({className:n,variant:i,size:r})),...s})),Q6=({className:t,miniProfileRef:e})=>{const n=R.useContext(ft),{configuration:r}=n.configuration,i=R.useContext(Ss),{averageRating:s}=i.rating;return d.jsxs("section",{id:"bot-mini-profile",className:`flex flex-col items-center pt-10 ${t}`,ref:e,children:[d.jsx(fg,{src:r.icon,alt:"Chatbot Icon",variant:"icon",size:"lg",className:"mb-2"}),d.jsxs("div",{id:"details",className:"w-full flex flex-col items-center text-center mb-4 p-2",children:[d.jsxs("div",{className:"mb-4 space-y-2",children:[d.jsx(ug,{className:"max-w-full font-bold text-2xl sm:text-4xl line-clamp-5",children:r.name?r.name:Qn.name}),d.jsx("h3",{className:"max-w-full dark:text-white sm:text-lg  line-clamp-5",children:r.slogan})]}),s!=0&&d.jsx(OE,{size:"four",numberSize:"xl"})]}),d.jsx("hr",{className:"w-full border-surface-dark dark:border-dm-surface-light"})]})};function Y6(t){return he({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(t)}function FE(t){return he({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"},child:[]}]})(t)}function Jy(t){return he({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"},child:[]}]})(t)}const X6=({deptName:t,service:e})=>{const[n,r]=R.useState(!1),i=()=>{r(!n)};return d.jsxs("div",{className:"relative flex flex-col m-2",children:[d.jsxs("button",{onClick:()=>i(),className:`px-4 py-3 text-left cursor-pointer flex justify-between items-center gap-2 hover:bg-primary dark:hover:bg-primary z-20 ${n?"rounded-b-none rounded-t-3xl bg-primary [&>p]:text-white [&>svg>path]:text-white":"rounded-3xl bg-surface-dark/60 dark:bg-dm-surface-light [&>p]:hover:text-white [&>svg>path]:hover:text-white"}`,children:[d.jsx("p",{className:"max-w-[200px]",children:t}),d.jsx(Y6,{className:`${n?"rotate-180 ":""}`})]}),d.jsx("div",{className:`w-full rounded-b-3xl z-10 overflow-hidden ${n==!0?"translate-y-0 bg-primary max-h-[1000px]":"-translate-y-[15%] rounded-3xl opacity-0 max-h-0 bg-surface-dark dark:bg-dm-surface-light"}`,children:d.jsx("div",{className:"px-4 py-3",children:d.jsxs("div",{className:"mb-2",children:[d.jsx("div",{className:"text-white text-lg font-semibold mb-1",children:"Here are the services we offer:"}),d.jsx("div",{className:"text-white",children:e})]})})})]})},J6=({className:t,image:e})=>d.jsx("img",{id:"image-dimmer",src:e,alt:"",className:`w-full h-full fixed inset-0 object-cover z-50 blur-xl backdrop-blur-xl brightness-[0.3] ${t}`}),ga=({children:t,className:e,role:n,timestamp:r,toggleFullTimestamp:i})=>{const s=R.useContext(Fo),{fontSize:o}=s.size,l=()=>{switch(n){case"user":return d.jsxs("div",{className:`rounded-3xl shadow px-4 py-3 space-y-2 break-words selection:bg-secondary selection:text-black ${e}`,onClick:i,children:[d.jsx("div",{id:"chat",style:{fontSize:o},className:"relative dark:text-white",children:t}),d.jsx("div",{id:"timestamp",className:"w-full text-gray-200 dark:text-gray-300 text-xs text-right opacity-80 z-[9]",children:r})]});default:return d.jsxs("div",{className:`rounded-3xl shadow px-4 py-3 space-y-2 break-words ${e}`,onClick:i,children:[d.jsx("div",{id:"chat",style:{fontSize:o},className:"relative dark:text-white",children:t}),d.jsx("div",{id:"timestamp",className:"text-gray-500 dark:text-gray-300 text-xs text-right opacity-80 z-[9]",children:r})]})}};return d.jsx(d.Fragment,{children:l()})};function zE(t){return he({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6.2253 4.81108C5.83477 4.42056 5.20161 4.42056 4.81108 4.81108C4.42056 5.20161 4.42056 5.83477 4.81108 6.2253L10.5858 12L4.81114 17.7747C4.42062 18.1652 4.42062 18.7984 4.81114 19.1889C5.20167 19.5794 5.83483 19.5794 6.22535 19.1889L12 13.4142L17.7747 19.1889C18.1652 19.5794 18.7984 19.5794 19.1889 19.1889C19.5794 18.7984 19.5794 18.1652 19.1889 17.7747L13.4142 12L19.189 6.2253C19.5795 5.83477 19.5795 5.20161 19.189 4.81108C18.7985 4.42056 18.1653 4.42056 17.7748 4.81108L12 10.5858L6.2253 4.81108Z",fill:"currentColor"},child:[]}]})(t)}function Z6(t){return he({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M4 4H8V8H4V4Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M4 10H8V14H4V10Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M8 16H4V20H8V16Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M10 4H14V8H10V4Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M14 10H10V14H14V10Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M10 16H14V20H10V16Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M20 4H16V8H20V4Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M16 10H20V14H16V10Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M20 16H16V20H20V16Z",fill:"currentColor"},child:[]}]})(t)}function e9(t){return he({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.5 4.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293z"},child:[]}]})(t)}function t9(t){return he({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5 7.5a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v.938l.4 1.599a1 1 0 0 1-.416 1.074l-.93.62a1 1 0 0 1-1.11 0l-.929-.62a1 1 0 0 1-.415-1.074L5 8.438zm2 0H6v.938a1 1 0 0 1-.03.243l-.4 1.598.93.62.929-.62-.4-1.598A1 1 0 0 1 7 8.438z"},child:[]},{tag:"path",attr:{d:"M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1h-2v1h-1v1h1v1h-1v1h1v1H6V5H5V4h1V3H5V2h1V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5z"},child:[]}]})(t)}function n9(t){return he({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2v-1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zm-7.839 9.166v.522q0 .384-.117.641a.86.86 0 0 1-.322.387.9.9 0 0 1-.469.126.9.9 0 0 1-.471-.126.87.87 0 0 1-.32-.386 1.55 1.55 0 0 1-.117-.642v-.522q0-.386.117-.641a.87.87 0 0 1 .32-.387.87.87 0 0 1 .471-.129q.264 0 .469.13a.86.86 0 0 1 .322.386q.117.255.117.641m.803.519v-.513q0-.565-.205-.972a1.46 1.46 0 0 0-.589-.63q-.381-.22-.917-.22-.533 0-.92.22a1.44 1.44 0 0 0-.589.627q-.204.406-.205.975v.513q0 .563.205.973.205.406.59.627.386.216.92.216.535 0 .916-.216.383-.22.59-.627.204-.41.204-.973M0 11.926v4h1.459q.603 0 .999-.238a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.59-.68q-.395-.234-1.004-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082H.79V12.57Zm7.422.483a1.7 1.7 0 0 0-.103.633v.495q0 .369.103.627a.83.83 0 0 0 .298.393.85.85 0 0 0 .478.131.9.9 0 0 0 .401-.088.7.7 0 0 0 .273-.248.8.8 0 0 0 .117-.364h.765v.076a1.27 1.27 0 0 1-.226.674q-.205.29-.55.454a1.8 1.8 0 0 1-.786.164q-.54 0-.914-.216a1.4 1.4 0 0 1-.571-.627q-.194-.408-.194-.976v-.498q0-.568.197-.978.195-.411.571-.633.378-.223.911-.223.328 0 .607.097.28.093.489.272a1.33 1.33 0 0 1 .466.964v.073H9.78a.85.85 0 0 0-.12-.38.7.7 0 0 0-.273-.261.8.8 0 0 0-.398-.097.8.8 0 0 0-.475.138.87.87 0 0 0-.301.398"},child:[]}]})(t)}function r9(t){return he({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V11h-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zm-6.839 9.688v-.522a1.5 1.5 0 0 0-.117-.641.86.86 0 0 0-.322-.387.86.86 0 0 0-.469-.129.87.87 0 0 0-.471.13.87.87 0 0 0-.32.386 1.5 1.5 0 0 0-.117.641v.522q0 .384.117.641a.87.87 0 0 0 .32.387.9.9 0 0 0 .471.126.9.9 0 0 0 .469-.126.86.86 0 0 0 .322-.386 1.55 1.55 0 0 0 .117-.642m.803-.516v.513q0 .563-.205.973a1.47 1.47 0 0 1-.589.627q-.381.216-.917.216a1.86 1.86 0 0 1-.92-.216 1.46 1.46 0 0 1-.589-.627 2.15 2.15 0 0 1-.205-.973v-.513q0-.569.205-.975.205-.411.59-.627.386-.22.92-.22.535 0 .916.22.383.219.59.63.204.406.204.972M1 15.925v-3.999h1.459q.609 0 1.005.235.396.233.589.68.196.445.196 1.074 0 .634-.196 1.084-.197.451-.595.689-.396.237-.999.237zm1.354-3.354H1.79v2.707h.563q.277 0 .483-.082a.8.8 0 0 0 .334-.252q.132-.17.196-.422a2.3 2.3 0 0 0 .068-.592q0-.45-.118-.753a.9.9 0 0 0-.354-.454q-.237-.152-.61-.152Zm6.756 1.116q0-.373.103-.633a.87.87 0 0 1 .301-.398.8.8 0 0 1 .475-.138q.225 0 .398.097a.7.7 0 0 1 .273.26.85.85 0 0 1 .12.381h.765v-.073a1.33 1.33 0 0 0-.466-.964 1.4 1.4 0 0 0-.49-.272 1.8 1.8 0 0 0-.606-.097q-.534 0-.911.223-.375.222-.571.633-.197.41-.197.978v.498q0 .568.194.976.195.406.571.627.375.216.914.216.44 0 .785-.164t.551-.454a1.27 1.27 0 0 0 .226-.674v-.076h-.765a.8.8 0 0 1-.117.364.7.7 0 0 1-.273.248.9.9 0 0 1-.401.088.85.85 0 0 1-.478-.131.83.83 0 0 1-.298-.393 1.7 1.7 0 0 1-.103-.627zm5.092-1.76h.894l-1.275 2.006 1.254 1.992h-.908l-.85-1.415h-.035l-.852 1.415h-.862l1.24-2.015-1.228-1.984h.932l.832 1.439h.035z"},child:[]}]})(t)}function i9(t){return he({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V11h-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zm-9.736 7.35v3.999h-.791v-1.714H1.79v1.714H1V11.85h.791v1.626h1.682V11.85h.79Zm2.251.662v3.337h-.794v-3.337H4.588v-.662h3.064v.662zm2.176 3.337v-2.66h.038l.952 2.159h.516l.946-2.16h.038v2.661h.715V11.85h-.8l-1.14 2.596H9.93L8.79 11.85h-.805v3.999zm4.71-.674h1.696v.674H12.61V11.85h.79v3.325Z"},child:[]}]})(t)}function s9(t){return he({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z"},child:[]}]})(t)}function o9(t){return he({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m2.817-1.333h-1.6v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474.162-.302.161-.677 0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H4.15V12.48h.66q.327 0 .512.181.185.183.185.522m2.767-.67v3.336H7.48v-3.337H6.346v-.662h3.065v.662z"},child:[]}]})(t)}function a9(t){return he({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V11h-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.5 11.85h1.6q.434 0 .732.179.302.175.46.477t.158.677-.16.677q-.159.299-.464.474a1.45 1.45 0 0 1-.732.173H2.29v1.342H1.5zm2.06 1.714a.8.8 0 0 0 .085-.381q0-.34-.185-.521-.185-.182-.513-.182h-.659v1.406h.66a.8.8 0 0 0 .374-.082.57.57 0 0 0 .238-.24m1.302-1.714h1.6q.434 0 .732.179.302.175.46.477t.158.677-.16.677q-.158.299-.464.474a1.45 1.45 0 0 1-.732.173h-.803v1.342h-.79zm2.06 1.714a.8.8 0 0 0 .085-.381q0-.34-.185-.521-.184-.182-.513-.182H5.65v1.406h.66a.8.8 0 0 0 .374-.082.57.57 0 0 0 .238-.24m2.852 2.285v-3.337h1.137v-.662H7.846v.662H8.98v3.337zm3.796-3.999h.893l-1.274 2.007 1.254 1.992h-.908l-.85-1.415h-.035l-.853 1.415h-.861l1.24-2.016-1.228-1.983h.931l.832 1.439h.035z"},child:[]}]})(t)}function l9(t){return he({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-2v-1h2a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.928 15.849v-3.337h1.136v-.662H0v.662h1.134v3.337zm4.689-3.999h-.894L4.9 13.289h-.035l-.832-1.439h-.932l1.228 1.983-1.24 2.016h.862l.853-1.415h.035l.85 1.415h.907l-1.253-1.992zm1.93.662v3.337h-.794v-3.337H6.619v-.662h3.064v.662H8.546Z"},child:[]}]})(t)}function c9(t){return he({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM6.472 15.29a1.2 1.2 0 0 1-.111-.449h.765a.58.58 0 0 0 .254.384q.106.073.25.114.143.041.319.041.246 0 .413-.07a.56.56 0 0 0 .255-.193.5.5 0 0 0 .085-.29.39.39 0 0 0-.153-.326q-.152-.12-.462-.193l-.619-.143a1.7 1.7 0 0 1-.539-.214 1 1 0 0 1-.351-.367 1.1 1.1 0 0 1-.123-.524q0-.366.19-.639.19-.272.527-.422.338-.15.777-.149.457 0 .78.152.324.153.5.41.18.255.2.566h-.75a.56.56 0 0 0-.12-.258.6.6 0 0 0-.247-.181.9.9 0 0 0-.369-.068q-.325 0-.513.152a.47.47 0 0 0-.184.384q0 .18.143.3a1 1 0 0 0 .405.175l.62.143q.326.075.566.211a1 1 0 0 1 .375.358q.135.222.135.56 0 .37-.188.656a1.2 1.2 0 0 1-.539.439q-.351.158-.858.158-.381 0-.665-.09a1.4 1.4 0 0 1-.478-.252 1.1 1.1 0 0 1-.29-.375m-2.945-3.358h-.893L1.81 13.37h-.036l-.832-1.438h-.93l1.227 1.983L0 15.931h.861l.853-1.415h.035l.85 1.415h.908L2.253 13.94zm2.727 3.325H4.557v-3.325h-.79v4h2.487z"},child:[]}]})(t)}function u9(t){return he({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V11h-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM7.86 14.841a1.13 1.13 0 0 0 .401.823q.195.162.479.252.284.091.665.091.507 0 .858-.158.355-.158.54-.44a1.17 1.17 0 0 0 .187-.656q0-.336-.135-.56a1 1 0 0 0-.375-.357 2 2 0 0 0-.565-.21l-.621-.144a1 1 0 0 1-.405-.176.37.37 0 0 1-.143-.299q0-.234.184-.384.188-.152.513-.152.214 0 .37.068a.6.6 0 0 1 .245.181.56.56 0 0 1 .12.258h.75a1.1 1.1 0 0 0-.199-.566 1.2 1.2 0 0 0-.5-.41 1.8 1.8 0 0 0-.78-.152q-.44 0-.777.15-.336.149-.527.421-.19.273-.19.639 0 .302.123.524t.351.367q.229.143.54.213l.618.144q.31.073.462.193a.39.39 0 0 1 .153.326.5.5 0 0 1-.085.29.56.56 0 0 1-.255.193q-.168.07-.413.07-.176 0-.32-.04a.8.8 0 0 1-.249-.115.58.58 0 0 1-.255-.384zm-3.726-2.909h.893l-1.274 2.007 1.254 1.992h-.908l-.85-1.415h-.035l-.853 1.415H1.5l1.24-2.016-1.228-1.983h.931l.832 1.438h.036zm1.923 3.325h1.697v.674H5.266v-3.999h.791zm7.636-3.325h.893l-1.274 2.007 1.254 1.992h-.908l-.85-1.415h-.035l-.853 1.415h-.861l1.24-2.016-1.228-1.983h.931l.832 1.438h.036z"},child:[]}]})(t)}function d9(t){return he({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.727 6.727H14V0H4.91c-.905 0-1.637.732-1.637 1.636v20.728c0 .904.732 1.636 1.636 1.636h14.182c.904 0 1.636-.732 1.636-1.636V6.727h-6zm-.545 10.455H7.09v-1.364h7.09v1.364zm2.727-3.273H7.091v-1.364h9.818v1.364zm0-3.273H7.091V9.273h9.818v1.363zM14.727 6h6l-6-6v6z"},child:[]}]})(t)}const Zy=({chatBy:t,chat:e,img:n,video:r,image:i,file:s,fileLink:o,fileType:l,link:c,depts:u,renderDeptsContent:p,timestamp:m,fullTimestamp:f,loadMore:v,numberOfDeptsToShow:y})=>{const[I,C]=R.useState(!1),T=R.useRef(null),[w,k]=R.useState(!1),[L,F]=R.useState(!1),A=()=>{C(!I)},E=()=>{k(!0)},_=()=>{switch(l){case"doc":return d.jsx(n9,{});case"docx":return d.jsx(r9,{});case"pdf":return d.jsx(s9,{});case"html":return d.jsx(i9,{});case"xls":return d.jsx(c9,{});case"xlsx":return d.jsx(u9,{});case"ppt":return d.jsx(o9,{});case"pptx":return d.jsx(a9,{});case"txt":return d.jsx(l9,{});case"zip":return d.jsx(t9,{});default:return d.jsx(d9,{})}};R.useEffect(()=>{const b=({target:j})=>{var D;(D=T.current)!=null&&D.contains(j)||C(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[I]);const S=()=>{switch(t){case"bot":return d.jsxs("div",{className:`${t} chat flex flex-col`,children:[d.jsxs("div",{className:"w-full h-max relative flex items-center gap-2 mt-3 mb-2",children:[d.jsx("img",{src:n,alt:"Chatbot Icon",width:35,height:35,className:"rounded-full aspect-square object-cover select-none"}),(e||c||s||o||u)&&d.jsxs("div",{className:"max-w-[70%]",children:[e&&d.jsx(ga,{timestamp:m,toggleFullTimestamp:()=>F(!L),className:`${L?"bg-surface-dark/50 dark:bg-dm-surface-light":"bg-surface dark:bg-dm-surface hover:bg-surface-dark/50 hover:dark:bg-dm-surface-light"} cursor-pointer`,children:d.jsx("div",{className:"cursor-text whitespace-pre-wrap",children:e})}),c&&d.jsx(ga,{timestamp:m,toggleFullTimestamp:()=>F(!L),className:`${L?"bg-surface-dark/50 dark:bg-dm-surface-light":"bg-surface dark:bg-dm-surface hover:bg-surface-dark/50 hover:dark:bg-dm-surface-light"} cursor-pointer`,children:d.jsx("div",{className:"cursor-text whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:c}})}),s&&o&&d.jsx(md,{to:o,target:"_blank",className:"group",children:d.jsx(ga,{timestamp:m,className:"bg-surface dark:bg-dm-surface hover:bg-surface-dark/50 hover:dark:bg-dm-surface-light cursor-pointer",children:d.jsxs("div",{className:"flex items-center gap-2 font-semibold text-primary dark:text-secondary",children:[d.jsx("span",{className:"text-xl",children:_()}),s]})})}),u&&p&&y&&d.jsxs(ga,{timestamp:m,toggleFullTimestamp:()=>F(!L),className:"bg-surface-dark/50 dark:bg-dm-surface cursor-pointer",children:[p(),d.jsx("button",{onClick:v,className:`w-full absolute -bottom-1 bg-gradient-to-t from-surface dark:from-dm-surface from-15% h-[100px] z-30 backdrop-blur-xs  ${(u==null?void 0:u.length)<=y?"hidden":"block"} hover:backdrop-blur-0 [&>p]:hover:opacity-15`,children:d.jsxs("p",{className:"flex flex-col items-center justify-center gap-1 font-semibold text-primary dark:text-secondary drop-shadow-lg animate-bounce text-base",children:["Click here to show more",d.jsx(e9,{})]})})]})]}),i&&d.jsx("div",{className:`${w?"w-max h-max":"w-full h-[400px] bg-surface-dark/50 dark:bg-dm-surface-light animate-pulse aspect-square"} max-w-[70%] sm:max-w-[70%] md:max-w-[60%] lg:max-w-[50%] xl:max-w-[70%] cursor-pointer hover:opacity-70 rounded-xl overflow-hidden`,onClick:A,children:d.jsx("img",{src:i,alt:"",className:"rounded-xl",onLoad:E})}),r&&d.jsx("video",{controls:!0,muted:!0,className:"w-max max-w-[70%] md:max-w-[60%] max-h-max rounded-xl outline-primary object-contain cursor-pointer",children:d.jsx("source",{src:r,type:"video/mp4"})})]}),d.jsx("span",{className:`${L?"h-max mt-1":"h-0 opacity-0"} text-xs ml-12 text-black/50 dark:text-white/50`,children:f})]});case"user":return d.jsxs("div",{className:`${t} chat flex flex-col items-end`,children:[d.jsx("div",{className:"w-full flex justify-end mt-3 mb-2",children:d.jsx(ga,{timestamp:m,role:"user",className:`max-w-[70%] ${L?"bg-primary-dark dark:bg-primary-light":"bg-primary hover:bg-primary-dark dark:hover:bg-primary-light"} cursor-pointer text-white`,toggleFullTimestamp:()=>F(!L),children:d.jsx("span",{className:"cursor-text whitespace-pre-line",children:e})})}),d.jsx("span",{className:`${L?"h-max mt-1":"h-0 opacity-0"} text-xs mr-1 text-black/50 dark:text-white/50`,children:f})]})}};return d.jsxs(d.Fragment,{children:[I&&d.jsxs(d.Fragment,{children:[d.jsx(Ve,{variant:"icon",size:"icon",className:"fixed top-10 right-10 z-[100] text-white bg-error hover:bg-error/80 [&>svg>path]:hover:text-white",onClick:A,children:d.jsx(zE,{})}),d.jsx("div",{className:"fixed top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] w-screen h-screen flex justify-center items-center p-[4vw] z-[90]",children:d.jsx("img",{src:i,alt:"",className:"w-max max-w-[90%] h-max max-h-full",ref:T})}),d.jsx(J6,{image:i})]}),S()]})},h9=4,f9=1,p9=({role:t,chat:e,image:n,video:r,file:i,fileLink:s,fileType:o,link:l,depts:c,timestamp:u,fullTimestamp:p})=>{const m=R.useContext(ft),{configuration:f}=m.configuration,[v,y]=R.useState(4),I=f9*v,C=I-v,T=c==null?void 0:c.slice(C,I),w=()=>{y(v+h9)},k=()=>{if(c)return d.jsx(or,{items:T,renderItems:(F,A)=>d.jsx(X6,{deptName:F.deptName,service:F.service,steps:F.steps,requirements:F.requirements},A)})},L=()=>{if(t==="bot")return d.jsx(Zy,{chatBy:t,chat:e,img:f.icon,image:n,video:r,file:i,fileLink:s,fileType:o,link:l,depts:c,renderDeptsContent:k,timestamp:u,fullTimestamp:p,loadMore:w,numberOfDeptsToShow:v});if(t==="user")return d.jsx(Zy,{chatBy:t,chat:e,timestamp:u,fullTimestamp:p})};return d.jsx(d.Fragment,{children:L()})},m9=15,g9=10,v9=({latestChat:t})=>{const e=R.useContext(ft),{conversation:n}=e.conversation,{error:r}=e.error,{isOnline:i}=e.isOnline,{isBotTyping:s}=e.isTyping,{backToView:o,setBackToView:l,handleScrollIntoView:c}=O6(),[u,p]=R.useState(m9),[m,f]=R.useState(!1),v=n.slice(Math.max(n.length-u,0)),y=R.useRef(null),I=R.useRef(null),C=async w=>{var E;const k=w.currentTarget.scrollTop,F=(w.currentTarget.scrollHeight-457)/2,A=(E=y.current)==null?void 0:E.children.length;try{typeof t.current=="object"&&A&&(k<=F&&A>10?l("show"):l("hide"),v.length!=n.length&&k==0&&(console.log("Loading more chats"),f(!0),await Wn(1),f(!1),p(u+g9),l6(I)))}catch(_){console.log(_)}},T=()=>{if(n)return d.jsx(or,{items:v,renderItems:w=>d.jsx(p9,{role:w.role,chat:w.chat,image:w.image,video:w.video,file:w.file,fileLink:w.fileLink,fileType:w.fileType,link:w.link,depts:w.depts,timestamp:F6.format(new Date(w.timestamp.seconds*1e3)),fullTimestamp:z6.format(new Date(w.timestamp.seconds*1e3))},w.chatId)})};return d.jsxs(d.Fragment,{children:[d.jsx(B6,{className:`${o} absolute bottom-[25%] animate-bounce bg-surface hover:bg-primary [&>svg>path]:hover:text-white dark:bg-dm-surface dark:border-transparent dark:hover:bg-dm-surface-dark [&>svg>path]:dark:hover:text-primary z-50`,onClick:()=>c(t),children:d.jsx(p6,{})}),d.jsxs("section",{className:"relative w-full h-full px-4 py-6 overflow-y-scroll scrollbar-thin scrollbar-track-transparent scrollbar-thumb-surface-dark dark:scrollbar-thumb-dm-surface",onScroll:C,children:[d.jsx(Q6,{className:"mb-8",miniProfileRef:I}),m&&d.jsx(AE,{}),n?d.jsxs("div",{id:"chats",ref:y,children:[T(),s&&d.jsx($6,{})]}):d.jsx(q6,{}),r&&d.jsx(Xy,{message:"something went wrong!"}),!i&&d.jsx(Xy,{message:"no internet connection."}),d.jsx("div",{ref:t})]})]})},UE=({className:t,message:e})=>d.jsx("div",{id:"screen-dimmer",className:`w-full h-full fixed top-0 inset-x-0 flex justify-center items-center pr-[30%] ${t}`,children:d.jsx("p",{className:"text-lg text-gray-300 animate-bounce select-none",children:e})});function y9(t){return he({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91zM4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58A2.01 2.01 0 0 0 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29zM20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm4 3.43c0-.81-.48-1.53-1.22-1.85A6.95 6.95 0 0 0 20 14c-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24v-1.57zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3z"},child:[]}]})(t)}const e1=[{name:"appearance",settingType:"chat",icon:L6},{name:"sound",settingType:"chat",icon:y6},{name:"chatbot team",settingType:"about",icon:y9},{name:"security",settingType:"about",icon:v6}],zh=({name:t,checkedIf:e,onClick:n,onChange:r,state:i,icon:s})=>d.jsxs("label",{htmlFor:t,className:`${i?"w-full":"w-max md:w-full "} ${wE({variant:"settings",size:"full"})}`,onClick:n,children:[d.jsx("input",{type:"radio",name:"settings",id:t,value:t,checked:e,onChange:r,className:"hidden"}),i?d.jsx("span",{className:"md:block max-w-full truncate",children:t}):d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"hidden md:block max-w-full truncate",children:t}),d.jsx("div",{className:"text-xl p-0 md:hidden",children:s})]})]}),t1=({children:t})=>d.jsxs("div",{className:"flex flex-col space-y-2 mb-4",children:[t,d.jsx("hr",{className:"border-surface-dark dark:border-dm-surface "})]}),n1=({name:t})=>d.jsx("p",{className:"w-full min-h-[35px] md:min-h-0 md:mb-2 text-xs text-black/60 dark:text-white/50 font-helvetica-bold capitalize md:px-4 line-clamp-2 break-words",children:t}),_9=({state:t,handleSettingsChange:e,changeSetting:n})=>{const r=R.useContext(ft),{configuration:i}=r.configuration,[s,o]=R.useState(!1),l=R.useRef(null),c=()=>{o(!s)};return R.useEffect(()=>{const u=({target:p})=>{var m;(m=l.current)!=null&&m.contains(p)||o(!1)};return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[]),d.jsx(d.Fragment,{children:d.jsxs("nav",{className:`absolute top-0 left-0 bottom-0 h-full px-4 py-10 flex flex-col items-start sm:justify-between bg-surface dark:bg-dm-surface-dark ${s?"w-[50%] md:w-[20%]":"w-[20%] sm:w-[15%] md:w-[20%]"} z-50`,ref:l,children:[d.jsx(Ve,{variant:"icon",size:"icon",onClick:c,className:`${s?"bg-primary [&>svg>line]:text-white":"hover:bg-surface-dark dark:hover:bg-dm-surface"} [&>svg>line]:dark:text-white md:hidden mb-10`,children:d.jsx(cg,{})}),d.jsxs("div",{className:"w-full",children:[d.jsxs(t1,{children:[d.jsx(n1,{name:"chat settings"}),e1.filter(u=>u.settingType==="chat").map(u=>d.jsx(zh,{name:u.name,checkedIf:t==u.name,onClick:()=>n(u.name),onChange:e,icon:d.jsx(u.icon,{}),state:s},u.name))]}),d.jsxs(t1,{children:[d.jsx(n1,{name:"about"}),d.jsx(zh,{name:i.name,checkedIf:t==i.name,onClick:()=>n(i.name),onChange:e,icon:d.jsx(g6,{}),state:s}),e1.filter(u=>u.settingType==="about").map(u=>d.jsx(zh,{name:u.name,checkedIf:t==u.name,onClick:()=>n(u.name),onChange:e,icon:d.jsx(u.icon,{}),state:s},u.name))]})]}),d.jsx(SE,{className:"text-xs px-2 md:px-4 text-black/60 dark:text-white/50 mt-auto",text:`${s?"Version ":"v"}`})]})})},Od=({text:t="Settings Title"})=>d.jsx("h1",{className:"capitalize text-3xl font-bold dark:text-white w-max",children:t}),w9="suggested messages",x9=[{displayedText:"City Hall Location",message:"Where can I find the City Hall of Bacoor?"},{displayedText:"what can you provide?",message:"what can you provide?"},{displayedText:"List of hotlines",message:"can I get a list of hotlines?"},{displayedText:"is there any vacant jobs?",message:"is there any vacant jobs?"},{displayedText:"story of bacoor",message:"story of bacoor"}],E9={name:w9,list:x9},r1=({style:t,chat:e,linkedChat:n})=>{const r=R.useContext(ft),{configuration:i}=r.configuration;return d.jsx("div",{style:t,className:"bot chat",children:d.jsxs("div",{className:"w-full relative flex items-center gap-2 mt-3 mb-2",children:[d.jsx("img",{src:i.icon,alt:"Chatbot Icon",width:35,height:35,className:"rounded-full aspect-square object-cover select-none"}),e&&d.jsxs("div",{className:"max-w-[80%] rounded-3xl shadow bg-surface dark:bg-dm-surface px-4 py-3 space-y-2 break-words",children:[d.jsxs("div",{id:"chat",className:"dark:text-white",children:[e,n&&d.jsx("div",{className:"text-primary dark:text-secondary font-semibold hover:underline",children:n})]}),d.jsx("div",{id:"timeSent",className:"w-full text-gray-500 dark:text-gray-300 text-xs text-right opacity-80",children:new Date().toLocaleTimeString().replace(/(.*)\D\d+/,"$1")})]})]})})},i1=({style:t,chat:e})=>d.jsx("div",{style:t,className:"user chat",children:d.jsx("div",{className:"w-full flex justify-end mt-3 mb-2",children:d.jsxs("div",{className:"max-w-[80%] rounded-3xl shadow bg-primary text-white px-4 py-3 space-y-2 break-words",children:[d.jsx("p",{id:"chat",children:e}),d.jsx("div",{id:"timeSent",className:"w-full text-gray-300 text-xs text-right opacity-80",children:new Date().toLocaleTimeString().replace(/(.*)\D\d+/,"$1")})]})})}),T9=()=>{const t=R.useContext(ft),{configuration:e}=t.configuration,n=R.useContext(Fo),{fontSize:r}=n.size,{fontFamily:i}=n.family,s=R.useRef(null),o=s.current,[l,c]=R.useState(!1),[u,p]=R.useState(0),[m,f]=R.useState(0),[v,y]=R.useState("auto"),[I,C]=R.useState(0),T=200,w=E=>{let _=I+E;o&&(_>=o.scrollWidth-128?_=0:_<=0&&(_=o.scrollWidth),o.scrollLeft=_),y("smooth"),C(_)},k=E=>{y("auto"),c(!0),o&&(p(E.pageX- -o.offsetLeft),f(o.scrollLeft))},L=()=>{c(!1)},F=E=>{if(y("auto"),!!l&&(E.preventDefault(),o)){const S=(E.pageX-o.offsetLeft-u)*2;o.scrollLeft=m-S}},A=()=>{c(!1)};return d.jsxs("div",{className:"max-w-[500px] w-full h-[700px] hidden md:flex flex-col items-center bg-background dark:bg-dm-background border border-surface-dark dark:border-dm-surface rounded-xl",style:{fontFamily:i},children:[d.jsx("header",{className:"w-full flex items-center justify-between px-4 py-4 mr-auto shadow-md dark:shadow-dm-surface-dark",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("img",{src:e.icon,alt:"",width:45,height:45,className:"rounded-full sm:w-[45px] sm:h-[45px] aspect-square object-cover select-none"}),d.jsx("h3",{className:"text-2xl capitalize font-semibold dark:text-white",children:"preview"})]})}),d.jsxs("div",{className:"w-full max-h-[612px] h-full px-4 py-6 overflow-y-scroll scrollbar-thin scrollbar-track-transparent scrollbar-thumb-surface-dark dark:scrollbar-thumb-dm-surface",children:[d.jsx(i1,{style:{fontSize:r},chat:"Sometimes, changing fonts helps us to read text clearly. Especially when we have eye problems "}),d.jsx(i1,{style:{fontSize:r},chat:`Your messages to ${e.name} will look like this.`}),d.jsx(r1,{style:{fontSize:r},chat:`Meanwhile, ${e.name}'s messages will look like this.`}),d.jsx(r1,{style:{fontSize:r},chat:`And when ${e.name} send a link`,linkedChat:"It will look like this"})]}),d.jsxs("section",{className:"relative w-full max-w-[95%] flex items-center rounded-3xl border border-surface dark:border-dm-surface-dark dark:bg-dm-surface text-xs xs:text-sm sm:text-base mt-auto outline-none overflow-clip",children:[d.jsx("div",{className:"w-[80px] h-full absolute left-0 flex items-center bg-gradient-to-r from-white dark:from-dm-surface from-30%",children:d.jsx(Ve,{className:"hidden xl:block h-full border-none bg-transparent text-primary pl-4",onClick:()=>w(-T),children:d.jsx(PE,{})})}),d.jsx("div",{ref:s,onMouseDown:k,onMouseLeave:L,onMouseUp:A,onMouseMove:F,className:`py-2 px-4 xl:px-12 flex items-center gap-x-6 sm:gap-x-8 xl:gap-x-6 overflow-x-auto cursor-move scroll-${v} scrollbar-none`,children:E9.list.map((E,_)=>d.jsx(Ve,{variant:"outline",size:"xl",className:`rounded-3xl min-w-[${T}px] h-[80px] border border-primary text-xs xs:text-sm text-primary dark:text-white hover:bg-primary hover:text-white active:translate-y-1`,children:E.displayedText},_))}),d.jsx("div",{className:"w-[80px] h-full absolute right-0 flex items-center justify-end bg-gradient-to-l from-white dark:from-dm-surface from-30%",children:d.jsx(Ve,{className:"hidden xl:block h-full border-none bg-transparent text-primary pr-4",onClick:()=>w(T),children:d.jsx(NE,{})})})]}),d.jsxs("div",{className:"w-full flex justify-between items-center gap-1 px-2 py-2",children:[d.jsx(Ve,{variant:"icon",size:"icon",className:"text-primary hover:bg-surface dark:hover:bg-dm-surface",type:"button",children:d.jsx(cg,{})}),d.jsx("label",{htmlFor:"sameple-chat-preview-ls",className:"w-full px-4 py-3 rounded-3xl flex items-center border border-surface-dark focus-within:border-primary dark:border-transparent dark:bg-dm-surface dark:focus-within:bg-dm-surface-light cursor-text",children:d.jsx(LE,{name:"sameple-chat-preview-ls",id:"sameple-chat-preview-ls",className:"max-h-[100px] w-full dark:text-white outline-none bg-transparent dark:focus:bg-dm-surface-light placeholder:text-sm sm:placeholder:text-base placeholder:opacity-80 caret-primary dark:caret-secondary scrollbar-thin scrollbar-track-transparent scrollbar-thumb-surface-dark dark:scrollbar-thumb-dm-surface-dark",placeholder:"The fonts only apply to chat"})}),d.jsx(Ve,{variant:"icon",size:"icon",className:"text-primary active:translate-x-1 hover:bg-surface dark:hover:bg-dm-surface cursor-pointer",type:"submit",children:d.jsx(VE,{})})]})]})},S9="themes",I9=[{id:"1",name:"light",value:"light"},{id:"2",name:"dark",value:"dark"},{id:"3",name:"system",value:"system"}],b9={name:S9,modes:I9},Is=({text:t="Settings Mini Title"})=>d.jsx("h3",{className:"capitalize text-lg font-semibold mb-2 text-black/60 dark:text-white/50",children:t}),zl=({name:t,id:e,value:n,checkedIf:r,onClick:i,onChange:s,style:o,displayedText:l})=>d.jsx(Ve,{variant:"radio",size:"lg",className:"w-[120px] capitalize active:translate-y-1",onClick:i,children:d.jsxs("label",{htmlFor:e,className:"pointer-events-none truncate",style:o,children:[d.jsx("input",{type:"radio",name:t,id:e,value:n,checked:r,onChange:s,className:"hidden"}),l]})}),Ul=({...t})=>d.jsx("div",{className:"inline-grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 2xl:grid-cols-3 gap-5",...t}),Fd=({children:t,className:e})=>d.jsx("div",{className:`w-max ${e}`,children:t}),k9=()=>{const t=R.useContext(ag),{resolvedTheme:e,setTheme:n}=t.default,r=i=>{n(i.target.value)};return d.jsxs(Fd,{children:[d.jsx(Is,{text:"theme"}),d.jsx(Ul,{children:d.jsx(or,{items:b9.modes,renderItems:i=>d.jsx(zl,{name:"themes",id:i.value,value:i.value,checkedIf:e==i.value,onChange:r,onClick:()=>t.changeTheme(i.value),displayedText:i.name},i.id)})})]})},C9=()=>{const t=R.useContext(Fo),{fontFamily:e,setFontFamily:n}=t.family,r=i=>{n(i.target.value)};return d.jsxs(Fd,{children:[d.jsx(Is,{text:"font family"}),d.jsx(Ul,{children:d.jsx(or,{items:dg.list,renderItems:i=>d.jsx(zl,{name:"font-families",id:i.value,value:i.value,checkedIf:e==i.value,onChange:r,onClick:()=>t.changeFontFamily(i.value),style:{fontFamily:i.value},displayedText:i.name},i.value)})})]})},R9=[{name:"small",value:8},{name:"medium",value:12},{name:"normal",value:16},{name:"large",value:24},{name:"extra large",value:32},{name:"2XL",value:48}],A9=()=>{const t=R.useContext(Fo),{fontSize:e,setFontSize:n}=t.size,r=i=>{n(parseInt(i.target.value))};return d.jsxs(Fd,{children:[d.jsx(Is,{text:"font size"}),d.jsx(Ul,{children:d.jsx(or,{items:R9,renderItems:i=>d.jsx(zl,{name:"font-sizes",id:i.value.toString(),value:i.value,checkedIf:e==i.value,onChange:r,onClick:()=>t.changeFontSize(i.value),displayedText:i.name},i.value)})})]})},BE=({children:t})=>d.jsx("div",{className:"flex flex-col items-start gap-8",children:t}),P9=[{name:"small",value:100},{name:"medium",value:200},{name:"large",value:300}],N9=()=>{const t=R.useContext(ft),{configuration:e}=t.configuration,n=R.useContext(Ts),{chatHeadSize:r}=n.chatHeadSize;return d.jsx("div",{className:"hidden xs:block w-max h-max rounded-full overflow-hidden ",children:d.jsx("img",{src:e.widgetIcon,alt:"chat head logo",width:r,height:r,className:"aspect-square object-cover"})})},D9=()=>{const t=R.useContext(Ts),{chatHeadSize:e,setChatHeadSize:n}=t.chatHeadSize,r=i=>{n(parseInt(i.target.value))};return d.jsxs(Fd,{className:"block",children:[d.jsx(Is,{text:"chat head size"}),d.jsx(Ul,{children:d.jsx(or,{items:P9,renderItems:i=>d.jsx(zl,{name:"chat-head-size",id:i.value.toString(),value:i.value,checkedIf:e==i.value,onChange:r,onClick:()=>t.changeChatHeadSize(i.value),displayedText:i.name},i.value)})}),d.jsx("div",{className:"flex flex-col items-center md:items-start 2xl:items-center mt-8",children:d.jsx(N9,{})})]})},s1=()=>d.jsx(d.Fragment,{children:d.jsxs("section",{className:"flex flex-col gap-8",children:[d.jsx(Od,{text:"appearance"}),d.jsxs("div",{className:"flex flex-col 2xl:flex-row 2xl:justify-between gap-y-10 gap-x-6",children:[d.jsxs(BE,{children:[d.jsx(k9,{}),d.jsx(C9,{}),d.jsx(A9,{}),d.jsx(D9,{})]}),d.jsx(T9,{})]}),d.jsx("hr",{className:"w-full border-surface-dark dark:border-dm-surface-light"})]})}),j9=IE,L9=bE,o1=pp,M9=[{name:"minimal pop",value:"minimalpop"},{name:"happy pop",value:"happypop"},{name:"multi pop",value:"multipop"}],V9=()=>{const{playChatSentSound:t}=kE(),e=R.useContext(hg),{chatSentSound:n,setChatSentSound:r}=e.chatSent,i=o=>{r(o.target.value)},s=o=>{switch(o){case"minimalpop":r(o),localStorage.setItem("chatSentSound",o),t(j9);break;case"happypop":r(o),localStorage.setItem("chatSentSound",o),t(L9);break;case"multipop":r(o),localStorage.setItem("chatSentSound",o),t(o1);break;default:r("multipop"),t(o1);break}};return d.jsxs("div",{children:[d.jsx(Is,{text:"chat sent"}),d.jsx(Ul,{children:d.jsx(or,{items:M9,renderItems:o=>d.jsx(zl,{name:"message-sent-sounds",id:o.value,value:o.value,checkedIf:n==o.value,onChange:i,onClick:()=>s(o.value),displayedText:o.name},o.value)})})]})},O9=()=>d.jsxs("section",{className:"flex flex-col gap-8",children:[d.jsx(Od,{text:"sound"}),d.jsx(BE,{children:d.jsx(V9,{})}),d.jsx("hr",{className:"w-full border-surface-dark dark:border-dm-surface-light"})]}),$E=({className:t})=>{const e=R.useContext(Ss),{rating:n,setRating:r}=e.rating,[i,s]=R.useState();return d.jsx("div",{className:`flex items-center mb-8 ${t}`,children:[...Array(5)].map((o,l)=>{const c=l+1;return d.jsxs("label",{className:"cursor-pointer",children:[d.jsx("input",{type:"radio",name:"rating",value:c,onClick:()=>{r(c)},className:"hidden"}),d.jsx(DE,{className:"text-4xl text-black/20 dark:text-white/20  ",color:c<=(i||n)?"#eab308":"",onMouseEnter:()=>s(c),onMouseLeave:()=>s(0)})]},l)})})},F9=({className:t})=>{const e=R.useContext(ft),{configuration:n}=e.configuration,r=R.useContext(Ss),{averageRating:i,rating:s}=r.rating;return d.jsxs("section",{id:"bot-profile",className:`flex flex-col items-center pt-10 ${t}`,children:[i!=0&&d.jsx(OE,{size:"five",numberSize:"xxl",className:"mb-4"}),d.jsx(fg,{src:n.icon,alt:"Chatbot Icon",variant:"icon",size:"lg",className:"mb-2"}),d.jsxs("div",{id:"details",className:"w-full flex flex-col items-center text-center p-2",children:[d.jsxs("div",{className:"mb-4 space-y-2",children:[d.jsx(ug,{className:"max-w-full font-bold text-2xl sm:text-4xl line-clamp-5",children:n.name?n.name:Qn.name}),d.jsx("h3",{className:"max-w-full dark:text-white sm:text-lg line-clamp-5",children:n.slogan})]}),d.jsxs("div",{className:"space-y-8",children:[d.jsx("p",{className:"max-w-[600px] text-left text-black/80 dark:text-white/80 text-sm whitespace-pre-line",children:Qn.about}),d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx("h2",{className:"max-w-[200px] md:max-w-[300px] lg:max-w-[400px] text-black/80 dark:text-white/80",children:s!=0?`Your rating to ${n.name}`:`Enjoying talking to ${n.name} so far? Please give us a
            rating!`}),d.jsx($E,{})]})]})]}),d.jsx("hr",{className:"w-full border-surface-dark dark:border-dm-surface-light"})]})},z9=()=>{const t=R.useContext(ft),{configuration:e}=t.configuration;return d.jsxs("section",{className:"flex flex-col gap-8",children:[d.jsx(Od,{text:"about"}),d.jsx("div",{className:"flex flex-col gap-y-10 gap-x-6",children:d.jsxs("div",{children:[d.jsx(Is,{text:e.name}),d.jsx(F9,{})]})})]})},Uh=({to:t,src:e,alt:n,text:r,role:i})=>{const[s,o]=R.useState(!1);return d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsxs(md,{to:t,target:"_blank","pseudo-value":r,className:"relative flex justify-center items-center cursor-pointer rounded-full before:content-[attr(pseudo-value)] before:absolute before:text-7xl before:capitalize before:font-helvetica-rounded-bold before:opacity-0 hover:before:opacity-10 text-primary dark:text-secondary bg-inherit border-2 border-transparent hover:border-primary dark:hover:border-secondary overflow-hidden group",children:[d.jsx(fg,{src:e,alt:n,variant:"icon",size:"xl",className:`group-hover:opacity-30 dark:group-hover:opacity-50 ${s?"":"w-[200px] animate-pulse bg-surface-dark dark:bg-dm-surface-light"}`,onLoad:()=>o(!0)}),d.jsx("p",{className:"absolute opacity-0 group-hover:opacity-100 text-xl md:text-2xl font-helvetica-rounded-bold capitalize",children:r})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"capitalize text-xl font-helvetica-rounded-bold",children:r}),d.jsx("span",{className:"text-sm capitalize text-black/40 dark:text-white/40",children:i})]})]})},U9=()=>{const t=R.useContext(ft),{configuration:e}=t.configuration;return d.jsxs("section",{className:"flex flex-col gap-8",children:[d.jsx(Od,{text:"about"}),d.jsx("div",{className:"flex flex-col gap-y-10 gap-x-6",children:d.jsxs("div",{children:[d.jsx(Is,{text:"chatbot team"}),d.jsxs("section",{className:"flex flex-col items-center gap-8 mt-12 text-black/90 dark:text-white/90",children:[d.jsxs("h2",{className:"lg:text-lg text-center animate-pulse text-black/50 dark:text-white/50",children:["Click the icon to know more about the people who made"," ",e.name,"!"]}),d.jsxs("div",{className:"inline-grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[d.jsx(Uh,{to:"https://www.facebook.com/SenpaiJayvee",src:"https://avatars.githubusercontent.com/u/143238040?v=4",alt:"Jv",text:"SenpaiJayvee",role:"documentation"}),d.jsx(Uh,{to:"https://moonbamiofficial.vercel.app/",src:"https://avatars.githubusercontent.com/u/141120384?v=4",alt:"Jam Moonbami",text:"moonbami",role:"developer"}),d.jsx(Uh,{to:"https://www.facebook.com/JirehTumbagahan",src:"https://avatars.githubusercontent.com/u/106262567?v=4",alt:"Jireh",text:"ecchiko",role:"developer"})]})]})]})}),d.jsx("hr",{className:"w-full border-surface-dark dark:border-dm-surface-light"})]})},B9="modulepreload",$9=function(t){return"/user/"+t},a1={},Bh=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=$9(c),c in a1)return;a1[c]=!0;const u=c.endsWith(".css"),p=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":B9,u||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),u)return new Promise((f,v)=>{m.addEventListener("load",f),m.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},H9=(t,e,n)=>{const r=t[e];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((i,s)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})};function Xi(){return Xi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xi.apply(this,arguments)}const q9=["children","options"],ie={blockQuote:"0",breakLine:"1",breakThematic:"2",codeBlock:"3",codeFenced:"4",codeInline:"5",footnote:"6",footnoteReference:"7",gfmTask:"8",heading:"9",headingSetext:"10",htmlBlock:"11",htmlComment:"12",htmlSelfClosing:"13",image:"14",link:"15",linkAngleBraceStyleDetector:"16",linkBareUrlDetector:"17",linkMailtoDetector:"18",newlineCoalescer:"19",orderedList:"20",paragraph:"21",ref:"22",refImage:"23",refLink:"24",table:"25",tableSeparator:"26",text:"27",textBolded:"28",textEmphasized:"29",textEscaped:"30",textMarked:"31",textStrikethroughed:"32",unorderedList:"33"};var l1;(function(t){t[t.MAX=0]="MAX",t[t.HIGH=1]="HIGH",t[t.MED=2]="MED",t[t.LOW=3]="LOW",t[t.MIN=4]="MIN"})(l1||(l1={}));const c1=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce((t,e)=>(t[e.toLowerCase()]=e,t),{class:"className",for:"htmlFor"}),u1={amp:"&",apos:"'",gt:">",lt:"<",nbsp:"",quot:""},W9=["style","script"],G9=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,K9=/mailto:/i,Q9=/\n{2,}$/,HE=/^(\s*>[\s\S]*?)(?=\n\n|$)/,Y9=/^ *> ?/gm,X9=/^(?:\[!([^\]]*)\]\n)?([\s\S]*)/,J9=/^ {2,}\n/,Z9=/^(?:( *[-*_])){3,} *(?:\n *)+\n/,qE=/^(?: {1,3})?(`{3,}|~{3,}) *(\S+)? *([^\n]*?)?\n([\s\S]*?)(?:\1\n?|$)/,WE=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,eD=/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,tD=/^(?:\n *)*\n/,nD=/\r\n?/g,rD=/^\[\^([^\]]+)](:(.*)((\n+ {4,}.*)|(\n(?!\[\^).+))*)/,iD=/^\[\^([^\]]+)]/,sD=/\f/g,oD=/^---[ \t]*\n(.|\n)*\n---[ \t]*\n/,aD=/^\s*?\[(x|\s)\]/,GE=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,KE=/^ *(#{1,6}) +([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,QE=/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/,gp=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?((?:[^>]*[^/])?)>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1\b)[\s\S])*?)<\/\1>(?!<\/\1>)\n*/i,lD=/&([a-z0-9]+|#[0-9]{1,6}|#x[0-9a-fA-F]{1,6});/gi,YE=/^<!--[\s\S]*?(?:-->)/,cD=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,vp=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,uD=/^\{.*\}$/,dD=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,hD=/^<([^ >]+@[^ >]+)>/,fD=/^<([^ >]+:\/[^ >]+)>/,pD=/-([a-z])?/gi,XE=/^(\|.*)\n(?: *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*))?\n?/,mD=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,gD=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,vD=/^\[([^\]]*)\] ?\[([^\]]*)\]/,yD=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,_D=/\t/g,wD=/(^ *\||\| *$)/g,xD=/^ *:-+: *$/,ED=/^ *:-+ *$/,TD=/^ *-+: *$/,zd="((?:\\[.*?\\][([].*?[)\\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~~.*?~~|==.*?==|.|\\n)*?)",SD=new RegExp(`^([*_])\\1${zd}\\1\\1(?!\\1)`),ID=new RegExp(`^([*_])${zd}\\1(?!\\1|\\w)`),bD=new RegExp(`^==${zd}==`),kD=new RegExp(`^~~${zd}~~`),CD=/^\\([^0-9A-Za-z\s])/,RD=/^[\s\S]+?(?=[^0-9A-Z\s\u00c0-\uffff&#;.()'"]|\d+\.|\n\n| {2,}\n|\w+:\S|$)/i,AD=/^\n+/,PD=/^([ \t]*)/,ND=/\\([^\\])/g,d1=/ *\n+$/,DD=/(?:^|\n)( *)$/,pg="(?:\\d+\\.)",mg="(?:[*+-])";function JE(t){return"( *)("+(t===1?pg:mg)+") +"}const ZE=JE(1),eT=JE(2);function tT(t){return new RegExp("^"+(t===1?ZE:eT))}const jD=tT(1),LD=tT(2);function nT(t){return new RegExp("^"+(t===1?ZE:eT)+"[^\\n]*(?:\\n(?!\\1"+(t===1?pg:mg)+" )[^\\n]*)*(\\n|$)","gm")}const rT=nT(1),iT=nT(2);function sT(t){const e=t===1?pg:mg;return new RegExp("^( *)("+e+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+e+" (?!"+e+" ))\\n*|\\s*\\n*$)")}const oT=sT(1),aT=sT(2);function h1(t,e){const n=e===1,r=n?oT:aT,i=n?rT:iT,s=n?jD:LD;return{match(o,l){const c=DD.exec(l.prevCapture);return c&&(l.list||!l.inline&&!l.simple)?r.exec(o=c[1]+o):null},order:1,parse(o,l,c){const u=n?+o[2]:void 0,p=o[0].replace(Q9,`
`).match(i);let m=!1;return{items:p.map(function(f,v){const y=s.exec(f)[0].length,I=new RegExp("^ {1,"+y+"}","gm"),C=f.replace(I,"").replace(s,""),T=v===p.length-1,w=C.indexOf(`

`)!==-1||T&&m;m=w;const k=c.inline,L=c.list;let F;c.list=!0,w?(c.inline=!1,F=C.replace(d1,`

`)):(c.inline=!0,F=C.replace(d1,""));const A=l(F,c);return c.inline=k,c.list=L,A}),ordered:n,start:u}},render:(o,l,c)=>t(o.ordered?"ol":"ul",{key:c.key,start:o.type===ie.orderedList?o.start:void 0},o.items.map(function(u,p){return t("li",{key:p},l(u,c))}))}}const MD=new RegExp(`^\\[((?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*)\\]\\(\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['"]([\\s\\S]*?)['"])?\\s*\\)`),VD=/^!\[(.*?)\]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/,lT=[HE,qE,WE,GE,QE,KE,YE,XE,rT,oT,iT,aT],OD=[...lT,/^[^\n]+(?:  \n|\n{2,})/,gp,vp];function va(t){return t.replace(/[]/g,"a").replace(/[]/g,"c").replace(/[]/g,"d").replace(/[]/g,"e").replace(/[]/g,"i").replace(/[]/g,"n").replace(/[]/g,"o").replace(/[]/g,"u").replace(/[]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function FD(t){return TD.test(t)?"right":xD.test(t)?"center":ED.test(t)?"left":null}function f1(t,e,n,r){const i=n.inTable;n.inTable=!0;let s=t.trim().split(/( *(?:`[^`]*`|\\\||\|) *)/).reduce((l,c)=>(c.trim()==="|"?l.push(r?{type:ie.tableSeparator}:{type:ie.text,text:c}):c!==""&&l.push.apply(l,e(c,n)),l),[]);n.inTable=i;let o=[[]];return s.forEach(function(l,c){l.type===ie.tableSeparator?c!==0&&c!==s.length-1&&o.push([]):(l.type!==ie.text||s[c+1]!=null&&s[c+1].type!==ie.tableSeparator||(l.text=l.text.trimEnd()),o[o.length-1].push(l))}),o}function zD(t,e,n){n.inline=!0;const r=t[2]?t[2].replace(wD,"").split("|").map(FD):[],i=t[3]?function(o,l,c){return o.trim().split(`
`).map(function(u){return f1(u,l,c,!0)})}(t[3],e,n):[],s=f1(t[1],e,n,!!i.length);return n.inline=!1,i.length?{align:r,cells:i,header:s,type:ie.table}:{children:s,type:ie.paragraph}}function p1(t,e){return t.align[e]==null?{}:{textAlign:t.align[e]}}function Yr(t){return function(e,n){return n.inline?t.exec(e):null}}function Xr(t){return function(e,n){return n.inline||n.simple?t.exec(e):null}}function mr(t){return function(e,n){return n.inline||n.simple?null:t.exec(e)}}function ya(t){return function(e){return t.exec(e)}}function UD(t,e){if(e.inline||e.simple)return null;let n="";t.split(`
`).every(i=>!lT.some(s=>s.test(i))&&(n+=i+`
`,i.trim()));const r=n.trimEnd();return r==""?null:[n,r]}function BD(t){try{if(decodeURIComponent(t).replace(/[^A-Za-z0-9/:]/g,"").match(/^\s*(javascript|vbscript|data(?!:image)):/i))return null}catch{return null}return t}function m1(t){return t.replace(ND,"$1")}function Zc(t,e,n){const r=n.inline||!1,i=n.simple||!1;n.inline=!0,n.simple=!0;const s=t(e,n);return n.inline=r,n.simple=i,s}function $D(t,e,n){const r=n.inline||!1,i=n.simple||!1;n.inline=!1,n.simple=!0;const s=t(e,n);return n.inline=r,n.simple=i,s}function HD(t,e,n){const r=n.inline||!1;n.inline=!1;const i=t(e,n);return n.inline=r,i}const $h=(t,e,n)=>({children:Zc(e,t[1],n)});function Hh(){return{}}function qh(){return null}function qD(...t){return t.filter(Boolean).join(" ")}function Wh(t,e,n){let r=t;const i=e.split(".");for(;i.length&&(r=r[i[0]],r!==void 0);)i.shift();return r||n}function WD(t="",e={}){function n(f,v,...y){const I=Wh(e.overrides,`${f}.props`,{});return e.createElement(function(C,T){const w=Wh(T,C);return w?typeof w=="function"||typeof w=="object"&&"render"in w?w:Wh(T,`${C}.component`,C):C}(f,e.overrides),Xi({},v,I,{className:qD(v==null?void 0:v.className,I.className)||void 0}),...y)}function r(f){f=f.replace(oD,"");let v=!1;e.forceInline?v=!0:e.forceBlock||(v=yD.test(f)===!1);const y=u(c(v?f:`${f.trimEnd().replace(AD,"")}

`,{inline:v}));for(;typeof y[y.length-1]=="string"&&!y[y.length-1].trim();)y.pop();if(e.wrapper===null)return y;const I=e.wrapper||(v?"span":"div");let C;if(y.length>1||e.forceWrapper)C=y;else{if(y.length===1)return C=y[0],typeof C=="string"?n("span",{key:"outer"},C):C;C=null}return R.createElement(I,{key:"outer"},C)}function i(f,v){const y=v.match(G9);return y?y.reduce(function(I,C,T){const w=C.indexOf("=");if(w!==-1){const k=function(E){return E.indexOf("-")!==-1&&E.match(cD)===null&&(E=E.replace(pD,function(_,S){return S.toUpperCase()})),E}(C.slice(0,w)).trim(),L=function(E){const _=E[0];return(_==='"'||_==="'")&&E.length>=2&&E[E.length-1]===_?E.slice(1,-1):E}(C.slice(w+1).trim()),F=c1[k]||k;if(F==="ref")return I;const A=I[F]=function(E,_,S,b){return _==="style"?S.split(/;\s?/).reduce(function(j,D){const P=D.slice(0,D.indexOf(":"));return j[P.trim().replace(/(-[a-z])/g,ve=>ve[1].toUpperCase())]=D.slice(P.length+1).trim(),j},{}):_==="href"||_==="src"?b(S,E,_):(S.match(uD)&&(S=S.slice(1,S.length-1)),S==="true"||S!=="false"&&S)}(f,k,L,e.sanitizer);typeof A=="string"&&(gp.test(A)||vp.test(A))&&(I[F]=R.cloneElement(r(A.trim()),{key:T}))}else C!=="style"&&(I[c1[C]||C]=!0);return I},{}):null}e.overrides=e.overrides||{},e.sanitizer=e.sanitizer||BD,e.slugify=e.slugify||va,e.namedCodesToUnicode=e.namedCodesToUnicode?Xi({},u1,e.namedCodesToUnicode):u1,e.createElement=e.createElement||R.createElement;const s=[],o={},l={[ie.blockQuote]:{match:mr(HE),order:1,parse(f,v,y){const[,I,C]=f[0].replace(Y9,"").match(X9);return{alert:I,children:v(C,y)}},render(f,v,y){const I={key:y.key};return f.alert&&(I.className="markdown-alert-"+e.slugify(f.alert.toLowerCase(),va),f.children.unshift({attrs:{},children:[{type:ie.text,text:f.alert}],noInnerParse:!0,type:ie.htmlBlock,tag:"header"})),n("blockquote",I,v(f.children,y))}},[ie.breakLine]:{match:ya(J9),order:1,parse:Hh,render:(f,v,y)=>n("br",{key:y.key})},[ie.breakThematic]:{match:mr(Z9),order:1,parse:Hh,render:(f,v,y)=>n("hr",{key:y.key})},[ie.codeBlock]:{match:mr(WE),order:0,parse:f=>({lang:void 0,text:f[0].replace(/^ {4}/gm,"").replace(/\n+$/,"")}),render:(f,v,y)=>n("pre",{key:y.key},n("code",Xi({},f.attrs,{className:f.lang?`lang-${f.lang}`:""}),f.text))},[ie.codeFenced]:{match:mr(qE),order:0,parse:f=>({attrs:i("code",f[3]||""),lang:f[2]||void 0,text:f[4],type:ie.codeBlock})},[ie.codeInline]:{match:Xr(eD),order:3,parse:f=>({text:f[2]}),render:(f,v,y)=>n("code",{key:y.key},f.text)},[ie.footnote]:{match:mr(rD),order:0,parse:f=>(s.push({footnote:f[2],identifier:f[1]}),{}),render:qh},[ie.footnoteReference]:{match:Yr(iD),order:1,parse:f=>({target:`#${e.slugify(f[1],va)}`,text:f[1]}),render:(f,v,y)=>n("a",{key:y.key,href:e.sanitizer(f.target,"a","href")},n("sup",{key:y.key},f.text))},[ie.gfmTask]:{match:Yr(aD),order:1,parse:f=>({completed:f[1].toLowerCase()==="x"}),render:(f,v,y)=>n("input",{checked:f.completed,key:y.key,readOnly:!0,type:"checkbox"})},[ie.heading]:{match:mr(e.enforceAtxHeadings?KE:GE),order:1,parse:(f,v,y)=>({children:Zc(v,f[2],y),id:e.slugify(f[2],va),level:f[1].length}),render:(f,v,y)=>n(`h${f.level}`,{id:f.id,key:y.key},v(f.children,y))},[ie.headingSetext]:{match:mr(QE),order:0,parse:(f,v,y)=>({children:Zc(v,f[1],y),level:f[2]==="="?1:2,type:ie.heading})},[ie.htmlBlock]:{match:ya(gp),order:1,parse(f,v,y){const[,I]=f[3].match(PD),C=new RegExp(`^${I}`,"gm"),T=f[3].replace(C,""),w=(k=T,OD.some(_=>_.test(k))?HD:Zc);var k;const L=f[1].toLowerCase(),F=W9.indexOf(L)!==-1,A=(F?L:f[1]).trim(),E={attrs:i(A,f[2]),noInnerParse:F,tag:A};return y.inAnchor=y.inAnchor||L==="a",F?E.text=f[3]:E.children=w(v,T,y),y.inAnchor=!1,E},render:(f,v,y)=>n(f.tag,Xi({key:y.key},f.attrs),f.text||(f.children?v(f.children,y):""))},[ie.htmlSelfClosing]:{match:ya(vp),order:1,parse(f){const v=f[1].trim();return{attrs:i(v,f[2]||""),tag:v}},render:(f,v,y)=>n(f.tag,Xi({},f.attrs,{key:y.key}))},[ie.htmlComment]:{match:ya(YE),order:1,parse:()=>({}),render:qh},[ie.image]:{match:Xr(VD),order:1,parse:f=>({alt:f[1],target:m1(f[2]),title:f[3]}),render:(f,v,y)=>n("img",{key:y.key,alt:f.alt||void 0,title:f.title||void 0,src:e.sanitizer(f.target,"img","src")})},[ie.link]:{match:Yr(MD),order:3,parse:(f,v,y)=>({children:$D(v,f[1],y),target:m1(f[2]),title:f[3]}),render:(f,v,y)=>n("a",{key:y.key,href:e.sanitizer(f.target,"a","href"),title:f.title},v(f.children,y))},[ie.linkAngleBraceStyleDetector]:{match:Yr(fD),order:0,parse:f=>({children:[{text:f[1],type:ie.text}],target:f[1],type:ie.link})},[ie.linkBareUrlDetector]:{match:(f,v)=>v.inAnchor||e.disableAutoLink?null:Yr(dD)(f,v),order:0,parse:f=>({children:[{text:f[1],type:ie.text}],target:f[1],title:void 0,type:ie.link})},[ie.linkMailtoDetector]:{match:Yr(hD),order:0,parse(f){let v=f[1],y=f[1];return K9.test(y)||(y="mailto:"+y),{children:[{text:v.replace("mailto:",""),type:ie.text}],target:y,type:ie.link}}},[ie.orderedList]:h1(n,1),[ie.unorderedList]:h1(n,2),[ie.newlineCoalescer]:{match:mr(tD),order:3,parse:Hh,render:()=>`
`},[ie.paragraph]:{match:UD,order:3,parse:$h,render:(f,v,y)=>n("p",{key:y.key},v(f.children,y))},[ie.ref]:{match:Yr(mD),order:0,parse:f=>(o[f[1]]={target:f[2],title:f[4]},{}),render:qh},[ie.refImage]:{match:Xr(gD),order:0,parse:f=>({alt:f[1]||void 0,ref:f[2]}),render:(f,v,y)=>o[f.ref]?n("img",{key:y.key,alt:f.alt,src:e.sanitizer(o[f.ref].target,"img","src"),title:o[f.ref].title}):null},[ie.refLink]:{match:Yr(vD),order:0,parse:(f,v,y)=>({children:v(f[1],y),fallbackChildren:f[0],ref:f[2]}),render:(f,v,y)=>o[f.ref]?n("a",{key:y.key,href:e.sanitizer(o[f.ref].target,"a","href"),title:o[f.ref].title},v(f.children,y)):n("span",{key:y.key},f.fallbackChildren)},[ie.table]:{match:mr(XE),order:1,parse:zD,render(f,v,y){const I=f;return n("table",{key:y.key},n("thead",null,n("tr",null,I.header.map(function(C,T){return n("th",{key:T,style:p1(I,T)},v(C,y))}))),n("tbody",null,I.cells.map(function(C,T){return n("tr",{key:T},C.map(function(w,k){return n("td",{key:k,style:p1(I,k)},v(w,y))}))})))}},[ie.text]:{match:ya(RD),order:4,parse:f=>({text:f[0].replace(lD,(v,y)=>e.namedCodesToUnicode[y]?e.namedCodesToUnicode[y]:v)}),render:f=>f.text},[ie.textBolded]:{match:Xr(SD),order:2,parse:(f,v,y)=>({children:v(f[2],y)}),render:(f,v,y)=>n("strong",{key:y.key},v(f.children,y))},[ie.textEmphasized]:{match:Xr(ID),order:3,parse:(f,v,y)=>({children:v(f[2],y)}),render:(f,v,y)=>n("em",{key:y.key},v(f.children,y))},[ie.textEscaped]:{match:Xr(CD),order:1,parse:f=>({text:f[1],type:ie.text})},[ie.textMarked]:{match:Xr(bD),order:3,parse:$h,render:(f,v,y)=>n("mark",{key:y.key},v(f.children,y))},[ie.textStrikethroughed]:{match:Xr(kD),order:3,parse:$h,render:(f,v,y)=>n("del",{key:y.key},v(f.children,y))}};e.disableParsingRawHTML===!0&&(delete l[ie.htmlBlock],delete l[ie.htmlSelfClosing]);const c=function(f){let v=Object.keys(f);function y(I,C){let T=[];for(C.prevCapture=C.prevCapture||"";I;){let w=0;for(;w<v.length;){const k=v[w],L=f[k],F=L.match(I,C);if(F){const A=F[0];C.prevCapture+=A,I=I.substring(A.length);const E=L.parse(F,y,C);E.type==null&&(E.type=k),T.push(E);break}w++}}return C.prevCapture="",T}return v.sort(function(I,C){let T=f[I].order,w=f[C].order;return T!==w?T-w:I<C?-1:1}),function(I,C){return y(function(T){return T.replace(nD,`
`).replace(sD,"").replace(_D,"    ")}(I),C)}}(l),u=(p=function(f,v){return function(y,I,C){const T=f[y.type].render;return v?v(()=>T(y,I,C),y,I,C):T(y,I,C)}}(l,e.renderRule),function f(v,y={}){if(Array.isArray(v)){const I=y.key,C=[];let T=!1;for(let w=0;w<v.length;w++){y.key=w;const k=f(v[w],y),L=typeof k=="string";L&&T?C[C.length-1]+=k:k!==null&&C.push(k),T=L}return y.key=I,C}return p(v,f,y)});var p;const m=r(t);return s.length?n("div",null,m,n("footer",{key:"footer"},s.map(function(f){return n("div",{id:e.slugify(f.identifier,va),key:f.identifier},f.identifier,u(c(f.footnote,{inline:!0})))}))):m}const GD=t=>{let{children:e="",options:n}=t,r=function(i,s){if(i==null)return{};var o,l,c={},u=Object.keys(i);for(l=0;l<u.length;l++)s.indexOf(o=u[l])>=0||(c[o]=i[o]);return c}(t,q9);return R.cloneElement(WD(e,n),r)},KD=()=>{const t="SECURITY",[e,n]=R.useState("");return R.useEffect(()=>{H9(Object.assign({"../../../../../docs/CHANGELOG.md":()=>Bh(()=>import("./CHANGELOG-DvvlosqZ.js"),[]),"../../../../../docs/CONTRIBUTING.md":()=>Bh(()=>import("./CONTRIBUTING-DOJ24yvG.js"),[]),"../../../../../docs/SECURITY.md":()=>Bh(()=>import("./SECURITY-DMgf591S.js"),[])}),`../../../../../docs/${t}.md`,7).then(r=>{fetch(r.default).then(i=>i.text()).then(i=>n(i)).catch(i=>console.log(i))}).catch(r=>console.log(r))}),d.jsx("section",{id:"security",children:e?d.jsx(GD,{className:"max-w-[90%] dark:text-white/70",children:e}):d.jsxs("div",{children:[d.jsx(li,{className:"max-w-[35%] h-[48px] mb-4"}),d.jsx(li,{className:"max-w-[90%] h-[100px] mb-8"}),d.jsx(li,{className:"max-w-[40%] h-[48px] mb-4"}),d.jsx(li,{className:"max-w-[50%] h-[100px] mb-4"}),d.jsx(li,{className:"max-w-[90%] h-[70px]"})]})})},QD=({settings:t,toggleSettings:e})=>{const n=R.useContext(ft),{configuration:r}=n.configuration,[i,s]=R.useState("appearance"),o=u=>{s(u.target.value)},l=u=>{switch(u){case"appearance":s(u);break;case"sound":s(u);break;case r.name:s(u);break;case"chatbot team":s(u);break;case"security":s(u);break;default:s("appearance");break}},c=()=>{switch(i){case"appearance":return d.jsx(s1,{});case"sound":return d.jsx(O9,{});case r.name:return d.jsx(z9,{});case"chatbot team":return d.jsx(U9,{});case"security":return d.jsx(KD,{});default:return d.jsx(s1,{})}};return d.jsxs(d.Fragment,{children:[d.jsxs("section",{className:`fixed xl:top-[50%] xl:translate-y-[-50%] xl:inset-x-0 mx-auto xl:max-w-[75%] w-full xl:max-h-[90%] h-full xl:rounded-lg border-none overflow-hidden bg-background dark:bg-dm-surface-light flex z-[150] selection:bg-primary selection:text-white ${t?"animate-open-modal opacity-100 visible":"opacity-0 invisible hidden"}`,children:[d.jsx(_9,{state:i,handleSettingsChange:o,changeSetting:l}),d.jsx("div",{className:"w-full pl-[23%] sm:pl-[18%] md:pl-[23%] pr-6 xl:pr-8 py-20 dark:bg-dm-background overflow-y-scroll scrollbar-thin scrollbar-track-transparent scrollbar-thumb-surface-dark dark:scrollbar-thumb-dm-surface-dark",children:c()}),d.jsx(Ve,{variant:"destructiveOutline",size:"lg",className:"hidden sm:block absolute top-4 right-20 border-surface dark:border-dm-surface bg-surface dark:bg-dm-surface hover:text-white dark:hover:text-white",onClick:e,children:"back"}),d.jsx(Ve,{variant:"icon",size:"icon",className:"sm:hidden border ml-auto text-error border-surface dark:border-dm-surface bg-surface dark:bg-dm-surface dark:hover:bg-error hover:bg-error [&>svg>path]:hover:text-white absolute top-4 right-10",onClick:e,children:d.jsx(zE,{})})]}),d.jsx(UE,{className:`${t?"backdrop-blur":"opacity-0 invisible"} bg-black/30 z-[140]`})]})},YD=({toggleSettings:t,closeUsing:e})=>{const n=R.useContext(ft),{configuration:r}=(n==null?void 0:n.configuration)||{};return d.jsxs("header",{id:"chat-ui-header",className:"w-full flex items-center justify-between px-4 py-2 sm:py-3 lg:py-4 mr-auto border-b-2 dark:border-b-dm-surface-dark",children:[d.jsxs("button",{onClick:t,id:"chatbot-detai",className:"max-w-[60%] w-full flex items-center gap-4",children:[d.jsx("img",{src:r==null?void 0:r.icon,alt:"Chatbot Icon",width:40,height:40,className:"rounded-full sm:w-[45px] sm:h-[45px] aspect-square object-cover select-none"}),d.jsx("h3",{className:"max-w-max text-xl sm:text-2xl capitalize font-semibold dark:text-white truncate",children:r==null?void 0:r.name})]}),d.jsxs("menu",{className:"flex gap-4 justify-end items-center",children:[d.jsx(Ve,{variant:"icon",size:"icon",className:"rounded-full hover:bg-primary hover:rotate-180 [&>svg>path]:hover:text-white [&>svg>path]:dark:text-white",onClick:t,children:d.jsx(M6,{})}),d.jsx(Ve,{variant:"icon",size:"icon",className:"rounded-full hover:bg-error group [&>svg>path]:hover:text-white [&>svg>path]:dark:text-white",onClick:e,children:d.jsx(ME,{})})]})]})},XD=({closeUsing:t})=>{const{latestChat:e,questionsListRef:n,settings:r,isFaqsMenuActive:i,setIsFaqsMenuActive:s,userMessage:o,setUserMessage:l,toggleSettings:c,sendMessageToBot:u,sendSuggestedQueryToBot:p}=RE(),m=R.useContext(Fo),{fontFamily:f}=m.family,v=R.useContext(Ts),{isChatActive:y}=v.active;return d.jsxs(d.Fragment,{children:[d.jsxs("div",{id:"message-box",className:`w-full h-full xl:max-w-[500px] fixed flex flex-col items-center xl:right-[10%] xl:bottom-[8%] bg-background dark:bg-dm-background xl:rounded-xl overflow-hidden z-[100] selection:bg-primary selection:text-white ${y?"":"translate-y-full opacity-0 invisible"} [@media_((min-height:0px)_and_(min-width:1280px))]:max-h-[85%]`,style:{fontFamily:f},children:[d.jsx(YD,{toggleSettings:c,closeUsing:t}),d.jsx(v9,{latestChat:e}),d.jsx(_6,{sendSuggestedQueryToBot:p}),d.jsx(V6,{questionsListRef:n,sendMessageToBot:u,sendSuggestedQueryToBot:p,userMessage:o,setUserMessage:l,isFaqsMenuActive:i,setIsFaqsMenuActive:s}),d.jsx("div",{className:"text-xs text-center text-black/70 dark:text-white/50 py-3 px-5",children:"The Chatbot can make mistake. Please double check the answers."})]}),d.jsx(QD,{settings:r,toggleSettings:c})]})},Gh=({children:t,className:e})=>d.jsx("section",{className:`md:container md:max-w-[756px] lg:max-w-[1021px] flex flex-col ${e}`,children:t}),g1=({href:t,text:e})=>d.jsx("a",{href:t,className:"capitalize font-bold py-5",children:e});function JD(t){return he({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11.9999 13.1714L16.9497 8.22168L18.3639 9.63589L11.9999 15.9999L5.63599 9.63589L7.0502 8.22168L11.9999 13.1714Z"},child:[]}]})(t)}function ZD(t){return he({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10.8284 12.0007L15.7782 16.9504L14.364 18.3646L8 12.0007L14.364 5.63672L15.7782 7.05093L10.8284 12.0007Z"},child:[]}]})(t)}function ej(t){return he({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13.1717 12.0007L8.22192 7.05093L9.63614 5.63672L16.0001 12.0007L9.63614 18.3646L8.22192 16.9504L13.1717 12.0007Z"},child:[]}]})(t)}const _a=({text:t,dropdownOne:e,dropdownTwo:n,dropdownThree:r,dropdownFour:i,dropdownFive:s,toggle:o,href:l})=>d.jsxs("div",{onMouseEnter:o,onMouseLeave:o,className:"relative flex items-center gap-1 py-5 cursor-pointer",children:[l?d.jsx("a",{href:l,className:"capitalize font-bold w-full h-full",children:t}):d.jsx("p",{className:"capitalize font-bold",children:t}),d.jsx("span",{className:"[&>svg>path]:font-semibold",children:d.jsx(JD,{})}),e&&d.jsxs(wa,{children:[d.jsx(Le,{href:"https://bacoor.gov.ph/uncategorized/vision-mission/",text:"mission & vision"}),d.jsx(Le,{href:"https://bacoor.gov.ph/historical-background-of-bacoor/",text:"historical background of bacoor"}),d.jsx(Le,{href:"https://bacoor.gov.ph/videos/352nd-bakood-festival/",text:"352nd bacoor festival"}),d.jsx(Le,{href:"https://bacoor.gov.ph/ang-himno-ng-bacoor/",text:"ang himno ng bacoor"}),d.jsx(Le,{href:"https://bacoor.gov.ph/category/tourism/",text:"tourism"})]}),n&&d.jsxs(wa,{children:[d.jsx(Le,{href:"#",text:"citizen charter"}),d.jsx(Le,{href:"https://bacoor.gov.ph/city-officials/",text:"city officials"}),d.jsx(Le,{href:"https://bacoor.gov.ph/city-and-units-heads/",text:"city department and unit heads"}),d.jsx(Le,{href:"https://bacoor.gov.ph/barangay-officials-2023/",text:"barangay officials"}),d.jsx(Le,{href:"http://bacoorcitysp.com/legislative-tracker/",text:"city ordinances"}),d.jsx(Le,{href:"#",text:"DILG Full Disclosure Policy"}),d.jsx(Le,{href:"https://bacoor.gov.ph/clup-2015-2024/",text:"CLUP (2015-2024)"}),d.jsx(Le,{href:"https://bacoor.gov.ph/job-vacancies/",text:"job vacancies"}),d.jsx(Le,{href:"https://bacoor.gov.ph/privacy-policy/",text:"privacy policy"}),d.jsx(Le,{href:"https://bacoor.gov.ph/iso-quality-management-system/",text:"ISO (Quality Management System)"})]}),r&&d.jsxs(wa,{children:[d.jsx(Le,{href:"https://bacoor.gov.ph/category/awards/",text:"Awards / Accomplishment"}),d.jsx(Le,{href:"https://www.facebook.com/MayorStrikeRevilla",text:"Official Facebook"}),d.jsx(Le,{href:"https://www.strikesaserbisyo.com/",text:"Strike Sa Serbisyo App Website"}),d.jsx(Le,{href:"#",text:"Mayor Strike - SCAN ME"})]}),i&&d.jsxs(wa,{children:[d.jsx(Le,{href:"https://boss.bacoor.gov.ph/",text:"Online Application for Business & Building Permits"}),d.jsx(Le,{href:"https://boss.bacoor.gov.ph/",text:"Online Appointment for Real Property Tax, Business & Building Permits"}),d.jsx(Le,{href:"https://boss.bacoor.gov.ph/",text:"Solidarity Route Online Registration System"}),d.jsx(Le,{href:"http://bacoorcitysp.com/legislative-tracker/",text:"city ordinances"})]}),s&&d.jsxs(wa,{children:[d.jsx(Le,{href:"https://bacoor.gov.ph/bacoor-hospital-directory/",text:"hospital directory"}),d.jsx(Le,{href:"https://bacoor.gov.ph/local-directory-of-bacoor-government-center/",text:"Local Gov't Offices"}),d.jsx(Le,{href:"https://bacoor.gov.ph/city-and-units-heads/",text:"City Department and Unit Heads"}),d.jsx(Le,{href:"https://bacoor.gov.ph/barangay-hall-directory/",text:"barangay hall"}),d.jsx(Le,{href:"https://bacoor.gov.ph/national-government-agenciesoffices/",text:"National Government Agencies/Offices"})]})]}),wa=({children:t})=>d.jsx("div",{className:"w-[250px] absolute top-[60px] -left-6 flex flex-col text-xs text-black bg-white py-2 px-6",children:t}),Le=({href:t,text:e})=>d.jsx("a",{href:t,className:"capitalize py-3 text-xs font-bold hover:text-[#ff0202]",children:e});function tj(t){return he({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(t)}function nj(t){return he({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M447.8 153.6c-2 43.6-32.4 103.3-91.4 179.1-60.9 79.2-112.4 118.8-154.6 118.8-26.1 0-48.2-24.1-66.3-72.3C100.3 250 85.3 174.3 56.2 174.3c-3.4 0-15.1 7.1-35.2 21.1L0 168.2c51.6-45.3 100.9-95.7 131.8-98.5 34.9-3.4 56.3 20.5 64.4 71.5 28.7 181.5 41.4 208.9 93.6 126.7 18.7-29.6 28.8-52.1 30.2-67.6 4.8-45.9-35.8-42.8-63.3-31 22-72.1 64.1-107.1 126.2-105.1 45.8 1.2 67.5 31.1 64.9 89.4z"},child:[]}]})(t)}function rj(t){return he({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(t)}function ij(t){return he({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}const cT="/user/assets/city-hall-logo-DhRF3KuD.png",sj=({isMenuActive:t,setIsMenuActive:e,isSearchActive:n,setIsSearchActive:r})=>{const[i,s]=R.useState(!1),[o,l]=R.useState(!1),[c,u]=R.useState(!1),[p,m]=R.useState(!1),[f,v]=R.useState(!1),y=()=>{s(!i)},I=()=>{l(!o)},C=()=>{u(!c)},T=()=>{m(!p)},w=()=>{v(!f)};return d.jsxs("header",{className:" bg-[#1a94d5] text-white text-sm z-10",children:[d.jsxs("nav",{className:"hidden md:flex w-full items-center gap-[30px] pl-8",children:[d.jsx(g1,{href:"https://bacoor.gov.ph/",text:"home"}),d.jsx(_a,{text:"about bacoor",dropdownOne:i,toggle:y}),d.jsx(_a,{text:"city government",dropdownTwo:o,toggle:I}),d.jsx(_a,{href:"https://bacoor.gov.ph/mayor-strike-b-revilla-feed/",text:"mayor's corner",dropdownThree:c,toggle:C}),d.jsx(g1,{href:"https://bacoor.gov.ph/category/gallery/",text:"gallery"}),d.jsx(_a,{text:"services",dropdownFour:p,toggle:T}),d.jsx(_a,{text:"directory",dropdownFive:f,toggle:w}),d.jsx("button",{"aria-label":"Search Button",id:"search",className:"text-lg p-5 ml-auto",children:d.jsx(m6,{})})]}),d.jsxs("nav",{className:"flex items-center justify-between md:hidden",children:[d.jsx(Ve,{onClick:()=>e(!t),className:"bg-transparent dark:bg-transparent border-none m-2",children:d.jsx(Z6,{className:"text-4xl text-[#ff0202]"})}),d.jsx("a",{href:"https://bacoor.gov.ph/",children:d.jsx("img",{src:cT,alt:"",className:"max-w-[40px]"})}),d.jsx(Ve,{onClick:()=>r(!n),className:"bg-transparent dark:bg-transparent border-none m-2",children:d.jsx(ij,{className:"text-2xl text-[#ff0202]"})})]})]})},Ku=new Date,oj=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],aj=["January","February","March","April","May","June","July","August","September","October","November","December"],lj=oj[Ku.getDay()],cj=aj[Ku.getMonth()],uj=`${lj}, ${cj} ${Ku.getDate()}, ${Ku.getFullYear()}`,dj=()=>d.jsx(d.Fragment,{children:d.jsxs("div",{id:"date-header",className:"w-full relative flex gap-10 text-xs py-1 text-white font-bold uppercase",children:[d.jsx("div",{id:"city",className:"",children:d.jsx("p",{children:"bacoor"})}),d.jsx("p",{id:"date",children:uj})]})}),hj=()=>d.jsx("a",{"aria-label":"Bacoor City Hall Logo",href:"https://bacoor.gov.ph/",className:"w-[125px] h-[125px] mx-auto",children:d.jsx("img",{src:cT,alt:"Bacoor City Hall Logo",id:"main-logo",className:"rounded-full"})}),fj="/user/assets/article-image-1-6tQld0xJ.jpg",pj="/user/assets/article-image-2-B6HQEfwh.png",mj="/user/assets/article-image-3-Cavo1pST.png",gj="/user/assets/article-image-4-DsJ6AYkb.png",vj=()=>d.jsxs("article",{id:"left",className:"max-w-[680px] w-full h-full flex flex-col items-center",children:[d.jsx("img",{src:fj,alt:"",width:600,height:480,className:"p-5"}),d.jsxs("div",{className:"text-sm p-5",children:[d.jsx("a",{href:"https://bacoor.gov.ph/latest-news/parent-leaders-ng-zapote-3-nagbigay-ng-liham-para-kay-mayor-strike-b-revilla/",className:"mb-2",children:d.jsx("img",{src:pj,alt:"",className:"max-w"})}),d.jsx("p",{children:"Nabasa ni Mayor Strike B. Revilla ang pinadalang message sa kanya ng Parent Leaders ng Longos Zapote 3 sa kanyang opisina sa Bacoor City Hall. Masaya po naming nasaksihan ang naramdamang saya at lakas ng ating Mayor kanina. Nakakatuwa po..."})]}),d.jsxs("div",{className:"text-sm p-5",children:[d.jsx("a",{href:"https://bacoor.gov.ph/latest-news/tignan-unang-araw-ng-senakulo-ginanap-sa-san-nicolas-3/",className:"mb-2",children:d.jsx("img",{src:mj,alt:"",className:"max-w"})}),d.jsx("p",{children:"Noong March 25, 2024, isinagawa ang unang araw ng Senakulo na ginanap sa San Nicolas 3. Dumalo rin naman sa unang araw si Fr. Ramoncito Tadepa na nanguna sa pagbibigay ng Banal na Misa na nilahukan naman ito na Senakulista..."})]}),d.jsxs("div",{className:"text-sm p-5",children:[d.jsx("a",{href:"https://bacoor.gov.ph/latest-news/parent-leaders-ng-zapote-3-nagbigay-ng-liham-para-kay-mayor-strike-b-revilla/",className:"mb-2",children:d.jsx("img",{src:gj,alt:"",className:"max-w"})}),d.jsx("p",{children:'In a remarkable display of unity and collaboration, the City of Bacoor witnessed the launch of a groundbreaking partnership between private and public schools. The event, titled "Strike As 1 Ng Mga Nagkakaisang Paaralan," was organized by Mayor Strike...'})]})]});function yj(t){return he({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"},child:[]}]})(t)}const is=({text:t})=>d.jsx("div",{className:"bg-[#ff0202] px-3 capitalize text-white font-semibold text-sm rounded mr-auto inline",children:t}),_j="/user/assets/bacoor-city-hall-BIxqV_j3.png",wj=()=>d.jsxs("article",{id:"right",className:"md:max-w-[340px] w-full border-l border-gray-300 ",children:[d.jsxs("div",{id:"about-bacoor",className:"flex flex-col gap-5 items-center px-5 pt-5 pb-10",children:[d.jsx(is,{text:"about bacoor"}),d.jsx("img",{src:_j,alt:"",width:300,height:100}),d.jsx("p",{className:"text-sm text-justify",children:"The City Government of Bacoor is the gateway to the province of Cavite. Bacoor is the first capital of the Revolutionary Government under General Emilio Aguinaldo. A historical landmark in our forebears' quest for Philippine Independence was the hard-fought Battle of Zapote Bridge on February 17, 1897. Gargano was the revolutionary name given to Bacoor."}),d.jsxs("a",{href:"http://bacoor.gov.ph/historical-background-of-bacoor/",className:"px-5 py-2 bg-[#1a94d5] rounded text-sm text-white capitalize flex items-center gap-1 ",children:[d.jsx(yj,{}),"history of bacoor"]}),d.jsxs("div",{id:"mission-vision",className:"text-sm",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"capitalize text-center text-xl pb-5",children:"mission"}),d.jsx("p",{className:"text-center",children:"To institute good governance, promote culture, trade and investment in the City, through modern technology towards a safe and sound environment."})]}),d.jsxs("div",{children:[d.jsx("h1",{className:"capitalize text-center text-xl pb-5",children:"vision"}),d.jsx("p",{className:"text-center t",children:"City of Bacoor: A model first class city, home of resilient, empowered, environment-friendly citizens, proud of their rich history and culture ably led by people-centered public servants united and guided by the rule of law, love of country and of God."})]})]})]}),d.jsxs("div",{id:"announcements",className:"flex flex-col bg-black text-white p-5",children:[d.jsx(is,{text:"announcement"}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"Memorandum Order No. 10 Series of 2024"}),d.jsx("p",{className:"text-xs text-gray-300",children:"March 25, 2024"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"Advisory: Heavy Traffic"}),d.jsx("p",{className:"text-xs text-gray-300",children:"March 18, 2024"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"SPECIAL (NON-WORKING) HOLIDAY in the province of Cavite through Proclamation No. 492"}),d.jsx("p",{className:"text-xs text-gray-300",children:"March 14, 2024"})]})]}),d.jsxs("div",{id:"city-bulletin",className:"flex flex-col p-5",children:[d.jsx(is,{text:"city bulletin"}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"Annual Procurement Plan 2024"}),d.jsx("p",{className:"text-xs",children:"January 31, 2024"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"ANNUAL BUDGET 2024"}),d.jsx("p",{className:"text-xs",children:"December 6, 2023"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"Public-Private Partnership Selection Committee Invitation for Comparative Proposals"}),d.jsx("p",{className:"text-xs",children:"November 7, 2023"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"CERTIFICATION OF BARANGAY MERGER"}),d.jsx("p",{className:"text-xs",children:"September 15, 2023"})]})]}),d.jsxs("div",{id:"announcements",className:"flex flex-col bg-black text-white p-5",children:[d.jsx(is,{text:"DILG Full Disclosure Policy"}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"DILG Full Disclosure Policy 2024"}),d.jsx("p",{className:"text-xs text-gray-300",children:"January 3, 2024"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"DILG Full Disclosure Policy 2023"}),d.jsx("p",{className:"text-xs text-gray-300",children:"December 19, 2022"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"DILG Full Disclosure Policy 2022"}),d.jsx("p",{className:"text-xs text-gray-300",children:"January 4, 2022"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"DILG Full Disclosure Policy 2021"}),d.jsx("p",{className:"text-xs text-gray-300",children:"January 7, 2021"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"DILG Full Disclosure Policy 2020"}),d.jsx("p",{className:"text-xs text-gray-300",children:"January 7, 2020"})]})]})]}),xj="/user/assets/strike-scan-BmL1ajXO.jpg",Ej="/user/assets/fb-page-5ekxKhTM.png",Tj=()=>d.jsxs("footer",{className:"flex flex-col",children:[d.jsxs("div",{className:"flex flex-col md:flex-row gap-12 px-10 mt-16",children:[d.jsxs("div",{id:"fb-page",className:"max-w-[340px] flex flex-col mb-5",children:[d.jsx(is,{text:"LIKE US ON FACEBOOK:"}),d.jsx("a",{href:"https://www.facebook.com/CityGovtBacoor/?ref=embed_page",className:"w-[200px] inline",children:d.jsx("img",{src:Ej,alt:"",width:200,height:500})})]}),d.jsxs("div",{id:"hotlines",className:"max-w-[340px] flex flex-col",children:[d.jsx("div",{className:"mb-5",children:d.jsx(is,{text:"EMERGENCY HOTLINES:"})}),d.jsxs("div",{className:"",children:[d.jsx("h1",{className:"text-[#ed1a3b]",children:"Bacoor Disaster Risk Reduction and Management Office (BDRRMO)"}),d.jsx("p",{className:"text-white text-sm",children:"(046) 417-0727"})]}),d.jsxs("div",{className:"",children:[d.jsx("h1",{className:"text-[#ed1a3b]",children:"Philippine National Police-Bacoor City (PNP)"}),d.jsx("p",{className:"text-white text-sm",children:"(046) 417-6366"})]}),d.jsxs("div",{className:"",children:[d.jsx("h1",{className:"text-[#ed1a3b]",children:"Bureau of Fire Protection-Bacoor City (BFP)"}),d.jsx("p",{className:"text-white text-sm",children:"(046) 417-6060"})]}),d.jsxs("div",{className:"",children:[d.jsx("h1",{className:"text-[#ed1a3b]",children:"BCity Information Office"}),d.jsx("p",{className:"text-white text-sm",children:"(046) 481-4120"})]})]}),d.jsxs("div",{id:"strike-scan",className:"max-w-[340px] flex flex-col",children:[d.jsx("div",{className:"mb-5",children:d.jsx(is,{text:"STRIKE SCAN ME"})}),d.jsx("img",{src:xj,alt:"",width:200,height:250})]})]}),d.jsx("div",{id:"main-footer",className:"mt-[200px] w-full bg-black text-white text-sm py-3 px-5",children:d.jsxs("p",{children:[" Bacoor.gov.ph |",d.jsx("a",{href:"https://bacoor.gov.ph/privacy-policy/",className:"capitalize hover:text-[#ed1a3b] ml-4",children:"privacy policy"})]})})]}),Sj="/user/assets/landing-cdrUYs3f.png";function Ij(t){return he({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14.5 0h-13c-0.825 0-1.5 0.675-1.5 1.5v13c0 0.825 0.675 1.5 1.5 1.5h13c0.825 0 1.5-0.675 1.5-1.5v-13c0-0.825-0.675-1.5-1.5-1.5zM11 2.5c0-0.275 0.225-0.5 0.5-0.5h2c0.275 0 0.5 0.225 0.5 0.5v2c0 0.275-0.225 0.5-0.5 0.5h-2c-0.275 0-0.5-0.225-0.5-0.5v-2zM8 5c1.656 0 3 1.344 3 3s-1.344 3-3 3c-1.656 0-3-1.344-3-3s1.344-3 3-3zM14 13.5v0c0 0.275-0.225 0.5-0.5 0.5h-11c-0.275 0-0.5-0.225-0.5-0.5v0-6.5h1.1c-0.066 0.322-0.1 0.656-0.1 1 0 2.762 2.237 5 5 5s5-2.238 5-5c0-0.344-0.034-0.678-0.1-1h1.1v6.5z"},child:[]}]})(t)}const bj=()=>{const[t,e]=R.useState(!1),[n,r]=R.useState(!1),[i,s]=R.useState(!1),[o,l]=R.useState(!1),[c,u]=R.useState(!1),[p,m]=R.useState(!1),[f,v]=R.useState(!1),y=()=>{s(!i)},I=()=>{l(!o)},C=()=>{u(!c)},T=()=>{m(!p)},w=()=>{v(!f)};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"city-hall-page-body",children:[d.jsx("span",{id:"time-header-bg",className:"w-full h-6 bg-black/40 absolute hidden md:block"}),d.jsxs(Gh,{className:"hidden md:flex",children:[d.jsx(dj,{}),d.jsx(hj,{})]}),d.jsxs(Gh,{className:" flex bg-white",children:[d.jsx(sj,{isMenuActive:t,setIsMenuActive:e,isSearchActive:n,setIsSearchActive:r}),d.jsxs("div",{id:"latest-news",className:"flex flex-col items-center md:flex-row px-6 py-3 gap-3",children:[d.jsx("div",{className:"w-max bg-black px-3 uppercase text-[#ff0202] font-bold text-sm rounded mr-5",children:"latest news"}),d.jsx("div",{className:"max-w-[730px] w-full text-[#ff0202] font-bold text-sm truncate",children:"Libreng Anti-Rabies Vaccination Schedule"}),d.jsxs("div",{id:"latest-news-navigation",className:"gap-2 ml-auto hidden md:flex",children:[d.jsx("button",{className:"text-[#ff0202] rounded-sm border border-red-300",children:d.jsx(ZD,{})}),d.jsx("button",{className:"text-[#ff0202] rounded-sm border border-red-300",children:d.jsx(ej,{})})]})]}),d.jsx("a",{href:"https://bacoor.gov.ph/featured/congratulations-city-government-of-bacoor/",id:"landing-image",className:"mx-auto mb-4 p-2",children:d.jsx("img",{src:Sj,alt:""})}),d.jsxs("div",{id:"article-list",className:"flex flex-col md:flex-row mx-auto",children:[d.jsx(vj,{}),d.jsx(wj,{})]})]}),d.jsx(Gh,{className:"flex bg-black/70",children:d.jsx(Tj,{})})]}),d.jsxs("menu",{className:`fixed md:hidden top-0 ${t?"":"-translate-x-full invisible"} w-screen h-screen bg-[#353535] text-white z-20`,children:[d.jsxs("header",{className:"flex items-center justify-between pl-5 pr-10 pt-4",children:[d.jsxs("div",{className:"flex items-center gap-1 h-[60px]",children:[d.jsx("a",{href:"",className:"bg-transparent dark:bg-transparent border-none text-sm w-[40px] h-[40px] flex items-center justify-center hover:text-[#ff0202]",children:d.jsx(tj,{})}),d.jsx("a",{href:"",className:"bg-transparent dark:bg-transparent border-none text-sm w-[40px] h-[40px] flex items-center justify-center hover:text-[#ff0202]",children:d.jsx(Ij,{})}),d.jsx("a",{href:"",className:"bg-transparent dark:bg-transparent border-none text-sm w-[40px] h-[40px] flex items-center justify-center hover:text-[#ff0202]",children:d.jsx(f6,{})}),d.jsx("a",{href:"",className:"bg-transparent dark:bg-transparent border-none text-sm w-[40px] h-[40px] flex items-center justify-center hover:text-[#ff0202]",children:d.jsx(nj,{})}),d.jsx("a",{href:"",className:"bg-transparent dark:bg-transparent border-none text-sm w-[40px] h-[40px] flex items-center justify-center hover:text-[#ff0202]",children:d.jsx(rj,{})})]}),d.jsx(Ve,{onClick:()=>e(!t),className:"bg-transparent dark:bg-transparent border-none text-4xl hover:text-[#ff0202]",children:d.jsx(Jy,{})})]}),d.jsxs("nav",{className:"flex flex-col py-5 pl-8 pr-10",style:{fontFamily:"Raleway"},children:[d.jsx("a",{href:"/bacoor-gov",className:"capitalize text-[#ff0202] text-xl font-bold py-2",children:"home"}),d.jsxs(xa,{text:"about bacoor",state:i,toggle:y,children:[d.jsx(Ue,{url:"https://bacoor.gov.ph/uncategorized/vision-mission/",text:"mission & vision"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/historical-background-of-bacoor/",text:"historical background of bacoor"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/videos/352nd-bakood-festival/",text:"352nd bacoor festival"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/ang-himno-ng-bacoor/",text:"ang himno ng bacoor"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/category/tourism/",text:"tourism"})]}),d.jsxs(xa,{text:"city government",state:o,toggle:I,children:[d.jsx(Ue,{url:"https://bacoor.gov.ph/announcement/citizen-charter-2024/",text:"citizen charter"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/city-officials/",text:"city officials"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/city-and-units-heads/",text:"city department and unit heads"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/barangay-officials-2023/",text:"barangay officials"}),d.jsx(Ue,{url:"http://bacoorcitysp.com/legislative-tracker/",text:"city ordinances"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/dilg/dilg-full-disclosure-policy-2024/",text:"DILG Full Disclosure Policy"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/clup-2015-2024/",text:"CLUP (2015-2024)"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/job-vacancies/",text:"job vacancies"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/privacy-policy/",text:"privacy policy"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/iso-quality-management-system/",text:"ISO (Quality Management System)"})]}),d.jsxs("a",{href:"https://bacoor.gov.ph/mayor-strike-b-revilla-feed/",className:"w-full flex items-center justify-between capitalize text-xl font-bold py-2",children:["mayor's corner",d.jsx(FE,{})]}),d.jsxs(xa,{text:"gallery",state:c,toggle:C,children:[d.jsx(Ue,{url:"https://bacoor.gov.ph/category/gallery/",text:"gallery"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/category/photobooth/",text:"photobooth"})]}),d.jsxs(xa,{text:"services",state:p,toggle:T,children:[d.jsx(Ue,{url:"https://boss.bacoor.gov.ph/",text:"Online Application for Business & Building Permits"}),d.jsx(Ue,{url:"https://boss.bacoor.gov.ph/",text:"Online Appointment for Real Property Tax, Business & Building Permits"}),d.jsx(Ue,{url:"https://boss.bacoor.gov.ph/",text:"Solidarity Route Online Registration System"}),d.jsx(Ue,{url:"http://bacoorcitysp.com/legislative-tracker/",text:"city ordinances"})]}),d.jsxs(xa,{text:"directory",state:f,toggle:w,children:[d.jsx(Ue,{url:"https://bacoor.gov.ph/bacoor-hospital-directory/",text:"hospital directory"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/local-directory-of-bacoor-government-center/",text:"Local Gov't Offices"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/city-and-units-heads/",text:"City Department and Unit Heads"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/barangay-hall-directory/",text:"barangay hall"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/national-government-agenciesoffices/",text:"National Government Agencies/Offices"})]})]})]}),d.jsxs("div",{className:`fixed md:hidden top-0 ${n?"":"translate-x-full invisible"} w-screen h-screen bg-[#353535] text-white z-20`,style:{fontFamily:"Raleway"},children:[d.jsx("header",{className:"flex items-center justify-between pl-5 pr-10 pt-4",children:d.jsx(Ve,{onClick:()=>r(!n),className:"bg-transparent dark:bg-transparent border-none text-4xl hover:text-[#ff0202] ml-auto",children:d.jsx(Jy,{})})}),d.jsxs("label",{htmlFor:"search",className:"flex flex-col gap-4 max-w-[90%] px-5 mx-auto focus-within:border-none",children:[d.jsx("p",{className:"capitalize text-center text-xs text-gray-300",children:"search"}),d.jsx("input",{type:"search",name:"search",id:"search",className:"bg-transparent border-b-[1px] text-center text-3xl font-bold py-2 focus:outline-none"})]})]})]})},xa=({text:t,children:e,toggle:n,state:r})=>d.jsxs(Ve,{className:"flex flex-col w-full capitalize text-xl font-bold bg-transparent dark:bg-transparent border-none",onClick:n,children:[d.jsxs("div",{className:"flex items-center justify-between w-full py-3",children:[t,d.jsx(FE,{className:`${r&&"rotate-90"}`})]}),d.jsx("div",{className:`${r?"h-max":"h-0 opacity-0 invisible"} flex flex-col px-6 text-base font-normal text-gray-300 text-left`,children:e})]}),Ue=({text:t,url:e})=>d.jsx("a",{href:e,className:"py-2",children:t}),kj=({className:t})=>{const e=R.useContext(ft),{configuration:n}=e.configuration,{conversation:r}=e.conversation,i=R.useContext(Ss),{rating:s}=i.rating,l=R.useContext(Ts).ratingBoxRef,[c,u]=R.useState("opacity-0 invisible"),[p,m]=R.useState(!0),f=()=>{s===0?setTimeout(()=>u(""),1e3):s!=0&&setTimeout(()=>u("opacity-0 invisible translate-y-full"),5e3)};return R.useEffect(()=>{r.length>=15&&f()},[r.length,s]),d.jsx(d.Fragment,{children:p&&d.jsx("div",{ref:l,className:`fixed top-[10%] mx-auto inset-x-0 xl:mx-0 xl:top-auto xl:bottom-[2%] xl:left-[2%] w-max h-max dark:text-white/80 bg-surface dark:bg-dm-background border border-surface-dark dark:border-dm-surface-light p-8 rounded-xl z-[100] xl:z-50 ${t} ${c}`,children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex gap-8 sm:text-lg xl:text-xl max-w-[250px] sm:max-w-[350px] xl:max-w-[400px]",children:[d.jsx("div",{children:s?d.jsx("p",{children:"Thanks for the feedback!"}):d.jsxs("p",{children:["Enjoying talking to"," ",d.jsx("span",{className:"font-semibold text-primary dark:text-secondary",children:n.name})," ","so far? Please give us a rating!"]})}),d.jsx(Ve,{onClick:()=>m(!1),variant:"icon",size:"icon",className:"ml-auto border text-error border-error dark:border-dm-surface bg-surface dark:bg-dm-surface dark:hover:bg-error hover:bg-error [&>svg>path]:hover:text-white",children:d.jsx(ME,{})})]}),d.jsx($E,{})]})})})},Cj=({title:t})=>{const e=No();return R.useEffect(()=>{document.title=t},[e,t]),null},v1=()=>{const t=R.useContext(Ol),{isSignedIn:e}=t.user,n=R.useContext(Ts),{isChatActive:r,setIsChatActive:i}=n.active,s=n.icon,o=()=>{i(!r)};return d.jsx(d.Fragment,{children:e==="true"?d.jsxs(d.Fragment,{children:[d.jsx(Cj,{title:"Bacoor Government Center | City of Bacoor Chatbot"}),d.jsx(ON,{children:d.jsxs("main",{children:[d.jsx("div",{ref:s,children:d.jsx($N,{children:d.jsxs(qN,{children:[d.jsx(h6,{onClick:o}),d.jsx(XD,{closeUsing:o})]})})}),d.jsx(bj,{}),d.jsx(UE,{message:"Click anywhere to close.",className:`bg-black z-40 backdrop-blur ${r?"opacity-80":"opacity-0 invisible"}`}),r&&d.jsx(kj,{})]})})]}):d.jsx(dk,{to:"/"})})},Ac=()=>d.jsxs(d.Fragment,{children:[d.jsx(TE,{}),d.jsxs("div",{className:"h-screen flex flex-col items-center justify-center gap-8 px-[5vw]",children:[d.jsx("h1",{className:"font-helvetica-compressed text-7xl md:text-8xl lg:text-[10.25rem] bg-gradient-to-tr from-primary from-35% via-tertiary via-70% to-secondary bg-clip-text text-transparent cursor-default select-none",children:"Oops!"}),d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("h3",{className:"font-bold text-2xl md:text-3xl lg:text-4xl dark:text-white",children:"Page Not Found"}),d.jsx("p",{className:"max-w-[400px] text-sm md:text-base dark:text-white",children:"The page you are looking for might have been removed, had its name changed or is temporarily unavailable."})]}),d.jsx(md,{to:"/",children:d.jsx(Ve,{variant:"cta",size:"full",className:"bg-primary hover:bg-primary-dark text-white uppercase",children:"go back"})})]})]}),Rj=_k([{path:"/",element:localStorage.getItem("uid")&&localStorage.getItem("isSignedIn")==="true"?d.jsx(v1,{}):d.jsx(NN,{}),errorElement:d.jsx(Ac,{})},{path:"/bacoor-gov",element:d.jsx(v1,{}),errorElement:d.jsx(Ac,{})},{path:"*",element:d.jsx(Ac,{}),errorElement:d.jsx(Ac,{})}],{basename:hE});Nw(document.getElementById("root")).render(d.jsx(R.StrictMode,{children:d.jsx(kA,{children:d.jsx(k5,{children:d.jsx(R5,{children:d.jsx(P5,{children:d.jsx(Ck,{router:Rj})})})})})}));
