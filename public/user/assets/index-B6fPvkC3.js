function W0(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function q0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var G0={exports:{}},Oc={},K0={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dl=Symbol.for("react.element"),CT=Symbol.for("react.portal"),kT=Symbol.for("react.fragment"),bT=Symbol.for("react.strict_mode"),AT=Symbol.for("react.profiler"),RT=Symbol.for("react.provider"),PT=Symbol.for("react.context"),NT=Symbol.for("react.forward_ref"),DT=Symbol.for("react.suspense"),LT=Symbol.for("react.memo"),OT=Symbol.for("react.lazy"),Ag=Symbol.iterator;function MT(t){return t===null||typeof t!="object"?null:(t=Ag&&t[Ag]||t["@@iterator"],typeof t=="function"?t:null)}var Q0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y0=Object.assign,X0={};function wo(t,e,n){this.props=t,this.context=e,this.refs=X0,this.updater=n||Q0}wo.prototype.isReactComponent={};wo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function J0(){}J0.prototype=wo.prototype;function qf(t,e,n){this.props=t,this.context=e,this.refs=X0,this.updater=n||Q0}var Gf=qf.prototype=new J0;Gf.constructor=qf;Y0(Gf,wo.prototype);Gf.isPureReactComponent=!0;var Rg=Array.isArray,Z0=Object.prototype.hasOwnProperty,Kf={current:null},e1={key:!0,ref:!0,__self:!0,__source:!0};function t1(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Z0.call(e,r)&&!e1.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:dl,type:t,key:s,ref:o,props:i,_owner:Kf.current}}function VT(t,e){return{$$typeof:dl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qf(t){return typeof t=="object"&&t!==null&&t.$$typeof===dl}function jT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Pg=/\/+/g;function Dh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?jT(""+t.key):e.toString(36)}function _u(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case dl:case CT:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Dh(o,0):r,Rg(i)?(n="",t!=null&&(n=t.replace(Pg,"$&/")+"/"),_u(i,e,n,"",function(c){return c})):i!=null&&(Qf(i)&&(i=VT(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Pg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Rg(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+Dh(s,l);o+=_u(s,e,n,u,i)}else if(u=MT(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+Dh(s,l++),o+=_u(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ql(t,e,n){if(t==null)return t;var r=[],i=0;return _u(t,r,"","",function(s){return e.call(n,s,i++)}),r}function FT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qt={current:null},wu={transition:null},UT={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:wu,ReactCurrentOwner:Kf};function n1(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Ql,forEach:function(t,e,n){Ql(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ql(t,function(){e++}),e},toArray:function(t){return Ql(t,function(e){return e})||[]},only:function(t){if(!Qf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=wo;ge.Fragment=kT;ge.Profiler=AT;ge.PureComponent=qf;ge.StrictMode=bT;ge.Suspense=DT;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UT;ge.act=n1;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Y0({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Kf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Z0.call(e,u)&&!e1.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:dl,type:t.type,key:i,ref:s,props:r,_owner:o}};ge.createContext=function(t){return t={$$typeof:PT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:RT,_context:t},t.Consumer=t};ge.createElement=t1;ge.createFactory=function(t){var e=t1.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:NT,render:t}};ge.isValidElement=Qf;ge.lazy=function(t){return{$$typeof:OT,_payload:{_status:-1,_result:t},_init:FT}};ge.memo=function(t,e){return{$$typeof:LT,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=wu.transition;wu.transition={};try{t()}finally{wu.transition=e}};ge.unstable_act=n1;ge.useCallback=function(t,e){return Qt.current.useCallback(t,e)};ge.useContext=function(t){return Qt.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return Qt.current.useDeferredValue(t)};ge.useEffect=function(t,e){return Qt.current.useEffect(t,e)};ge.useId=function(){return Qt.current.useId()};ge.useImperativeHandle=function(t,e,n){return Qt.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return Qt.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return Qt.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return Qt.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return Qt.current.useReducer(t,e,n)};ge.useRef=function(t){return Qt.current.useRef(t)};ge.useState=function(t){return Qt.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return Qt.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return Qt.current.useTransition()};ge.version="18.3.1";K0.exports=ge;var D=K0.exports;const Gt=q0(D),zT=W0({__proto__:null,default:Gt},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BT=D,$T=Symbol.for("react.element"),HT=Symbol.for("react.fragment"),WT=Object.prototype.hasOwnProperty,qT=BT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GT={key:!0,ref:!0,__self:!0,__source:!0};function r1(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)WT.call(e,r)&&!GT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:$T,type:t,key:s,ref:o,props:i,_owner:qT.current}}Oc.Fragment=HT;Oc.jsx=r1;Oc.jsxs=r1;G0.exports=Oc;var f=G0.exports,i1={exports:{}},pn={},s1={exports:{}},o1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,q){var Z=B.length;B.push(q);e:for(;0<Z;){var ie=Z-1>>>1,he=B[ie];if(0<i(he,q))B[ie]=q,B[Z]=he,Z=ie;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var q=B[0],Z=B.pop();if(Z!==q){B[0]=Z;e:for(var ie=0,he=B.length,xe=he>>>1;ie<xe;){var Re=2*(ie+1)-1,Le=B[Re],rt=Re+1,gt=B[rt];if(0>i(Le,Z))rt<he&&0>i(gt,Le)?(B[ie]=gt,B[rt]=Z,ie=rt):(B[ie]=Le,B[Re]=Z,ie=Re);else if(rt<he&&0>i(gt,Z))B[ie]=gt,B[rt]=Z,ie=rt;else break e}}return q}function i(B,q){var Z=B.sortIndex-q.sortIndex;return Z!==0?Z:B.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,m=null,g=3,w=!1,k=!1,b=!1,L=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(B){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=B)r(c),q.sortIndex=q.expirationTime,e(u,q);else break;q=n(c)}}function M(B){if(b=!1,S(B),!k)if(n(u)!==null)k=!0,ft(U);else{var q=n(c);q!==null&&Ce(M,q.startTime-B)}}function U(B,q){k=!1,b&&(b=!1,T(v),v=-1),w=!0;var Z=g;try{for(S(q),m=n(u);m!==null&&(!(m.expirationTime>q)||B&&!A());){var ie=m.callback;if(typeof ie=="function"){m.callback=null,g=m.priorityLevel;var he=ie(m.expirationTime<=q);q=t.unstable_now(),typeof he=="function"?m.callback=he:m===n(u)&&r(u),S(q)}else r(u);m=n(u)}if(m!==null)var xe=!0;else{var Re=n(c);Re!==null&&Ce(M,Re.startTime-q),xe=!1}return xe}finally{m=null,g=Z,w=!1}}var P=!1,I=null,v=-1,E=5,x=-1;function A(){return!(t.unstable_now()-x<E)}function N(){if(I!==null){var B=t.unstable_now();x=B;var q=!0;try{q=I(!0,B)}finally{q?C():(P=!1,I=null)}}else P=!1}var C;if(typeof y=="function")C=function(){y(N)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,ot=pe.port2;pe.port1.onmessage=N,C=function(){ot.postMessage(null)}}else C=function(){L(N,0)};function ft(B){I=B,P||(P=!0,C())}function Ce(B,q){v=L(function(){B(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){k||w||(k=!0,ft(U))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(B){switch(g){case 1:case 2:case 3:var q=3;break;default:q=g}var Z=g;g=q;try{return B()}finally{g=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Z=g;g=B;try{return q()}finally{g=Z}},t.unstable_scheduleCallback=function(B,q,Z){var ie=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ie+Z:ie):Z=ie,B){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=Z+he,B={id:d++,callback:q,priorityLevel:B,startTime:Z,expirationTime:he,sortIndex:-1},Z>ie?(B.sortIndex=Z,e(c,B),n(u)===null&&B===n(c)&&(b?(T(v),v=-1):b=!0,Ce(M,Z-ie))):(B.sortIndex=he,e(u,B),k||w||(k=!0,ft(U))),B},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(B){var q=g;return function(){var Z=g;g=q;try{return B.apply(this,arguments)}finally{g=Z}}}})(o1);s1.exports=o1;var KT=s1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QT=D,fn=KT;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a1=new Set,ja={};function ds(t,e){no(t,e),no(t+"Capture",e)}function no(t,e){for(ja[t]=e,t=0;t<e.length;t++)a1.add(e[t])}var Ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Td=Object.prototype.hasOwnProperty,YT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ng={},Dg={};function XT(t){return Td.call(Dg,t)?!0:Td.call(Ng,t)?!1:YT.test(t)?Dg[t]=!0:(Ng[t]=!0,!1)}function JT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ZT(t,e,n,r){if(e===null||typeof e>"u"||JT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bt[t]=new Yt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bt[e]=new Yt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bt[t]=new Yt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bt[t]=new Yt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bt[t]=new Yt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bt[t]=new Yt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bt[t]=new Yt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bt[t]=new Yt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bt[t]=new Yt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Yf=/[\-:]([a-z])/g;function Xf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Yf,Xf);bt[e]=new Yt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Yf,Xf);bt[e]=new Yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Yf,Xf);bt[e]=new Yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!1,!1)});bt.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Jf(t,e,n,r){var i=bt.hasOwnProperty(e)?bt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ZT(e,n,i,r)&&(n=null),r||i===null?XT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Dr=QT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yl=Symbol.for("react.element"),Ns=Symbol.for("react.portal"),Ds=Symbol.for("react.fragment"),Zf=Symbol.for("react.strict_mode"),Id=Symbol.for("react.profiler"),l1=Symbol.for("react.provider"),u1=Symbol.for("react.context"),ep=Symbol.for("react.forward_ref"),Sd=Symbol.for("react.suspense"),Cd=Symbol.for("react.suspense_list"),tp=Symbol.for("react.memo"),Gr=Symbol.for("react.lazy"),c1=Symbol.for("react.offscreen"),Lg=Symbol.iterator;function Jo(t){return t===null||typeof t!="object"?null:(t=Lg&&t[Lg]||t["@@iterator"],typeof t=="function"?t:null)}var Ze=Object.assign,Lh;function ma(t){if(Lh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Lh=e&&e[1]||""}return`
`+Lh+t}var Oh=!1;function Mh(t,e){if(!t||Oh)return"";Oh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Oh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ma(t):""}function eI(t){switch(t.tag){case 5:return ma(t.type);case 16:return ma("Lazy");case 13:return ma("Suspense");case 19:return ma("SuspenseList");case 0:case 2:case 15:return t=Mh(t.type,!1),t;case 11:return t=Mh(t.type.render,!1),t;case 1:return t=Mh(t.type,!0),t;default:return""}}function kd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ds:return"Fragment";case Ns:return"Portal";case Id:return"Profiler";case Zf:return"StrictMode";case Sd:return"Suspense";case Cd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case u1:return(t.displayName||"Context")+".Consumer";case l1:return(t._context.displayName||"Context")+".Provider";case ep:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tp:return e=t.displayName||null,e!==null?e:kd(t.type)||"Memo";case Gr:e=t._payload,t=t._init;try{return kd(t(e))}catch{}}return null}function tI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kd(e);case 8:return e===Zf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _i(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function h1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nI(t){var e=h1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xl(t){t._valueTracker||(t._valueTracker=nI(t))}function d1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=h1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Bu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function bd(t,e){var n=e.checked;return Ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Og(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=_i(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function f1(t,e){e=e.checked,e!=null&&Jf(t,"checked",e,!1)}function Ad(t,e){f1(t,e);var n=_i(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Rd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rd(t,e.type,_i(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Mg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Rd(t,e,n){(e!=="number"||Bu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ga=Array.isArray;function Ws(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+_i(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Pd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(ga(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:_i(n)}}function p1(t,e){var n=_i(e.value),r=_i(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function m1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?m1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jl,g1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Jl=Jl||document.createElement("div"),Jl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ia={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rI=["Webkit","ms","Moz","O"];Object.keys(Ia).forEach(function(t){rI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ia[e]=Ia[t]})});function v1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ia.hasOwnProperty(t)&&Ia[t]?(""+e).trim():e+"px"}function y1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=v1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var iI=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dd(t,e){if(e){if(iI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Ld(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Od=null;function np(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Md=null,qs=null,Gs=null;function Fg(t){if(t=ml(t)){if(typeof Md!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Uc(e),Md(t.stateNode,t.type,e))}}function _1(t){qs?Gs?Gs.push(t):Gs=[t]:qs=t}function w1(){if(qs){var t=qs,e=Gs;if(Gs=qs=null,Fg(t),e)for(t=0;t<e.length;t++)Fg(e[t])}}function E1(t,e){return t(e)}function x1(){}var Vh=!1;function T1(t,e,n){if(Vh)return t(e,n);Vh=!0;try{return E1(t,e,n)}finally{Vh=!1,(qs!==null||Gs!==null)&&(x1(),w1())}}function Ua(t,e){var n=t.stateNode;if(n===null)return null;var r=Uc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var Vd=!1;if(Ir)try{var Zo={};Object.defineProperty(Zo,"passive",{get:function(){Vd=!0}}),window.addEventListener("test",Zo,Zo),window.removeEventListener("test",Zo,Zo)}catch{Vd=!1}function sI(t,e,n,r,i,s,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Sa=!1,$u=null,Hu=!1,jd=null,oI={onError:function(t){Sa=!0,$u=t}};function aI(t,e,n,r,i,s,o,l,u){Sa=!1,$u=null,sI.apply(oI,arguments)}function lI(t,e,n,r,i,s,o,l,u){if(aI.apply(this,arguments),Sa){if(Sa){var c=$u;Sa=!1,$u=null}else throw Error(W(198));Hu||(Hu=!0,jd=c)}}function fs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function I1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ug(t){if(fs(t)!==t)throw Error(W(188))}function uI(t){var e=t.alternate;if(!e){if(e=fs(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ug(i),t;if(s===r)return Ug(i),e;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function S1(t){return t=uI(t),t!==null?C1(t):null}function C1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=C1(t);if(e!==null)return e;t=t.sibling}return null}var k1=fn.unstable_scheduleCallback,zg=fn.unstable_cancelCallback,cI=fn.unstable_shouldYield,hI=fn.unstable_requestPaint,st=fn.unstable_now,dI=fn.unstable_getCurrentPriorityLevel,rp=fn.unstable_ImmediatePriority,b1=fn.unstable_UserBlockingPriority,Wu=fn.unstable_NormalPriority,fI=fn.unstable_LowPriority,A1=fn.unstable_IdlePriority,Mc=null,Kn=null;function pI(t){if(Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(Mc,t,void 0,(t.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:vI,mI=Math.log,gI=Math.LN2;function vI(t){return t>>>=0,t===0?32:31-(mI(t)/gI|0)|0}var Zl=64,eu=4194304;function va(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=va(l):(s&=o,s!==0&&(r=va(s)))}else o=n&~i,o!==0?r=va(o):s!==0&&(r=va(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Mn(e),i=1<<n,r|=t[n],e&=~i;return r}function yI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _I(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Mn(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=yI(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function Fd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function R1(){var t=Zl;return Zl<<=1,!(Zl&4194240)&&(Zl=64),t}function jh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function fl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Mn(e),t[e]=n}function wI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Mn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ip(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Mn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ne=0;function P1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var N1,sp,D1,L1,O1,Ud=!1,tu=[],oi=null,ai=null,li=null,za=new Map,Ba=new Map,Qr=[],EI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bg(t,e){switch(t){case"focusin":case"focusout":oi=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":za.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ba.delete(e.pointerId)}}function ea(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ml(e),e!==null&&sp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function xI(t,e,n,r,i){switch(e){case"focusin":return oi=ea(oi,t,e,n,r,i),!0;case"dragenter":return ai=ea(ai,t,e,n,r,i),!0;case"mouseover":return li=ea(li,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return za.set(s,ea(za.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ba.set(s,ea(Ba.get(s)||null,t,e,n,r,i)),!0}return!1}function M1(t){var e=$i(t.target);if(e!==null){var n=fs(e);if(n!==null){if(e=n.tag,e===13){if(e=I1(n),e!==null){t.blockedOn=e,O1(t.priority,function(){D1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Eu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Od=r,n.target.dispatchEvent(r),Od=null}else return e=ml(n),e!==null&&sp(e),t.blockedOn=n,!1;e.shift()}return!0}function $g(t,e,n){Eu(t)&&n.delete(e)}function TI(){Ud=!1,oi!==null&&Eu(oi)&&(oi=null),ai!==null&&Eu(ai)&&(ai=null),li!==null&&Eu(li)&&(li=null),za.forEach($g),Ba.forEach($g)}function ta(t,e){t.blockedOn===e&&(t.blockedOn=null,Ud||(Ud=!0,fn.unstable_scheduleCallback(fn.unstable_NormalPriority,TI)))}function $a(t){function e(i){return ta(i,t)}if(0<tu.length){ta(tu[0],t);for(var n=1;n<tu.length;n++){var r=tu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(oi!==null&&ta(oi,t),ai!==null&&ta(ai,t),li!==null&&ta(li,t),za.forEach(e),Ba.forEach(e),n=0;n<Qr.length;n++)r=Qr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qr.length&&(n=Qr[0],n.blockedOn===null);)M1(n),n.blockedOn===null&&Qr.shift()}var Ks=Dr.ReactCurrentBatchConfig,Gu=!0;function II(t,e,n,r){var i=Ne,s=Ks.transition;Ks.transition=null;try{Ne=1,op(t,e,n,r)}finally{Ne=i,Ks.transition=s}}function SI(t,e,n,r){var i=Ne,s=Ks.transition;Ks.transition=null;try{Ne=4,op(t,e,n,r)}finally{Ne=i,Ks.transition=s}}function op(t,e,n,r){if(Gu){var i=zd(t,e,n,r);if(i===null)Kh(t,e,r,Ku,n),Bg(t,r);else if(xI(i,t,e,n,r))r.stopPropagation();else if(Bg(t,r),e&4&&-1<EI.indexOf(t)){for(;i!==null;){var s=ml(i);if(s!==null&&N1(s),s=zd(t,e,n,r),s===null&&Kh(t,e,r,Ku,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Kh(t,e,r,null,n)}}var Ku=null;function zd(t,e,n,r){if(Ku=null,t=np(r),t=$i(t),t!==null)if(e=fs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=I1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ku=t,null}function V1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dI()){case rp:return 1;case b1:return 4;case Wu:case fI:return 16;case A1:return 536870912;default:return 16}default:return 16}}var ti=null,ap=null,xu=null;function j1(){if(xu)return xu;var t,e=ap,n=e.length,r,i="value"in ti?ti.value:ti.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return xu=i.slice(t,1<r?1-r:void 0)}function Tu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nu(){return!0}function Hg(){return!1}function mn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?nu:Hg,this.isPropagationStopped=Hg,this}return Ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nu)},persist:function(){},isPersistent:nu}),e}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lp=mn(Eo),pl=Ze({},Eo,{view:0,detail:0}),CI=mn(pl),Fh,Uh,na,Vc=Ze({},pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:up,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==na&&(na&&t.type==="mousemove"?(Fh=t.screenX-na.screenX,Uh=t.screenY-na.screenY):Uh=Fh=0,na=t),Fh)},movementY:function(t){return"movementY"in t?t.movementY:Uh}}),Wg=mn(Vc),kI=Ze({},Vc,{dataTransfer:0}),bI=mn(kI),AI=Ze({},pl,{relatedTarget:0}),zh=mn(AI),RI=Ze({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),PI=mn(RI),NI=Ze({},Eo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),DI=mn(NI),LI=Ze({},Eo,{data:0}),qg=mn(LI),OI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=VI[t])?!!e[t]:!1}function up(){return jI}var FI=Ze({},pl,{key:function(t){if(t.key){var e=OI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?MI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:up,charCode:function(t){return t.type==="keypress"?Tu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),UI=mn(FI),zI=Ze({},Vc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gg=mn(zI),BI=Ze({},pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:up}),$I=mn(BI),HI=Ze({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),WI=mn(HI),qI=Ze({},Vc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GI=mn(qI),KI=[9,13,27,32],cp=Ir&&"CompositionEvent"in window,Ca=null;Ir&&"documentMode"in document&&(Ca=document.documentMode);var QI=Ir&&"TextEvent"in window&&!Ca,F1=Ir&&(!cp||Ca&&8<Ca&&11>=Ca),Kg=" ",Qg=!1;function U1(t,e){switch(t){case"keyup":return KI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ls=!1;function YI(t,e){switch(t){case"compositionend":return z1(e);case"keypress":return e.which!==32?null:(Qg=!0,Kg);case"textInput":return t=e.data,t===Kg&&Qg?null:t;default:return null}}function XI(t,e){if(Ls)return t==="compositionend"||!cp&&U1(t,e)?(t=j1(),xu=ap=ti=null,Ls=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return F1&&e.locale!=="ko"?null:e.data;default:return null}}var JI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!JI[t.type]:e==="textarea"}function B1(t,e,n,r){_1(r),e=Qu(e,"onChange"),0<e.length&&(n=new lp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ka=null,Ha=null;function ZI(t){Z1(t,0)}function jc(t){var e=Vs(t);if(d1(e))return t}function e2(t,e){if(t==="change")return e}var $1=!1;if(Ir){var Bh;if(Ir){var $h="oninput"in document;if(!$h){var Xg=document.createElement("div");Xg.setAttribute("oninput","return;"),$h=typeof Xg.oninput=="function"}Bh=$h}else Bh=!1;$1=Bh&&(!document.documentMode||9<document.documentMode)}function Jg(){ka&&(ka.detachEvent("onpropertychange",H1),Ha=ka=null)}function H1(t){if(t.propertyName==="value"&&jc(Ha)){var e=[];B1(e,Ha,t,np(t)),T1(ZI,e)}}function t2(t,e,n){t==="focusin"?(Jg(),ka=e,Ha=n,ka.attachEvent("onpropertychange",H1)):t==="focusout"&&Jg()}function n2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jc(Ha)}function r2(t,e){if(t==="click")return jc(e)}function i2(t,e){if(t==="input"||t==="change")return jc(e)}function s2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jn=typeof Object.is=="function"?Object.is:s2;function Wa(t,e){if(jn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Td.call(e,i)||!jn(t[i],e[i]))return!1}return!0}function Zg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ev(t,e){var n=Zg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zg(n)}}function W1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?W1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function q1(){for(var t=window,e=Bu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bu(t.document)}return e}function hp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function o2(t){var e=q1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&W1(n.ownerDocument.documentElement,n)){if(r!==null&&hp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=ev(n,s);var o=ev(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var a2=Ir&&"documentMode"in document&&11>=document.documentMode,Os=null,Bd=null,ba=null,$d=!1;function tv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$d||Os==null||Os!==Bu(r)||(r=Os,"selectionStart"in r&&hp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ba&&Wa(ba,r)||(ba=r,r=Qu(Bd,"onSelect"),0<r.length&&(e=new lp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Os)))}function ru(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ms={animationend:ru("Animation","AnimationEnd"),animationiteration:ru("Animation","AnimationIteration"),animationstart:ru("Animation","AnimationStart"),transitionend:ru("Transition","TransitionEnd")},Hh={},G1={};Ir&&(G1=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function Fc(t){if(Hh[t])return Hh[t];if(!Ms[t])return t;var e=Ms[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in G1)return Hh[t]=e[n];return t}var K1=Fc("animationend"),Q1=Fc("animationiteration"),Y1=Fc("animationstart"),X1=Fc("transitionend"),J1=new Map,nv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Si(t,e){J1.set(t,e),ds(e,[t])}for(var Wh=0;Wh<nv.length;Wh++){var qh=nv[Wh],l2=qh.toLowerCase(),u2=qh[0].toUpperCase()+qh.slice(1);Si(l2,"on"+u2)}Si(K1,"onAnimationEnd");Si(Q1,"onAnimationIteration");Si(Y1,"onAnimationStart");Si("dblclick","onDoubleClick");Si("focusin","onFocus");Si("focusout","onBlur");Si(X1,"onTransitionEnd");no("onMouseEnter",["mouseout","mouseover"]);no("onMouseLeave",["mouseout","mouseover"]);no("onPointerEnter",["pointerout","pointerover"]);no("onPointerLeave",["pointerout","pointerover"]);ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ds("onBeforeInput",["compositionend","keypress","textInput","paste"]);ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c2=new Set("cancel close invalid load scroll toggle".split(" ").concat(ya));function rv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lI(r,e,void 0,t),t.currentTarget=null}function Z1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;rv(i,l,c),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;rv(i,l,c),s=u}}}if(Hu)throw t=jd,Hu=!1,jd=null,t}function $e(t,e){var n=e[Kd];n===void 0&&(n=e[Kd]=new Set);var r=t+"__bubble";n.has(r)||(e_(e,t,2,!1),n.add(r))}function Gh(t,e,n){var r=0;e&&(r|=4),e_(n,t,r,e)}var iu="_reactListening"+Math.random().toString(36).slice(2);function qa(t){if(!t[iu]){t[iu]=!0,a1.forEach(function(n){n!=="selectionchange"&&(c2.has(n)||Gh(n,!1,t),Gh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[iu]||(e[iu]=!0,Gh("selectionchange",!1,e))}}function e_(t,e,n,r){switch(V1(e)){case 1:var i=II;break;case 4:i=SI;break;default:i=op}n=i.bind(null,e,n,t),i=void 0,!Vd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Kh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=$i(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}T1(function(){var c=s,d=np(n),m=[];e:{var g=J1.get(t);if(g!==void 0){var w=lp,k=t;switch(t){case"keypress":if(Tu(n)===0)break e;case"keydown":case"keyup":w=UI;break;case"focusin":k="focus",w=zh;break;case"focusout":k="blur",w=zh;break;case"beforeblur":case"afterblur":w=zh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Wg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=bI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=$I;break;case K1:case Q1:case Y1:w=PI;break;case X1:w=WI;break;case"scroll":w=CI;break;case"wheel":w=GI;break;case"copy":case"cut":case"paste":w=DI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Gg}var b=(e&4)!==0,L=!b&&t==="scroll",T=b?g!==null?g+"Capture":null:g;b=[];for(var y=c,S;y!==null;){S=y;var M=S.stateNode;if(S.tag===5&&M!==null&&(S=M,T!==null&&(M=Ua(y,T),M!=null&&b.push(Ga(y,M,S)))),L)break;y=y.return}0<b.length&&(g=new w(g,k,null,n,d),m.push({event:g,listeners:b}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",g&&n!==Od&&(k=n.relatedTarget||n.fromElement)&&($i(k)||k[Sr]))break e;if((w||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,w?(k=n.relatedTarget||n.toElement,w=c,k=k?$i(k):null,k!==null&&(L=fs(k),k!==L||k.tag!==5&&k.tag!==6)&&(k=null)):(w=null,k=c),w!==k)){if(b=Wg,M="onMouseLeave",T="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(b=Gg,M="onPointerLeave",T="onPointerEnter",y="pointer"),L=w==null?g:Vs(w),S=k==null?g:Vs(k),g=new b(M,y+"leave",w,n,d),g.target=L,g.relatedTarget=S,M=null,$i(d)===c&&(b=new b(T,y+"enter",k,n,d),b.target=S,b.relatedTarget=L,M=b),L=M,w&&k)t:{for(b=w,T=k,y=0,S=b;S;S=ks(S))y++;for(S=0,M=T;M;M=ks(M))S++;for(;0<y-S;)b=ks(b),y--;for(;0<S-y;)T=ks(T),S--;for(;y--;){if(b===T||T!==null&&b===T.alternate)break t;b=ks(b),T=ks(T)}b=null}else b=null;w!==null&&iv(m,g,w,b,!1),k!==null&&L!==null&&iv(m,L,k,b,!0)}}e:{if(g=c?Vs(c):window,w=g.nodeName&&g.nodeName.toLowerCase(),w==="select"||w==="input"&&g.type==="file")var U=e2;else if(Yg(g))if($1)U=i2;else{U=n2;var P=t2}else(w=g.nodeName)&&w.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(U=r2);if(U&&(U=U(t,c))){B1(m,U,n,d);break e}P&&P(t,g,c),t==="focusout"&&(P=g._wrapperState)&&P.controlled&&g.type==="number"&&Rd(g,"number",g.value)}switch(P=c?Vs(c):window,t){case"focusin":(Yg(P)||P.contentEditable==="true")&&(Os=P,Bd=c,ba=null);break;case"focusout":ba=Bd=Os=null;break;case"mousedown":$d=!0;break;case"contextmenu":case"mouseup":case"dragend":$d=!1,tv(m,n,d);break;case"selectionchange":if(a2)break;case"keydown":case"keyup":tv(m,n,d)}var I;if(cp)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ls?U1(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(F1&&n.locale!=="ko"&&(Ls||v!=="onCompositionStart"?v==="onCompositionEnd"&&Ls&&(I=j1()):(ti=d,ap="value"in ti?ti.value:ti.textContent,Ls=!0)),P=Qu(c,v),0<P.length&&(v=new qg(v,t,null,n,d),m.push({event:v,listeners:P}),I?v.data=I:(I=z1(n),I!==null&&(v.data=I)))),(I=QI?YI(t,n):XI(t,n))&&(c=Qu(c,"onBeforeInput"),0<c.length&&(d=new qg("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:c}),d.data=I))}Z1(m,e)})}function Ga(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ua(t,n),s!=null&&r.unshift(Ga(t,s,i)),s=Ua(t,e),s!=null&&r.push(Ga(t,s,i))),t=t.return}return r}function ks(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function iv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=Ua(n,s),u!=null&&o.unshift(Ga(n,u,l))):i||(u=Ua(n,s),u!=null&&o.push(Ga(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var h2=/\r\n?/g,d2=/\u0000|\uFFFD/g;function sv(t){return(typeof t=="string"?t:""+t).replace(h2,`
`).replace(d2,"")}function su(t,e,n){if(e=sv(e),sv(t)!==e&&n)throw Error(W(425))}function Yu(){}var Hd=null,Wd=null;function qd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gd=typeof setTimeout=="function"?setTimeout:void 0,f2=typeof clearTimeout=="function"?clearTimeout:void 0,ov=typeof Promise=="function"?Promise:void 0,p2=typeof queueMicrotask=="function"?queueMicrotask:typeof ov<"u"?function(t){return ov.resolve(null).then(t).catch(m2)}:Gd;function m2(t){setTimeout(function(){throw t})}function Qh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),$a(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);$a(e)}function ui(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function av(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xo=Math.random().toString(36).slice(2),Gn="__reactFiber$"+xo,Ka="__reactProps$"+xo,Sr="__reactContainer$"+xo,Kd="__reactEvents$"+xo,g2="__reactListeners$"+xo,v2="__reactHandles$"+xo;function $i(t){var e=t[Gn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Sr]||n[Gn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=av(t);t!==null;){if(n=t[Gn])return n;t=av(t)}return e}t=n,n=t.parentNode}return null}function ml(t){return t=t[Gn]||t[Sr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Uc(t){return t[Ka]||null}var Qd=[],js=-1;function Ci(t){return{current:t}}function We(t){0>js||(t.current=Qd[js],Qd[js]=null,js--)}function Ue(t,e){js++,Qd[js]=t.current,t.current=e}var wi={},zt=Ci(wi),rn=Ci(!1),Zi=wi;function ro(t,e){var n=t.type.contextTypes;if(!n)return wi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function sn(t){return t=t.childContextTypes,t!=null}function Xu(){We(rn),We(zt)}function lv(t,e,n){if(zt.current!==wi)throw Error(W(168));Ue(zt,e),Ue(rn,n)}function t_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,tI(t)||"Unknown",i));return Ze({},n,r)}function Ju(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wi,Zi=zt.current,Ue(zt,t),Ue(rn,rn.current),!0}function uv(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=t_(t,e,Zi),r.__reactInternalMemoizedMergedChildContext=t,We(rn),We(zt),Ue(zt,t)):We(rn),Ue(rn,n)}var dr=null,zc=!1,Yh=!1;function n_(t){dr===null?dr=[t]:dr.push(t)}function y2(t){zc=!0,n_(t)}function ki(){if(!Yh&&dr!==null){Yh=!0;var t=0,e=Ne;try{var n=dr;for(Ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}dr=null,zc=!1}catch(i){throw dr!==null&&(dr=dr.slice(t+1)),k1(rp,ki),i}finally{Ne=e,Yh=!1}}return null}var Fs=[],Us=0,Zu=null,ec=0,_n=[],wn=0,es=null,pr=1,mr="";function ji(t,e){Fs[Us++]=ec,Fs[Us++]=Zu,Zu=t,ec=e}function r_(t,e,n){_n[wn++]=pr,_n[wn++]=mr,_n[wn++]=es,es=t;var r=pr;t=mr;var i=32-Mn(r)-1;r&=~(1<<i),n+=1;var s=32-Mn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,pr=1<<32-Mn(e)+i|n<<i|r,mr=s+t}else pr=1<<s|n<<i|r,mr=t}function dp(t){t.return!==null&&(ji(t,1),r_(t,1,0))}function fp(t){for(;t===Zu;)Zu=Fs[--Us],Fs[Us]=null,ec=Fs[--Us],Fs[Us]=null;for(;t===es;)es=_n[--wn],_n[wn]=null,mr=_n[--wn],_n[wn]=null,pr=_n[--wn],_n[wn]=null}var dn=null,cn=null,Qe=!1,On=null;function i_(t,e){var n=En(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function cv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dn=t,cn=ui(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dn=t,cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=es!==null?{id:pr,overflow:mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=En(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,dn=t,cn=null,!0):!1;default:return!1}}function Yd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xd(t){if(Qe){var e=cn;if(e){var n=e;if(!cv(t,e)){if(Yd(t))throw Error(W(418));e=ui(n.nextSibling);var r=dn;e&&cv(t,e)?i_(r,n):(t.flags=t.flags&-4097|2,Qe=!1,dn=t)}}else{if(Yd(t))throw Error(W(418));t.flags=t.flags&-4097|2,Qe=!1,dn=t}}}function hv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dn=t}function ou(t){if(t!==dn)return!1;if(!Qe)return hv(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qd(t.type,t.memoizedProps)),e&&(e=cn)){if(Yd(t))throw s_(),Error(W(418));for(;e;)i_(t,e),e=ui(e.nextSibling)}if(hv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){cn=ui(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}cn=null}}else cn=dn?ui(t.stateNode.nextSibling):null;return!0}function s_(){for(var t=cn;t;)t=ui(t.nextSibling)}function io(){cn=dn=null,Qe=!1}function pp(t){On===null?On=[t]:On.push(t)}var _2=Dr.ReactCurrentBatchConfig;function ra(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function au(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function dv(t){var e=t._init;return e(t._payload)}function o_(t){function e(T,y){if(t){var S=T.deletions;S===null?(T.deletions=[y],T.flags|=16):S.push(y)}}function n(T,y){if(!t)return null;for(;y!==null;)e(T,y),y=y.sibling;return null}function r(T,y){for(T=new Map;y!==null;)y.key!==null?T.set(y.key,y):T.set(y.index,y),y=y.sibling;return T}function i(T,y){return T=fi(T,y),T.index=0,T.sibling=null,T}function s(T,y,S){return T.index=S,t?(S=T.alternate,S!==null?(S=S.index,S<y?(T.flags|=2,y):S):(T.flags|=2,y)):(T.flags|=1048576,y)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function l(T,y,S,M){return y===null||y.tag!==6?(y=rd(S,T.mode,M),y.return=T,y):(y=i(y,S),y.return=T,y)}function u(T,y,S,M){var U=S.type;return U===Ds?d(T,y,S.props.children,M,S.key):y!==null&&(y.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Gr&&dv(U)===y.type)?(M=i(y,S.props),M.ref=ra(T,y,S),M.return=T,M):(M=Ru(S.type,S.key,S.props,null,T.mode,M),M.ref=ra(T,y,S),M.return=T,M)}function c(T,y,S,M){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=id(S,T.mode,M),y.return=T,y):(y=i(y,S.children||[]),y.return=T,y)}function d(T,y,S,M,U){return y===null||y.tag!==7?(y=Xi(S,T.mode,M,U),y.return=T,y):(y=i(y,S),y.return=T,y)}function m(T,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=rd(""+y,T.mode,S),y.return=T,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Yl:return S=Ru(y.type,y.key,y.props,null,T.mode,S),S.ref=ra(T,null,y),S.return=T,S;case Ns:return y=id(y,T.mode,S),y.return=T,y;case Gr:var M=y._init;return m(T,M(y._payload),S)}if(ga(y)||Jo(y))return y=Xi(y,T.mode,S,null),y.return=T,y;au(T,y)}return null}function g(T,y,S,M){var U=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return U!==null?null:l(T,y,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Yl:return S.key===U?u(T,y,S,M):null;case Ns:return S.key===U?c(T,y,S,M):null;case Gr:return U=S._init,g(T,y,U(S._payload),M)}if(ga(S)||Jo(S))return U!==null?null:d(T,y,S,M,null);au(T,S)}return null}function w(T,y,S,M,U){if(typeof M=="string"&&M!==""||typeof M=="number")return T=T.get(S)||null,l(y,T,""+M,U);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Yl:return T=T.get(M.key===null?S:M.key)||null,u(y,T,M,U);case Ns:return T=T.get(M.key===null?S:M.key)||null,c(y,T,M,U);case Gr:var P=M._init;return w(T,y,S,P(M._payload),U)}if(ga(M)||Jo(M))return T=T.get(S)||null,d(y,T,M,U,null);au(y,M)}return null}function k(T,y,S,M){for(var U=null,P=null,I=y,v=y=0,E=null;I!==null&&v<S.length;v++){I.index>v?(E=I,I=null):E=I.sibling;var x=g(T,I,S[v],M);if(x===null){I===null&&(I=E);break}t&&I&&x.alternate===null&&e(T,I),y=s(x,y,v),P===null?U=x:P.sibling=x,P=x,I=E}if(v===S.length)return n(T,I),Qe&&ji(T,v),U;if(I===null){for(;v<S.length;v++)I=m(T,S[v],M),I!==null&&(y=s(I,y,v),P===null?U=I:P.sibling=I,P=I);return Qe&&ji(T,v),U}for(I=r(T,I);v<S.length;v++)E=w(I,T,v,S[v],M),E!==null&&(t&&E.alternate!==null&&I.delete(E.key===null?v:E.key),y=s(E,y,v),P===null?U=E:P.sibling=E,P=E);return t&&I.forEach(function(A){return e(T,A)}),Qe&&ji(T,v),U}function b(T,y,S,M){var U=Jo(S);if(typeof U!="function")throw Error(W(150));if(S=U.call(S),S==null)throw Error(W(151));for(var P=U=null,I=y,v=y=0,E=null,x=S.next();I!==null&&!x.done;v++,x=S.next()){I.index>v?(E=I,I=null):E=I.sibling;var A=g(T,I,x.value,M);if(A===null){I===null&&(I=E);break}t&&I&&A.alternate===null&&e(T,I),y=s(A,y,v),P===null?U=A:P.sibling=A,P=A,I=E}if(x.done)return n(T,I),Qe&&ji(T,v),U;if(I===null){for(;!x.done;v++,x=S.next())x=m(T,x.value,M),x!==null&&(y=s(x,y,v),P===null?U=x:P.sibling=x,P=x);return Qe&&ji(T,v),U}for(I=r(T,I);!x.done;v++,x=S.next())x=w(I,T,v,x.value,M),x!==null&&(t&&x.alternate!==null&&I.delete(x.key===null?v:x.key),y=s(x,y,v),P===null?U=x:P.sibling=x,P=x);return t&&I.forEach(function(N){return e(T,N)}),Qe&&ji(T,v),U}function L(T,y,S,M){if(typeof S=="object"&&S!==null&&S.type===Ds&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Yl:e:{for(var U=S.key,P=y;P!==null;){if(P.key===U){if(U=S.type,U===Ds){if(P.tag===7){n(T,P.sibling),y=i(P,S.props.children),y.return=T,T=y;break e}}else if(P.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Gr&&dv(U)===P.type){n(T,P.sibling),y=i(P,S.props),y.ref=ra(T,P,S),y.return=T,T=y;break e}n(T,P);break}else e(T,P);P=P.sibling}S.type===Ds?(y=Xi(S.props.children,T.mode,M,S.key),y.return=T,T=y):(M=Ru(S.type,S.key,S.props,null,T.mode,M),M.ref=ra(T,y,S),M.return=T,T=M)}return o(T);case Ns:e:{for(P=S.key;y!==null;){if(y.key===P)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){n(T,y.sibling),y=i(y,S.children||[]),y.return=T,T=y;break e}else{n(T,y);break}else e(T,y);y=y.sibling}y=id(S,T.mode,M),y.return=T,T=y}return o(T);case Gr:return P=S._init,L(T,y,P(S._payload),M)}if(ga(S))return k(T,y,S,M);if(Jo(S))return b(T,y,S,M);au(T,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(n(T,y.sibling),y=i(y,S),y.return=T,T=y):(n(T,y),y=rd(S,T.mode,M),y.return=T,T=y),o(T)):n(T,y)}return L}var so=o_(!0),a_=o_(!1),tc=Ci(null),nc=null,zs=null,mp=null;function gp(){mp=zs=nc=null}function vp(t){var e=tc.current;We(tc),t._currentValue=e}function Jd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qs(t,e){nc=t,mp=zs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nn=!0),t.firstContext=null)}function In(t){var e=t._currentValue;if(mp!==t)if(t={context:t,memoizedValue:e,next:null},zs===null){if(nc===null)throw Error(W(308));zs=t,nc.dependencies={lanes:0,firstContext:t}}else zs=zs.next=t;return e}var Hi=null;function yp(t){Hi===null?Hi=[t]:Hi.push(t)}function l_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,yp(e)):(n.next=i.next,i.next=n),e.interleaved=n,Cr(t,r)}function Cr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Kr=!1;function _p(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function u_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Er(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ci(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Cr(t,n)}return i=r.interleaved,i===null?(e.next=e,yp(r)):(e.next=i.next,i.next=e),r.interleaved=e,Cr(t,n)}function Iu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ip(t,n)}}function fv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function rc(t,e,n,r){var i=t.updateQueue;Kr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(s!==null){var m=i.baseState;o=0,d=c=u=null,l=s;do{var g=l.lane,w=l.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var k=t,b=l;switch(g=e,w=n,b.tag){case 1:if(k=b.payload,typeof k=="function"){m=k.call(w,m,g);break e}m=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=b.payload,g=typeof k=="function"?k.call(w,m,g):k,g==null)break e;m=Ze({},m,g);break e;case 2:Kr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[l]:g.push(l))}else w={eventTime:w,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=w,u=m):d=d.next=w,o|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;g=l,l=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(d===null&&(u=m),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ns|=o,t.lanes=o,t.memoizedState=m}}function pv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var gl={},Qn=Ci(gl),Qa=Ci(gl),Ya=Ci(gl);function Wi(t){if(t===gl)throw Error(W(174));return t}function wp(t,e){switch(Ue(Ya,e),Ue(Qa,t),Ue(Qn,gl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Nd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Nd(e,t)}We(Qn),Ue(Qn,e)}function oo(){We(Qn),We(Qa),We(Ya)}function c_(t){Wi(Ya.current);var e=Wi(Qn.current),n=Nd(e,t.type);e!==n&&(Ue(Qa,t),Ue(Qn,n))}function Ep(t){Qa.current===t&&(We(Qn),We(Qa))}var Xe=Ci(0);function ic(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xh=[];function xp(){for(var t=0;t<Xh.length;t++)Xh[t]._workInProgressVersionPrimary=null;Xh.length=0}var Su=Dr.ReactCurrentDispatcher,Jh=Dr.ReactCurrentBatchConfig,ts=0,Je=null,pt=null,yt=null,sc=!1,Aa=!1,Xa=0,w2=0;function Nt(){throw Error(W(321))}function Tp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jn(t[n],e[n]))return!1;return!0}function Ip(t,e,n,r,i,s){if(ts=s,Je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Su.current=t===null||t.memoizedState===null?I2:S2,t=n(r,i),Aa){s=0;do{if(Aa=!1,Xa=0,25<=s)throw Error(W(301));s+=1,yt=pt=null,e.updateQueue=null,Su.current=C2,t=n(r,i)}while(Aa)}if(Su.current=oc,e=pt!==null&&pt.next!==null,ts=0,yt=pt=Je=null,sc=!1,e)throw Error(W(300));return t}function Sp(){var t=Xa!==0;return Xa=0,t}function Wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Je.memoizedState=yt=t:yt=yt.next=t,yt}function Sn(){if(pt===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var e=yt===null?Je.memoizedState:yt.next;if(e!==null)yt=e,pt=t;else{if(t===null)throw Error(W(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},yt===null?Je.memoizedState=yt=t:yt=yt.next=t}return yt}function Ja(t,e){return typeof e=="function"?e(t):e}function Zh(t){var e=Sn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=pt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,c=s;do{var d=c.lane;if((ts&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var m={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=m,o=r):u=u.next=m,Je.lanes|=d,ns|=d}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=l,jn(r,e.memoizedState)||(nn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Je.lanes|=s,ns|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ed(t){var e=Sn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);jn(s,e.memoizedState)||(nn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function h_(){}function d_(t,e){var n=Je,r=Sn(),i=e(),s=!jn(r.memoizedState,i);if(s&&(r.memoizedState=i,nn=!0),r=r.queue,Cp(m_.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||yt!==null&&yt.memoizedState.tag&1){if(n.flags|=2048,Za(9,p_.bind(null,n,r,i,e),void 0,null),_t===null)throw Error(W(349));ts&30||f_(n,e,i)}return i}function f_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function p_(t,e,n,r){e.value=n,e.getSnapshot=r,g_(e)&&v_(t)}function m_(t,e,n){return n(function(){g_(e)&&v_(t)})}function g_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jn(t,n)}catch{return!0}}function v_(t){var e=Cr(t,1);e!==null&&Vn(e,t,1,-1)}function mv(t){var e=Wn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:t},e.queue=t,t=t.dispatch=T2.bind(null,Je,t),[e.memoizedState,t]}function Za(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function y_(){return Sn().memoizedState}function Cu(t,e,n,r){var i=Wn();Je.flags|=t,i.memoizedState=Za(1|e,n,void 0,r===void 0?null:r)}function Bc(t,e,n,r){var i=Sn();r=r===void 0?null:r;var s=void 0;if(pt!==null){var o=pt.memoizedState;if(s=o.destroy,r!==null&&Tp(r,o.deps)){i.memoizedState=Za(e,n,s,r);return}}Je.flags|=t,i.memoizedState=Za(1|e,n,s,r)}function gv(t,e){return Cu(8390656,8,t,e)}function Cp(t,e){return Bc(2048,8,t,e)}function __(t,e){return Bc(4,2,t,e)}function w_(t,e){return Bc(4,4,t,e)}function E_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function x_(t,e,n){return n=n!=null?n.concat([t]):null,Bc(4,4,E_.bind(null,e,t),n)}function kp(){}function T_(t,e){var n=Sn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function I_(t,e){var n=Sn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function S_(t,e,n){return ts&21?(jn(n,e)||(n=R1(),Je.lanes|=n,ns|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nn=!0),t.memoizedState=n)}function E2(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var r=Jh.transition;Jh.transition={};try{t(!1),e()}finally{Ne=n,Jh.transition=r}}function C_(){return Sn().memoizedState}function x2(t,e,n){var r=di(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},k_(t))b_(e,n);else if(n=l_(t,e,n,r),n!==null){var i=Kt();Vn(n,t,r,i),A_(n,e,r)}}function T2(t,e,n){var r=di(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(k_(t))b_(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,jn(l,o)){var u=e.interleaved;u===null?(i.next=i,yp(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=l_(t,e,i,r),n!==null&&(i=Kt(),Vn(n,t,r,i),A_(n,e,r))}}function k_(t){var e=t.alternate;return t===Je||e!==null&&e===Je}function b_(t,e){Aa=sc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function A_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ip(t,n)}}var oc={readContext:In,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},I2={readContext:In,useCallback:function(t,e){return Wn().memoizedState=[t,e===void 0?null:e],t},useContext:In,useEffect:gv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Cu(4194308,4,E_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cu(4,2,t,e)},useMemo:function(t,e){var n=Wn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Wn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=x2.bind(null,Je,t),[r.memoizedState,t]},useRef:function(t){var e=Wn();return t={current:t},e.memoizedState=t},useState:mv,useDebugValue:kp,useDeferredValue:function(t){return Wn().memoizedState=t},useTransition:function(){var t=mv(!1),e=t[0];return t=E2.bind(null,t[1]),Wn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Je,i=Wn();if(Qe){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),_t===null)throw Error(W(349));ts&30||f_(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,gv(m_.bind(null,r,s,t),[t]),r.flags|=2048,Za(9,p_.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Wn(),e=_t.identifierPrefix;if(Qe){var n=mr,r=pr;n=(r&~(1<<32-Mn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=w2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},S2={readContext:In,useCallback:T_,useContext:In,useEffect:Cp,useImperativeHandle:x_,useInsertionEffect:__,useLayoutEffect:w_,useMemo:I_,useReducer:Zh,useRef:y_,useState:function(){return Zh(Ja)},useDebugValue:kp,useDeferredValue:function(t){var e=Sn();return S_(e,pt.memoizedState,t)},useTransition:function(){var t=Zh(Ja)[0],e=Sn().memoizedState;return[t,e]},useMutableSource:h_,useSyncExternalStore:d_,useId:C_,unstable_isNewReconciler:!1},C2={readContext:In,useCallback:T_,useContext:In,useEffect:Cp,useImperativeHandle:x_,useInsertionEffect:__,useLayoutEffect:w_,useMemo:I_,useReducer:ed,useRef:y_,useState:function(){return ed(Ja)},useDebugValue:kp,useDeferredValue:function(t){var e=Sn();return pt===null?e.memoizedState=t:S_(e,pt.memoizedState,t)},useTransition:function(){var t=ed(Ja)[0],e=Sn().memoizedState;return[t,e]},useMutableSource:h_,useSyncExternalStore:d_,useId:C_,unstable_isNewReconciler:!1};function Nn(t,e){if(t&&t.defaultProps){e=Ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Zd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $c={isMounted:function(t){return(t=t._reactInternals)?fs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Kt(),i=di(t),s=Er(r,i);s.payload=e,n!=null&&(s.callback=n),e=ci(t,s,i),e!==null&&(Vn(e,t,i,r),Iu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Kt(),i=di(t),s=Er(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ci(t,s,i),e!==null&&(Vn(e,t,i,r),Iu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Kt(),r=di(t),i=Er(n,r);i.tag=2,e!=null&&(i.callback=e),e=ci(t,i,r),e!==null&&(Vn(e,t,r,n),Iu(e,t,r))}};function vv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Wa(n,r)||!Wa(i,s):!0}function R_(t,e,n){var r=!1,i=wi,s=e.contextType;return typeof s=="object"&&s!==null?s=In(s):(i=sn(e)?Zi:zt.current,r=e.contextTypes,s=(r=r!=null)?ro(t,i):wi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$c,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function yv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$c.enqueueReplaceState(e,e.state,null)}function ef(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},_p(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=In(s):(s=sn(e)?Zi:zt.current,i.context=ro(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Zd(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&$c.enqueueReplaceState(i,i.state,null),rc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ao(t,e){try{var n="",r=e;do n+=eI(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function td(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function tf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var k2=typeof WeakMap=="function"?WeakMap:Map;function P_(t,e,n){n=Er(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){lc||(lc=!0,df=r),tf(t,e)},n}function N_(t,e,n){n=Er(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){tf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){tf(t,e),typeof r!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function _v(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new k2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=z2.bind(null,t,e,n),e.then(t,t))}function wv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ev(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Er(-1,1),e.tag=2,ci(n,e,1))),n.lanes|=1),t)}var b2=Dr.ReactCurrentOwner,nn=!1;function Wt(t,e,n,r){e.child=t===null?a_(e,null,n,r):so(e,t.child,n,r)}function xv(t,e,n,r,i){n=n.render;var s=e.ref;return Qs(e,i),r=Ip(t,e,n,r,s,i),n=Sp(),t!==null&&!nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,kr(t,e,i)):(Qe&&n&&dp(e),e.flags|=1,Wt(t,e,r,i),e.child)}function Tv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Op(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,D_(t,e,s,r,i)):(t=Ru(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Wa,n(o,r)&&t.ref===e.ref)return kr(t,e,i)}return e.flags|=1,t=fi(s,r),t.ref=e.ref,t.return=e,e.child=t}function D_(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Wa(s,r)&&t.ref===e.ref)if(nn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(nn=!0);else return e.lanes=t.lanes,kr(t,e,i)}return nf(t,e,n,r,i)}function L_(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue($s,ln),ln|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ue($s,ln),ln|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ue($s,ln),ln|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ue($s,ln),ln|=r;return Wt(t,e,i,n),e.child}function O_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function nf(t,e,n,r,i){var s=sn(n)?Zi:zt.current;return s=ro(e,s),Qs(e,i),n=Ip(t,e,n,r,s,i),r=Sp(),t!==null&&!nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,kr(t,e,i)):(Qe&&r&&dp(e),e.flags|=1,Wt(t,e,n,i),e.child)}function Iv(t,e,n,r,i){if(sn(n)){var s=!0;Ju(e)}else s=!1;if(Qs(e,i),e.stateNode===null)ku(t,e),R_(e,n,r),ef(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=In(c):(c=sn(n)?Zi:zt.current,c=ro(e,c));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&yv(e,o,r,c),Kr=!1;var g=e.memoizedState;o.state=g,rc(e,r,o,i),u=e.memoizedState,l!==r||g!==u||rn.current||Kr?(typeof d=="function"&&(Zd(e,n,d,r),u=e.memoizedState),(l=Kr||vv(e,n,l,r,g,u,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,u_(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Nn(e.type,l),o.props=c,m=e.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=In(u):(u=sn(n)?Zi:zt.current,u=ro(e,u));var w=n.getDerivedStateFromProps;(d=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||g!==u)&&yv(e,o,r,u),Kr=!1,g=e.memoizedState,o.state=g,rc(e,r,o,i);var k=e.memoizedState;l!==m||g!==k||rn.current||Kr?(typeof w=="function"&&(Zd(e,n,w,r),k=e.memoizedState),(c=Kr||vv(e,n,c,r,g,k,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,k,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,k,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=k),o.props=r,o.state=k,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return rf(t,e,n,r,s,i)}function rf(t,e,n,r,i,s){O_(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&uv(e,n,!1),kr(t,e,s);r=e.stateNode,b2.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=so(e,t.child,null,s),e.child=so(e,null,l,s)):Wt(t,e,l,s),e.memoizedState=r.state,i&&uv(e,n,!0),e.child}function M_(t){var e=t.stateNode;e.pendingContext?lv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lv(t,e.context,!1),wp(t,e.containerInfo)}function Sv(t,e,n,r,i){return io(),pp(i),e.flags|=256,Wt(t,e,n,r),e.child}var sf={dehydrated:null,treeContext:null,retryLane:0};function of(t){return{baseLanes:t,cachePool:null,transitions:null}}function V_(t,e,n){var r=e.pendingProps,i=Xe.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ue(Xe,i&1),t===null)return Xd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=qc(o,r,0,null),t=Xi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=of(n),e.memoizedState=sf,t):bp(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return A2(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=fi(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=fi(l,s):(s=Xi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?of(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=sf,r}return s=t.child,t=s.sibling,r=fi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function bp(t,e){return e=qc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function lu(t,e,n,r){return r!==null&&pp(r),so(e,t.child,null,n),t=bp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function A2(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=td(Error(W(422))),lu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=qc({mode:"visible",children:r.children},i,0,null),s=Xi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&so(e,t.child,null,o),e.child.memoizedState=of(o),e.memoizedState=sf,s);if(!(e.mode&1))return lu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(W(419)),r=td(s,r,void 0),lu(t,e,o,r)}if(l=(o&t.childLanes)!==0,nn||l){if(r=_t,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Cr(t,i),Vn(r,t,i,-1))}return Lp(),r=td(Error(W(421))),lu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=B2.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,cn=ui(i.nextSibling),dn=e,Qe=!0,On=null,t!==null&&(_n[wn++]=pr,_n[wn++]=mr,_n[wn++]=es,pr=t.id,mr=t.overflow,es=e),e=bp(e,r.children),e.flags|=4096,e)}function Cv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Jd(t.return,e,n)}function nd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function j_(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Wt(t,e,r.children,n),r=Xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cv(t,n,e);else if(t.tag===19)Cv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ue(Xe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ic(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),nd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ic(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}nd(e,!0,n,null,s);break;case"together":nd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ku(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function kr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ns|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=fi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=fi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function R2(t,e,n){switch(e.tag){case 3:M_(e),io();break;case 5:c_(e);break;case 1:sn(e.type)&&Ju(e);break;case 4:wp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ue(tc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ue(Xe,Xe.current&1),e.flags|=128,null):n&e.child.childLanes?V_(t,e,n):(Ue(Xe,Xe.current&1),t=kr(t,e,n),t!==null?t.sibling:null);Ue(Xe,Xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return j_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ue(Xe,Xe.current),r)break;return null;case 22:case 23:return e.lanes=0,L_(t,e,n)}return kr(t,e,n)}var F_,af,U_,z_;F_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};af=function(){};U_=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Wi(Qn.current);var s=null;switch(n){case"input":i=bd(t,i),r=bd(t,r),s=[];break;case"select":i=Ze({},i,{value:void 0}),r=Ze({},r,{value:void 0}),s=[];break;case"textarea":i=Pd(t,i),r=Pd(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Yu)}Dd(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ja.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ja.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&$e("scroll",t),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};z_=function(t,e,n,r){n!==r&&(e.flags|=4)};function ia(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function P2(t,e,n){var r=e.pendingProps;switch(fp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(e),null;case 1:return sn(e.type)&&Xu(),Dt(e),null;case 3:return r=e.stateNode,oo(),We(rn),We(zt),xp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ou(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,On!==null&&(mf(On),On=null))),af(t,e),Dt(e),null;case 5:Ep(e);var i=Wi(Ya.current);if(n=e.type,t!==null&&e.stateNode!=null)U_(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Dt(e),null}if(t=Wi(Qn.current),ou(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Gn]=e,r[Ka]=s,t=(e.mode&1)!==0,n){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(i=0;i<ya.length;i++)$e(ya[i],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":Og(r,s),$e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$e("invalid",r);break;case"textarea":Vg(r,s),$e("invalid",r)}Dd(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&su(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&su(r.textContent,l,t),i=["children",""+l]):ja.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&$e("scroll",r)}switch(n){case"input":Xl(r),Mg(r,s,!0);break;case"textarea":Xl(r),jg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Yu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=m1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Gn]=e,t[Ka]=r,F_(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ld(n,r),n){case"dialog":$e("cancel",t),$e("close",t),i=r;break;case"iframe":case"object":case"embed":$e("load",t),i=r;break;case"video":case"audio":for(i=0;i<ya.length;i++)$e(ya[i],t);i=r;break;case"source":$e("error",t),i=r;break;case"img":case"image":case"link":$e("error",t),$e("load",t),i=r;break;case"details":$e("toggle",t),i=r;break;case"input":Og(t,r),i=bd(t,r),$e("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ze({},r,{value:void 0}),$e("invalid",t);break;case"textarea":Vg(t,r),i=Pd(t,r),$e("invalid",t);break;default:i=r}Dd(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?y1(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&g1(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Fa(t,u):typeof u=="number"&&Fa(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ja.hasOwnProperty(s)?u!=null&&s==="onScroll"&&$e("scroll",t):u!=null&&Jf(t,s,u,o))}switch(n){case"input":Xl(t),Mg(t,r,!1);break;case"textarea":Xl(t),jg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+_i(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ws(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ws(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Yu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dt(e),null;case 6:if(t&&e.stateNode!=null)z_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=Wi(Ya.current),Wi(Qn.current),ou(e)){if(r=e.stateNode,n=e.memoizedProps,r[Gn]=e,(s=r.nodeValue!==n)&&(t=dn,t!==null))switch(t.tag){case 3:su(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&su(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gn]=e,e.stateNode=r}return Dt(e),null;case 13:if(We(Xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&cn!==null&&e.mode&1&&!(e.flags&128))s_(),io(),e.flags|=98560,s=!1;else if(s=ou(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(W(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[Gn]=e}else io(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dt(e),s=!1}else On!==null&&(mf(On),On=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Xe.current&1?mt===0&&(mt=3):Lp())),e.updateQueue!==null&&(e.flags|=4),Dt(e),null);case 4:return oo(),af(t,e),t===null&&qa(e.stateNode.containerInfo),Dt(e),null;case 10:return vp(e.type._context),Dt(e),null;case 17:return sn(e.type)&&Xu(),Dt(e),null;case 19:if(We(Xe),s=e.memoizedState,s===null)return Dt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ia(s,!1);else{if(mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ic(t),o!==null){for(e.flags|=128,ia(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ue(Xe,Xe.current&1|2),e.child}t=t.sibling}s.tail!==null&&st()>lo&&(e.flags|=128,r=!0,ia(s,!1),e.lanes=4194304)}else{if(!r)if(t=ic(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ia(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Qe)return Dt(e),null}else 2*st()-s.renderingStartTime>lo&&n!==1073741824&&(e.flags|=128,r=!0,ia(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=st(),e.sibling=null,n=Xe.current,Ue(Xe,r?n&1|2:n&1),e):(Dt(e),null);case 22:case 23:return Dp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ln&1073741824&&(Dt(e),e.subtreeFlags&6&&(e.flags|=8192)):Dt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function N2(t,e){switch(fp(e),e.tag){case 1:return sn(e.type)&&Xu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return oo(),We(rn),We(zt),xp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ep(e),null;case 13:if(We(Xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));io()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Xe),null;case 4:return oo(),null;case 10:return vp(e.type._context),null;case 22:case 23:return Dp(),null;case 24:return null;default:return null}}var uu=!1,Vt=!1,D2=typeof WeakSet=="function"?WeakSet:Set,X=null;function Bs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nt(t,e,r)}else n.current=null}function lf(t,e,n){try{n()}catch(r){nt(t,e,r)}}var kv=!1;function L2(t,e){if(Hd=Gu,t=q1(),hp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,m=t,g=null;t:for(;;){for(var w;m!==n||i!==0&&m.nodeType!==3||(l=o+i),m!==s||r!==0&&m.nodeType!==3||(u=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(w=m.firstChild)!==null;)g=m,m=w;for(;;){if(m===t)break t;if(g===n&&++c===i&&(l=o),g===s&&++d===r&&(u=o),(w=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=w}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wd={focusedElem:t,selectionRange:n},Gu=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var b=k.memoizedProps,L=k.memoizedState,T=e.stateNode,y=T.getSnapshotBeforeUpdate(e.elementType===e.type?b:Nn(e.type,b),L);T.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(M){nt(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return k=kv,kv=!1,k}function Ra(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&lf(e,n,s)}i=i.next}while(i!==r)}}function Hc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function uf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function B_(t){var e=t.alternate;e!==null&&(t.alternate=null,B_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gn],delete e[Ka],delete e[Kd],delete e[g2],delete e[v2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $_(t){return t.tag===5||t.tag===3||t.tag===4}function bv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Yu));else if(r!==4&&(t=t.child,t!==null))for(cf(t,e,n),t=t.sibling;t!==null;)cf(t,e,n),t=t.sibling}function hf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(hf(t,e,n),t=t.sibling;t!==null;)hf(t,e,n),t=t.sibling}var Tt=null,Dn=!1;function Br(t,e,n){for(n=n.child;n!==null;)H_(t,e,n),n=n.sibling}function H_(t,e,n){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(Mc,n)}catch{}switch(n.tag){case 5:Vt||Bs(n,e);case 6:var r=Tt,i=Dn;Tt=null,Br(t,e,n),Tt=r,Dn=i,Tt!==null&&(Dn?(t=Tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Tt.removeChild(n.stateNode));break;case 18:Tt!==null&&(Dn?(t=Tt,n=n.stateNode,t.nodeType===8?Qh(t.parentNode,n):t.nodeType===1&&Qh(t,n),$a(t)):Qh(Tt,n.stateNode));break;case 4:r=Tt,i=Dn,Tt=n.stateNode.containerInfo,Dn=!0,Br(t,e,n),Tt=r,Dn=i;break;case 0:case 11:case 14:case 15:if(!Vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&lf(n,e,o),i=i.next}while(i!==r)}Br(t,e,n);break;case 1:if(!Vt&&(Bs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){nt(n,e,l)}Br(t,e,n);break;case 21:Br(t,e,n);break;case 22:n.mode&1?(Vt=(r=Vt)||n.memoizedState!==null,Br(t,e,n),Vt=r):Br(t,e,n);break;default:Br(t,e,n)}}function Av(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new D2),e.forEach(function(r){var i=$2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Rn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Tt=l.stateNode,Dn=!1;break e;case 3:Tt=l.stateNode.containerInfo,Dn=!0;break e;case 4:Tt=l.stateNode.containerInfo,Dn=!0;break e}l=l.return}if(Tt===null)throw Error(W(160));H_(s,o,i),Tt=null,Dn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){nt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)W_(e,t),e=e.sibling}function W_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rn(e,t),Hn(t),r&4){try{Ra(3,t,t.return),Hc(3,t)}catch(b){nt(t,t.return,b)}try{Ra(5,t,t.return)}catch(b){nt(t,t.return,b)}}break;case 1:Rn(e,t),Hn(t),r&512&&n!==null&&Bs(n,n.return);break;case 5:if(Rn(e,t),Hn(t),r&512&&n!==null&&Bs(n,n.return),t.flags&32){var i=t.stateNode;try{Fa(i,"")}catch(b){nt(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&f1(i,s),Ld(l,o);var c=Ld(l,s);for(o=0;o<u.length;o+=2){var d=u[o],m=u[o+1];d==="style"?y1(i,m):d==="dangerouslySetInnerHTML"?g1(i,m):d==="children"?Fa(i,m):Jf(i,d,m,c)}switch(l){case"input":Ad(i,s);break;case"textarea":p1(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?Ws(i,!!s.multiple,w,!1):g!==!!s.multiple&&(s.defaultValue!=null?Ws(i,!!s.multiple,s.defaultValue,!0):Ws(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ka]=s}catch(b){nt(t,t.return,b)}}break;case 6:if(Rn(e,t),Hn(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){nt(t,t.return,b)}}break;case 3:if(Rn(e,t),Hn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$a(e.containerInfo)}catch(b){nt(t,t.return,b)}break;case 4:Rn(e,t),Hn(t);break;case 13:Rn(e,t),Hn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Pp=st())),r&4&&Av(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Vt=(c=Vt)||d,Rn(e,t),Vt=c):Rn(e,t),Hn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(X=t,d=t.child;d!==null;){for(m=X=d;X!==null;){switch(g=X,w=g.child,g.tag){case 0:case 11:case 14:case 15:Ra(4,g,g.return);break;case 1:Bs(g,g.return);var k=g.stateNode;if(typeof k.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(b){nt(r,n,b)}}break;case 5:Bs(g,g.return);break;case 22:if(g.memoizedState!==null){Pv(m);continue}}w!==null?(w.return=g,X=w):Pv(m)}d=d.sibling}e:for(d=null,m=t;;){if(m.tag===5){if(d===null){d=m;try{i=m.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=m.stateNode,u=m.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=v1("display",o))}catch(b){nt(t,t.return,b)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(b){nt(t,t.return,b)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Rn(e,t),Hn(t),r&4&&Av(t);break;case 21:break;default:Rn(e,t),Hn(t)}}function Hn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($_(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Fa(i,""),r.flags&=-33);var s=bv(t);hf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=bv(t);cf(t,l,o);break;default:throw Error(W(161))}}catch(u){nt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function O2(t,e,n){X=t,q_(t)}function q_(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var i=X,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||uu;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Vt;l=uu;var c=Vt;if(uu=o,(Vt=u)&&!c)for(X=i;X!==null;)o=X,u=o.child,o.tag===22&&o.memoizedState!==null?Nv(i):u!==null?(u.return=o,X=u):Nv(i);for(;s!==null;)X=s,q_(s),s=s.sibling;X=i,uu=l,Vt=c}Rv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,X=s):Rv(t)}}function Rv(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vt||Hc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Nn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&pv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}pv(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&$a(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Vt||e.flags&512&&uf(e)}catch(g){nt(e,e.return,g)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function Pv(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function Nv(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hc(4,e)}catch(u){nt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){nt(e,i,u)}}var s=e.return;try{uf(e)}catch(u){nt(e,s,u)}break;case 5:var o=e.return;try{uf(e)}catch(u){nt(e,o,u)}}}catch(u){nt(e,e.return,u)}if(e===t){X=null;break}var l=e.sibling;if(l!==null){l.return=e.return,X=l;break}X=e.return}}var M2=Math.ceil,ac=Dr.ReactCurrentDispatcher,Ap=Dr.ReactCurrentOwner,xn=Dr.ReactCurrentBatchConfig,Se=0,_t=null,ht=null,Ct=0,ln=0,$s=Ci(0),mt=0,el=null,ns=0,Wc=0,Rp=0,Pa=null,en=null,Pp=0,lo=1/0,hr=null,lc=!1,df=null,hi=null,cu=!1,ni=null,uc=0,Na=0,ff=null,bu=-1,Au=0;function Kt(){return Se&6?st():bu!==-1?bu:bu=st()}function di(t){return t.mode&1?Se&2&&Ct!==0?Ct&-Ct:_2.transition!==null?(Au===0&&(Au=R1()),Au):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:V1(t.type)),t):1}function Vn(t,e,n,r){if(50<Na)throw Na=0,ff=null,Error(W(185));fl(t,n,r),(!(Se&2)||t!==_t)&&(t===_t&&(!(Se&2)&&(Wc|=n),mt===4&&Yr(t,Ct)),on(t,r),n===1&&Se===0&&!(e.mode&1)&&(lo=st()+500,zc&&ki()))}function on(t,e){var n=t.callbackNode;_I(t,e);var r=qu(t,t===_t?Ct:0);if(r===0)n!==null&&zg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&zg(n),e===1)t.tag===0?y2(Dv.bind(null,t)):n_(Dv.bind(null,t)),p2(function(){!(Se&6)&&ki()}),n=null;else{switch(P1(r)){case 1:n=rp;break;case 4:n=b1;break;case 16:n=Wu;break;case 536870912:n=A1;break;default:n=Wu}n=ew(n,G_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function G_(t,e){if(bu=-1,Au=0,Se&6)throw Error(W(327));var n=t.callbackNode;if(Ys()&&t.callbackNode!==n)return null;var r=qu(t,t===_t?Ct:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=cc(t,r);else{e=r;var i=Se;Se|=2;var s=Q_();(_t!==t||Ct!==e)&&(hr=null,lo=st()+500,Yi(t,e));do try{F2();break}catch(l){K_(t,l)}while(!0);gp(),ac.current=s,Se=i,ht!==null?e=0:(_t=null,Ct=0,e=mt)}if(e!==0){if(e===2&&(i=Fd(t),i!==0&&(r=i,e=pf(t,i))),e===1)throw n=el,Yi(t,0),Yr(t,r),on(t,st()),n;if(e===6)Yr(t,r);else{if(i=t.current.alternate,!(r&30)&&!V2(i)&&(e=cc(t,r),e===2&&(s=Fd(t),s!==0&&(r=s,e=pf(t,s))),e===1))throw n=el,Yi(t,0),Yr(t,r),on(t,st()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Fi(t,en,hr);break;case 3:if(Yr(t,r),(r&130023424)===r&&(e=Pp+500-st(),10<e)){if(qu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Kt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Gd(Fi.bind(null,t,en,hr),e);break}Fi(t,en,hr);break;case 4:if(Yr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Mn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=st()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*M2(r/1960))-r,10<r){t.timeoutHandle=Gd(Fi.bind(null,t,en,hr),r);break}Fi(t,en,hr);break;case 5:Fi(t,en,hr);break;default:throw Error(W(329))}}}return on(t,st()),t.callbackNode===n?G_.bind(null,t):null}function pf(t,e){var n=Pa;return t.current.memoizedState.isDehydrated&&(Yi(t,e).flags|=256),t=cc(t,e),t!==2&&(e=en,en=n,e!==null&&mf(e)),t}function mf(t){en===null?en=t:en.push.apply(en,t)}function V2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!jn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yr(t,e){for(e&=~Rp,e&=~Wc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Mn(e),r=1<<n;t[n]=-1,e&=~r}}function Dv(t){if(Se&6)throw Error(W(327));Ys();var e=qu(t,0);if(!(e&1))return on(t,st()),null;var n=cc(t,e);if(t.tag!==0&&n===2){var r=Fd(t);r!==0&&(e=r,n=pf(t,r))}if(n===1)throw n=el,Yi(t,0),Yr(t,e),on(t,st()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fi(t,en,hr),on(t,st()),null}function Np(t,e){var n=Se;Se|=1;try{return t(e)}finally{Se=n,Se===0&&(lo=st()+500,zc&&ki())}}function rs(t){ni!==null&&ni.tag===0&&!(Se&6)&&Ys();var e=Se;Se|=1;var n=xn.transition,r=Ne;try{if(xn.transition=null,Ne=1,t)return t()}finally{Ne=r,xn.transition=n,Se=e,!(Se&6)&&ki()}}function Dp(){ln=$s.current,We($s)}function Yi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,f2(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(fp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xu();break;case 3:oo(),We(rn),We(zt),xp();break;case 5:Ep(r);break;case 4:oo();break;case 13:We(Xe);break;case 19:We(Xe);break;case 10:vp(r.type._context);break;case 22:case 23:Dp()}n=n.return}if(_t=t,ht=t=fi(t.current,null),Ct=ln=e,mt=0,el=null,Rp=Wc=ns=0,en=Pa=null,Hi!==null){for(e=0;e<Hi.length;e++)if(n=Hi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Hi=null}return t}function K_(t,e){do{var n=ht;try{if(gp(),Su.current=oc,sc){for(var r=Je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}sc=!1}if(ts=0,yt=pt=Je=null,Aa=!1,Xa=0,Ap.current=null,n===null||n.return===null){mt=1,el=e,ht=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=Ct,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=wv(o);if(w!==null){w.flags&=-257,Ev(w,o,l,s,e),w.mode&1&&_v(s,c,e),e=w,u=c;var k=e.updateQueue;if(k===null){var b=new Set;b.add(u),e.updateQueue=b}else k.add(u);break e}else{if(!(e&1)){_v(s,c,e),Lp();break e}u=Error(W(426))}}else if(Qe&&l.mode&1){var L=wv(o);if(L!==null){!(L.flags&65536)&&(L.flags|=256),Ev(L,o,l,s,e),pp(ao(u,l));break e}}s=u=ao(u,l),mt!==4&&(mt=2),Pa===null?Pa=[s]:Pa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=P_(s,u,e);fv(s,T);break e;case 1:l=u;var y=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(hi===null||!hi.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=N_(s,l,e);fv(s,M);break e}}s=s.return}while(s!==null)}X_(n)}catch(U){e=U,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(!0)}function Q_(){var t=ac.current;return ac.current=oc,t===null?oc:t}function Lp(){(mt===0||mt===3||mt===2)&&(mt=4),_t===null||!(ns&268435455)&&!(Wc&268435455)||Yr(_t,Ct)}function cc(t,e){var n=Se;Se|=2;var r=Q_();(_t!==t||Ct!==e)&&(hr=null,Yi(t,e));do try{j2();break}catch(i){K_(t,i)}while(!0);if(gp(),Se=n,ac.current=r,ht!==null)throw Error(W(261));return _t=null,Ct=0,mt}function j2(){for(;ht!==null;)Y_(ht)}function F2(){for(;ht!==null&&!cI();)Y_(ht)}function Y_(t){var e=Z_(t.alternate,t,ln);t.memoizedProps=t.pendingProps,e===null?X_(t):ht=e,Ap.current=null}function X_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=N2(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mt=6,ht=null;return}}else if(n=P2(n,e,ln),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);mt===0&&(mt=5)}function Fi(t,e,n){var r=Ne,i=xn.transition;try{xn.transition=null,Ne=1,U2(t,e,n,r)}finally{xn.transition=i,Ne=r}return null}function U2(t,e,n,r){do Ys();while(ni!==null);if(Se&6)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(wI(t,s),t===_t&&(ht=_t=null,Ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cu||(cu=!0,ew(Wu,function(){return Ys(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=xn.transition,xn.transition=null;var o=Ne;Ne=1;var l=Se;Se|=4,Ap.current=null,L2(t,n),W_(n,t),o2(Wd),Gu=!!Hd,Wd=Hd=null,t.current=n,O2(n),hI(),Se=l,Ne=o,xn.transition=s}else t.current=n;if(cu&&(cu=!1,ni=t,uc=i),s=t.pendingLanes,s===0&&(hi=null),pI(n.stateNode),on(t,st()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(lc)throw lc=!1,t=df,df=null,t;return uc&1&&t.tag!==0&&Ys(),s=t.pendingLanes,s&1?t===ff?Na++:(Na=0,ff=t):Na=0,ki(),null}function Ys(){if(ni!==null){var t=P1(uc),e=xn.transition,n=Ne;try{if(xn.transition=null,Ne=16>t?16:t,ni===null)var r=!1;else{if(t=ni,ni=null,uc=0,Se&6)throw Error(W(331));var i=Se;for(Se|=4,X=t.current;X!==null;){var s=X,o=s.child;if(X.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(X=c;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:Ra(8,d,s)}var m=d.child;if(m!==null)m.return=d,X=m;else for(;X!==null;){d=X;var g=d.sibling,w=d.return;if(B_(d),d===c){X=null;break}if(g!==null){g.return=w,X=g;break}X=w}}}var k=s.alternate;if(k!==null){var b=k.child;if(b!==null){k.child=null;do{var L=b.sibling;b.sibling=null,b=L}while(b!==null)}}X=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,X=o;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ra(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,X=T;break e}X=s.return}}var y=t.current;for(X=y;X!==null;){o=X;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,X=S;else e:for(o=y;X!==null;){if(l=X,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Hc(9,l)}}catch(U){nt(l,l.return,U)}if(l===o){X=null;break e}var M=l.sibling;if(M!==null){M.return=l.return,X=M;break e}X=l.return}}if(Se=i,ki(),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(Mc,t)}catch{}r=!0}return r}finally{Ne=n,xn.transition=e}}return!1}function Lv(t,e,n){e=ao(n,e),e=P_(t,e,1),t=ci(t,e,1),e=Kt(),t!==null&&(fl(t,1,e),on(t,e))}function nt(t,e,n){if(t.tag===3)Lv(t,t,n);else for(;e!==null;){if(e.tag===3){Lv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hi===null||!hi.has(r))){t=ao(n,t),t=N_(e,t,1),e=ci(e,t,1),t=Kt(),e!==null&&(fl(e,1,t),on(e,t));break}}e=e.return}}function z2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Kt(),t.pingedLanes|=t.suspendedLanes&n,_t===t&&(Ct&n)===n&&(mt===4||mt===3&&(Ct&130023424)===Ct&&500>st()-Pp?Yi(t,0):Rp|=n),on(t,e)}function J_(t,e){e===0&&(t.mode&1?(e=eu,eu<<=1,!(eu&130023424)&&(eu=4194304)):e=1);var n=Kt();t=Cr(t,e),t!==null&&(fl(t,e,n),on(t,n))}function B2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),J_(t,n)}function $2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),J_(t,n)}var Z_;Z_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||rn.current)nn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return nn=!1,R2(t,e,n);nn=!!(t.flags&131072)}else nn=!1,Qe&&e.flags&1048576&&r_(e,ec,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ku(t,e),t=e.pendingProps;var i=ro(e,zt.current);Qs(e,n),i=Ip(null,e,r,t,i,n);var s=Sp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sn(r)?(s=!0,Ju(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_p(e),i.updater=$c,e.stateNode=i,i._reactInternals=e,ef(e,r,t,n),e=rf(null,e,r,!0,s,n)):(e.tag=0,Qe&&s&&dp(e),Wt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ku(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=W2(r),t=Nn(r,t),i){case 0:e=nf(null,e,r,t,n);break e;case 1:e=Iv(null,e,r,t,n);break e;case 11:e=xv(null,e,r,t,n);break e;case 14:e=Tv(null,e,r,Nn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nn(r,i),nf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nn(r,i),Iv(t,e,r,i,n);case 3:e:{if(M_(e),t===null)throw Error(W(387));r=e.pendingProps,s=e.memoizedState,i=s.element,u_(t,e),rc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ao(Error(W(423)),e),e=Sv(t,e,r,n,i);break e}else if(r!==i){i=ao(Error(W(424)),e),e=Sv(t,e,r,n,i);break e}else for(cn=ui(e.stateNode.containerInfo.firstChild),dn=e,Qe=!0,On=null,n=a_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(io(),r===i){e=kr(t,e,n);break e}Wt(t,e,r,n)}e=e.child}return e;case 5:return c_(e),t===null&&Xd(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,qd(r,i)?o=null:s!==null&&qd(r,s)&&(e.flags|=32),O_(t,e),Wt(t,e,o,n),e.child;case 6:return t===null&&Xd(e),null;case 13:return V_(t,e,n);case 4:return wp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=so(e,null,r,n):Wt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nn(r,i),xv(t,e,r,i,n);case 7:return Wt(t,e,e.pendingProps,n),e.child;case 8:return Wt(t,e,e.pendingProps.children,n),e.child;case 12:return Wt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ue(tc,r._currentValue),r._currentValue=o,s!==null)if(jn(s.value,o)){if(s.children===i.children&&!rn.current){e=kr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Er(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Jd(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(W(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Jd(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Wt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Qs(e,n),i=In(i),r=r(i),e.flags|=1,Wt(t,e,r,n),e.child;case 14:return r=e.type,i=Nn(r,e.pendingProps),i=Nn(r.type,i),Tv(t,e,r,i,n);case 15:return D_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nn(r,i),ku(t,e),e.tag=1,sn(r)?(t=!0,Ju(e)):t=!1,Qs(e,n),R_(e,r,i),ef(e,r,i,n),rf(null,e,r,!0,t,n);case 19:return j_(t,e,n);case 22:return L_(t,e,n)}throw Error(W(156,e.tag))};function ew(t,e){return k1(t,e)}function H2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,e,n,r){return new H2(t,e,n,r)}function Op(t){return t=t.prototype,!(!t||!t.isReactComponent)}function W2(t){if(typeof t=="function")return Op(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ep)return 11;if(t===tp)return 14}return 2}function fi(t,e){var n=t.alternate;return n===null?(n=En(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ru(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Op(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ds:return Xi(n.children,i,s,e);case Zf:o=8,i|=8;break;case Id:return t=En(12,n,e,i|2),t.elementType=Id,t.lanes=s,t;case Sd:return t=En(13,n,e,i),t.elementType=Sd,t.lanes=s,t;case Cd:return t=En(19,n,e,i),t.elementType=Cd,t.lanes=s,t;case c1:return qc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case l1:o=10;break e;case u1:o=9;break e;case ep:o=11;break e;case tp:o=14;break e;case Gr:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=En(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Xi(t,e,n,r){return t=En(7,t,r,e),t.lanes=n,t}function qc(t,e,n,r){return t=En(22,t,r,e),t.elementType=c1,t.lanes=n,t.stateNode={isHidden:!1},t}function rd(t,e,n){return t=En(6,t,null,e),t.lanes=n,t}function id(t,e,n){return e=En(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function q2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jh(0),this.expirationTimes=jh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mp(t,e,n,r,i,s,o,l,u){return t=new q2(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=En(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_p(s),t}function G2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ns,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function tw(t){if(!t)return wi;t=t._reactInternals;e:{if(fs(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(sn(n))return t_(t,n,e)}return e}function nw(t,e,n,r,i,s,o,l,u){return t=Mp(n,r,!0,t,i,s,o,l,u),t.context=tw(null),n=t.current,r=Kt(),i=di(n),s=Er(r,i),s.callback=e??null,ci(n,s,i),t.current.lanes=i,fl(t,i,r),on(t,r),t}function Gc(t,e,n,r){var i=e.current,s=Kt(),o=di(i);return n=tw(n),e.context===null?e.context=n:e.pendingContext=n,e=Er(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ci(i,e,o),t!==null&&(Vn(t,i,o,s),Iu(t,i,o)),o}function hc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ov(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Vp(t,e){Ov(t,e),(t=t.alternate)&&Ov(t,e)}function K2(){return null}var rw=typeof reportError=="function"?reportError:function(t){console.error(t)};function jp(t){this._internalRoot=t}Kc.prototype.render=jp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Gc(t,e,null,null)};Kc.prototype.unmount=jp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;rs(function(){Gc(null,t,null,null)}),e[Sr]=null}};function Kc(t){this._internalRoot=t}Kc.prototype.unstable_scheduleHydration=function(t){if(t){var e=L1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qr.length&&e!==0&&e<Qr[n].priority;n++);Qr.splice(n,0,t),n===0&&M1(t)}};function Fp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Mv(){}function Q2(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=hc(o);s.call(c)}}var o=nw(e,r,t,0,null,!1,!1,"",Mv);return t._reactRootContainer=o,t[Sr]=o.current,qa(t.nodeType===8?t.parentNode:t),rs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=hc(u);l.call(c)}}var u=Mp(t,0,!1,null,null,!1,!1,"",Mv);return t._reactRootContainer=u,t[Sr]=u.current,qa(t.nodeType===8?t.parentNode:t),rs(function(){Gc(e,u,n,r)}),u}function Yc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=hc(o);l.call(u)}}Gc(e,o,t,i)}else o=Q2(n,e,t,i,r);return hc(o)}N1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=va(e.pendingLanes);n!==0&&(ip(e,n|1),on(e,st()),!(Se&6)&&(lo=st()+500,ki()))}break;case 13:rs(function(){var r=Cr(t,1);if(r!==null){var i=Kt();Vn(r,t,1,i)}}),Vp(t,1)}};sp=function(t){if(t.tag===13){var e=Cr(t,134217728);if(e!==null){var n=Kt();Vn(e,t,134217728,n)}Vp(t,134217728)}};D1=function(t){if(t.tag===13){var e=di(t),n=Cr(t,e);if(n!==null){var r=Kt();Vn(n,t,e,r)}Vp(t,e)}};L1=function(){return Ne};O1=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};Md=function(t,e,n){switch(e){case"input":if(Ad(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Uc(r);if(!i)throw Error(W(90));d1(r),Ad(r,i)}}}break;case"textarea":p1(t,n);break;case"select":e=n.value,e!=null&&Ws(t,!!n.multiple,e,!1)}};E1=Np;x1=rs;var Y2={usingClientEntryPoint:!1,Events:[ml,Vs,Uc,_1,w1,Np]},sa={findFiberByHostInstance:$i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},X2={bundleType:sa.bundleType,version:sa.version,rendererPackageName:sa.rendererPackageName,rendererConfig:sa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=S1(t),t===null?null:t.stateNode},findFiberByHostInstance:sa.findFiberByHostInstance||K2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hu.isDisabled&&hu.supportsFiber)try{Mc=hu.inject(X2),Kn=hu}catch{}}pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y2;pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fp(e))throw Error(W(200));return G2(t,e,null,n)};pn.createRoot=function(t,e){if(!Fp(t))throw Error(W(299));var n=!1,r="",i=rw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Mp(t,1,!1,null,null,n,!1,r,i),t[Sr]=e.current,qa(t.nodeType===8?t.parentNode:t),new jp(e)};pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=S1(e),t=t===null?null:t.stateNode,t};pn.flushSync=function(t){return rs(t)};pn.hydrate=function(t,e,n){if(!Qc(e))throw Error(W(200));return Yc(null,t,e,!0,n)};pn.hydrateRoot=function(t,e,n){if(!Fp(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=rw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=nw(e,null,t,1,n??null,i,!1,s,o),t[Sr]=e.current,qa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Kc(e)};pn.render=function(t,e,n){if(!Qc(e))throw Error(W(200));return Yc(null,t,e,!1,n)};pn.unmountComponentAtNode=function(t){if(!Qc(t))throw Error(W(40));return t._reactRootContainer?(rs(function(){Yc(null,null,t,!1,function(){t._reactRootContainer=null,t[Sr]=null})}),!0):!1};pn.unstable_batchedUpdates=Np;pn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qc(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Yc(t,e,n,!1,r)};pn.version="18.3.1-next-f1338f8080-20240426";function iw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iw)}catch(t){console.error(t)}}iw(),i1.exports=pn;var Up=i1.exports;const J2=q0(Up),Z2=W0({__proto__:null,default:J2},[Up]);var sw,Vv=Up;sw=Vv.createRoot,Vv.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ke(){return Ke=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ke.apply(this,arguments)}var ct;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ct||(ct={}));const jv="popstate";function eS(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return tl("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:is(i)}return nS(e,n,null,t)}function ye(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function uo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tS(){return Math.random().toString(36).substr(2,8)}function Fv(t,e){return{usr:t.state,key:t.key,idx:e}}function tl(t,e,n,r){return n===void 0&&(n=null),Ke({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?bi(e):e,{state:n,key:e&&e.key||r||tS()})}function is(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function bi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function nS(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=ct.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(Ke({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function m(){l=ct.Pop;let L=d(),T=L==null?null:L-c;c=L,u&&u({action:l,location:b.location,delta:T})}function g(L,T){l=ct.Push;let y=tl(b.location,L,T);c=d()+1;let S=Fv(y,c),M=b.createHref(y);try{o.pushState(S,"",M)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(M)}s&&u&&u({action:l,location:b.location,delta:1})}function w(L,T){l=ct.Replace;let y=tl(b.location,L,T);c=d();let S=Fv(y,c),M=b.createHref(y);o.replaceState(S,"",M),s&&u&&u({action:l,location:b.location,delta:0})}function k(L){let T=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof L=="string"?L:is(L);return y=y.replace(/ $/,"%20"),ye(T,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,T)}let b={get action(){return l},get location(){return t(i,o)},listen(L){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(jv,m),u=L,()=>{i.removeEventListener(jv,m),u=null}},createHref(L){return e(i,L)},createURL:k,encodeLocation(L){let T=k(L);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:g,replace:w,go(L){return o.go(L)}};return b}var Me;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Me||(Me={}));const rS=new Set(["lazy","caseSensitive","path","id","index","children"]);function iS(t){return t.index===!0}function dc(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],l=typeof i.id=="string"?i.id:o.join("-");if(ye(i.index!==!0||!i.children,"Cannot specify children on an index route"),ye(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),iS(i)){let u=Ke({},i,e(i),{id:l});return r[l]=u,u}else{let u=Ke({},i,e(i),{id:l,children:void 0});return r[l]=u,i.children&&(u.children=dc(i.children,e,o,r)),u}})}function zi(t,e,n){return n===void 0&&(n="/"),Pu(t,e,n,!1)}function Pu(t,e,n,r){let i=typeof e=="string"?bi(e):e,s=To(i.pathname||"/",n);if(s==null)return null;let o=ow(t);oS(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=vS(s);l=mS(o[u],c,r)}return l}function sS(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function ow(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(ye(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=xr([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(ye(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ow(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:fS(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of aw(s.path))i(s,o,u)}),e}function aw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=aw(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function oS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:pS(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const aS=/^:[\w-]+$/,lS=3,uS=2,cS=1,hS=10,dS=-2,Uv=t=>t==="*";function fS(t,e){let n=t.split("/"),r=n.length;return n.some(Uv)&&(r+=dS),e&&(r+=uS),n.filter(i=>!Uv(i)).reduce((i,s)=>i+(aS.test(s)?lS:s===""?cS:hS),r)}function pS(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function mS(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",m=zv({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),g=u.route;if(!m&&c&&n&&!r[r.length-1].route.index&&(m=zv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:xr([s,m.pathname]),pathnameBase:wS(xr([s,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(s=xr([s,m.pathnameBase]))}return o}function zv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=gS(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,d,m)=>{let{paramName:g,isOptional:w}=d;if(g==="*"){let b=l[m]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const k=l[m];return w&&!k?c[g]=void 0:c[g]=(k||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function gS(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),uo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function vS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return uo(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function To(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function yS(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?bi(t):t;return{pathname:n?n.startsWith("/")?n:_S(n,e):e,search:ES(r),hash:xS(i)}}function _S(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function sd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zp(t,e){let n=lw(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Bp(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=bi(t):(i=Ke({},t),ye(!i.pathname||!i.pathname.includes("?"),sd("?","pathname","search",i)),ye(!i.pathname||!i.pathname.includes("#"),sd("#","pathname","hash",i)),ye(!i.search||!i.search.includes("#"),sd("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}l=m>=0?e[m]:"/"}let u=yS(i,l),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const xr=t=>t.join("/").replace(/\/\/+/g,"/"),wS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ES=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class fc{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Xc(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uw=["post","put","patch","delete"],TS=new Set(uw),IS=["get",...uw],SS=new Set(IS),CS=new Set([301,302,303,307,308]),kS=new Set([307,308]),od={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},bS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},oa={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},$p=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AS=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),cw="remix-router-transitions";function RS(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;ye(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let R=t.detectErrorBoundary;i=O=>({hasErrorBoundary:R(O)})}else i=AS;let s={},o=dc(t.routes,i,void 0,s),l,u=t.basename||"/",c=t.dataStrategy||LS,d=t.patchRoutesOnNavigation,m=Ke({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),g=null,w=new Set,k=null,b=null,L=null,T=t.hydrationData!=null,y=zi(o,t.history.location,u),S=null;if(y==null&&!d){let R=Zt(404,{pathname:t.history.location.pathname}),{matches:O,route:j}=Jv(o);y=O,S={[j.id]:R}}y&&!t.hydrationData&&or(y,o,t.history.location.pathname).active&&(y=null);let M;if(y)if(y.some(R=>R.route.lazy))M=!1;else if(!y.some(R=>R.route.loader))M=!0;else if(m.v7_partialHydration){let R=t.hydrationData?t.hydrationData.loaderData:null,O=t.hydrationData?t.hydrationData.errors:null;if(O){let j=y.findIndex($=>O[$.route.id]!==void 0);M=y.slice(0,j+1).every($=>!vf($.route,R,O))}else M=y.every(j=>!vf(j.route,R,O))}else M=t.hydrationData!=null;else if(M=!1,y=[],m.v7_partialHydration){let R=or(null,o,t.history.location.pathname);R.active&&R.matches&&(y=R.matches)}let U,P={historyAction:t.history.action,location:t.history.location,matches:y,initialized:M,navigation:od,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||S,fetchers:new Map,blockers:new Map},I=ct.Pop,v=!1,E,x=!1,A=new Map,N=null,C=!1,pe=!1,ot=[],ft=new Set,Ce=new Map,B=0,q=-1,Z=new Map,ie=new Set,he=new Map,xe=new Map,Re=new Set,Le=new Map,rt=new Map,gt;function Pi(){if(g=t.history.listen(R=>{let{action:O,location:j,delta:$}=R;if(gt){gt(),gt=void 0;return}uo(rt.size===0||$!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Y=Bo({currentLocation:P.location,nextLocation:j,historyAction:O});if(Y&&$!=null){let re=new Promise(oe=>{gt=oe});t.history.go($*-1),Or(Y,{state:"blocked",location:j,proceed(){Or(Y,{state:"proceeding",proceed:void 0,reset:void 0,location:j}),re.then(()=>t.history.go($))},reset(){let oe=new Map(P.blockers);oe.set(Y,oa),at({blockers:oe})}});return}return Cn(O,j)}),n){KS(e,A);let R=()=>QS(e,A);e.addEventListener("pagehide",R),N=()=>e.removeEventListener("pagehide",R)}return P.initialized||Cn(ct.Pop,P.location,{initialHydration:!0}),U}function Oo(){g&&g(),N&&N(),w.clear(),E&&E.abort(),P.fetchers.forEach((R,O)=>Ni(O)),P.blockers.forEach((R,O)=>Ol(O))}function ys(R){return w.add(R),()=>w.delete(R)}function at(R,O){O===void 0&&(O={}),P=Ke({},P,R);let j=[],$=[];m.v7_fetcherPersist&&P.fetchers.forEach((Y,re)=>{Y.state==="idle"&&(Re.has(re)?$.push(re):j.push(re))}),[...w].forEach(Y=>Y(P,{deletedFetchers:$,viewTransitionOpts:O.viewTransitionOpts,flushSync:O.flushSync===!0})),m.v7_fetcherPersist&&(j.forEach(Y=>P.fetchers.delete(Y)),$.forEach(Y=>Ni(Y)))}function Un(R,O,j){var $,Y;let{flushSync:re}=j===void 0?{}:j,oe=P.actionData!=null&&P.navigation.formMethod!=null&&Ln(P.navigation.formMethod)&&P.navigation.state==="loading"&&(($=R.state)==null?void 0:$._isRedirect)!==!0,J;O.actionData?Object.keys(O.actionData).length>0?J=O.actionData:J=null:oe?J=P.actionData:J=null;let ee=O.loaderData?Yv(P.loaderData,O.loaderData,O.matches||[],O.errors):P.loaderData,K=P.blockers;K.size>0&&(K=new Map(K),K.forEach((me,je)=>K.set(je,oa)));let ne=v===!0||P.navigation.formMethod!=null&&Ln(P.navigation.formMethod)&&((Y=R.state)==null?void 0:Y._isRedirect)!==!0;l&&(o=l,l=void 0),C||I===ct.Pop||(I===ct.Push?t.history.push(R,R.state):I===ct.Replace&&t.history.replace(R,R.state));let fe;if(I===ct.Pop){let me=A.get(P.location.pathname);me&&me.has(R.pathname)?fe={currentLocation:P.location,nextLocation:R}:A.has(R.pathname)&&(fe={currentLocation:R,nextLocation:P.location})}else if(x){let me=A.get(P.location.pathname);me?me.add(R.pathname):(me=new Set([R.pathname]),A.set(P.location.pathname,me)),fe={currentLocation:P.location,nextLocation:R}}at(Ke({},O,{actionData:J,loaderData:ee,historyAction:I,location:R,initialized:!0,navigation:od,revalidation:"idle",restoreScrollPosition:Ho(R,O.matches||P.matches),preventScrollReset:ne,blockers:K}),{viewTransitionOpts:fe,flushSync:re===!0}),I=ct.Pop,v=!1,x=!1,C=!1,pe=!1,ot=[]}async function _s(R,O){if(typeof R=="number"){t.history.go(R);return}let j=gf(P.location,P.matches,u,m.v7_prependBasename,R,m.v7_relativeSplatPath,O==null?void 0:O.fromRouteId,O==null?void 0:O.relative),{path:$,submission:Y,error:re}=Bv(m.v7_normalizeFormMethod,!1,j,O),oe=P.location,J=tl(P.location,$,O&&O.state);J=Ke({},J,t.history.encodeLocation(J));let ee=O&&O.replace!=null?O.replace:void 0,K=ct.Push;ee===!0?K=ct.Replace:ee===!1||Y!=null&&Ln(Y.formMethod)&&Y.formAction===P.location.pathname+P.location.search&&(K=ct.Replace);let ne=O&&"preventScrollReset"in O?O.preventScrollReset===!0:void 0,fe=(O&&O.flushSync)===!0,me=Bo({currentLocation:oe,nextLocation:J,historyAction:K});if(me){Or(me,{state:"blocked",location:J,proceed(){Or(me,{state:"proceeding",proceed:void 0,reset:void 0,location:J}),_s(R,O)},reset(){let je=new Map(P.blockers);je.set(me,oa),at({blockers:je})}});return}return await Cn(K,J,{submission:Y,pendingError:re,preventScrollReset:ne,replace:O&&O.replace,enableViewTransition:O&&O.viewTransition,flushSync:fe})}function Mo(){if(lt(),at({revalidation:"loading"}),P.navigation.state!=="submitting"){if(P.navigation.state==="idle"){Cn(P.historyAction,P.location,{startUninterruptedRevalidation:!0});return}Cn(I||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation,enableViewTransition:x===!0})}}async function Cn(R,O,j){E&&E.abort(),E=null,I=R,C=(j&&j.startUninterruptedRevalidation)===!0,sr(P.location,P.matches),v=(j&&j.preventScrollReset)===!0,x=(j&&j.enableViewTransition)===!0;let $=l||o,Y=j&&j.overrideNavigation,re=zi($,O,u),oe=(j&&j.flushSync)===!0,J=or(re,$,O.pathname);if(J.active&&J.matches&&(re=J.matches),!re){let{error:Pe,notFoundMatches:Te,route:Fe}=Es(O.pathname);Un(O,{matches:Te,loaderData:{},errors:{[Fe.id]:Pe}},{flushSync:oe});return}if(P.initialized&&!pe&&US(P.location,O)&&!(j&&j.submission&&Ln(j.submission.formMethod))){Un(O,{matches:re},{flushSync:oe});return}E=new AbortController;let ee=bs(t.history,O,E.signal,j&&j.submission),K;if(j&&j.pendingError)K=[Bi(re).route.id,{type:Me.error,error:j.pendingError}];else if(j&&j.submission&&Ln(j.submission.formMethod)){let Pe=await Pl(ee,O,j.submission,re,J.active,{replace:j.replace,flushSync:oe});if(Pe.shortCircuited)return;if(Pe.pendingActionResult){let[Te,Fe]=Pe.pendingActionResult;if(un(Fe)&&Xc(Fe.error)&&Fe.error.status===404){E=null,Un(O,{matches:Pe.matches,loaderData:{},errors:{[Te]:Fe.error}});return}}re=Pe.matches||re,K=Pe.pendingActionResult,Y=ad(O,j.submission),oe=!1,J.active=!1,ee=bs(t.history,ee.url,ee.signal)}let{shortCircuited:ne,matches:fe,loaderData:me,errors:je}=await Ih(ee,O,re,J.active,Y,j&&j.submission,j&&j.fetcherSubmission,j&&j.replace,j&&j.initialHydration===!0,oe,K);ne||(E=null,Un(O,Ke({matches:fe||re},Xv(K),{loaderData:me,errors:je})))}async function Pl(R,O,j,$,Y,re){re===void 0&&(re={}),lt();let oe=qS(O,j);if(at({navigation:oe},{flushSync:re.flushSync===!0}),Y){let K=await Di($,O.pathname,R.signal);if(K.type==="aborted")return{shortCircuited:!0};if(K.type==="error"){let ne=Bi(K.partialMatches).route.id;return{matches:K.partialMatches,pendingActionResult:[ne,{type:Me.error,error:K.error}]}}else if(K.matches)$=K.matches;else{let{notFoundMatches:ne,error:fe,route:me}=Es(O.pathname);return{matches:ne,pendingActionResult:[me.id,{type:Me.error,error:fe}]}}}let J,ee=_a($,O);if(!ee.route.action&&!ee.route.lazy)J={type:Me.error,error:Zt(405,{method:R.method,pathname:O.pathname,routeId:ee.route.id})};else if(J=(await rr("action",P,R,[ee],$,null))[ee.route.id],R.signal.aborted)return{shortCircuited:!0};if(qi(J)){let K;return re&&re.replace!=null?K=re.replace:K=Gv(J.response.headers.get("Location"),new URL(R.url),u)===P.location.pathname+P.location.search,await kn(R,J,!0,{submission:j,replace:K}),{shortCircuited:!0}}if(ri(J))throw Zt(400,{type:"defer-action"});if(un(J)){let K=Bi($,ee.route.id);return(re&&re.replace)!==!0&&(I=ct.Push),{matches:$,pendingActionResult:[K.route.id,J]}}return{matches:$,pendingActionResult:[ee.route.id,J]}}async function Ih(R,O,j,$,Y,re,oe,J,ee,K,ne){let fe=Y||ad(O,re),me=re||oe||ey(fe),je=!C&&(!m.v7_partialHydration||!ee);if($){if(je){let Ge=Nl(ne);at(Ke({navigation:fe},Ge!==void 0?{actionData:Ge}:{}),{flushSync:K})}let ve=await Di(j,O.pathname,R.signal);if(ve.type==="aborted")return{shortCircuited:!0};if(ve.type==="error"){let Ge=Bi(ve.partialMatches).route.id;return{matches:ve.partialMatches,loaderData:{},errors:{[Ge]:ve.error}}}else if(ve.matches)j=ve.matches;else{let{error:Ge,notFoundMatches:ar,route:Fr}=Es(O.pathname);return{matches:ar,loaderData:{},errors:{[Fr.id]:Ge}}}}let Pe=l||o,[Te,Fe]=Hv(t.history,P,j,me,O,m.v7_partialHydration&&ee===!0,m.v7_skipActionErrorRevalidation,pe,ot,ft,Re,he,ie,Pe,u,ne);if(ir(ve=>!(j&&j.some(Ge=>Ge.route.id===ve))||Te&&Te.some(Ge=>Ge.route.id===ve)),q=++B,Te.length===0&&Fe.length===0){let ve=zo();return Un(O,Ke({matches:j,loaderData:{},errors:ne&&un(ne[1])?{[ne[0]]:ne[1].error}:null},Xv(ne),ve?{fetchers:new Map(P.fetchers)}:{}),{flushSync:K}),{shortCircuited:!0}}if(je){let ve={};if(!$){ve.navigation=fe;let Ge=Nl(ne);Ge!==void 0&&(ve.actionData=Ge)}Fe.length>0&&(ve.fetchers=Dl(Fe)),at(ve,{flushSync:K})}Fe.forEach(ve=>{Jt(ve.key),ve.controller&&Ce.set(ve.key,ve.controller)});let zn=()=>Fe.forEach(ve=>Jt(ve.key));E&&E.signal.addEventListener("abort",zn);let{loaderResults:Mr,fetcherResults:gn}=await jo(P,j,Te,Fe,R);if(R.signal.aborted)return{shortCircuited:!0};E&&E.signal.removeEventListener("abort",zn),Fe.forEach(ve=>Ce.delete(ve.key));let vn=du(Mr);if(vn)return await kn(R,vn.result,!0,{replace:J}),{shortCircuited:!0};if(vn=du(gn),vn)return ie.add(vn.key),await kn(R,vn.result,!0,{replace:J}),{shortCircuited:!0};let{loaderData:Vr,errors:jr}=Qv(P,j,Mr,ne,Fe,gn,Le);Le.forEach((ve,Ge)=>{ve.subscribe(ar=>{(ar||ve.done)&&Le.delete(Ge)})}),m.v7_partialHydration&&ee&&P.errors&&(jr=Ke({},P.errors,jr));let bn=zo(),Bn=ws(q),yn=bn||Bn||Fe.length>0;return Ke({matches:j,loaderData:Vr,errors:jr},yn?{fetchers:new Map(P.fetchers)}:{})}function Nl(R){if(R&&!un(R[1]))return{[R[0]]:R[1].data};if(P.actionData)return Object.keys(P.actionData).length===0?null:P.actionData}function Dl(R){return R.forEach(O=>{let j=P.fetchers.get(O.key),$=aa(void 0,j?j.data:void 0);P.fetchers.set(O.key,$)}),new Map(P.fetchers)}function Vo(R,O,j,$){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Jt(R);let Y=($&&$.flushSync)===!0,re=l||o,oe=gf(P.location,P.matches,u,m.v7_prependBasename,j,m.v7_relativeSplatPath,O,$==null?void 0:$.relative),J=zi(re,oe,u),ee=or(J,re,oe);if(ee.active&&ee.matches&&(J=ee.matches),!J){Xt(R,O,Zt(404,{pathname:oe}),{flushSync:Y});return}let{path:K,submission:ne,error:fe}=Bv(m.v7_normalizeFormMethod,!0,oe,$);if(fe){Xt(R,O,fe,{flushSync:Y});return}let me=_a(J,K),je=($&&$.preventScrollReset)===!0;if(ne&&Ln(ne.formMethod)){Ll(R,O,K,me,J,ee.active,Y,je,ne);return}he.set(R,{routeId:O,path:K}),Sh(R,O,K,me,J,ee.active,Y,je,ne)}async function Ll(R,O,j,$,Y,re,oe,J,ee){lt(),he.delete(R);function K(Ye){if(!Ye.route.action&&!Ye.route.lazy){let $n=Zt(405,{method:ee.formMethod,pathname:j,routeId:O});return Xt(R,O,$n,{flushSync:oe}),!0}return!1}if(!re&&K($))return;let ne=P.fetchers.get(R);qe(R,GS(ee,ne),{flushSync:oe});let fe=new AbortController,me=bs(t.history,j,fe.signal,ee);if(re){let Ye=await Di(Y,j,me.signal);if(Ye.type==="aborted")return;if(Ye.type==="error"){Xt(R,O,Ye.error,{flushSync:oe});return}else if(Ye.matches){if(Y=Ye.matches,$=_a(Y,j),K($))return}else{Xt(R,O,Zt(404,{pathname:j}),{flushSync:oe});return}}Ce.set(R,fe);let je=B,Te=(await rr("action",P,me,[$],Y,R))[$.route.id];if(me.signal.aborted){Ce.get(R)===fe&&Ce.delete(R);return}if(m.v7_fetcherPersist&&Re.has(R)){if(qi(Te)||un(Te)){qe(R,qr(void 0));return}}else{if(qi(Te))if(Ce.delete(R),q>je){qe(R,qr(void 0));return}else return ie.add(R),qe(R,aa(ee)),kn(me,Te,!1,{fetcherSubmission:ee,preventScrollReset:J});if(un(Te)){Xt(R,O,Te.error);return}}if(ri(Te))throw Zt(400,{type:"defer-action"});let Fe=P.navigation.location||P.location,zn=bs(t.history,Fe,fe.signal),Mr=l||o,gn=P.navigation.state!=="idle"?zi(Mr,P.navigation.location,u):P.matches;ye(gn,"Didn't find any matches after fetcher action");let vn=++B;Z.set(R,vn);let Vr=aa(ee,Te.data);P.fetchers.set(R,Vr);let[jr,bn]=Hv(t.history,P,gn,ee,Fe,!1,m.v7_skipActionErrorRevalidation,pe,ot,ft,Re,he,ie,Mr,u,[$.route.id,Te]);bn.filter(Ye=>Ye.key!==R).forEach(Ye=>{let $n=Ye.key,Ts=P.fetchers.get($n),Vl=aa(void 0,Ts?Ts.data:void 0);P.fetchers.set($n,Vl),Jt($n),Ye.controller&&Ce.set($n,Ye.controller)}),at({fetchers:new Map(P.fetchers)});let Bn=()=>bn.forEach(Ye=>Jt(Ye.key));fe.signal.addEventListener("abort",Bn);let{loaderResults:yn,fetcherResults:ve}=await jo(P,gn,jr,bn,zn);if(fe.signal.aborted)return;fe.signal.removeEventListener("abort",Bn),Z.delete(R),Ce.delete(R),bn.forEach(Ye=>Ce.delete(Ye.key));let Ge=du(yn);if(Ge)return kn(zn,Ge.result,!1,{preventScrollReset:J});if(Ge=du(ve),Ge)return ie.add(Ge.key),kn(zn,Ge.result,!1,{preventScrollReset:J});let{loaderData:ar,errors:Fr}=Qv(P,gn,yn,void 0,bn,ve,Le);if(P.fetchers.has(R)){let Ye=qr(Te.data);P.fetchers.set(R,Ye)}ws(vn),P.navigation.state==="loading"&&vn>q?(ye(I,"Expected pending action"),E&&E.abort(),Un(P.navigation.location,{matches:gn,loaderData:ar,errors:Fr,fetchers:new Map(P.fetchers)})):(at({errors:Fr,loaderData:Yv(P.loaderData,ar,gn,Fr),fetchers:new Map(P.fetchers)}),pe=!1)}async function Sh(R,O,j,$,Y,re,oe,J,ee){let K=P.fetchers.get(R);qe(R,aa(ee,K?K.data:void 0),{flushSync:oe});let ne=new AbortController,fe=bs(t.history,j,ne.signal);if(re){let Te=await Di(Y,j,fe.signal);if(Te.type==="aborted")return;if(Te.type==="error"){Xt(R,O,Te.error,{flushSync:oe});return}else if(Te.matches)Y=Te.matches,$=_a(Y,j);else{Xt(R,O,Zt(404,{pathname:j}),{flushSync:oe});return}}Ce.set(R,ne);let me=B,Pe=(await rr("loader",P,fe,[$],Y,R))[$.route.id];if(ri(Pe)&&(Pe=await Hp(Pe,fe.signal,!0)||Pe),Ce.get(R)===ne&&Ce.delete(R),!fe.signal.aborted){if(Re.has(R)){qe(R,qr(void 0));return}if(qi(Pe))if(q>me){qe(R,qr(void 0));return}else{ie.add(R),await kn(fe,Pe,!1,{preventScrollReset:J});return}if(un(Pe)){Xt(R,O,Pe.error);return}ye(!ri(Pe),"Unhandled fetcher deferred data"),qe(R,qr(Pe.data))}}async function kn(R,O,j,$){let{submission:Y,fetcherSubmission:re,preventScrollReset:oe,replace:J}=$===void 0?{}:$;O.response.headers.has("X-Remix-Revalidate")&&(pe=!0);let ee=O.response.headers.get("Location");ye(ee,"Expected a Location header on the redirect Response"),ee=Gv(ee,new URL(R.url),u);let K=tl(P.location,ee,{_isRedirect:!0});if(n){let Te=!1;if(O.response.headers.has("X-Remix-Reload-Document"))Te=!0;else if($p.test(ee)){const Fe=t.history.createURL(ee);Te=Fe.origin!==e.location.origin||To(Fe.pathname,u)==null}if(Te){J?e.location.replace(ee):e.location.assign(ee);return}}E=null;let ne=J===!0||O.response.headers.has("X-Remix-Replace")?ct.Replace:ct.Push,{formMethod:fe,formAction:me,formEncType:je}=P.navigation;!Y&&!re&&fe&&me&&je&&(Y=ey(P.navigation));let Pe=Y||re;if(kS.has(O.response.status)&&Pe&&Ln(Pe.formMethod))await Cn(ne,K,{submission:Ke({},Pe,{formAction:ee}),preventScrollReset:oe||v,enableViewTransition:j?x:void 0});else{let Te=ad(K,Y);await Cn(ne,K,{overrideNavigation:Te,fetcherSubmission:re,preventScrollReset:oe||v,enableViewTransition:j?x:void 0})}}async function rr(R,O,j,$,Y,re){let oe,J={};try{oe=await OS(c,R,O,j,$,Y,re,s,i)}catch(ee){return $.forEach(K=>{J[K.route.id]={type:Me.error,error:ee}}),J}for(let[ee,K]of Object.entries(oe))if(zS(K)){let ne=K.result;J[ee]={type:Me.redirect,response:jS(ne,j,ee,Y,u,m.v7_relativeSplatPath)}}else J[ee]=await VS(K);return J}async function jo(R,O,j,$,Y){let re=R.matches,oe=rr("loader",R,Y,j,O,null),J=Promise.all($.map(async ne=>{if(ne.matches&&ne.match&&ne.controller){let me=(await rr("loader",R,bs(t.history,ne.path,ne.controller.signal),[ne.match],ne.matches,ne.key))[ne.match.route.id];return{[ne.key]:me}}else return Promise.resolve({[ne.key]:{type:Me.error,error:Zt(404,{pathname:ne.path})}})})),ee=await oe,K=(await J).reduce((ne,fe)=>Object.assign(ne,fe),{});return await Promise.all([HS(O,ee,Y.signal,re,R.loaderData),WS(O,K,$)]),{loaderResults:ee,fetcherResults:K}}function lt(){pe=!0,ot.push(...ir()),he.forEach((R,O)=>{Ce.has(O)&&ft.add(O),Jt(O)})}function qe(R,O,j){j===void 0&&(j={}),P.fetchers.set(R,O),at({fetchers:new Map(P.fetchers)},{flushSync:(j&&j.flushSync)===!0})}function Xt(R,O,j,$){$===void 0&&($={});let Y=Bi(P.matches,O);Ni(R),at({errors:{[Y.route.id]:j},fetchers:new Map(P.fetchers)},{flushSync:($&&$.flushSync)===!0})}function Fo(R){return m.v7_fetcherPersist&&(xe.set(R,(xe.get(R)||0)+1),Re.has(R)&&Re.delete(R)),P.fetchers.get(R)||bS}function Ni(R){let O=P.fetchers.get(R);Ce.has(R)&&!(O&&O.state==="loading"&&Z.has(R))&&Jt(R),he.delete(R),Z.delete(R),ie.delete(R),Re.delete(R),ft.delete(R),P.fetchers.delete(R)}function Ch(R){if(m.v7_fetcherPersist){let O=(xe.get(R)||0)-1;O<=0?(xe.delete(R),Re.add(R)):xe.set(R,O)}else Ni(R);at({fetchers:new Map(P.fetchers)})}function Jt(R){let O=Ce.get(R);O&&(O.abort(),Ce.delete(R))}function Uo(R){for(let O of R){let j=Fo(O),$=qr(j.data);P.fetchers.set(O,$)}}function zo(){let R=[],O=!1;for(let j of ie){let $=P.fetchers.get(j);ye($,"Expected fetcher: "+j),$.state==="loading"&&(ie.delete(j),R.push(j),O=!0)}return Uo(R),O}function ws(R){let O=[];for(let[j,$]of Z)if($<R){let Y=P.fetchers.get(j);ye(Y,"Expected fetcher: "+j),Y.state==="loading"&&(Jt(j),Z.delete(j),O.push(j))}return Uo(O),O.length>0}function kh(R,O){let j=P.blockers.get(R)||oa;return rt.get(R)!==O&&rt.set(R,O),j}function Ol(R){P.blockers.delete(R),rt.delete(R)}function Or(R,O){let j=P.blockers.get(R)||oa;ye(j.state==="unblocked"&&O.state==="blocked"||j.state==="blocked"&&O.state==="blocked"||j.state==="blocked"&&O.state==="proceeding"||j.state==="blocked"&&O.state==="unblocked"||j.state==="proceeding"&&O.state==="unblocked","Invalid blocker state transition: "+j.state+" -> "+O.state);let $=new Map(P.blockers);$.set(R,O),at({blockers:$})}function Bo(R){let{currentLocation:O,nextLocation:j,historyAction:$}=R;if(rt.size===0)return;rt.size>1&&uo(!1,"A router only supports one blocker at a time");let Y=Array.from(rt.entries()),[re,oe]=Y[Y.length-1],J=P.blockers.get(re);if(!(J&&J.state==="proceeding")&&oe({currentLocation:O,nextLocation:j,historyAction:$}))return re}function Es(R){let O=Zt(404,{pathname:R}),j=l||o,{matches:$,route:Y}=Jv(j);return ir(),{notFoundMatches:$,route:Y,error:O}}function ir(R){let O=[];return Le.forEach((j,$)=>{(!R||R($))&&(j.cancel(),O.push($),Le.delete($))}),O}function $o(R,O,j){if(k=R,L=O,b=j||null,!T&&P.navigation===od){T=!0;let $=Ho(P.location,P.matches);$!=null&&at({restoreScrollPosition:$})}return()=>{k=null,L=null,b=null}}function xs(R,O){return b&&b(R,O.map($=>sS($,P.loaderData)))||R.key}function sr(R,O){if(k&&L){let j=xs(R,O);k[j]=L()}}function Ho(R,O){if(k){let j=xs(R,O),$=k[j];if(typeof $=="number")return $}return null}function or(R,O,j){if(d)if(R){if(Object.keys(R[0].params).length>0)return{active:!0,matches:Pu(O,j,u,!0)}}else return{active:!0,matches:Pu(O,j,u,!0)||[]};return{active:!1,matches:null}}async function Di(R,O,j){if(!d)return{type:"success",matches:R};let $=R;for(;;){let Y=l==null,re=l||o,oe=s;try{await d({path:O,matches:$,patch:(K,ne)=>{j.aborted||qv(K,ne,re,oe,i)}})}catch(K){return{type:"error",error:K,partialMatches:$}}finally{Y&&!j.aborted&&(o=[...o])}if(j.aborted)return{type:"aborted"};let J=zi(re,O,u);if(J)return{type:"success",matches:J};let ee=Pu(re,O,u,!0);if(!ee||$.length===ee.length&&$.every((K,ne)=>K.route.id===ee[ne].route.id))return{type:"success",matches:null};$=ee}}function Li(R){s={},l=dc(R,i,void 0,s)}function Ml(R,O){let j=l==null;qv(R,O,l||o,s,i),j&&(o=[...o],at({}))}return U={get basename(){return u},get future(){return m},get state(){return P},get routes(){return o},get window(){return e},initialize:Pi,subscribe:ys,enableScrollRestoration:$o,navigate:_s,fetch:Vo,revalidate:Mo,createHref:R=>t.history.createHref(R),encodeLocation:R=>t.history.encodeLocation(R),getFetcher:Fo,deleteFetcher:Ch,dispose:Oo,getBlocker:kh,deleteBlocker:Ol,patchRoutes:Ml,_internalFetchControllers:Ce,_internalActiveDeferreds:Le,_internalSetRoutes:Li},U}function PS(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function gf(t,e,n,r,i,s,o,l){let u,c;if(o){u=[];for(let m of e)if(u.push(m),m.route.id===o){c=m;break}}else u=e,c=e[e.length-1];let d=Bp(i||".",zp(u,s),To(t.pathname,n)||t.pathname,l==="path");if(i==null&&(d.search=t.search,d.hash=t.hash),(i==null||i===""||i===".")&&c){let m=Wp(d.search);if(c.route.index&&!m)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&m){let g=new URLSearchParams(d.search),w=g.getAll("index");g.delete("index"),w.filter(b=>b).forEach(b=>g.append("index",b));let k=g.toString();d.search=k?"?"+k:""}}return r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:xr([n,d.pathname])),is(d)}function Bv(t,e,n,r){if(!r||!PS(r))return{path:n};if(r.formMethod&&!$S(r.formMethod))return{path:n,error:Zt(405,{method:r.formMethod})};let i=()=>({path:n,error:Zt(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),l=fw(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Ln(o))return i();let g=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((w,k)=>{let[b,L]=k;return""+w+b+"="+L+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:g}}}else if(r.formEncType==="application/json"){if(!Ln(o))return i();try{let g=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:g,text:void 0}}}catch{return i()}}}ye(typeof FormData=="function","FormData is not available in this environment");let u,c;if(r.formData)u=yf(r.formData),c=r.formData;else if(r.body instanceof FormData)u=yf(r.body),c=r.body;else if(r.body instanceof URLSearchParams)u=r.body,c=Kv(u);else if(r.body==null)u=new URLSearchParams,c=new FormData;else try{u=new URLSearchParams(r.body),c=Kv(u)}catch{return i()}let d={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Ln(d.formMethod))return{path:n,submission:d};let m=bi(n);return e&&m.search&&Wp(m.search)&&u.append("index",""),m.search="?"+u,{path:is(m),submission:d}}function $v(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function Hv(t,e,n,r,i,s,o,l,u,c,d,m,g,w,k,b){let L=b?un(b[1])?b[1].error:b[1].data:void 0,T=t.createURL(e.location),y=t.createURL(i),S=n;s&&e.errors?S=$v(n,Object.keys(e.errors)[0],!0):b&&un(b[1])&&(S=$v(n,b[0]));let M=b?b[1].statusCode:void 0,U=o&&M&&M>=400,P=S.filter((v,E)=>{let{route:x}=v;if(x.lazy)return!0;if(x.loader==null)return!1;if(s)return vf(x,e.loaderData,e.errors);if(NS(e.loaderData,e.matches[E],v)||u.some(C=>C===v.route.id))return!0;let A=e.matches[E],N=v;return Wv(v,Ke({currentUrl:T,currentParams:A.params,nextUrl:y,nextParams:N.params},r,{actionResult:L,actionStatus:M,defaultShouldRevalidate:U?!1:l||T.pathname+T.search===y.pathname+y.search||T.search!==y.search||hw(A,N)}))}),I=[];return m.forEach((v,E)=>{if(s||!n.some(pe=>pe.route.id===v.routeId)||d.has(E))return;let x=zi(w,v.path,k);if(!x){I.push({key:E,routeId:v.routeId,path:v.path,matches:null,match:null,controller:null});return}let A=e.fetchers.get(E),N=_a(x,v.path),C=!1;g.has(E)?C=!1:c.has(E)?(c.delete(E),C=!0):A&&A.state!=="idle"&&A.data===void 0?C=l:C=Wv(N,Ke({currentUrl:T,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:L,actionStatus:M,defaultShouldRevalidate:U?!1:l})),C&&I.push({key:E,routeId:v.routeId,path:v.path,matches:x,match:N,controller:new AbortController})}),[P,I]}function vf(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function NS(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function hw(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Wv(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function qv(t,e,n,r,i){var s;let o;if(t){let c=r[t];ye(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),o=c.children}else o=n;let l=e.filter(c=>!o.some(d=>dw(c,d))),u=dc(l,i,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...u)}function dw(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>dw(n,s))}):!1}async function DS(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ye(i,"No route found in manifest");let s={};for(let o in r){let u=i[o]!==void 0&&o!=="hasErrorBoundary";uo(!u,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!rS.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Ke({},e(i),{lazy:void 0}))}async function LS(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function OS(t,e,n,r,i,s,o,l,u,c){let d=s.map(w=>w.route.lazy?DS(w.route,u,l):void 0),m=s.map((w,k)=>{let b=d[k],L=i.some(y=>y.route.id===w.route.id);return Ke({},w,{shouldLoad:L,resolve:async y=>(y&&r.method==="GET"&&(w.route.lazy||w.route.loader)&&(L=!0),L?MS(e,r,w,b,y,c):Promise.resolve({type:Me.data,result:void 0}))})}),g=await t({matches:m,request:r,params:s[0].params,fetcherKey:o,context:c});try{await Promise.all(d)}catch{}return g}async function MS(t,e,n,r,i,s){let o,l,u=c=>{let d,m=new Promise((k,b)=>d=b);l=()=>d(),e.signal.addEventListener("abort",l);let g=k=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:s},...k!==void 0?[k]:[]),w=(async()=>{try{return{type:"data",result:await(i?i(b=>g(b)):g())}}catch(k){return{type:"error",result:k}}})();return Promise.race([w,m])};try{let c=n.route[t];if(r)if(c){let d,[m]=await Promise.all([u(c).catch(g=>{d=g}),r]);if(d!==void 0)throw d;o=m}else if(await r,c=n.route[t],c)o=await u(c);else if(t==="action"){let d=new URL(e.url),m=d.pathname+d.search;throw Zt(405,{method:e.method,pathname:m,routeId:n.route.id})}else return{type:Me.data,result:void 0};else if(c)o=await u(c);else{let d=new URL(e.url),m=d.pathname+d.search;throw Zt(404,{pathname:m})}ye(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Me.error,result:c}}finally{l&&e.signal.removeEventListener("abort",l)}return o}async function VS(t){let{result:e,type:n}=t;if(pw(e)){let c;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(d){return{type:Me.error,error:d}}return n===Me.error?{type:Me.error,error:new fc(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:Me.data,data:c,statusCode:e.status,headers:e.headers}}if(n===Me.error){if(Zv(e)){var r;if(e.data instanceof Error){var i;return{type:Me.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new fc(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Me.error,error:e,statusCode:Xc(e)?e.status:void 0}}if(BS(e)){var s,o;return{type:Me.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(Zv(e)){var l,u;return{type:Me.data,data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:Me.data,data:e}}function jS(t,e,n,r,i,s){let o=t.headers.get("Location");if(ye(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!$p.test(o)){let l=r.slice(0,r.findIndex(u=>u.route.id===n)+1);o=gf(new URL(e.url),l,i,!0,o,s),t.headers.set("Location",o)}return t}function Gv(t,e,n){if($p.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=To(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function bs(t,e,n,r){let i=t.createURL(fw(e)).toString(),s={signal:n};if(r&&Ln(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=yf(r.formData):s.body=r.formData}return new Request(i,s)}function yf(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Kv(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function FS(t,e,n,r,i){let s={},o=null,l,u=!1,c={},d=n&&un(n[1])?n[1].error:void 0;return t.forEach(m=>{if(!(m.route.id in e))return;let g=m.route.id,w=e[g];if(ye(!qi(w),"Cannot handle redirect results in processLoaderData"),un(w)){let k=w.error;d!==void 0&&(k=d,d=void 0),o=o||{};{let b=Bi(t,g);o[b.route.id]==null&&(o[b.route.id]=k)}s[g]=void 0,u||(u=!0,l=Xc(w.error)?w.error.status:500),w.headers&&(c[g]=w.headers)}else ri(w)?(r.set(g,w.deferredData),s[g]=w.deferredData.data,w.statusCode!=null&&w.statusCode!==200&&!u&&(l=w.statusCode),w.headers&&(c[g]=w.headers)):(s[g]=w.data,w.statusCode&&w.statusCode!==200&&!u&&(l=w.statusCode),w.headers&&(c[g]=w.headers))}),d!==void 0&&n&&(o={[n[0]]:d},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:l||200,loaderHeaders:c}}function Qv(t,e,n,r,i,s,o){let{loaderData:l,errors:u}=FS(e,n,r,o);return i.forEach(c=>{let{key:d,match:m,controller:g}=c,w=s[d];if(ye(w,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(un(w)){let k=Bi(t.matches,m==null?void 0:m.route.id);u&&u[k.route.id]||(u=Ke({},u,{[k.route.id]:w.error})),t.fetchers.delete(d)}else if(qi(w))ye(!1,"Unhandled fetcher revalidation redirect");else if(ri(w))ye(!1,"Unhandled fetcher deferred data");else{let k=qr(w.data);t.fetchers.set(d,k)}}),{loaderData:l,errors:u}}function Yv(t,e,n,r){let i=Ke({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Xv(t){return t?un(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Bi(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Jv(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Zt(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,l="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(l="Bad Request",i&&n&&r?u="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?u="defer() is not supported in actions":s==="invalid-body"&&(u="Unable to encode submission body")):t===403?(l="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):t===404?(l="Not Found",u='No route matches URL "'+n+'"'):t===405&&(l="Method Not Allowed",i&&n&&r?u="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new fc(t||500,l,new Error(u),!0)}function du(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(qi(i))return{key:r,result:i}}}function fw(t){let e=typeof t=="string"?bi(t):t;return is(Ke({},e,{hash:""}))}function US(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function zS(t){return pw(t.result)&&CS.has(t.result.status)}function ri(t){return t.type===Me.deferred}function un(t){return t.type===Me.error}function qi(t){return(t&&t.type)===Me.redirect}function Zv(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function BS(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function pw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function $S(t){return SS.has(t.toLowerCase())}function Ln(t){return TS.has(t.toLowerCase())}async function HS(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[l,u]=s[o],c=t.find(g=>(g==null?void 0:g.route.id)===l);if(!c)continue;let d=r.find(g=>g.route.id===c.route.id),m=d!=null&&!hw(d,c)&&(i&&i[c.route.id])!==void 0;ri(u)&&m&&await Hp(u,n,!1).then(g=>{g&&(e[l]=g)})}}async function WS(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],l=e[i];t.find(c=>(c==null?void 0:c.route.id)===s)&&ri(l)&&(ye(o,"Expected an AbortController for revalidating fetcher deferred result"),await Hp(l,o.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function Hp(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Me.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Me.error,error:i}}return{type:Me.data,data:t.deferredData.data}}}function Wp(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function _a(t,e){let n=typeof e=="string"?bi(e).search:e.search;if(t[t.length-1].route.index&&Wp(n||""))return t[t.length-1];let r=lw(t);return r[r.length-1]}function ey(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function ad(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function qS(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function aa(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function GS(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function qr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function KS(t,e){try{let n=t.sessionStorage.getItem(cw);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function QS(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(cw,JSON.stringify(n))}catch(r){uo(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pc(){return pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pc.apply(this,arguments)}const Jc=D.createContext(null),mw=D.createContext(null),ps=D.createContext(null),qp=D.createContext(null),ms=D.createContext({outlet:null,matches:[],isDataRoute:!1}),gw=D.createContext(null);function YS(t,e){let{relative:n}=e===void 0?{}:e;vl()||ye(!1);let{basename:r,navigator:i}=D.useContext(ps),{hash:s,pathname:o,search:l}=yw(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:xr([r,o])),i.createHref({pathname:u,search:l,hash:s})}function vl(){return D.useContext(qp)!=null}function Zc(){return vl()||ye(!1),D.useContext(qp).location}function vw(t){D.useContext(ps).static||D.useLayoutEffect(t)}function XS(){let{isDataRoute:t}=D.useContext(ms);return t?uC():JS()}function JS(){vl()||ye(!1);let t=D.useContext(Jc),{basename:e,future:n,navigator:r}=D.useContext(ps),{matches:i}=D.useContext(ms),{pathname:s}=Zc(),o=JSON.stringify(zp(i,n.v7_relativeSplatPath)),l=D.useRef(!1);return vw(()=>{l.current=!0}),D.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let m=Bp(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:xr([e,m.pathname])),(d.replace?r.replace:r.push)(m,d.state,d)},[e,r,o,s,t])}function yw(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=D.useContext(ps),{matches:i}=D.useContext(ms),{pathname:s}=Zc(),o=JSON.stringify(zp(i,r.v7_relativeSplatPath));return D.useMemo(()=>Bp(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function ZS(t,e,n,r){vl()||ye(!1);let{navigator:i}=D.useContext(ps),{matches:s}=D.useContext(ms),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Zc(),d;d=c;let m=d.pathname||"/",g=m;if(u!=="/"){let b=u.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=zi(t,{pathname:g});return iC(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:xr([u,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:xr([u,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r)}function eC(){let t=lC(),e=Xc(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:i},n):null,null)}const tC=D.createElement(eC,null);class nC extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D.createElement(ms.Provider,{value:this.props.routeContext},D.createElement(gw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rC(t){let{routeContext:e,match:n,children:r}=t,i=D.useContext(Jc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(ms.Provider,{value:e},r)}function iC(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);d>=0||ye(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let m=o[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=d),m.route.id){let{loaderData:g,errors:w}=n,k=m.route.loader&&g[m.route.id]===void 0&&(!w||w[m.route.id]===void 0);if(m.route.lazy||k){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,m,g)=>{let w,k=!1,b=null,L=null;n&&(w=l&&m.route.id?l[m.route.id]:void 0,b=m.route.errorElement||tC,u&&(c<0&&g===0?(cC("route-fallback"),k=!0,L=null):c===g&&(k=!0,L=m.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,g+1)),y=()=>{let S;return w?S=b:k?S=L:m.route.Component?S=D.createElement(m.route.Component,null):m.route.element?S=m.route.element:S=d,D.createElement(rC,{match:m,routeContext:{outlet:d,matches:T,isDataRoute:n!=null},children:S})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?D.createElement(nC,{location:n.location,revalidation:n.revalidation,component:b,error:w,children:y(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):y()},null)}var _w=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(_w||{}),mc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(mc||{});function sC(t){let e=D.useContext(Jc);return e||ye(!1),e}function oC(t){let e=D.useContext(mw);return e||ye(!1),e}function aC(t){let e=D.useContext(ms);return e||ye(!1),e}function ww(t){let e=aC(),n=e.matches[e.matches.length-1];return n.route.id||ye(!1),n.route.id}function lC(){var t;let e=D.useContext(gw),n=oC(mc.UseRouteError),r=ww(mc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function uC(){let{router:t}=sC(_w.UseNavigateStable),e=ww(mc.UseNavigateStable),n=D.useRef(!1);return vw(()=>{n.current=!0}),D.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,pc({fromRouteId:e},s)))},[t,e])}const ty={};function cC(t,e,n){ty[t]||(ty[t]=!0)}function hC(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ct.Pop,navigator:s,static:o=!1,future:l}=t;vl()&&ye(!1);let u=e.replace(/^\/*/,"/"),c=D.useMemo(()=>({basename:u,navigator:s,static:o,future:pc({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=bi(r));let{pathname:d="/",search:m="",hash:g="",state:w=null,key:k="default"}=r,b=D.useMemo(()=>{let L=To(d,u);return L==null?null:{location:{pathname:L,search:m,hash:g,state:w,key:k},navigationType:i}},[u,d,m,g,w,k,i]);return b==null?null:D.createElement(ps.Provider,{value:c},D.createElement(qp.Provider,{children:n,value:b}))}new Promise(()=>{});function dC(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:D.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:D.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:D.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nl(){return nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nl.apply(this,arguments)}function fC(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function pC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mC(t,e){return t.button===0&&(!e||e==="_self")&&!pC(t)}const gC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vC="6";try{window.__reactRouterVersion=vC}catch{}function yC(t,e){return RS({basename:e==null?void 0:e.basename,future:nl({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:eS({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||_C(),routes:t,mapRouteProperties:dC,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function _C(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=nl({},e,{errors:wC(e.errors)})),e}function wC(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new fc(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const EC=D.createContext({isTransitioning:!1}),xC=D.createContext(new Map),TC="startTransition",ny=zT[TC],IC="flushSync",ry=Z2[IC];function SC(t){ny?ny(t):t()}function la(t){ry?ry(t):t()}let CC=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function kC(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=D.useState(n.state),[o,l]=D.useState(),[u,c]=D.useState({isTransitioning:!1}),[d,m]=D.useState(),[g,w]=D.useState(),[k,b]=D.useState(),L=D.useRef(new Map),{v7_startTransition:T}=r||{},y=D.useCallback(v=>{T?SC(v):v()},[T]),S=D.useCallback((v,E)=>{let{deletedFetchers:x,flushSync:A,viewTransitionOpts:N}=E;x.forEach(pe=>L.current.delete(pe)),v.fetchers.forEach((pe,ot)=>{pe.data!==void 0&&L.current.set(ot,pe.data)});let C=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!N||C){A?la(()=>s(v)):y(()=>s(v));return}if(A){la(()=>{g&&(d&&d.resolve(),g.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:N.currentLocation,nextLocation:N.nextLocation})});let pe=n.window.document.startViewTransition(()=>{la(()=>s(v))});pe.finished.finally(()=>{la(()=>{m(void 0),w(void 0),l(void 0),c({isTransitioning:!1})})}),la(()=>w(pe));return}g?(d&&d.resolve(),g.skipTransition(),b({state:v,currentLocation:N.currentLocation,nextLocation:N.nextLocation})):(l(v),c({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}))},[n.window,g,d,L,y]);D.useLayoutEffect(()=>n.subscribe(S),[n,S]),D.useEffect(()=>{u.isTransitioning&&!u.flushSync&&m(new CC)},[u]),D.useEffect(()=>{if(d&&o&&n.window){let v=o,E=d.promise,x=n.window.document.startViewTransition(async()=>{y(()=>s(v)),await E});x.finished.finally(()=>{m(void 0),w(void 0),l(void 0),c({isTransitioning:!1})}),w(x)}},[y,o,d,n.window]),D.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,g,i.location,o]),D.useEffect(()=>{!u.isTransitioning&&k&&(l(k.state),c({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}),b(void 0))},[u.isTransitioning,k]),D.useEffect(()=>{},[]);let M=D.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:v=>n.navigate(v),push:(v,E,x)=>n.navigate(v,{state:E,preventScrollReset:x==null?void 0:x.preventScrollReset}),replace:(v,E,x)=>n.navigate(v,{replace:!0,state:E,preventScrollReset:x==null?void 0:x.preventScrollReset})}),[n]),U=n.basename||"/",P=D.useMemo(()=>({router:n,navigator:M,static:!1,basename:U}),[n,M,U]),I=D.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return D.createElement(D.Fragment,null,D.createElement(Jc.Provider,{value:P},D.createElement(mw.Provider,{value:i},D.createElement(xC.Provider,{value:L.current},D.createElement(EC.Provider,{value:u},D.createElement(hC,{basename:U,location:i.location,navigationType:i.historyAction,navigator:M,future:I},i.initialized||n.future.v7_partialHydration?D.createElement(bC,{routes:n.routes,future:n.future,state:i}):e))))),null)}const bC=D.memo(AC);function AC(t){let{routes:e,future:n,state:r}=t;return ZS(e,void 0,r,n)}const RC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ss=D.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:c,preventScrollReset:d,viewTransition:m}=e,g=fC(e,gC),{basename:w}=D.useContext(ps),k,b=!1;if(typeof c=="string"&&PC.test(c)&&(k=c,RC))try{let S=new URL(window.location.href),M=c.startsWith("//")?new URL(S.protocol+c):new URL(c),U=To(M.pathname,w);M.origin===S.origin&&U!=null?c=U+M.search+M.hash:b=!0}catch{}let L=YS(c,{relative:i}),T=NC(c,{replace:o,state:l,target:u,preventScrollReset:d,relative:i,viewTransition:m});function y(S){r&&r(S),S.defaultPrevented||T(S)}return D.createElement("a",nl({},g,{href:k||L,onClick:b||s?r:y,ref:n,target:u}))});var iy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(iy||(iy={}));var sy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(sy||(sy={}));function NC(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,u=XS(),c=Zc(),d=yw(t,{relative:o});return D.useCallback(m=>{if(mC(m,n)){m.preventDefault();let g=r!==void 0?r:is(c)===is(d);u(t,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[c,u,d,r,i,n,t,s,o,l])}var oy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},DC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},xw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,m=(s&3)<<4|l>>4;let g=(l&15)<<2|c>>6,w=c&63;u||(w=64,o||(g=64)),r.push(n[d],n[m],n[g],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ew(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||m==null)throw new LC;const g=s<<2|l>>4;if(r.push(g),c!==64){const w=l<<4&240|c>>2;if(r.push(w),m!==64){const k=c<<6&192|m;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class LC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OC=function(t){const e=Ew(t);return xw.encodeByteArray(e,!0)},gc=function(t){return OC(t).replace(/\./g,"")},Tw=function(t){try{return xw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=()=>MC().__FIREBASE_DEFAULTS__,jC=()=>{if(typeof process>"u"||typeof oy>"u")return;const t=oy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},FC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Tw(t[1]);return e&&JSON.parse(e)},eh=()=>{try{return VC()||jC()||FC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Iw=t=>{var e,n;return(n=(e=eh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},UC=t=>{const e=Iw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Sw=()=>{var t;return(t=eh())===null||t===void 0?void 0:t.config},Cw=t=>{var e;return(e=eh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[gc(JSON.stringify(n)),gc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $C(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function HC(){var t;const e=(t=eh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function GC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KC(){const t=Bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QC(){return!HC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YC(){try{return typeof indexedDB=="object"}catch{return!1}}function XC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="FirebaseError";class Lr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=JC,Object.setPrototypeOf(this,Lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yl.prototype.create)}}class yl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?ZC(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Lr(i,l,r)}}function ZC(t,e){return t.replace(ek,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ek=/\{\$([^}]+)}/g;function tk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ay(s)&&ay(o)){if(!rl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ay(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nk(t,e){const n=new rk(t,e);return n.subscribe.bind(n)}class rk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ik(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ld),i.error===void 0&&(i.error=ld),i.complete===void 0&&(i.complete=ld);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ik(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ld(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t){return t&&t._delegate?t._delegate:t}class os{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ak(e))try{this.getOrInitializeService({instanceIdentifier:Ui})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ui){return this.instances.has(e)}getOptions(e=Ui){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ok(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ui){return this.component?this.component.multipleInstances?e:Ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ok(t){return t===Ui?void 0:t}function ak(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const uk={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},ck=Ee.INFO,hk={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},dk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=hk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gp{constructor(e){this.name=e,this._logLevel=ck,this._logHandler=dk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const fk=(t,e)=>e.some(n=>t instanceof n);let ly,uy;function pk(){return ly||(ly=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mk(){return uy||(uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kw=new WeakMap,_f=new WeakMap,bw=new WeakMap,ud=new WeakMap,Kp=new WeakMap;function gk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(pi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&kw.set(n,t)}).catch(()=>{}),Kp.set(e,t),e}function vk(t){if(_f.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});_f.set(t,e)}let wf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _f.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yk(t){wf=t(wf)}function _k(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cd(this),e,...n);return bw.set(r,e.sort?e.sort():[e]),pi(r)}:mk().includes(t)?function(...e){return t.apply(cd(this),e),pi(kw.get(this))}:function(...e){return pi(t.apply(cd(this),e))}}function wk(t){return typeof t=="function"?_k(t):(t instanceof IDBTransaction&&vk(t),fk(t,pk())?new Proxy(t,wf):t)}function pi(t){if(t instanceof IDBRequest)return gk(t);if(ud.has(t))return ud.get(t);const e=wk(t);return e!==t&&(ud.set(t,e),Kp.set(e,t)),e}const cd=t=>Kp.get(t);function Ek(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=pi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(pi(o.result),u.oldVersion,u.newVersion,pi(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const xk=["get","getKey","getAll","getAllKeys","count"],Tk=["put","add","delete","clear"],hd=new Map;function cy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hd.get(e))return hd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Tk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||xk.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return hd.set(e,s),s}yk(t=>({...t,get:(e,n,r)=>cy(e,n)||t.get(e,n,r),has:(e,n)=>!!cy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Sk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Sk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ef="@firebase/app",hy="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new Gp("@firebase/app"),Ck="@firebase/app-compat",kk="@firebase/analytics-compat",bk="@firebase/analytics",Ak="@firebase/app-check-compat",Rk="@firebase/app-check",Pk="@firebase/auth",Nk="@firebase/auth-compat",Dk="@firebase/database",Lk="@firebase/data-connect",Ok="@firebase/database-compat",Mk="@firebase/functions",Vk="@firebase/functions-compat",jk="@firebase/installations",Fk="@firebase/installations-compat",Uk="@firebase/messaging",zk="@firebase/messaging-compat",Bk="@firebase/performance",$k="@firebase/performance-compat",Hk="@firebase/remote-config",Wk="@firebase/remote-config-compat",qk="@firebase/storage",Gk="@firebase/storage-compat",Kk="@firebase/firestore",Qk="@firebase/vertexai-preview",Yk="@firebase/firestore-compat",Xk="firebase",Jk="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="[DEFAULT]",Zk={[Ef]:"fire-core",[Ck]:"fire-core-compat",[bk]:"fire-analytics",[kk]:"fire-analytics-compat",[Rk]:"fire-app-check",[Ak]:"fire-app-check-compat",[Pk]:"fire-auth",[Nk]:"fire-auth-compat",[Dk]:"fire-rtdb",[Lk]:"fire-data-connect",[Ok]:"fire-rtdb-compat",[Mk]:"fire-fn",[Vk]:"fire-fn-compat",[jk]:"fire-iid",[Fk]:"fire-iid-compat",[Uk]:"fire-fcm",[zk]:"fire-fcm-compat",[Bk]:"fire-perf",[$k]:"fire-perf-compat",[Hk]:"fire-rc",[Wk]:"fire-rc-compat",[qk]:"fire-gcs",[Gk]:"fire-gcs-compat",[Kk]:"fire-fst",[Yk]:"fire-fst-compat",[Qk]:"fire-vertex","fire-js":"fire-js",[Xk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=new Map,eb=new Map,Tf=new Map;function dy(t,e){try{t.container.addComponent(e)}catch(n){br.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function co(t){const e=t.name;if(Tf.has(e))return br.debug(`There were multiple attempts to register component ${e}.`),!1;Tf.set(e,t);for(const n of vc.values())dy(n,t);for(const n of eb.values())dy(n,t);return!0}function Qp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mi=new yl("app","Firebase",tb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=Jk;function Aw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:xf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw mi.create("bad-app-name",{appName:String(i)});if(n||(n=Sw()),!n)throw mi.create("no-options");const s=vc.get(i);if(s){if(rl(n,s.options)&&rl(r,s.config))return s;throw mi.create("duplicate-app",{appName:i})}const o=new lk(i);for(const u of Tf.values())o.addComponent(u);const l=new nb(n,r,o);return vc.set(i,l),l}function Rw(t=xf){const e=vc.get(t);if(!e&&t===xf&&Sw())return Aw();if(!e)throw mi.create("no-app",{appName:t});return e}function gi(t,e,n){var r;let i=(r=Zk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),br.warn(l.join(" "));return}co(new os(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="firebase-heartbeat-database",ib=1,il="firebase-heartbeat-store";let dd=null;function Pw(){return dd||(dd=Ek(rb,ib,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(il)}catch(n){console.warn(n)}}}}).catch(t=>{throw mi.create("idb-open",{originalErrorMessage:t.message})})),dd}async function sb(t){try{const n=(await Pw()).transaction(il),r=await n.objectStore(il).get(Nw(t));return await n.done,r}catch(e){if(e instanceof Lr)br.warn(e.message);else{const n=mi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});br.warn(n.message)}}}async function fy(t,e){try{const r=(await Pw()).transaction(il,"readwrite");await r.objectStore(il).put(e,Nw(t)),await r.done}catch(n){if(n instanceof Lr)br.warn(n.message);else{const r=mi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});br.warn(r.message)}}}function Nw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=1024,ab=30*24*60*60*1e3;class lb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=py();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=ab}),this._storage.overwrite(this._heartbeatsCache))}catch(r){br.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=py(),{heartbeatsToSend:r,unsentEntries:i}=ub(this._heartbeatsCache.heartbeats),s=gc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return br.warn(n),""}}}function py(){return new Date().toISOString().substring(0,10)}function ub(t,e=ob){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),my(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),my(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class cb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YC()?XC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return fy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return fy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function my(t){return gc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(t){co(new os("platform-logger",e=>new Ik(e),"PRIVATE")),co(new os("heartbeat",e=>new lb(e),"PRIVATE")),gi(Ef,hy,t),gi(Ef,hy,"esm2017"),gi("fire-js","")}hb("");var gy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ji,Dw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,v){function E(){}E.prototype=v.prototype,I.D=v.prototype,I.prototype=new E,I.prototype.constructor=I,I.C=function(x,A,N){for(var C=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)C[pe-2]=arguments[pe];return v.prototype[A].apply(x,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,v,E){E||(E=0);var x=Array(16);if(typeof v=="string")for(var A=0;16>A;++A)x[A]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(A=0;16>A;++A)x[A]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=I.g[0],E=I.g[1],A=I.g[2];var N=I.g[3],C=v+(N^E&(A^N))+x[0]+3614090360&4294967295;v=E+(C<<7&4294967295|C>>>25),C=N+(A^v&(E^A))+x[1]+3905402710&4294967295,N=v+(C<<12&4294967295|C>>>20),C=A+(E^N&(v^E))+x[2]+606105819&4294967295,A=N+(C<<17&4294967295|C>>>15),C=E+(v^A&(N^v))+x[3]+3250441966&4294967295,E=A+(C<<22&4294967295|C>>>10),C=v+(N^E&(A^N))+x[4]+4118548399&4294967295,v=E+(C<<7&4294967295|C>>>25),C=N+(A^v&(E^A))+x[5]+1200080426&4294967295,N=v+(C<<12&4294967295|C>>>20),C=A+(E^N&(v^E))+x[6]+2821735955&4294967295,A=N+(C<<17&4294967295|C>>>15),C=E+(v^A&(N^v))+x[7]+4249261313&4294967295,E=A+(C<<22&4294967295|C>>>10),C=v+(N^E&(A^N))+x[8]+1770035416&4294967295,v=E+(C<<7&4294967295|C>>>25),C=N+(A^v&(E^A))+x[9]+2336552879&4294967295,N=v+(C<<12&4294967295|C>>>20),C=A+(E^N&(v^E))+x[10]+4294925233&4294967295,A=N+(C<<17&4294967295|C>>>15),C=E+(v^A&(N^v))+x[11]+2304563134&4294967295,E=A+(C<<22&4294967295|C>>>10),C=v+(N^E&(A^N))+x[12]+1804603682&4294967295,v=E+(C<<7&4294967295|C>>>25),C=N+(A^v&(E^A))+x[13]+4254626195&4294967295,N=v+(C<<12&4294967295|C>>>20),C=A+(E^N&(v^E))+x[14]+2792965006&4294967295,A=N+(C<<17&4294967295|C>>>15),C=E+(v^A&(N^v))+x[15]+1236535329&4294967295,E=A+(C<<22&4294967295|C>>>10),C=v+(A^N&(E^A))+x[1]+4129170786&4294967295,v=E+(C<<5&4294967295|C>>>27),C=N+(E^A&(v^E))+x[6]+3225465664&4294967295,N=v+(C<<9&4294967295|C>>>23),C=A+(v^E&(N^v))+x[11]+643717713&4294967295,A=N+(C<<14&4294967295|C>>>18),C=E+(N^v&(A^N))+x[0]+3921069994&4294967295,E=A+(C<<20&4294967295|C>>>12),C=v+(A^N&(E^A))+x[5]+3593408605&4294967295,v=E+(C<<5&4294967295|C>>>27),C=N+(E^A&(v^E))+x[10]+38016083&4294967295,N=v+(C<<9&4294967295|C>>>23),C=A+(v^E&(N^v))+x[15]+3634488961&4294967295,A=N+(C<<14&4294967295|C>>>18),C=E+(N^v&(A^N))+x[4]+3889429448&4294967295,E=A+(C<<20&4294967295|C>>>12),C=v+(A^N&(E^A))+x[9]+568446438&4294967295,v=E+(C<<5&4294967295|C>>>27),C=N+(E^A&(v^E))+x[14]+3275163606&4294967295,N=v+(C<<9&4294967295|C>>>23),C=A+(v^E&(N^v))+x[3]+4107603335&4294967295,A=N+(C<<14&4294967295|C>>>18),C=E+(N^v&(A^N))+x[8]+1163531501&4294967295,E=A+(C<<20&4294967295|C>>>12),C=v+(A^N&(E^A))+x[13]+2850285829&4294967295,v=E+(C<<5&4294967295|C>>>27),C=N+(E^A&(v^E))+x[2]+4243563512&4294967295,N=v+(C<<9&4294967295|C>>>23),C=A+(v^E&(N^v))+x[7]+1735328473&4294967295,A=N+(C<<14&4294967295|C>>>18),C=E+(N^v&(A^N))+x[12]+2368359562&4294967295,E=A+(C<<20&4294967295|C>>>12),C=v+(E^A^N)+x[5]+4294588738&4294967295,v=E+(C<<4&4294967295|C>>>28),C=N+(v^E^A)+x[8]+2272392833&4294967295,N=v+(C<<11&4294967295|C>>>21),C=A+(N^v^E)+x[11]+1839030562&4294967295,A=N+(C<<16&4294967295|C>>>16),C=E+(A^N^v)+x[14]+4259657740&4294967295,E=A+(C<<23&4294967295|C>>>9),C=v+(E^A^N)+x[1]+2763975236&4294967295,v=E+(C<<4&4294967295|C>>>28),C=N+(v^E^A)+x[4]+1272893353&4294967295,N=v+(C<<11&4294967295|C>>>21),C=A+(N^v^E)+x[7]+4139469664&4294967295,A=N+(C<<16&4294967295|C>>>16),C=E+(A^N^v)+x[10]+3200236656&4294967295,E=A+(C<<23&4294967295|C>>>9),C=v+(E^A^N)+x[13]+681279174&4294967295,v=E+(C<<4&4294967295|C>>>28),C=N+(v^E^A)+x[0]+3936430074&4294967295,N=v+(C<<11&4294967295|C>>>21),C=A+(N^v^E)+x[3]+3572445317&4294967295,A=N+(C<<16&4294967295|C>>>16),C=E+(A^N^v)+x[6]+76029189&4294967295,E=A+(C<<23&4294967295|C>>>9),C=v+(E^A^N)+x[9]+3654602809&4294967295,v=E+(C<<4&4294967295|C>>>28),C=N+(v^E^A)+x[12]+3873151461&4294967295,N=v+(C<<11&4294967295|C>>>21),C=A+(N^v^E)+x[15]+530742520&4294967295,A=N+(C<<16&4294967295|C>>>16),C=E+(A^N^v)+x[2]+3299628645&4294967295,E=A+(C<<23&4294967295|C>>>9),C=v+(A^(E|~N))+x[0]+4096336452&4294967295,v=E+(C<<6&4294967295|C>>>26),C=N+(E^(v|~A))+x[7]+1126891415&4294967295,N=v+(C<<10&4294967295|C>>>22),C=A+(v^(N|~E))+x[14]+2878612391&4294967295,A=N+(C<<15&4294967295|C>>>17),C=E+(N^(A|~v))+x[5]+4237533241&4294967295,E=A+(C<<21&4294967295|C>>>11),C=v+(A^(E|~N))+x[12]+1700485571&4294967295,v=E+(C<<6&4294967295|C>>>26),C=N+(E^(v|~A))+x[3]+2399980690&4294967295,N=v+(C<<10&4294967295|C>>>22),C=A+(v^(N|~E))+x[10]+4293915773&4294967295,A=N+(C<<15&4294967295|C>>>17),C=E+(N^(A|~v))+x[1]+2240044497&4294967295,E=A+(C<<21&4294967295|C>>>11),C=v+(A^(E|~N))+x[8]+1873313359&4294967295,v=E+(C<<6&4294967295|C>>>26),C=N+(E^(v|~A))+x[15]+4264355552&4294967295,N=v+(C<<10&4294967295|C>>>22),C=A+(v^(N|~E))+x[6]+2734768916&4294967295,A=N+(C<<15&4294967295|C>>>17),C=E+(N^(A|~v))+x[13]+1309151649&4294967295,E=A+(C<<21&4294967295|C>>>11),C=v+(A^(E|~N))+x[4]+4149444226&4294967295,v=E+(C<<6&4294967295|C>>>26),C=N+(E^(v|~A))+x[11]+3174756917&4294967295,N=v+(C<<10&4294967295|C>>>22),C=A+(v^(N|~E))+x[2]+718787259&4294967295,A=N+(C<<15&4294967295|C>>>17),C=E+(N^(A|~v))+x[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(A+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+A&4294967295,I.g[3]=I.g[3]+N&4294967295}r.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var E=v-this.blockSize,x=this.B,A=this.h,N=0;N<v;){if(A==0)for(;N<=E;)i(this,I,N),N+=this.blockSize;if(typeof I=="string"){for(;N<v;)if(x[A++]=I.charCodeAt(N++),A==this.blockSize){i(this,x),A=0;break}}else for(;N<v;)if(x[A++]=I[N++],A==this.blockSize){i(this,x),A=0;break}}this.h=A,this.o+=v},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var E=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=E&255,E/=256;for(this.u(I),I=Array(16),v=E=0;4>v;++v)for(var x=0;32>x;x+=8)I[E++]=this.g[v]>>>x&255;return I};function s(I,v){var E=l;return Object.prototype.hasOwnProperty.call(E,I)?E[I]:E[I]=v(I)}function o(I,v){this.h=v;for(var E=[],x=!0,A=I.length-1;0<=A;A--){var N=I[A]|0;x&&N==v||(E[A]=N,x=!1)}this.g=E}var l={};function u(I){return-128<=I&&128>I?s(I,function(v){return new o([v|0],0>v?-1:0)}):new o([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return m;if(0>I)return L(c(-I));for(var v=[],E=1,x=0;I>=E;x++)v[x]=I/E|0,E*=4294967296;return new o(v,0)}function d(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return L(d(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=c(Math.pow(v,8)),x=m,A=0;A<I.length;A+=8){var N=Math.min(8,I.length-A),C=parseInt(I.substring(A,A+N),v);8>N?(N=c(Math.pow(v,N)),x=x.j(N).add(c(C))):(x=x.j(E),x=x.add(c(C)))}return x}var m=u(0),g=u(1),w=u(16777216);t=o.prototype,t.m=function(){if(b(this))return-L(this).m();for(var I=0,v=1,E=0;E<this.g.length;E++){var x=this.i(E);I+=(0<=x?x:4294967296+x)*v,v*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(k(this))return"0";if(b(this))return"-"+L(this).toString(I);for(var v=c(Math.pow(I,6)),E=this,x="";;){var A=M(E,v).g;E=T(E,A.j(v));var N=((0<E.g.length?E.g[0]:E.h)>>>0).toString(I);if(E=A,k(E))return N+x;for(;6>N.length;)N="0"+N;x=N+x}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function k(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function b(I){return I.h==-1}t.l=function(I){return I=T(this,I),b(I)?-1:k(I)?0:1};function L(I){for(var v=I.g.length,E=[],x=0;x<v;x++)E[x]=~I.g[x];return new o(E,~I.h).add(g)}t.abs=function(){return b(this)?L(this):this},t.add=function(I){for(var v=Math.max(this.g.length,I.g.length),E=[],x=0,A=0;A<=v;A++){var N=x+(this.i(A)&65535)+(I.i(A)&65535),C=(N>>>16)+(this.i(A)>>>16)+(I.i(A)>>>16);x=C>>>16,N&=65535,C&=65535,E[A]=C<<16|N}return new o(E,E[E.length-1]&-2147483648?-1:0)};function T(I,v){return I.add(L(v))}t.j=function(I){if(k(this)||k(I))return m;if(b(this))return b(I)?L(this).j(L(I)):L(L(this).j(I));if(b(I))return L(this.j(L(I)));if(0>this.l(w)&&0>I.l(w))return c(this.m()*I.m());for(var v=this.g.length+I.g.length,E=[],x=0;x<2*v;x++)E[x]=0;for(x=0;x<this.g.length;x++)for(var A=0;A<I.g.length;A++){var N=this.i(x)>>>16,C=this.i(x)&65535,pe=I.i(A)>>>16,ot=I.i(A)&65535;E[2*x+2*A]+=C*ot,y(E,2*x+2*A),E[2*x+2*A+1]+=N*ot,y(E,2*x+2*A+1),E[2*x+2*A+1]+=C*pe,y(E,2*x+2*A+1),E[2*x+2*A+2]+=N*pe,y(E,2*x+2*A+2)}for(x=0;x<v;x++)E[x]=E[2*x+1]<<16|E[2*x];for(x=v;x<2*v;x++)E[x]=0;return new o(E,0)};function y(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function S(I,v){this.g=I,this.h=v}function M(I,v){if(k(v))throw Error("division by zero");if(k(I))return new S(m,m);if(b(I))return v=M(L(I),v),new S(L(v.g),L(v.h));if(b(v))return v=M(I,L(v)),new S(L(v.g),v.h);if(30<I.g.length){if(b(I)||b(v))throw Error("slowDivide_ only works with positive integers.");for(var E=g,x=v;0>=x.l(I);)E=U(E),x=U(x);var A=P(E,1),N=P(x,1);for(x=P(x,2),E=P(E,2);!k(x);){var C=N.add(x);0>=C.l(I)&&(A=A.add(E),N=C),x=P(x,1),E=P(E,1)}return v=T(I,A.j(v)),new S(A,v)}for(A=m;0<=I.l(v);){for(E=Math.max(1,Math.floor(I.m()/v.m())),x=Math.ceil(Math.log(E)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),N=c(E),C=N.j(v);b(C)||0<C.l(I);)E-=x,N=c(E),C=N.j(v);k(N)&&(N=g),A=A.add(N),I=T(I,C)}return new S(A,I)}t.A=function(I){return M(this,I).h},t.and=function(I){for(var v=Math.max(this.g.length,I.g.length),E=[],x=0;x<v;x++)E[x]=this.i(x)&I.i(x);return new o(E,this.h&I.h)},t.or=function(I){for(var v=Math.max(this.g.length,I.g.length),E=[],x=0;x<v;x++)E[x]=this.i(x)|I.i(x);return new o(E,this.h|I.h)},t.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),E=[],x=0;x<v;x++)E[x]=this.i(x)^I.i(x);return new o(E,this.h^I.h)};function U(I){for(var v=I.g.length+1,E=[],x=0;x<v;x++)E[x]=I.i(x)<<1|I.i(x-1)>>>31;return new o(E,I.h)}function P(I,v){var E=v>>5;v%=32;for(var x=I.g.length-E,A=[],N=0;N<x;N++)A[N]=0<v?I.i(N+E)>>>v|I.i(N+E+1)<<32-v:I.i(N+E);return new o(A,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Dw=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Ji=o}).apply(typeof gy<"u"?gy:typeof self<"u"?self:typeof window<"u"?window:{});var fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lw,wa,Ow,Nu,If,Mw,Vw,jw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,p){return a==Array.prototype||a==Object.prototype||(a[h]=p.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof fu=="object"&&fu];for(var h=0;h<a.length;++h){var p=a[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var p=r;a=a.split(".");for(var _=0;_<a.length-1;_++){var V=a[_];if(!(V in p))break e;p=p[V]}a=a[a.length-1],_=p[a],h=h(_),h!=_&&h!=null&&e(p,a,{configurable:!0,writable:!0,value:h})}}function s(a,h){a instanceof String&&(a+="");var p=0,_=!1,V={next:function(){if(!_&&p<a.length){var F=p++;return{value:h(F,a[F]),done:!1}}return _=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(a){return a||function(){return s(this,function(h,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function c(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function d(a,h,p){return a.call.apply(a.bind,arguments)}function m(a,h,p){if(!a)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,_),a.apply(h,V)}}return function(){return a.apply(h,arguments)}}function g(a,h,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:m,g.apply(null,arguments)}function w(a,h){var p=Array.prototype.slice.call(arguments,1);return function(){var _=p.slice();return _.push.apply(_,arguments),a.apply(this,_)}}function k(a,h){function p(){}p.prototype=h.prototype,a.aa=h.prototype,a.prototype=new p,a.prototype.constructor=a,a.Qb=function(_,V,F){for(var G=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)G[Ve-2]=arguments[Ve];return h.prototype[V].apply(_,G)}}function b(a){const h=a.length;if(0<h){const p=Array(h);for(let _=0;_<h;_++)p[_]=a[_];return p}return[]}function L(a,h){for(let p=1;p<arguments.length;p++){const _=arguments[p];if(u(_)){const V=a.length||0,F=_.length||0;a.length=V+F;for(let G=0;G<F;G++)a[V+G]=_[G]}else a.push(_)}}class T{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function y(a){return/^[\s\xa0]*$/.test(a)}function S(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function M(a){return M[" "](a),a}M[" "]=function(){};var U=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function P(a,h,p){for(const _ in a)h.call(p,a[_],_,a)}function I(a,h){for(const p in a)h.call(void 0,a[p],p,a)}function v(a){const h={};for(const p in a)h[p]=a[p];return h}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(a,h){let p,_;for(let V=1;V<arguments.length;V++){_=arguments[V];for(p in _)a[p]=_[p];for(let F=0;F<E.length;F++)p=E[F],Object.prototype.hasOwnProperty.call(_,p)&&(a[p]=_[p])}}function A(a){var h=1;a=a.split(":");const p=[];for(;0<h&&a.length;)p.push(a.shift()),h--;return a.length&&p.push(a.join(":")),p}function N(a){l.setTimeout(()=>{throw a},0)}function C(){var a=q;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class pe{constructor(){this.h=this.g=null}add(h,p){const _=ot.get();_.set(h,p),this.h?this.h.next=_:this.g=_,this.h=_}}var ot=new T(()=>new ft,a=>a.reset());class ft{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,B=!1,q=new pe,Z=()=>{const a=l.Promise.resolve(void 0);Ce=()=>{a.then(ie)}};var ie=()=>{for(var a;a=C();){try{a.h.call(a.g)}catch(p){N(p)}var h=ot;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}B=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function xe(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}xe.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};l.addEventListener("test",p,h),l.removeEventListener("test",p,h)}catch{}return a}();function Le(a,h){if(xe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var p=this.type=a.type,_=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(U){e:{try{M(h.nodeName);var V=!0;break e}catch{}V=!1}V||(h=null)}}else p=="mouseover"?h=a.fromElement:p=="mouseout"&&(h=a.toElement);this.relatedTarget=h,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:rt[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Le.aa.h.call(this)}}k(Le,xe);var rt={2:"touch",3:"pen",4:"mouse"};Le.prototype.h=function(){Le.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),Pi=0;function Oo(a,h,p,_,V){this.listener=a,this.proxy=null,this.src=h,this.type=p,this.capture=!!_,this.ha=V,this.key=++Pi,this.da=this.fa=!1}function ys(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function at(a){this.src=a,this.g={},this.h=0}at.prototype.add=function(a,h,p,_,V){var F=a.toString();a=this.g[F],a||(a=this.g[F]=[],this.h++);var G=_s(a,h,_,V);return-1<G?(h=a[G],p||(h.fa=!1)):(h=new Oo(h,this.src,F,!!_,V),h.fa=p,a.push(h)),h};function Un(a,h){var p=h.type;if(p in a.g){var _=a.g[p],V=Array.prototype.indexOf.call(_,h,void 0),F;(F=0<=V)&&Array.prototype.splice.call(_,V,1),F&&(ys(h),a.g[p].length==0&&(delete a.g[p],a.h--))}}function _s(a,h,p,_){for(var V=0;V<a.length;++V){var F=a[V];if(!F.da&&F.listener==h&&F.capture==!!p&&F.ha==_)return V}return-1}var Mo="closure_lm_"+(1e6*Math.random()|0),Cn={};function Pl(a,h,p,_,V){if(Array.isArray(h)){for(var F=0;F<h.length;F++)Pl(a,h[F],p,_,V);return null}return p=jo(p),a&&a[gt]?a.K(h,p,c(_)?!!_.capture:!!_,V):Ih(a,h,p,!1,_,V)}function Ih(a,h,p,_,V,F){if(!h)throw Error("Invalid event type");var G=c(V)?!!V.capture:!!V,Ve=kn(a);if(Ve||(a[Mo]=Ve=new at(a)),p=Ve.add(h,p,_,G,F),p.proxy)return p;if(_=Nl(),p.proxy=_,_.src=a,_.listener=p,a.addEventListener)Re||(V=G),V===void 0&&(V=!1),a.addEventListener(h.toString(),_,V);else if(a.attachEvent)a.attachEvent(Ll(h.toString()),_);else if(a.addListener&&a.removeListener)a.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Nl(){function a(p){return h.call(a.src,a.listener,p)}const h=Sh;return a}function Dl(a,h,p,_,V){if(Array.isArray(h))for(var F=0;F<h.length;F++)Dl(a,h[F],p,_,V);else _=c(_)?!!_.capture:!!_,p=jo(p),a&&a[gt]?(a=a.i,h=String(h).toString(),h in a.g&&(F=a.g[h],p=_s(F,p,_,V),-1<p&&(ys(F[p]),Array.prototype.splice.call(F,p,1),F.length==0&&(delete a.g[h],a.h--)))):a&&(a=kn(a))&&(h=a.g[h.toString()],a=-1,h&&(a=_s(h,p,_,V)),(p=-1<a?h[a]:null)&&Vo(p))}function Vo(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[gt])Un(h.i,a);else{var p=a.type,_=a.proxy;h.removeEventListener?h.removeEventListener(p,_,a.capture):h.detachEvent?h.detachEvent(Ll(p),_):h.addListener&&h.removeListener&&h.removeListener(_),(p=kn(h))?(Un(p,a),p.h==0&&(p.src=null,h[Mo]=null)):ys(a)}}}function Ll(a){return a in Cn?Cn[a]:Cn[a]="on"+a}function Sh(a,h){if(a.da)a=!0;else{h=new Le(h,this);var p=a.listener,_=a.ha||a.src;a.fa&&Vo(a),a=p.call(_,h)}return a}function kn(a){return a=a[Mo],a instanceof at?a:null}var rr="__closure_events_fn_"+(1e9*Math.random()>>>0);function jo(a){return typeof a=="function"?a:(a[rr]||(a[rr]=function(h){return a.handleEvent(h)}),a[rr])}function lt(){he.call(this),this.i=new at(this),this.M=this,this.F=null}k(lt,he),lt.prototype[gt]=!0,lt.prototype.removeEventListener=function(a,h,p,_){Dl(this,a,h,p,_)};function qe(a,h){var p,_=a.F;if(_)for(p=[];_;_=_.F)p.push(_);if(a=a.M,_=h.type||h,typeof h=="string")h=new xe(h,a);else if(h instanceof xe)h.target=h.target||a;else{var V=h;h=new xe(_,a),x(h,V)}if(V=!0,p)for(var F=p.length-1;0<=F;F--){var G=h.g=p[F];V=Xt(G,_,!0,h)&&V}if(G=h.g=a,V=Xt(G,_,!0,h)&&V,V=Xt(G,_,!1,h)&&V,p)for(F=0;F<p.length;F++)G=h.g=p[F],V=Xt(G,_,!1,h)&&V}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var p=a.g[h],_=0;_<p.length;_++)ys(p[_]);delete a.g[h],a.h--}}this.F=null},lt.prototype.K=function(a,h,p,_){return this.i.add(String(a),h,!1,p,_)},lt.prototype.L=function(a,h,p,_){return this.i.add(String(a),h,!0,p,_)};function Xt(a,h,p,_){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var V=!0,F=0;F<h.length;++F){var G=h[F];if(G&&!G.da&&G.capture==p){var Ve=G.listener,Et=G.ha||G.src;G.fa&&Un(a.i,G),V=Ve.call(Et,_)!==!1&&V}}return V&&!_.defaultPrevented}function Fo(a,h,p){if(typeof a=="function")p&&(a=g(a,p));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function Ni(a){a.g=Fo(()=>{a.g=null,a.i&&(a.i=!1,Ni(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class Ch extends he{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Ni(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jt(a){he.call(this),this.h=a,this.g={}}k(Jt,he);var Uo=[];function zo(a){P(a.g,function(h,p){this.g.hasOwnProperty(p)&&Vo(h)},a),a.g={}}Jt.prototype.N=function(){Jt.aa.N.call(this),zo(this)},Jt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ws=l.JSON.stringify,kh=l.JSON.parse,Ol=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Or(){}Or.prototype.h=null;function Bo(a){return a.h||(a.h=a.i())}function Es(){}var ir={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $o(){xe.call(this,"d")}k($o,xe);function xs(){xe.call(this,"c")}k(xs,xe);var sr={},Ho=null;function or(){return Ho=Ho||new lt}sr.La="serverreachability";function Di(a){xe.call(this,sr.La,a)}k(Di,xe);function Li(a){const h=or();qe(h,new Di(h))}sr.STAT_EVENT="statevent";function Ml(a,h){xe.call(this,sr.STAT_EVENT,a),this.stat=h}k(Ml,xe);function R(a){const h=or();qe(h,new Ml(h,a))}sr.Ma="timingevent";function O(a,h){xe.call(this,sr.Ma,a),this.size=h}k(O,xe);function j(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function $(){this.g=!0}$.prototype.xa=function(){this.g=!1};function Y(a,h,p,_,V,F){a.info(function(){if(a.g)if(F)for(var G="",Ve=F.split("&"),Et=0;Et<Ve.length;Et++){var ke=Ve[Et].split("=");if(1<ke.length){var Rt=ke[0];ke=ke[1];var Pt=Rt.split("_");G=2<=Pt.length&&Pt[1]=="type"?G+(Rt+"="+ke+"&"):G+(Rt+"=redacted&")}}else G=null;else G=F;return"XMLHTTP REQ ("+_+") [attempt "+V+"]: "+h+`
`+p+`
`+G})}function re(a,h,p,_,V,F,G){a.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+V+"]: "+h+`
`+p+`
`+F+" "+G})}function oe(a,h,p,_){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+ee(a,p)+(_?" "+_:"")})}function J(a,h){a.info(function(){return"TIMEOUT: "+h})}$.prototype.info=function(){};function ee(a,h){if(!a.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(a=0;a<p.length;a++)if(Array.isArray(p[a])){var _=p[a];if(!(2>_.length)){var V=_[1];if(Array.isArray(V)&&!(1>V.length)){var F=V[0];if(F!="noop"&&F!="stop"&&F!="close")for(var G=1;G<V.length;G++)V[G]=""}}}}return ws(p)}catch{return h}}var K={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ne={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fe;function me(){}k(me,Or),me.prototype.g=function(){return new XMLHttpRequest},me.prototype.i=function(){return{}},fe=new me;function je(a,h,p,_){this.j=a,this.i=h,this.l=p,this.R=_||1,this.U=new Jt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pe}function Pe(){this.i=null,this.g="",this.h=!1}var Te={},Fe={};function zn(a,h,p){a.L=1,a.v=Ul(lr(h)),a.m=p,a.P=!0,Mr(a,null)}function Mr(a,h){a.F=Date.now(),Vr(a),a.A=lr(a.v);var p=a.A,_=a.R;Array.isArray(_)||(_=[String(_)]),ag(p.i,"t",_),a.C=0,p=a.j.J,a.h=new Pe,a.g=Sg(a.j,p?h:null,!a.m),0<a.O&&(a.M=new Ch(g(a.Y,a,a.g),a.O)),h=a.U,p=a.g,_=a.ca;var V="readystatechange";Array.isArray(V)||(V&&(Uo[0]=V.toString()),V=Uo);for(var F=0;F<V.length;F++){var G=Pl(p,V[F],_||h.handleEvent,!1,h.h||h);if(!G)break;h.g[G.key]=G}h=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),Li(),Y(a.i,a.u,a.A,a.l,a.R,a.m)}je.prototype.ca=function(a){a=a.target;const h=this.M;h&&ur(a)==3?h.j():this.Y(a)},je.prototype.Y=function(a){try{if(a==this.g)e:{const Pt=ur(this.g);var h=this.g.Ba();const Cs=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||pg(this.g)))){this.J||Pt!=4||h==7||(h==8||0>=Cs?Li(3):Li(2)),bn(this);var p=this.g.Z();this.X=p;t:if(gn(this)){var _=pg(this.g);a="";var V=_.length,F=ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yn(this),Bn(this);var G="";break t}this.h.i=new l.TextDecoder}for(h=0;h<V;h++)this.h.h=!0,a+=this.h.i.decode(_[h],{stream:!(F&&h==V-1)});_.length=0,this.h.g+=a,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=p==200,re(this.i,this.u,this.A,this.l,this.R,Pt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,Et=this.g;if((Ve=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ve)){var ke=Ve;break t}}ke=null}if(p=ke)oe(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ve(this,p);else{this.o=!1,this.s=3,R(12),yn(this),Bn(this);break e}}if(this.P){p=!0;let An;for(;!this.J&&this.C<G.length;)if(An=vn(this,G),An==Fe){Pt==4&&(this.s=4,R(14),p=!1),oe(this.i,this.l,null,"[Incomplete Response]");break}else if(An==Te){this.s=4,R(15),oe(this.i,this.l,G,"[Invalid Chunk]"),p=!1;break}else oe(this.i,this.l,An,null),ve(this,An);if(gn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||G.length!=0||this.h.h||(this.s=1,R(16),p=!1),this.o=this.o&&p,!p)oe(this.i,this.l,G,"[Invalid Chunked Response]"),yn(this),Bn(this);else if(0<G.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Ph(Rt),Rt.M=!0,R(11))}}else oe(this.i,this.l,G,null),ve(this,G);Pt==4&&yn(this),this.o&&!this.J&&(Pt==4?Eg(this.j,this):(this.o=!1,Vr(this)))}else IT(this.g),p==400&&0<G.indexOf("Unknown SID")?(this.s=3,R(12)):(this.s=0,R(13)),yn(this),Bn(this)}}}catch{}finally{}};function gn(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function vn(a,h){var p=a.C,_=h.indexOf(`
`,p);return _==-1?Fe:(p=Number(h.substring(p,_)),isNaN(p)?Te:(_+=1,_+p>h.length?Fe:(h=h.slice(_,_+p),a.C=_+p,h)))}je.prototype.cancel=function(){this.J=!0,yn(this)};function Vr(a){a.S=Date.now()+a.I,jr(a,a.I)}function jr(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=j(g(a.ba,a),h)}function bn(a){a.B&&(l.clearTimeout(a.B),a.B=null)}je.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(J(this.i,this.A),this.L!=2&&(Li(),R(17)),yn(this),this.s=2,Bn(this)):jr(this,this.S-a)};function Bn(a){a.j.G==0||a.J||Eg(a.j,a)}function yn(a){bn(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,zo(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function ve(a,h){try{var p=a.j;if(p.G!=0&&(p.g==a||$n(p.h,a))){if(!a.K&&$n(p.h,a)&&p.G==3){try{var _=p.Da.g.parse(h)}catch{_=null}if(Array.isArray(_)&&_.length==3){var V=_;if(V[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<a.F)ql(p),Hl(p);else break e;Rh(p),R(18)}}else p.za=V[1],0<p.za-p.T&&37500>V[2]&&p.F&&p.v==0&&!p.C&&(p.C=j(g(p.Za,p),6e3));if(1>=Ye(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Mi(p,11)}else if((a.K||p.g==a)&&ql(p),!y(h))for(V=p.Da.g.parse(h),h=0;h<V.length;h++){let ke=V[h];if(p.T=ke[0],ke=ke[1],p.G==2)if(ke[0]=="c"){p.K=ke[1],p.ia=ke[2];const Rt=ke[3];Rt!=null&&(p.la=Rt,p.j.info("VER="+p.la));const Pt=ke[4];Pt!=null&&(p.Aa=Pt,p.j.info("SVER="+p.Aa));const Cs=ke[5];Cs!=null&&typeof Cs=="number"&&0<Cs&&(_=1.5*Cs,p.L=_,p.j.info("backChannelRequestTimeoutMs_="+_)),_=p;const An=a.g;if(An){const Kl=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kl){var F=_.h;F.g||Kl.indexOf("spdy")==-1&&Kl.indexOf("quic")==-1&&Kl.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Ts(F,F.h),F.h=null))}if(_.D){const Nh=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;Nh&&(_.ya=Nh,ze(_.I,_.D,Nh))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-a.F,p.j.info("Handshake RTT: "+p.R+"ms")),_=p;var G=a;if(_.qa=Ig(_,_.J?_.ia:null,_.W),G.K){Vl(_.h,G);var Ve=G,Et=_.L;Et&&(Ve.I=Et),Ve.B&&(bn(Ve),Vr(Ve)),_.g=G}else _g(_);0<p.i.length&&Wl(p)}else ke[0]!="stop"&&ke[0]!="close"||Mi(p,7);else p.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?Mi(p,7):Ah(p):ke[0]!="noop"&&p.l&&p.l.ta(ke),p.v=0)}}Li(4)}catch{}}var Ge=class{constructor(a,h){this.g=a,this.map=h}};function ar(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fr(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Ye(a){return a.h?1:a.g?a.g.size:0}function $n(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function Ts(a,h){a.g?a.g.add(h):a.h=h}function Vl(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}ar.prototype.cancel=function(){if(this.i=eg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function eg(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const p of a.g.values())h=h.concat(p.D);return h}return b(a.i)}function uT(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var h=[],p=a.length,_=0;_<p;_++)h.push(a[_]);return h}h=[],p=0;for(_ in a)h[p++]=a[_];return h}function cT(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var h=[];a=a.length;for(var p=0;p<a;p++)h.push(p);return h}h=[],p=0;for(const _ in a)h[p++]=_;return h}}}function tg(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var p=cT(a),_=uT(a),V=_.length,F=0;F<V;F++)h.call(void 0,_[F],p&&p[F],a)}var ng=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hT(a,h){if(a){a=a.split("&");for(var p=0;p<a.length;p++){var _=a[p].indexOf("="),V=null;if(0<=_){var F=a[p].substring(0,_);V=a[p].substring(_+1)}else F=a[p];h(F,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Oi(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Oi){this.h=a.h,jl(this,a.j),this.o=a.o,this.g=a.g,Fl(this,a.s),this.l=a.l;var h=a.i,p=new Go;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),rg(this,p),this.m=a.m}else a&&(h=String(a).match(ng))?(this.h=!1,jl(this,h[1]||"",!0),this.o=Wo(h[2]||""),this.g=Wo(h[3]||"",!0),Fl(this,h[4]),this.l=Wo(h[5]||"",!0),rg(this,h[6]||"",!0),this.m=Wo(h[7]||"")):(this.h=!1,this.i=new Go(null,this.h))}Oi.prototype.toString=function(){var a=[],h=this.j;h&&a.push(qo(h,ig,!0),":");var p=this.g;return(p||h=="file")&&(a.push("//"),(h=this.o)&&a.push(qo(h,ig,!0),"@"),a.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&a.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(qo(p,p.charAt(0)=="/"?pT:fT,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",qo(p,gT)),a.join("")};function lr(a){return new Oi(a)}function jl(a,h,p){a.j=p?Wo(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Fl(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function rg(a,h,p){h instanceof Go?(a.i=h,vT(a.i,a.h)):(p||(h=qo(h,mT)),a.i=new Go(h,a.h))}function ze(a,h,p){a.i.set(h,p)}function Ul(a){return ze(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Wo(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function qo(a,h,p){return typeof a=="string"?(a=encodeURI(a).replace(h,dT),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function dT(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var ig=/[#\/\?@]/g,fT=/[#\?:]/g,pT=/[#\?]/g,mT=/[#\?@]/g,gT=/#/g;function Go(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Ur(a){a.g||(a.g=new Map,a.h=0,a.i&&hT(a.i,function(h,p){a.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=Go.prototype,t.add=function(a,h){Ur(this),this.i=null,a=Is(this,a);var p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(h),this.h+=1,this};function sg(a,h){Ur(a),h=Is(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function og(a,h){return Ur(a),h=Is(a,h),a.g.has(h)}t.forEach=function(a,h){Ur(this),this.g.forEach(function(p,_){p.forEach(function(V){a.call(h,V,_,this)},this)},this)},t.na=function(){Ur(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let _=0;_<h.length;_++){const V=a[_];for(let F=0;F<V.length;F++)p.push(h[_])}return p},t.V=function(a){Ur(this);let h=[];if(typeof a=="string")og(this,a)&&(h=h.concat(this.g.get(Is(this,a))));else{a=Array.from(this.g.values());for(let p=0;p<a.length;p++)h=h.concat(a[p])}return h},t.set=function(a,h){return Ur(this),this.i=null,a=Is(this,a),og(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function ag(a,h,p){sg(a,h),0<p.length&&(a.i=null,a.g.set(Is(a,h),b(p)),a.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var _=h[p];const F=encodeURIComponent(String(_)),G=this.V(_);for(_=0;_<G.length;_++){var V=F;G[_]!==""&&(V+="="+encodeURIComponent(String(G[_]))),a.push(V)}}return this.i=a.join("&")};function Is(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function vT(a,h){h&&!a.j&&(Ur(a),a.i=null,a.g.forEach(function(p,_){var V=_.toLowerCase();_!=V&&(sg(this,_),ag(this,V,p))},a)),a.j=h}function yT(a,h){const p=new $;if(l.Image){const _=new Image;_.onload=w(zr,p,"TestLoadImage: loaded",!0,h,_),_.onerror=w(zr,p,"TestLoadImage: error",!1,h,_),_.onabort=w(zr,p,"TestLoadImage: abort",!1,h,_),_.ontimeout=w(zr,p,"TestLoadImage: timeout",!1,h,_),l.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=a}else h(!1)}function _T(a,h){const p=new $,_=new AbortController,V=setTimeout(()=>{_.abort(),zr(p,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:_.signal}).then(F=>{clearTimeout(V),F.ok?zr(p,"TestPingServer: ok",!0,h):zr(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(V),zr(p,"TestPingServer: error",!1,h)})}function zr(a,h,p,_,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),_(p)}catch{}}function wT(){this.g=new Ol}function ET(a,h,p){const _=p||"";try{tg(a,function(V,F){let G=V;c(V)&&(G=ws(V)),h.push(_+F+"="+encodeURIComponent(G))})}catch(V){throw h.push(_+"type="+encodeURIComponent("_badmap")),V}}function zl(a){this.l=a.Ub||null,this.j=a.eb||!1}k(zl,Or),zl.prototype.g=function(){return new Bl(this.l,this.j)},zl.prototype.i=function(a){return function(){return a}}({});function Bl(a,h){lt.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Bl,lt),t=Bl.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,Qo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ko(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Qo(this)),this.g&&(this.readyState=3,Qo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lg(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function lg(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Ko(this):Qo(this),this.readyState==3&&lg(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Ko(this))},t.Qa=function(a){this.g&&(this.response=a,Ko(this))},t.ga=function(){this.g&&Ko(this)};function Ko(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Qo(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=h.next();return a.join(`\r
`)};function Qo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Bl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function ug(a){let h="";return P(a,function(p,_){h+=_,h+=":",h+=p,h+=`\r
`}),h}function bh(a,h,p){e:{for(_ in p){var _=!1;break e}_=!0}_||(p=ug(p),typeof a=="string"?p!=null&&encodeURIComponent(String(p)):ze(a,h,p))}function tt(a){lt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(tt,lt);var xT=/^https?$/i,TT=["POST","PUT"];t=tt.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,p,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fe.g(),this.v=this.o?Bo(this.o):Bo(fe),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(F){cg(this,F);return}if(a=p||"",p=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var V in _)p.set(V,_[V]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const F of _.keys())p.set(F,_.get(F));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(p.keys()).find(F=>F.toLowerCase()=="content-type"),V=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(TT,h,void 0))||_||V||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,G]of p)this.g.setRequestHeader(F,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fg(this),this.u=!0,this.g.send(a),this.u=!1}catch(F){cg(this,F)}};function cg(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,hg(a),$l(a)}function hg(a){a.A||(a.A=!0,qe(a,"complete"),qe(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,qe(this,"complete"),qe(this,"abort"),$l(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$l(this,!0)),tt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?dg(this):this.bb())},t.bb=function(){dg(this)};function dg(a){if(a.h&&typeof o<"u"&&(!a.v[1]||ur(a)!=4||a.Z()!=2)){if(a.u&&ur(a)==4)Fo(a.Ea,0,a);else if(qe(a,"readystatechange"),ur(a)==4){a.h=!1;try{const G=a.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var _;if(_=G===0){var V=String(a.D).match(ng)[1]||null;!V&&l.self&&l.self.location&&(V=l.self.location.protocol.slice(0,-1)),_=!xT.test(V?V.toLowerCase():"")}p=_}if(p)qe(a,"complete"),qe(a,"success");else{a.m=6;try{var F=2<ur(a)?a.g.statusText:""}catch{F=""}a.l=F+" ["+a.Z()+"]",hg(a)}}finally{$l(a)}}}}function $l(a,h){if(a.g){fg(a);const p=a.g,_=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||qe(a,"ready");try{p.onreadystatechange=_}catch{}}}function fg(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function ur(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<ur(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),kh(h)}};function pg(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function IT(a){const h={};a=(a.g&&2<=ur(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<a.length;_++){if(y(a[_]))continue;var p=A(a[_]);const V=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const F=h[V]||[];h[V]=F,F.push(p)}I(h,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yo(a,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||h}function mg(a){this.Aa=0,this.i=[],this.j=new $,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yo("baseRetryDelayMs",5e3,a),this.cb=Yo("retryDelaySeedMs",1e4,a),this.Wa=Yo("forwardChannelMaxRetries",2,a),this.wa=Yo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new ar(a&&a.concurrentRequestLimit),this.Da=new wT,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=mg.prototype,t.la=8,t.G=1,t.connect=function(a,h,p,_){R(0),this.W=a,this.H=h||{},p&&_!==void 0&&(this.H.OSID=p,this.H.OAID=_),this.F=this.X,this.I=Ig(this,null,this.W),Wl(this)};function Ah(a){if(gg(a),a.G==3){var h=a.U++,p=lr(a.I);if(ze(p,"SID",a.K),ze(p,"RID",h),ze(p,"TYPE","terminate"),Xo(a,p),h=new je(a,a.j,h),h.L=2,h.v=Ul(lr(p)),p=!1,l.navigator&&l.navigator.sendBeacon)try{p=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&l.Image&&(new Image().src=h.v,p=!0),p||(h.g=Sg(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Vr(h)}Tg(a)}function Hl(a){a.g&&(Ph(a),a.g.cancel(),a.g=null)}function gg(a){Hl(a),a.u&&(l.clearTimeout(a.u),a.u=null),ql(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Wl(a){if(!Fr(a.h)&&!a.s){a.s=!0;var h=a.Ga;Ce||Z(),B||(Ce(),B=!0),q.add(h,a),a.B=0}}function ST(a,h){return Ye(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=j(g(a.Ga,a,h),xg(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const V=new je(this,this.j,a);let F=this.o;if(this.S&&(F?(F=v(F),x(F,this.S)):F=this.S),this.m!==null||this.O||(V.H=F,F=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var _=this.i[p];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(h+=_,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=yg(this,V,h),p=lr(this.I),ze(p,"RID",a),ze(p,"CVER",22),this.D&&ze(p,"X-HTTP-Session-Id",this.D),Xo(this,p),F&&(this.O?h="headers="+encodeURIComponent(String(ug(F)))+"&"+h:this.m&&bh(p,this.m,F)),Ts(this.h,V),this.Ua&&ze(p,"TYPE","init"),this.P?(ze(p,"$req",h),ze(p,"SID","null"),V.T=!0,zn(V,p,null)):zn(V,p,h),this.G=2}}else this.G==3&&(a?vg(this,a):this.i.length==0||Fr(this.h)||vg(this))};function vg(a,h){var p;h?p=h.l:p=a.U++;const _=lr(a.I);ze(_,"SID",a.K),ze(_,"RID",p),ze(_,"AID",a.T),Xo(a,_),a.m&&a.o&&bh(_,a.m,a.o),p=new je(a,a.j,p,a.B+1),a.m===null&&(p.H=a.o),h&&(a.i=h.D.concat(a.i)),h=yg(a,p,1e3),p.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Ts(a.h,p),zn(p,_,h)}function Xo(a,h){a.H&&P(a.H,function(p,_){ze(h,_,p)}),a.l&&tg({},function(p,_){ze(h,_,p)})}function yg(a,h,p){p=Math.min(a.i.length,p);var _=a.l?g(a.l.Na,a.l,a):null;e:{var V=a.i;let F=-1;for(;;){const G=["count="+p];F==-1?0<p?(F=V[0].g,G.push("ofs="+F)):F=0:G.push("ofs="+F);let Ve=!0;for(let Et=0;Et<p;Et++){let ke=V[Et].g;const Rt=V[Et].map;if(ke-=F,0>ke)F=Math.max(0,V[Et].g-100),Ve=!1;else try{ET(Rt,G,"req"+ke+"_")}catch{_&&_(Rt)}}if(Ve){_=G.join("&");break e}}}return a=a.i.splice(0,p),h.D=a,_}function _g(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;Ce||Z(),B||(Ce(),B=!0),q.add(h,a),a.v=0}}function Rh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=j(g(a.Fa,a),xg(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,wg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=j(g(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,R(10),Hl(this),wg(this))};function Ph(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function wg(a){a.g=new je(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=lr(a.qa);ze(h,"RID","rpc"),ze(h,"SID",a.K),ze(h,"AID",a.T),ze(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&ze(h,"TO",a.ja),ze(h,"TYPE","xmlhttp"),Xo(a,h),a.m&&a.o&&bh(h,a.m,a.o),a.L&&(a.g.I=a.L);var p=a.g;a=a.ia,p.L=1,p.v=Ul(lr(h)),p.m=null,p.P=!0,Mr(p,a)}t.Za=function(){this.C!=null&&(this.C=null,Hl(this),Rh(this),R(19))};function ql(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Eg(a,h){var p=null;if(a.g==h){ql(a),Ph(a),a.g=null;var _=2}else if($n(a.h,h))p=h.D,Vl(a.h,h),_=1;else return;if(a.G!=0){if(h.o)if(_==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var V=a.B;_=or(),qe(_,new O(_,p)),Wl(a)}else _g(a);else if(V=h.s,V==3||V==0&&0<h.X||!(_==1&&ST(a,h)||_==2&&Rh(a)))switch(p&&0<p.length&&(h=a.h,h.i=h.i.concat(p)),V){case 1:Mi(a,5);break;case 4:Mi(a,10);break;case 3:Mi(a,6);break;default:Mi(a,2)}}}function xg(a,h){let p=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(p*=2),p*h}function Mi(a,h){if(a.j.info("Error code "+h),h==2){var p=g(a.fb,a),_=a.Xa;const V=!_;_=new Oi(_||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||jl(_,"https"),Ul(_),V?yT(_.toString(),p):_T(_.toString(),p)}else R(2);a.G=0,a.l&&a.l.sa(h),Tg(a),gg(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),R(2)):(this.j.info("Failed to ping google.com"),R(1))};function Tg(a){if(a.G=0,a.ka=[],a.l){const h=eg(a.h);(h.length!=0||a.i.length!=0)&&(L(a.ka,h),L(a.ka,a.i),a.h.i.length=0,b(a.i),a.i.length=0),a.l.ra()}}function Ig(a,h,p){var _=p instanceof Oi?lr(p):new Oi(p);if(_.g!="")h&&(_.g=h+"."+_.g),Fl(_,_.s);else{var V=l.location;_=V.protocol,h=h?h+"."+V.hostname:V.hostname,V=+V.port;var F=new Oi(null);_&&jl(F,_),h&&(F.g=h),V&&Fl(F,V),p&&(F.l=p),_=F}return p=a.D,h=a.ya,p&&h&&ze(_,p,h),ze(_,"VER",a.la),Xo(a,_),_}function Sg(a,h,p){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new tt(new zl({eb:p})):new tt(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cg(){}t=Cg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Gl(){}Gl.prototype.g=function(a,h){return new an(a,h)};function an(a,h){lt.call(this),this.g=new mg(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!y(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!y(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Ss(this)}k(an,lt),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Ah(this.g)},an.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.u&&(p={},p.__data__=ws(a),a=p);h.i.push(new Ge(h.Ya++,a)),h.G==3&&Wl(h)},an.prototype.N=function(){this.g.l=null,delete this.j,Ah(this.g),delete this.g,an.aa.N.call(this)};function kg(a){$o.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const p in h){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}k(kg,$o);function bg(){xs.call(this),this.status=1}k(bg,xs);function Ss(a){this.g=a}k(Ss,Cg),Ss.prototype.ua=function(){qe(this.g,"a")},Ss.prototype.ta=function(a){qe(this.g,new kg(a))},Ss.prototype.sa=function(a){qe(this.g,new bg)},Ss.prototype.ra=function(){qe(this.g,"b")},Gl.prototype.createWebChannel=Gl.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,jw=function(){return new Gl},Vw=function(){return or()},Mw=sr,If={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},K.NO_ERROR=0,K.TIMEOUT=8,K.HTTP_ERROR=6,Nu=K,ne.COMPLETE="complete",Ow=ne,Es.EventType=ir,ir.OPEN="a",ir.CLOSE="b",ir.ERROR="c",ir.MESSAGE="d",lt.prototype.listen=lt.prototype.K,wa=Es,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,Lw=tt}).apply(typeof fu<"u"?fu:typeof self<"u"?self:typeof window<"u"?window:{});const vy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let So="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new Gp("@firebase/firestore");function ua(){return as.logLevel}function te(t,...e){if(as.logLevel<=Ee.DEBUG){const n=e.map(Yp);as.debug(`Firestore (${So}): ${t}`,...n)}}function Ar(t,...e){if(as.logLevel<=Ee.ERROR){const n=e.map(Yp);as.error(`Firestore (${So}): ${t}`,...n)}}function ho(t,...e){if(as.logLevel<=Ee.WARN){const n=e.map(Yp);as.warn(`Firestore (${So}): ${t}`,...n)}}function Yp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t="Unexpected state"){const e=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: `+t;throw Ar(e),new Error(e)}function De(t,e){t||le()}function ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends Lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class db{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class fb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pb{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){De(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Tr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Tr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new Fw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new Mt(e)}}class mb{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class gb{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new mb(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yb{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){De(this.o===void 0);const r=s=>{s.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string"),this.R=n.token,new vb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=_b(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function fo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _e.fromMillis(Date.now())}static fromDate(e){return _e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new _e(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new _e(0,0))}static max(){return new ue(new _e(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(),r===void 0?r=e.length-n:r>e.length-n&&le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return sl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof sl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class He extends sl{construct(e,n,r){return new He(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new He(n)}static emptyPath(){return new He([])}}const wb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends sl{construct(e,n,r){return new St(e,n,r)}static isValidIdentifier(e){return wb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new St(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Q(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Q(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Q(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new Q(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(n)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(He.fromString(e))}static fromName(e){return new se(He.fromString(e).popFirst(5))}static empty(){return new se(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new He(e.slice()))}}function Eb(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new _e(n+1,0):new _e(n,r));return new Ei(i,se.empty(),e)}function xb(t){return new Ei(t.readTime,t.key,-1)}class Ei{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ei(ue.min(),se.empty(),-1)}static max(){return new Ei(ue.max(),se.empty(),-1)}}function Tb(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Sb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==Ib)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++l,l===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new H((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Cb(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function El(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Xp.oe=-1;function th(t){return t==null}function yc(t){return t===0&&1/t==-1/0}function kb(t){return typeof t=="number"&&Number.isInteger(t)&&!yc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function gs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){this.comparator=e,this.root=n||It.EMPTY}insert(e,n){return new et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,It.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,It.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pu(this.root,e,this.comparator,!1)}getReverseIterator(){return new pu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pu(this.root,e,this.comparator,!0)}}class pu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class It{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??It.RED,this.left=i??It.EMPTY,this.right=s??It.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new It(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return It.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return It.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}}It.EMPTY=null,It.RED=!0,It.BLACK=!1;It.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(e,n,r,i,s){return this}insert(e,n,r){return new It(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _y(this.data.getIterator())}getIteratorFrom(e){return new _y(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class _y{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new hn([])}unionWith(e){let n=new kt(St.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Bw("Invalid base64 string: "+s):s}}(e);return new At(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new At(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}At.EMPTY_BYTE_STRING=new At("");const bb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xi(t){if(De(!!t),typeof t=="string"){let e=0;const n=bb.exec(t);if(De(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:it(t.seconds),nanos:it(t.nanos)}}function it(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ls(t){return typeof t=="string"?At.fromBase64String(t):At.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Zp(t){const e=t.mapValue.fields.__previous_value__;return Jp(e)?Zp(e):e}function ol(t){const e=xi(t.mapValue.fields.__local_write_time__.timestampValue);return new _e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,n,r,i,s,o,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class al{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new al("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof al&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function us(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jp(t)?4:Pb(t)?9007199254740991:Rb(t)?10:11:le()}function tr(t,e){if(t===e)return!0;const n=us(t);if(n!==us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ol(t).isEqual(ol(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=xi(i.timestampValue),l=xi(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ls(i.bytesValue).isEqual(ls(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return it(i.geoPointValue.latitude)===it(s.geoPointValue.latitude)&&it(i.geoPointValue.longitude)===it(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return it(i.integerValue)===it(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=it(i.doubleValue),l=it(s.doubleValue);return o===l?yc(o)===yc(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return fo(t.arrayValue.values||[],e.arrayValue.values||[],tr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(yy(o)!==yy(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!tr(o[u],l[u])))return!1;return!0}(t,e);default:return le()}}function ll(t,e){return(t.values||[]).find(n=>tr(n,e))!==void 0}function po(t,e){if(t===e)return 0;const n=us(t),r=us(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=it(s.integerValue||s.doubleValue),u=it(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return wy(t.timestampValue,e.timestampValue);case 4:return wy(ol(t),ol(e));case 5:return be(t.stringValue,e.stringValue);case 6:return function(s,o){const l=ls(s),u=ls(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let c=0;c<l.length&&c<u.length;c++){const d=be(l[c],u[c]);if(d!==0)return d}return be(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=be(it(s.latitude),it(o.latitude));return l!==0?l:be(it(s.longitude),it(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Ey(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,u,c,d;const m=s.fields||{},g=o.fields||{},w=(l=m.value)===null||l===void 0?void 0:l.arrayValue,k=(u=g.value)===null||u===void 0?void 0:u.arrayValue,b=be(((c=w==null?void 0:w.values)===null||c===void 0?void 0:c.length)||0,((d=k==null?void 0:k.values)===null||d===void 0?void 0:d.length)||0);return b!==0?b:Ey(w,k)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===mu.mapValue&&o===mu.mapValue)return 0;if(s===mu.mapValue)return 1;if(o===mu.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let m=0;m<u.length&&m<d.length;++m){const g=be(u[m],d[m]);if(g!==0)return g;const w=po(l[u[m]],c[d[m]]);if(w!==0)return w}return be(u.length,d.length)}(t.mapValue,e.mapValue);default:throw le()}}function wy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=xi(t),r=xi(e),i=be(n.seconds,r.seconds);return i!==0?i:be(n.nanos,r.nanos)}function Ey(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=po(n[i],r[i]);if(s)return s}return be(n.length,r.length)}function mo(t){return Sf(t)}function Sf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=xi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ls(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Sf(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Sf(n.fields[o])}`;return i+"}"}(t.mapValue):le()}function xy(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Cf(t){return!!t&&"integerValue"in t}function em(t){return!!t&&"arrayValue"in t}function Ty(t){return!!t&&"nullValue"in t}function Iy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Du(t){return!!t&&"mapValue"in t}function Rb(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Da(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return gs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Da(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Da(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Pb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.value=e}static empty(){return new tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Du(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Da(n)}setAll(e){let n=St.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Da(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Du(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Du(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){gs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new tn(Da(this.value))}}function $w(t){const e=[];return gs(t.fields,(n,r)=>{const i=new St([n]);if(Du(r)){const s=$w(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new jt(e,0,ue.min(),ue.min(),ue.min(),tn.empty(),0)}static newFoundDocument(e,n,r,i){return new jt(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new jt(e,2,n,ue.min(),ue.min(),tn.empty(),0)}static newUnknownDocument(e,n){return new jt(e,3,n,ue.min(),ue.min(),tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n){this.position=e,this.inclusive=n}}function Sy(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=po(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Cy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!tr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n="asc"){this.field=e,this.dir=n}}function Nb(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{}class dt extends Hw{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Lb(e,n,r):n==="array-contains"?new Vb(e,r):n==="in"?new jb(e,r):n==="not-in"?new Fb(e,r):n==="array-contains-any"?new Ub(e,r):new dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ob(e,r):new Mb(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(po(n,this.value)):n!==null&&us(this.value)===us(n)&&this.matchesComparison(po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends Hw{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Fn(e,n)}matches(e){return Ww(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ww(t){return t.op==="and"}function qw(t){return Db(t)&&Ww(t)}function Db(t){for(const e of t.filters)if(e instanceof Fn)return!1;return!0}function kf(t){if(t instanceof dt)return t.field.canonicalString()+t.op.toString()+mo(t.value);if(qw(t))return t.filters.map(e=>kf(e)).join(",");{const e=t.filters.map(n=>kf(n)).join(",");return`${t.op}(${e})`}}function Gw(t,e){return t instanceof dt?function(r,i){return i instanceof dt&&r.op===i.op&&r.field.isEqual(i.field)&&tr(r.value,i.value)}(t,e):t instanceof Fn?function(r,i){return i instanceof Fn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&Gw(o,i.filters[l]),!0):!1}(t,e):void le()}function Kw(t){return t instanceof dt?function(n){return`${n.field.canonicalString()} ${n.op} ${mo(n.value)}`}(t):t instanceof Fn?function(n){return n.op.toString()+" {"+n.getFilters().map(Kw).join(" ,")+"}"}(t):"Filter"}class Lb extends dt{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ob extends dt{constructor(e,n){super(e,"in",n),this.keys=Qw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Mb extends dt{constructor(e,n){super(e,"not-in",n),this.keys=Qw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Qw(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class Vb extends dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return em(n)&&ll(n.arrayValue,this.value)}}class jb extends dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ll(this.value.arrayValue,n)}}class Fb extends dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ll(this.value.arrayValue,n)}}class Ub extends dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!em(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ll(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function ky(t,e=null,n=[],r=[],i=null,s=null,o=null){return new zb(t,e,n,r,i,s,o)}function tm(t){const e=ce(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>kf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),th(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>mo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>mo(r)).join(",")),e.ue=n}return e.ue}function nm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Nb(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Gw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Cy(t.startAt,e.startAt)&&Cy(t.endAt,e.endAt)}function bf(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Bb(t,e,n,r,i,s,o,l){return new Co(t,e,n,r,i,s,o,l)}function nh(t){return new Co(t)}function by(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Yw(t){return t.collectionGroup!==null}function La(t){const e=ce(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new kt(St.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ul(s,r))}),n.has(St.keyField().canonicalString())||e.ce.push(new ul(St.keyField(),r))}return e.ce}function Yn(t){const e=ce(t);return e.le||(e.le=$b(e,La(t))),e.le}function $b(t,e){if(t.limitType==="F")return ky(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ul(i.field,s)});const n=t.endAt?new _c(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _c(t.startAt.position,t.startAt.inclusive):null;return ky(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Af(t,e){const n=t.filters.concat([e]);return new Co(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Rf(t,e,n){return new Co(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rh(t,e){return nm(Yn(t),Yn(e))&&t.limitType===e.limitType}function Xw(t){return`${tm(Yn(t))}|lt:${t.limitType}`}function As(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Kw(i)).join(", ")}]`),th(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>mo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>mo(i)).join(",")),`Target(${r})`}(Yn(t))}; limitType=${t.limitType})`}function ih(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):se.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of La(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const c=Sy(o,l,u);return o.inclusive?c<=0:c<0}(r.startAt,La(r),i)||r.endAt&&!function(o,l,u){const c=Sy(o,l,u);return o.inclusive?c>=0:c>0}(r.endAt,La(r),i))}(t,e)}function Hb(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Jw(t){return(e,n)=>{let r=!1;for(const i of La(t)){const s=Wb(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Wb(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),c=l.data.field(s);return u!==null&&c!==null?po(u,c):le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return zw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=new et(se.comparator);function Rr(){return qb}const Zw=new et(se.comparator);function Ea(...t){let e=Zw;for(const n of t)e=e.insert(n.key,n);return e}function eE(t){let e=Zw;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gi(){return Oa()}function tE(){return Oa()}function Oa(){return new ko(t=>t.toString(),(t,e)=>t.isEqual(e))}const Gb=new et(se.comparator),Kb=new kt(se.comparator);function we(...t){let e=Kb;for(const n of t)e=e.add(n);return e}const Qb=new kt(be);function Yb(){return Qb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yc(e)?"-0":e}}function nE(t){return{integerValue:""+t}}function Xb(t,e){return kb(e)?nE(e):rm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(){this._=void 0}}function Jb(t,e,n){return t instanceof wc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Jp(s)&&(s=Zp(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof go?iE(t,e):t instanceof cl?sE(t,e):function(i,s){const o=rE(i,s),l=Ay(o)+Ay(i.Pe);return Cf(o)&&Cf(i.Pe)?nE(l):rm(i.serializer,l)}(t,e)}function Zb(t,e,n){return t instanceof go?iE(t,e):t instanceof cl?sE(t,e):n}function rE(t,e){return t instanceof Ec?function(r){return Cf(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class wc extends sh{}class go extends sh{constructor(e){super(),this.elements=e}}function iE(t,e){const n=oE(e);for(const r of t.elements)n.some(i=>tr(i,r))||n.push(r);return{arrayValue:{values:n}}}class cl extends sh{constructor(e){super(),this.elements=e}}function sE(t,e){let n=oE(e);for(const r of t.elements)n=n.filter(i=>!tr(i,r));return{arrayValue:{values:n}}}class Ec extends sh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Ay(t){return it(t.integerValue||t.doubleValue)}function oE(t){return em(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,n){this.field=e,this.transform=n}}function tA(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof go&&i instanceof go||r instanceof cl&&i instanceof cl?fo(r.elements,i.elements,tr):r instanceof Ec&&i instanceof Ec?tr(r.Pe,i.Pe):r instanceof wc&&i instanceof wc}(t.transform,e.transform)}class nA{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class oh{}function aE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new uE(t.key,Xn.none()):new xl(t.key,t.data,Xn.none());{const n=t.data,r=tn.empty();let i=new kt(St.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ai(t.key,r,new hn(i.toArray()),Xn.none())}}function rA(t,e,n){t instanceof xl?function(i,s,o){const l=i.value.clone(),u=Py(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Ai?function(i,s,o){if(!Lu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=Py(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(lE(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ma(t,e,n,r){return t instanceof xl?function(s,o,l,u){if(!Lu(s.precondition,o))return l;const c=s.value.clone(),d=Ny(s.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ai?function(s,o,l,u){if(!Lu(s.precondition,o))return l;const c=Ny(s.fieldTransforms,u,o),d=o.data;return d.setAll(lE(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,o,l){return Lu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function iA(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=rE(r.transform,i||null);s!=null&&(n===null&&(n=tn.empty()),n.set(r.field,s))}return n||null}function Ry(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&fo(r,i,(s,o)=>tA(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xl extends oh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ai extends oh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function lE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Py(t,e,n){const r=new Map;De(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,Zb(o,l,n[i]))}return r}function Ny(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Jb(s,o,e))}return r}class uE extends oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sA extends oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&rA(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ma(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ma(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tE();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=aE(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&fo(this.mutations,e.mutations,(n,r)=>Ry(n,r))&&fo(this.baseMutations,e.baseMutations,(n,r)=>Ry(n,r))}}class im{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){De(e.mutations.length===r.length);let i=function(){return Gb}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new im(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,Ie;function uA(t){switch(t){default:return le();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function cE(t){if(t===void 0)return Ar("GRPC error has no .code"),z.UNKNOWN;switch(t){case ut.OK:return z.OK;case ut.CANCELLED:return z.CANCELLED;case ut.UNKNOWN:return z.UNKNOWN;case ut.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case ut.INTERNAL:return z.INTERNAL;case ut.UNAVAILABLE:return z.UNAVAILABLE;case ut.UNAUTHENTICATED:return z.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case ut.NOT_FOUND:return z.NOT_FOUND;case ut.ALREADY_EXISTS:return z.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return z.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case ut.ABORTED:return z.ABORTED;case ut.OUT_OF_RANGE:return z.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return z.UNIMPLEMENTED;case ut.DATA_LOSS:return z.DATA_LOSS;default:return le()}}(Ie=ut||(ut={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=new Ji([4294967295,4294967295],0);function Dy(t){const e=cA().encode(t),n=new Dw;return n.update(e),new Uint8Array(n.digest())}function Ly(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ji([n,r],0),new Ji([i,s],0)]}class sm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xa(`Invalid padding: ${n}`);if(r<0)throw new xa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new xa(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ji.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ji.fromNumber(r)));return i.compare(hA)===1&&(i=new Ji([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Dy(e),[r,i]=Ly(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new sm(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=Dy(e),[r,i]=Ly(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class xa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Tl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ah(ue.min(),i,new et(be),Rr(),we())}}class Tl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Tl(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class hE{constructor(e,n){this.targetId=e,this.me=n}}class dE{constructor(e,n,r=At.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Oy{constructor(){this.fe=0,this.ge=Vy(),this.pe=At.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=we(),n=we(),r=we();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:le()}}),new Tl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Vy()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,De(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class dA{constructor(e){this.Le=e,this.Be=new Map,this.ke=Rr(),this.qe=My(),this.Qe=new et(be)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(bf(s))if(r===0){const o=new se(s.path);this.Ue(n,o,jt.newNoDocument(o,ue.min()))}else De(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),u=l?this.Xe(l,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=ls(r).toUint8Array()}catch(u){if(u instanceof Bw)return ho("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new sm(o,i,s)}catch(u){return ho(u instanceof xa?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&bf(l.target)){const u=new se(l.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,jt.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=we();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new ah(e,n,this.Qe,this.ke,r);return this.ke=Rr(),this.qe=My(),this.Qe=new et(be),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Oy,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new kt(be),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Oy),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function My(){return new et(se.comparator)}function Vy(){return new et(se.comparator)}const fA={asc:"ASCENDING",desc:"DESCENDING"},pA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mA={and:"AND",or:"OR"};class gA{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pf(t,e){return t.useProto3Json||th(e)?e:{value:e}}function xc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vA(t,e){return xc(t,e.toTimestamp())}function Jn(t){return De(!!t),ue.fromTimestamp(function(n){const r=xi(n);return new _e(r.seconds,r.nanos)}(t))}function om(t,e){return Nf(t,e).canonicalString()}function Nf(t,e){const n=function(i){return new He(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function pE(t){const e=He.fromString(t);return De(_E(e)),e}function Df(t,e){return om(t.databaseId,e.path)}function fd(t,e){const n=pE(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(gE(n))}function mE(t,e){return om(t.databaseId,e)}function yA(t){const e=pE(t);return e.length===4?He.emptyPath():gE(e)}function Lf(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gE(t){return De(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function jy(t,e,n){return{name:Df(t,e),fields:n.value.mapValue.fields}}function _A(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(De(d===void 0||typeof d=="string"),At.fromBase64String(d||"")):(De(d===void 0||d instanceof Buffer||d instanceof Uint8Array),At.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(c){const d=c.code===void 0?z.UNKNOWN:cE(c.code);return new Q(d,c.message||"")}(o);n=new dE(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=fd(t,r.document.name),s=Jn(r.document.updateTime),o=r.document.createTime?Jn(r.document.createTime):ue.min(),l=new tn({mapValue:{fields:r.document.fields}}),u=jt.newFoundDocument(i,s,o,l),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Ou(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=fd(t,r.document),s=r.readTime?Jn(r.readTime):ue.min(),o=jt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Ou([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=fd(t,r.document),s=r.removedTargetIds||[];n=new Ou([],s,i,null)}else{if(!("filter"in e))return le();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new lA(i,s),l=r.targetId;n=new hE(l,o)}}return n}function wA(t,e){let n;if(e instanceof xl)n={update:jy(t,e.key,e.value)};else if(e instanceof uE)n={delete:Df(t,e.key)};else if(e instanceof Ai)n={update:jy(t,e.key,e.data),updateMask:AA(e.fieldMask)};else{if(!(e instanceof sA))return le();n={verify:Df(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof wc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof go)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof cl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ec)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw le()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:vA(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:le()}(t,e.precondition)),n}function EA(t,e){return t&&t.length>0?(De(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Jn(i.updateTime):Jn(s);return o.isEqual(ue.min())&&(o=Jn(s)),new nA(o,i.transformResults||[])}(n,e))):[]}function xA(t,e){return{documents:[mE(t,e.path)]}}function TA(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mE(t,i);const s=function(c){if(c.length!==0)return yE(Fn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(g){return{field:Rs(g.field),direction:CA(g.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Pf(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function IA(t){let e=yA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){De(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(m){const g=vE(m);return g instanceof Fn&&qw(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(g=>function(k){return new ul(Ps(k.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(m){let g;return g=typeof m=="object"?m.value:m,th(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(m){const g=!!m.before,w=m.values||[];return new _c(w,g)}(n.startAt));let c=null;return n.endAt&&(c=function(m){const g=!m.before,w=m.values||[];return new _c(w,g)}(n.endAt)),Bb(e,i,o,s,l,"F",u,c)}function SA(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ps(n.unaryFilter.field);return dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ps(n.unaryFilter.field);return dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ps(n.unaryFilter.field);return dt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ps(n.unaryFilter.field);return dt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(t):t.fieldFilter!==void 0?function(n){return dt.create(Ps(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fn.create(n.compositeFilter.filters.map(r=>vE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le()}}(n.compositeFilter.op))}(t):le()}function CA(t){return fA[t]}function kA(t){return pA[t]}function bA(t){return mA[t]}function Rs(t){return{fieldPath:t.canonicalString()}}function Ps(t){return St.fromServerFormat(t.fieldPath)}function yE(t){return t instanceof dt?function(n){if(n.op==="=="){if(Iy(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NAN"}};if(Ty(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Iy(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NOT_NAN"}};if(Ty(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rs(n.field),op:kA(n.op),value:n.value}}}(t):t instanceof Fn?function(n){const r=n.getFilters().map(i=>yE(i));return r.length===1?r[0]:{compositeFilter:{op:bA(n.op),filters:r}}}(t):le()}function AA(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _E(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n,r,i,s=ue.min(),o=ue.min(),l=At.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this.ct=e}}function PA(t){const e=IA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(){this.un=new DA}addToCollectionParentIndex(e,n){return this.un.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Ei.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Ei.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class DA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kt(He.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kt(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new vo(0)}static kn(){return new vo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(){this.changes=new ko(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ma(r.mutation,i,hn.empty(),_e.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const i=Gi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ea();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Gi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Rr();const o=Oa(),l=function(){return Oa()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Ai)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Ma(d.mutation,c,d.mutation.getFieldMask(),_e.now())):o.set(c.key,hn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var m;return l.set(c,new OA(d,(m=o.get(c))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Oa();let i=new et((o,l)=>o-l),s=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||hn.empty();d=l.applyToLocalView(c,d),r.set(u,d);const m=(i.get(l.batchId)||we()).add(u);i=i.insert(l.batchId,m)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,d=u.value,m=tE();d.forEach(g=>{if(!s.has(g)){const w=aE(n.get(g),r.get(g));w!==null&&m.set(g,w),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,m))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Yw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):H.resolve(Gi());let l=-1,u=s;return o.next(c=>H.forEach(c,(d,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(d)?H.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{u=u.insert(d,g)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,we())).next(d=>({batchId:l,changes:eE(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let i=Ea();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ea();return this.indexManager.getCollectionParents(e,s).next(l=>H.forEach(l,u=>{const c=function(m,g){return new Co(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((m,g)=>{o=o.insert(m,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,jt.newInvalidDocument(d)))});let l=Ea();return o.forEach((u,c)=>{const d=s.get(u);d!==void 0&&Ma(d.mutation,c,hn.empty(),_e.now()),ih(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return H.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Jn(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:PA(i.bundledQuery),readTime:Jn(i.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(){this.overlays=new et(se.comparator),this.Ir=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gi();return H.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=Gi(),s=n.length+1,o=new se(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new et((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Gi(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const l=Gi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>l.set(c,d)),!(l.size()>=i)););return H.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new aA(n,r));let s=this.Ir.get(n);s===void 0&&(s=we(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(){this.sessionToken=At.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(){this.Tr=new kt(vt.Er),this.dr=new kt(vt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new vt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new vt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new se(new He([])),r=new vt(n,e),i=new vt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new se(new He([])),r=new vt(n,e),i=new vt(n,e+1);let s=we();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new vt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class vt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return se.comparator(e.key,n.key)||be(e.wr,n.wr)}static Ar(e,n){return be(e.wr,n.wr)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new kt(vt.Er)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new oA(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.br=this.br.add(new vt(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new vt(n,0),i=new vt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const l=this.Dr(o.wr);s.push(l)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(be);return n.forEach(i=>{const s=new vt(i,0),o=new vt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],l=>{r=r.add(l.wr)})}),H.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;se.isDocumentKey(s)||(s=s.child(""));const o=new vt(new se(s),0);let l=new kt(be);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.wr)),!0)},o),H.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){De(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return H.forEach(n.mutations,i=>{const s=new vt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new vt(n,0),i=this.br.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e){this.Mr=e,this.docs=function(){return new et(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():jt.newInvalidDocument(n))}getEntries(e,n){let r=Rr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():jt.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Rr();const o=n.path,l=new se(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Tb(xb(d),r)<=0||(i.has(d.key)||ih(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return H.resolve(s)}getAllFromCollectionGroup(e,n,r,i){le()}Or(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new BA(this)}getSize(e){return H.resolve(this.size)}}class BA extends LA{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e){this.persistence=e,this.Nr=new ko(n=>tm(n),nm),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Lr=0,this.Br=new am,this.targetCount=0,this.kr=vo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),H.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new vo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Kn(n),H.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),H.waitFor(s).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Xp(0),this.Kr=!1,this.Kr=!0,this.$r=new FA,this.referenceDelegate=e(this),this.Ur=new $A(this),this.indexManager=new NA,this.remoteDocumentCache=function(i){return new zA(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new RA(n),this.Gr=new VA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new jA,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new UA(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const i=new WA(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return H.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class WA extends Sb{constructor(e){super(),this.currentSequenceNumber=e}}class lm{constructor(e){this.persistence=e,this.Jr=new am,this.Yr=null}static Zr(e){return new lm(e)}get Xr(){if(this.Yr)return this.Yr;throw le()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),H.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Xr,r=>{const i=se.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ue.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return H.or([()=>H.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=we(),i=we();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new um(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return QC()?8:Cb(Bt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new qA;return this.Xi(e,n,o).next(l=>{if(s.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ua()<=Ee.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",As(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),H.resolve()):(ua()<=Ee.DEBUG&&te("QueryEngine","Query:",As(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ua()<=Ee.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",As(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yn(n))):H.resolve())}Yi(e,n){if(by(n))return H.resolve(null);let r=Yn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Rf(n,null,"F"),r=Yn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=we(...s);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,l);return this.ns(n,c,o,u.readTime)?this.Yi(e,Rf(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return by(n)||i.isEqual(ue.min())?H.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?H.resolve(null):(ua()<=Ee.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),As(n)),this.rs(e,o,n,Eb(i,-1)).next(l=>l))})}ts(e,n){let r=new kt(Jw(e));return n.forEach((i,s)=>{ih(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return ua()<=Ee.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",As(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ei.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new et(be),this._s=new ko(s=>tm(s),nm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MA(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function QA(t,e,n,r){return new KA(t,e,n,r)}async function wE(t,e){const n=ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=we();for(const c of i){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of s){l.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:l}))})})}function YA(t,e){const n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,d){const m=c.batch,g=m.keys();let w=H.resolve();return g.forEach(k=>{w=w.next(()=>d.getEntry(u,k)).next(b=>{const L=c.docVersions.get(k);De(L!==null),b.version.compareTo(L)<0&&(m.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),d.addEntry(b)))})}),w.next(()=>l.mutationQueue.removeMutationBatch(u,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=we();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function EE(t){const e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function XA(t,e){const n=ce(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((d,m)=>{const g=i.get(m);if(!g)return;l.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,m)));let w=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?w=w.withResumeToken(At.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):d.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(d.resumeToken,r)),i=i.insert(m,w),function(b,L,T){return b.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(g,w,d)&&l.push(n.Ur.updateTargetData(s,w))});let u=Rr(),c=we();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(JA(s,o,e.documentUpdates).next(d=>{u=d.Ps,c=d.Is})),!r.isEqual(ue.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(m=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(d)}return H.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.os=i,s))}function JA(t,e,n){let r=we(),i=we();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Rr();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(ue.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):te("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function ZA(t,e){const n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function eR(t,e){const n=ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,H.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new ii(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Of(t,e,n){const r=ce(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!El(o))throw o;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Fy(t,e,n){const r=ce(t);let i=ue.min(),s=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const m=ce(u),g=m._s.get(d);return g!==void 0?H.resolve(m.os.get(g)):m.Ur.getTargetData(c,d)}(r,o,Yn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ue.min(),n?s:we())).next(l=>(tR(r,Hb(e),l),{documents:l,Ts:s})))}function tR(t,e,n){let r=t.us.get(e)||ue.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class Uy{constructor(){this.activeTargetIds=Yb()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nR{constructor(){this.so=new Uy,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Uy,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gu=null;function pd(){return gu===null?gu=function(){return 268435456+Math.round(2147483648*Math.random())}():gu++,"0x"+gu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt="WebChannelConnection";class oR extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const l=pd(),u=this.xo(n,r.toUriEncodedString());te("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,u,c,i).then(d=>(te("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw ho("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",u,"request:",i),d})}Lo(n,r,i,s,o,l){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+So}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=iR[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=pd();return new Promise((o,l)=>{const u=new Lw;u.setWithCredentials(!0),u.listenOnce(Ow.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Nu.NO_ERROR:const d=u.getResponseJson();te(Lt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Nu.TIMEOUT:te(Lt,`RPC '${e}' ${s} timed out`),l(new Q(z.DEADLINE_EXCEEDED,"Request time out"));break;case Nu.HTTP_ERROR:const m=u.getStatus();if(te(Lt,`RPC '${e}' ${s} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const w=g==null?void 0:g.error;if(w&&w.status&&w.message){const k=function(L){const T=L.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(T)>=0?T:z.UNKNOWN}(w.status);l(new Q(k,w.message))}else l(new Q(z.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Q(z.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{te(Lt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);te(Lt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=pd(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=jw(),l=Vw(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");te(Lt,`Creating RPC '${e}' stream ${i}: ${d}`,u);const m=o.createWebChannel(d,u);let g=!1,w=!1;const k=new sR({Io:L=>{w?te(Lt,`Not sending because RPC '${e}' stream ${i} is closed:`,L):(g||(te(Lt,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),te(Lt,`RPC '${e}' stream ${i} sending:`,L),m.send(L))},To:()=>m.close()}),b=(L,T,y)=>{L.listen(T,S=>{try{y(S)}catch(M){setTimeout(()=>{throw M},0)}})};return b(m,wa.EventType.OPEN,()=>{w||(te(Lt,`RPC '${e}' stream ${i} transport opened.`),k.yo())}),b(m,wa.EventType.CLOSE,()=>{w||(w=!0,te(Lt,`RPC '${e}' stream ${i} transport closed`),k.So())}),b(m,wa.EventType.ERROR,L=>{w||(w=!0,ho(Lt,`RPC '${e}' stream ${i} transport errored:`,L),k.So(new Q(z.UNAVAILABLE,"The operation could not be completed")))}),b(m,wa.EventType.MESSAGE,L=>{var T;if(!w){const y=L.data[0];De(!!y);const S=y,M=S.error||((T=S[0])===null||T===void 0?void 0:T.error);if(M){te(Lt,`RPC '${e}' stream ${i} received error:`,M);const U=M.status;let P=function(E){const x=ut[E];if(x!==void 0)return cE(x)}(U),I=M.message;P===void 0&&(P=z.INTERNAL,I="Unknown error status: "+U+" with message "+M.message),w=!0,k.So(new Q(P,I)),m.close()}else te(Lt,`RPC '${e}' stream ${i} received:`,y),k.bo(y)}}),b(l,Mw.STAT_EVENT,L=>{L.stat===If.PROXY?te(Lt,`RPC '${e}' stream ${i} detected buffering proxy`):L.stat===If.NOPROXY&&te(Lt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.wo()},0),k}}function md(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(t){return new gA(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n,r,i,s,o,l,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new xE(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Ar(n.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Q(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aR extends TE{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=_A(this.serializer,e),r=function(s){if(!("targetChange"in s))return ue.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?Jn(o.readTime):ue.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Lf(this.serializer),n.addTarget=function(s,o){let l;const u=o.target;if(l=bf(u)?{documents:xA(s,u)}:{query:TA(s,u)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=fE(s,o.resumeToken);const c=Pf(s,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(ue.min())>0){l.readTime=xc(s,o.snapshotVersion.toTimestamp());const c=Pf(s,o.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=SA(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Lf(this.serializer),n.removeTarget=e,this.a_(n)}}class lR extends TE{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return De(!!e.streamToken),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=EA(e.writeResults,e.commitTime),r=Jn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Lf(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>wA(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Q(z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Nf(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(z.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,Nf(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(z.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class cR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ar(n),this.D_=!1):te("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{vs(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=ce(u);c.L_.add(4),await Il(c),c.q_.set("Unknown"),c.L_.delete(4),await uh(c)}(this))})}),this.q_=new cR(r,i)}}async function uh(t){if(vs(t))for(const e of t.B_)await e(!0)}async function Il(t){for(const e of t.B_)await e(!1)}function IE(t,e){const n=ce(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),fm(n)?dm(n):bo(n).r_()&&hm(n,e))}function cm(t,e){const n=ce(t),r=bo(n);n.N_.delete(e),r.r_()&&SE(n,e),n.N_.size===0&&(r.r_()?r.o_():vs(n)&&n.q_.set("Unknown"))}function hm(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bo(t).A_(e)}function SE(t,e){t.Q_.xe(e),bo(t).R_(e)}function dm(t){t.Q_=new dA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),bo(t).start(),t.q_.v_()}function fm(t){return vs(t)&&!bo(t).n_()&&t.N_.size>0}function vs(t){return ce(t).L_.size===0}function CE(t){t.Q_=void 0}async function dR(t){t.q_.set("Online")}async function fR(t){t.N_.forEach((e,n)=>{hm(t,e)})}async function pR(t,e){CE(t),fm(t)?(t.q_.M_(e),dm(t)):t.q_.set("Unknown")}async function mR(t,e,n){if(t.q_.set("Online"),e instanceof dE&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Tc(t,r)}else if(e instanceof Ou?t.Q_.Ke(e):e instanceof hE?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ue.min()))try{const r=await EE(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.Q_.rt(o);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.N_.get(c);d&&s.N_.set(c,d.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,c)=>{const d=s.N_.get(u);if(!d)return;s.N_.set(u,d.withResumeToken(At.EMPTY_BYTE_STRING,d.snapshotVersion)),SE(s,u);const m=new ii(d.target,u,c,d.sequenceNumber);hm(s,m)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){te("RemoteStore","Failed to raise snapshot:",r),await Tc(t,r)}}async function Tc(t,e,n){if(!El(e))throw e;t.L_.add(1),await Il(t),t.q_.set("Offline"),n||(n=()=>EE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await uh(t)})}function kE(t,e){return e().catch(n=>Tc(t,n,e))}async function ch(t){const e=ce(t),n=Ti(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;gR(e);)try{const i=await ZA(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,vR(e,i)}catch(i){await Tc(e,i)}bE(e)&&AE(e)}function gR(t){return vs(t)&&t.O_.length<10}function vR(t,e){t.O_.push(e);const n=Ti(t);n.r_()&&n.V_&&n.m_(e.mutations)}function bE(t){return vs(t)&&!Ti(t).n_()&&t.O_.length>0}function AE(t){Ti(t).start()}async function yR(t){Ti(t).p_()}async function _R(t){const e=Ti(t);for(const n of t.O_)e.m_(n.mutations)}async function wR(t,e,n){const r=t.O_.shift(),i=im.from(r,e,n);await kE(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ch(t)}async function ER(t,e){e&&Ti(t).V_&&await async function(r,i){if(function(o){return uA(o)&&o!==z.ABORTED}(i.code)){const s=r.O_.shift();Ti(r).s_(),await kE(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ch(r)}}(t,e),bE(t)&&AE(t)}async function By(t,e){const n=ce(t);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const r=vs(n);n.L_.add(3),await Il(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await uh(n)}async function xR(t,e){const n=ce(t);e?(n.L_.delete(2),await uh(n)):e||(n.L_.add(2),await Il(n),n.q_.set("Unknown"))}function bo(t){return t.K_||(t.K_=function(n,r,i){const s=ce(n);return s.w_(),new aR(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:dR.bind(null,t),Ro:fR.bind(null,t),mo:pR.bind(null,t),d_:mR.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),fm(t)?dm(t):t.q_.set("Unknown")):(await t.K_.stop(),CE(t))})),t.K_}function Ti(t){return t.U_||(t.U_=function(n,r,i){const s=ce(n);return s.w_(),new lR(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:yR.bind(null,t),mo:ER.bind(null,t),f_:_R.bind(null,t),g_:wR.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await ch(t)):(await t.U_.stop(),t.O_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new pm(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mm(t,e){if(Ar("AsyncQueue",`${e}: ${t}`),El(t))return new Q(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=Ea(),this.sortedSet=new et(this.comparator)}static emptySet(e){return new Xs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Xs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(){this.W_=new et(se.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):le():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class yo{constructor(e,n,r,i,s,o,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new yo(e,n,Xs.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class IR{constructor(){this.queries=Hy(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ce(n),s=i.queries;i.queries=Hy(),s.forEach((o,l)=>{for(const u of l.j_)u.onError(r)})})(this,new Q(z.ABORTED,"Firestore shutting down"))}}function Hy(){return new ko(t=>Xw(t),rh)}async function gm(t,e){const n=ce(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new TR,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=mm(o,`Initialization of query '${As(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&ym(n)}async function vm(t,e){const n=ce(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function SR(t,e){const n=ce(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.j_)l.X_(i)&&(r=!0);o.z_=i}}r&&ym(n)}function CR(t,e,n){const r=ce(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function ym(t){t.Y_.forEach(e=>{e.next()})}var Mf,Wy;(Wy=Mf||(Mf={})).ea="default",Wy.Cache="cache";class _m{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new yo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Mf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e){this.key=e}}class PE{constructor(e){this.key=e}}class kR{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=we(),this.mutatedKeys=we(),this.Aa=Jw(e),this.Ra=new Xs(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new $y,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,m)=>{const g=i.get(d),w=ih(this.query,m)?m:null,k=!!g&&this.mutatedKeys.has(g.key),b=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let L=!1;g&&w?g.data.isEqual(w.data)?k!==b&&(r.track({type:3,doc:w}),L=!0):this.ga(g,w)||(r.track({type:2,doc:w}),L=!0,(u&&this.Aa(w,u)>0||c&&this.Aa(w,c)<0)&&(l=!0)):!g&&w?(r.track({type:0,doc:w}),L=!0):g&&!w&&(r.track({type:1,doc:g}),L=!0,(u||c)&&(l=!0)),L&&(w?(o=o.add(w),s=b?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:l,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,m)=>function(w,k){const b=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return b(w)-b(k)}(d.type,m.type)||this.Aa(d.doc,m.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,o.length!==0||c?{snapshot:new yo(this.query,e.Ra,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new $y,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=we(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new PE(r))}),this.da.forEach(r=>{e.has(r)||n.push(new RE(r))}),n}ba(e){this.Ta=e.Ts,this.da=we();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return yo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class bR{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class AR{constructor(e){this.key=e,this.va=!1}}class RR{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ko(l=>Xw(l),rh),this.Ma=new Map,this.xa=new Set,this.Oa=new et(se.comparator),this.Na=new Map,this.La=new am,this.Ba={},this.ka=new Map,this.qa=vo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function PR(t,e,n=!0){const r=VE(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await NE(r,e,n,!0),i}async function NR(t,e){const n=VE(t);await NE(n,e,!0,!1)}async function NE(t,e,n,r){const i=await eR(t.localStore,Yn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await DR(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&IE(t.remoteStore,i),l}async function DR(t,e,n,r,i){t.Ka=(m,g,w)=>async function(b,L,T,y){let S=L.view.ma(T);S.ns&&(S=await Fy(b.localStore,L.query,!1).then(({documents:I})=>L.view.ma(I,S)));const M=y&&y.targetChanges.get(L.targetId),U=y&&y.targetMismatches.get(L.targetId)!=null,P=L.view.applyChanges(S,b.isPrimaryClient,M,U);return Gy(b,L.targetId,P.wa),P.snapshot}(t,m,g,w);const s=await Fy(t.localStore,e,!0),o=new kR(e,s.Ts),l=o.ma(s.documents),u=Tl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(l,t.isPrimaryClient,u);Gy(t,n,c.wa);const d=new bR(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function LR(t,e,n){const r=ce(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!rh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Of(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&cm(r.remoteStore,i.targetId),Vf(r,i.targetId)}).catch(wl)):(Vf(r,i.targetId),await Of(r.localStore,i.targetId,!0))}async function OR(t,e){const n=ce(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),cm(n.remoteStore,r.targetId))}async function MR(t,e,n){const r=$R(t);try{const i=await function(o,l){const u=ce(o),c=_e.now(),d=l.reduce((w,k)=>w.add(k.key),we());let m,g;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let k=Rr(),b=we();return u.cs.getEntries(w,d).next(L=>{k=L,k.forEach((T,y)=>{y.isValidDocument()||(b=b.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,k)).next(L=>{m=L;const T=[];for(const y of l){const S=iA(y,m.get(y.key).overlayedDocument);S!=null&&T.push(new Ai(y.key,S,$w(S.value.mapValue),Xn.exists(!0)))}return u.mutationQueue.addMutationBatch(w,c,T,l)}).next(L=>{g=L;const T=L.applyToLocalDocumentSet(m,b);return u.documentOverlayCache.saveOverlays(w,L.batchId,T)})}).then(()=>({batchId:g.batchId,changes:eE(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let c=o.Ba[o.currentUser.toKey()];c||(c=new et(be)),c=c.insert(l,u),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await Sl(r,i.changes),await ch(r.remoteStore)}catch(i){const s=mm(i,"Failed to persist write");n.reject(s)}}async function DE(t,e){const n=ce(t);try{const r=await XA(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?De(o.va):i.removedDocuments.size>0&&(De(o.va),o.va=!1))}),await Sl(n,r,e)}catch(r){await wl(r)}}function qy(t,e,n){const r=ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const l=o.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=ce(o);u.onlineState=l;let c=!1;u.queries.forEach((d,m)=>{for(const g of m.j_)g.Z_(l)&&(c=!0)}),c&&ym(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VR(t,e,n){const r=ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new et(se.comparator);o=o.insert(s,jt.newNoDocument(s,ue.min()));const l=we().add(s),u=new ah(ue.min(),new Map,new et(be),o,l);await DE(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),wm(r)}else await Of(r.localStore,e,!1).then(()=>Vf(r,e,n)).catch(wl)}async function jR(t,e){const n=ce(t),r=e.batch.batchId;try{const i=await YA(n.localStore,e);OE(n,r,null),LE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Sl(n,i)}catch(i){await wl(i)}}async function FR(t,e,n){const r=ce(t);try{const i=await function(o,l){const u=ce(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,l).next(m=>(De(m!==null),d=m.keys(),u.mutationQueue.removeMutationBatch(c,m))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);OE(r,e,n),LE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Sl(r,i)}catch(i){await wl(i)}}function LE(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function OE(t,e,n){const r=ce(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Vf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||ME(t,r)})}function ME(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(cm(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),wm(t))}function Gy(t,e,n){for(const r of n)r instanceof RE?(t.La.addReference(r.key,e),UR(t,r)):r instanceof PE?(te("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||ME(t,r.key)):le()}function UR(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(te("SyncEngine","New document in limbo: "+n),t.xa.add(r),wm(t))}function wm(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new se(He.fromString(e)),r=t.qa.next();t.Na.set(r,new AR(n)),t.Oa=t.Oa.insert(n,r),IE(t.remoteStore,new ii(Yn(nh(n.path)),r,"TargetPurposeLimboResolution",Xp.oe))}}async function Sl(t,e,n){const r=ce(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{o.push(r.Ka(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const m=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(c){i.push(c);const m=um.Wi(u.targetId,c);s.push(m)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(u,c){const d=ce(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>H.forEach(c,g=>H.forEach(g.$i,w=>d.persistence.referenceDelegate.addReference(m,g.targetId,w)).next(()=>H.forEach(g.Ui,w=>d.persistence.referenceDelegate.removeReference(m,g.targetId,w)))))}catch(m){if(!El(m))throw m;te("LocalStore","Failed to update sequence numbers: "+m)}for(const m of c){const g=m.targetId;if(!m.fromCache){const w=d.os.get(g),k=w.snapshotVersion,b=w.withLastLimboFreeSnapshotVersion(k);d.os=d.os.insert(g,b)}}}(r.localStore,s))}async function zR(t,e){const n=ce(t);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const r=await wE(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(l=>{l.forEach(u=>{u.reject(new Q(z.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Sl(n,r.hs)}}function BR(t,e){const n=ce(t),r=n.Na.get(e);if(r&&r.va)return we().add(r.key);{let i=we();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const l=n.Fa.get(o);i=i.unionWith(l.view.Va)}return i}}function VE(t){const e=ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VR.bind(null,e),e.Ca.d_=SR.bind(null,e.eventManager),e.Ca.$a=CR.bind(null,e.eventManager),e}function $R(t){const e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FR.bind(null,e),e}class Ic{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return QA(this.persistence,new GA,e.initialUser,this.serializer)}Ga(e){return new HA(lm.Zr,this.serializer)}Wa(e){return new nR}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ic.provider={build:()=>new Ic};class jf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>qy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zR.bind(null,this.syncEngine),await xR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new IR}()}createDatastore(e){const n=lh(e.databaseInfo.databaseId),r=function(s){return new oR(s)}(e.databaseInfo);return function(s,o,l,u){return new uR(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new hR(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>qy(this.syncEngine,n,0),function(){return zy.D()?new zy:new rR}())}createSyncEngine(e,n){return function(i,s,o,l,u,c,d){const m=new RR(i,s,o,l,u,c);return d&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ce(i);te("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Il(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}jf.provider={build:()=>new jf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ar("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mt.UNAUTHENTICATED,this.clientId=Uw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{te("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(te("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=mm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function gd(t,e){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await wE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ky(t,e){t.asyncQueue.verifyOperationInProgress();const n=await WR(t);te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>By(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>By(e.remoteStore,i)),t._onlineComponents=e}async function WR(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await gd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ho("Error using user provided cache. Falling back to memory cache: "+n),await gd(t,new Ic)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await gd(t,new Ic);return t._offlineComponents}async function jE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await Ky(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await Ky(t,new jf))),t._onlineComponents}function qR(t){return jE(t).then(e=>e.syncEngine)}async function Sc(t){const e=await jE(t),n=e.eventManager;return n.onListen=PR.bind(null,e.syncEngine),n.onUnlisten=LR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=OR.bind(null,e.syncEngine),n}function GR(t,e,n={}){const r=new Tr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,c){const d=new Em({next:g=>{d.Za(),o.enqueueAndForget(()=>vm(s,m));const w=g.docs.has(l);!w&&g.fromCache?c.reject(new Q(z.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&g.fromCache&&u&&u.source==="server"?c.reject(new Q(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),m=new _m(nh(l.path),d,{includeMetadataChanges:!0,_a:!0});return gm(s,m)}(await Sc(t),t.asyncQueue,e,n,r)),r.promise}function KR(t,e,n={}){const r=new Tr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,c){const d=new Em({next:g=>{d.Za(),o.enqueueAndForget(()=>vm(s,m)),g.fromCache&&u.source==="server"?c.reject(new Q(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),m=new _m(l,d,{includeMetadataChanges:!0,_a:!0});return gm(s,m)}(await Sc(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(t,e,n){if(!n)throw new Q(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QR(t,e,n,r){if(e===!0&&r===!0)throw new Q(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Yy(t){if(!se.isDocumentKey(t))throw new Q(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Xy(t){if(se.isDocumentKey(t))throw new Q(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function Tn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hh(t);throw new Q(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Q(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Q(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Q(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jy(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new db;switch(r.type){case"firstParty":return new gb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Qy.get(n);r&&(te("ComponentProvider","Removing Datastore"),Qy.delete(n),r.terminate())}(this),Promise.resolve()}}function YR(t,e,n,r={}){var i;const s=(t=Tn(t,dh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=Mt.MOCK_USER;else{l=BC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Q(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Mt(c)}t._authCredentials=new fb(new Fw(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ri(this.firestore,e,this._query)}}class Ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}}class vi extends Ri{constructor(e,n,r){super(e,n,nh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new se(e))}withConverter(e){return new vi(this.firestore,e,this._path)}}function xm(t,e,...n){if(t=$t(t),UE("collection","path",e),t instanceof dh){const r=He.fromString(e,...n);return Xy(r),new vi(t,null,r)}{if(!(t instanceof Ft||t instanceof vi))throw new Q(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return Xy(r),new vi(t.firestore,null,r)}}function vr(t,e,...n){if(t=$t(t),arguments.length===1&&(e=Uw.newId()),UE("doc","path",e),t instanceof dh){const r=He.fromString(e,...n);return Yy(r),new Ft(t,null,new se(r))}{if(!(t instanceof Ft||t instanceof vi))throw new Q(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return Yy(r),new Ft(t.firestore,t instanceof vi?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new xE(this,"async_queue_retry"),this.Vu=()=>{const r=md();r&&te("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=md();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=md();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Tr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!El(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Ar("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=pm.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&le()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function e0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class cs extends dh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Zy,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Zy(e),this._firestoreClient=void 0,await e}}}function XR(t,e){const n=typeof t=="object"?t:Rw(),r=typeof t=="string"?t:"(default)",i=Qp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=UC("firestore");s&&YR(i,...s)}return i}function fh(t){if(t._terminated)throw new Q(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||JR(t),t._firestoreClient}function JR(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,c,d){return new Ab(l,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,FE(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new HR(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _o(At.fromBase64String(e))}catch(n){throw new Q(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _o(At.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=/^__.*__$/;class eP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ai(e,this.data,this.fieldMask,n,this.fieldTransforms):new xl(e,this.data,n,this.fieldTransforms)}}class zE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ai(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function BE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class gh{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new gh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Cc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(BE(this.Cu)&&ZR.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class tP{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||lh(e)}Qu(e,n,r,i=!1){return new gh({Cu:e,methodName:n,qu:r,path:St.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sm(t){const e=t._freezeSettings(),n=lh(t._databaseId);return new tP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nP(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);km("Data must be an object, but it was:",o,r);const l=$E(r,o);let u,c;if(s.merge)u=new hn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const m of s.mergeFields){const g=Ff(e,m,n);if(!o.contains(g))throw new Q(z.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);WE(d,g)||d.push(g)}u=new hn(d),c=o.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,c=o.fieldTransforms;return new eP(new tn(l),u,c)}class vh extends mh{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vh}}function rP(t,e,n){return new gh({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Cm extends mh{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=rP(this,e,!0),r=this.Ku.map(s=>Ao(s,n)),i=new go(r);return new eA(e.path,i)}isEqual(e){return e instanceof Cm&&rl(this.Ku,e.Ku)}}function iP(t,e,n,r){const i=t.Qu(1,e,n);km("Data must be an object, but it was:",i,r);const s=[],o=tn.empty();gs(r,(u,c)=>{const d=bm(e,u,n);c=$t(c);const m=i.Nu(d);if(c instanceof vh)s.push(d);else{const g=Ao(c,m);g!=null&&(s.push(d),o.set(d,g))}});const l=new hn(s);return new zE(o,l,i.fieldTransforms)}function sP(t,e,n,r,i,s){const o=t.Qu(1,e,n),l=[Ff(e,r,n)],u=[i];if(s.length%2!=0)throw new Q(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)l.push(Ff(e,s[g])),u.push(s[g+1]);const c=[],d=tn.empty();for(let g=l.length-1;g>=0;--g)if(!WE(c,l[g])){const w=l[g];let k=u[g];k=$t(k);const b=o.Nu(w);if(k instanceof vh)c.push(w);else{const L=Ao(k,b);L!=null&&(c.push(w),d.set(w,L))}}const m=new hn(c);return new zE(d,m,o.fieldTransforms)}function oP(t,e,n,r=!1){return Ao(n,t.Qu(r?4:3,e))}function Ao(t,e){if(HE(t=$t(t)))return km("Unsupported field value:",e,t),$E(t,e);if(t instanceof mh)return function(r,i){if(!BE(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=Ao(l,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=$t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Xb(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=_e.fromDate(r);return{timestampValue:xc(i.serializer,s)}}if(r instanceof _e){const s=new _e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xc(i.serializer,s)}}if(r instanceof Tm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _o)return{bytesValue:fE(i.serializer,r._byteString)};if(r instanceof Ft){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:om(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Im)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Bu("VectorValues must only contain numeric values.");return rm(l.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${hh(r)}`)}(t,e)}function $E(t,e){const n={};return zw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gs(t,(r,i)=>{const s=Ao(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function HE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _e||t instanceof Tm||t instanceof _o||t instanceof Ft||t instanceof mh||t instanceof Im)}function km(t,e,n){if(!HE(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=hh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Ff(t,e,n){if((e=$t(e))instanceof ph)return e._internalPath;if(typeof e=="string")return bm(t,e);throw Cc("Field path arguments must be of type string or ",t,!1,void 0,n)}const aP=new RegExp("[~\\*/\\[\\]]");function bm(t,e,n){if(e.search(aP)>=0)throw Cc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ph(...e.split("."))._internalPath}catch{throw Cc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Cc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new Q(z.INVALID_ARGUMENT,l+t+u)}function WE(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Am("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lP extends qE{data(){return super.data()}}function Am(t,e){return typeof e=="string"?bm(t,e):e instanceof ph?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rm{}class KE extends Rm{}function uP(t,e,...n){let r=[];e instanceof Rm&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof Nm).length,l=s.filter(u=>u instanceof Pm).length;if(o>1||o>0&&l>0)throw new Q(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Pm extends KE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Pm(e,n,r)}_apply(e){const n=this._parse(e);return QE(e._query,n),new Ri(e.firestore,e.converter,Af(e._query,n))}_parse(e){const n=Sm(e.firestore);return function(s,o,l,u,c,d,m){let g;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Q(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){n0(m,d);const w=[];for(const k of m)w.push(t0(u,s,k));g={arrayValue:{values:w}}}else g=t0(u,s,m)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||n0(m,d),g=oP(l,o,m,d==="in"||d==="not-in");return dt.create(c,d,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Nm extends Rm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Nm(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Fn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const u of l)QE(o,u),o=Af(o,u)}(e._query,n),new Ri(e.firestore,e.converter,Af(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Dm extends KE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Dm(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Q(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Q(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ul(s,o)}(e._query,this._field,this._direction);return new Ri(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Co(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function cP(t,e="asc"){const n=e,r=Am("orderBy",t);return Dm._create(r,n)}function t0(t,e,n){if(typeof(n=$t(n))=="string"){if(n==="")throw new Q(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yw(e)&&n.indexOf("/")!==-1)throw new Q(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(He.fromString(n));if(!se.isDocumentKey(r))throw new Q(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xy(t,new se(r))}if(n instanceof Ft)return xy(t,n._key);throw new Q(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hh(n)}.`)}function n0(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function QE(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class hP{convertValue(e,n="none"){switch(us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return gs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>it(o.doubleValue));return new Im(s)}convertGeoPoint(e){return new Tm(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Zp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ol(e));default:return null}}convertTimestamp(e){const n=xi(e);return new _e(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=He.fromString(e);De(_E(r));const i=new al(r.get(1),r.get(3)),s=new se(r.popFirst(5));return i.isEqual(n)||Ar(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class YE extends qE{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Am("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Mu extends YE{data(e={}){return super.data(e)}}class XE{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ta(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Mu(this._firestore,this._userDataWriter,r.key,r,new Ta(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const u=new Mu(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ta(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Mu(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ta(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return l.type!==0&&(c=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:fP(l.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function fP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(t){t=Tn(t,Ft);const e=Tn(t.firestore,cs);return GR(fh(e),t._key).then(n=>nx(e,t,n))}class Lm extends hP{constructor(e){super(),this.firestore=e}convertBytes(e){return new _o(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function r0(t){t=Tn(t,Ri);const e=Tn(t.firestore,cs),n=fh(e),r=new Lm(e);return GE(t._query),KR(n,t._query).then(i=>new XE(e,r,t,i))}function Om(t,e,n){t=Tn(t,Ft);const r=Tn(t.firestore,cs),i=dP(t.converter,e);return tx(r,[nP(Sm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Xn.none())])}function ZE(t,e,n,...r){t=Tn(t,Ft);const i=Tn(t.firestore,cs),s=Sm(i);let o;return o=typeof(e=$t(e))=="string"||e instanceof ph?sP(s,"updateDoc",t._key,e,n,r):iP(s,"updateDoc",t._key,e),tx(i,[o.toMutation(t._key,Xn.exists(!0))])}function ex(t,...e){var n,r,i;t=$t(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||e0(e[o])||(s=e[o],o++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(e0(e[o])){const m=e[o];e[o]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[o+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[o+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let u,c,d;if(t instanceof Ft)c=Tn(t.firestore,cs),d=nh(t._key.path),u={next:m=>{e[o]&&e[o](nx(c,t,m))},error:e[o+1],complete:e[o+2]};else{const m=Tn(t,Ri);c=Tn(m.firestore,cs),d=m._query;const g=new Lm(c);u={next:w=>{e[o]&&e[o](new XE(c,g,m,w))},error:e[o+1],complete:e[o+2]},GE(t._query)}return function(g,w,k,b){const L=new Em(b),T=new _m(w,L,k);return g.asyncQueue.enqueueAndForget(async()=>gm(await Sc(g),T)),()=>{L.Za(),g.asyncQueue.enqueueAndForget(async()=>vm(await Sc(g),T))}}(fh(c),d,l,u)}function tx(t,e){return function(r,i){const s=new Tr;return r.asyncQueue.enqueueAndForget(async()=>MR(await qR(r),i,s)),s.promise}(fh(t),e)}function nx(t,e,n){const r=n.docs.get(e._key),i=new Lm(t);return new YE(t,i,e._key,r,new Ta(n.hasPendingWrites,n.fromCache),e.converter)}function rx(...t){return new Cm("arrayUnion",t)}(function(e,n=!0){(function(i){So=i})(Io),co(new os("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new cs(new pb(r.getProvider("auth-internal")),new yb(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Q(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new al(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),gi(vy,"4.7.3",e),gi(vy,"4.7.3","esm2017")})();const wt=Gt.createContext({});var pP="firebase",mP="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi(pP,mP,"app");const gP={apiKey:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",authDomain:void 0,projectId:"cob-chatbot",storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0},vP=Aw(gP),Mm=XR(vP),si={name:"Vivienne",slogan:"Tanong mo, sagot ko, dahil at home ka dito!",introduction:"The interactive chatbot for the city of Bacoor, Cavite.",about:"Our capstone project that uses Natural Language Processing (NLP) to deliver smooth experience for the users. The bot is temporarily being hosted by the dummy website we created based on the official website of the Bacoor City Hall. We really hope you have enjoyed using our app! "},yP=xm(Mm,"profile"),_P=({children:t})=>{const[e,n]=D.useState({icon:"",widgetIcon:"",name:si.name,slogan:si.slogan}),[r,i]=D.useState([]),[s,o]=D.useState([]),[l,u]=D.useState(!0),[c,d]=D.useState(!1),m=async()=>{try{console.time("Received bot info in"),ex(vr(yP,"botProfile"),w=>{var k,b,L,T,y;n({icon:(k=w.data())==null?void 0:k.interactionIconURL,widgetIcon:(b=w.data())==null?void 0:b.widgetIconUrl,name:(L=w.data())==null?void 0:L.botName,slogan:(T=w.data())==null?void 0:T.metadata.slogan,initialGreet:` Hello there! My name is ${(y=w.data())==null?void 0:y.botName}, your friendly chatbot assistant. Welcome to our conversation! Whether you're here for assistance or information I'm here to help. Feel free to ask me anything or simply say hi.`,errorMessage:"Sorry, I can't seem to understand what your saying. Could you please try it again?"})})}catch(w){console.log(w)}finally{console.timeEnd("Received bot info in")}};D.useEffect(()=>{u(navigator.onLine),m()},[]),window.addEventListener("online",()=>{u(!0)}),window.addEventListener("offline",()=>{u(!1)});const g=D.useMemo(()=>({configuration:{configuration:e,setConfiguration:n},conversation:{conversation:r,setConversation:i},faqs:{faqs:s,setFaqs:o},error:{error:c,setError:d},isOnline:{isOnline:l,setOnline:u}}),[e,r,s,c,l]);return f.jsx(wt.Provider,{value:g,children:t})},ix=Gt.createContext({}),wP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890",EP=30;let Ki="";const xP=()=>{for(let t=0;t<EP;t++)Ki+=wP.charAt(Math.round(Math.random()*62));return localStorage.setItem("uid",Ki),Ki},TP=()=>{console.log("called");const t=localStorage.getItem("uid");return t==null||(t==null?void 0:t.length)<=15?(localStorage.removeItem("uid"),Ki=xP()):t&&(Ki=t||Ki),Ki},IP=({children:t})=>{const e=TP(),n=D.useContext(wt),{conversation:r}=n.conversation,i=D.useMemo(()=>({uid:e,conversation:r}),[e,r]);return f.jsx(ix.Provider,{value:i,children:t})};function Vm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function sx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SP=sx,ox=new yl("auth","Firebase",sx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=new Gp("@firebase/auth");function CP(t,...e){kc.logLevel<=Ee.WARN&&kc.warn(`Auth (${Io}): ${t}`,...e)}function Vu(t,...e){kc.logLevel<=Ee.ERROR&&kc.error(`Auth (${Io}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(t,...e){throw jm(t,...e)}function Zn(t,...e){return jm(t,...e)}function ax(t,e,n){const r=Object.assign(Object.assign({},SP()),{[e]:n});return new yl("auth","Firebase",r).create(e,{appName:t.name})}function yi(t){return ax(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ox.create(t,...e)}function ae(t,e,...n){if(!t)throw jm(e,...n)}function yr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vu(e),new Error(e)}function Nr(t,e){t||yr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function kP(){return i0()==="http:"||i0()==="https:"}function i0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kP()||qC()||"connection"in navigator)?navigator.onLine:!0}function AP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Nr(n>e,"Short delay should be less than long delay!"),this.isMobile=$C()||GC()}get(){return bP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(t,e){Nr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=new Cl(3e4,6e4);function yh(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ro(t,e,n,r,i={}){return ux(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=_l(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},s);return WC()||(c.referrerPolicy="no-referrer"),lx.fetch()(hx(t,t.config.apiHost,n,l),c)})}async function ux(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},RP),e);try{const i=new NP(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw vu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw vu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw vu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw vu(t,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw ax(t,d,c);Pr(t,d)}}catch(i){if(i instanceof Lr)throw i;Pr(t,"network-request-failed",{message:String(i)})}}async function cx(t,e,n,r,i={}){const s=await Ro(t,e,n,r,i);return"mfaPendingCredential"in s&&Pr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function hx(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Fm(t.config,i):`${t.config.apiScheme}://${i}`}class NP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zn(this.auth,"network-request-failed")),PP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Zn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DP(t,e){return Ro(t,"POST","/v1/accounts:delete",e)}async function dx(t,e){return Ro(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LP(t,e=!1){const n=$t(t),r=await n.getIdToken(e),i=Um(r);ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Va(vd(i.auth_time)),issuedAtTime:Va(vd(i.iat)),expirationTime:Va(vd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function vd(t){return Number(t)*1e3}function Um(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Vu("JWT malformed, contained fewer than 3 sections"),null;try{const i=Tw(n);return i?JSON.parse(i):(Vu("Failed to decode base64 JWT payload"),null)}catch(i){return Vu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function s0(t){const e=Um(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Lr&&OP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function OP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Va(this.lastLoginAt),this.creationTime=Va(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await hl(t,dx(n,{idToken:r}));ae(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?fx(s.providerUserInfo):[],l=jP(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),d=u?c:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new zf(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,m)}async function VP(t){const e=$t(t);await bc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jP(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function fx(t){return t.map(e=>{var{providerId:n}=e,r=Vm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FP(t,e){const n=await ux(t,{},async()=>{const r=_l({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=hx(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",lx.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function UP(t,e){return Ro(t,"POST","/v2/accounts:revokeToken",yh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):s0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=s0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await FP(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Js;return r&&(ae(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ae(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ae(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Js,this.toJSON())}_performRefresh(){return yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class _r{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Vm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new MP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new zf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await hl(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return LP(this,e)}reload(){return VP(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _r(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gr(this.auth.app))return Promise.reject(yi(this.auth));const e=await this.getIdToken();return await hl(this,DP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,u,c,d;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,k=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(l=n.tenantId)!==null&&l!==void 0?l:void 0,L=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,T=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:S,emailVerified:M,isAnonymous:U,providerData:P,stsTokenManager:I}=n;ae(S&&I,e,"internal-error");const v=Js.fromJSON(this.name,I);ae(typeof S=="string",e,"internal-error"),$r(m,e.name),$r(g,e.name),ae(typeof M=="boolean",e,"internal-error"),ae(typeof U=="boolean",e,"internal-error"),$r(w,e.name),$r(k,e.name),$r(b,e.name),$r(L,e.name),$r(T,e.name),$r(y,e.name);const E=new _r({uid:S,auth:e,email:g,emailVerified:M,displayName:m,isAnonymous:U,photoURL:k,phoneNumber:w,tenantId:b,stsTokenManager:v,createdAt:T,lastLoginAt:y});return P&&Array.isArray(P)&&(E.providerData=P.map(x=>Object.assign({},x))),L&&(E._redirectEventId=L),E}static async _fromIdTokenResponse(e,n,r=!1){const i=new Js;i.updateFromServerResponse(n);const s=new _r({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await bc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ae(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?fx(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new Js;l.updateFromIdToken(r);const u=new _r({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new zf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=new Map;function wr(t){Nr(t instanceof Function,"Expected a class definition");let e=o0.get(t);return e?(Nr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,o0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}px.type="NONE";const a0=px;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t,e,n){return`firebase:${t}:${e}:${n}`}class Zs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ju(this.userKey,i.apiKey,s),this.fullPersistenceKey=ju("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?_r._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Zs(wr(a0),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||wr(a0);const o=ju(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const d=await c._get(o);if(d){const m=_r._fromJSON(e,d);c!==s&&(l=m),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Zs(s,e,r):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Zs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wx(e))return"Blackberry";if(Ex(e))return"Webos";if(gx(e))return"Safari";if((e.includes("chrome/")||vx(e))&&!e.includes("edge/"))return"Chrome";if(_x(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function mx(t=Bt()){return/firefox\//i.test(t)}function gx(t=Bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vx(t=Bt()){return/crios\//i.test(t)}function yx(t=Bt()){return/iemobile/i.test(t)}function _x(t=Bt()){return/android/i.test(t)}function wx(t=Bt()){return/blackberry/i.test(t)}function Ex(t=Bt()){return/webos/i.test(t)}function zm(t=Bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zP(t=Bt()){var e;return zm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function BP(){return KC()&&document.documentMode===10}function xx(t=Bt()){return zm(t)||_x(t)||Ex(t)||wx(t)||/windows phone/i.test(t)||yx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t,e=[]){let n;switch(t){case"Browser":n=l0(Bt());break;case"Worker":n=`${l0(Bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Io}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HP(t,e={}){return Ro(t,"GET","/v2/passwordPolicy",yh(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=6;class qP{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:WP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u0(this),this.idTokenSubscription=new u0(this),this.beforeStateQueue=new $P(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ox,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Zs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dx(this,{idToken:e}),r=await _r._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(gr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gr(this.app))return Promise.reject(yi(this));const n=e?$t(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gr(this.app)?Promise.reject(yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gr(this.app)?Promise.reject(yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HP(this),n=new qP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new yl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await UP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wr(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await Zs.create(this,[wr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Tx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&CP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function _h(t){return $t(t)}class u0{constructor(e){this.auth=e,this.observer=null,this.addObserver=nk(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KP(t){Bm=t}function QP(t){return Bm.loadJS(t)}function YP(){return Bm.gapiScript}function XP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(t,e){const n=Qp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(rl(s,e??{}))return i;Pr(i,"already-initialized")}return n.initialize({options:e})}function ZP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(wr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function e4(t,e,n){const r=_h(t);ae(r._canInitEmulator,r,"emulator-config-failed"),ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Ix(e),{host:o,port:l}=t4(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),n4()}function Ix(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function t4(t){const e=Ix(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:c0(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:c0(o)}}}function c0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function n4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yr("not implemented")}_getIdTokenResponse(e){return yr("not implemented")}_linkToIdToken(e,n){return yr("not implemented")}_getReauthenticationResolver(e){return yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(t,e){return cx(t,"POST","/v1/accounts:signInWithIdp",yh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4="http://localhost";class hs extends Sx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new hs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Vm(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new hs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return eo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,eo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,eo(e,n)}buildRequest(){const e={requestUri:r4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_l(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends Cx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends kl{constructor(){super("facebook.com")}static credential(e){return hs._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends kl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return hs._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Jr.credential(n,r)}catch{return null}}}Jr.GOOGLE_SIGN_IN_METHOD="google.com";Jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends kl{constructor(){super("github.com")}static credential(e){return hs._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.GITHUB_SIGN_IN_METHOD="github.com";Zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends kl{constructor(){super("twitter.com")}static credential(e,n){return hs._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ei.credential(n,r)}catch{return null}}}ei.TWITTER_SIGN_IN_METHOD="twitter.com";ei.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i4(t,e){return cx(t,"POST","/v1/accounts:signUp",yh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await _r._fromIdTokenResponse(e,r,i),o=h0(r);return new Ii({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=h0(r);return new Ii({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function h0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s4(t){var e;if(gr(t.app))return Promise.reject(yi(t));const n=_h(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ii({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await i4(n,{returnSecureToken:!0}),i=await Ii._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends Lr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ac.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ac(e,n,r,i)}}function kx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ac._fromErrorAndOperation(t,s,e,r):s})}async function o4(t,e,n=!1){const r=await hl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ii._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a4(t,e,n=!1){const{auth:r}=t;if(gr(r.app))return Promise.reject(yi(r));const i="reauthenticate";try{const s=await hl(t,kx(r,i,e,t),n);ae(s.idToken,r,"internal-error");const o=Um(s.idToken);ae(o,r,"internal-error");const{sub:l}=o;return ae(t.uid===l,r,"user-mismatch"),Ii._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Pr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l4(t,e,n=!1){if(gr(t.app))return Promise.reject(yi(t));const r="signIn",i=await kx(t,r,e),s=await Ii._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function u4(t,e,n,r){return $t(t).onIdTokenChanged(e,n,r)}function c4(t,e,n){return $t(t).beforeAuthStateChanged(e,n)}const Rc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rc,"1"),this.storage.removeItem(Rc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=1e3,d4=10;class Ax extends bx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);BP()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,d4):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},h4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ax.type="LOCAL";const f4=Ax;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx extends bx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Rx.type="SESSION";const Px=Rx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new wh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async c=>c(n.origin,s)),u=await p4(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const c=$m("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(){return window}function g4(t){er().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}async function v4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function y4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function _4(){return Nx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="firebaseLocalStorageDb",w4=1,Pc="firebaseLocalStorage",Lx="fbase_key";class bl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Eh(t,e){return t.transaction([Pc],e?"readwrite":"readonly").objectStore(Pc)}function E4(){const t=indexedDB.deleteDatabase(Dx);return new bl(t).toPromise()}function Bf(){const t=indexedDB.open(Dx,w4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Pc,{keyPath:Lx})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Pc)?e(r):(r.close(),await E4(),e(await Bf()))})})}async function d0(t,e,n){const r=Eh(t,!0).put({[Lx]:e,value:n});return new bl(r).toPromise()}async function x4(t,e){const n=Eh(t,!1).get(e),r=await new bl(n).toPromise();return r===void 0?null:r.value}function f0(t,e){const n=Eh(t,!0).delete(e);return new bl(n).toPromise()}const T4=800,I4=3;class Ox{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>I4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Nx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wh._getInstance(_4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await v4(),!this.activeServiceWorker)return;this.sender=new m4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||y4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bf();return await d0(e,Rc,"1"),await f0(e,Rc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>d0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>x4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>f0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Eh(i,!1).getAll();return new bl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),T4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ox.type="LOCAL";const S4=Ox;new Cl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(t,e){return e?wr(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm extends Sx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function k4(t){return l4(t.auth,new Hm(t),t.bypassAuthState)}function b4(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),a4(n,new Hm(t),t.bypassAuthState)}async function A4(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),o4(n,new Hm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return k4;case"linkViaPopup":case"linkViaRedirect":return A4;case"reauthViaPopup":case"reauthViaRedirect":return b4;default:Pr(this.auth,"internal-error")}}resolve(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=new Cl(2e3,1e4);class Hs extends Mx{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Hs.currentPopupAction&&Hs.currentPopupAction.cancel(),Hs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){Nr(this.filter.length===1,"Popup operations only handle one event");const e=$m();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,R4.get())};e()}}Hs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4="pendingRedirect",Fu=new Map;class N4 extends Mx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Fu.get(this.auth._key());if(!e){try{const r=await D4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Fu.set(this.auth._key(),e)}return this.bypassAuthState||Fu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function D4(t,e){const n=M4(e),r=O4(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function L4(t,e){Fu.set(t._key(),e)}function O4(t){return wr(t._redirectPersistence)}function M4(t){return ju(P4,t.config.apiKey,t.name)}async function V4(t,e,n=!1){if(gr(t.app))return Promise.reject(yi(t));const r=_h(t),i=C4(r,e),o=await new N4(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4=10*60*1e3;class F4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!U4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Vx(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=j4&&this.cachedEventUids.clear(),this.cachedEventUids.has(p0(e))}saveEventToCache(e){this.cachedEventUids.add(p0(e)),this.lastProcessedEventTime=Date.now()}}function p0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Vx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function U4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z4(t,e={}){return Ro(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$4=/^https?/;async function H4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await z4(t);for(const n of e)try{if(W4(n))return}catch{}Pr(t,"unauthorized-domain")}function W4(t){const e=Uf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!$4.test(n))return!1;if(B4.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=new Cl(3e4,6e4);function m0(){const t=er().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function G4(t){return new Promise((e,n)=>{var r,i,s;function o(){m0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{m0(),n(Zn(t,"network-request-failed"))},timeout:q4.get()})}if(!((i=(r=er().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=er().gapi)===null||s===void 0)&&s.load)o();else{const l=XP("iframefcb");return er()[l]=()=>{gapi.load?o():n(Zn(t,"network-request-failed"))},QP(`${YP()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Uu=null,e})}let Uu=null;function K4(t){return Uu=Uu||G4(t),Uu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=new Cl(5e3,15e3),Y4="__/auth/iframe",X4="emulator/auth/iframe",J4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Z4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eN(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Fm(e,X4):`https://${t.config.authDomain}/${Y4}`,r={apiKey:e.apiKey,appName:t.name,v:Io},i=Z4.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${_l(r).slice(1)}`}async function tN(t){const e=await K4(t),n=er().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:eN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:J4,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Zn(t,"network-request-failed"),l=er().setTimeout(()=>{s(o)},Q4.get());function u(){er().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rN=500,iN=600,sN="_blank",oN="http://localhost";class g0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aN(t,e,n,r=rN,i=iN){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},nN),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Bt().toLowerCase();n&&(l=vx(c)?sN:n),mx(c)&&(e=e||oN,u.scrollbars="yes");const d=Object.entries(u).reduce((g,[w,k])=>`${g}${w}=${k},`,"");if(zP(c)&&l!=="_self")return lN(e||"",l),new g0(null);const m=window.open(e||"",l,d);ae(m,t,"popup-blocked");try{m.focus()}catch{}return new g0(m)}function lN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN="__/auth/handler",cN="emulator/auth/handler",hN=encodeURIComponent("fac");async function v0(t,e,n,r,i,s){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Io,eventId:i};if(e instanceof Cx){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",tk(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,m]of Object.entries({}))o[d]=m}if(e instanceof kl){const d=e.getScopes().filter(m=>m!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await t._getAppCheckToken(),c=u?`#${hN}=${encodeURIComponent(u)}`:"";return`${dN(t)}?${_l(l).slice(1)}${c}`}function dN({config:t}){return t.emulator?Fm(t,cN):`https://${t.authDomain}/${uN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="webStorageSupport";class fN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Px,this._completeRedirectFn=V4,this._overrideRedirectResult=L4}async _openPopup(e,n,r,i){var s;Nr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await v0(e,n,r,Uf(),i);return aN(e,o,$m())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await v0(e,n,r,Uf(),i);return g4(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Nr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await tN(e),r=new F4(e);return n.register("authEvent",i=>(ae(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yd,{type:yd},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[yd];o!==void 0&&n(!!o),Pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=H4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return xx()||gx()||zm()}}const pN=fN;var y0="@firebase/auth",_0="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vN(t){co(new os("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ae(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tx(t)},c=new GP(r,i,s,u);return ZP(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),co(new os("auth-internal",e=>{const n=_h(e.getProvider("auth").getImmediate());return(r=>new mN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gi(y0,_0,gN(t)),gi(y0,_0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=5*60,_N=Cw("authIdTokenMaxAge")||yN;let w0=null;const wN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_N)return;const i=n==null?void 0:n.token;w0!==i&&(w0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function EN(t=Rw()){const e=Qp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=JP(t,{popupRedirectResolver:pN,persistence:[S4,f4,Px]}),r=Cw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=wN(s.toString());c4(n,o,()=>o(n.currentUser)),u4(n,l=>o(l))}}const i=Iw("auth");return i&&e4(n,`http://${i}`),n}function xN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}KP({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Zn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",xN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vN("Browser");const xh=Gt.createContext({}),TN=({children:t})=>{const[e,n]=D.useState(!1);D.useEffect(()=>{const i=EN();s4(i).then(()=>{n(!0)}).catch(s=>{console.error("Error occured: ",s)})},[e]);const r=D.useMemo(()=>({user:{isSignedIn:e,setIsSignedIn:n}}),[e,n]);return f.jsx(xh.Provider,{value:r,children:t})},Wm=Gt.createContext({}),Ot={Light:{name:"light"},Dark:{name:"dark"},System:{name:"system"}},IN=()=>{const t=localStorage.getItem("theme");return t||"system"},SN=({children:t})=>{const[e,n]=D.useState(IN),r=()=>{n(e==="system"?matchMedia("(prefers-color-scheme: light)").matches?"dark":"light":e==="light"?"dark":"light")},i=o=>{switch(o){case Ot.Light.name:n(o);break;case Ot.Dark.name:n(o);break;case Ot.System.name:n(o)}};D.useEffect(()=>{switch(e){case Ot.Light.name:localStorage.setItem("theme",e),document.documentElement.classList.add(Ot.Light.name),document.documentElement.classList.remove(Ot.Dark.name);break;case Ot.Dark.name:localStorage.setItem("theme",e),document.documentElement.classList.add(Ot.Dark.name),document.documentElement.classList.remove(Ot.Light.name);break;case Ot.System.name:matchMedia("(prefers-color-scheme: light)").matches?(localStorage.setItem("theme",Ot.System.name),document.documentElement.classList.add(Ot.Light.name),document.documentElement.classList.remove(Ot.Dark.name)):(localStorage.setItem("theme",Ot.System.name),document.documentElement.classList.add(Ot.Dark.name),document.documentElement.classList.remove(Ot.Light.name));break}},[e]);const s=D.useMemo(()=>({default:{resolvedTheme:e,setTheme:n},toggleTheme:r,changeTheme:i}),[e,n]);return f.jsx(Wm.Provider,{value:s,children:t})},Po=Gt.createContext({}),CN=()=>{const t=parseInt(localStorage.getItem("chatHeadSize")||"");return t||200},kN=({children:t})=>{const[e,n]=D.useState(!1),[r,i]=D.useState(CN),s=D.useRef(null),o=u=>{switch(u){case 100:i(u);break;case 200:i(u);break;case 300:i(u);break}};D.useEffect(()=>{localStorage.setItem("chatHeadSize",r.toString())},[r]),D.useEffect(()=>{const u=({target:c})=>{var d;(d=s.current)!=null&&d.contains(c)||n(!1)};return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[s]);const l=D.useMemo(()=>({active:{isChatActive:e,setIsChatActive:n},chatHeadSize:{chatHeadSize:r,setChatHeadSize:i},changeChatHeadSize:o,icon:s}),[e,n,r,i]);return f.jsx(Po.Provider,{value:l,children:t})};function jx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=jx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function bN(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=jx(t))&&(r&&(r+=" "),r+=e);return r}const qm="-",AN=t=>{const e=PN(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(qm);return l[0]===""&&l.length!==1&&l.shift(),Fx(l,e)||RN(o)},getConflictingClassGroupIds:(o,l)=>{const u=n[o]||[];return l&&r[o]?[...u,...r[o]]:u}}},Fx=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Fx(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(qm);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},E0=/^\[(.+)\]$/,RN=t=>{if(E0.test(t)){const e=E0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},PN=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return DN(Object.entries(t.classGroups),n).forEach(([s,o])=>{$f(o,r,s,e)}),r},$f=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:x0(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(NN(i)){$f(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{$f(o,x0(e,s),n,r)})})},x0=(t,e)=>{let n=t;return e.split(qm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},NN=t=>t.isThemeGetter,DN=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[n,i]}):t,LN=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},Ux="!",ON=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=l=>{const u=[];let c=0,d=0,m;for(let L=0;L<l.length;L++){let T=l[L];if(c===0){if(T===i&&(r||l.slice(L,L+s)===e)){u.push(l.slice(d,L)),d=L+s;continue}if(T==="/"){m=L;continue}}T==="["?c++:T==="]"&&c--}const g=u.length===0?l:l.substring(d),w=g.startsWith(Ux),k=w?g.substring(1):g,b=m&&m>d?m-d:void 0;return{modifiers:u,hasImportantModifier:w,baseClassName:k,maybePostfixModifierPosition:b}};return n?l=>n({className:l,parseClassName:o}):o},MN=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},VN=t=>({cache:LN(t.cacheSize),parseClassName:ON(t),...AN(t)}),jN=/\s+/,FN=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(jN);let l="";for(let u=o.length-1;u>=0;u-=1){const c=o[u],{modifiers:d,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:w}=n(c);let k=!!w,b=r(k?g.substring(0,w):g);if(!b){if(!k){l=c+(l.length>0?" "+l:l);continue}if(b=r(g),!b){l=c+(l.length>0?" "+l:l);continue}k=!1}const L=MN(d).join(":"),T=m?L+Ux:L,y=T+b;if(s.includes(y))continue;s.push(y);const S=i(b,k);for(let M=0;M<S.length;++M){const U=S[M];s.push(T+U)}l=c+(l.length>0?" "+l:l)}return l};function UN(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=zx(e))&&(r&&(r+=" "),r+=n);return r}const zx=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=zx(t[r]))&&(n&&(n+=" "),n+=e);return n};function zN(t,...e){let n,r,i,s=o;function o(u){const c=e.reduce((d,m)=>m(d),t());return n=VN(c),r=n.cache.get,i=n.cache.set,s=l,l(u)}function l(u){const c=r(u);if(c)return c;const d=FN(u,n);return i(u,d),d}return function(){return s(UN.apply(null,arguments))}}const Be=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Bx=/^\[(?:([a-z-]+):)?(.+)\]$/i,BN=/^\d+\/\d+$/,$N=new Set(["px","full","screen"]),HN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,WN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,GN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,KN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,cr=t=>to(t)||$N.has(t)||BN.test(t),Hr=t=>No(t,"length",n3),to=t=>!!t&&!Number.isNaN(Number(t)),_d=t=>No(t,"number",to),ca=t=>!!t&&Number.isInteger(Number(t)),QN=t=>t.endsWith("%")&&to(t.slice(0,-1)),de=t=>Bx.test(t),Wr=t=>HN.test(t),YN=new Set(["length","size","percentage"]),XN=t=>No(t,YN,$x),JN=t=>No(t,"position",$x),ZN=new Set(["image","url"]),e3=t=>No(t,ZN,i3),t3=t=>No(t,"",r3),ha=()=>!0,No=(t,e,n)=>{const r=Bx.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},n3=t=>WN.test(t)&&!qN.test(t),$x=()=>!1,r3=t=>GN.test(t),i3=t=>KN.test(t),s3=()=>{const t=Be("colors"),e=Be("spacing"),n=Be("blur"),r=Be("brightness"),i=Be("borderColor"),s=Be("borderRadius"),o=Be("borderSpacing"),l=Be("borderWidth"),u=Be("contrast"),c=Be("grayscale"),d=Be("hueRotate"),m=Be("invert"),g=Be("gap"),w=Be("gradientColorStops"),k=Be("gradientColorStopPositions"),b=Be("inset"),L=Be("margin"),T=Be("opacity"),y=Be("padding"),S=Be("saturate"),M=Be("scale"),U=Be("sepia"),P=Be("skew"),I=Be("space"),v=Be("translate"),E=()=>["auto","contain","none"],x=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",de,e],N=()=>[de,e],C=()=>["",cr,Hr],pe=()=>["auto",to,de],ot=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ft=()=>["solid","dashed","dotted","double","none"],Ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",de],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[to,de];return{cacheSize:500,separator:":",theme:{colors:[ha],spacing:[cr,Hr],blur:["none","",Wr,de],brightness:ie(),borderColor:[t],borderRadius:["none","","full",Wr,de],borderSpacing:N(),borderWidth:C(),contrast:ie(),grayscale:q(),hueRotate:ie(),invert:q(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[QN,Hr],inset:A(),margin:A(),opacity:ie(),padding:N(),saturate:ie(),scale:ie(),sepia:q(),skew:ie(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",de]}],container:["container"],columns:[{columns:[Wr]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ot(),de]}],overflow:[{overflow:x()}],"overflow-x":[{"overflow-x":x()}],"overflow-y":[{"overflow-y":x()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ca,de]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",de]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",ca,de]}],"grid-cols":[{"grid-cols":[ha]}],"col-start-end":[{col:["auto",{span:["full",ca,de]},de]}],"col-start":[{"col-start":pe()}],"col-end":[{"col-end":pe()}],"grid-rows":[{"grid-rows":[ha]}],"row-start-end":[{row:["auto",{span:[ca,de]},de]}],"row-start":[{"row-start":pe()}],"row-end":[{"row-end":pe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",de]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",de]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[L]}],mx:[{mx:[L]}],my:[{my:[L]}],ms:[{ms:[L]}],me:[{me:[L]}],mt:[{mt:[L]}],mr:[{mr:[L]}],mb:[{mb:[L]}],ml:[{ml:[L]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",de,e]}],"min-w":[{"min-w":[de,e,"min","max","fit"]}],"max-w":[{"max-w":[de,e,"none","full","min","max","fit","prose",{screen:[Wr]},Wr]}],h:[{h:[de,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[de,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[de,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[de,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Wr,Hr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",_d]}],"font-family":[{font:[ha]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",de]}],"line-clamp":[{"line-clamp":["none",to,_d]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",cr,de]}],"list-image":[{"list-image":["none",de]}],"list-style-type":[{list:["none","disc","decimal",de]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ft(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",cr,Hr]}],"underline-offset":[{"underline-offset":["auto",cr,de]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",de]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",de]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ot(),JN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",XN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},e3]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...ft(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:ft()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ft()]}],"outline-offset":[{"outline-offset":[cr,de]}],"outline-w":[{outline:[cr,Hr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:C()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[cr,Hr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Wr,t3]}],"shadow-color":[{shadow:[ha]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...Ce(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Ce()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Wr,de]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[m]}],saturate:[{saturate:[S]}],sepia:[{sepia:[U]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[U]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",de]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",de]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",de]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[ca,de]}],"translate-x":[{"translate-x":[v]}],"translate-y":[{"translate-y":[v]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",de]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",de]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",de]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[cr,Hr,_d]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},o3=zN(s3);function Gm(...t){return o3(bN(t))}function Hx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=Hx(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function a3(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=Hx(t))&&(r&&(r+=" "),r+=e);return r}const T0=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,I0=a3,Km=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return I0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],m=s==null?void 0:s[c];if(d===null)return null;const g=T0(d)||T0(m);return i[c][g]}),l=n&&Object.entries(n).reduce((c,d)=>{let[m,g]=d;return g===void 0||(c[m]=g),c},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:m,className:g,...w}=d;return Object.entries(w).every(k=>{let[b,L]=k;return Array.isArray(L)?L.includes({...s,...l}[b]):{...s,...l}[b]===L})?[...c,m,g]:c},[]);return I0(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)},Wx=Km("w-full h-full select-none",{variants:{variant:{default:"border dark:border-dm-surface-light bg-surface dark:bg-dm-surface",icon:"text-2xl rounded-full p-3 flex justify-center items-center",outline:"px-4 py-3 border border-primary rounded-full capitalize",cta:"px-8 py-4 capitalize rounded-full",destructive:"px-8 py-4 bg-error hover:bg-error/80 rounded-full capitalize",destructiveOutline:"px-4 py-3 border text-error dark:text-error border-error hover:text-white dark:hover:text-white bg-inherit dark:bg-inherit hover:bg-error dark:hover:bg-error rounded-full capitalize",radio:"bg-surface has-[input]:hover:bg-primary [&>label]:hover:text-white has-[input]:dark:hover:bg-primary dark:bg-dm-surface [&>label]:dark:text-white has-[:checked]:bg-primary has-[:checked]:dark:bg-primary has-[:checked]:hover:bg-primary-dark has-[:checked]:text-white shadow-md px-4 py-3 flex justify-center items-center rounded-3xl",settings:"flex rounded-lg text-left font-helvetica-bold hover:bg-gray-300 dark:hover:bg-dm-surface [&>span]:text-black/60 [&>span]:dark:text-white/60 [&>span]:has-[:checked]:text-white [&>span]:has-[:checked]:dark:text-white [&>div>svg>path]:text-black/60 [&>div>svg>path]:dark:text-white/60 [&>div>svg>path]:has-[:checked]:text-white [&>div>svg>path]:has-[:checked]:dark:text-white [&>div>svg>circle]:text-black/60 [&>div>svg>circle]:dark:text-white/60 [&>div>svg>circle]:has-[:checked]:text-white [&>div>svg>circle]:has-[:checked]:dark:text-white has-[:checked]:bg-primary has-[:checked]:hover:bg-primary has-[:checked]:dark:hover:bg-primary capitalize px-3 xs:px-4 py-3 cursor-pointer truncate"},size:{default:"w-max h-max",sm:"max-w-[30px]",md:"max-w-[100px] max-h-[40px]",lg:"max-w-[150px] max-h-[60px]",xl:"max-w-[200px] max-h-[80px]",icon:"max-w-[50px] max-h-[50px]",full:"w-full h-full"}},defaultVariants:{variant:"default",size:"default"}}),Ut=D.forwardRef(({className:t,size:e,variant:n,...r},i)=>f.jsx("button",{ref:i,className:Gm(Wx({className:t,variant:n,size:e})),...r}));var qx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},S0=Gt.createContext&&Gt.createContext(qx),l3=["attr","size","title"];function u3(t,e){if(t==null)return{};var n=c3(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function c3(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Nc(){return Nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nc.apply(this,arguments)}function C0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C0(Object(n),!0).forEach(function(r){h3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h3(t,e,n){return e=d3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d3(t){var e=f3(t,"string");return typeof e=="symbol"?e:e+""}function f3(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gx(t){return t&&t.map((e,n)=>Gt.createElement(e.tag,Dc({key:n},e.attr),Gx(e.child)))}function Ae(t){return e=>Gt.createElement(p3,Nc({attr:Dc({},t.attr)},e),Gx(t.child))}function p3(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=u3(t,l3),l=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),Gt.createElement("svg",Nc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:u,style:Dc(Dc({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&Gt.createElement("title",null,s),t.children)};return S0!==void 0?Gt.createElement(S0.Consumer,null,n=>e(n)):e(qx)}function Qm(t){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",x2:"20",y1:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"4",x2:"20",y1:"6",y2:"6"},child:[]},{tag:"line",attr:{x1:"4",x2:"20",y1:"18",y2:"18"},child:[]}]})(t)}function m3(t){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"20",height:"14",x:"2",y:"3",rx:"2"},child:[]},{tag:"line",attr:{x1:"8",x2:"16",y1:"21",y2:"21"},child:[]},{tag:"line",attr:{x1:"12",x2:"12",y1:"17",y2:"21"},child:[]}]})(t)}function g3(t){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"},child:[]}]})(t)}function v3(t){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"4"},child:[]},{tag:"path",attr:{d:"M12 2v2"},child:[]},{tag:"path",attr:{d:"M12 20v2"},child:[]},{tag:"path",attr:{d:"m4.93 4.93 1.41 1.41"},child:[]},{tag:"path",attr:{d:"m17.66 17.66 1.41 1.41"},child:[]},{tag:"path",attr:{d:"M2 12h2"},child:[]},{tag:"path",attr:{d:"M20 12h2"},child:[]},{tag:"path",attr:{d:"m6.34 17.66-1.41 1.41"},child:[]},{tag:"path",attr:{d:"m19.07 4.93-1.41 1.41"},child:[]}]})(t)}const y3=()=>{const t=D.useContext(Wm),{resolvedTheme:e}=t.default,n=()=>e==="system"?f.jsx(m3,{}):e==="light"?f.jsx(g3,{}):f.jsx(v3,{});return f.jsxs("header",{className:"fixed top-0 left-[50%] -translate-x-[50%] container w-full h-[70px] px-[4vw] md:px-[2vw] lg:px-[4vw] flex items-center justify-between z-30",children:[f.jsx(ss,{to:"/",className:"text-2xl dark:text-white bg-surface/30 dark:bg-dm-surface/50 rounded-lg p-2 backdrop-blur-sm sm:bg-transparent sm:dark:bg-transparent sm:rounded-none sm:p-0 sm:backdrop-blur-none",children:si.name}),f.jsx(Ut,{onClick:t.toggleTheme,variant:"icon",size:"icon",className:"bg-surface/30 dark:bg-dm-surface/50 backdrop-blur-sm sm:bg-transparent sm:dark:bg-transparent sm:backdrop-blur-none hover:bg-surface dark:hover:bg-dm-surface [&>svg>path]:dark:text-white [&>svg>circle]:dark:text-white [&>svg>rect]:dark:text-white [&>svg>line]:dark:text-white",children:n()})]})},_3="cob-chatbot",w3="3.0.1",E3="module",x3="pnpm@9.9.0",T3={build:"tsc -b && vite build",dev:"vite",lint:"eslint .",preview:"vite preview",prepare:"husky","pre-commit":"lint-staged",pretty:"prettier . --write",release:"release-it","release-patch":"release-it patch","release-minor":"release-it minor","release-major":"release-it major"},I3={"class-variance-authority":"^0.7.0",clsx:"^2.1.1",firebase:"^10.14.1",react:"^18.3.1","react-dom":"^18.3.1","react-icons":"^5.3.0","react-router":"^6.27.0","react-router-dom":"^6.27.0","react-textarea-autosize":"^8.5.4","tailwind-merge":"^2.5.3"},S3={"@commitlint/cli":"^19.5.0","@commitlint/config-conventional":"^19.5.0","@eslint/compat":"^1.2.0","@eslint/eslintrc":"^3.1.0","@eslint/js":"^9.12.0","@release-it/conventional-changelog":"^8.0.2","@types/react":"^18.3.11","@types/react-dom":"^18.3.1","@types/uuid":"^10.0.0","@vitejs/plugin-react-swc":"^3.7.1",autoprefixer:"^10.4.20",eslint:"^9.12.0","eslint-plugin-react":"^7.37.1","eslint-plugin-react-hooks":"^4.6.2","eslint-plugin-react-refresh":"^0.4.12","eslint-transforms":"^3.0.0","firebase-admin":"^12.6.0",globals:"^15.11.0",husky:"^9.1.6","lint-staged":"^15.2.10",postcss:"^8.4.47",prettier:"3.3.3","release-it":"^17.8.2","tailwind-scrollbar":"^3.1.0",tailwindcss:"^3.4.13",turbo:"^2.1.3",typescript:"^5.5.4","typescript-eslint":"^8.8.1",uuid:"^10.0.0",vite:"^5.4.8","vite-plugin-pwa":"^0.20.5"},C3={name:_3,version:w3,private:!0,type:E3,packageManager:x3,scripts:T3,dependencies:I3,devDependencies:S3,"lint-staged":{"*.{ts,js,tsx,json,css,html}":"prettier --write","*.{ts,js}":["prettier --write","eslint"]}},Kx=({className:t,text:e})=>f.jsxs("div",{className:`${t}`,children:[e,C3.version]}),k3="/user/assets/landing-convo-light-9eANPx-E.gif",b3="/user/assets/landing-convo-dark-1yD7KdYH.gif",A3=()=>f.jsxs(f.Fragment,{children:[f.jsx(y3,{}),f.jsxs("main",{className:"container relative w-full lg:h-screen flex flex-col-reverse lg:flex-row items-center justify-center lg:justify-between 2xl:justify-around lg:items-center py-[100px] px-[2vw] lg:px-[4vw] 2xl:px-[6vw] gap-6",children:[f.jsxs("section",{className:"text-center lg:text-left",children:[f.jsxs("div",{className:"max-w-[400px]",children:[f.jsx("h1",{className:"font-helvetica text-6xl md:text-7xl lg:text-8xl bg-gradient-to-tr from-primary from-35% via-tertiary via-70% to-secondary bg-clip-text text-transparent cursor-default select-none",children:si.name}),f.jsx("p",{className:"text-2xl lg:text-3xl 2xl:text-4xl ml-2 dark:text-white max-w-[350px]",children:si.slogan})]}),f.jsx("p",{className:"text-xl text-black/50 dark:text-white/50 ml-2 mt-6 max-w-[350px]",children:si.introduction}),f.jsx(ss,{to:"/bacoor-gov",children:f.jsxs(Ut,{variant:"cta",size:"xl",className:"mt-8 ml-2 bg-primary hover:bg-primary-dark lg:text-lg 2xl:text-xl text-white",children:["ask ",si.name]})})]}),f.jsxs("div",{className:"relative rounded-2xl overflow-hidden select-none",children:[f.jsx("img",{src:k3,alt:"Chatbot",className:"block dark:hidden w-max h-max max-h-max rounded-2xl object-contain"}),f.jsx("img",{src:b3,alt:"Chatbot",className:"hidden dark:block w-max h-max max-h-max rounded-2xl object-contain"})]}),f.jsx(Kx,{text:"v",className:"fixed left-[2%] bottom-[2.5%] text-sm text-black/30 dark:text-white/30"})]})]}),Do=Gt.createContext({}),R3="font families",P3=[{name:"default",value:"Helvetica, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji"},{name:"cursive",value:"cursive"},{name:"monospace",value:"monospace"},{name:"poppins",value:"Poppins"},{name:"raleway",value:"Raleway"},{name:"montserrat",value:"Montserrat"},{name:"lato",value:"Lato"},{name:"kanit",value:"Kanit"},{name:"playpen sans",value:"Playpen Sans"},{name:"Caveat",value:"Caveat"}],Ym={name:R3,default:"Helvetica, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji",list:P3},N3=()=>{const t=parseInt(localStorage.getItem("fontSize")||"");return t||16},D3=()=>{const t=localStorage.getItem("fontFamily");return t||Ym.default},L3=({children:t})=>{const[e,n]=D.useState(N3),[r,i]=D.useState(D3);D.useEffect(()=>{localStorage.setItem("fontSize",e.toString()),localStorage.setItem("fontFamily",r)},[e,r]);const s=u=>{switch(u){case 8:n(u);break;case 12:n(u);break;case 16:n(u);break;case 24:n(u);break;case 32:n(u);break;case 48:n(u);break}},o=u=>{switch(u){case Ym.default:i(u);break;case"cursive":i(u);break;case"monospace":i(u);break;case"Poppins":i(u);break;case"Raleway":i(u);break;case"Montserrat":i(u);break;case"Lato":i(u);break;case"Kanit":i(u);break;case"Playpen Sans":i(u);break;case"Caveat":i(u);break}},l=D.useMemo(()=>({size:{fontSize:e,setFontSize:n},changeFontSize:s,family:{fontFamily:r,setFontFamily:i},changeFontFamily:o}),[e,n,r,i]);return f.jsx(Do.Provider,{value:l,children:t})},Xm=Gt.createContext({}),O3=()=>{const t=localStorage.getItem("chatSentSound");return t||"minimalpop"},M3=({children:t})=>{const[e,n]=D.useState(O3);D.useEffect(()=>{localStorage.setItem("chatSentSound",e)},[e]);const r=D.useMemo(()=>({chatSent:{chatSentSound:e,setChatSentSound:n}}),[e,n]);return f.jsx(Xm.Provider,{value:r,children:t})};var xt=[];for(var wd=0;wd<256;++wd)xt.push((wd+256).toString(16).slice(1));function V3(t,e=0){return(xt[t[e+0]]+xt[t[e+1]]+xt[t[e+2]]+xt[t[e+3]]+"-"+xt[t[e+4]]+xt[t[e+5]]+"-"+xt[t[e+6]]+xt[t[e+7]]+"-"+xt[t[e+8]]+xt[t[e+9]]+"-"+xt[t[e+10]]+xt[t[e+11]]+xt[t[e+12]]+xt[t[e+13]]+xt[t[e+14]]+xt[t[e+15]]).toLowerCase()}var yu,j3=new Uint8Array(16);function F3(){if(!yu&&(yu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!yu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return yu(j3)}var U3=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const k0={randomUUID:U3};function qt(t,e,n){if(k0.randomUUID&&!e&&!t)return k0.randomUUID();t=t||{};var r=t.random||(t.rng||F3)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,V3(r)}const z3="Here are the list of departments:",B3=["departments","department","can you give me the list of departments?","can you give me the list of departments","can you give me the departments?","can you give me the departments","can you give me list of departments?","can you give me list of departments","departments list?","departments list","department list?","department list","list of departments","list of department","give me the list of deparments","depts","do you have the departments list?"],$3=[{id:"1",deptName:"OFFICE OF THE CITY MAYOR (MO)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"2",deptName:"OFFICE OF THE CITY VICE MAYOR (OVM)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"3",deptName:"OFFICE OF THE CITY ADMINISTRATOR (ADMIN)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"4",deptName:"BUSINESS PERMIT AND LICENSING DEPARTMENT (BPLO)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"5",deptName:"OFFICE OF THE CITY BUILDING OFFICIAL (OBO)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"6",deptName:"CITY PLANNING AND DEVELOPMENT COORDINATING OFFICE (CPDC)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"7",deptName:"CITY ASSESSOR'S DEPARTMENT (ASSESSOR)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"8",deptName:"BACOOR DISASTER RISK REDUCTION AND MANAGEMENT OFFICE (BDRRMO)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"",deptName:"OFFICE OF THE ACCOUNTING AND INTERNAL AUDIT SERVICES (ACCOUNTING)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"",deptName:"ZONING AND LAND DEVELOPMENT DEPARTMENT (ZONING)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"",deptName:"CITY BACOOR TRAFFIC MANAGAMENT DEPARTMENT (BTMD)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"",deptName:"OFFICE OF THE SANGGUNIANG PANLUNGSOD (SP)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"",deptName:"CITY ENGINEERING OFFICE (ENGINEERING)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"",deptName:"OFFICE OF THE CITY CIVIL REGISTRY (CCR)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"",deptName:"OFFICE OF THE AGRICULTURAL SERVICES (AGRICULTURE)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"",deptName:"CITY ENVIRONMENT SERVICE DEPARTMENT (CESD)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"",deptName:"PUBLIC EMPLOYMENT SERVICE OFFICE (PESO)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"",deptName:"HUMAN RESOURCES DEVELOPMENT AND MANAGEMENT DEPARTMENT (HRDMD)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"",deptName:"OFFICE OF THE POPULATION DEVELOPMENT (POPULATION)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"",deptName:"OFFICE OF THE CITY LEGAL SERVICE (LEGAL)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"",deptName:"CITY BUDGET OFFICE (BUDGET)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"",deptName:"CITY FINANCE DEPARTMENT (CITY TREASURER'S OFFICE)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"",deptName:"OFFICE OF SOCIAL WELFARE AND DEVELOPMENT (CSWD)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"",deptName:"OFFICE OF THE CITY HEALTH SERVICES (CHO)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"",deptName:"OFFICE OF VETERINARY SERVICES (VET)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"",deptName:"CITY INFORMATION AND COMMUNITY RELATIONS DEPARTMENT (CICRD)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"",deptName:"OFFICE OF THE CITY GENERAL SERVICES (GSO)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"",deptName:"BIDS AND AWARDS COMMITTEE (BAC)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"",deptName:"E-GOVERNANCE DEPARTMENT & MANAGEMENT INFORMATION SYSTEM (E-GOV/MIS)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"",deptName:"SPORTS DEVELOPMENT UNIT (SPORTS)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"",deptName:"BACOOR CITY CULTURE, HISTORY, ARTS AND TOURISM OFFICE",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"",deptName:"CITY LIVELIHOOD AND DEVELOPMENT DEPARTMENT (LIVELIHOOD)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"",deptName:"HOUSING, URBAN DEVELOPMENT AND RESETTLEMENT  DEPARTMENT (HUDRD)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"",deptName:"OFFICE FOR THE DEVELOPMENT OF COOPERATIVES (COOP)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"",deptName:"OFFICE OF THE SENIOR CITIZENS AFFAIRS (OSCA)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"",deptName:"DEPARTMENT OF PUBLIC SAFETY (BPSU)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"",deptName:"LOCAL ECONOMIC DEVELOPMENT AND INVESTMENTS PROMOTIONS OFFICE (LEDIPO)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"",deptName:"ARTA",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"",deptName:"LOCAL YOUTH DEVELOPMENT OFFICE (LYDO)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{id:"",deptName:"CITY CEMETERY OFFICE (CEMETERY)",service:`* We can provide this 
* We can provide that 
* We can provide everything`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`}],Qx="/user/assets/minimal-pop-click-cz2B17GZ.mp3",Yx="/user/assets/happy-pop-BDyL3yVR.mp3",Hf="/user/assets/multi-pop-aSd_Kb7h.mp3",H3="/user/assets/multi-pop-5-D6yGmOux.mp3",Xx=()=>{const t=D.useContext(Xm),{chatSentSound:e}=t.chatSent;return{playMessageNotification:()=>{let s;switch(e){case"minimalpop":s=new Audio(Qx);break;case"happypop":s=new Audio(Yx);break;case"multipop":s=new Audio(Hf);break;default:s=new Audio(Hf);break}s.volume=.2,s.play()},playTypingSound:()=>{const s=new Audio(H3);s.volume=.1,s.play()},playChatSentSound:s=>{const o=new Audio(s);o.volume=.2,o.play()}}};function W3(){return{toFirestore(t){return t},fromFirestore(t){return t.data()}}}const fr=xm(Mm,"users"),q3=xm(Mm,"FAQs").withConverter(W3()),G3=async(t,e)=>{try{const n={intent:"greetings",chat:e,chatId:qt(),role:"bot",timestamp:_e.now()};await Om(vr(fr,t),{uid:t,conversation:[n]})}catch(n){console.log(n)}},Vi=async(t,e,n)=>{const r=vr(fr,t);(await JE(r)).exists()||await Om(vr(fr,t),{uid:t,conversation:[e],rating:n}),await ZE(vr(fr,t),{conversation:rx(e)})},K3=["png","jpg","jpeg","gif","tiff","webp","jfif"],Q3=["mp4","mov","avi","wmv","avchd","webm","flv"],Y3=["doc","docx","pdf","htm","html","xls","xlsx","ppt","pptx","txt","zip"];let qn={chat:"",chatId:"",role:"",timestamp:_e.now()};const X3=(t,e,n,r,i)=>(K3.includes(t)?n===i?qn={intent:r,chat:n,chatId:qt(),role:"bot",timestamp:_e.now()}:qn={intent:r,image:n,chat:null,chatId:qt(),role:"bot",timestamp:_e.now()}:Q3.includes(t)?n===i?qn={intent:r,chat:n,chatId:qt(),role:"bot",timestamp:_e.now()}:qn={intent:r,video:n,chat:null,chatId:qt(),role:"bot",timestamp:_e.now()}:Y3.includes(t)&&(n===i?qn={intent:r,chat:n,chatId:qt(),role:"bot",timestamp:_e.now()}:qn={intent:r,file:e,fileLink:n,fileType:t,chat:null,chatId:qt(),role:"bot",timestamp:_e.now()}),qn),b0=(t,e,n,r)=>(t===n?qn={intent:e,chat:t,chatId:qt(),role:"bot",timestamp:_e.now()}:qn={intent:e,chat:null,chatId:qt(),link:t,linkMessage:r||"Click here",role:"bot",timestamp:_e.now()},qn),Pn=async t=>new Promise(e=>setTimeout(e,t*1e3)),Jx=t=>/@=@/.test(t),J3=t=>/\[([^\]]+)\]/.test(t),Z3=t=>/{=([^{}]+)=}/.test(t),e5=t=>{let e=[];return Jx(t)&&(e=t.split("@=@")),e},t5=t=>{var e;return(e=t.current)==null||e.scrollIntoView(),!0},n5=t=>{var e;return(e=t.current)==null||e.scrollIntoView({behavior:"smooth"}),!0},A0=t=>{const e=/\[([^\]]+)\]/,n=t.match(e),r=/{=([^{}]+)=}/,i=t.match(r),s=/<([^<>]+)>/,o=t.match(s);if(n){const l=n[1],u=t.replace(e,"").trim();return{link:l,text:u}}else if(i){const l=i[1];if(o){const u=o[1],c=t.replace(r,"").replace(s,"").trim();return{link:l,linkMessage:u,text:c}}else{const u=t.replace(r,"").trim();return{link:l,text:u}}}return{link:null,linkMessage:null,text:t.trim()}},r5=t=>{try{const e=decodeURIComponent(t),n=e.lastIndexOf("/")+1,r=e.indexOf("?alt=");return n!==-1&&r!==-1?e.substring(n,r):null}catch(e){return console.error("Failed to extract filename:",e),null}},i5=uP(q3,cP("frequency","desc")),Zx=()=>{const t=D.useContext(xh),{isSignedIn:e}=t.user,n=D.useContext(ix),r=D.useContext(wt),{configuration:i}=r.configuration,{conversation:s,setConversation:o}=r.conversation,{faqs:l,setFaqs:u}=r.faqs,{error:c,setError:d}=r.error,{isOnline:m}=r.isOnline,{playMessageNotification:g}=Xx(),w=D.useRef(null),[k,b]=D.useState(!1),L=D.useRef(null),[T,y]=D.useState(!1),[S,M]=D.useState(!0),[U,P]=D.useState(!1),[I,v]=D.useState(""),[E,x]=D.useState(!1);let A={chat:"",chatId:"",role:"",timestamp:_e.now()};const N=()=>{y(!T)},C=D.useCallback(async()=>{try{const B=await r0(fr);ex(vr(fr,n.uid),q=>{q.exists()?o(q.data().conversation):!q.exists()&&i.initialGreet&&G3(n.uid,i.initialGreet)}),B&&M(!1)}catch(B){console.log(B),d(!0),B||d(!1)}},[i.initialGreet,o,d]),pe=D.useCallback(async()=>{try{const B=await r0(i5);u(B.docs.map(q=>({...q.data(),id:q.id})))}catch(B){console.log(B),B||d(!1)}},[d,u]),ot=async B=>{try{if(console.time(`${i.name} Replied in`),x(!0),B3.includes(B)){await Pn(1),x(!1);const q=vr(fr,n.uid),Z=await JE(q),ie={chat:z3,chatId:qt(),role:"bot",depts:$3,timestamp:_e.now()};Z.exists()||await Om(vr(fr,n.uid),{userData:{uid:n.uid,conversation:[{botDepartmentChat:ie}]}}),await ZE(vr(fr,n.uid),{conversation:rx(ie)}),g()}else{await Pn(1);const q=await fetch("https://chatbot-api-0zup.onrender.com/api/chatbot/query",{method:"POST",headers:{"content-type":"application/json",authorization:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f"},body:JSON.stringify({userQuery:B})});q.ok?d(!1):d(!0);const Z=await q.json(),{intent:ie,answer:he}=Z.response;if(Jx(he)){e5(he).forEach(async(Re,Le)=>{Le==1&&(await Pn(1),x(!0),await Pn(1)),A={intent:ie,chat:Re,chatId:qt(),role:"bot",timestamp:_e.now()},x(!1),Vi(n.uid,A),P(!1),g()});return}else if(Z3(he)){const{link:xe,linkMessage:Re,text:Le}=A0(he);(xe?[Le,xe]:[]).forEach(async(gt,Pi)=>{Pi==1&&(await Pn(1),x(!0),await Pn(1)),A=Re?b0(gt,ie,Le,Re):b0(gt,ie,Le),x(!1),Vi(n.uid,A),P(!1),g()})}else if(J3(he)){const{text:xe,link:Re}=A0(he),Le=Re?r5(Re):"",rt=Le==null?void 0:Le.split(".")[1];(Re?[xe,Re]:[]).forEach(async(Pi,Oo)=>{Oo==1&&(await Pn(1),x(!0),await Pn(1)),A=rt?X3(rt,Le,Pi,ie,xe):A,x(!1),Vi(n.uid,A),P(!1),g()})}else ie==="None"?(A={intent:ie,chat:i.errorMessage,chatId:qt(),role:"bot",timestamp:_e.now()},x(!1),Vi(n.uid,A),P(!1),g()):(A={intent:ie,chat:he,chatId:qt(),role:"bot",timestamp:_e.now()},x(!1),Vi(n.uid,A),P(!1),g())}}catch(q){console.log(q),x(!1),d(!0),q||d(!1)}finally{console.timeEnd(`${i.name} Replied in`)}},ft=D.useCallback(async(B,q)=>{try{B.preventDefault(),v(""),A={chat:q,chatId:qt(),role:"user",timestamp:_e.now()},g(),Vi(n.uid,A),await Pn(1),ot(q)}catch(Z){console.log(Z),x(!1),d(!0),Z||d(!1)}},[g,d]),Ce=async B=>{try{P(!1),A={chat:B,chatId:qt(),role:"user",timestamp:_e.now()},g(),Vi(n.uid,A),await Pn(1),ot(B)}catch(q){console.log(q),x(!1),d(!0),q||d(!1)}};return D.useEffect(()=>{const B=n5(w);e&&B&&b(!0)},[s,E,c,m,e]),D.useEffect(()=>{const B=q=>{const Z=I.trim();q.key=="Enter"&&!q.shiftKey&&Z!=""?(ft(q,Z),v("")):q.key=="Enter"&&!q.shiftKey&&(q.preventDefault(),v(""))};return document.addEventListener("keydown",B),()=>{document.removeEventListener("keydown",B)}},[ft,I]),D.useEffect(()=>{const B=({target:q})=>{var Z;(Z=L.current)!=null&&Z.contains(q)||P(!1)};return document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)}},[L,U]),D.useEffect(()=>{try{console.time("Received conversation and faqs in"),C(),pe()}catch(B){console.log(B)}finally{console.timeEnd("Received conversation and faqs in")}},[C,pe]),{isAtLatestChat:k,latestChat:w,faqsRef:L,settings:T,setSettings:y,loading:S,setLoading:M,isFaqsMenuActive:U,setIsFaqsMenuActive:P,userMessage:I,setUserMessage:v,botIsTyping:E,setBotIsTyping:x,toggleSettings:N,conversation:s,faqs:l,getFaqs:pe,sendMessageToBot:ft,sendFaqToBot:Ce}};function s5(t){return Ae({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 1024c-69.1 0-136.2-13.5-199.3-40.2C251.7 958 197 921 150 874c-47-47-84-101.7-109.8-162.7C13.5 648.2 0 581.1 0 512c0-19.9 16.1-36 36-36s36 16.1 36 36c0 59.4 11.6 117 34.6 171.3 22.2 52.4 53.9 99.5 94.3 139.9 40.4 40.4 87.5 72.2 139.9 94.3C395 940.4 452.6 952 512 952c59.4 0 117-11.6 171.3-34.6 52.4-22.2 99.5-53.9 139.9-94.3 40.4-40.4 72.2-87.5 94.3-139.9C940.4 629 952 571.4 952 512c0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.2C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3s-13.5 136.2-40.2 199.3C958 772.3 921 827 874 874c-47 47-101.8 83.9-162.7 109.7-63.1 26.8-130.2 40.3-199.3 40.3z"},child:[]}]})(t)}const eT=()=>f.jsx("div",{className:"flex justify-center items-center h-[10%]",children:f.jsx(s5,{className:"text-4xl animate-spin text-primary dark:text-dm-surface-light"})}),o5=({onClick:t})=>{const e=D.useContext(xh),{isSignedIn:n}=e.user,r=D.useContext(wt),{configuration:i}=r.configuration,s=D.useContext(Po),{isChatActive:o}=s.active,{chatHeadSize:l}=s.chatHeadSize,{isAtLatestChat:u}=Zx();return f.jsx(f.Fragment,{children:n&&u&&i.widgetIcon?f.jsx("button",{onClick:t,id:"",className:`fixed hidden xl:block right-[2%] bottom-[2%] rounded-full overflow-hidden z-[100] ${o?"scale-0 opacity-0 invisible":""}`,children:f.jsx("img",{src:i.widgetIcon,alt:"chat head logo",width:l,height:l,className:"aspect-square object-cover"})}):f.jsx("div",{style:{width:l,height:l},className:"fixed right-[2%] bottom-[2%] flex items-center justify-center z-[100] [&>div>svg>path]:text-primary xl:[&>div>svg>path]:text-white ",children:f.jsx(eT,{})})})},a5="suggested messages",l5=[{id:"1",displayedText:"City Hall Location",message:"Where can I find the City Hall of Bacoor?"},{id:"2",displayedText:"Say Hi!",message:"Hi"},{id:"3",displayedText:"Who made you?",message:"Who made you?"}],tT={name:a5,list:l5},nT=({...t})=>f.jsx(Ut,{variant:"outline",size:"xl",className:"rounded-3xl w-full h-full border border-primary text-xs xs:text-sm text-primary dark:text-white hover:bg-primary hover:text-white  active:translate-y-1",...t}),nr=({items:t,renderItems:e})=>f.jsx(f.Fragment,{children:t==null?void 0:t.map((n,r)=>e(n,r))}),u5=({sendMessageToBot:t})=>f.jsx("section",{id:"suggested-chats",className:"w-full max-w-[95%] rounded-3xl border border-surface dark:border-dm-surface-dark dark:bg-dm-surface text-xs xs:text-sm sm:text-base flex justify-around sm:justify-center xl:justify-around gap-x-2 sm:gap-x-8 xl:gap-x-2 px-4 py-2 mt-auto outline-none",children:f.jsx(nr,{items:tT.list,renderItems:e=>f.jsx(nT,{onClick:n=>t(n,e.message),children:e.displayedText},e.id)})});function Wf(){return Wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wf.apply(null,arguments)}function c5(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}var h5=D.useLayoutEffect,d5=function(e){var n=D.useRef(e);return h5(function(){n.current=e}),n},R0=function(e,n){if(typeof e=="function"){e(n);return}e.current=n},f5=function(e,n){var r=D.useRef();return D.useCallback(function(i){e.current=i,r.current&&R0(r.current,null),r.current=n,n&&R0(n,i)},[n])},P0={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},p5=function(e){Object.keys(P0).forEach(function(n){e.style.setProperty(n,P0[n],"important")})},N0=p5,Ht=null,D0=function(e,n){var r=e.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function m5(t,e,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Ht||(Ht=document.createElement("textarea"),Ht.setAttribute("tabindex","-1"),Ht.setAttribute("aria-hidden","true"),N0(Ht)),Ht.parentNode===null&&document.body.appendChild(Ht);var i=t.paddingSize,s=t.borderSize,o=t.sizingStyle,l=o.boxSizing;Object.keys(o).forEach(function(g){var w=g;Ht.style[w]=o[w]}),N0(Ht),Ht.value=e;var u=D0(Ht,t);Ht.value=e,u=D0(Ht,t),Ht.value="x";var c=Ht.scrollHeight-i,d=c*n;l==="border-box"&&(d=d+i+s),u=Math.max(d,u);var m=c*r;return l==="border-box"&&(m=m+i+s),u=Math.min(m,u),[u,c]}var L0=function(){},g5=function(e,n){return e.reduce(function(r,i){return r[i]=n[i],r},{})},v5=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],y5=!!document.documentElement.currentStyle,_5=function(e){var n=window.getComputedStyle(e);if(n===null)return null;var r=g5(v5,n),i=r.boxSizing;if(i==="")return null;y5&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},w5=_5;function rT(t,e,n){var r=d5(n);D.useLayoutEffect(function(){var i=function(o){return r.current(o)};if(t)return t.addEventListener(e,i),function(){return t.removeEventListener(e,i)}},[])}var E5=function(e){rT(window,"resize",e)},x5=function(e){rT(document.fonts,"loadingdone",e)},T5=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],I5=function(e,n){var r=e.cacheMeasurements,i=e.maxRows,s=e.minRows,o=e.onChange,l=o===void 0?L0:o,u=e.onHeightChange,c=u===void 0?L0:u,d=c5(e,T5),m=d.value!==void 0,g=D.useRef(null),w=f5(g,n),k=D.useRef(0),b=D.useRef(),L=function(){var S=g.current,M=r&&b.current?b.current:w5(S);if(M){b.current=M;var U=m5(M,S.value||S.placeholder||"x",s,i),P=U[0],I=U[1];k.current!==P&&(k.current=P,S.style.setProperty("height",P+"px","important"),c(P,{rowHeight:I}))}},T=function(S){m||L(),l(S)};return D.useLayoutEffect(L),E5(L),x5(L),D.createElement("textarea",Wf({},d,{onChange:T,ref:w}))},iT=D.forwardRef(I5);function S5(t){return Ae({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M87.48 380c1.2-4.38-1.43-10.47-3.94-14.86a42.63 42.63 0 0 0-2.54-3.8 199.81 199.81 0 0 1-33-110C47.64 139.09 140.72 48 255.82 48 356.2 48 440 117.54 459.57 209.85a199 199 0 0 1 4.43 41.64c0 112.41-89.49 204.93-204.59 204.93-18.31 0-43-4.6-56.47-8.37s-26.92-8.77-30.39-10.11a31.14 31.14 0 0 0-11.13-2.07 30.7 30.7 0 0 0-12.08 2.43L81.5 462.78a15.92 15.92 0 0 1-4.66 1.22 9.61 9.61 0 0 1-9.58-9.74 15.85 15.85 0 0 1 .6-3.29z"},child:[]},{tag:"circle",attr:{cx:"160",cy:"256",r:"32"},child:[]},{tag:"circle",attr:{cx:"256",cy:"256",r:"32"},child:[]},{tag:"circle",attr:{cx:"352",cy:"256",r:"32"},child:[]}]})(t)}function C5(t){return Ae({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(t)}function sT(t){return Ae({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m476.59 227.05-.16-.07L49.35 49.84A23.56 23.56 0 0 0 27.14 52 24.65 24.65 0 0 0 16 72.59v113.29a24 24 0 0 0 19.52 23.57l232.93 43.07a4 4 0 0 1 0 7.86L35.53 303.45A24 24 0 0 0 16 327v113.31A23.57 23.57 0 0 0 26.59 460a23.94 23.94 0 0 0 13.22 4 24.55 24.55 0 0 0 9.52-1.93L476.4 285.94l.19-.09a32 32 0 0 0 0-58.8z"},child:[]}]})(t)}function k5(t){return Ae({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 176a80 80 0 1 0 80 80 80.24 80.24 0 0 0-80-80zm172.72 80a165.53 165.53 0 0 1-1.64 22.34l48.69 38.12a11.59 11.59 0 0 1 2.63 14.78l-46.06 79.52a11.64 11.64 0 0 1-14.14 4.93l-57.25-23a176.56 176.56 0 0 1-38.82 22.67l-8.56 60.78a11.93 11.93 0 0 1-11.51 9.86h-92.12a12 12 0 0 1-11.51-9.53l-8.56-60.78A169.3 169.3 0 0 1 151.05 393L93.8 416a11.64 11.64 0 0 1-14.14-4.92L33.6 331.57a11.59 11.59 0 0 1 2.63-14.78l48.69-38.12A174.58 174.58 0 0 1 83.28 256a165.53 165.53 0 0 1 1.64-22.34l-48.69-38.12a11.59 11.59 0 0 1-2.63-14.78l46.06-79.52a11.64 11.64 0 0 1 14.14-4.93l57.25 23a176.56 176.56 0 0 1 38.82-22.67l8.56-60.78A11.93 11.93 0 0 1 209.94 26h92.12a12 12 0 0 1 11.51 9.53l8.56 60.78A169.3 169.3 0 0 1 361 119l57.2-23a11.64 11.64 0 0 1 14.14 4.92l46.06 79.52a11.59 11.59 0 0 1-2.63 14.78l-48.69 38.12a174.58 174.58 0 0 1 1.64 22.66z"},child:[]}]})(t)}const b5=({faqsRef:t,sendMessageToBot:e,sendFaqToBot:n,userMessage:r,setUserMessage:i,isFaqsMenuActive:s,setIsFaqsMenuActive:o})=>{const l=D.useContext(wt),{faqs:u}=l.faqs,c=()=>{o(!s)},d=()=>{if(u.length)return f.jsxs("section",{id:"suggested-questions",className:`w-full max-w-[95%] absolute bottom-0 px-4 py-3 mb-[160px] rounded-3xl bg-white dark:bg-dm-surface border border-surface dark:border-dm-surface-dark z-50 ${s?"block opacity-100 visible":"opacity-0 invisible"}`,children:[f.jsxs("div",{className:"mb-4 font-semibold",children:[f.jsx("h1",{className:"capitalize text-black/80 dark:text-white/80",children:"hello there!"}),f.jsx("p",{className:"text-black/50 dark:text-white/50",children:"You can ask me about,"})]}),f.jsx("div",{className:"inline-grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-2 gap-2 ",children:f.jsx(nr,{items:u,renderItems:(m,g)=>f.jsx(Ut,{variant:"outline",className:"rounded-3xl w-full h-full border border-primary text-xs xs:text-sm text-primary dark:text-white hover:bg-primary hover:text-white active:translate-y-1",onClick:()=>n(m.questions[0]),children:m.questions[0]},g)})})]})};return f.jsxs("div",{ref:t,className:"w-full flex justify-center items-center",children:[d(),f.jsxs("form",{onSubmit:m=>e(m,r),className:"w-full flex justify-between items-center gap-1 px-2 py-2",children:[f.jsx(Ut,{variant:"icon",size:"icon",className:`text-primary hover:bg-surface dark:hover:bg-dm-surface ${s&&"bg-primary [&>svg]:text-white hover:bg-primary dark:hover:bg-primary"}`,type:"button",onClick:c,children:f.jsx(Qm,{})}),f.jsx("label",{htmlFor:"chat",className:"w-full px-2 py-3 rounded-3xl flex items-center border border-surface-dark outline-primary focus-within:border-primary dark:border-transparent dark:bg-dm-surface dark:focus-within:bg-dm-surface-light cursor-text",children:f.jsx(iT,{id:"chat",name:"chat",autoFocus:!0,spellCheck:!1,value:r,onChange:m=>{i(m.target.value),o(!1)},className:"max-h-[100px] w-full dark:text-white outline-none bg-transparent placeholder:text-sm sm:placeholder:text-base px-2 dark:bg-dm-surface dark:focus:bg-dm-surface-light placeholder:opacity-80 caret-primary dark:caret-secondary scrollbar-thin scrollbar-track-transparent scrollbar-thumb-surface-dark dark:scrollbar-thumb-dm-surface-dark",placeholder:"Type here..."})}),f.jsx(Ut,{variant:"icon",size:"icon",className:"text-primary active:translate-x-1 hover:bg-surface dark:hover:bg-dm-surface cursor-pointer",type:"submit",onClick:()=>o(!1),disabled:!r,children:f.jsx(sT,{})})]})]})},A5=()=>{const[t,e]=D.useState("hide");return{backToView:t,setBackToView:e,handleScrollIntoView:r=>{var i;(i=r.current)==null||i.scrollIntoView({behavior:"smooth"})}}},R5=new Intl.DateTimeFormat("en-PH",{timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone,hour:"numeric",minute:"numeric"}),O0=({message:t})=>f.jsx("div",{className:"w-full flex justify-center",children:f.jsx("div",{className:"min-w-[50%] px-4 py-3 mt-3 mb-2 text-center text-white rounded-3xl bg-red-500 capitalize",children:t})}),P5=({children:t,ref:e,type:n,disabled:r,onClick:i,state:s,className:o})=>{let l="",u="";switch(n){case"submit":l="active:translate-x-2";break;case"reset":l="active:tranform active:scale-75"}if(s)switch(s){case!0:u="bg-primary [&>svg>line]:text-white";break}return f.jsx("button",{ref:e,type:n,onClick:i,disabled:r,className:`p-3 rounded-full flex items-center justify-center text-2xl text-primary cursor-pointer ${l} ${u} ${o}`,children:t})},N5=()=>{const t=D.useContext(wt),{configuration:e}=t.configuration;return f.jsxs("div",{className:"w-full mt-3 mb-2 rounded-3xl flex gap-2 items-center ",children:[f.jsx("img",{src:e.icon,alt:"Chatbot Icon",width:35,height:35,className:"rounded-full aspect-square object-cover select-none"}),f.jsxs("div",{className:"flex space-x-1 items-center rounded-3xl px-2 py-3 ",children:[f.jsx("div",{className:"h-2 w-2 bg-surface-dark dark:bg-dm-surface-light rounded-full animate-bounce [animation-delay:-0.3s]"}),f.jsx("div",{className:"h-2 w-2 bg-surface-dark dark:bg-dm-surface-light rounded-full animate-bounce [animation-delay:-0.15s]"}),f.jsx("div",{className:"h-2 w-2 bg-surface-dark dark:bg-dm-surface-light rounded-full animate-bounce"})]})]})},D5=Km("w-full h-full animate-pulse pointer-events-none",{variants:{variant:{default:"bg-surface-dark dark:bg-dm-surface-light",icon:"rounded-full aspect-square",chat:"max-w-[80%] rounded-3xl overflow-hidden"}},defaultVariants:{variant:"default"}}),zu=D.forwardRef(({className:t,variant:e,...n},r)=>f.jsx("div",{ref:r,className:Gm(D5({className:t,variant:e})),...n})),L5=()=>{const t=[{role:"bot"},{role:"user"},{role:"bot"},{role:"user"},{role:"bot"}];return f.jsx("section",{id:"messages",children:f.jsx(nr,{items:t,renderItems:(e,n)=>f.jsxs(zu,{variant:"chat",className:`${e.role=="bot"?"bot chat flex items-center gap-2":"user chat flex justify-end ml-auto"} mt-3 mb-2`,children:[e.role=="bot"&&f.jsx(zu,{variant:"icon",className:"bg-surface dark:bg-dm-surface w-[35px] h-[35px] rounded-full select-none"}),f.jsx(zu,{id:"chat",variant:"chat",className:`${e.role=="bot"?"bg-surface dark:bg-dm-surface w-full h-[96px]":"bg-primary w-[216px] h-[64px]"} `})]},n)})})},O5=Km("w-full h-full",{variants:{variant:{default:"",icon:"rounded-full aspect-square object-cover",iconBorder:"rounded-full border border-primary aspect-square object-cover"},size:{default:"max-w-[80px]",sm:"max-w-[50px]",md:"max-w-[100px]",lg:"max-w-[150px]",xl:"max-w-[200px]"}},defaultVariants:{variant:"default",size:"default"}}),Jm=D.forwardRef(({src:t,alt:e,className:n,size:r,variant:i,...s},o)=>f.jsx("img",{src:t,alt:e,ref:o,className:Gm(O5({className:n,variant:i,size:r})),...s})),M5=({className:t,miniProfileRef:e})=>{const n=D.useContext(wt),{configuration:r}=n.configuration;return f.jsxs("section",{id:"bot-mini-profile",className:`flex flex-col items-center pt-10 ${t}`,ref:e,children:[f.jsx(Jm,{src:r.icon,alt:"Chatbot Icon",variant:"icon",size:"lg",className:"mb-2"}),f.jsx("div",{id:"details",className:"w-full flex flex-col items-center text-center mb-4 p-2",children:f.jsxs("div",{className:"mb-4 space-y-2",children:[f.jsx("h1",{className:"max-w-full font-bold text-2xl sm:text-4xl  dark:text-white capitalize line-clamp-5",children:r.name}),f.jsx("h3",{className:"max-w-full dark:text-white sm:text-lg  line-clamp-5",children:r.slogan})]})}),f.jsx("hr",{className:"w-full border-surface-dark dark:border-dm-surface-light"})]})};function V5(t){return Ae({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(t)}const j5=({deptName:t,service:e,steps:n,requirements:r})=>{const[i,s]=D.useState(!1),o=D.useRef(null),l=()=>{s(!i)};return D.useEffect(()=>{const u=({target:c})=>{var d;(d=o.current)!=null&&d.contains(c)||s(!1)};return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[o]),f.jsxs("div",{ref:o,className:"relative flex flex-col m-2",children:[f.jsxs("button",{onClick:()=>l(),className:`px-4 py-3 text-left text-white cursor-pointer flex justify-between items-center gap-2 ${i?"rounded-b-none rounded-t-3xl bg-primary hover:bg-primary-dark dark:hover:bg-primary-dark":"rounded-3xl bg-surface-dark dark:bg-dm-surface-light"} [&>p]:hover:text-white [&>svg>path]:hover:text-white hover:bg-primary dark:hover:bg-primary z-20`,children:[f.jsx("p",{className:"max-w-[250px] text-white",children:t}),f.jsx(V5,{className:`${i?"rotate-180 text-white":"text-gray-400"}`})]}),f.jsx("div",{className:`w-full rounded-b-3xl z-10 overflow-hidden ${i==!0?"translate-y-0 bg-primary max-h-[1000px]":"-translate-y-[15%] rounded-3xl opacity-0 max-h-0 bg-surface-dark dark:bg-dm-surface-light"}`,children:f.jsxs("div",{className:"px-4 py-3",children:[f.jsxs("div",{className:"mb-2",children:[f.jsx("div",{className:"text-white text-lg font-semibold mb-1",children:"Here are the services we offer:"}),f.jsx("div",{className:"font-semibold text-white",children:e})]}),f.jsxs("div",{className:"mb-2",children:[f.jsx("div",{className:"text-white capitalize text-lg font-semibold mb-1",children:"steps:"}),f.jsx("p",{className:"text-white",children:n})]}),f.jsxs("div",{className:"",children:[f.jsx("div",{className:"text-white capitalize text-lg font-semibold mb-1",children:"requirements:"}),f.jsx("p",{className:"text-white",children:r})]})]})})]})},F5=({className:t,image:e})=>f.jsx("img",{id:"image-dimmer",src:e,alt:"",className:`w-full h-full fixed inset-0 object-cover z-50 blur-xl backdrop-blur-xl brightness-[0.3] ${t}`}),da=({children:t,className:e,role:n,timestamp:r})=>{const i=D.useContext(Do),{fontSize:s}=i.size,o=()=>{switch(n){case"user":return f.jsxs("div",{className:`rounded-3xl shadow px-4 py-3 space-y-2 break-words ${e}`,children:[f.jsx("div",{id:"message",style:{fontSize:s},className:"relative dark:text-white whitespace-pre-line",children:t}),f.jsx("div",{id:"timestamp",className:"w-full text-gray-200 dark:text-gray-300 text-xs text-right opacity-80 z-[9]",children:r})]});default:return f.jsxs("div",{className:`rounded-3xl shadow bg-surface dark:bg-dm-surface px-4 py-3 space-y-2 break-words ${e}`,children:[f.jsx("div",{id:"message",style:{fontSize:s},className:"relative dark:text-white whitespace-pre-line",children:t}),f.jsx("div",{id:"timestamp",className:"text-gray-500 dark:text-gray-300 text-xs text-right opacity-80 z-[9]",children:r})]})}};return f.jsx(f.Fragment,{children:o()})};function oT(t){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6.2253 4.81108C5.83477 4.42056 5.20161 4.42056 4.81108 4.81108C4.42056 5.20161 4.42056 5.83477 4.81108 6.2253L10.5858 12L4.81114 17.7747C4.42062 18.1652 4.42062 18.7984 4.81114 19.1889C5.20167 19.5794 5.83483 19.5794 6.22535 19.1889L12 13.4142L17.7747 19.1889C18.1652 19.5794 18.7984 19.5794 19.1889 19.1889C19.5794 18.7984 19.5794 18.1652 19.1889 17.7747L13.4142 12L19.189 6.2253C19.5795 5.83477 19.5795 5.20161 19.189 4.81108C18.7985 4.42056 18.1653 4.42056 17.7748 4.81108L12 10.5858L6.2253 4.81108Z",fill:"currentColor"},child:[]}]})(t)}function U5(t){return Ae({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.5 4.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293z"},child:[]}]})(t)}function z5(t){return Ae({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5 7.5a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v.938l.4 1.599a1 1 0 0 1-.416 1.074l-.93.62a1 1 0 0 1-1.11 0l-.929-.62a1 1 0 0 1-.415-1.074L5 8.438zm2 0H6v.938a1 1 0 0 1-.03.243l-.4 1.598.93.62.929-.62-.4-1.598A1 1 0 0 1 7 8.438z"},child:[]},{tag:"path",attr:{d:"M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1h-2v1h-1v1h1v1h-1v1h1v1H6V5H5V4h1V3H5V2h1V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5z"},child:[]}]})(t)}function B5(t){return Ae({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2v-1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zm-7.839 9.166v.522q0 .384-.117.641a.86.86 0 0 1-.322.387.9.9 0 0 1-.469.126.9.9 0 0 1-.471-.126.87.87 0 0 1-.32-.386 1.55 1.55 0 0 1-.117-.642v-.522q0-.386.117-.641a.87.87 0 0 1 .32-.387.87.87 0 0 1 .471-.129q.264 0 .469.13a.86.86 0 0 1 .322.386q.117.255.117.641m.803.519v-.513q0-.565-.205-.972a1.46 1.46 0 0 0-.589-.63q-.381-.22-.917-.22-.533 0-.92.22a1.44 1.44 0 0 0-.589.627q-.204.406-.205.975v.513q0 .563.205.973.205.406.59.627.386.216.92.216.535 0 .916-.216.383-.22.59-.627.204-.41.204-.973M0 11.926v4h1.459q.603 0 .999-.238a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.59-.68q-.395-.234-1.004-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082H.79V12.57Zm7.422.483a1.7 1.7 0 0 0-.103.633v.495q0 .369.103.627a.83.83 0 0 0 .298.393.85.85 0 0 0 .478.131.9.9 0 0 0 .401-.088.7.7 0 0 0 .273-.248.8.8 0 0 0 .117-.364h.765v.076a1.27 1.27 0 0 1-.226.674q-.205.29-.55.454a1.8 1.8 0 0 1-.786.164q-.54 0-.914-.216a1.4 1.4 0 0 1-.571-.627q-.194-.408-.194-.976v-.498q0-.568.197-.978.195-.411.571-.633.378-.223.911-.223.328 0 .607.097.28.093.489.272a1.33 1.33 0 0 1 .466.964v.073H9.78a.85.85 0 0 0-.12-.38.7.7 0 0 0-.273-.261.8.8 0 0 0-.398-.097.8.8 0 0 0-.475.138.87.87 0 0 0-.301.398"},child:[]}]})(t)}function $5(t){return Ae({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V11h-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zm-6.839 9.688v-.522a1.5 1.5 0 0 0-.117-.641.86.86 0 0 0-.322-.387.86.86 0 0 0-.469-.129.87.87 0 0 0-.471.13.87.87 0 0 0-.32.386 1.5 1.5 0 0 0-.117.641v.522q0 .384.117.641a.87.87 0 0 0 .32.387.9.9 0 0 0 .471.126.9.9 0 0 0 .469-.126.86.86 0 0 0 .322-.386 1.55 1.55 0 0 0 .117-.642m.803-.516v.513q0 .563-.205.973a1.47 1.47 0 0 1-.589.627q-.381.216-.917.216a1.86 1.86 0 0 1-.92-.216 1.46 1.46 0 0 1-.589-.627 2.15 2.15 0 0 1-.205-.973v-.513q0-.569.205-.975.205-.411.59-.627.386-.22.92-.22.535 0 .916.22.383.219.59.63.204.406.204.972M1 15.925v-3.999h1.459q.609 0 1.005.235.396.233.589.68.196.445.196 1.074 0 .634-.196 1.084-.197.451-.595.689-.396.237-.999.237zm1.354-3.354H1.79v2.707h.563q.277 0 .483-.082a.8.8 0 0 0 .334-.252q.132-.17.196-.422a2.3 2.3 0 0 0 .068-.592q0-.45-.118-.753a.9.9 0 0 0-.354-.454q-.237-.152-.61-.152Zm6.756 1.116q0-.373.103-.633a.87.87 0 0 1 .301-.398.8.8 0 0 1 .475-.138q.225 0 .398.097a.7.7 0 0 1 .273.26.85.85 0 0 1 .12.381h.765v-.073a1.33 1.33 0 0 0-.466-.964 1.4 1.4 0 0 0-.49-.272 1.8 1.8 0 0 0-.606-.097q-.534 0-.911.223-.375.222-.571.633-.197.41-.197.978v.498q0 .568.194.976.195.406.571.627.375.216.914.216.44 0 .785-.164t.551-.454a1.27 1.27 0 0 0 .226-.674v-.076h-.765a.8.8 0 0 1-.117.364.7.7 0 0 1-.273.248.9.9 0 0 1-.401.088.85.85 0 0 1-.478-.131.83.83 0 0 1-.298-.393 1.7 1.7 0 0 1-.103-.627zm5.092-1.76h.894l-1.275 2.006 1.254 1.992h-.908l-.85-1.415h-.035l-.852 1.415h-.862l1.24-2.015-1.228-1.984h.932l.832 1.439h.035z"},child:[]}]})(t)}function H5(t){return Ae({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V11h-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zm-9.736 7.35v3.999h-.791v-1.714H1.79v1.714H1V11.85h.791v1.626h1.682V11.85h.79Zm2.251.662v3.337h-.794v-3.337H4.588v-.662h3.064v.662zm2.176 3.337v-2.66h.038l.952 2.159h.516l.946-2.16h.038v2.661h.715V11.85h-.8l-1.14 2.596H9.93L8.79 11.85h-.805v3.999zm4.71-.674h1.696v.674H12.61V11.85h.79v3.325Z"},child:[]}]})(t)}function W5(t){return Ae({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z"},child:[]}]})(t)}function q5(t){return Ae({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m2.817-1.333h-1.6v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474.162-.302.161-.677 0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H4.15V12.48h.66q.327 0 .512.181.185.183.185.522m2.767-.67v3.336H7.48v-3.337H6.346v-.662h3.065v.662z"},child:[]}]})(t)}function G5(t){return Ae({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V11h-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.5 11.85h1.6q.434 0 .732.179.302.175.46.477t.158.677-.16.677q-.159.299-.464.474a1.45 1.45 0 0 1-.732.173H2.29v1.342H1.5zm2.06 1.714a.8.8 0 0 0 .085-.381q0-.34-.185-.521-.185-.182-.513-.182h-.659v1.406h.66a.8.8 0 0 0 .374-.082.57.57 0 0 0 .238-.24m1.302-1.714h1.6q.434 0 .732.179.302.175.46.477t.158.677-.16.677q-.158.299-.464.474a1.45 1.45 0 0 1-.732.173h-.803v1.342h-.79zm2.06 1.714a.8.8 0 0 0 .085-.381q0-.34-.185-.521-.184-.182-.513-.182H5.65v1.406h.66a.8.8 0 0 0 .374-.082.57.57 0 0 0 .238-.24m2.852 2.285v-3.337h1.137v-.662H7.846v.662H8.98v3.337zm3.796-3.999h.893l-1.274 2.007 1.254 1.992h-.908l-.85-1.415h-.035l-.853 1.415h-.861l1.24-2.016-1.228-1.983h.931l.832 1.439h.035z"},child:[]}]})(t)}function K5(t){return Ae({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-2v-1h2a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.928 15.849v-3.337h1.136v-.662H0v.662h1.134v3.337zm4.689-3.999h-.894L4.9 13.289h-.035l-.832-1.439h-.932l1.228 1.983-1.24 2.016h.862l.853-1.415h.035l.85 1.415h.907l-1.253-1.992zm1.93.662v3.337h-.794v-3.337H6.619v-.662h3.064v.662H8.546Z"},child:[]}]})(t)}function Q5(t){return Ae({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM6.472 15.29a1.2 1.2 0 0 1-.111-.449h.765a.58.58 0 0 0 .254.384q.106.073.25.114.143.041.319.041.246 0 .413-.07a.56.56 0 0 0 .255-.193.5.5 0 0 0 .085-.29.39.39 0 0 0-.153-.326q-.152-.12-.462-.193l-.619-.143a1.7 1.7 0 0 1-.539-.214 1 1 0 0 1-.351-.367 1.1 1.1 0 0 1-.123-.524q0-.366.19-.639.19-.272.527-.422.338-.15.777-.149.457 0 .78.152.324.153.5.41.18.255.2.566h-.75a.56.56 0 0 0-.12-.258.6.6 0 0 0-.247-.181.9.9 0 0 0-.369-.068q-.325 0-.513.152a.47.47 0 0 0-.184.384q0 .18.143.3a1 1 0 0 0 .405.175l.62.143q.326.075.566.211a1 1 0 0 1 .375.358q.135.222.135.56 0 .37-.188.656a1.2 1.2 0 0 1-.539.439q-.351.158-.858.158-.381 0-.665-.09a1.4 1.4 0 0 1-.478-.252 1.1 1.1 0 0 1-.29-.375m-2.945-3.358h-.893L1.81 13.37h-.036l-.832-1.438h-.93l1.227 1.983L0 15.931h.861l.853-1.415h.035l.85 1.415h.908L2.253 13.94zm2.727 3.325H4.557v-3.325h-.79v4h2.487z"},child:[]}]})(t)}function Y5(t){return Ae({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V11h-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM7.86 14.841a1.13 1.13 0 0 0 .401.823q.195.162.479.252.284.091.665.091.507 0 .858-.158.355-.158.54-.44a1.17 1.17 0 0 0 .187-.656q0-.336-.135-.56a1 1 0 0 0-.375-.357 2 2 0 0 0-.565-.21l-.621-.144a1 1 0 0 1-.405-.176.37.37 0 0 1-.143-.299q0-.234.184-.384.188-.152.513-.152.214 0 .37.068a.6.6 0 0 1 .245.181.56.56 0 0 1 .12.258h.75a1.1 1.1 0 0 0-.199-.566 1.2 1.2 0 0 0-.5-.41 1.8 1.8 0 0 0-.78-.152q-.44 0-.777.15-.336.149-.527.421-.19.273-.19.639 0 .302.123.524t.351.367q.229.143.54.213l.618.144q.31.073.462.193a.39.39 0 0 1 .153.326.5.5 0 0 1-.085.29.56.56 0 0 1-.255.193q-.168.07-.413.07-.176 0-.32-.04a.8.8 0 0 1-.249-.115.58.58 0 0 1-.255-.384zm-3.726-2.909h.893l-1.274 2.007 1.254 1.992h-.908l-.85-1.415h-.035l-.853 1.415H1.5l1.24-2.016-1.228-1.983h.931l.832 1.438h.036zm1.923 3.325h1.697v.674H5.266v-3.999h.791zm7.636-3.325h.893l-1.274 2.007 1.254 1.992h-.908l-.85-1.415h-.035l-.853 1.415h-.861l1.24-2.016-1.228-1.983h.931l.832 1.438h.036z"},child:[]}]})(t)}function X5(t){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(t)}function J5(t){return Ae({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.727 6.727H14V0H4.91c-.905 0-1.637.732-1.637 1.636v20.728c0 .904.732 1.636 1.636 1.636h14.182c.904 0 1.636-.732 1.636-1.636V6.727h-6zm-.545 10.455H7.09v-1.364h7.09v1.364zm2.727-3.273H7.091v-1.364h9.818v1.364zm0-3.273H7.091V9.273h9.818v1.363zM14.727 6h6l-6-6v6z"},child:[]}]})(t)}const M0=({chatBy:t,chat:e,img:n,video:r,image:i,file:s,fileLink:o,fileType:l,link:u,linkMessage:c,depts:d,renderDeptsContent:m,timestamp:g,loadMore:w,numberOfDeptsToShow:k})=>{const[b,L]=D.useState(!1),T=D.useRef(null),[y,S]=D.useState(!1),M=()=>{L(!b)},U=()=>{console.log("video loaded"),S(!0)},P=()=>{switch(l){case"doc":return f.jsx(B5,{});case"docx":return f.jsx($5,{});case"pdf":return f.jsx(W5,{});case"html":return f.jsx(H5,{});case"xls":return f.jsx(Q5,{});case"xlsx":return f.jsx(Y5,{});case"ppt":return f.jsx(q5,{});case"pptx":return f.jsx(G5,{});case"txt":return f.jsx(K5,{});case"zip":return f.jsx(z5,{});default:return f.jsx(J5,{})}};D.useEffect(()=>{const v=({target:E})=>{var x;(x=T.current)!=null&&x.contains(E)||L(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[b]);const I=()=>{switch(t){case"bot":return f.jsx("div",{className:`${t} message`,children:f.jsxs("div",{className:"w-full h-max relative flex items-center gap-2 mt-3 mb-2",children:[f.jsx("img",{src:n,alt:"Chatbot Icon",width:35,height:35,className:"rounded-full aspect-square object-cover select-none"}),(e||u||s||o||d)&&f.jsxs("div",{className:"flex flex-col gap-4 max-w-[70%]",children:[e&&f.jsx(da,{timestamp:g,children:e}),u&&f.jsx(ss,{to:u,target:"_blank",className:"group",children:f.jsx(da,{timestamp:g,className:"group-hover:bg-surface-dark/50 dark:group-hover:bg-dm-surface-light/70",children:f.jsxs("div",{className:"flex items-center gap-2 font-semibold text-primary dark:text-secondary",children:[f.jsx(X5,{className:"text-xl"}),c]})})}),s&&o&&f.jsx(ss,{to:o,target:"_blank",className:"group",children:f.jsx(da,{timestamp:g,className:"group-hover:bg-surface-dark/50 dark:group-hover:bg-dm-surface-light/70",children:f.jsxs("div",{className:"flex items-center gap-2 font-semibold text-primary dark:text-secondary",children:[f.jsx("span",{className:"text-xl",children:P()}),s]})})}),d&&m&&k&&f.jsxs(da,{timestamp:g,children:[m(),f.jsx("button",{onClick:w,className:`w-full absolute -bottom-1 bg-gradient-to-t from-surface dark:from-dm-surface from-15% h-[100px] z-30 backdrop-blur-xs  ${(d==null?void 0:d.length)<=k?"hidden":"block"} hover:backdrop-blur-0 [&>p]:hover:opacity-15`,children:f.jsxs("p",{className:"flex flex-col items-center justify-center gap-1 font-semibold text-primary dark:text-secondary drop-shadow-lg animate-bounce text-base",children:["Click here to show more",f.jsx(U5,{})]})})]})]}),i&&f.jsx("div",{className:`${y?"w-max h-max":"w-full h-[400px] bg-surface-dark/50 dark:bg-dm-surface-light animate-pulse aspect-square"} max-w-[70%] sm:max-w-[70%] md:max-w-[60%] lg:max-w-[50%] xl:max-w-[70%] cursor-pointer hover:opacity-70 rounded-xl overflow-hidden`,onClick:M,children:f.jsx("img",{src:i,alt:"",className:"rounded-xl",onLoad:U})}),r&&f.jsx("video",{controls:!0,muted:!0,className:"w-max max-w-[50%] sm:max-w-[40%] md:max-w-[35%] lg:max-w-[30%] xl:max-w-[50%] max-h-max rounded-xl outline-primary object-contain cursor-pointer",children:f.jsx("source",{src:r,type:"video/mp4"})})]})});case"user":return f.jsx("div",{className:`${t} message`,children:f.jsx("div",{className:"w-full flex justify-end mt-3 mb-2",children:f.jsx(da,{timestamp:g,role:"user",className:"max-w-[80%] bg-primary text-white",children:e})})})}};return f.jsxs(f.Fragment,{children:[b&&f.jsxs(f.Fragment,{children:[f.jsx(Ut,{variant:"icon",size:"icon",className:"fixed top-10 right-10 z-[100] text-white bg-error hover:bg-error/80 [&>svg>path]:hover:text-white",onClick:M,children:f.jsx(oT,{})}),f.jsx("div",{className:"fixed top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] w-screen h-screen flex justify-center items-center p-[4vw] z-[90]",children:f.jsx("img",{src:i,alt:"",className:"w-max max-w-[90%] h-max max-h-full",ref:T})}),f.jsx(F5,{image:i})]}),I()]})},Z5=4,eD=1,tD=({role:t,chat:e,image:n,video:r,file:i,fileLink:s,fileType:o,link:l,linkMessage:u,depts:c,timestamp:d})=>{const m=D.useContext(wt),{configuration:g}=m.configuration,[w,k]=D.useState(4),b=eD*w,L=b-w,T=c==null?void 0:c.slice(L,b),y=()=>{k(w+Z5)},S=()=>{if(c)return f.jsx(nr,{items:T,renderItems:U=>f.jsx(j5,{deptName:U.deptName,service:U.service,steps:U.steps,requirements:U.requirements},U.id)})},M=()=>{if(t==="bot")return f.jsx(M0,{chatBy:t,chat:e,img:g.icon,image:n,video:r,file:i,fileLink:s,fileType:o,link:l,linkMessage:u,depts:c,renderDeptsContent:S,timestamp:d,loadMore:y,numberOfDeptsToShow:w});if(t==="user")return f.jsx(M0,{chatBy:t,chat:e,timestamp:d})};return f.jsx(f.Fragment,{children:M()})};function nD(t){return Ae({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"},child:[]}]})(t)}function rD(t){return Ae({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"},child:[]}]})(t)}function iD(t){return Ae({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 0c17.7 0 32 14.3 32 32V96H472c39.8 0 72 32.2 72 72V440c0 39.8-32.2 72-72 72H168c-39.8 0-72-32.2-72-72V168c0-39.8 32.2-72 72-72H288V32c0-17.7 14.3-32 32-32zM208 384c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H208zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H304zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H400zM264 256a40 40 0 1 0 -80 0 40 40 0 1 0 80 0zm152 40a40 40 0 1 0 0-80 40 40 0 1 0 0 80zM48 224H64V416H48c-26.5 0-48-21.5-48-48V272c0-26.5 21.5-48 48-48zm544 0c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H576V224h16z"},child:[]}]})(t)}function sD(t){return Ae({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M533.6 32.5C598.5 85.2 640 165.8 640 256s-41.5 170.7-106.4 223.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C557.5 398.2 592 331.2 592 256s-34.5-142.2-88.7-186.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM473.1 107c43.2 35.2 70.9 88.9 70.9 149s-27.7 113.8-70.9 149c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C475.3 341.3 496 301.1 496 256s-20.7-85.3-53.2-111.8c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zm-60.5 74.5C434.1 199.1 448 225.9 448 256s-13.9 56.9-35.4 74.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C393.1 284.4 400 271 400 256s-6.9-28.4-17.7-37.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM301.1 34.8C312.6 40 320 51.4 320 64V448c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352H64c-35.3 0-64-28.7-64-64V224c0-35.3 28.7-64 64-64h67.8L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3z"},child:[]}]})(t)}const oD=15,aD=10,lD=({botIsTyping:t,latestChat:e})=>{const n=D.useContext(wt),{conversation:r}=n.conversation,{error:i}=n.error,{isOnline:s}=n.isOnline,{backToView:o,setBackToView:l,handleScrollIntoView:u}=A5(),[c,d]=D.useState(oD),[m,g]=D.useState(!1),w=r.slice(Math.max(r.length-c,0)),k=D.useRef(null),b=D.useRef(null),L=async y=>{var I;const S=y.currentTarget.scrollTop,U=(y.currentTarget.scrollHeight-457)/2,P=(I=k.current)==null?void 0:I.children.length;try{typeof e.current=="object"&&P&&(S<=U&&P>10?l("show"):l("hide"),w.length!=r.length&&S==0&&(console.log("Loading more chats"),g(!0),await Pn(1),g(!1),d(c+aD),t5(b)))}catch(v){console.log(v)}},T=()=>{if(r)return f.jsx(nr,{items:w,renderItems:y=>f.jsx(tD,{role:y.role,chat:y.chat,image:y.image,video:y.video,file:y.file,fileLink:y.fileLink,fileType:y.fileType,link:y.link,linkMessage:y.linkMessage,depts:y.depts,timestamp:R5.format(new Date(y.timestamp.seconds*1e3))},y.chatId)})};return f.jsxs(f.Fragment,{children:[f.jsx(P5,{className:`${o} absolute bottom-[150px] animate-bounce bg-surface hover:bg-primary [&>svg>path]:hover:text-white dark:bg-dm-surface dark:border-transparent dark:hover:bg-dm-surface-dark [&>svg>path]:dark:hover:text-primary z-50`,onClick:()=>u(e),children:f.jsx(nD,{})}),f.jsxs("section",{className:"relative w-full h-full px-4 py-6 overflow-y-scroll scrollbar-thin scrollbar-track-transparent scrollbar-thumb-surface-dark dark:scrollbar-thumb-dm-surface",onScroll:L,children:[f.jsx(M5,{className:"mb-8",miniProfileRef:b}),m&&f.jsx(eT,{}),r?f.jsxs("div",{id:"chats",ref:k,children:[T(),t&&f.jsx(N5,{})]}):f.jsx(L5,{}),i&&f.jsx(O0,{message:"something went wrong!"}),!s&&f.jsx(O0,{message:"no internet connection."}),f.jsx("div",{ref:e})]})]})},aT=({className:t,message:e})=>f.jsx("div",{id:"screen-dimmer",className:`w-full h-full fixed top-0 inset-x-0 flex justify-center items-center pr-[30%] ${t}`,children:f.jsx("p",{className:"text-lg text-gray-300 animate-bounce select-none",children:e})}),uD=[{name:"appearance",settingType:"chat",icon:S5},{name:"sound",settingType:"chat",icon:sD}],V0=({name:t,checkedIf:e,onClick:n,onChange:r,state:i,icon:s})=>f.jsxs("label",{htmlFor:t,className:`${i?"w-full":"w-max md:w-full "} ${Wx({variant:"settings",size:"full"})}`,onClick:n,children:[f.jsx("input",{type:"radio",name:"settings",id:t,value:t,checked:e,onChange:r,className:"hidden"}),i?f.jsx("span",{className:"md:block max-w-full truncate",children:t}):f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"hidden md:block max-w-full truncate",children:t}),f.jsx("div",{className:"text-xl p-0 md:hidden",children:s})]})]}),j0=({children:t})=>f.jsxs("div",{className:"flex flex-col space-y-2 mb-4",children:[t,f.jsx("hr",{className:"border-surface-dark dark:border-dm-surface "})]}),F0=({name:t})=>f.jsx("p",{className:"w-full min-h-[35px] md:min-h-0 md:mb-2 text-xs text-black/60 dark:text-white/50 font-helvetica-bold capitalize md:px-4 line-clamp-2 break-words",children:t}),cD=({state:t,handleSettingsChange:e,changeSetting:n})=>{const r=D.useContext(wt),{configuration:i}=r.configuration,[s,o]=D.useState(!1),l=D.useRef(null),u=()=>{o(!s)};return D.useEffect(()=>{const c=({target:d})=>{var m;(m=l.current)!=null&&m.contains(d)||o(!1)};return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[]),f.jsx(f.Fragment,{children:f.jsxs("nav",{className:`absolute top-0 left-0 bottom-0 h-full px-4 py-10 flex flex-col items-start sm:justify-between bg-surface dark:bg-dm-surface-dark ${s?"w-[50%] md:w-[20%]":"w-[20%] sm:w-[15%] md:w-[20%]"} z-50`,ref:l,children:[f.jsx(Ut,{variant:"icon",size:"icon",onClick:u,className:`${s?"bg-primary [&>svg>line]:text-white":"hover:bg-surface-dark dark:hover:bg-dm-surface"} [&>svg>line]:dark:text-white md:hidden mb-10`,children:f.jsx(Qm,{})}),f.jsxs("div",{className:"w-full",children:[f.jsxs(j0,{children:[f.jsx(F0,{name:"chat settings"}),uD.filter(c=>c.settingType==="chat").map(c=>f.jsx(V0,{name:c.name,checkedIf:t==c.name,onClick:()=>n(c.name),onChange:e,icon:f.jsx(c.icon,{}),state:s},c.name))]}),f.jsxs(j0,{children:[f.jsx(F0,{name:"about"}),f.jsx(V0,{name:i.name,checkedIf:t==i.name,onClick:()=>n(i.name),onChange:e,icon:f.jsx(iD,{}),state:s})]})]}),f.jsx(Kx,{className:"text-xs px-2 md:px-4 text-black/60 dark:text-white/50 mt-auto",text:`${s?"Version ":"v"}`})]})})},Zm=({text:t="Settings Title"})=>f.jsx("h1",{className:"capitalize text-3xl font-bold dark:text-white w-max",children:t}),Ed=({style:t,chat:e,linkedChat:n})=>{const r=D.useContext(wt),{configuration:i}=r.configuration;return f.jsx("div",{style:t,className:"bot chat",children:f.jsxs("div",{className:"w-full relative flex items-center gap-2 mt-3 mb-2",children:[f.jsx("img",{src:i.icon,alt:"Chatbot Icon",width:35,height:35,className:"rounded-full aspect-square object-cover select-none"}),e&&f.jsxs("div",{className:"max-w-[80%] rounded-3xl shadow bg-surface dark:bg-dm-surface px-4 py-3 space-y-2 break-words",children:[f.jsx("p",{id:"chat",className:"dark:text-white",children:e}),f.jsx("div",{id:"timeSent",className:"w-full text-gray-500 dark:text-gray-300 text-xs text-right opacity-80",children:new Date().toLocaleTimeString().replace(/(.*)\D\d+/,"$1")})]}),n&&f.jsxs("div",{className:"max-w-[80%] rounded-3xl shadow bg-surface dark:bg-dm-surface px-4 py-3 space-y-2 break-words cursor-pointer group",children:[f.jsx("button",{className:"text-left text-primary dark:text-secondary font-semibold group-hover:underline",children:n}),f.jsx("div",{id:"timeSent",className:"w-full text-gray-500 dark:text-gray-300 text-xs text-right opacity-80",children:new Date().toLocaleTimeString().replace(/(.*)\D\d+/,"$1")})]})]})})},U0=({style:t,chat:e})=>f.jsx("div",{style:t,className:"user chat",children:f.jsx("div",{className:"w-full flex justify-end mt-3 mb-2",children:f.jsxs("div",{className:"max-w-[80%] rounded-3xl shadow bg-primary text-white px-4 py-3 space-y-2 break-words",children:[f.jsx("p",{id:"chat",children:e}),f.jsx("div",{id:"timeSent",className:"w-full text-gray-300 text-xs text-right opacity-80",children:new Date().toLocaleTimeString().replace(/(.*)\D\d+/,"$1")})]})})}),hD=()=>{const t=D.useContext(wt),{configuration:e}=t.configuration,n=D.useContext(Do),{fontSize:r}=n.size,{fontFamily:i}=n.family;return f.jsxs("div",{className:"max-w-[500px] w-full h-[700px] hidden md:flex flex-col items-center bg-background dark:bg-dm-background border border-surface-dark dark:border-dm-surface rounded-xl",style:{fontFamily:i},children:[f.jsx("header",{className:"w-full flex items-center justify-between px-4 py-4 mr-auto shadow-md dark:shadow-dm-surface-dark",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("img",{src:e.icon,alt:"",width:45,height:45,className:"rounded-full sm:w-[45px] sm:h-[45px] aspect-square object-cover select-none"}),f.jsx("h3",{className:"text-2xl capitalize font-semibold dark:text-white",children:"preview"})]})}),f.jsxs("div",{className:"w-full max-h-[612px] h-full px-4 py-6 overflow-y-scroll scrollbar-thin scrollbar-track-transparent scrollbar-thumb-surface-dark dark:scrollbar-thumb-dm-surface",children:[f.jsx(U0,{style:{fontSize:r},chat:"Sometimes, changing fonts helps us to read text clearly. Especially when we have eye problems "}),f.jsx(U0,{style:{fontSize:r},chat:`Your messages to ${e.name} will look like this.`}),f.jsx(Ed,{style:{fontSize:r},chat:`Meanwhile, ${e.name}'s messages will look like this.`}),f.jsx(Ed,{style:{fontSize:r},chat:`And when ${e.name} send a link`}),f.jsx(Ed,{style:{fontSize:r},linkedChat:"It will look like this"})]}),f.jsx("section",{className:"w-full max-w-[95%] rounded-3xl border border-surface dark:border-dm-surface-dark dark:bg-dm-surface text-xs xs:text-sm sm:text-base flex justify-around sm:justify-center xl:justify-around gap-x-2 sm:gap-x-8 xl:gap-x-2 px-4 py-2 mt-auto outline-none",children:tT.list.map((s,o)=>f.jsx(nT,{children:s.displayedText},o))}),f.jsxs("div",{className:"w-full flex justify-between items-center gap-1 px-2 py-2",children:[f.jsx(Ut,{variant:"icon",size:"icon",className:"text-primary hover:bg-surface dark:hover:bg-dm-surface",type:"button",children:f.jsx(Qm,{})}),f.jsx("label",{htmlFor:"sameple-chat-preview-ls",className:"w-full px-4 py-3 rounded-3xl flex items-center border border-surface-dark focus-within:border-primary dark:border-transparent dark:bg-dm-surface dark:focus-within:bg-dm-surface-light cursor-text",children:f.jsx(iT,{name:"sameple-chat-preview-ls",id:"sameple-chat-preview-ls",className:"max-h-[100px] w-full dark:text-white outline-none bg-transparent dark:focus:bg-dm-surface-light placeholder:text-sm sm:placeholder:text-base placeholder:opacity-80 caret-primary dark:caret-secondary scrollbar-thin scrollbar-track-transparent scrollbar-thumb-surface-dark dark:scrollbar-thumb-dm-surface-dark",placeholder:"The fonts only apply to chat"})}),f.jsx(Ut,{variant:"icon",size:"icon",className:"text-primary active:translate-x-1 hover:bg-surface dark:hover:bg-dm-surface cursor-pointer",type:"submit",children:f.jsx(sT,{})})]})]})},dD="themes",fD=[{id:"1",name:"light",value:"light"},{id:"2",name:"dark",value:"dark"},{id:"3",name:"system",value:"system"}],pD={name:dD,modes:fD},Lo=({text:t="Settings Mini Title"})=>f.jsx("h3",{className:"capitalize text-lg font-semibold mb-2 text-black/60 dark:text-white/50",children:t}),Al=({name:t,id:e,value:n,checkedIf:r,onClick:i,onChange:s,style:o,displayedText:l})=>f.jsx(Ut,{variant:"radio",size:"lg",className:"w-[120px] capitalize active:translate-y-1",onClick:i,children:f.jsxs("label",{htmlFor:e,className:"pointer-events-none truncate",style:o,children:[f.jsx("input",{type:"radio",name:t,id:e,value:n,checked:r,onChange:s,className:"hidden"}),l]})}),Rl=({...t})=>f.jsx("div",{className:"inline-grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 2xl:grid-cols-3 gap-5",...t}),Th=({children:t,className:e})=>f.jsx("div",{className:`w-max ${e}`,children:t}),mD=()=>{const t=D.useContext(Wm),{resolvedTheme:e,setTheme:n}=t.default,r=i=>{n(i.target.value)};return f.jsxs(Th,{children:[f.jsx(Lo,{text:"theme"}),f.jsx(Rl,{children:f.jsx(nr,{items:pD.modes,renderItems:i=>f.jsx(Al,{name:"themes",id:i.value,value:i.value,checkedIf:e==i.value,onChange:r,onClick:()=>t.changeTheme(i.value),displayedText:i.name},i.id)})})]})},gD=()=>{const t=D.useContext(Do),{fontFamily:e,setFontFamily:n}=t.family,r=i=>{n(i.target.value)};return f.jsxs(Th,{children:[f.jsx(Lo,{text:"font family"}),f.jsx(Rl,{children:f.jsx(nr,{items:Ym.list,renderItems:i=>f.jsx(Al,{name:"font-families",id:i.value,value:i.value,checkedIf:e==i.value,onChange:r,onClick:()=>t.changeFontFamily(i.value),style:{fontFamily:i.value},displayedText:i.name},i.value)})})]})},vD=[{name:"small",value:8},{name:"medium",value:12},{name:"normal",value:16},{name:"large",value:24},{name:"extra large",value:32},{name:"2XL",value:48}],yD=()=>{const t=D.useContext(Do),{fontSize:e,setFontSize:n}=t.size,r=i=>{n(parseInt(i.target.value))};return f.jsxs(Th,{children:[f.jsx(Lo,{text:"font size"}),f.jsx(Rl,{children:f.jsx(nr,{items:vD,renderItems:i=>f.jsx(Al,{name:"font-sizes",id:i.value.toString(),value:i.value,checkedIf:e==i.value,onChange:r,onClick:()=>t.changeFontSize(i.value),displayedText:i.name},i.value)})})]})},lT=({children:t})=>f.jsx("div",{className:"flex flex-col items-start gap-8",children:t}),_D=[{name:"small",value:100},{name:"medium",value:200},{name:"large",value:300}],wD=()=>{const t=D.useContext(wt),{configuration:e}=t.configuration,n=D.useContext(Po),{chatHeadSize:r}=n.chatHeadSize;return f.jsx("div",{className:"hidden xs:block w-max h-max rounded-full overflow-hidden ",children:f.jsx("img",{src:e.widgetIcon,alt:"chat head logo",width:r,height:r,className:"aspect-square object-cover"})})},ED=()=>{const t=D.useContext(Po),{chatHeadSize:e,setChatHeadSize:n}=t.chatHeadSize,r=i=>{n(parseInt(i.target.value))};return f.jsxs(Th,{className:"hidden xl:block",children:[f.jsx(Lo,{text:"chat head size"}),f.jsx(Rl,{children:f.jsx(nr,{items:_D,renderItems:i=>f.jsx(Al,{name:"chat-head-size",id:i.value.toString(),value:i.value,checkedIf:e==i.value,onChange:r,onClick:()=>t.changeChatHeadSize(i.value),displayedText:i.name},i.value)})}),f.jsx("div",{className:"flex flex-col items-center md:items-start 2xl:items-center mt-8",children:f.jsx(wD,{})})]})},z0=()=>f.jsx(f.Fragment,{children:f.jsxs("section",{className:"flex flex-col gap-8",children:[f.jsx(Zm,{text:"appearance"}),f.jsxs("div",{className:"flex flex-col 2xl:flex-row 2xl:justify-between gap-y-10 gap-x-6",children:[f.jsxs(lT,{children:[f.jsx(mD,{}),f.jsx(gD,{}),f.jsx(yD,{}),f.jsx(ED,{})]}),f.jsx(hD,{})]}),f.jsx("hr",{className:"w-full border-surface-dark dark:border-dm-surface-light"})]})}),xD=Qx,TD=Yx,B0=Hf,ID=[{name:"minimal pop",value:"minimalpop"},{name:"happy pop",value:"happypop"},{name:"multi pop",value:"multipop"}],SD=()=>{const{playChatSentSound:t}=Xx(),e=D.useContext(Xm),{chatSentSound:n,setChatSentSound:r}=e.chatSent,i=o=>{r(o.target.value)},s=o=>{switch(o){case"minimalpop":r(o),localStorage.setItem("chatSentSound",o),t(xD);break;case"happypop":r(o),localStorage.setItem("chatSentSound",o),t(TD);break;case"multipop":r(o),localStorage.setItem("chatSentSound",o),t(B0);break;default:r("multipop"),t(B0);break}};return f.jsxs("div",{children:[f.jsx(Lo,{text:"chat sent"}),f.jsx(Rl,{children:f.jsx(nr,{items:ID,renderItems:o=>f.jsx(Al,{name:"message-sent-sounds",id:o.value,value:o.value,checkedIf:n==o.value,onChange:i,onClick:()=>s(o.value),displayedText:o.name},o.value)})})]})},CD=()=>f.jsxs("section",{className:"flex flex-col gap-8",children:[f.jsx(Zm,{text:"sound"}),f.jsx(lT,{children:f.jsx(SD,{})}),f.jsx("hr",{className:"w-full border-surface-dark dark:border-dm-surface-light"})]}),$0=({to:t,src:e,alt:n,text:r})=>f.jsx(f.Fragment,{children:e?f.jsxs(ss,{to:t,target:"_blank",className:"relative flex justify-center items-center cursor-pointer rounded-full group",children:[f.jsx(Jm,{src:e,alt:n,variant:"icon",size:"xl",className:"group-hover:opacity-60 dark:group-hover:opacity-50"}),f.jsx("p",{className:"absolute opacity-0 group-hover:opacity-100 text-white text-xl font-helvetica-rounded-bold capitalize",children:r})]}):f.jsx(zu,{variant:"icon",className:"w-full"})}),kD=({className:t})=>{const e=D.useContext(wt),{configuration:n}=e.configuration;return f.jsxs("section",{id:"bot-profile",className:`flex flex-col items-center pt-10 ${t}`,children:[f.jsx(Jm,{src:n.icon,alt:"Chatbot Icon",variant:"icon",size:"lg",className:"mb-2"}),f.jsxs("div",{id:"details",className:"w-full flex flex-col items-center text-center mb-4 p-2",children:[f.jsxs("div",{className:"mb-4 space-y-2",children:[f.jsx("h1",{className:"max-w-full font-bold text-2xl sm:text-4xl  dark:text-white capitalize line-clamp-5",children:n.name}),f.jsx("h3",{className:"max-w-full dark:text-white sm:text-lg  line-clamp-5",children:n.slogan})]}),f.jsxs("div",{className:"space-y-8",children:[f.jsx("p",{className:"max-w-[600px] text-left text-black/80 dark:text-white/80 text-sm whitespace-pre-line",children:si.about}),f.jsxs("section",{className:"flex flex-col items-center gap-8 text-black/90 dark:text-white/90",children:[f.jsx("h2",{className:"font-semibold text-xl",children:"Meet my creators!"}),f.jsxs("div",{className:"inline-grid grid-cols-2 gap-4",children:[f.jsx($0,{to:"https://moonbamiofficial.vercel.app/",src:"https://avatars.githubusercontent.com/u/141120384?v=4",alt:"Jam Moonbami",text:"moonbami"}),f.jsx($0,{to:"https://www.facebook.com/JirehTumbagahan",src:"https://avatars.githubusercontent.com/u/106262567?v=4",alt:"Jireh",text:"ecchiko"})]})]})]})]}),f.jsx(ss,{to:"/",className:"my-8",children:f.jsx(Ut,{variant:"cta",size:"xl",className:"text-sm border border-surface dark:border-dm-surface bg-surface dark:bg-dm-surface hover:bg-primary dark:hover:bg-primary dark:text-white hover:text-white",children:"back to homepage"})}),f.jsx("hr",{className:"w-full border-surface-dark dark:border-dm-surface-light"})]})},bD=()=>{const t=D.useContext(wt),{configuration:e}=t.configuration;return f.jsxs("section",{className:"flex flex-col gap-8",children:[f.jsx(Zm,{text:"about"}),f.jsx("div",{className:"flex flex-col gap-y-10 gap-x-6",children:f.jsxs("div",{children:[f.jsx(Lo,{text:e.name}),f.jsx(kD,{})]})})]})},AD=({settings:t,toggleSettings:e})=>{const n=D.useContext(wt),{configuration:r}=n.configuration,[i,s]=D.useState("appearance"),o=c=>{s(c.target.value)},l=c=>{switch(c){case"appearance":s(c);break;case"sound":s(c);break;case r.name:s(c);break;default:s("appearance");break}},u=()=>{switch(i){case"appearance":return f.jsx(z0,{});case"sound":return f.jsx(CD,{});case r.name:return f.jsx(bD,{});default:return f.jsx(z0,{})}};return f.jsxs(f.Fragment,{children:[f.jsxs("section",{className:`fixed xl:top-[50%] xl:translate-y-[-50%] xl:inset-x-0 mx-auto xl:max-w-[75%] w-full xl:max-h-[90%] h-full xl:rounded-lg border-none overflow-hidden bg-background dark:bg-dm-surface-light flex z-[150] ${t?"animate-open-modal opacity-100 visible":"opacity-0 invisible hidden"}`,children:[f.jsx(cD,{state:i,handleSettingsChange:o,changeSetting:l}),f.jsx("div",{className:"w-full pl-[23%] sm:pl-[18%] md:pl-[23%] pr-6 xl:pr-8 py-20 dark:bg-dm-background overflow-y-scroll scrollbar-thin scrollbar-track-transparent scrollbar-thumb-surface-dark dark:scrollbar-thumb-dm-surface-dark",children:u()}),f.jsx(Ut,{variant:"destructiveOutline",size:"lg",className:"hidden sm:block absolute top-4 right-20 border-surface dark:border-dm-surface bg-surface dark:bg-dm-surface hover:text-white dark:hover:text-white",onClick:e,children:"back"}),f.jsx(Ut,{variant:"icon",size:"icon",className:"sm:hidden border ml-auto text-error border-surface dark:border-dm-surface bg-surface dark:bg-dm-surface dark:hover:bg-error hover:bg-error [&>svg>path]:hover:text-white absolute top-4 right-10",onClick:e,children:f.jsx(oT,{})})]}),f.jsx(aT,{className:`${t?"backdrop-blur":"opacity-0 invisible"} bg-black/30 z-[140]`})]})},RD=({toggleSettings:t,closeUsing:e})=>{const n=D.useContext(wt),{configuration:r}=(n==null?void 0:n.configuration)||{};return f.jsxs("header",{id:"chat-ui-header",className:"w-full flex items-center justify-between px-4 py-2 sm:py-3 lg:py-4 mr-auto border-b-2 dark:border-b-dm-surface-dark",children:[f.jsxs("button",{onClick:t,id:"chatbot-detai",className:"max-w-[60%] w-full flex items-center gap-4",children:[f.jsx("img",{src:r==null?void 0:r.icon,alt:"Chatbot Icon",width:40,height:40,className:"rounded-full sm:w-[45px] sm:h-[45px] aspect-square object-cover select-none"}),f.jsx("h3",{className:"max-w-max text-xl sm:text-2xl capitalize font-semibold dark:text-white truncate",children:r==null?void 0:r.name})]}),f.jsxs("menu",{className:"flex gap-4 justify-end items-center",children:[f.jsx(Ut,{variant:"icon",size:"icon",className:"rounded-full hover:bg-primary hover:rotate-180 [&>svg>path]:hover:text-white [&>svg>path]:dark:text-white",onClick:t,children:f.jsx(k5,{})}),f.jsx(Ut,{variant:"icon",size:"icon",className:"hidden xl:block rounded-full hover:bg-error group [&>svg>path]:hover:text-white [&>svg>path]:dark:text-white",onClick:e,children:f.jsx(C5,{})})]})]})},PD=({closeUsing:t})=>{const{latestChat:e,faqsRef:n,settings:r,isFaqsMenuActive:i,setIsFaqsMenuActive:s,userMessage:o,setUserMessage:l,botIsTyping:u,toggleSettings:c,sendMessageToBot:d,sendFaqToBot:m,isAtLatestChat:g}=Zx(),w=D.useContext(xh),{isSignedIn:k}=w.user,b=D.useContext(wt),{configuration:L}=b.configuration,T=D.useContext(Do),{fontFamily:y}=T.family,S=D.useContext(Po),{isChatActive:M}=S.active,U=()=>{if(g&&k&&L.icon)return f.jsxs("div",{id:"message-box",className:`w-full h-full xl:max-w-[500px] fixed flex flex-col items-center xl:right-[10%] xl:bottom-[8%] bg-background dark:bg-dm-background xl:rounded-xl overflow-hidden z-[100] opacity-100  ${M?"opacity-100 visible":"xl:opacity-0 xl:invisible"} [@media_((min-height:0px)_and_(min-width:1280px))]:max-h-[85%]`,style:{fontFamily:y},children:[f.jsx(RD,{toggleSettings:c,closeUsing:t}),f.jsx(lD,{botIsTyping:u,latestChat:e}),f.jsx(u5,{sendMessageToBot:d}),f.jsx(b5,{faqsRef:n,sendMessageToBot:d,sendFaqToBot:m,userMessage:o,setUserMessage:l,isFaqsMenuActive:i,setIsFaqsMenuActive:s})]})};return f.jsxs(f.Fragment,{children:[U(),f.jsx(AD,{settings:r,toggleSettings:c})]})},xd=({children:t,className:e})=>f.jsx("section",{className:`container w-[1021px] relative flex flex-col ${e}`,children:t}),H0=({href:t,text:e})=>f.jsx("a",{href:t,className:"capitalize font-bold py-5",children:e});function ND(t){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11.9999 13.1714L16.9497 8.22168L18.3639 9.63589L11.9999 15.9999L5.63599 9.63589L7.0502 8.22168L11.9999 13.1714Z"},child:[]}]})(t)}function DD(t){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10.8284 12.0007L15.7782 16.9504L14.364 18.3646L8 12.0007L14.364 5.63672L15.7782 7.05093L10.8284 12.0007Z"},child:[]}]})(t)}function LD(t){return Ae({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13.1717 12.0007L8.22192 7.05093L9.63614 5.63672L16.0001 12.0007L9.63614 18.3646L8.22192 16.9504L13.1717 12.0007Z"},child:[]}]})(t)}const fa=({text:t,dropdownOne:e,dropdownTwo:n,dropdownThree:r,dropdownFour:i,dropdownFive:s,toggle:o})=>f.jsxs("div",{onMouseEnter:o,onMouseLeave:o,className:"relative flex items-center gap-1 py-5 cursor-pointer",children:[f.jsx("p",{className:"capitalize font-bold",children:t}),f.jsx("span",{className:"[&>svg>path]:font-semibold",children:f.jsx(ND,{})}),e&&f.jsxs(pa,{children:[f.jsx(Oe,{href:"https://bacoor.gov.ph/uncategorized/vision-mission/",text:"mission & vision"}),f.jsx(Oe,{href:"https://bacoor.gov.ph/historical-background-of-bacoor/",text:"historical background of bacoor"}),f.jsx(Oe,{href:"https://bacoor.gov.ph/videos/352nd-bakood-festival/",text:"352nd bacoor festival"}),f.jsx(Oe,{href:"https://bacoor.gov.ph/ang-himno-ng-bacoor/",text:"ang himno ng bacoor"}),f.jsx(Oe,{href:"https://bacoor.gov.ph/category/tourism/",text:"tourism"})]}),n&&f.jsxs(pa,{children:[f.jsx(Oe,{href:"#",text:"citizen charter"}),f.jsx(Oe,{href:"https://bacoor.gov.ph/city-officials/",text:"city officials"}),f.jsx(Oe,{href:"https://bacoor.gov.ph/city-and-units-heads/",text:"city department and unit heads"}),f.jsx(Oe,{href:"https://bacoor.gov.ph/barangay-officials-2023/",text:"barangay officials"}),f.jsx(Oe,{href:"http://bacoorcitysp.com/legislative-tracker/",text:"city ordinances"}),f.jsx(Oe,{href:"#",text:"DILG Full Disclosure Policy"}),f.jsx(Oe,{href:"https://bacoor.gov.ph/clup-2015-2024/",text:"CLUP (2015-2024)"}),f.jsx(Oe,{href:"https://bacoor.gov.ph/job-vacancies/",text:"job vacancies"}),f.jsx(Oe,{href:"https://bacoor.gov.ph/privacy-policy/",text:"privacy policy"}),f.jsx(Oe,{href:"https://bacoor.gov.ph/iso-quality-management-system/",text:"ISO (Quality Management System)"})]}),r&&f.jsxs(pa,{children:[f.jsx(Oe,{href:"https://bacoor.gov.ph/category/awards/",text:"Awards / Accomplishment"}),f.jsx(Oe,{href:"https://www.facebook.com/MayorStrikeRevilla",text:"Official Facebook"}),f.jsx(Oe,{href:"https://www.strikesaserbisyo.com/",text:"Strike Sa Serbisyo App Website"}),f.jsx(Oe,{href:"#",text:"Mayor Strike - SCAN ME"})]}),i&&f.jsxs(pa,{children:[f.jsx(Oe,{href:"https://boss.bacoor.gov.ph/",text:"Online Application for Business & Building Permits"}),f.jsx(Oe,{href:"https://boss.bacoor.gov.ph/",text:"Online Appointment for Real Property Tax, Business & Building Permits"}),f.jsx(Oe,{href:"https://boss.bacoor.gov.ph/",text:"Solidarity Route Online Registration System"}),f.jsx(Oe,{href:"http://bacoorcitysp.com/legislative-tracker/",text:"city ordinances"})]}),s&&f.jsxs(pa,{children:[f.jsx(Oe,{href:"https://bacoor.gov.ph/bacoor-hospital-directory/",text:"hospital directory"}),f.jsx(Oe,{href:"https://bacoor.gov.ph/local-directory-of-bacoor-government-center/",text:"Local Gov't Offices"}),f.jsx(Oe,{href:"https://bacoor.gov.ph/city-and-units-heads/",text:"City Department and Unit Heads"}),f.jsx(Oe,{href:"https://bacoor.gov.ph/barangay-hall-directory/",text:"barangay hall"}),f.jsx(Oe,{href:"https://bacoor.gov.ph/national-government-agenciesoffices/",text:"National Government Agencies/Offices"})]})]}),pa=({children:t})=>f.jsx("div",{className:"w-[250px] absolute top-[60px] -left-6 flex flex-col text-xs text-black bg-white py-2 px-6",children:t}),Oe=({href:t,text:e})=>f.jsx("a",{href:t,className:"capitalize py-3 text-xs font-bold hover:text-[#ff0202]",children:e}),OD=()=>{const[t,e]=D.useState(!1),[n,r]=D.useState(!1),[i,s]=D.useState(!1),[o,l]=D.useState(!1),[u,c]=D.useState(!1),d=()=>{e(!t)},m=()=>{r(!n)},g=()=>{s(!i)},w=()=>{l(!o)},k=()=>{c(!u)};return f.jsx("header",{className:"w-full bg-[#1a94d5] text-white text-sm",children:f.jsxs("nav",{className:"w-full flex items-center gap-[30px] pl-8",children:[f.jsx(H0,{href:"https://bacoor.gov.ph/",text:"home"}),f.jsx(fa,{text:"about bacoor",dropdownOne:t,toggle:d}),f.jsx(fa,{text:"city government",dropdownTwo:n,toggle:m}),f.jsx(fa,{text:"mayor's corner",dropdownThree:i,toggle:g}),f.jsx(H0,{href:"https://bacoor.gov.ph/category/gallery/",text:"gallery"}),f.jsx(fa,{text:"services",dropdownFour:o,toggle:w}),f.jsx(fa,{text:"directory",dropdownFive:u,toggle:k}),f.jsx("button",{"aria-label":"Search Button",id:"search",className:"text-lg p-5 ml-auto",children:f.jsx(rD,{})})]})})},Lc=new Date,MD=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],VD=["January","February","March","April","May","June","July","August","September","October","November","December"],jD=MD[Lc.getDay()],FD=VD[Lc.getMonth()],UD=`${jD}, ${FD} ${Lc.getDate()}, ${Lc.getFullYear()}`,zD=()=>f.jsx(f.Fragment,{children:f.jsxs("div",{id:"date-header",className:"w-full relative flex gap-10 text-xs py-1 text-white font-bold uppercase",children:[f.jsx("div",{id:"city",className:"",children:f.jsx("p",{children:"bacoor"})}),f.jsx("p",{id:"date",children:UD})]})}),BD="/user/assets/city-hall-logo-DhRF3KuD.png",$D=()=>f.jsx("a",{"aria-label":"Bacoor City Hall Logo",href:"/bacoor-gov",className:"w-[125px] h-[125px] mx-auto",children:f.jsx("img",{src:BD,alt:"Bacoor City Hall Logo",id:"main-logo",className:"rounded-full"})}),HD="/user/assets/article-image-1-6tQld0xJ.jpg",WD="/user/assets/article-image-2-B6HQEfwh.png",qD="/user/assets/article-image-3-Cavo1pST.png",GD="/user/assets/article-image-4-DsJ6AYkb.png",KD=()=>f.jsxs("article",{id:"left",className:"min-w-[680px] h-full flex flex-col items-center",children:[f.jsx("img",{src:HD,alt:"",width:600,height:480,className:"p-5"}),f.jsxs("div",{className:"text-sm p-5",children:[f.jsx("a",{href:"https://bacoor.gov.ph/latest-news/parent-leaders-ng-zapote-3-nagbigay-ng-liham-para-kay-mayor-strike-b-revilla/",className:"mb-2",children:f.jsx("img",{src:WD,alt:"",width:680,height:415})}),f.jsx("p",{children:"Nabasa ni Mayor Strike B. Revilla ang pinadalang message sa kanya ng Parent Leaders ng Longos Zapote 3 sa kanyang opisina sa Bacoor City Hall. Masaya po naming nasaksihan ang naramdamang saya at lakas ng ating Mayor kanina. Nakakatuwa po..."})]}),f.jsxs("div",{className:"text-sm p-5",children:[f.jsx("a",{href:"https://bacoor.gov.ph/latest-news/tignan-unang-araw-ng-senakulo-ginanap-sa-san-nicolas-3/",className:"mb-2",children:f.jsx("img",{src:qD,alt:"",width:680,height:415})}),f.jsx("p",{children:"Noong March 25, 2024, isinagawa ang unang araw ng Senakulo na ginanap sa San Nicolas 3. Dumalo rin naman sa unang araw si Fr. Ramoncito Tadepa na nanguna sa pagbibigay ng Banal na Misa na nilahukan naman ito na Senakulista..."})]}),f.jsxs("div",{className:"text-sm p-5",children:[f.jsx("a",{href:"https://bacoor.gov.ph/latest-news/parent-leaders-ng-zapote-3-nagbigay-ng-liham-para-kay-mayor-strike-b-revilla/",className:"mb-2",children:f.jsx("img",{src:GD,alt:"",width:680,height:415})}),f.jsx("p",{children:'In a remarkable display of unity and collaboration, the City of Bacoor witnessed the launch of a groundbreaking partnership between private and public schools. The event, titled "Strike As 1 Ng Mga Nagkakaisang Paaralan," was organized by Mayor Strike...'})]})]});function QD(t){return Ae({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"},child:[]}]})(t)}const Qi=({text:t})=>f.jsx("div",{className:"bg-[#ff0202] px-3 capitalize text-white font-semibold text-sm rounded mr-auto inline",children:t}),YD="/user/assets/bacoor-city-hall-BIxqV_j3.png",XD=()=>f.jsxs("article",{id:"right",className:"min-w-[340px] border-l border-gray-300 ",children:[f.jsxs("div",{id:"about-bacoor",className:"flex flex-col gap-5 items-center px-5 pt-5 pb-10",children:[f.jsx(Qi,{text:"about bacoor"}),f.jsx("img",{src:YD,alt:"",width:300,height:100}),f.jsx("p",{className:"text-sm text-justify",children:"The City Government of Bacoor is the gateway to the province of Cavite. Bacoor is the first capital of the Revolutionary Government under General Emilio Aguinaldo. A historical landmark in our forebears' quest for Philippine Independence was the hard-fought Battle of Zapote Bridge on February 17, 1897. Gargano was the revolutionary name given to Bacoor."}),f.jsxs("a",{href:"http://bacoor.gov.ph/historical-background-of-bacoor/",className:"px-5 py-2 bg-[#1a94d5] rounded text-sm text-white capitalize flex items-center gap-1 ",children:[f.jsx(QD,{}),"history of bacoor"]}),f.jsxs("div",{id:"mission-vision",className:"text-sm",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"capitalize text-center text-xl pb-5",children:"mission"}),f.jsx("p",{className:"text-center",children:"To institute good governance, promote culture, trade and investment in the City, through modern technology towards a safe and sound environment."})]}),f.jsxs("div",{children:[f.jsx("h1",{className:"capitalize text-center text-xl pb-5",children:"vision"}),f.jsx("p",{className:"text-center t",children:"City of Bacoor: A model first class city, home of resilient, empowered, environment-friendly citizens, proud of their rich history and culture ably led by people-centered public servants united and guided by the rule of law, love of country and of God."})]})]})]}),f.jsxs("div",{id:"announcements",className:"flex flex-col bg-black text-white p-5",children:[f.jsx(Qi,{text:"announcement"}),f.jsxs("div",{className:"pt-5",children:[f.jsx("h3",{className:"font-semibold mb-1",children:"Memorandum Order No. 10 Series of 2024"}),f.jsx("p",{className:"text-xs text-gray-300",children:"March 25, 2024"})]}),f.jsxs("div",{className:"pt-5",children:[f.jsx("h3",{className:"font-semibold mb-1",children:"Advisory: Heavy Traffic"}),f.jsx("p",{className:"text-xs text-gray-300",children:"March 18, 2024"})]}),f.jsxs("div",{className:"pt-5",children:[f.jsx("h3",{className:"font-semibold mb-1",children:"SPECIAL (NON-WORKING) HOLIDAY in the province of Cavite through Proclamation No. 492"}),f.jsx("p",{className:"text-xs text-gray-300",children:"March 14, 2024"})]})]}),f.jsxs("div",{id:"city-bulletin",className:"flex flex-col p-5",children:[f.jsx(Qi,{text:"city bulletin"}),f.jsxs("div",{className:"pt-5",children:[f.jsx("h3",{className:"font-semibold mb-1",children:"Annual Procurement Plan 2024"}),f.jsx("p",{className:"text-xs",children:"January 31, 2024"})]}),f.jsxs("div",{className:"pt-5",children:[f.jsx("h3",{className:"font-semibold mb-1",children:"ANNUAL BUDGET 2024"}),f.jsx("p",{className:"text-xs",children:"December 6, 2023"})]}),f.jsxs("div",{className:"pt-5",children:[f.jsx("h3",{className:"font-semibold mb-1",children:"Public-Private Partnership Selection Committee Invitation for Comparative Proposals"}),f.jsx("p",{className:"text-xs",children:"November 7, 2023"})]}),f.jsxs("div",{className:"pt-5",children:[f.jsx("h3",{className:"font-semibold mb-1",children:"CERTIFICATION OF BARANGAY MERGER"}),f.jsx("p",{className:"text-xs",children:"September 15, 2023"})]})]}),f.jsxs("div",{id:"announcements",className:"flex flex-col bg-black text-white p-5",children:[f.jsx(Qi,{text:"DILG Full Disclosure Policy"}),f.jsxs("div",{className:"pt-5",children:[f.jsx("h3",{className:"font-semibold mb-1",children:"DILG Full Disclosure Policy 2024"}),f.jsx("p",{className:"text-xs text-gray-300",children:"January 3, 2024"})]}),f.jsxs("div",{className:"pt-5",children:[f.jsx("h3",{className:"font-semibold mb-1",children:"DILG Full Disclosure Policy 2023"}),f.jsx("p",{className:"text-xs text-gray-300",children:"December 19, 2022"})]}),f.jsxs("div",{className:"pt-5",children:[f.jsx("h3",{className:"font-semibold mb-1",children:"DILG Full Disclosure Policy 2022"}),f.jsx("p",{className:"text-xs text-gray-300",children:"January 4, 2022"})]}),f.jsxs("div",{className:"pt-5",children:[f.jsx("h3",{className:"font-semibold mb-1",children:"DILG Full Disclosure Policy 2021"}),f.jsx("p",{className:"text-xs text-gray-300",children:"January 7, 2021"})]}),f.jsxs("div",{className:"pt-5",children:[f.jsx("h3",{className:"font-semibold mb-1",children:"DILG Full Disclosure Policy 2020"}),f.jsx("p",{className:"text-xs text-gray-300",children:"January 7, 2020"})]})]})]}),JD="/user/assets/strike-scan-BmL1ajXO.jpg",ZD="/user/assets/fb-page-5ekxKhTM.png",eL=()=>f.jsxs("footer",{className:"flex flex-col",children:[f.jsxs("div",{className:"flex gap-12 px-10 mt-16",children:[f.jsxs("div",{id:"fb-page",className:"max-w-[340px] flex flex-col mb-5",children:[f.jsx(Qi,{text:"LIKE US ON FACEBOOK:"}),f.jsx("a",{href:"https://www.facebook.com/CityGovtBacoor/?ref=embed_page",className:"w-[200px] inline",children:f.jsx("img",{src:ZD,alt:"",width:200,height:500})})]}),f.jsxs("div",{id:"hotlines",className:"max-w-[340px] flex flex-col",children:[f.jsx("div",{className:"mb-5",children:f.jsx(Qi,{text:"EMERGENCY HOTLINES:"})}),f.jsxs("div",{className:"",children:[f.jsx("h1",{className:"text-[#ed1a3b]",children:"Bacoor Disaster Risk Reduction and Management Office (BDRRMO)"}),f.jsx("p",{className:"text-white text-sm",children:"(046) 417-0727"})]}),f.jsxs("div",{className:"",children:[f.jsx("h1",{className:"text-[#ed1a3b]",children:"Philippine National Police-Bacoor City (PNP)"}),f.jsx("p",{className:"text-white text-sm",children:"(046) 417-6366"})]}),f.jsxs("div",{className:"",children:[f.jsx("h1",{className:"text-[#ed1a3b]",children:"Bureau of Fire Protection-Bacoor City (BFP)"}),f.jsx("p",{className:"text-white text-sm",children:"(046) 417-6060"})]}),f.jsxs("div",{className:"",children:[f.jsx("h1",{className:"text-[#ed1a3b]",children:"BCity Information Office"}),f.jsx("p",{className:"text-white text-sm",children:"(046) 481-4120"})]})]}),f.jsxs("div",{id:"strike-scan",className:"max-w-[340px] flex flex-col",children:[f.jsx("div",{className:"mb-5",children:f.jsx(Qi,{text:"STRIKE SCAN ME"})}),f.jsx("img",{src:JD,alt:"",width:200,height:250})]})]}),f.jsx("div",{id:"main-footer",className:"mt-[200px] w-full bg-black text-white text-sm py-3 px-5",children:f.jsxs("p",{children:[" Bacoor.gov.ph |",f.jsx("a",{href:"https://bacoor.gov.ph/privacy-policy/",className:"capitalize hover:text-[#ed1a3b] ml-4",children:"privacy policy"})]})})]}),tL="/user/assets/landing-cdrUYs3f.png",nL=()=>f.jsxs("div",{className:"city-hall-page-body",children:[f.jsx("span",{id:"time-header-bg",className:"hidden xl:block w-full h-6 bg-black/40 absolute"}),f.jsxs(xd,{className:"hidden xl:flex",children:[f.jsx(zD,{}),f.jsx($D,{})]}),f.jsxs(xd,{className:"container hidden xl:flex bg-white",children:[f.jsx(OD,{}),f.jsxs("div",{id:"latest-news",className:"flex px-6 py-3",children:[f.jsx("div",{className:"bg-black px-3 uppercase text-[#ff0202] font-bold text-sm rounded mr-5",children:"latest news"}),f.jsx("div",{className:"w-[730px] text-[#ff0202] font-bold text-sm truncate",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Expedita, omnis voluptatum. Deserunt modi cumque accusamus at incidunt vel. Praesentium beatae non deleniti tempora eos dolorem labore dolore quibusdam amet vero."}),f.jsxs("div",{id:"latest-news-navigation",className:"flex gap-2 ml-auto",children:[f.jsx("button",{className:"text-[#ff0202] rounded-sm border border-red-300",children:f.jsx(DD,{})}),f.jsx("button",{className:"text-[#ff0202] rounded-sm border border-red-300",children:f.jsx(LD,{})})]})]}),f.jsx("a",{href:"https://bacoor.gov.ph/featured/congratulations-city-government-of-bacoor/",id:"landing-image",className:"mx-auto mb-4",children:f.jsx("img",{src:tL,alt:""})}),f.jsxs("div",{id:"article-list",className:"flex mx-auto",children:[f.jsx(KD,{}),f.jsx(XD,{})]})]}),f.jsx(xd,{className:"hidden xl:flex bg-black/70",children:f.jsx(eL,{})})]}),rL=()=>{const t=D.useContext(Po),{isChatActive:e,setIsChatActive:n}=t.active,r=t.icon,i=()=>{n(!e)};return f.jsx(f.Fragment,{children:f.jsxs("main",{className:"",children:[f.jsx("div",{ref:r,children:f.jsx(L3,{children:f.jsxs(M3,{children:[f.jsx(o5,{onClick:i}),f.jsx(PD,{closeUsing:i})]})})}),f.jsx(nL,{}),f.jsx(aT,{message:"Click anywhere to close.",className:`bg-black z-40 backdrop-blur ${e?"opacity-80":"opacity-0 invisible"}`})]})})},iL=()=>f.jsxs("div",{children:["please provide a better 404 error page",f.jsx(ss,{to:"/",className:"underline",children:"go back here"})]}),sL=yC([{path:"/",element:f.jsx(A3,{}),errorElement:f.jsx(iL,{})},{path:"/bacoor-gov",element:f.jsx(rL,{})}],{basename:"/user"});sw(document.getElementById("root")).render(f.jsx(D.StrictMode,{children:f.jsx(_P,{children:f.jsx(IP,{children:f.jsx(TN,{children:f.jsx(SN,{children:f.jsx(kN,{children:f.jsx(kC,{router:sL})})})})})})}));
