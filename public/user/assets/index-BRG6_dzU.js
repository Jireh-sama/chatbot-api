function Q0(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Y0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var X0={exports:{}},Vc={},J0={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pl=Symbol.for("react.element"),RE=Symbol.for("react.portal"),PE=Symbol.for("react.fragment"),NE=Symbol.for("react.strict_mode"),DE=Symbol.for("react.profiler"),LE=Symbol.for("react.provider"),jE=Symbol.for("react.context"),ME=Symbol.for("react.forward_ref"),VE=Symbol.for("react.suspense"),OE=Symbol.for("react.memo"),FE=Symbol.for("react.lazy"),Rg=Symbol.iterator;function UE(t){return t===null||typeof t!="object"?null:(t=Rg&&t[Rg]||t["@@iterator"],typeof t=="function"?t:null)}var Z0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},e1=Object.assign,t1={};function xo(t,e,n){this.props=t,this.context=e,this.refs=t1,this.updater=n||Z0}xo.prototype.isReactComponent={};xo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function n1(){}n1.prototype=xo.prototype;function Kf(t,e,n){this.props=t,this.context=e,this.refs=t1,this.updater=n||Z0}var Qf=Kf.prototype=new n1;Qf.constructor=Kf;e1(Qf,xo.prototype);Qf.isPureReactComponent=!0;var Pg=Array.isArray,r1=Object.prototype.hasOwnProperty,Yf={current:null},i1={key:!0,ref:!0,__self:!0,__source:!0};function s1(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)r1.call(e,r)&&!i1.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:pl,type:t,key:s,ref:o,props:i,_owner:Yf.current}}function zE(t,e){return{$$typeof:pl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xf(t){return typeof t=="object"&&t!==null&&t.$$typeof===pl}function BE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ng=/\/+/g;function jd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BE(""+t.key):e.toString(36)}function xu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case pl:case RE:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+jd(o,0):r,Pg(i)?(n="",t!=null&&(n=t.replace(Ng,"$&/")+"/"),xu(i,e,n,"",function(c){return c})):i!=null&&(Xf(i)&&(i=zE(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ng,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Pg(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+jd(s,l);o+=xu(s,e,n,u,i)}else if(u=UE(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+jd(s,l++),o+=xu(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xl(t,e,n){if(t==null)return t;var r=[],i=0;return xu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function $E(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yt={current:null},Eu={transition:null},HE={ReactCurrentDispatcher:Yt,ReactCurrentBatchConfig:Eu,ReactCurrentOwner:Yf};function o1(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:Xl,forEach:function(t,e,n){Xl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xl(t,function(){e++}),e},toArray:function(t){return Xl(t,function(e){return e})||[]},only:function(t){if(!Xf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=xo;ye.Fragment=PE;ye.Profiler=DE;ye.PureComponent=Kf;ye.StrictMode=NE;ye.Suspense=VE;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HE;ye.act=o1;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=e1({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Yf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)r1.call(e,u)&&!i1.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:pl,type:t.type,key:i,ref:s,props:r,_owner:o}};ye.createContext=function(t){return t={$$typeof:jE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:LE,_context:t},t.Consumer=t};ye.createElement=s1;ye.createFactory=function(t){var e=s1.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:ME,render:t}};ye.isValidElement=Xf;ye.lazy=function(t){return{$$typeof:FE,_payload:{_status:-1,_result:t},_init:$E}};ye.memo=function(t,e){return{$$typeof:OE,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=Eu.transition;Eu.transition={};try{t()}finally{Eu.transition=e}};ye.unstable_act=o1;ye.useCallback=function(t,e){return Yt.current.useCallback(t,e)};ye.useContext=function(t){return Yt.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return Yt.current.useDeferredValue(t)};ye.useEffect=function(t,e){return Yt.current.useEffect(t,e)};ye.useId=function(){return Yt.current.useId()};ye.useImperativeHandle=function(t,e,n){return Yt.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return Yt.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return Yt.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return Yt.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return Yt.current.useReducer(t,e,n)};ye.useRef=function(t){return Yt.current.useRef(t)};ye.useState=function(t){return Yt.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return Yt.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return Yt.current.useTransition()};ye.version="18.3.1";J0.exports=ye;var D=J0.exports;const Kt=Y0(D),qE=Q0({__proto__:null,default:Kt},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE=D,GE=Symbol.for("react.element"),KE=Symbol.for("react.fragment"),QE=Object.prototype.hasOwnProperty,YE=WE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XE={key:!0,ref:!0,__self:!0,__source:!0};function a1(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)QE.call(e,r)&&!XE.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:GE,type:t,key:s,ref:o,props:i,_owner:YE.current}}Vc.Fragment=KE;Vc.jsx=a1;Vc.jsxs=a1;X0.exports=Vc;var d=X0.exports,l1={exports:{}},vn={},u1={exports:{}},c1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,W){var Z=B.length;B.push(W);e:for(;0<Z;){var se=Z-1>>>1,de=B[se];if(0<i(de,W))B[se]=W,B[Z]=de,Z=se;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var W=B[0],Z=B.pop();if(Z!==W){B[0]=Z;e:for(var se=0,de=B.length,Te=de>>>1;se<Te;){var Re=2*(se+1)-1,Le=B[Re],it=Re+1,yt=B[it];if(0>i(Le,Z))it<de&&0>i(yt,Le)?(B[se]=yt,B[it]=Z,se=it):(B[se]=Le,B[Re]=Z,se=Re);else if(it<de&&0>i(yt,Z))B[se]=yt,B[it]=Z,se=it;else break e}}return W}function i(B,W){var Z=B.sortIndex-W.sortIndex;return Z!==0?Z:B.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],f=1,m=null,g=3,w=!1,k=!1,C=!1,L=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(B){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=B)r(c),W.sortIndex=W.expirationTime,e(u,W);else break;W=n(c)}}function M(B){if(C=!1,S(B),!k)if(n(u)!==null)k=!0,mt(U);else{var W=n(c);W!==null&&ke(M,W.startTime-B)}}function U(B,W){k=!1,C&&(C=!1,E(v),v=-1),w=!0;var Z=g;try{for(S(W),m=n(u);m!==null&&(!(m.expirationTime>W)||B&&!A());){var se=m.callback;if(typeof se=="function"){m.callback=null,g=m.priorityLevel;var de=se(m.expirationTime<=W);W=t.unstable_now(),typeof de=="function"?m.callback=de:m===n(u)&&r(u),S(W)}else r(u);m=n(u)}if(m!==null)var Te=!0;else{var Re=n(c);Re!==null&&ke(M,Re.startTime-W),Te=!1}return Te}finally{m=null,g=Z,w=!1}}var P=!1,I=null,v=-1,x=5,T=-1;function A(){return!(t.unstable_now()-T<x)}function N(){if(I!==null){var B=t.unstable_now();T=B;var W=!0;try{W=I(!0,B)}finally{W?b():(P=!1,I=null)}}else P=!1}var b;if(typeof y=="function")b=function(){y(N)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,lt=me.port2;me.port1.onmessage=N,b=function(){lt.postMessage(null)}}else b=function(){L(N,0)};function mt(B){I=B,P||(P=!0,b())}function ke(B,W){v=L(function(){B(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){k||w||(k=!0,mt(U))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(B){switch(g){case 1:case 2:case 3:var W=3;break;default:W=g}var Z=g;g=W;try{return B()}finally{g=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,W){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Z=g;g=B;try{return W()}finally{g=Z}},t.unstable_scheduleCallback=function(B,W,Z){var se=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?se+Z:se):Z=se,B){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=Z+de,B={id:f++,callback:W,priorityLevel:B,startTime:Z,expirationTime:de,sortIndex:-1},Z>se?(B.sortIndex=Z,e(c,B),n(u)===null&&B===n(c)&&(C?(E(v),v=-1):C=!0,ke(M,Z-se))):(B.sortIndex=de,e(u,B),k||w||(k=!0,mt(U))),B},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(B){var W=g;return function(){var Z=g;g=W;try{return B.apply(this,arguments)}finally{g=Z}}}})(c1);u1.exports=c1;var JE=u1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZE=D,gn=JE;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d1=new Set,Ua={};function ds(t,e){ro(t,e),ro(t+"Capture",e)}function ro(t,e){for(Ua[t]=e,t=0;t<e.length;t++)d1.add(e[t])}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sh=Object.prototype.hasOwnProperty,eT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dg={},Lg={};function tT(t){return Sh.call(Lg,t)?!0:Sh.call(Dg,t)?!1:eT.test(t)?Lg[t]=!0:(Dg[t]=!0,!1)}function nT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function rT(t,e,n,r){if(e===null||typeof e>"u"||nT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rt[t]=new Xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rt[e]=new Xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rt[t]=new Xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rt[t]=new Xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rt[t]=new Xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rt[t]=new Xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rt[t]=new Xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rt[t]=new Xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rt[t]=new Xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jf=/[\-:]([a-z])/g;function Zf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jf,Zf);Rt[e]=new Xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jf,Zf);Rt[e]=new Xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jf,Zf);Rt[e]=new Xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ep(t,e,n,r){var i=Rt.hasOwnProperty(e)?Rt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(rT(e,n,i,r)&&(n=null),r||i===null?tT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Nr=ZE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jl=Symbol.for("react.element"),Ps=Symbol.for("react.portal"),Ns=Symbol.for("react.fragment"),tp=Symbol.for("react.strict_mode"),bh=Symbol.for("react.profiler"),h1=Symbol.for("react.provider"),f1=Symbol.for("react.context"),np=Symbol.for("react.forward_ref"),kh=Symbol.for("react.suspense"),Ch=Symbol.for("react.suspense_list"),rp=Symbol.for("react.memo"),Gr=Symbol.for("react.lazy"),p1=Symbol.for("react.offscreen"),jg=Symbol.iterator;function Zo(t){return t===null||typeof t!="object"?null:(t=jg&&t[jg]||t["@@iterator"],typeof t=="function"?t:null)}var et=Object.assign,Md;function va(t){if(Md===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Md=e&&e[1]||""}return`
`+Md+t}var Vd=!1;function Od(t,e){if(!t||Vd)return"";Vd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Vd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?va(t):""}function iT(t){switch(t.tag){case 5:return va(t.type);case 16:return va("Lazy");case 13:return va("Suspense");case 19:return va("SuspenseList");case 0:case 2:case 15:return t=Od(t.type,!1),t;case 11:return t=Od(t.type.render,!1),t;case 1:return t=Od(t.type,!0),t;default:return""}}function Ah(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ns:return"Fragment";case Ps:return"Portal";case bh:return"Profiler";case tp:return"StrictMode";case kh:return"Suspense";case Ch:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case f1:return(t.displayName||"Context")+".Consumer";case h1:return(t._context.displayName||"Context")+".Provider";case np:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rp:return e=t.displayName||null,e!==null?e:Ah(t.type)||"Memo";case Gr:e=t._payload,t=t._init;try{return Ah(t(e))}catch{}}return null}function sT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ah(e);case 8:return e===tp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _i(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function m1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function oT(t){var e=m1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zl(t){t._valueTracker||(t._valueTracker=oT(t))}function g1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=m1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rh(t,e){var n=e.checked;return et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Mg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=_i(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function v1(t,e){e=e.checked,e!=null&&ep(t,"checked",e,!1)}function Ph(t,e){v1(t,e);var n=_i(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Nh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Nh(t,e.type,_i(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Nh(t,e,n){(e!=="number"||Hu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ya=Array.isArray;function Hs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+_i(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Dh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Og(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(ya(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:_i(n)}}function y1(t,e){var n=_i(e.value),r=_i(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Fg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var eu,w1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(eu=eu||document.createElement("div"),eu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=eu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function za(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ba={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aT=["Webkit","ms","Moz","O"];Object.keys(ba).forEach(function(t){aT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ba[e]=ba[t]})});function x1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ba.hasOwnProperty(t)&&ba[t]?(""+e).trim():e+"px"}function E1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=x1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var lT=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jh(t,e){if(e){if(lT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function Mh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vh=null;function ip(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Oh=null,qs=null,Ws=null;function Ug(t){if(t=vl(t)){if(typeof Oh!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Bc(e),Oh(t.stateNode,t.type,e))}}function T1(t){qs?Ws?Ws.push(t):Ws=[t]:qs=t}function I1(){if(qs){var t=qs,e=Ws;if(Ws=qs=null,Ug(t),e)for(t=0;t<e.length;t++)Ug(e[t])}}function S1(t,e){return t(e)}function b1(){}var Fd=!1;function k1(t,e,n){if(Fd)return t(e,n);Fd=!0;try{return S1(t,e,n)}finally{Fd=!1,(qs!==null||Ws!==null)&&(b1(),I1())}}function Ba(t,e){var n=t.stateNode;if(n===null)return null;var r=Bc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var Fh=!1;if(Tr)try{var ea={};Object.defineProperty(ea,"passive",{get:function(){Fh=!0}}),window.addEventListener("test",ea,ea),window.removeEventListener("test",ea,ea)}catch{Fh=!1}function uT(t,e,n,r,i,s,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var ka=!1,qu=null,Wu=!1,Uh=null,cT={onError:function(t){ka=!0,qu=t}};function dT(t,e,n,r,i,s,o,l,u){ka=!1,qu=null,uT.apply(cT,arguments)}function hT(t,e,n,r,i,s,o,l,u){if(dT.apply(this,arguments),ka){if(ka){var c=qu;ka=!1,qu=null}else throw Error(q(198));Wu||(Wu=!0,Uh=c)}}function hs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function C1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zg(t){if(hs(t)!==t)throw Error(q(188))}function fT(t){var e=t.alternate;if(!e){if(e=hs(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return zg(i),t;if(s===r)return zg(i),e;s=s.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function A1(t){return t=fT(t),t!==null?R1(t):null}function R1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=R1(t);if(e!==null)return e;t=t.sibling}return null}var P1=gn.unstable_scheduleCallback,Bg=gn.unstable_cancelCallback,pT=gn.unstable_shouldYield,mT=gn.unstable_requestPaint,ot=gn.unstable_now,gT=gn.unstable_getCurrentPriorityLevel,sp=gn.unstable_ImmediatePriority,N1=gn.unstable_UserBlockingPriority,Gu=gn.unstable_NormalPriority,vT=gn.unstable_LowPriority,D1=gn.unstable_IdlePriority,Oc=null,Qn=null;function yT(t){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(Oc,t,void 0,(t.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:xT,_T=Math.log,wT=Math.LN2;function xT(t){return t>>>=0,t===0?32:31-(_T(t)/wT|0)|0}var tu=64,nu=4194304;function _a(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ku(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=_a(l):(s&=o,s!==0&&(r=_a(s)))}else o=n&~i,o!==0?r=_a(o):s!==0&&(r=_a(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-On(e),i=1<<n,r|=t[n],e&=~i;return r}function ET(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-On(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=ET(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function zh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function L1(){var t=tu;return tu<<=1,!(tu&4194240)&&(tu=64),t}function Ud(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ml(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-On(e),t[e]=n}function IT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-On(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function op(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-On(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ne=0;function j1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var M1,ap,V1,O1,F1,Bh=!1,ru=[],oi=null,ai=null,li=null,$a=new Map,Ha=new Map,Qr=[],ST="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $g(t,e){switch(t){case"focusin":case"focusout":oi=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":$a.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ha.delete(e.pointerId)}}function ta(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=vl(e),e!==null&&ap(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function bT(t,e,n,r,i){switch(e){case"focusin":return oi=ta(oi,t,e,n,r,i),!0;case"dragenter":return ai=ta(ai,t,e,n,r,i),!0;case"mouseover":return li=ta(li,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return $a.set(s,ta($a.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ha.set(s,ta(Ha.get(s)||null,t,e,n,r,i)),!0}return!1}function U1(t){var e=Bi(t.target);if(e!==null){var n=hs(e);if(n!==null){if(e=n.tag,e===13){if(e=C1(n),e!==null){t.blockedOn=e,F1(t.priority,function(){V1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$h(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vh=r,n.target.dispatchEvent(r),Vh=null}else return e=vl(n),e!==null&&ap(e),t.blockedOn=n,!1;e.shift()}return!0}function Hg(t,e,n){Tu(t)&&n.delete(e)}function kT(){Bh=!1,oi!==null&&Tu(oi)&&(oi=null),ai!==null&&Tu(ai)&&(ai=null),li!==null&&Tu(li)&&(li=null),$a.forEach(Hg),Ha.forEach(Hg)}function na(t,e){t.blockedOn===e&&(t.blockedOn=null,Bh||(Bh=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,kT)))}function qa(t){function e(i){return na(i,t)}if(0<ru.length){na(ru[0],t);for(var n=1;n<ru.length;n++){var r=ru[n];r.blockedOn===t&&(r.blockedOn=null)}}for(oi!==null&&na(oi,t),ai!==null&&na(ai,t),li!==null&&na(li,t),$a.forEach(e),Ha.forEach(e),n=0;n<Qr.length;n++)r=Qr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qr.length&&(n=Qr[0],n.blockedOn===null);)U1(n),n.blockedOn===null&&Qr.shift()}var Gs=Nr.ReactCurrentBatchConfig,Qu=!0;function CT(t,e,n,r){var i=Ne,s=Gs.transition;Gs.transition=null;try{Ne=1,lp(t,e,n,r)}finally{Ne=i,Gs.transition=s}}function AT(t,e,n,r){var i=Ne,s=Gs.transition;Gs.transition=null;try{Ne=4,lp(t,e,n,r)}finally{Ne=i,Gs.transition=s}}function lp(t,e,n,r){if(Qu){var i=$h(t,e,n,r);if(i===null)Yd(t,e,r,Yu,n),$g(t,r);else if(bT(i,t,e,n,r))r.stopPropagation();else if($g(t,r),e&4&&-1<ST.indexOf(t)){for(;i!==null;){var s=vl(i);if(s!==null&&M1(s),s=$h(t,e,n,r),s===null&&Yd(t,e,r,Yu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Yd(t,e,r,null,n)}}var Yu=null;function $h(t,e,n,r){if(Yu=null,t=ip(r),t=Bi(t),t!==null)if(e=hs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=C1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yu=t,null}function z1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gT()){case sp:return 1;case N1:return 4;case Gu:case vT:return 16;case D1:return 536870912;default:return 16}default:return 16}}var ti=null,up=null,Iu=null;function B1(){if(Iu)return Iu;var t,e=up,n=e.length,r,i="value"in ti?ti.value:ti.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Iu=i.slice(t,1<r?1-r:void 0)}function Su(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function iu(){return!0}function qg(){return!1}function yn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?iu:qg,this.isPropagationStopped=qg,this}return et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=iu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=iu)},persist:function(){},isPersistent:iu}),e}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cp=yn(Eo),gl=et({},Eo,{view:0,detail:0}),RT=yn(gl),zd,Bd,ra,Fc=et({},gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ra&&(ra&&t.type==="mousemove"?(zd=t.screenX-ra.screenX,Bd=t.screenY-ra.screenY):Bd=zd=0,ra=t),zd)},movementY:function(t){return"movementY"in t?t.movementY:Bd}}),Wg=yn(Fc),PT=et({},Fc,{dataTransfer:0}),NT=yn(PT),DT=et({},gl,{relatedTarget:0}),$d=yn(DT),LT=et({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),jT=yn(LT),MT=et({},Eo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),VT=yn(MT),OT=et({},Eo,{data:0}),Gg=yn(OT),FT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zT[t])?!!e[t]:!1}function dp(){return BT}var $T=et({},gl,{key:function(t){if(t.key){var e=FT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Su(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?UT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dp,charCode:function(t){return t.type==="keypress"?Su(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Su(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),HT=yn($T),qT=et({},Fc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kg=yn(qT),WT=et({},gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dp}),GT=yn(WT),KT=et({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),QT=yn(KT),YT=et({},Fc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),XT=yn(YT),JT=[9,13,27,32],hp=Tr&&"CompositionEvent"in window,Ca=null;Tr&&"documentMode"in document&&(Ca=document.documentMode);var ZT=Tr&&"TextEvent"in window&&!Ca,$1=Tr&&(!hp||Ca&&8<Ca&&11>=Ca),Qg=" ",Yg=!1;function H1(t,e){switch(t){case"keyup":return JT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function q1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ds=!1;function eI(t,e){switch(t){case"compositionend":return q1(e);case"keypress":return e.which!==32?null:(Yg=!0,Qg);case"textInput":return t=e.data,t===Qg&&Yg?null:t;default:return null}}function tI(t,e){if(Ds)return t==="compositionend"||!hp&&H1(t,e)?(t=B1(),Iu=up=ti=null,Ds=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $1&&e.locale!=="ko"?null:e.data;default:return null}}var nI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nI[t.type]:e==="textarea"}function W1(t,e,n,r){T1(r),e=Xu(e,"onChange"),0<e.length&&(n=new cp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Aa=null,Wa=null;function rI(t){r_(t,0)}function Uc(t){var e=Ms(t);if(g1(e))return t}function iI(t,e){if(t==="change")return e}var G1=!1;if(Tr){var Hd;if(Tr){var qd="oninput"in document;if(!qd){var Jg=document.createElement("div");Jg.setAttribute("oninput","return;"),qd=typeof Jg.oninput=="function"}Hd=qd}else Hd=!1;G1=Hd&&(!document.documentMode||9<document.documentMode)}function Zg(){Aa&&(Aa.detachEvent("onpropertychange",K1),Wa=Aa=null)}function K1(t){if(t.propertyName==="value"&&Uc(Wa)){var e=[];W1(e,Wa,t,ip(t)),k1(rI,e)}}function sI(t,e,n){t==="focusin"?(Zg(),Aa=e,Wa=n,Aa.attachEvent("onpropertychange",K1)):t==="focusout"&&Zg()}function oI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uc(Wa)}function aI(t,e){if(t==="click")return Uc(e)}function lI(t,e){if(t==="input"||t==="change")return Uc(e)}function uI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Un=typeof Object.is=="function"?Object.is:uI;function Ga(t,e){if(Un(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Sh.call(e,i)||!Un(t[i],e[i]))return!1}return!0}function ev(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tv(t,e){var n=ev(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ev(n)}}function Q1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Q1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Y1(){for(var t=window,e=Hu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hu(t.document)}return e}function fp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function cI(t){var e=Y1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Q1(n.ownerDocument.documentElement,n)){if(r!==null&&fp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=tv(n,s);var o=tv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var dI=Tr&&"documentMode"in document&&11>=document.documentMode,Ls=null,Hh=null,Ra=null,qh=!1;function nv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qh||Ls==null||Ls!==Hu(r)||(r=Ls,"selectionStart"in r&&fp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ra&&Ga(Ra,r)||(Ra=r,r=Xu(Hh,"onSelect"),0<r.length&&(e=new cp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ls)))}function su(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var js={animationend:su("Animation","AnimationEnd"),animationiteration:su("Animation","AnimationIteration"),animationstart:su("Animation","AnimationStart"),transitionend:su("Transition","TransitionEnd")},Wd={},X1={};Tr&&(X1=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function zc(t){if(Wd[t])return Wd[t];if(!js[t])return t;var e=js[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in X1)return Wd[t]=e[n];return t}var J1=zc("animationend"),Z1=zc("animationiteration"),e_=zc("animationstart"),t_=zc("transitionend"),n_=new Map,rv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Si(t,e){n_.set(t,e),ds(e,[t])}for(var Gd=0;Gd<rv.length;Gd++){var Kd=rv[Gd],hI=Kd.toLowerCase(),fI=Kd[0].toUpperCase()+Kd.slice(1);Si(hI,"on"+fI)}Si(J1,"onAnimationEnd");Si(Z1,"onAnimationIteration");Si(e_,"onAnimationStart");Si("dblclick","onDoubleClick");Si("focusin","onFocus");Si("focusout","onBlur");Si(t_,"onTransitionEnd");ro("onMouseEnter",["mouseout","mouseover"]);ro("onMouseLeave",["mouseout","mouseover"]);ro("onPointerEnter",["pointerout","pointerover"]);ro("onPointerLeave",["pointerout","pointerover"]);ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ds("onBeforeInput",["compositionend","keypress","textInput","paste"]);ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pI=new Set("cancel close invalid load scroll toggle".split(" ").concat(wa));function iv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,hT(r,e,void 0,t),t.currentTarget=null}function r_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;iv(i,l,c),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;iv(i,l,c),s=u}}}if(Wu)throw t=Uh,Wu=!1,Uh=null,t}function He(t,e){var n=e[Yh];n===void 0&&(n=e[Yh]=new Set);var r=t+"__bubble";n.has(r)||(i_(e,t,2,!1),n.add(r))}function Qd(t,e,n){var r=0;e&&(r|=4),i_(n,t,r,e)}var ou="_reactListening"+Math.random().toString(36).slice(2);function Ka(t){if(!t[ou]){t[ou]=!0,d1.forEach(function(n){n!=="selectionchange"&&(pI.has(n)||Qd(n,!1,t),Qd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ou]||(e[ou]=!0,Qd("selectionchange",!1,e))}}function i_(t,e,n,r){switch(z1(e)){case 1:var i=CT;break;case 4:i=AT;break;default:i=lp}n=i.bind(null,e,n,t),i=void 0,!Fh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Yd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Bi(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}k1(function(){var c=s,f=ip(n),m=[];e:{var g=n_.get(t);if(g!==void 0){var w=cp,k=t;switch(t){case"keypress":if(Su(n)===0)break e;case"keydown":case"keyup":w=HT;break;case"focusin":k="focus",w=$d;break;case"focusout":k="blur",w=$d;break;case"beforeblur":case"afterblur":w=$d;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Wg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=NT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=GT;break;case J1:case Z1:case e_:w=jT;break;case t_:w=QT;break;case"scroll":w=RT;break;case"wheel":w=XT;break;case"copy":case"cut":case"paste":w=VT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Kg}var C=(e&4)!==0,L=!C&&t==="scroll",E=C?g!==null?g+"Capture":null:g;C=[];for(var y=c,S;y!==null;){S=y;var M=S.stateNode;if(S.tag===5&&M!==null&&(S=M,E!==null&&(M=Ba(y,E),M!=null&&C.push(Qa(y,M,S)))),L)break;y=y.return}0<C.length&&(g=new w(g,k,null,n,f),m.push({event:g,listeners:C}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",g&&n!==Vh&&(k=n.relatedTarget||n.fromElement)&&(Bi(k)||k[Ir]))break e;if((w||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,w?(k=n.relatedTarget||n.toElement,w=c,k=k?Bi(k):null,k!==null&&(L=hs(k),k!==L||k.tag!==5&&k.tag!==6)&&(k=null)):(w=null,k=c),w!==k)){if(C=Wg,M="onMouseLeave",E="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(C=Kg,M="onPointerLeave",E="onPointerEnter",y="pointer"),L=w==null?g:Ms(w),S=k==null?g:Ms(k),g=new C(M,y+"leave",w,n,f),g.target=L,g.relatedTarget=S,M=null,Bi(f)===c&&(C=new C(E,y+"enter",k,n,f),C.target=S,C.relatedTarget=L,M=C),L=M,w&&k)t:{for(C=w,E=k,y=0,S=C;S;S=bs(S))y++;for(S=0,M=E;M;M=bs(M))S++;for(;0<y-S;)C=bs(C),y--;for(;0<S-y;)E=bs(E),S--;for(;y--;){if(C===E||E!==null&&C===E.alternate)break t;C=bs(C),E=bs(E)}C=null}else C=null;w!==null&&sv(m,g,w,C,!1),k!==null&&L!==null&&sv(m,L,k,C,!0)}}e:{if(g=c?Ms(c):window,w=g.nodeName&&g.nodeName.toLowerCase(),w==="select"||w==="input"&&g.type==="file")var U=iI;else if(Xg(g))if(G1)U=lI;else{U=oI;var P=sI}else(w=g.nodeName)&&w.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(U=aI);if(U&&(U=U(t,c))){W1(m,U,n,f);break e}P&&P(t,g,c),t==="focusout"&&(P=g._wrapperState)&&P.controlled&&g.type==="number"&&Nh(g,"number",g.value)}switch(P=c?Ms(c):window,t){case"focusin":(Xg(P)||P.contentEditable==="true")&&(Ls=P,Hh=c,Ra=null);break;case"focusout":Ra=Hh=Ls=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,nv(m,n,f);break;case"selectionchange":if(dI)break;case"keydown":case"keyup":nv(m,n,f)}var I;if(hp)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ds?H1(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&($1&&n.locale!=="ko"&&(Ds||v!=="onCompositionStart"?v==="onCompositionEnd"&&Ds&&(I=B1()):(ti=f,up="value"in ti?ti.value:ti.textContent,Ds=!0)),P=Xu(c,v),0<P.length&&(v=new Gg(v,t,null,n,f),m.push({event:v,listeners:P}),I?v.data=I:(I=q1(n),I!==null&&(v.data=I)))),(I=ZT?eI(t,n):tI(t,n))&&(c=Xu(c,"onBeforeInput"),0<c.length&&(f=new Gg("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:c}),f.data=I))}r_(m,e)})}function Qa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ba(t,n),s!=null&&r.unshift(Qa(t,s,i)),s=Ba(t,e),s!=null&&r.push(Qa(t,s,i))),t=t.return}return r}function bs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=Ba(n,s),u!=null&&o.unshift(Qa(n,u,l))):i||(u=Ba(n,s),u!=null&&o.push(Qa(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var mI=/\r\n?/g,gI=/\u0000|\uFFFD/g;function ov(t){return(typeof t=="string"?t:""+t).replace(mI,`
`).replace(gI,"")}function au(t,e,n){if(e=ov(e),ov(t)!==e&&n)throw Error(q(425))}function Ju(){}var Wh=null,Gh=null;function Kh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qh=typeof setTimeout=="function"?setTimeout:void 0,vI=typeof clearTimeout=="function"?clearTimeout:void 0,av=typeof Promise=="function"?Promise:void 0,yI=typeof queueMicrotask=="function"?queueMicrotask:typeof av<"u"?function(t){return av.resolve(null).then(t).catch(_I)}:Qh;function _I(t){setTimeout(function(){throw t})}function Xd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),qa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);qa(e)}function ui(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function lv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var To=Math.random().toString(36).slice(2),Kn="__reactFiber$"+To,Ya="__reactProps$"+To,Ir="__reactContainer$"+To,Yh="__reactEvents$"+To,wI="__reactListeners$"+To,xI="__reactHandles$"+To;function Bi(t){var e=t[Kn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ir]||n[Kn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=lv(t);t!==null;){if(n=t[Kn])return n;t=lv(t)}return e}t=n,n=t.parentNode}return null}function vl(t){return t=t[Kn]||t[Ir],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ms(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Bc(t){return t[Ya]||null}var Xh=[],Vs=-1;function bi(t){return{current:t}}function We(t){0>Vs||(t.current=Xh[Vs],Xh[Vs]=null,Vs--)}function ze(t,e){Vs++,Xh[Vs]=t.current,t.current=e}var wi={},$t=bi(wi),sn=bi(!1),Ji=wi;function io(t,e){var n=t.type.contextTypes;if(!n)return wi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function on(t){return t=t.childContextTypes,t!=null}function Zu(){We(sn),We($t)}function uv(t,e,n){if($t.current!==wi)throw Error(q(168));ze($t,e),ze(sn,n)}function s_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(q(108,sT(t)||"Unknown",i));return et({},n,r)}function ec(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wi,Ji=$t.current,ze($t,t),ze(sn,sn.current),!0}function cv(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=s_(t,e,Ji),r.__reactInternalMemoizedMergedChildContext=t,We(sn),We($t),ze($t,t)):We(sn),ze(sn,n)}var fr=null,$c=!1,Jd=!1;function o_(t){fr===null?fr=[t]:fr.push(t)}function EI(t){$c=!0,o_(t)}function ki(){if(!Jd&&fr!==null){Jd=!0;var t=0,e=Ne;try{var n=fr;for(Ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}fr=null,$c=!1}catch(i){throw fr!==null&&(fr=fr.slice(t+1)),P1(sp,ki),i}finally{Ne=e,Jd=!1}}return null}var Os=[],Fs=0,tc=null,nc=0,En=[],Tn=0,Zi=null,pr=1,mr="";function Vi(t,e){Os[Fs++]=nc,Os[Fs++]=tc,tc=t,nc=e}function a_(t,e,n){En[Tn++]=pr,En[Tn++]=mr,En[Tn++]=Zi,Zi=t;var r=pr;t=mr;var i=32-On(r)-1;r&=~(1<<i),n+=1;var s=32-On(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,pr=1<<32-On(e)+i|n<<i|r,mr=s+t}else pr=1<<s|n<<i|r,mr=t}function pp(t){t.return!==null&&(Vi(t,1),a_(t,1,0))}function mp(t){for(;t===tc;)tc=Os[--Fs],Os[Fs]=null,nc=Os[--Fs],Os[Fs]=null;for(;t===Zi;)Zi=En[--Tn],En[Tn]=null,mr=En[--Tn],En[Tn]=null,pr=En[--Tn],En[Tn]=null}var mn=null,fn=null,Ye=!1,Vn=null;function l_(t,e){var n=In(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function dv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mn=t,fn=ui(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mn=t,fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zi!==null?{id:pr,overflow:mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=In(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mn=t,fn=null,!0):!1;default:return!1}}function Jh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Zh(t){if(Ye){var e=fn;if(e){var n=e;if(!dv(t,e)){if(Jh(t))throw Error(q(418));e=ui(n.nextSibling);var r=mn;e&&dv(t,e)?l_(r,n):(t.flags=t.flags&-4097|2,Ye=!1,mn=t)}}else{if(Jh(t))throw Error(q(418));t.flags=t.flags&-4097|2,Ye=!1,mn=t}}}function hv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mn=t}function lu(t){if(t!==mn)return!1;if(!Ye)return hv(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Kh(t.type,t.memoizedProps)),e&&(e=fn)){if(Jh(t))throw u_(),Error(q(418));for(;e;)l_(t,e),e=ui(e.nextSibling)}if(hv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){fn=ui(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}fn=null}}else fn=mn?ui(t.stateNode.nextSibling):null;return!0}function u_(){for(var t=fn;t;)t=ui(t.nextSibling)}function so(){fn=mn=null,Ye=!1}function gp(t){Vn===null?Vn=[t]:Vn.push(t)}var TI=Nr.ReactCurrentBatchConfig;function ia(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function uu(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function fv(t){var e=t._init;return e(t._payload)}function c_(t){function e(E,y){if(t){var S=E.deletions;S===null?(E.deletions=[y],E.flags|=16):S.push(y)}}function n(E,y){if(!t)return null;for(;y!==null;)e(E,y),y=y.sibling;return null}function r(E,y){for(E=new Map;y!==null;)y.key!==null?E.set(y.key,y):E.set(y.index,y),y=y.sibling;return E}function i(E,y){return E=fi(E,y),E.index=0,E.sibling=null,E}function s(E,y,S){return E.index=S,t?(S=E.alternate,S!==null?(S=S.index,S<y?(E.flags|=2,y):S):(E.flags|=2,y)):(E.flags|=1048576,y)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function l(E,y,S,M){return y===null||y.tag!==6?(y=sh(S,E.mode,M),y.return=E,y):(y=i(y,S),y.return=E,y)}function u(E,y,S,M){var U=S.type;return U===Ns?f(E,y,S.props.children,M,S.key):y!==null&&(y.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Gr&&fv(U)===y.type)?(M=i(y,S.props),M.ref=ia(E,y,S),M.return=E,M):(M=Nu(S.type,S.key,S.props,null,E.mode,M),M.ref=ia(E,y,S),M.return=E,M)}function c(E,y,S,M){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=oh(S,E.mode,M),y.return=E,y):(y=i(y,S.children||[]),y.return=E,y)}function f(E,y,S,M,U){return y===null||y.tag!==7?(y=Yi(S,E.mode,M,U),y.return=E,y):(y=i(y,S),y.return=E,y)}function m(E,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=sh(""+y,E.mode,S),y.return=E,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Jl:return S=Nu(y.type,y.key,y.props,null,E.mode,S),S.ref=ia(E,null,y),S.return=E,S;case Ps:return y=oh(y,E.mode,S),y.return=E,y;case Gr:var M=y._init;return m(E,M(y._payload),S)}if(ya(y)||Zo(y))return y=Yi(y,E.mode,S,null),y.return=E,y;uu(E,y)}return null}function g(E,y,S,M){var U=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return U!==null?null:l(E,y,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Jl:return S.key===U?u(E,y,S,M):null;case Ps:return S.key===U?c(E,y,S,M):null;case Gr:return U=S._init,g(E,y,U(S._payload),M)}if(ya(S)||Zo(S))return U!==null?null:f(E,y,S,M,null);uu(E,S)}return null}function w(E,y,S,M,U){if(typeof M=="string"&&M!==""||typeof M=="number")return E=E.get(S)||null,l(y,E,""+M,U);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Jl:return E=E.get(M.key===null?S:M.key)||null,u(y,E,M,U);case Ps:return E=E.get(M.key===null?S:M.key)||null,c(y,E,M,U);case Gr:var P=M._init;return w(E,y,S,P(M._payload),U)}if(ya(M)||Zo(M))return E=E.get(S)||null,f(y,E,M,U,null);uu(y,M)}return null}function k(E,y,S,M){for(var U=null,P=null,I=y,v=y=0,x=null;I!==null&&v<S.length;v++){I.index>v?(x=I,I=null):x=I.sibling;var T=g(E,I,S[v],M);if(T===null){I===null&&(I=x);break}t&&I&&T.alternate===null&&e(E,I),y=s(T,y,v),P===null?U=T:P.sibling=T,P=T,I=x}if(v===S.length)return n(E,I),Ye&&Vi(E,v),U;if(I===null){for(;v<S.length;v++)I=m(E,S[v],M),I!==null&&(y=s(I,y,v),P===null?U=I:P.sibling=I,P=I);return Ye&&Vi(E,v),U}for(I=r(E,I);v<S.length;v++)x=w(I,E,v,S[v],M),x!==null&&(t&&x.alternate!==null&&I.delete(x.key===null?v:x.key),y=s(x,y,v),P===null?U=x:P.sibling=x,P=x);return t&&I.forEach(function(A){return e(E,A)}),Ye&&Vi(E,v),U}function C(E,y,S,M){var U=Zo(S);if(typeof U!="function")throw Error(q(150));if(S=U.call(S),S==null)throw Error(q(151));for(var P=U=null,I=y,v=y=0,x=null,T=S.next();I!==null&&!T.done;v++,T=S.next()){I.index>v?(x=I,I=null):x=I.sibling;var A=g(E,I,T.value,M);if(A===null){I===null&&(I=x);break}t&&I&&A.alternate===null&&e(E,I),y=s(A,y,v),P===null?U=A:P.sibling=A,P=A,I=x}if(T.done)return n(E,I),Ye&&Vi(E,v),U;if(I===null){for(;!T.done;v++,T=S.next())T=m(E,T.value,M),T!==null&&(y=s(T,y,v),P===null?U=T:P.sibling=T,P=T);return Ye&&Vi(E,v),U}for(I=r(E,I);!T.done;v++,T=S.next())T=w(I,E,v,T.value,M),T!==null&&(t&&T.alternate!==null&&I.delete(T.key===null?v:T.key),y=s(T,y,v),P===null?U=T:P.sibling=T,P=T);return t&&I.forEach(function(N){return e(E,N)}),Ye&&Vi(E,v),U}function L(E,y,S,M){if(typeof S=="object"&&S!==null&&S.type===Ns&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Jl:e:{for(var U=S.key,P=y;P!==null;){if(P.key===U){if(U=S.type,U===Ns){if(P.tag===7){n(E,P.sibling),y=i(P,S.props.children),y.return=E,E=y;break e}}else if(P.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Gr&&fv(U)===P.type){n(E,P.sibling),y=i(P,S.props),y.ref=ia(E,P,S),y.return=E,E=y;break e}n(E,P);break}else e(E,P);P=P.sibling}S.type===Ns?(y=Yi(S.props.children,E.mode,M,S.key),y.return=E,E=y):(M=Nu(S.type,S.key,S.props,null,E.mode,M),M.ref=ia(E,y,S),M.return=E,E=M)}return o(E);case Ps:e:{for(P=S.key;y!==null;){if(y.key===P)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){n(E,y.sibling),y=i(y,S.children||[]),y.return=E,E=y;break e}else{n(E,y);break}else e(E,y);y=y.sibling}y=oh(S,E.mode,M),y.return=E,E=y}return o(E);case Gr:return P=S._init,L(E,y,P(S._payload),M)}if(ya(S))return k(E,y,S,M);if(Zo(S))return C(E,y,S,M);uu(E,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(n(E,y.sibling),y=i(y,S),y.return=E,E=y):(n(E,y),y=sh(S,E.mode,M),y.return=E,E=y),o(E)):n(E,y)}return L}var oo=c_(!0),d_=c_(!1),rc=bi(null),ic=null,Us=null,vp=null;function yp(){vp=Us=ic=null}function _p(t){var e=rc.current;We(rc),t._currentValue=e}function ef(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ks(t,e){ic=t,vp=Us=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rn=!0),t.firstContext=null)}function kn(t){var e=t._currentValue;if(vp!==t)if(t={context:t,memoizedValue:e,next:null},Us===null){if(ic===null)throw Error(q(308));Us=t,ic.dependencies={lanes:0,firstContext:t}}else Us=Us.next=t;return e}var $i=null;function wp(t){$i===null?$i=[t]:$i.push(t)}function h_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,wp(e)):(n.next=i.next,i.next=n),e.interleaved=n,Sr(t,r)}function Sr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Kr=!1;function xp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function f_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ci(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Sr(t,n)}return i=r.interleaved,i===null?(e.next=e,wp(r)):(e.next=i.next,i.next=e),r.interleaved=e,Sr(t,n)}function bu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,op(t,n)}}function pv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function sc(t,e,n,r){var i=t.updateQueue;Kr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=u))}if(s!==null){var m=i.baseState;o=0,f=c=u=null,l=s;do{var g=l.lane,w=l.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var k=t,C=l;switch(g=e,w=n,C.tag){case 1:if(k=C.payload,typeof k=="function"){m=k.call(w,m,g);break e}m=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=C.payload,g=typeof k=="function"?k.call(w,m,g):k,g==null)break e;m=et({},m,g);break e;case 2:Kr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[l]:g.push(l))}else w={eventTime:w,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=w,u=m):f=f.next=w,o|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;g=l,l=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(f===null&&(u=m),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ts|=o,t.lanes=o,t.memoizedState=m}}function mv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var yl={},Yn=bi(yl),Xa=bi(yl),Ja=bi(yl);function Hi(t){if(t===yl)throw Error(q(174));return t}function Ep(t,e){switch(ze(Ja,e),ze(Xa,t),ze(Yn,yl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lh(e,t)}We(Yn),ze(Yn,e)}function ao(){We(Yn),We(Xa),We(Ja)}function p_(t){Hi(Ja.current);var e=Hi(Yn.current),n=Lh(e,t.type);e!==n&&(ze(Xa,t),ze(Yn,n))}function Tp(t){Xa.current===t&&(We(Yn),We(Xa))}var Je=bi(0);function oc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zd=[];function Ip(){for(var t=0;t<Zd.length;t++)Zd[t]._workInProgressVersionPrimary=null;Zd.length=0}var ku=Nr.ReactCurrentDispatcher,eh=Nr.ReactCurrentBatchConfig,es=0,Ze=null,gt=null,wt=null,ac=!1,Pa=!1,Za=0,II=0;function Lt(){throw Error(q(321))}function Sp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Un(t[n],e[n]))return!1;return!0}function bp(t,e,n,r,i,s){if(es=s,Ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ku.current=t===null||t.memoizedState===null?CI:AI,t=n(r,i),Pa){s=0;do{if(Pa=!1,Za=0,25<=s)throw Error(q(301));s+=1,wt=gt=null,e.updateQueue=null,ku.current=RI,t=n(r,i)}while(Pa)}if(ku.current=lc,e=gt!==null&&gt.next!==null,es=0,wt=gt=Ze=null,ac=!1,e)throw Error(q(300));return t}function kp(){var t=Za!==0;return Za=0,t}function Gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ze.memoizedState=wt=t:wt=wt.next=t,wt}function Cn(){if(gt===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=wt===null?Ze.memoizedState:wt.next;if(e!==null)wt=e,gt=t;else{if(t===null)throw Error(q(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},wt===null?Ze.memoizedState=wt=t:wt=wt.next=t}return wt}function el(t,e){return typeof e=="function"?e(t):e}function th(t){var e=Cn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=gt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,c=s;do{var f=c.lane;if((es&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var m={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=m,o=r):u=u.next=m,Ze.lanes|=f,ts|=f}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=l,Un(r,e.memoizedState)||(rn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ze.lanes|=s,ts|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function nh(t){var e=Cn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Un(s,e.memoizedState)||(rn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function m_(){}function g_(t,e){var n=Ze,r=Cn(),i=e(),s=!Un(r.memoizedState,i);if(s&&(r.memoizedState=i,rn=!0),r=r.queue,Cp(__.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,tl(9,y_.bind(null,n,r,i,e),void 0,null),xt===null)throw Error(q(349));es&30||v_(n,e,i)}return i}function v_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function y_(t,e,n,r){e.value=n,e.getSnapshot=r,w_(e)&&x_(t)}function __(t,e,n){return n(function(){w_(e)&&x_(t)})}function w_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Un(t,n)}catch{return!0}}function x_(t){var e=Sr(t,1);e!==null&&Fn(e,t,1,-1)}function gv(t){var e=Gn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:el,lastRenderedState:t},e.queue=t,t=t.dispatch=kI.bind(null,Ze,t),[e.memoizedState,t]}function tl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function E_(){return Cn().memoizedState}function Cu(t,e,n,r){var i=Gn();Ze.flags|=t,i.memoizedState=tl(1|e,n,void 0,r===void 0?null:r)}function Hc(t,e,n,r){var i=Cn();r=r===void 0?null:r;var s=void 0;if(gt!==null){var o=gt.memoizedState;if(s=o.destroy,r!==null&&Sp(r,o.deps)){i.memoizedState=tl(e,n,s,r);return}}Ze.flags|=t,i.memoizedState=tl(1|e,n,s,r)}function vv(t,e){return Cu(8390656,8,t,e)}function Cp(t,e){return Hc(2048,8,t,e)}function T_(t,e){return Hc(4,2,t,e)}function I_(t,e){return Hc(4,4,t,e)}function S_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function b_(t,e,n){return n=n!=null?n.concat([t]):null,Hc(4,4,S_.bind(null,e,t),n)}function Ap(){}function k_(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function C_(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function A_(t,e,n){return es&21?(Un(n,e)||(n=L1(),Ze.lanes|=n,ts|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rn=!0),t.memoizedState=n)}function SI(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var r=eh.transition;eh.transition={};try{t(!1),e()}finally{Ne=n,eh.transition=r}}function R_(){return Cn().memoizedState}function bI(t,e,n){var r=hi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},P_(t))N_(e,n);else if(n=h_(t,e,n,r),n!==null){var i=Qt();Fn(n,t,r,i),D_(n,e,r)}}function kI(t,e,n){var r=hi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(P_(t))N_(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Un(l,o)){var u=e.interleaved;u===null?(i.next=i,wp(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=h_(t,e,i,r),n!==null&&(i=Qt(),Fn(n,t,r,i),D_(n,e,r))}}function P_(t){var e=t.alternate;return t===Ze||e!==null&&e===Ze}function N_(t,e){Pa=ac=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function D_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,op(t,n)}}var lc={readContext:kn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},CI={readContext:kn,useCallback:function(t,e){return Gn().memoizedState=[t,e===void 0?null:e],t},useContext:kn,useEffect:vv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Cu(4194308,4,S_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cu(4,2,t,e)},useMemo:function(t,e){var n=Gn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Gn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bI.bind(null,Ze,t),[r.memoizedState,t]},useRef:function(t){var e=Gn();return t={current:t},e.memoizedState=t},useState:gv,useDebugValue:Ap,useDeferredValue:function(t){return Gn().memoizedState=t},useTransition:function(){var t=gv(!1),e=t[0];return t=SI.bind(null,t[1]),Gn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ze,i=Gn();if(Ye){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),xt===null)throw Error(q(349));es&30||v_(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,vv(__.bind(null,r,s,t),[t]),r.flags|=2048,tl(9,y_.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Gn(),e=xt.identifierPrefix;if(Ye){var n=mr,r=pr;n=(r&~(1<<32-On(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Za++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=II++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AI={readContext:kn,useCallback:k_,useContext:kn,useEffect:Cp,useImperativeHandle:b_,useInsertionEffect:T_,useLayoutEffect:I_,useMemo:C_,useReducer:th,useRef:E_,useState:function(){return th(el)},useDebugValue:Ap,useDeferredValue:function(t){var e=Cn();return A_(e,gt.memoizedState,t)},useTransition:function(){var t=th(el)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:m_,useSyncExternalStore:g_,useId:R_,unstable_isNewReconciler:!1},RI={readContext:kn,useCallback:k_,useContext:kn,useEffect:Cp,useImperativeHandle:b_,useInsertionEffect:T_,useLayoutEffect:I_,useMemo:C_,useReducer:nh,useRef:E_,useState:function(){return nh(el)},useDebugValue:Ap,useDeferredValue:function(t){var e=Cn();return gt===null?e.memoizedState=t:A_(e,gt.memoizedState,t)},useTransition:function(){var t=nh(el)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:m_,useSyncExternalStore:g_,useId:R_,unstable_isNewReconciler:!1};function Ln(t,e){if(t&&t.defaultProps){e=et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function tf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qc={isMounted:function(t){return(t=t._reactInternals)?hs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qt(),i=hi(t),s=wr(r,i);s.payload=e,n!=null&&(s.callback=n),e=ci(t,s,i),e!==null&&(Fn(e,t,i,r),bu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qt(),i=hi(t),s=wr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ci(t,s,i),e!==null&&(Fn(e,t,i,r),bu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qt(),r=hi(t),i=wr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ci(t,i,r),e!==null&&(Fn(e,t,r,n),bu(e,t,r))}};function yv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ga(n,r)||!Ga(i,s):!0}function L_(t,e,n){var r=!1,i=wi,s=e.contextType;return typeof s=="object"&&s!==null?s=kn(s):(i=on(e)?Ji:$t.current,r=e.contextTypes,s=(r=r!=null)?io(t,i):wi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function _v(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&qc.enqueueReplaceState(e,e.state,null)}function nf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},xp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=kn(s):(s=on(e)?Ji:$t.current,i.context=io(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(tf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&qc.enqueueReplaceState(i,i.state,null),sc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function lo(t,e){try{var n="",r=e;do n+=iT(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function rh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function rf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var PI=typeof WeakMap=="function"?WeakMap:Map;function j_(t,e,n){n=wr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){cc||(cc=!0,pf=r),rf(t,e)},n}function M_(t,e,n){n=wr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){rf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){rf(t,e),typeof r!="function"&&(di===null?di=new Set([this]):di.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function wv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new PI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=qI.bind(null,t,e,n),e.then(t,t))}function xv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ev(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wr(-1,1),e.tag=2,ci(n,e,1))),n.lanes|=1),t)}var NI=Nr.ReactCurrentOwner,rn=!1;function Gt(t,e,n,r){e.child=t===null?d_(e,null,n,r):oo(e,t.child,n,r)}function Tv(t,e,n,r,i){n=n.render;var s=e.ref;return Ks(e,i),r=bp(t,e,n,r,s,i),n=kp(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,br(t,e,i)):(Ye&&n&&pp(e),e.flags|=1,Gt(t,e,r,i),e.child)}function Iv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Vp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,V_(t,e,s,r,i)):(t=Nu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ga,n(o,r)&&t.ref===e.ref)return br(t,e,i)}return e.flags|=1,t=fi(s,r),t.ref=e.ref,t.return=e,e.child=t}function V_(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ga(s,r)&&t.ref===e.ref)if(rn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(rn=!0);else return e.lanes=t.lanes,br(t,e,i)}return sf(t,e,n,r,i)}function O_(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Bs,cn),cn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ze(Bs,cn),cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ze(Bs,cn),cn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ze(Bs,cn),cn|=r;return Gt(t,e,i,n),e.child}function F_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function sf(t,e,n,r,i){var s=on(n)?Ji:$t.current;return s=io(e,s),Ks(e,i),n=bp(t,e,n,r,s,i),r=kp(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,br(t,e,i)):(Ye&&r&&pp(e),e.flags|=1,Gt(t,e,n,i),e.child)}function Sv(t,e,n,r,i){if(on(n)){var s=!0;ec(e)}else s=!1;if(Ks(e,i),e.stateNode===null)Au(t,e),L_(e,n,r),nf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=kn(c):(c=on(n)?Ji:$t.current,c=io(e,c));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&_v(e,o,r,c),Kr=!1;var g=e.memoizedState;o.state=g,sc(e,r,o,i),u=e.memoizedState,l!==r||g!==u||sn.current||Kr?(typeof f=="function"&&(tf(e,n,f,r),u=e.memoizedState),(l=Kr||yv(e,n,l,r,g,u,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,f_(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Ln(e.type,l),o.props=c,m=e.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=kn(u):(u=on(n)?Ji:$t.current,u=io(e,u));var w=n.getDerivedStateFromProps;(f=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||g!==u)&&_v(e,o,r,u),Kr=!1,g=e.memoizedState,o.state=g,sc(e,r,o,i);var k=e.memoizedState;l!==m||g!==k||sn.current||Kr?(typeof w=="function"&&(tf(e,n,w,r),k=e.memoizedState),(c=Kr||yv(e,n,c,r,g,k,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,k,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,k,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=k),o.props=r,o.state=k,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return of(t,e,n,r,s,i)}function of(t,e,n,r,i,s){F_(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&cv(e,n,!1),br(t,e,s);r=e.stateNode,NI.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=oo(e,t.child,null,s),e.child=oo(e,null,l,s)):Gt(t,e,l,s),e.memoizedState=r.state,i&&cv(e,n,!0),e.child}function U_(t){var e=t.stateNode;e.pendingContext?uv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&uv(t,e.context,!1),Ep(t,e.containerInfo)}function bv(t,e,n,r,i){return so(),gp(i),e.flags|=256,Gt(t,e,n,r),e.child}var af={dehydrated:null,treeContext:null,retryLane:0};function lf(t){return{baseLanes:t,cachePool:null,transitions:null}}function z_(t,e,n){var r=e.pendingProps,i=Je.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ze(Je,i&1),t===null)return Zh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Kc(o,r,0,null),t=Yi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=lf(n),e.memoizedState=af,t):Rp(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return DI(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=fi(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=fi(l,s):(s=Yi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?lf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=af,r}return s=t.child,t=s.sibling,r=fi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Rp(t,e){return e=Kc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cu(t,e,n,r){return r!==null&&gp(r),oo(e,t.child,null,n),t=Rp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function DI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=rh(Error(q(422))),cu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Kc({mode:"visible",children:r.children},i,0,null),s=Yi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&oo(e,t.child,null,o),e.child.memoizedState=lf(o),e.memoizedState=af,s);if(!(e.mode&1))return cu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(q(419)),r=rh(s,r,void 0),cu(t,e,o,r)}if(l=(o&t.childLanes)!==0,rn||l){if(r=xt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Sr(t,i),Fn(r,t,i,-1))}return Mp(),r=rh(Error(q(421))),cu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=WI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,fn=ui(i.nextSibling),mn=e,Ye=!0,Vn=null,t!==null&&(En[Tn++]=pr,En[Tn++]=mr,En[Tn++]=Zi,pr=t.id,mr=t.overflow,Zi=e),e=Rp(e,r.children),e.flags|=4096,e)}function kv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ef(t.return,e,n)}function ih(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function B_(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Gt(t,e,r.children,n),r=Je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kv(t,n,e);else if(t.tag===19)kv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ze(Je,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&oc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ih(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&oc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ih(e,!0,n,null,s);break;case"together":ih(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Au(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function br(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ts|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=fi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=fi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function LI(t,e,n){switch(e.tag){case 3:U_(e),so();break;case 5:p_(e);break;case 1:on(e.type)&&ec(e);break;case 4:Ep(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ze(rc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ze(Je,Je.current&1),e.flags|=128,null):n&e.child.childLanes?z_(t,e,n):(ze(Je,Je.current&1),t=br(t,e,n),t!==null?t.sibling:null);ze(Je,Je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return B_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ze(Je,Je.current),r)break;return null;case 22:case 23:return e.lanes=0,O_(t,e,n)}return br(t,e,n)}var $_,uf,H_,q_;$_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};uf=function(){};H_=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Hi(Yn.current);var s=null;switch(n){case"input":i=Rh(t,i),r=Rh(t,r),s=[];break;case"select":i=et({},i,{value:void 0}),r=et({},r,{value:void 0}),s=[];break;case"textarea":i=Dh(t,i),r=Dh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ju)}jh(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ua.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ua.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&He("scroll",t),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};q_=function(t,e,n,r){n!==r&&(e.flags|=4)};function sa(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function jI(t,e,n){var r=e.pendingProps;switch(mp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(e),null;case 1:return on(e.type)&&Zu(),jt(e),null;case 3:return r=e.stateNode,ao(),We(sn),We($t),Ip(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(lu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vn!==null&&(vf(Vn),Vn=null))),uf(t,e),jt(e),null;case 5:Tp(e);var i=Hi(Ja.current);if(n=e.type,t!==null&&e.stateNode!=null)H_(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return jt(e),null}if(t=Hi(Yn.current),lu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Kn]=e,r[Ya]=s,t=(e.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(i=0;i<wa.length;i++)He(wa[i],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":Mg(r,s),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},He("invalid",r);break;case"textarea":Og(r,s),He("invalid",r)}jh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&au(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&au(r.textContent,l,t),i=["children",""+l]):Ua.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&He("scroll",r)}switch(n){case"input":Zl(r),Vg(r,s,!0);break;case"textarea":Zl(r),Fg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ju)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Kn]=e,t[Ya]=r,$_(t,e,!1,!1),e.stateNode=t;e:{switch(o=Mh(n,r),n){case"dialog":He("cancel",t),He("close",t),i=r;break;case"iframe":case"object":case"embed":He("load",t),i=r;break;case"video":case"audio":for(i=0;i<wa.length;i++)He(wa[i],t);i=r;break;case"source":He("error",t),i=r;break;case"img":case"image":case"link":He("error",t),He("load",t),i=r;break;case"details":He("toggle",t),i=r;break;case"input":Mg(t,r),i=Rh(t,r),He("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=et({},r,{value:void 0}),He("invalid",t);break;case"textarea":Og(t,r),i=Dh(t,r),He("invalid",t);break;default:i=r}jh(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?E1(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&w1(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&za(t,u):typeof u=="number"&&za(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ua.hasOwnProperty(s)?u!=null&&s==="onScroll"&&He("scroll",t):u!=null&&ep(t,s,u,o))}switch(n){case"input":Zl(t),Vg(t,r,!1);break;case"textarea":Zl(t),Fg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+_i(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Hs(t,!!r.multiple,s,!1):r.defaultValue!=null&&Hs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ju)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jt(e),null;case 6:if(t&&e.stateNode!=null)q_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=Hi(Ja.current),Hi(Yn.current),lu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Kn]=e,(s=r.nodeValue!==n)&&(t=mn,t!==null))switch(t.tag){case 3:au(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&au(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kn]=e,e.stateNode=r}return jt(e),null;case 13:if(We(Je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&fn!==null&&e.mode&1&&!(e.flags&128))u_(),so(),e.flags|=98560,s=!1;else if(s=lu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[Kn]=e}else so(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jt(e),s=!1}else Vn!==null&&(vf(Vn),Vn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Je.current&1?vt===0&&(vt=3):Mp())),e.updateQueue!==null&&(e.flags|=4),jt(e),null);case 4:return ao(),uf(t,e),t===null&&Ka(e.stateNode.containerInfo),jt(e),null;case 10:return _p(e.type._context),jt(e),null;case 17:return on(e.type)&&Zu(),jt(e),null;case 19:if(We(Je),s=e.memoizedState,s===null)return jt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)sa(s,!1);else{if(vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=oc(t),o!==null){for(e.flags|=128,sa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ze(Je,Je.current&1|2),e.child}t=t.sibling}s.tail!==null&&ot()>uo&&(e.flags|=128,r=!0,sa(s,!1),e.lanes=4194304)}else{if(!r)if(t=oc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),sa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ye)return jt(e),null}else 2*ot()-s.renderingStartTime>uo&&n!==1073741824&&(e.flags|=128,r=!0,sa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ot(),e.sibling=null,n=Je.current,ze(Je,r?n&1|2:n&1),e):(jt(e),null);case 22:case 23:return jp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?cn&1073741824&&(jt(e),e.subtreeFlags&6&&(e.flags|=8192)):jt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function MI(t,e){switch(mp(e),e.tag){case 1:return on(e.type)&&Zu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ao(),We(sn),We($t),Ip(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Tp(e),null;case 13:if(We(Je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));so()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Je),null;case 4:return ao(),null;case 10:return _p(e.type._context),null;case 22:case 23:return jp(),null;case 24:return null;default:return null}}var du=!1,Ft=!1,VI=typeof WeakSet=="function"?WeakSet:Set,X=null;function zs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(t,e,r)}else n.current=null}function cf(t,e,n){try{n()}catch(r){rt(t,e,r)}}var Cv=!1;function OI(t,e){if(Wh=Qu,t=Y1(),fp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,f=0,m=t,g=null;t:for(;;){for(var w;m!==n||i!==0&&m.nodeType!==3||(l=o+i),m!==s||r!==0&&m.nodeType!==3||(u=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(w=m.firstChild)!==null;)g=m,m=w;for(;;){if(m===t)break t;if(g===n&&++c===i&&(l=o),g===s&&++f===r&&(u=o),(w=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=w}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gh={focusedElem:t,selectionRange:n},Qu=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var C=k.memoizedProps,L=k.memoizedState,E=e.stateNode,y=E.getSnapshotBeforeUpdate(e.elementType===e.type?C:Ln(e.type,C),L);E.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(M){rt(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return k=Cv,Cv=!1,k}function Na(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&cf(e,n,s)}i=i.next}while(i!==r)}}function Wc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function df(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function W_(t){var e=t.alternate;e!==null&&(t.alternate=null,W_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Kn],delete e[Ya],delete e[Yh],delete e[wI],delete e[xI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function G_(t){return t.tag===5||t.tag===3||t.tag===4}function Av(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||G_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ju));else if(r!==4&&(t=t.child,t!==null))for(hf(t,e,n),t=t.sibling;t!==null;)hf(t,e,n),t=t.sibling}function ff(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ff(t,e,n),t=t.sibling;t!==null;)ff(t,e,n),t=t.sibling}var St=null,jn=!1;function zr(t,e,n){for(n=n.child;n!==null;)K_(t,e,n),n=n.sibling}function K_(t,e,n){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(Oc,n)}catch{}switch(n.tag){case 5:Ft||zs(n,e);case 6:var r=St,i=jn;St=null,zr(t,e,n),St=r,jn=i,St!==null&&(jn?(t=St,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&(jn?(t=St,n=n.stateNode,t.nodeType===8?Xd(t.parentNode,n):t.nodeType===1&&Xd(t,n),qa(t)):Xd(St,n.stateNode));break;case 4:r=St,i=jn,St=n.stateNode.containerInfo,jn=!0,zr(t,e,n),St=r,jn=i;break;case 0:case 11:case 14:case 15:if(!Ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&cf(n,e,o),i=i.next}while(i!==r)}zr(t,e,n);break;case 1:if(!Ft&&(zs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){rt(n,e,l)}zr(t,e,n);break;case 21:zr(t,e,n);break;case 22:n.mode&1?(Ft=(r=Ft)||n.memoizedState!==null,zr(t,e,n),Ft=r):zr(t,e,n);break;default:zr(t,e,n)}}function Rv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new VI),e.forEach(function(r){var i=GI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Dn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:St=l.stateNode,jn=!1;break e;case 3:St=l.stateNode.containerInfo,jn=!0;break e;case 4:St=l.stateNode.containerInfo,jn=!0;break e}l=l.return}if(St===null)throw Error(q(160));K_(s,o,i),St=null,jn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){rt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Q_(e,t),e=e.sibling}function Q_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dn(e,t),Wn(t),r&4){try{Na(3,t,t.return),Wc(3,t)}catch(C){rt(t,t.return,C)}try{Na(5,t,t.return)}catch(C){rt(t,t.return,C)}}break;case 1:Dn(e,t),Wn(t),r&512&&n!==null&&zs(n,n.return);break;case 5:if(Dn(e,t),Wn(t),r&512&&n!==null&&zs(n,n.return),t.flags&32){var i=t.stateNode;try{za(i,"")}catch(C){rt(t,t.return,C)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&v1(i,s),Mh(l,o);var c=Mh(l,s);for(o=0;o<u.length;o+=2){var f=u[o],m=u[o+1];f==="style"?E1(i,m):f==="dangerouslySetInnerHTML"?w1(i,m):f==="children"?za(i,m):ep(i,f,m,c)}switch(l){case"input":Ph(i,s);break;case"textarea":y1(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?Hs(i,!!s.multiple,w,!1):g!==!!s.multiple&&(s.defaultValue!=null?Hs(i,!!s.multiple,s.defaultValue,!0):Hs(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ya]=s}catch(C){rt(t,t.return,C)}}break;case 6:if(Dn(e,t),Wn(t),r&4){if(t.stateNode===null)throw Error(q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(C){rt(t,t.return,C)}}break;case 3:if(Dn(e,t),Wn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qa(e.containerInfo)}catch(C){rt(t,t.return,C)}break;case 4:Dn(e,t),Wn(t);break;case 13:Dn(e,t),Wn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Dp=ot())),r&4&&Rv(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Ft=(c=Ft)||f,Dn(e,t),Ft=c):Dn(e,t),Wn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(X=t,f=t.child;f!==null;){for(m=X=f;X!==null;){switch(g=X,w=g.child,g.tag){case 0:case 11:case 14:case 15:Na(4,g,g.return);break;case 1:zs(g,g.return);var k=g.stateNode;if(typeof k.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(C){rt(r,n,C)}}break;case 5:zs(g,g.return);break;case 22:if(g.memoizedState!==null){Nv(m);continue}}w!==null?(w.return=g,X=w):Nv(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=m.stateNode,u=m.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=x1("display",o))}catch(C){rt(t,t.return,C)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(C){rt(t,t.return,C)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Dn(e,t),Wn(t),r&4&&Rv(t);break;case 21:break;default:Dn(e,t),Wn(t)}}function Wn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(G_(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(za(i,""),r.flags&=-33);var s=Av(t);ff(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Av(t);hf(t,l,o);break;default:throw Error(q(161))}}catch(u){rt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function FI(t,e,n){X=t,Y_(t)}function Y_(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var i=X,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||du;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Ft;l=du;var c=Ft;if(du=o,(Ft=u)&&!c)for(X=i;X!==null;)o=X,u=o.child,o.tag===22&&o.memoizedState!==null?Dv(i):u!==null?(u.return=o,X=u):Dv(i);for(;s!==null;)X=s,Y_(s),s=s.sibling;X=i,du=l,Ft=c}Pv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,X=s):Pv(t)}}function Pv(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ft||Wc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ft)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ln(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&mv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}mv(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&qa(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Ft||e.flags&512&&df(e)}catch(g){rt(e,e.return,g)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function Nv(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function Dv(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wc(4,e)}catch(u){rt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){rt(e,i,u)}}var s=e.return;try{df(e)}catch(u){rt(e,s,u)}break;case 5:var o=e.return;try{df(e)}catch(u){rt(e,o,u)}}}catch(u){rt(e,e.return,u)}if(e===t){X=null;break}var l=e.sibling;if(l!==null){l.return=e.return,X=l;break}X=e.return}}var UI=Math.ceil,uc=Nr.ReactCurrentDispatcher,Pp=Nr.ReactCurrentOwner,Sn=Nr.ReactCurrentBatchConfig,be=0,xt=null,ft=null,Ct=0,cn=0,Bs=bi(0),vt=0,nl=null,ts=0,Gc=0,Np=0,Da=null,tn=null,Dp=0,uo=1/0,hr=null,cc=!1,pf=null,di=null,hu=!1,ni=null,dc=0,La=0,mf=null,Ru=-1,Pu=0;function Qt(){return be&6?ot():Ru!==-1?Ru:Ru=ot()}function hi(t){return t.mode&1?be&2&&Ct!==0?Ct&-Ct:TI.transition!==null?(Pu===0&&(Pu=L1()),Pu):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:z1(t.type)),t):1}function Fn(t,e,n,r){if(50<La)throw La=0,mf=null,Error(q(185));ml(t,n,r),(!(be&2)||t!==xt)&&(t===xt&&(!(be&2)&&(Gc|=n),vt===4&&Yr(t,Ct)),an(t,r),n===1&&be===0&&!(e.mode&1)&&(uo=ot()+500,$c&&ki()))}function an(t,e){var n=t.callbackNode;TT(t,e);var r=Ku(t,t===xt?Ct:0);if(r===0)n!==null&&Bg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Bg(n),e===1)t.tag===0?EI(Lv.bind(null,t)):o_(Lv.bind(null,t)),yI(function(){!(be&6)&&ki()}),n=null;else{switch(j1(r)){case 1:n=sp;break;case 4:n=N1;break;case 16:n=Gu;break;case 536870912:n=D1;break;default:n=Gu}n=iw(n,X_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function X_(t,e){if(Ru=-1,Pu=0,be&6)throw Error(q(327));var n=t.callbackNode;if(Qs()&&t.callbackNode!==n)return null;var r=Ku(t,t===xt?Ct:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=hc(t,r);else{e=r;var i=be;be|=2;var s=Z_();(xt!==t||Ct!==e)&&(hr=null,uo=ot()+500,Qi(t,e));do try{$I();break}catch(l){J_(t,l)}while(!0);yp(),uc.current=s,be=i,ft!==null?e=0:(xt=null,Ct=0,e=vt)}if(e!==0){if(e===2&&(i=zh(t),i!==0&&(r=i,e=gf(t,i))),e===1)throw n=nl,Qi(t,0),Yr(t,r),an(t,ot()),n;if(e===6)Yr(t,r);else{if(i=t.current.alternate,!(r&30)&&!zI(i)&&(e=hc(t,r),e===2&&(s=zh(t),s!==0&&(r=s,e=gf(t,s))),e===1))throw n=nl,Qi(t,0),Yr(t,r),an(t,ot()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:Oi(t,tn,hr);break;case 3:if(Yr(t,r),(r&130023424)===r&&(e=Dp+500-ot(),10<e)){if(Ku(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Qt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Qh(Oi.bind(null,t,tn,hr),e);break}Oi(t,tn,hr);break;case 4:if(Yr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-On(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*UI(r/1960))-r,10<r){t.timeoutHandle=Qh(Oi.bind(null,t,tn,hr),r);break}Oi(t,tn,hr);break;case 5:Oi(t,tn,hr);break;default:throw Error(q(329))}}}return an(t,ot()),t.callbackNode===n?X_.bind(null,t):null}function gf(t,e){var n=Da;return t.current.memoizedState.isDehydrated&&(Qi(t,e).flags|=256),t=hc(t,e),t!==2&&(e=tn,tn=n,e!==null&&vf(e)),t}function vf(t){tn===null?tn=t:tn.push.apply(tn,t)}function zI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Un(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yr(t,e){for(e&=~Np,e&=~Gc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-On(e),r=1<<n;t[n]=-1,e&=~r}}function Lv(t){if(be&6)throw Error(q(327));Qs();var e=Ku(t,0);if(!(e&1))return an(t,ot()),null;var n=hc(t,e);if(t.tag!==0&&n===2){var r=zh(t);r!==0&&(e=r,n=gf(t,r))}if(n===1)throw n=nl,Qi(t,0),Yr(t,e),an(t,ot()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Oi(t,tn,hr),an(t,ot()),null}function Lp(t,e){var n=be;be|=1;try{return t(e)}finally{be=n,be===0&&(uo=ot()+500,$c&&ki())}}function ns(t){ni!==null&&ni.tag===0&&!(be&6)&&Qs();var e=be;be|=1;var n=Sn.transition,r=Ne;try{if(Sn.transition=null,Ne=1,t)return t()}finally{Ne=r,Sn.transition=n,be=e,!(be&6)&&ki()}}function jp(){cn=Bs.current,We(Bs)}function Qi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,vI(n)),ft!==null)for(n=ft.return;n!==null;){var r=n;switch(mp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zu();break;case 3:ao(),We(sn),We($t),Ip();break;case 5:Tp(r);break;case 4:ao();break;case 13:We(Je);break;case 19:We(Je);break;case 10:_p(r.type._context);break;case 22:case 23:jp()}n=n.return}if(xt=t,ft=t=fi(t.current,null),Ct=cn=e,vt=0,nl=null,Np=Gc=ts=0,tn=Da=null,$i!==null){for(e=0;e<$i.length;e++)if(n=$i[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}$i=null}return t}function J_(t,e){do{var n=ft;try{if(yp(),ku.current=lc,ac){for(var r=Ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ac=!1}if(es=0,wt=gt=Ze=null,Pa=!1,Za=0,Pp.current=null,n===null||n.return===null){vt=1,nl=e,ft=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=Ct,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var w=xv(o);if(w!==null){w.flags&=-257,Ev(w,o,l,s,e),w.mode&1&&wv(s,c,e),e=w,u=c;var k=e.updateQueue;if(k===null){var C=new Set;C.add(u),e.updateQueue=C}else k.add(u);break e}else{if(!(e&1)){wv(s,c,e),Mp();break e}u=Error(q(426))}}else if(Ye&&l.mode&1){var L=xv(o);if(L!==null){!(L.flags&65536)&&(L.flags|=256),Ev(L,o,l,s,e),gp(lo(u,l));break e}}s=u=lo(u,l),vt!==4&&(vt=2),Da===null?Da=[s]:Da.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=j_(s,u,e);pv(s,E);break e;case 1:l=u;var y=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(di===null||!di.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=M_(s,l,e);pv(s,M);break e}}s=s.return}while(s!==null)}tw(n)}catch(U){e=U,ft===n&&n!==null&&(ft=n=n.return);continue}break}while(!0)}function Z_(){var t=uc.current;return uc.current=lc,t===null?lc:t}function Mp(){(vt===0||vt===3||vt===2)&&(vt=4),xt===null||!(ts&268435455)&&!(Gc&268435455)||Yr(xt,Ct)}function hc(t,e){var n=be;be|=2;var r=Z_();(xt!==t||Ct!==e)&&(hr=null,Qi(t,e));do try{BI();break}catch(i){J_(t,i)}while(!0);if(yp(),be=n,uc.current=r,ft!==null)throw Error(q(261));return xt=null,Ct=0,vt}function BI(){for(;ft!==null;)ew(ft)}function $I(){for(;ft!==null&&!pT();)ew(ft)}function ew(t){var e=rw(t.alternate,t,cn);t.memoizedProps=t.pendingProps,e===null?tw(t):ft=e,Pp.current=null}function tw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=MI(n,e),n!==null){n.flags&=32767,ft=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vt=6,ft=null;return}}else if(n=jI(n,e,cn),n!==null){ft=n;return}if(e=e.sibling,e!==null){ft=e;return}ft=e=t}while(e!==null);vt===0&&(vt=5)}function Oi(t,e,n){var r=Ne,i=Sn.transition;try{Sn.transition=null,Ne=1,HI(t,e,n,r)}finally{Sn.transition=i,Ne=r}return null}function HI(t,e,n,r){do Qs();while(ni!==null);if(be&6)throw Error(q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(IT(t,s),t===xt&&(ft=xt=null,Ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hu||(hu=!0,iw(Gu,function(){return Qs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Sn.transition,Sn.transition=null;var o=Ne;Ne=1;var l=be;be|=4,Pp.current=null,OI(t,n),Q_(n,t),cI(Gh),Qu=!!Wh,Gh=Wh=null,t.current=n,FI(n),mT(),be=l,Ne=o,Sn.transition=s}else t.current=n;if(hu&&(hu=!1,ni=t,dc=i),s=t.pendingLanes,s===0&&(di=null),yT(n.stateNode),an(t,ot()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(cc)throw cc=!1,t=pf,pf=null,t;return dc&1&&t.tag!==0&&Qs(),s=t.pendingLanes,s&1?t===mf?La++:(La=0,mf=t):La=0,ki(),null}function Qs(){if(ni!==null){var t=j1(dc),e=Sn.transition,n=Ne;try{if(Sn.transition=null,Ne=16>t?16:t,ni===null)var r=!1;else{if(t=ni,ni=null,dc=0,be&6)throw Error(q(331));var i=be;for(be|=4,X=t.current;X!==null;){var s=X,o=s.child;if(X.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(X=c;X!==null;){var f=X;switch(f.tag){case 0:case 11:case 15:Na(8,f,s)}var m=f.child;if(m!==null)m.return=f,X=m;else for(;X!==null;){f=X;var g=f.sibling,w=f.return;if(W_(f),f===c){X=null;break}if(g!==null){g.return=w,X=g;break}X=w}}}var k=s.alternate;if(k!==null){var C=k.child;if(C!==null){k.child=null;do{var L=C.sibling;C.sibling=null,C=L}while(C!==null)}}X=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,X=o;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Na(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,X=E;break e}X=s.return}}var y=t.current;for(X=y;X!==null;){o=X;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,X=S;else e:for(o=y;X!==null;){if(l=X,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Wc(9,l)}}catch(U){rt(l,l.return,U)}if(l===o){X=null;break e}var M=l.sibling;if(M!==null){M.return=l.return,X=M;break e}X=l.return}}if(be=i,ki(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(Oc,t)}catch{}r=!0}return r}finally{Ne=n,Sn.transition=e}}return!1}function jv(t,e,n){e=lo(n,e),e=j_(t,e,1),t=ci(t,e,1),e=Qt(),t!==null&&(ml(t,1,e),an(t,e))}function rt(t,e,n){if(t.tag===3)jv(t,t,n);else for(;e!==null;){if(e.tag===3){jv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(di===null||!di.has(r))){t=lo(n,t),t=M_(e,t,1),e=ci(e,t,1),t=Qt(),e!==null&&(ml(e,1,t),an(e,t));break}}e=e.return}}function qI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qt(),t.pingedLanes|=t.suspendedLanes&n,xt===t&&(Ct&n)===n&&(vt===4||vt===3&&(Ct&130023424)===Ct&&500>ot()-Dp?Qi(t,0):Np|=n),an(t,e)}function nw(t,e){e===0&&(t.mode&1?(e=nu,nu<<=1,!(nu&130023424)&&(nu=4194304)):e=1);var n=Qt();t=Sr(t,e),t!==null&&(ml(t,e,n),an(t,n))}function WI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),nw(t,n)}function GI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),nw(t,n)}var rw;rw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||sn.current)rn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rn=!1,LI(t,e,n);rn=!!(t.flags&131072)}else rn=!1,Ye&&e.flags&1048576&&a_(e,nc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Au(t,e),t=e.pendingProps;var i=io(e,$t.current);Ks(e,n),i=bp(null,e,r,t,i,n);var s=kp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,on(r)?(s=!0,ec(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xp(e),i.updater=qc,e.stateNode=i,i._reactInternals=e,nf(e,r,t,n),e=of(null,e,r,!0,s,n)):(e.tag=0,Ye&&s&&pp(e),Gt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Au(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=QI(r),t=Ln(r,t),i){case 0:e=sf(null,e,r,t,n);break e;case 1:e=Sv(null,e,r,t,n);break e;case 11:e=Tv(null,e,r,t,n);break e;case 14:e=Iv(null,e,r,Ln(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),sf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),Sv(t,e,r,i,n);case 3:e:{if(U_(e),t===null)throw Error(q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,f_(t,e),sc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=lo(Error(q(423)),e),e=bv(t,e,r,n,i);break e}else if(r!==i){i=lo(Error(q(424)),e),e=bv(t,e,r,n,i);break e}else for(fn=ui(e.stateNode.containerInfo.firstChild),mn=e,Ye=!0,Vn=null,n=d_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(so(),r===i){e=br(t,e,n);break e}Gt(t,e,r,n)}e=e.child}return e;case 5:return p_(e),t===null&&Zh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Kh(r,i)?o=null:s!==null&&Kh(r,s)&&(e.flags|=32),F_(t,e),Gt(t,e,o,n),e.child;case 6:return t===null&&Zh(e),null;case 13:return z_(t,e,n);case 4:return Ep(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=oo(e,null,r,n):Gt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),Tv(t,e,r,i,n);case 7:return Gt(t,e,e.pendingProps,n),e.child;case 8:return Gt(t,e,e.pendingProps.children,n),e.child;case 12:return Gt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ze(rc,r._currentValue),r._currentValue=o,s!==null)if(Un(s.value,o)){if(s.children===i.children&&!sn.current){e=br(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=wr(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),ef(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(q(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ef(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Gt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ks(e,n),i=kn(i),r=r(i),e.flags|=1,Gt(t,e,r,n),e.child;case 14:return r=e.type,i=Ln(r,e.pendingProps),i=Ln(r.type,i),Iv(t,e,r,i,n);case 15:return V_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),Au(t,e),e.tag=1,on(r)?(t=!0,ec(e)):t=!1,Ks(e,n),L_(e,r,i),nf(e,r,i,n),of(null,e,r,!0,t,n);case 19:return B_(t,e,n);case 22:return O_(t,e,n)}throw Error(q(156,e.tag))};function iw(t,e){return P1(t,e)}function KI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,e,n,r){return new KI(t,e,n,r)}function Vp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function QI(t){if(typeof t=="function")return Vp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===np)return 11;if(t===rp)return 14}return 2}function fi(t,e){var n=t.alternate;return n===null?(n=In(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Nu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Vp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ns:return Yi(n.children,i,s,e);case tp:o=8,i|=8;break;case bh:return t=In(12,n,e,i|2),t.elementType=bh,t.lanes=s,t;case kh:return t=In(13,n,e,i),t.elementType=kh,t.lanes=s,t;case Ch:return t=In(19,n,e,i),t.elementType=Ch,t.lanes=s,t;case p1:return Kc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case h1:o=10;break e;case f1:o=9;break e;case np:o=11;break e;case rp:o=14;break e;case Gr:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=In(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Yi(t,e,n,r){return t=In(7,t,r,e),t.lanes=n,t}function Kc(t,e,n,r){return t=In(22,t,r,e),t.elementType=p1,t.lanes=n,t.stateNode={isHidden:!1},t}function sh(t,e,n){return t=In(6,t,null,e),t.lanes=n,t}function oh(t,e,n){return e=In(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function YI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ud(0),this.expirationTimes=Ud(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ud(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Op(t,e,n,r,i,s,o,l,u){return t=new YI(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=In(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xp(s),t}function XI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ps,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function sw(t){if(!t)return wi;t=t._reactInternals;e:{if(hs(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(on(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(on(n))return s_(t,n,e)}return e}function ow(t,e,n,r,i,s,o,l,u){return t=Op(n,r,!0,t,i,s,o,l,u),t.context=sw(null),n=t.current,r=Qt(),i=hi(n),s=wr(r,i),s.callback=e??null,ci(n,s,i),t.current.lanes=i,ml(t,i,r),an(t,r),t}function Qc(t,e,n,r){var i=e.current,s=Qt(),o=hi(i);return n=sw(n),e.context===null?e.context=n:e.pendingContext=n,e=wr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ci(i,e,o),t!==null&&(Fn(t,i,o,s),bu(t,i,o)),o}function fc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Mv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Fp(t,e){Mv(t,e),(t=t.alternate)&&Mv(t,e)}function JI(){return null}var aw=typeof reportError=="function"?reportError:function(t){console.error(t)};function Up(t){this._internalRoot=t}Yc.prototype.render=Up.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Qc(t,e,null,null)};Yc.prototype.unmount=Up.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ns(function(){Qc(null,t,null,null)}),e[Ir]=null}};function Yc(t){this._internalRoot=t}Yc.prototype.unstable_scheduleHydration=function(t){if(t){var e=O1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qr.length&&e!==0&&e<Qr[n].priority;n++);Qr.splice(n,0,t),n===0&&U1(t)}};function zp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Vv(){}function ZI(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=fc(o);s.call(c)}}var o=ow(e,r,t,0,null,!1,!1,"",Vv);return t._reactRootContainer=o,t[Ir]=o.current,Ka(t.nodeType===8?t.parentNode:t),ns(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=fc(u);l.call(c)}}var u=Op(t,0,!1,null,null,!1,!1,"",Vv);return t._reactRootContainer=u,t[Ir]=u.current,Ka(t.nodeType===8?t.parentNode:t),ns(function(){Qc(e,u,n,r)}),u}function Jc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=fc(o);l.call(u)}}Qc(e,o,t,i)}else o=ZI(n,e,t,i,r);return fc(o)}M1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=_a(e.pendingLanes);n!==0&&(op(e,n|1),an(e,ot()),!(be&6)&&(uo=ot()+500,ki()))}break;case 13:ns(function(){var r=Sr(t,1);if(r!==null){var i=Qt();Fn(r,t,1,i)}}),Fp(t,1)}};ap=function(t){if(t.tag===13){var e=Sr(t,134217728);if(e!==null){var n=Qt();Fn(e,t,134217728,n)}Fp(t,134217728)}};V1=function(t){if(t.tag===13){var e=hi(t),n=Sr(t,e);if(n!==null){var r=Qt();Fn(n,t,e,r)}Fp(t,e)}};O1=function(){return Ne};F1=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};Oh=function(t,e,n){switch(e){case"input":if(Ph(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Bc(r);if(!i)throw Error(q(90));g1(r),Ph(r,i)}}}break;case"textarea":y1(t,n);break;case"select":e=n.value,e!=null&&Hs(t,!!n.multiple,e,!1)}};S1=Lp;b1=ns;var eS={usingClientEntryPoint:!1,Events:[vl,Ms,Bc,T1,I1,Lp]},oa={findFiberByHostInstance:Bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tS={bundleType:oa.bundleType,version:oa.version,rendererPackageName:oa.rendererPackageName,rendererConfig:oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=A1(t),t===null?null:t.stateNode},findFiberByHostInstance:oa.findFiberByHostInstance||JI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fu.isDisabled&&fu.supportsFiber)try{Oc=fu.inject(tS),Qn=fu}catch{}}vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eS;vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zp(e))throw Error(q(200));return XI(t,e,null,n)};vn.createRoot=function(t,e){if(!zp(t))throw Error(q(299));var n=!1,r="",i=aw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Op(t,1,!1,null,null,n,!1,r,i),t[Ir]=e.current,Ka(t.nodeType===8?t.parentNode:t),new Up(e)};vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=A1(e),t=t===null?null:t.stateNode,t};vn.flushSync=function(t){return ns(t)};vn.hydrate=function(t,e,n){if(!Xc(e))throw Error(q(200));return Jc(null,t,e,!0,n)};vn.hydrateRoot=function(t,e,n){if(!zp(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=aw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ow(e,null,t,1,n??null,i,!1,s,o),t[Ir]=e.current,Ka(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Yc(e)};vn.render=function(t,e,n){if(!Xc(e))throw Error(q(200));return Jc(null,t,e,!1,n)};vn.unmountComponentAtNode=function(t){if(!Xc(t))throw Error(q(40));return t._reactRootContainer?(ns(function(){Jc(null,null,t,!1,function(){t._reactRootContainer=null,t[Ir]=null})}),!0):!1};vn.unstable_batchedUpdates=Lp;vn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xc(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return Jc(t,e,n,!1,r)};vn.version="18.3.1-next-f1338f8080-20240426";function lw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lw)}catch(t){console.error(t)}}lw(),l1.exports=vn;var Bp=l1.exports;const nS=Y0(Bp),rS=Q0({__proto__:null,default:nS},[Bp]);var uw,Ov=Bp;uw=Ov.createRoot,Ov.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qe(){return Qe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qe.apply(this,arguments)}var ht;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ht||(ht={}));const Fv="popstate";function iS(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return rl("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:rs(i)}return oS(e,n,null,t)}function we(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function co(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sS(){return Math.random().toString(36).substr(2,8)}function Uv(t,e){return{usr:t.state,key:t.key,idx:e}}function rl(t,e,n,r){return n===void 0&&(n=null),Qe({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ci(e):e,{state:n,key:e&&e.key||r||sS()})}function rs(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ci(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function oS(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=ht.Pop,u=null,c=f();c==null&&(c=0,o.replaceState(Qe({},o.state,{idx:c}),""));function f(){return(o.state||{idx:null}).idx}function m(){l=ht.Pop;let L=f(),E=L==null?null:L-c;c=L,u&&u({action:l,location:C.location,delta:E})}function g(L,E){l=ht.Push;let y=rl(C.location,L,E);c=f()+1;let S=Uv(y,c),M=C.createHref(y);try{o.pushState(S,"",M)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(M)}s&&u&&u({action:l,location:C.location,delta:1})}function w(L,E){l=ht.Replace;let y=rl(C.location,L,E);c=f();let S=Uv(y,c),M=C.createHref(y);o.replaceState(S,"",M),s&&u&&u({action:l,location:C.location,delta:0})}function k(L){let E=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof L=="string"?L:rs(L);return y=y.replace(/ $/,"%20"),we(E,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,E)}let C={get action(){return l},get location(){return t(i,o)},listen(L){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Fv,m),u=L,()=>{i.removeEventListener(Fv,m),u=null}},createHref(L){return e(i,L)},createURL:k,encodeLocation(L){let E=k(L);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:w,go(L){return o.go(L)}};return C}var Me;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Me||(Me={}));const aS=new Set(["lazy","caseSensitive","path","id","index","children"]);function lS(t){return t.index===!0}function pc(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],l=typeof i.id=="string"?i.id:o.join("-");if(we(i.index!==!0||!i.children,"Cannot specify children on an index route"),we(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),lS(i)){let u=Qe({},i,e(i),{id:l});return r[l]=u,u}else{let u=Qe({},i,e(i),{id:l,children:void 0});return r[l]=u,i.children&&(u.children=pc(i.children,e,o,r)),u}})}function Ui(t,e,n){return n===void 0&&(n="/"),Du(t,e,n,!1)}function Du(t,e,n,r){let i=typeof e=="string"?Ci(e):e,s=Io(i.pathname||"/",n);if(s==null)return null;let o=cw(t);cS(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=xS(s);l=_S(o[u],c,r)}return l}function uS(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function cw(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(we(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=xr([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(we(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),cw(s.children,e,f,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:vS(c,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of dw(s.path))i(s,o,u)}),e}function dw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=dw(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function cS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yS(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const dS=/^:[\w-]+$/,hS=3,fS=2,pS=1,mS=10,gS=-2,zv=t=>t==="*";function vS(t,e){let n=t.split("/"),r=n.length;return n.some(zv)&&(r+=gS),e&&(r+=fS),n.filter(i=>!zv(i)).reduce((i,s)=>i+(dS.test(s)?hS:s===""?pS:mS),r)}function yS(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function _S(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",m=Bv({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),g=u.route;if(!m&&c&&n&&!r[r.length-1].route.index&&(m=Bv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:xr([s,m.pathname]),pathnameBase:IS(xr([s,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(s=xr([s,m.pathnameBase]))}return o}function Bv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wS(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,f,m)=>{let{paramName:g,isOptional:w}=f;if(g==="*"){let C=l[m]||"";o=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const k=l[m];return w&&!k?c[g]=void 0:c[g]=(k||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function wS(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),co(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function xS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return co(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Io(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ES(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ci(t):t;return{pathname:n?n.startsWith("/")?n:TS(n,e):e,search:SS(r),hash:bS(i)}}function TS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ah(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $p(t,e){let n=hw(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Hp(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ci(t):(i=Qe({},t),we(!i.pathname||!i.pathname.includes("?"),ah("?","pathname","search",i)),we(!i.pathname||!i.pathname.includes("#"),ah("#","pathname","hash",i)),we(!i.search||!i.search.includes("#"),ah("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}l=m>=0?e[m]:"/"}let u=ES(i,l),c=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const xr=t=>t.join("/").replace(/\/\/+/g,"/"),IS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),SS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class mc{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Zc(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const fw=["post","put","patch","delete"],kS=new Set(fw),CS=["get",...fw],AS=new Set(CS),RS=new Set([301,302,303,307,308]),PS=new Set([307,308]),lh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},NS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},aa={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},qp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DS=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),pw="remix-router-transitions";function LS(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;we(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let R=t.detectErrorBoundary;i=j=>({hasErrorBoundary:R(j)})}else i=DS;let s={},o=pc(t.routes,i,void 0,s),l,u=t.basename||"/",c=t.dataStrategy||OS,f=t.patchRoutesOnNavigation,m=Qe({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),g=null,w=new Set,k=null,C=null,L=null,E=t.hydrationData!=null,y=Ui(o,t.history.location,u),S=null;if(y==null&&!f){let R=en(404,{pathname:t.history.location.pathname}),{matches:j,route:O}=Zv(o);y=j,S={[O.id]:R}}y&&!t.hydrationData&&ar(y,o,t.history.location.pathname).active&&(y=null);let M;if(y)if(y.some(R=>R.route.lazy))M=!1;else if(!y.some(R=>R.route.loader))M=!0;else if(m.v7_partialHydration){let R=t.hydrationData?t.hydrationData.loaderData:null,j=t.hydrationData?t.hydrationData.errors:null;if(j){let O=y.findIndex($=>j[$.route.id]!==void 0);M=y.slice(0,O+1).every($=>!_f($.route,R,j))}else M=y.every(O=>!_f(O.route,R,j))}else M=t.hydrationData!=null;else if(M=!1,y=[],m.v7_partialHydration){let R=ar(null,o,t.history.location.pathname);R.active&&R.matches&&(y=R.matches)}let U,P={historyAction:t.history.action,location:t.history.location,matches:y,initialized:M,navigation:lh,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||S,fetchers:new Map,blockers:new Map},I=ht.Pop,v=!1,x,T=!1,A=new Map,N=null,b=!1,me=!1,lt=[],mt=new Set,ke=new Map,B=0,W=-1,Z=new Map,se=new Set,de=new Map,Te=new Map,Re=new Set,Le=new Map,it=new Map,yt;function Pi(){if(g=t.history.listen(R=>{let{action:j,location:O,delta:$}=R;if(yt){yt(),yt=void 0;return}co(it.size===0||$!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Y=$o({currentLocation:P.location,nextLocation:O,historyAction:j});if(Y&&$!=null){let re=new Promise(oe=>{yt=oe});t.history.go($*-1),Lr(Y,{state:"blocked",location:O,proceed(){Lr(Y,{state:"proceeding",proceed:void 0,reset:void 0,location:O}),re.then(()=>t.history.go($))},reset(){let oe=new Map(P.blockers);oe.set(Y,aa),ut({blockers:oe})}});return}return An(j,O)}),n){JS(e,A);let R=()=>ZS(e,A);e.addEventListener("pagehide",R),N=()=>e.removeEventListener("pagehide",R)}return P.initialized||An(ht.Pop,P.location,{initialHydration:!0}),U}function Mo(){g&&g(),N&&N(),w.clear(),x&&x.abort(),P.fetchers.forEach((R,j)=>Ni(j)),P.blockers.forEach((R,j)=>Vl(j))}function vs(R){return w.add(R),()=>w.delete(R)}function ut(R,j){j===void 0&&(j={}),P=Qe({},P,R);let O=[],$=[];m.v7_fetcherPersist&&P.fetchers.forEach((Y,re)=>{Y.state==="idle"&&(Re.has(re)?$.push(re):O.push(re))}),[...w].forEach(Y=>Y(P,{deletedFetchers:$,viewTransitionOpts:j.viewTransitionOpts,flushSync:j.flushSync===!0})),m.v7_fetcherPersist&&(O.forEach(Y=>P.fetchers.delete(Y)),$.forEach(Y=>Ni(Y)))}function Bn(R,j,O){var $,Y;let{flushSync:re}=O===void 0?{}:O,oe=P.actionData!=null&&P.navigation.formMethod!=null&&Mn(P.navigation.formMethod)&&P.navigation.state==="loading"&&(($=R.state)==null?void 0:$._isRedirect)!==!0,J;j.actionData?Object.keys(j.actionData).length>0?J=j.actionData:J=null:oe?J=P.actionData:J=null;let ee=j.loaderData?Xv(P.loaderData,j.loaderData,j.matches||[],j.errors):P.loaderData,K=P.blockers;K.size>0&&(K=new Map(K),K.forEach((ge,Oe)=>K.set(Oe,aa)));let ne=v===!0||P.navigation.formMethod!=null&&Mn(P.navigation.formMethod)&&((Y=R.state)==null?void 0:Y._isRedirect)!==!0;l&&(o=l,l=void 0),b||I===ht.Pop||(I===ht.Push?t.history.push(R,R.state):I===ht.Replace&&t.history.replace(R,R.state));let pe;if(I===ht.Pop){let ge=A.get(P.location.pathname);ge&&ge.has(R.pathname)?pe={currentLocation:P.location,nextLocation:R}:A.has(R.pathname)&&(pe={currentLocation:R,nextLocation:P.location})}else if(T){let ge=A.get(P.location.pathname);ge?ge.add(R.pathname):(ge=new Set([R.pathname]),A.set(P.location.pathname,ge)),pe={currentLocation:P.location,nextLocation:R}}ut(Qe({},j,{actionData:J,loaderData:ee,historyAction:I,location:R,initialized:!0,navigation:lh,revalidation:"idle",restoreScrollPosition:qo(R,j.matches||P.matches),preventScrollReset:ne,blockers:K}),{viewTransitionOpts:pe,flushSync:re===!0}),I=ht.Pop,v=!1,T=!1,b=!1,me=!1,lt=[]}async function ys(R,j){if(typeof R=="number"){t.history.go(R);return}let O=yf(P.location,P.matches,u,m.v7_prependBasename,R,m.v7_relativeSplatPath,j==null?void 0:j.fromRouteId,j==null?void 0:j.relative),{path:$,submission:Y,error:re}=$v(m.v7_normalizeFormMethod,!1,O,j),oe=P.location,J=rl(P.location,$,j&&j.state);J=Qe({},J,t.history.encodeLocation(J));let ee=j&&j.replace!=null?j.replace:void 0,K=ht.Push;ee===!0?K=ht.Replace:ee===!1||Y!=null&&Mn(Y.formMethod)&&Y.formAction===P.location.pathname+P.location.search&&(K=ht.Replace);let ne=j&&"preventScrollReset"in j?j.preventScrollReset===!0:void 0,pe=(j&&j.flushSync)===!0,ge=$o({currentLocation:oe,nextLocation:J,historyAction:K});if(ge){Lr(ge,{state:"blocked",location:J,proceed(){Lr(ge,{state:"proceeding",proceed:void 0,reset:void 0,location:J}),ys(R,j)},reset(){let Oe=new Map(P.blockers);Oe.set(ge,aa),ut({blockers:Oe})}});return}return await An(K,J,{submission:Y,pendingError:re,preventScrollReset:ne,replace:j&&j.replace,enableViewTransition:j&&j.viewTransition,flushSync:pe})}function Vo(){if(ct(),ut({revalidation:"loading"}),P.navigation.state!=="submitting"){if(P.navigation.state==="idle"){An(P.historyAction,P.location,{startUninterruptedRevalidation:!0});return}An(I||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation,enableViewTransition:T===!0})}}async function An(R,j,O){x&&x.abort(),x=null,I=R,b=(O&&O.startUninterruptedRevalidation)===!0,or(P.location,P.matches),v=(O&&O.preventScrollReset)===!0,T=(O&&O.enableViewTransition)===!0;let $=l||o,Y=O&&O.overrideNavigation,re=Ui($,j,u),oe=(O&&O.flushSync)===!0,J=ar(re,$,j.pathname);if(J.active&&J.matches&&(re=J.matches),!re){let{error:Pe,notFoundMatches:Ie,route:Fe}=ws(j.pathname);Bn(j,{matches:Ie,loaderData:{},errors:{[Fe.id]:Pe}},{flushSync:oe});return}if(P.initialized&&!me&&HS(P.location,j)&&!(O&&O.submission&&Mn(O.submission.formMethod))){Bn(j,{matches:re},{flushSync:oe});return}x=new AbortController;let ee=ks(t.history,j,x.signal,O&&O.submission),K;if(O&&O.pendingError)K=[zi(re).route.id,{type:Me.error,error:O.pendingError}];else if(O&&O.submission&&Mn(O.submission.formMethod)){let Pe=await Dl(ee,j,O.submission,re,J.active,{replace:O.replace,flushSync:oe});if(Pe.shortCircuited)return;if(Pe.pendingActionResult){let[Ie,Fe]=Pe.pendingActionResult;if(dn(Fe)&&Zc(Fe.error)&&Fe.error.status===404){x=null,Bn(j,{matches:Pe.matches,loaderData:{},errors:{[Ie]:Fe.error}});return}}re=Pe.matches||re,K=Pe.pendingActionResult,Y=uh(j,O.submission),oe=!1,J.active=!1,ee=ks(t.history,ee.url,ee.signal)}let{shortCircuited:ne,matches:pe,loaderData:ge,errors:Oe}=await bd(ee,j,re,J.active,Y,O&&O.submission,O&&O.fetcherSubmission,O&&O.replace,O&&O.initialHydration===!0,oe,K);ne||(x=null,Bn(j,Qe({matches:pe||re},Jv(K),{loaderData:ge,errors:Oe})))}async function Dl(R,j,O,$,Y,re){re===void 0&&(re={}),ct();let oe=YS(j,O);if(ut({navigation:oe},{flushSync:re.flushSync===!0}),Y){let K=await Di($,j.pathname,R.signal);if(K.type==="aborted")return{shortCircuited:!0};if(K.type==="error"){let ne=zi(K.partialMatches).route.id;return{matches:K.partialMatches,pendingActionResult:[ne,{type:Me.error,error:K.error}]}}else if(K.matches)$=K.matches;else{let{notFoundMatches:ne,error:pe,route:ge}=ws(j.pathname);return{matches:ne,pendingActionResult:[ge.id,{type:Me.error,error:pe}]}}}let J,ee=xa($,j);if(!ee.route.action&&!ee.route.lazy)J={type:Me.error,error:en(405,{method:R.method,pathname:j.pathname,routeId:ee.route.id})};else if(J=(await ir("action",P,R,[ee],$,null))[ee.route.id],R.signal.aborted)return{shortCircuited:!0};if(qi(J)){let K;return re&&re.replace!=null?K=re.replace:K=Kv(J.response.headers.get("Location"),new URL(R.url),u)===P.location.pathname+P.location.search,await Rn(R,J,!0,{submission:O,replace:K}),{shortCircuited:!0}}if(ri(J))throw en(400,{type:"defer-action"});if(dn(J)){let K=zi($,ee.route.id);return(re&&re.replace)!==!0&&(I=ht.Push),{matches:$,pendingActionResult:[K.route.id,J]}}return{matches:$,pendingActionResult:[ee.route.id,J]}}async function bd(R,j,O,$,Y,re,oe,J,ee,K,ne){let pe=Y||uh(j,re),ge=re||oe||ty(pe),Oe=!b&&(!m.v7_partialHydration||!ee);if($){if(Oe){let Ke=Ll(ne);ut(Qe({navigation:pe},Ke!==void 0?{actionData:Ke}:{}),{flushSync:K})}let _e=await Di(O,j.pathname,R.signal);if(_e.type==="aborted")return{shortCircuited:!0};if(_e.type==="error"){let Ke=zi(_e.partialMatches).route.id;return{matches:_e.partialMatches,loaderData:{},errors:{[Ke]:_e.error}}}else if(_e.matches)O=_e.matches;else{let{error:Ke,notFoundMatches:lr,route:Or}=ws(j.pathname);return{matches:lr,loaderData:{},errors:{[Or.id]:Ke}}}}let Pe=l||o,[Ie,Fe]=qv(t.history,P,O,ge,j,m.v7_partialHydration&&ee===!0,m.v7_skipActionErrorRevalidation,me,lt,mt,Re,de,se,Pe,u,ne);if(sr(_e=>!(O&&O.some(Ke=>Ke.route.id===_e))||Ie&&Ie.some(Ke=>Ke.route.id===_e)),W=++B,Ie.length===0&&Fe.length===0){let _e=Bo();return Bn(j,Qe({matches:O,loaderData:{},errors:ne&&dn(ne[1])?{[ne[0]]:ne[1].error}:null},Jv(ne),_e?{fetchers:new Map(P.fetchers)}:{}),{flushSync:K}),{shortCircuited:!0}}if(Oe){let _e={};if(!$){_e.navigation=pe;let Ke=Ll(ne);Ke!==void 0&&(_e.actionData=Ke)}Fe.length>0&&(_e.fetchers=jl(Fe)),ut(_e,{flushSync:K})}Fe.forEach(_e=>{Zt(_e.key),_e.controller&&ke.set(_e.key,_e.controller)});let $n=()=>Fe.forEach(_e=>Zt(_e.key));x&&x.signal.addEventListener("abort",$n);let{loaderResults:jr,fetcherResults:_n}=await Fo(P,O,Ie,Fe,R);if(R.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",$n),Fe.forEach(_e=>ke.delete(_e.key));let wn=pu(jr);if(wn)return await Rn(R,wn.result,!0,{replace:J}),{shortCircuited:!0};if(wn=pu(_n),wn)return se.add(wn.key),await Rn(R,wn.result,!0,{replace:J}),{shortCircuited:!0};let{loaderData:Mr,errors:Vr}=Yv(P,O,jr,ne,Fe,_n,Le);Le.forEach((_e,Ke)=>{_e.subscribe(lr=>{(lr||_e.done)&&Le.delete(Ke)})}),m.v7_partialHydration&&ee&&P.errors&&(Vr=Qe({},P.errors,Vr));let Pn=Bo(),Hn=_s(W),xn=Pn||Hn||Fe.length>0;return Qe({matches:O,loaderData:Mr,errors:Vr},xn?{fetchers:new Map(P.fetchers)}:{})}function Ll(R){if(R&&!dn(R[1]))return{[R[0]]:R[1].data};if(P.actionData)return Object.keys(P.actionData).length===0?null:P.actionData}function jl(R){return R.forEach(j=>{let O=P.fetchers.get(j.key),$=la(void 0,O?O.data:void 0);P.fetchers.set(j.key,$)}),new Map(P.fetchers)}function Oo(R,j,O,$){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Zt(R);let Y=($&&$.flushSync)===!0,re=l||o,oe=yf(P.location,P.matches,u,m.v7_prependBasename,O,m.v7_relativeSplatPath,j,$==null?void 0:$.relative),J=Ui(re,oe,u),ee=ar(J,re,oe);if(ee.active&&ee.matches&&(J=ee.matches),!J){Jt(R,j,en(404,{pathname:oe}),{flushSync:Y});return}let{path:K,submission:ne,error:pe}=$v(m.v7_normalizeFormMethod,!0,oe,$);if(pe){Jt(R,j,pe,{flushSync:Y});return}let ge=xa(J,K),Oe=($&&$.preventScrollReset)===!0;if(ne&&Mn(ne.formMethod)){Ml(R,j,K,ge,J,ee.active,Y,Oe,ne);return}de.set(R,{routeId:j,path:K}),kd(R,j,K,ge,J,ee.active,Y,Oe,ne)}async function Ml(R,j,O,$,Y,re,oe,J,ee){ct(),de.delete(R);function K(Xe){if(!Xe.route.action&&!Xe.route.lazy){let qn=en(405,{method:ee.formMethod,pathname:O,routeId:j});return Jt(R,j,qn,{flushSync:oe}),!0}return!1}if(!re&&K($))return;let ne=P.fetchers.get(R);Ge(R,XS(ee,ne),{flushSync:oe});let pe=new AbortController,ge=ks(t.history,O,pe.signal,ee);if(re){let Xe=await Di(Y,O,ge.signal);if(Xe.type==="aborted")return;if(Xe.type==="error"){Jt(R,j,Xe.error,{flushSync:oe});return}else if(Xe.matches){if(Y=Xe.matches,$=xa(Y,O),K($))return}else{Jt(R,j,en(404,{pathname:O}),{flushSync:oe});return}}ke.set(R,pe);let Oe=B,Ie=(await ir("action",P,ge,[$],Y,R))[$.route.id];if(ge.signal.aborted){ke.get(R)===pe&&ke.delete(R);return}if(m.v7_fetcherPersist&&Re.has(R)){if(qi(Ie)||dn(Ie)){Ge(R,Wr(void 0));return}}else{if(qi(Ie))if(ke.delete(R),W>Oe){Ge(R,Wr(void 0));return}else return se.add(R),Ge(R,la(ee)),Rn(ge,Ie,!1,{fetcherSubmission:ee,preventScrollReset:J});if(dn(Ie)){Jt(R,j,Ie.error);return}}if(ri(Ie))throw en(400,{type:"defer-action"});let Fe=P.navigation.location||P.location,$n=ks(t.history,Fe,pe.signal),jr=l||o,_n=P.navigation.state!=="idle"?Ui(jr,P.navigation.location,u):P.matches;we(_n,"Didn't find any matches after fetcher action");let wn=++B;Z.set(R,wn);let Mr=la(ee,Ie.data);P.fetchers.set(R,Mr);let[Vr,Pn]=qv(t.history,P,_n,ee,Fe,!1,m.v7_skipActionErrorRevalidation,me,lt,mt,Re,de,se,jr,u,[$.route.id,Ie]);Pn.filter(Xe=>Xe.key!==R).forEach(Xe=>{let qn=Xe.key,Es=P.fetchers.get(qn),Fl=la(void 0,Es?Es.data:void 0);P.fetchers.set(qn,Fl),Zt(qn),Xe.controller&&ke.set(qn,Xe.controller)}),ut({fetchers:new Map(P.fetchers)});let Hn=()=>Pn.forEach(Xe=>Zt(Xe.key));pe.signal.addEventListener("abort",Hn);let{loaderResults:xn,fetcherResults:_e}=await Fo(P,_n,Vr,Pn,$n);if(pe.signal.aborted)return;pe.signal.removeEventListener("abort",Hn),Z.delete(R),ke.delete(R),Pn.forEach(Xe=>ke.delete(Xe.key));let Ke=pu(xn);if(Ke)return Rn($n,Ke.result,!1,{preventScrollReset:J});if(Ke=pu(_e),Ke)return se.add(Ke.key),Rn($n,Ke.result,!1,{preventScrollReset:J});let{loaderData:lr,errors:Or}=Yv(P,_n,xn,void 0,Pn,_e,Le);if(P.fetchers.has(R)){let Xe=Wr(Ie.data);P.fetchers.set(R,Xe)}_s(wn),P.navigation.state==="loading"&&wn>W?(we(I,"Expected pending action"),x&&x.abort(),Bn(P.navigation.location,{matches:_n,loaderData:lr,errors:Or,fetchers:new Map(P.fetchers)})):(ut({errors:Or,loaderData:Xv(P.loaderData,lr,_n,Or),fetchers:new Map(P.fetchers)}),me=!1)}async function kd(R,j,O,$,Y,re,oe,J,ee){let K=P.fetchers.get(R);Ge(R,la(ee,K?K.data:void 0),{flushSync:oe});let ne=new AbortController,pe=ks(t.history,O,ne.signal);if(re){let Ie=await Di(Y,O,pe.signal);if(Ie.type==="aborted")return;if(Ie.type==="error"){Jt(R,j,Ie.error,{flushSync:oe});return}else if(Ie.matches)Y=Ie.matches,$=xa(Y,O);else{Jt(R,j,en(404,{pathname:O}),{flushSync:oe});return}}ke.set(R,ne);let ge=B,Pe=(await ir("loader",P,pe,[$],Y,R))[$.route.id];if(ri(Pe)&&(Pe=await Wp(Pe,pe.signal,!0)||Pe),ke.get(R)===ne&&ke.delete(R),!pe.signal.aborted){if(Re.has(R)){Ge(R,Wr(void 0));return}if(qi(Pe))if(W>ge){Ge(R,Wr(void 0));return}else{se.add(R),await Rn(pe,Pe,!1,{preventScrollReset:J});return}if(dn(Pe)){Jt(R,j,Pe.error);return}we(!ri(Pe),"Unhandled fetcher deferred data"),Ge(R,Wr(Pe.data))}}async function Rn(R,j,O,$){let{submission:Y,fetcherSubmission:re,preventScrollReset:oe,replace:J}=$===void 0?{}:$;j.response.headers.has("X-Remix-Revalidate")&&(me=!0);let ee=j.response.headers.get("Location");we(ee,"Expected a Location header on the redirect Response"),ee=Kv(ee,new URL(R.url),u);let K=rl(P.location,ee,{_isRedirect:!0});if(n){let Ie=!1;if(j.response.headers.has("X-Remix-Reload-Document"))Ie=!0;else if(qp.test(ee)){const Fe=t.history.createURL(ee);Ie=Fe.origin!==e.location.origin||Io(Fe.pathname,u)==null}if(Ie){J?e.location.replace(ee):e.location.assign(ee);return}}x=null;let ne=J===!0||j.response.headers.has("X-Remix-Replace")?ht.Replace:ht.Push,{formMethod:pe,formAction:ge,formEncType:Oe}=P.navigation;!Y&&!re&&pe&&ge&&Oe&&(Y=ty(P.navigation));let Pe=Y||re;if(PS.has(j.response.status)&&Pe&&Mn(Pe.formMethod))await An(ne,K,{submission:Qe({},Pe,{formAction:ee}),preventScrollReset:oe||v,enableViewTransition:O?T:void 0});else{let Ie=uh(K,Y);await An(ne,K,{overrideNavigation:Ie,fetcherSubmission:re,preventScrollReset:oe||v,enableViewTransition:O?T:void 0})}}async function ir(R,j,O,$,Y,re){let oe,J={};try{oe=await FS(c,R,j,O,$,Y,re,s,i)}catch(ee){return $.forEach(K=>{J[K.route.id]={type:Me.error,error:ee}}),J}for(let[ee,K]of Object.entries(oe))if(qS(K)){let ne=K.result;J[ee]={type:Me.redirect,response:BS(ne,O,ee,Y,u,m.v7_relativeSplatPath)}}else J[ee]=await zS(K);return J}async function Fo(R,j,O,$,Y){let re=R.matches,oe=ir("loader",R,Y,O,j,null),J=Promise.all($.map(async ne=>{if(ne.matches&&ne.match&&ne.controller){let ge=(await ir("loader",R,ks(t.history,ne.path,ne.controller.signal),[ne.match],ne.matches,ne.key))[ne.match.route.id];return{[ne.key]:ge}}else return Promise.resolve({[ne.key]:{type:Me.error,error:en(404,{pathname:ne.path})}})})),ee=await oe,K=(await J).reduce((ne,pe)=>Object.assign(ne,pe),{});return await Promise.all([KS(j,ee,Y.signal,re,R.loaderData),QS(j,K,$)]),{loaderResults:ee,fetcherResults:K}}function ct(){me=!0,lt.push(...sr()),de.forEach((R,j)=>{ke.has(j)&&mt.add(j),Zt(j)})}function Ge(R,j,O){O===void 0&&(O={}),P.fetchers.set(R,j),ut({fetchers:new Map(P.fetchers)},{flushSync:(O&&O.flushSync)===!0})}function Jt(R,j,O,$){$===void 0&&($={});let Y=zi(P.matches,j);Ni(R),ut({errors:{[Y.route.id]:O},fetchers:new Map(P.fetchers)},{flushSync:($&&$.flushSync)===!0})}function Uo(R){return m.v7_fetcherPersist&&(Te.set(R,(Te.get(R)||0)+1),Re.has(R)&&Re.delete(R)),P.fetchers.get(R)||NS}function Ni(R){let j=P.fetchers.get(R);ke.has(R)&&!(j&&j.state==="loading"&&Z.has(R))&&Zt(R),de.delete(R),Z.delete(R),se.delete(R),Re.delete(R),mt.delete(R),P.fetchers.delete(R)}function Cd(R){if(m.v7_fetcherPersist){let j=(Te.get(R)||0)-1;j<=0?(Te.delete(R),Re.add(R)):Te.set(R,j)}else Ni(R);ut({fetchers:new Map(P.fetchers)})}function Zt(R){let j=ke.get(R);j&&(j.abort(),ke.delete(R))}function zo(R){for(let j of R){let O=Uo(j),$=Wr(O.data);P.fetchers.set(j,$)}}function Bo(){let R=[],j=!1;for(let O of se){let $=P.fetchers.get(O);we($,"Expected fetcher: "+O),$.state==="loading"&&(se.delete(O),R.push(O),j=!0)}return zo(R),j}function _s(R){let j=[];for(let[O,$]of Z)if($<R){let Y=P.fetchers.get(O);we(Y,"Expected fetcher: "+O),Y.state==="loading"&&(Zt(O),Z.delete(O),j.push(O))}return zo(j),j.length>0}function Ad(R,j){let O=P.blockers.get(R)||aa;return it.get(R)!==j&&it.set(R,j),O}function Vl(R){P.blockers.delete(R),it.delete(R)}function Lr(R,j){let O=P.blockers.get(R)||aa;we(O.state==="unblocked"&&j.state==="blocked"||O.state==="blocked"&&j.state==="blocked"||O.state==="blocked"&&j.state==="proceeding"||O.state==="blocked"&&j.state==="unblocked"||O.state==="proceeding"&&j.state==="unblocked","Invalid blocker state transition: "+O.state+" -> "+j.state);let $=new Map(P.blockers);$.set(R,j),ut({blockers:$})}function $o(R){let{currentLocation:j,nextLocation:O,historyAction:$}=R;if(it.size===0)return;it.size>1&&co(!1,"A router only supports one blocker at a time");let Y=Array.from(it.entries()),[re,oe]=Y[Y.length-1],J=P.blockers.get(re);if(!(J&&J.state==="proceeding")&&oe({currentLocation:j,nextLocation:O,historyAction:$}))return re}function ws(R){let j=en(404,{pathname:R}),O=l||o,{matches:$,route:Y}=Zv(O);return sr(),{notFoundMatches:$,route:Y,error:j}}function sr(R){let j=[];return Le.forEach((O,$)=>{(!R||R($))&&(O.cancel(),j.push($),Le.delete($))}),j}function Ho(R,j,O){if(k=R,L=j,C=O||null,!E&&P.navigation===lh){E=!0;let $=qo(P.location,P.matches);$!=null&&ut({restoreScrollPosition:$})}return()=>{k=null,L=null,C=null}}function xs(R,j){return C&&C(R,j.map($=>uS($,P.loaderData)))||R.key}function or(R,j){if(k&&L){let O=xs(R,j);k[O]=L()}}function qo(R,j){if(k){let O=xs(R,j),$=k[O];if(typeof $=="number")return $}return null}function ar(R,j,O){if(f)if(R){if(Object.keys(R[0].params).length>0)return{active:!0,matches:Du(j,O,u,!0)}}else return{active:!0,matches:Du(j,O,u,!0)||[]};return{active:!1,matches:null}}async function Di(R,j,O){if(!f)return{type:"success",matches:R};let $=R;for(;;){let Y=l==null,re=l||o,oe=s;try{await f({path:j,matches:$,patch:(K,ne)=>{O.aborted||Gv(K,ne,re,oe,i)}})}catch(K){return{type:"error",error:K,partialMatches:$}}finally{Y&&!O.aborted&&(o=[...o])}if(O.aborted)return{type:"aborted"};let J=Ui(re,j,u);if(J)return{type:"success",matches:J};let ee=Du(re,j,u,!0);if(!ee||$.length===ee.length&&$.every((K,ne)=>K.route.id===ee[ne].route.id))return{type:"success",matches:null};$=ee}}function Li(R){s={},l=pc(R,i,void 0,s)}function Ol(R,j){let O=l==null;Gv(R,j,l||o,s,i),O&&(o=[...o],ut({}))}return U={get basename(){return u},get future(){return m},get state(){return P},get routes(){return o},get window(){return e},initialize:Pi,subscribe:vs,enableScrollRestoration:Ho,navigate:ys,fetch:Oo,revalidate:Vo,createHref:R=>t.history.createHref(R),encodeLocation:R=>t.history.encodeLocation(R),getFetcher:Uo,deleteFetcher:Cd,dispose:Mo,getBlocker:Ad,deleteBlocker:Vl,patchRoutes:Ol,_internalFetchControllers:ke,_internalActiveDeferreds:Le,_internalSetRoutes:Li},U}function jS(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function yf(t,e,n,r,i,s,o,l){let u,c;if(o){u=[];for(let m of e)if(u.push(m),m.route.id===o){c=m;break}}else u=e,c=e[e.length-1];let f=Hp(i||".",$p(u,s),Io(t.pathname,n)||t.pathname,l==="path");if(i==null&&(f.search=t.search,f.hash=t.hash),(i==null||i===""||i===".")&&c){let m=Gp(f.search);if(c.route.index&&!m)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&m){let g=new URLSearchParams(f.search),w=g.getAll("index");g.delete("index"),w.filter(C=>C).forEach(C=>g.append("index",C));let k=g.toString();f.search=k?"?"+k:""}}return r&&n!=="/"&&(f.pathname=f.pathname==="/"?n:xr([n,f.pathname])),rs(f)}function $v(t,e,n,r){if(!r||!jS(r))return{path:n};if(r.formMethod&&!GS(r.formMethod))return{path:n,error:en(405,{method:r.formMethod})};let i=()=>({path:n,error:en(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),l=vw(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Mn(o))return i();let g=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((w,k)=>{let[C,L]=k;return""+w+C+"="+L+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:g}}}else if(r.formEncType==="application/json"){if(!Mn(o))return i();try{let g=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:g,text:void 0}}}catch{return i()}}}we(typeof FormData=="function","FormData is not available in this environment");let u,c;if(r.formData)u=wf(r.formData),c=r.formData;else if(r.body instanceof FormData)u=wf(r.body),c=r.body;else if(r.body instanceof URLSearchParams)u=r.body,c=Qv(u);else if(r.body==null)u=new URLSearchParams,c=new FormData;else try{u=new URLSearchParams(r.body),c=Qv(u)}catch{return i()}let f={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Mn(f.formMethod))return{path:n,submission:f};let m=Ci(n);return e&&m.search&&Gp(m.search)&&u.append("index",""),m.search="?"+u,{path:rs(m),submission:f}}function Hv(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function qv(t,e,n,r,i,s,o,l,u,c,f,m,g,w,k,C){let L=C?dn(C[1])?C[1].error:C[1].data:void 0,E=t.createURL(e.location),y=t.createURL(i),S=n;s&&e.errors?S=Hv(n,Object.keys(e.errors)[0],!0):C&&dn(C[1])&&(S=Hv(n,C[0]));let M=C?C[1].statusCode:void 0,U=o&&M&&M>=400,P=S.filter((v,x)=>{let{route:T}=v;if(T.lazy)return!0;if(T.loader==null)return!1;if(s)return _f(T,e.loaderData,e.errors);if(MS(e.loaderData,e.matches[x],v)||u.some(b=>b===v.route.id))return!0;let A=e.matches[x],N=v;return Wv(v,Qe({currentUrl:E,currentParams:A.params,nextUrl:y,nextParams:N.params},r,{actionResult:L,actionStatus:M,defaultShouldRevalidate:U?!1:l||E.pathname+E.search===y.pathname+y.search||E.search!==y.search||mw(A,N)}))}),I=[];return m.forEach((v,x)=>{if(s||!n.some(me=>me.route.id===v.routeId)||f.has(x))return;let T=Ui(w,v.path,k);if(!T){I.push({key:x,routeId:v.routeId,path:v.path,matches:null,match:null,controller:null});return}let A=e.fetchers.get(x),N=xa(T,v.path),b=!1;g.has(x)?b=!1:c.has(x)?(c.delete(x),b=!0):A&&A.state!=="idle"&&A.data===void 0?b=l:b=Wv(N,Qe({currentUrl:E,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:L,actionStatus:M,defaultShouldRevalidate:U?!1:l})),b&&I.push({key:x,routeId:v.routeId,path:v.path,matches:T,match:N,controller:new AbortController})}),[P,I]}function _f(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function MS(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function mw(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Wv(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Gv(t,e,n,r,i){var s;let o;if(t){let c=r[t];we(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),o=c.children}else o=n;let l=e.filter(c=>!o.some(f=>gw(c,f))),u=pc(l,i,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...u)}function gw(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>gw(n,s))}):!1}async function VS(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];we(i,"No route found in manifest");let s={};for(let o in r){let u=i[o]!==void 0&&o!=="hasErrorBoundary";co(!u,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!aS.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Qe({},e(i),{lazy:void 0}))}async function OS(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function FS(t,e,n,r,i,s,o,l,u,c){let f=s.map(w=>w.route.lazy?VS(w.route,u,l):void 0),m=s.map((w,k)=>{let C=f[k],L=i.some(y=>y.route.id===w.route.id);return Qe({},w,{shouldLoad:L,resolve:async y=>(y&&r.method==="GET"&&(w.route.lazy||w.route.loader)&&(L=!0),L?US(e,r,w,C,y,c):Promise.resolve({type:Me.data,result:void 0}))})}),g=await t({matches:m,request:r,params:s[0].params,fetcherKey:o,context:c});try{await Promise.all(f)}catch{}return g}async function US(t,e,n,r,i,s){let o,l,u=c=>{let f,m=new Promise((k,C)=>f=C);l=()=>f(),e.signal.addEventListener("abort",l);let g=k=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:s},...k!==void 0?[k]:[]),w=(async()=>{try{return{type:"data",result:await(i?i(C=>g(C)):g())}}catch(k){return{type:"error",result:k}}})();return Promise.race([w,m])};try{let c=n.route[t];if(r)if(c){let f,[m]=await Promise.all([u(c).catch(g=>{f=g}),r]);if(f!==void 0)throw f;o=m}else if(await r,c=n.route[t],c)o=await u(c);else if(t==="action"){let f=new URL(e.url),m=f.pathname+f.search;throw en(405,{method:e.method,pathname:m,routeId:n.route.id})}else return{type:Me.data,result:void 0};else if(c)o=await u(c);else{let f=new URL(e.url),m=f.pathname+f.search;throw en(404,{pathname:m})}we(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Me.error,result:c}}finally{l&&e.signal.removeEventListener("abort",l)}return o}async function zS(t){let{result:e,type:n}=t;if(yw(e)){let c;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(f){return{type:Me.error,error:f}}return n===Me.error?{type:Me.error,error:new mc(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:Me.data,data:c,statusCode:e.status,headers:e.headers}}if(n===Me.error){if(ey(e)){var r;if(e.data instanceof Error){var i;return{type:Me.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new mc(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Me.error,error:e,statusCode:Zc(e)?e.status:void 0}}if(WS(e)){var s,o;return{type:Me.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(ey(e)){var l,u;return{type:Me.data,data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:Me.data,data:e}}function BS(t,e,n,r,i,s){let o=t.headers.get("Location");if(we(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!qp.test(o)){let l=r.slice(0,r.findIndex(u=>u.route.id===n)+1);o=yf(new URL(e.url),l,i,!0,o,s),t.headers.set("Location",o)}return t}function Kv(t,e,n){if(qp.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Io(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function ks(t,e,n,r){let i=t.createURL(vw(e)).toString(),s={signal:n};if(r&&Mn(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=wf(r.formData):s.body=r.formData}return new Request(i,s)}function wf(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Qv(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function $S(t,e,n,r,i){let s={},o=null,l,u=!1,c={},f=n&&dn(n[1])?n[1].error:void 0;return t.forEach(m=>{if(!(m.route.id in e))return;let g=m.route.id,w=e[g];if(we(!qi(w),"Cannot handle redirect results in processLoaderData"),dn(w)){let k=w.error;f!==void 0&&(k=f,f=void 0),o=o||{};{let C=zi(t,g);o[C.route.id]==null&&(o[C.route.id]=k)}s[g]=void 0,u||(u=!0,l=Zc(w.error)?w.error.status:500),w.headers&&(c[g]=w.headers)}else ri(w)?(r.set(g,w.deferredData),s[g]=w.deferredData.data,w.statusCode!=null&&w.statusCode!==200&&!u&&(l=w.statusCode),w.headers&&(c[g]=w.headers)):(s[g]=w.data,w.statusCode&&w.statusCode!==200&&!u&&(l=w.statusCode),w.headers&&(c[g]=w.headers))}),f!==void 0&&n&&(o={[n[0]]:f},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:l||200,loaderHeaders:c}}function Yv(t,e,n,r,i,s,o){let{loaderData:l,errors:u}=$S(e,n,r,o);return i.forEach(c=>{let{key:f,match:m,controller:g}=c,w=s[f];if(we(w,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(dn(w)){let k=zi(t.matches,m==null?void 0:m.route.id);u&&u[k.route.id]||(u=Qe({},u,{[k.route.id]:w.error})),t.fetchers.delete(f)}else if(qi(w))we(!1,"Unhandled fetcher revalidation redirect");else if(ri(w))we(!1,"Unhandled fetcher deferred data");else{let k=Wr(w.data);t.fetchers.set(f,k)}}),{loaderData:l,errors:u}}function Xv(t,e,n,r){let i=Qe({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Jv(t){return t?dn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function zi(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Zv(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function en(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,l="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(l="Bad Request",i&&n&&r?u="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?u="defer() is not supported in actions":s==="invalid-body"&&(u="Unable to encode submission body")):t===403?(l="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):t===404?(l="Not Found",u='No route matches URL "'+n+'"'):t===405&&(l="Method Not Allowed",i&&n&&r?u="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new mc(t||500,l,new Error(u),!0)}function pu(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(qi(i))return{key:r,result:i}}}function vw(t){let e=typeof t=="string"?Ci(t):t;return rs(Qe({},e,{hash:""}))}function HS(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function qS(t){return yw(t.result)&&RS.has(t.result.status)}function ri(t){return t.type===Me.deferred}function dn(t){return t.type===Me.error}function qi(t){return(t&&t.type)===Me.redirect}function ey(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function WS(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function yw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function GS(t){return AS.has(t.toLowerCase())}function Mn(t){return kS.has(t.toLowerCase())}async function KS(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[l,u]=s[o],c=t.find(g=>(g==null?void 0:g.route.id)===l);if(!c)continue;let f=r.find(g=>g.route.id===c.route.id),m=f!=null&&!mw(f,c)&&(i&&i[c.route.id])!==void 0;ri(u)&&m&&await Wp(u,n,!1).then(g=>{g&&(e[l]=g)})}}async function QS(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],l=e[i];t.find(c=>(c==null?void 0:c.route.id)===s)&&ri(l)&&(we(o,"Expected an AbortController for revalidating fetcher deferred result"),await Wp(l,o.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function Wp(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Me.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Me.error,error:i}}return{type:Me.data,data:t.deferredData.data}}}function Gp(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function xa(t,e){let n=typeof e=="string"?Ci(e).search:e.search;if(t[t.length-1].route.index&&Gp(n||""))return t[t.length-1];let r=hw(t);return r[r.length-1]}function ty(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function uh(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function YS(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function la(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function XS(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Wr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function JS(t,e){try{let n=t.sessionStorage.getItem(pw);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function ZS(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(pw,JSON.stringify(n))}catch(r){co(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gc.apply(this,arguments)}const ed=D.createContext(null),_w=D.createContext(null),fs=D.createContext(null),Kp=D.createContext(null),ps=D.createContext({outlet:null,matches:[],isDataRoute:!1}),ww=D.createContext(null);function eb(t,e){let{relative:n}=e===void 0?{}:e;_l()||we(!1);let{basename:r,navigator:i}=D.useContext(fs),{hash:s,pathname:o,search:l}=Ew(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:xr([r,o])),i.createHref({pathname:u,search:l,hash:s})}function _l(){return D.useContext(Kp)!=null}function td(){return _l()||we(!1),D.useContext(Kp).location}function xw(t){D.useContext(fs).static||D.useLayoutEffect(t)}function tb(){let{isDataRoute:t}=D.useContext(ps);return t?fb():nb()}function nb(){_l()||we(!1);let t=D.useContext(ed),{basename:e,future:n,navigator:r}=D.useContext(fs),{matches:i}=D.useContext(ps),{pathname:s}=td(),o=JSON.stringify($p(i,n.v7_relativeSplatPath)),l=D.useRef(!1);return xw(()=>{l.current=!0}),D.useCallback(function(c,f){if(f===void 0&&(f={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let m=Hp(c,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:xr([e,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[e,r,o,s,t])}function Ew(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=D.useContext(fs),{matches:i}=D.useContext(ps),{pathname:s}=td(),o=JSON.stringify($p(i,r.v7_relativeSplatPath));return D.useMemo(()=>Hp(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function rb(t,e,n,r){_l()||we(!1);let{navigator:i}=D.useContext(fs),{matches:s}=D.useContext(ps),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=td(),f;f=c;let m=f.pathname||"/",g=m;if(u!=="/"){let C=u.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(C.length).join("/")}let w=Ui(t,{pathname:g});return lb(w&&w.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:xr([u,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?u:xr([u,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r)}function ib(){let t=hb(),e=Zc(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:i},n):null,null)}const sb=D.createElement(ib,null);class ob extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D.createElement(ps.Provider,{value:this.props.routeContext},D.createElement(ww.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ab(t){let{routeContext:e,match:n,children:r}=t,i=D.useContext(ed);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(ps.Provider,{value:e},r)}function lb(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);f>=0||we(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=f),m.route.id){let{loaderData:g,errors:w}=n,k=m.route.loader&&g[m.route.id]===void 0&&(!w||w[m.route.id]===void 0);if(m.route.lazy||k){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((f,m,g)=>{let w,k=!1,C=null,L=null;n&&(w=l&&m.route.id?l[m.route.id]:void 0,C=m.route.errorElement||sb,u&&(c<0&&g===0?(pb("route-fallback"),k=!0,L=null):c===g&&(k=!0,L=m.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,g+1)),y=()=>{let S;return w?S=C:k?S=L:m.route.Component?S=D.createElement(m.route.Component,null):m.route.element?S=m.route.element:S=f,D.createElement(ab,{match:m,routeContext:{outlet:f,matches:E,isDataRoute:n!=null},children:S})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?D.createElement(ob,{location:n.location,revalidation:n.revalidation,component:C,error:w,children:y(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):y()},null)}var Tw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Tw||{}),vc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(vc||{});function ub(t){let e=D.useContext(ed);return e||we(!1),e}function cb(t){let e=D.useContext(_w);return e||we(!1),e}function db(t){let e=D.useContext(ps);return e||we(!1),e}function Iw(t){let e=db(),n=e.matches[e.matches.length-1];return n.route.id||we(!1),n.route.id}function hb(){var t;let e=D.useContext(ww),n=cb(vc.UseRouteError),r=Iw(vc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function fb(){let{router:t}=ub(Tw.UseNavigateStable),e=Iw(vc.UseNavigateStable),n=D.useRef(!1);return xw(()=>{n.current=!0}),D.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,gc({fromRouteId:e},s)))},[t,e])}const ny={};function pb(t,e,n){ny[t]||(ny[t]=!0)}function mb(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ht.Pop,navigator:s,static:o=!1,future:l}=t;_l()&&we(!1);let u=e.replace(/^\/*/,"/"),c=D.useMemo(()=>({basename:u,navigator:s,static:o,future:gc({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=Ci(r));let{pathname:f="/",search:m="",hash:g="",state:w=null,key:k="default"}=r,C=D.useMemo(()=>{let L=Io(f,u);return L==null?null:{location:{pathname:L,search:m,hash:g,state:w,key:k},navigationType:i}},[u,f,m,g,w,k,i]);return C==null?null:D.createElement(fs.Provider,{value:c},D.createElement(Kp.Provider,{children:n,value:C}))}new Promise(()=>{});function gb(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:D.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:D.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:D.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function il(){return il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},il.apply(this,arguments)}function vb(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function yb(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _b(t,e){return t.button===0&&(!e||e==="_self")&&!yb(t)}const wb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xb="6";try{window.__reactRouterVersion=xb}catch{}function Eb(t,e){return LS({basename:e==null?void 0:e.basename,future:il({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:iS({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||Tb(),routes:t,mapRouteProperties:gb,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function Tb(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=il({},e,{errors:Ib(e.errors)})),e}function Ib(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new mc(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const Sb=D.createContext({isTransitioning:!1}),bb=D.createContext(new Map),kb="startTransition",ry=qE[kb],Cb="flushSync",iy=rS[Cb];function Ab(t){ry?ry(t):t()}function ua(t){iy?iy(t):t()}let Rb=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function Pb(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=D.useState(n.state),[o,l]=D.useState(),[u,c]=D.useState({isTransitioning:!1}),[f,m]=D.useState(),[g,w]=D.useState(),[k,C]=D.useState(),L=D.useRef(new Map),{v7_startTransition:E}=r||{},y=D.useCallback(v=>{E?Ab(v):v()},[E]),S=D.useCallback((v,x)=>{let{deletedFetchers:T,flushSync:A,viewTransitionOpts:N}=x;T.forEach(me=>L.current.delete(me)),v.fetchers.forEach((me,lt)=>{me.data!==void 0&&L.current.set(lt,me.data)});let b=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!N||b){A?ua(()=>s(v)):y(()=>s(v));return}if(A){ua(()=>{g&&(f&&f.resolve(),g.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:N.currentLocation,nextLocation:N.nextLocation})});let me=n.window.document.startViewTransition(()=>{ua(()=>s(v))});me.finished.finally(()=>{ua(()=>{m(void 0),w(void 0),l(void 0),c({isTransitioning:!1})})}),ua(()=>w(me));return}g?(f&&f.resolve(),g.skipTransition(),C({state:v,currentLocation:N.currentLocation,nextLocation:N.nextLocation})):(l(v),c({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}))},[n.window,g,f,L,y]);D.useLayoutEffect(()=>n.subscribe(S),[n,S]),D.useEffect(()=>{u.isTransitioning&&!u.flushSync&&m(new Rb)},[u]),D.useEffect(()=>{if(f&&o&&n.window){let v=o,x=f.promise,T=n.window.document.startViewTransition(async()=>{y(()=>s(v)),await x});T.finished.finally(()=>{m(void 0),w(void 0),l(void 0),c({isTransitioning:!1})}),w(T)}},[y,o,f,n.window]),D.useEffect(()=>{f&&o&&i.location.key===o.location.key&&f.resolve()},[f,g,i.location,o]),D.useEffect(()=>{!u.isTransitioning&&k&&(l(k.state),c({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}),C(void 0))},[u.isTransitioning,k]),D.useEffect(()=>{},[]);let M=D.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:v=>n.navigate(v),push:(v,x,T)=>n.navigate(v,{state:x,preventScrollReset:T==null?void 0:T.preventScrollReset}),replace:(v,x,T)=>n.navigate(v,{replace:!0,state:x,preventScrollReset:T==null?void 0:T.preventScrollReset})}),[n]),U=n.basename||"/",P=D.useMemo(()=>({router:n,navigator:M,static:!1,basename:U}),[n,M,U]),I=D.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return D.createElement(D.Fragment,null,D.createElement(ed.Provider,{value:P},D.createElement(_w.Provider,{value:i},D.createElement(bb.Provider,{value:L.current},D.createElement(Sb.Provider,{value:u},D.createElement(mb,{basename:U,location:i.location,navigationType:i.historyAction,navigator:M,future:I},i.initialized||n.future.v7_partialHydration?D.createElement(Nb,{routes:n.routes,future:n.future,state:i}):e))))),null)}const Nb=D.memo(Db);function Db(t){let{routes:e,future:n,state:r}=t;return rb(e,void 0,r,n)}const Lb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,is=D.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:c,preventScrollReset:f,viewTransition:m}=e,g=vb(e,wb),{basename:w}=D.useContext(fs),k,C=!1;if(typeof c=="string"&&jb.test(c)&&(k=c,Lb))try{let S=new URL(window.location.href),M=c.startsWith("//")?new URL(S.protocol+c):new URL(c),U=Io(M.pathname,w);M.origin===S.origin&&U!=null?c=U+M.search+M.hash:C=!0}catch{}let L=eb(c,{relative:i}),E=Mb(c,{replace:o,state:l,target:u,preventScrollReset:f,relative:i,viewTransition:m});function y(S){r&&r(S),S.defaultPrevented||E(S)}return D.createElement("a",il({},g,{href:k||L,onClick:C||s?r:y,ref:n,target:u}))});var sy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(sy||(sy={}));var oy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(oy||(oy={}));function Mb(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,u=tb(),c=td(),f=Ew(t,{relative:o});return D.useCallback(m=>{if(_b(m,n)){m.preventDefault();let g=r!==void 0?r:rs(c)===rs(f);u(t,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[c,u,f,r,i,n,t,s,o,l])}var ay={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Vb=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},bw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,f=s>>2,m=(s&3)<<4|l>>4;let g=(l&15)<<2|c>>6,w=c&63;u||(w=64,o||(g=64)),r.push(n[f],n[m],n[g],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Sw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Vb(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||m==null)throw new Ob;const g=s<<2|l>>4;if(r.push(g),c!==64){const w=l<<4&240|c>>2;if(r.push(w),m!==64){const k=c<<6&192|m;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ob extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fb=function(t){const e=Sw(t);return bw.encodeByteArray(e,!0)},yc=function(t){return Fb(t).replace(/\./g,"")},kw=function(t){try{return bw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=()=>Ub().__FIREBASE_DEFAULTS__,Bb=()=>{if(typeof process>"u"||typeof ay>"u")return;const t=ay.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$b=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&kw(t[1]);return e&&JSON.parse(e)},nd=()=>{try{return zb()||Bb()||$b()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Cw=t=>{var e,n;return(n=(e=nd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Hb=t=>{const e=Cw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Aw=()=>{var t;return(t=nd())===null||t===void 0?void 0:t.config},Rw=t=>{var e;return(e=nd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[yc(JSON.stringify(n)),yc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}function Kb(){var t;const e=(t=nd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Qb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Yb(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Xb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Jb(){const t=Ht();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Zb(){return!Kb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ek(){try{return typeof indexedDB=="object"}catch{return!1}}function tk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk="FirebaseError";class Dr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nk,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wl.prototype.create)}}class wl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?rk(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Dr(i,l,r)}}function rk(t,e){return t.replace(ik,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ik=/\{\$([^}]+)}/g;function sk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ly(s)&&ly(o)){if(!sl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ly(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ok(t,e){const n=new ak(t,e);return n.subscribe.bind(n)}class ak{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");lk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ch),i.error===void 0&&(i.error=ch),i.complete===void 0&&(i.complete=ch);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ch(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t){return t&&t._delegate?t._delegate:t}class ss{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qb;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dk(e))try{this.getOrInitializeService({instanceIdentifier:Fi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fi){return this.instances.has(e)}getOptions(e=Fi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ck(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fi){return this.component?this.component.multipleInstances?e:Fi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ck(t){return t===Fi?void 0:t}function dk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const fk={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},pk=Ee.INFO,mk={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},gk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=mk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qp{constructor(e){this.name=e,this._logLevel=pk,this._logHandler=gk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const vk=(t,e)=>e.some(n=>t instanceof n);let uy,cy;function yk(){return uy||(uy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _k(){return cy||(cy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pw=new WeakMap,xf=new WeakMap,Nw=new WeakMap,dh=new WeakMap,Yp=new WeakMap;function wk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(pi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Pw.set(n,t)}).catch(()=>{}),Yp.set(e,t),e}function xk(t){if(xf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});xf.set(t,e)}let Ef={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Nw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ek(t){Ef=t(Ef)}function Tk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hh(this),e,...n);return Nw.set(r,e.sort?e.sort():[e]),pi(r)}:_k().includes(t)?function(...e){return t.apply(hh(this),e),pi(Pw.get(this))}:function(...e){return pi(t.apply(hh(this),e))}}function Ik(t){return typeof t=="function"?Tk(t):(t instanceof IDBTransaction&&xk(t),vk(t,yk())?new Proxy(t,Ef):t)}function pi(t){if(t instanceof IDBRequest)return wk(t);if(dh.has(t))return dh.get(t);const e=Ik(t);return e!==t&&(dh.set(t,e),Yp.set(e,t)),e}const hh=t=>Yp.get(t);function Sk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=pi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(pi(o.result),u.oldVersion,u.newVersion,pi(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const bk=["get","getKey","getAll","getAllKeys","count"],kk=["put","add","delete","clear"],fh=new Map;function dy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fh.get(e))return fh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=kk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||bk.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return fh.set(e,s),s}Ek(t=>({...t,get:(e,n,r)=>dy(e,n)||t.get(e,n,r),has:(e,n)=>!!dy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ak(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Ak(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tf="@firebase/app",hy="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr=new Qp("@firebase/app"),Rk="@firebase/app-compat",Pk="@firebase/analytics-compat",Nk="@firebase/analytics",Dk="@firebase/app-check-compat",Lk="@firebase/app-check",jk="@firebase/auth",Mk="@firebase/auth-compat",Vk="@firebase/database",Ok="@firebase/data-connect",Fk="@firebase/database-compat",Uk="@firebase/functions",zk="@firebase/functions-compat",Bk="@firebase/installations",$k="@firebase/installations-compat",Hk="@firebase/messaging",qk="@firebase/messaging-compat",Wk="@firebase/performance",Gk="@firebase/performance-compat",Kk="@firebase/remote-config",Qk="@firebase/remote-config-compat",Yk="@firebase/storage",Xk="@firebase/storage-compat",Jk="@firebase/firestore",Zk="@firebase/vertexai-preview",e4="@firebase/firestore-compat",t4="firebase",n4="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If="[DEFAULT]",r4={[Tf]:"fire-core",[Rk]:"fire-core-compat",[Nk]:"fire-analytics",[Pk]:"fire-analytics-compat",[Lk]:"fire-app-check",[Dk]:"fire-app-check-compat",[jk]:"fire-auth",[Mk]:"fire-auth-compat",[Vk]:"fire-rtdb",[Ok]:"fire-data-connect",[Fk]:"fire-rtdb-compat",[Uk]:"fire-fn",[zk]:"fire-fn-compat",[Bk]:"fire-iid",[$k]:"fire-iid-compat",[Hk]:"fire-fcm",[qk]:"fire-fcm-compat",[Wk]:"fire-perf",[Gk]:"fire-perf-compat",[Kk]:"fire-rc",[Qk]:"fire-rc-compat",[Yk]:"fire-gcs",[Xk]:"fire-gcs-compat",[Jk]:"fire-fst",[e4]:"fire-fst-compat",[Zk]:"fire-vertex","fire-js":"fire-js",[t4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=new Map,i4=new Map,Sf=new Map;function fy(t,e){try{t.container.addComponent(e)}catch(n){kr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ho(t){const e=t.name;if(Sf.has(e))return kr.debug(`There were multiple attempts to register component ${e}.`),!1;Sf.set(e,t);for(const n of _c.values())fy(n,t);for(const n of i4.values())fy(n,t);return!0}function Xp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mi=new wl("app","Firebase",s4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=n4;function Dw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:If,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw mi.create("bad-app-name",{appName:String(i)});if(n||(n=Aw()),!n)throw mi.create("no-options");const s=_c.get(i);if(s){if(sl(n,s.options)&&sl(r,s.config))return s;throw mi.create("duplicate-app",{appName:i})}const o=new hk(i);for(const u of Sf.values())o.addComponent(u);const l=new o4(n,r,o);return _c.set(i,l),l}function Lw(t=If){const e=_c.get(t);if(!e&&t===If&&Aw())return Dw();if(!e)throw mi.create("no-app",{appName:t});return e}function gi(t,e,n){var r;let i=(r=r4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),kr.warn(l.join(" "));return}ho(new ss(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="firebase-heartbeat-database",l4=1,ol="firebase-heartbeat-store";let ph=null;function jw(){return ph||(ph=Sk(a4,l4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ol)}catch(n){console.warn(n)}}}}).catch(t=>{throw mi.create("idb-open",{originalErrorMessage:t.message})})),ph}async function u4(t){try{const n=(await jw()).transaction(ol),r=await n.objectStore(ol).get(Mw(t));return await n.done,r}catch(e){if(e instanceof Dr)kr.warn(e.message);else{const n=mi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});kr.warn(n.message)}}}async function py(t,e){try{const r=(await jw()).transaction(ol,"readwrite");await r.objectStore(ol).put(e,Mw(t)),await r.done}catch(n){if(n instanceof Dr)kr.warn(n.message);else{const r=mi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});kr.warn(r.message)}}}function Mw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=1024,d4=30*24*60*60*1e3;class h4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new p4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=my();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=d4}),this._storage.overwrite(this._heartbeatsCache))}catch(r){kr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=my(),{heartbeatsToSend:r,unsentEntries:i}=f4(this._heartbeatsCache.heartbeats),s=yc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return kr.warn(n),""}}}function my(){return new Date().toISOString().substring(0,10)}function f4(t,e=c4){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),gy(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class p4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ek()?tk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await u4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return py(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return py(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function gy(t){return yc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t){ho(new ss("platform-logger",e=>new Ck(e),"PRIVATE")),ho(new ss("heartbeat",e=>new h4(e),"PRIVATE")),gi(Tf,hy,t),gi(Tf,hy,"esm2017"),gi("fire-js","")}m4("");var vy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xi,Vw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,v){function x(){}x.prototype=v.prototype,I.D=v.prototype,I.prototype=new x,I.prototype.constructor=I,I.C=function(T,A,N){for(var b=Array(arguments.length-2),me=2;me<arguments.length;me++)b[me-2]=arguments[me];return v.prototype[A].apply(T,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,v,x){x||(x=0);var T=Array(16);if(typeof v=="string")for(var A=0;16>A;++A)T[A]=v.charCodeAt(x++)|v.charCodeAt(x++)<<8|v.charCodeAt(x++)<<16|v.charCodeAt(x++)<<24;else for(A=0;16>A;++A)T[A]=v[x++]|v[x++]<<8|v[x++]<<16|v[x++]<<24;v=I.g[0],x=I.g[1],A=I.g[2];var N=I.g[3],b=v+(N^x&(A^N))+T[0]+3614090360&4294967295;v=x+(b<<7&4294967295|b>>>25),b=N+(A^v&(x^A))+T[1]+3905402710&4294967295,N=v+(b<<12&4294967295|b>>>20),b=A+(x^N&(v^x))+T[2]+606105819&4294967295,A=N+(b<<17&4294967295|b>>>15),b=x+(v^A&(N^v))+T[3]+3250441966&4294967295,x=A+(b<<22&4294967295|b>>>10),b=v+(N^x&(A^N))+T[4]+4118548399&4294967295,v=x+(b<<7&4294967295|b>>>25),b=N+(A^v&(x^A))+T[5]+1200080426&4294967295,N=v+(b<<12&4294967295|b>>>20),b=A+(x^N&(v^x))+T[6]+2821735955&4294967295,A=N+(b<<17&4294967295|b>>>15),b=x+(v^A&(N^v))+T[7]+4249261313&4294967295,x=A+(b<<22&4294967295|b>>>10),b=v+(N^x&(A^N))+T[8]+1770035416&4294967295,v=x+(b<<7&4294967295|b>>>25),b=N+(A^v&(x^A))+T[9]+2336552879&4294967295,N=v+(b<<12&4294967295|b>>>20),b=A+(x^N&(v^x))+T[10]+4294925233&4294967295,A=N+(b<<17&4294967295|b>>>15),b=x+(v^A&(N^v))+T[11]+2304563134&4294967295,x=A+(b<<22&4294967295|b>>>10),b=v+(N^x&(A^N))+T[12]+1804603682&4294967295,v=x+(b<<7&4294967295|b>>>25),b=N+(A^v&(x^A))+T[13]+4254626195&4294967295,N=v+(b<<12&4294967295|b>>>20),b=A+(x^N&(v^x))+T[14]+2792965006&4294967295,A=N+(b<<17&4294967295|b>>>15),b=x+(v^A&(N^v))+T[15]+1236535329&4294967295,x=A+(b<<22&4294967295|b>>>10),b=v+(A^N&(x^A))+T[1]+4129170786&4294967295,v=x+(b<<5&4294967295|b>>>27),b=N+(x^A&(v^x))+T[6]+3225465664&4294967295,N=v+(b<<9&4294967295|b>>>23),b=A+(v^x&(N^v))+T[11]+643717713&4294967295,A=N+(b<<14&4294967295|b>>>18),b=x+(N^v&(A^N))+T[0]+3921069994&4294967295,x=A+(b<<20&4294967295|b>>>12),b=v+(A^N&(x^A))+T[5]+3593408605&4294967295,v=x+(b<<5&4294967295|b>>>27),b=N+(x^A&(v^x))+T[10]+38016083&4294967295,N=v+(b<<9&4294967295|b>>>23),b=A+(v^x&(N^v))+T[15]+3634488961&4294967295,A=N+(b<<14&4294967295|b>>>18),b=x+(N^v&(A^N))+T[4]+3889429448&4294967295,x=A+(b<<20&4294967295|b>>>12),b=v+(A^N&(x^A))+T[9]+568446438&4294967295,v=x+(b<<5&4294967295|b>>>27),b=N+(x^A&(v^x))+T[14]+3275163606&4294967295,N=v+(b<<9&4294967295|b>>>23),b=A+(v^x&(N^v))+T[3]+4107603335&4294967295,A=N+(b<<14&4294967295|b>>>18),b=x+(N^v&(A^N))+T[8]+1163531501&4294967295,x=A+(b<<20&4294967295|b>>>12),b=v+(A^N&(x^A))+T[13]+2850285829&4294967295,v=x+(b<<5&4294967295|b>>>27),b=N+(x^A&(v^x))+T[2]+4243563512&4294967295,N=v+(b<<9&4294967295|b>>>23),b=A+(v^x&(N^v))+T[7]+1735328473&4294967295,A=N+(b<<14&4294967295|b>>>18),b=x+(N^v&(A^N))+T[12]+2368359562&4294967295,x=A+(b<<20&4294967295|b>>>12),b=v+(x^A^N)+T[5]+4294588738&4294967295,v=x+(b<<4&4294967295|b>>>28),b=N+(v^x^A)+T[8]+2272392833&4294967295,N=v+(b<<11&4294967295|b>>>21),b=A+(N^v^x)+T[11]+1839030562&4294967295,A=N+(b<<16&4294967295|b>>>16),b=x+(A^N^v)+T[14]+4259657740&4294967295,x=A+(b<<23&4294967295|b>>>9),b=v+(x^A^N)+T[1]+2763975236&4294967295,v=x+(b<<4&4294967295|b>>>28),b=N+(v^x^A)+T[4]+1272893353&4294967295,N=v+(b<<11&4294967295|b>>>21),b=A+(N^v^x)+T[7]+4139469664&4294967295,A=N+(b<<16&4294967295|b>>>16),b=x+(A^N^v)+T[10]+3200236656&4294967295,x=A+(b<<23&4294967295|b>>>9),b=v+(x^A^N)+T[13]+681279174&4294967295,v=x+(b<<4&4294967295|b>>>28),b=N+(v^x^A)+T[0]+3936430074&4294967295,N=v+(b<<11&4294967295|b>>>21),b=A+(N^v^x)+T[3]+3572445317&4294967295,A=N+(b<<16&4294967295|b>>>16),b=x+(A^N^v)+T[6]+76029189&4294967295,x=A+(b<<23&4294967295|b>>>9),b=v+(x^A^N)+T[9]+3654602809&4294967295,v=x+(b<<4&4294967295|b>>>28),b=N+(v^x^A)+T[12]+3873151461&4294967295,N=v+(b<<11&4294967295|b>>>21),b=A+(N^v^x)+T[15]+530742520&4294967295,A=N+(b<<16&4294967295|b>>>16),b=x+(A^N^v)+T[2]+3299628645&4294967295,x=A+(b<<23&4294967295|b>>>9),b=v+(A^(x|~N))+T[0]+4096336452&4294967295,v=x+(b<<6&4294967295|b>>>26),b=N+(x^(v|~A))+T[7]+1126891415&4294967295,N=v+(b<<10&4294967295|b>>>22),b=A+(v^(N|~x))+T[14]+2878612391&4294967295,A=N+(b<<15&4294967295|b>>>17),b=x+(N^(A|~v))+T[5]+4237533241&4294967295,x=A+(b<<21&4294967295|b>>>11),b=v+(A^(x|~N))+T[12]+1700485571&4294967295,v=x+(b<<6&4294967295|b>>>26),b=N+(x^(v|~A))+T[3]+2399980690&4294967295,N=v+(b<<10&4294967295|b>>>22),b=A+(v^(N|~x))+T[10]+4293915773&4294967295,A=N+(b<<15&4294967295|b>>>17),b=x+(N^(A|~v))+T[1]+2240044497&4294967295,x=A+(b<<21&4294967295|b>>>11),b=v+(A^(x|~N))+T[8]+1873313359&4294967295,v=x+(b<<6&4294967295|b>>>26),b=N+(x^(v|~A))+T[15]+4264355552&4294967295,N=v+(b<<10&4294967295|b>>>22),b=A+(v^(N|~x))+T[6]+2734768916&4294967295,A=N+(b<<15&4294967295|b>>>17),b=x+(N^(A|~v))+T[13]+1309151649&4294967295,x=A+(b<<21&4294967295|b>>>11),b=v+(A^(x|~N))+T[4]+4149444226&4294967295,v=x+(b<<6&4294967295|b>>>26),b=N+(x^(v|~A))+T[11]+3174756917&4294967295,N=v+(b<<10&4294967295|b>>>22),b=A+(v^(N|~x))+T[2]+718787259&4294967295,A=N+(b<<15&4294967295|b>>>17),b=x+(N^(A|~v))+T[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(A+(b<<21&4294967295|b>>>11))&4294967295,I.g[2]=I.g[2]+A&4294967295,I.g[3]=I.g[3]+N&4294967295}r.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var x=v-this.blockSize,T=this.B,A=this.h,N=0;N<v;){if(A==0)for(;N<=x;)i(this,I,N),N+=this.blockSize;if(typeof I=="string"){for(;N<v;)if(T[A++]=I.charCodeAt(N++),A==this.blockSize){i(this,T),A=0;break}}else for(;N<v;)if(T[A++]=I[N++],A==this.blockSize){i(this,T),A=0;break}}this.h=A,this.o+=v},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var x=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=x&255,x/=256;for(this.u(I),I=Array(16),v=x=0;4>v;++v)for(var T=0;32>T;T+=8)I[x++]=this.g[v]>>>T&255;return I};function s(I,v){var x=l;return Object.prototype.hasOwnProperty.call(x,I)?x[I]:x[I]=v(I)}function o(I,v){this.h=v;for(var x=[],T=!0,A=I.length-1;0<=A;A--){var N=I[A]|0;T&&N==v||(x[A]=N,T=!1)}this.g=x}var l={};function u(I){return-128<=I&&128>I?s(I,function(v){return new o([v|0],0>v?-1:0)}):new o([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return m;if(0>I)return L(c(-I));for(var v=[],x=1,T=0;I>=x;T++)v[T]=I/x|0,x*=4294967296;return new o(v,0)}function f(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return L(f(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=c(Math.pow(v,8)),T=m,A=0;A<I.length;A+=8){var N=Math.min(8,I.length-A),b=parseInt(I.substring(A,A+N),v);8>N?(N=c(Math.pow(v,N)),T=T.j(N).add(c(b))):(T=T.j(x),T=T.add(c(b)))}return T}var m=u(0),g=u(1),w=u(16777216);t=o.prototype,t.m=function(){if(C(this))return-L(this).m();for(var I=0,v=1,x=0;x<this.g.length;x++){var T=this.i(x);I+=(0<=T?T:4294967296+T)*v,v*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(k(this))return"0";if(C(this))return"-"+L(this).toString(I);for(var v=c(Math.pow(I,6)),x=this,T="";;){var A=M(x,v).g;x=E(x,A.j(v));var N=((0<x.g.length?x.g[0]:x.h)>>>0).toString(I);if(x=A,k(x))return N+T;for(;6>N.length;)N="0"+N;T=N+T}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function k(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function C(I){return I.h==-1}t.l=function(I){return I=E(this,I),C(I)?-1:k(I)?0:1};function L(I){for(var v=I.g.length,x=[],T=0;T<v;T++)x[T]=~I.g[T];return new o(x,~I.h).add(g)}t.abs=function(){return C(this)?L(this):this},t.add=function(I){for(var v=Math.max(this.g.length,I.g.length),x=[],T=0,A=0;A<=v;A++){var N=T+(this.i(A)&65535)+(I.i(A)&65535),b=(N>>>16)+(this.i(A)>>>16)+(I.i(A)>>>16);T=b>>>16,N&=65535,b&=65535,x[A]=b<<16|N}return new o(x,x[x.length-1]&-2147483648?-1:0)};function E(I,v){return I.add(L(v))}t.j=function(I){if(k(this)||k(I))return m;if(C(this))return C(I)?L(this).j(L(I)):L(L(this).j(I));if(C(I))return L(this.j(L(I)));if(0>this.l(w)&&0>I.l(w))return c(this.m()*I.m());for(var v=this.g.length+I.g.length,x=[],T=0;T<2*v;T++)x[T]=0;for(T=0;T<this.g.length;T++)for(var A=0;A<I.g.length;A++){var N=this.i(T)>>>16,b=this.i(T)&65535,me=I.i(A)>>>16,lt=I.i(A)&65535;x[2*T+2*A]+=b*lt,y(x,2*T+2*A),x[2*T+2*A+1]+=N*lt,y(x,2*T+2*A+1),x[2*T+2*A+1]+=b*me,y(x,2*T+2*A+1),x[2*T+2*A+2]+=N*me,y(x,2*T+2*A+2)}for(T=0;T<v;T++)x[T]=x[2*T+1]<<16|x[2*T];for(T=v;T<2*v;T++)x[T]=0;return new o(x,0)};function y(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function S(I,v){this.g=I,this.h=v}function M(I,v){if(k(v))throw Error("division by zero");if(k(I))return new S(m,m);if(C(I))return v=M(L(I),v),new S(L(v.g),L(v.h));if(C(v))return v=M(I,L(v)),new S(L(v.g),v.h);if(30<I.g.length){if(C(I)||C(v))throw Error("slowDivide_ only works with positive integers.");for(var x=g,T=v;0>=T.l(I);)x=U(x),T=U(T);var A=P(x,1),N=P(T,1);for(T=P(T,2),x=P(x,2);!k(T);){var b=N.add(T);0>=b.l(I)&&(A=A.add(x),N=b),T=P(T,1),x=P(x,1)}return v=E(I,A.j(v)),new S(A,v)}for(A=m;0<=I.l(v);){for(x=Math.max(1,Math.floor(I.m()/v.m())),T=Math.ceil(Math.log(x)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),N=c(x),b=N.j(v);C(b)||0<b.l(I);)x-=T,N=c(x),b=N.j(v);k(N)&&(N=g),A=A.add(N),I=E(I,b)}return new S(A,I)}t.A=function(I){return M(this,I).h},t.and=function(I){for(var v=Math.max(this.g.length,I.g.length),x=[],T=0;T<v;T++)x[T]=this.i(T)&I.i(T);return new o(x,this.h&I.h)},t.or=function(I){for(var v=Math.max(this.g.length,I.g.length),x=[],T=0;T<v;T++)x[T]=this.i(T)|I.i(T);return new o(x,this.h|I.h)},t.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),x=[],T=0;T<v;T++)x[T]=this.i(T)^I.i(T);return new o(x,this.h^I.h)};function U(I){for(var v=I.g.length+1,x=[],T=0;T<v;T++)x[T]=I.i(T)<<1|I.i(T-1)>>>31;return new o(x,I.h)}function P(I,v){var x=v>>5;v%=32;for(var T=I.g.length-x,A=[],N=0;N<T;N++)A[N]=0<v?I.i(N+x)>>>v|I.i(N+x+1)<<32-v:I.i(N+x);return new o(A,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Vw=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=f,Xi=o}).apply(typeof vy<"u"?vy:typeof self<"u"?self:typeof window<"u"?window:{});var mu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ow,Ea,Fw,Lu,bf,Uw,zw,Bw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,p){return a==Array.prototype||a==Object.prototype||(a[h]=p.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof mu=="object"&&mu];for(var h=0;h<a.length;++h){var p=a[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var p=r;a=a.split(".");for(var _=0;_<a.length-1;_++){var V=a[_];if(!(V in p))break e;p=p[V]}a=a[a.length-1],_=p[a],h=h(_),h!=_&&h!=null&&e(p,a,{configurable:!0,writable:!0,value:h})}}function s(a,h){a instanceof String&&(a+="");var p=0,_=!1,V={next:function(){if(!_&&p<a.length){var F=p++;return{value:h(F,a[F]),done:!1}}return _=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(a){return a||function(){return s(this,function(h,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function c(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function f(a,h,p){return a.call.apply(a.bind,arguments)}function m(a,h,p){if(!a)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,_),a.apply(h,V)}}return function(){return a.apply(h,arguments)}}function g(a,h,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,g.apply(null,arguments)}function w(a,h){var p=Array.prototype.slice.call(arguments,1);return function(){var _=p.slice();return _.push.apply(_,arguments),a.apply(this,_)}}function k(a,h){function p(){}p.prototype=h.prototype,a.aa=h.prototype,a.prototype=new p,a.prototype.constructor=a,a.Qb=function(_,V,F){for(var G=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)G[Ve-2]=arguments[Ve];return h.prototype[V].apply(_,G)}}function C(a){const h=a.length;if(0<h){const p=Array(h);for(let _=0;_<h;_++)p[_]=a[_];return p}return[]}function L(a,h){for(let p=1;p<arguments.length;p++){const _=arguments[p];if(u(_)){const V=a.length||0,F=_.length||0;a.length=V+F;for(let G=0;G<F;G++)a[V+G]=_[G]}else a.push(_)}}class E{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function y(a){return/^[\s\xa0]*$/.test(a)}function S(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function M(a){return M[" "](a),a}M[" "]=function(){};var U=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function P(a,h,p){for(const _ in a)h.call(p,a[_],_,a)}function I(a,h){for(const p in a)h.call(void 0,a[p],p,a)}function v(a){const h={};for(const p in a)h[p]=a[p];return h}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(a,h){let p,_;for(let V=1;V<arguments.length;V++){_=arguments[V];for(p in _)a[p]=_[p];for(let F=0;F<x.length;F++)p=x[F],Object.prototype.hasOwnProperty.call(_,p)&&(a[p]=_[p])}}function A(a){var h=1;a=a.split(":");const p=[];for(;0<h&&a.length;)p.push(a.shift()),h--;return a.length&&p.push(a.join(":")),p}function N(a){l.setTimeout(()=>{throw a},0)}function b(){var a=W;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class me{constructor(){this.h=this.g=null}add(h,p){const _=lt.get();_.set(h,p),this.h?this.h.next=_:this.g=_,this.h=_}}var lt=new E(()=>new mt,a=>a.reset());class mt{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ke,B=!1,W=new me,Z=()=>{const a=l.Promise.resolve(void 0);ke=()=>{a.then(se)}};var se=()=>{for(var a;a=b();){try{a.h.call(a.g)}catch(p){N(p)}var h=lt;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}B=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};l.addEventListener("test",p,h),l.removeEventListener("test",p,h)}catch{}return a}();function Le(a,h){if(Te.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var p=this.type=a.type,_=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(U){e:{try{M(h.nodeName);var V=!0;break e}catch{}V=!1}V||(h=null)}}else p=="mouseover"?h=a.fromElement:p=="mouseout"&&(h=a.toElement);this.relatedTarget=h,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:it[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Le.aa.h.call(this)}}k(Le,Te);var it={2:"touch",3:"pen",4:"mouse"};Le.prototype.h=function(){Le.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),Pi=0;function Mo(a,h,p,_,V){this.listener=a,this.proxy=null,this.src=h,this.type=p,this.capture=!!_,this.ha=V,this.key=++Pi,this.da=this.fa=!1}function vs(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ut(a){this.src=a,this.g={},this.h=0}ut.prototype.add=function(a,h,p,_,V){var F=a.toString();a=this.g[F],a||(a=this.g[F]=[],this.h++);var G=ys(a,h,_,V);return-1<G?(h=a[G],p||(h.fa=!1)):(h=new Mo(h,this.src,F,!!_,V),h.fa=p,a.push(h)),h};function Bn(a,h){var p=h.type;if(p in a.g){var _=a.g[p],V=Array.prototype.indexOf.call(_,h,void 0),F;(F=0<=V)&&Array.prototype.splice.call(_,V,1),F&&(vs(h),a.g[p].length==0&&(delete a.g[p],a.h--))}}function ys(a,h,p,_){for(var V=0;V<a.length;++V){var F=a[V];if(!F.da&&F.listener==h&&F.capture==!!p&&F.ha==_)return V}return-1}var Vo="closure_lm_"+(1e6*Math.random()|0),An={};function Dl(a,h,p,_,V){if(Array.isArray(h)){for(var F=0;F<h.length;F++)Dl(a,h[F],p,_,V);return null}return p=Fo(p),a&&a[yt]?a.K(h,p,c(_)?!!_.capture:!!_,V):bd(a,h,p,!1,_,V)}function bd(a,h,p,_,V,F){if(!h)throw Error("Invalid event type");var G=c(V)?!!V.capture:!!V,Ve=Rn(a);if(Ve||(a[Vo]=Ve=new ut(a)),p=Ve.add(h,p,_,G,F),p.proxy)return p;if(_=Ll(),p.proxy=_,_.src=a,_.listener=p,a.addEventListener)Re||(V=G),V===void 0&&(V=!1),a.addEventListener(h.toString(),_,V);else if(a.attachEvent)a.attachEvent(Ml(h.toString()),_);else if(a.addListener&&a.removeListener)a.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Ll(){function a(p){return h.call(a.src,a.listener,p)}const h=kd;return a}function jl(a,h,p,_,V){if(Array.isArray(h))for(var F=0;F<h.length;F++)jl(a,h[F],p,_,V);else _=c(_)?!!_.capture:!!_,p=Fo(p),a&&a[yt]?(a=a.i,h=String(h).toString(),h in a.g&&(F=a.g[h],p=ys(F,p,_,V),-1<p&&(vs(F[p]),Array.prototype.splice.call(F,p,1),F.length==0&&(delete a.g[h],a.h--)))):a&&(a=Rn(a))&&(h=a.g[h.toString()],a=-1,h&&(a=ys(h,p,_,V)),(p=-1<a?h[a]:null)&&Oo(p))}function Oo(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[yt])Bn(h.i,a);else{var p=a.type,_=a.proxy;h.removeEventListener?h.removeEventListener(p,_,a.capture):h.detachEvent?h.detachEvent(Ml(p),_):h.addListener&&h.removeListener&&h.removeListener(_),(p=Rn(h))?(Bn(p,a),p.h==0&&(p.src=null,h[Vo]=null)):vs(a)}}}function Ml(a){return a in An?An[a]:An[a]="on"+a}function kd(a,h){if(a.da)a=!0;else{h=new Le(h,this);var p=a.listener,_=a.ha||a.src;a.fa&&Oo(a),a=p.call(_,h)}return a}function Rn(a){return a=a[Vo],a instanceof ut?a:null}var ir="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fo(a){return typeof a=="function"?a:(a[ir]||(a[ir]=function(h){return a.handleEvent(h)}),a[ir])}function ct(){de.call(this),this.i=new ut(this),this.M=this,this.F=null}k(ct,de),ct.prototype[yt]=!0,ct.prototype.removeEventListener=function(a,h,p,_){jl(this,a,h,p,_)};function Ge(a,h){var p,_=a.F;if(_)for(p=[];_;_=_.F)p.push(_);if(a=a.M,_=h.type||h,typeof h=="string")h=new Te(h,a);else if(h instanceof Te)h.target=h.target||a;else{var V=h;h=new Te(_,a),T(h,V)}if(V=!0,p)for(var F=p.length-1;0<=F;F--){var G=h.g=p[F];V=Jt(G,_,!0,h)&&V}if(G=h.g=a,V=Jt(G,_,!0,h)&&V,V=Jt(G,_,!1,h)&&V,p)for(F=0;F<p.length;F++)G=h.g=p[F],V=Jt(G,_,!1,h)&&V}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var p=a.g[h],_=0;_<p.length;_++)vs(p[_]);delete a.g[h],a.h--}}this.F=null},ct.prototype.K=function(a,h,p,_){return this.i.add(String(a),h,!1,p,_)},ct.prototype.L=function(a,h,p,_){return this.i.add(String(a),h,!0,p,_)};function Jt(a,h,p,_){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var V=!0,F=0;F<h.length;++F){var G=h[F];if(G&&!G.da&&G.capture==p){var Ve=G.listener,Tt=G.ha||G.src;G.fa&&Bn(a.i,G),V=Ve.call(Tt,_)!==!1&&V}}return V&&!_.defaultPrevented}function Uo(a,h,p){if(typeof a=="function")p&&(a=g(a,p));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function Ni(a){a.g=Uo(()=>{a.g=null,a.i&&(a.i=!1,Ni(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class Cd extends de{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Ni(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zt(a){de.call(this),this.h=a,this.g={}}k(Zt,de);var zo=[];function Bo(a){P(a.g,function(h,p){this.g.hasOwnProperty(p)&&Oo(h)},a),a.g={}}Zt.prototype.N=function(){Zt.aa.N.call(this),Bo(this)},Zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _s=l.JSON.stringify,Ad=l.JSON.parse,Vl=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Lr(){}Lr.prototype.h=null;function $o(a){return a.h||(a.h=a.i())}function ws(){}var sr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ho(){Te.call(this,"d")}k(Ho,Te);function xs(){Te.call(this,"c")}k(xs,Te);var or={},qo=null;function ar(){return qo=qo||new ct}or.La="serverreachability";function Di(a){Te.call(this,or.La,a)}k(Di,Te);function Li(a){const h=ar();Ge(h,new Di(h))}or.STAT_EVENT="statevent";function Ol(a,h){Te.call(this,or.STAT_EVENT,a),this.stat=h}k(Ol,Te);function R(a){const h=ar();Ge(h,new Ol(h,a))}or.Ma="timingevent";function j(a,h){Te.call(this,or.Ma,a),this.size=h}k(j,Te);function O(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function $(){this.g=!0}$.prototype.xa=function(){this.g=!1};function Y(a,h,p,_,V,F){a.info(function(){if(a.g)if(F)for(var G="",Ve=F.split("&"),Tt=0;Tt<Ve.length;Tt++){var Ce=Ve[Tt].split("=");if(1<Ce.length){var Nt=Ce[0];Ce=Ce[1];var Dt=Nt.split("_");G=2<=Dt.length&&Dt[1]=="type"?G+(Nt+"="+Ce+"&"):G+(Nt+"=redacted&")}}else G=null;else G=F;return"XMLHTTP REQ ("+_+") [attempt "+V+"]: "+h+`
`+p+`
`+G})}function re(a,h,p,_,V,F,G){a.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+V+"]: "+h+`
`+p+`
`+F+" "+G})}function oe(a,h,p,_){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+ee(a,p)+(_?" "+_:"")})}function J(a,h){a.info(function(){return"TIMEOUT: "+h})}$.prototype.info=function(){};function ee(a,h){if(!a.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(a=0;a<p.length;a++)if(Array.isArray(p[a])){var _=p[a];if(!(2>_.length)){var V=_[1];if(Array.isArray(V)&&!(1>V.length)){var F=V[0];if(F!="noop"&&F!="stop"&&F!="close")for(var G=1;G<V.length;G++)V[G]=""}}}}return _s(p)}catch{return h}}var K={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ne={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pe;function ge(){}k(ge,Lr),ge.prototype.g=function(){return new XMLHttpRequest},ge.prototype.i=function(){return{}},pe=new ge;function Oe(a,h,p,_){this.j=a,this.i=h,this.l=p,this.R=_||1,this.U=new Zt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pe}function Pe(){this.i=null,this.g="",this.h=!1}var Ie={},Fe={};function $n(a,h,p){a.L=1,a.v=Bl(ur(h)),a.m=p,a.P=!0,jr(a,null)}function jr(a,h){a.F=Date.now(),Mr(a),a.A=ur(a.v);var p=a.A,_=a.R;Array.isArray(_)||(_=[String(_)]),lg(p.i,"t",_),a.C=0,p=a.j.J,a.h=new Pe,a.g=bg(a.j,p?h:null,!a.m),0<a.O&&(a.M=new Cd(g(a.Y,a,a.g),a.O)),h=a.U,p=a.g,_=a.ca;var V="readystatechange";Array.isArray(V)||(V&&(zo[0]=V.toString()),V=zo);for(var F=0;F<V.length;F++){var G=Dl(p,V[F],_||h.handleEvent,!1,h.h||h);if(!G)break;h.g[G.key]=G}h=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),Li(),Y(a.i,a.u,a.A,a.l,a.R,a.m)}Oe.prototype.ca=function(a){a=a.target;const h=this.M;h&&cr(a)==3?h.j():this.Y(a)},Oe.prototype.Y=function(a){try{if(a==this.g)e:{const Dt=cr(this.g);var h=this.g.Ba();const Ss=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||mg(this.g)))){this.J||Dt!=4||h==7||(h==8||0>=Ss?Li(3):Li(2)),Pn(this);var p=this.g.Z();this.X=p;t:if(_n(this)){var _=mg(this.g);a="";var V=_.length,F=cr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xn(this),Hn(this);var G="";break t}this.h.i=new l.TextDecoder}for(h=0;h<V;h++)this.h.h=!0,a+=this.h.i.decode(_[h],{stream:!(F&&h==V-1)});_.length=0,this.h.g+=a,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=p==200,re(this.i,this.u,this.A,this.l,this.R,Dt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,Tt=this.g;if((Ve=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ve)){var Ce=Ve;break t}}Ce=null}if(p=Ce)oe(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_e(this,p);else{this.o=!1,this.s=3,R(12),xn(this),Hn(this);break e}}if(this.P){p=!0;let Nn;for(;!this.J&&this.C<G.length;)if(Nn=wn(this,G),Nn==Fe){Dt==4&&(this.s=4,R(14),p=!1),oe(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==Ie){this.s=4,R(15),oe(this.i,this.l,G,"[Invalid Chunk]"),p=!1;break}else oe(this.i,this.l,Nn,null),_e(this,Nn);if(_n(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||G.length!=0||this.h.h||(this.s=1,R(16),p=!1),this.o=this.o&&p,!p)oe(this.i,this.l,G,"[Invalid Chunked Response]"),xn(this),Hn(this);else if(0<G.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Dd(Nt),Nt.M=!0,R(11))}}else oe(this.i,this.l,G,null),_e(this,G);Dt==4&&xn(this),this.o&&!this.J&&(Dt==4?Eg(this.j,this):(this.o=!1,Mr(this)))}else CE(this.g),p==400&&0<G.indexOf("Unknown SID")?(this.s=3,R(12)):(this.s=0,R(13)),xn(this),Hn(this)}}}catch{}finally{}};function _n(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function wn(a,h){var p=a.C,_=h.indexOf(`
`,p);return _==-1?Fe:(p=Number(h.substring(p,_)),isNaN(p)?Ie:(_+=1,_+p>h.length?Fe:(h=h.slice(_,_+p),a.C=_+p,h)))}Oe.prototype.cancel=function(){this.J=!0,xn(this)};function Mr(a){a.S=Date.now()+a.I,Vr(a,a.I)}function Vr(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=O(g(a.ba,a),h)}function Pn(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Oe.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(J(this.i,this.A),this.L!=2&&(Li(),R(17)),xn(this),this.s=2,Hn(this)):Vr(this,this.S-a)};function Hn(a){a.j.G==0||a.J||Eg(a.j,a)}function xn(a){Pn(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,Bo(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function _e(a,h){try{var p=a.j;if(p.G!=0&&(p.g==a||qn(p.h,a))){if(!a.K&&qn(p.h,a)&&p.G==3){try{var _=p.Da.g.parse(h)}catch{_=null}if(Array.isArray(_)&&_.length==3){var V=_;if(V[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<a.F)Kl(p),Wl(p);else break e;Nd(p),R(18)}}else p.za=V[1],0<p.za-p.T&&37500>V[2]&&p.F&&p.v==0&&!p.C&&(p.C=O(g(p.Za,p),6e3));if(1>=Xe(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Mi(p,11)}else if((a.K||p.g==a)&&Kl(p),!y(h))for(V=p.Da.g.parse(h),h=0;h<V.length;h++){let Ce=V[h];if(p.T=Ce[0],Ce=Ce[1],p.G==2)if(Ce[0]=="c"){p.K=Ce[1],p.ia=Ce[2];const Nt=Ce[3];Nt!=null&&(p.la=Nt,p.j.info("VER="+p.la));const Dt=Ce[4];Dt!=null&&(p.Aa=Dt,p.j.info("SVER="+p.Aa));const Ss=Ce[5];Ss!=null&&typeof Ss=="number"&&0<Ss&&(_=1.5*Ss,p.L=_,p.j.info("backChannelRequestTimeoutMs_="+_)),_=p;const Nn=a.g;if(Nn){const Yl=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yl){var F=_.h;F.g||Yl.indexOf("spdy")==-1&&Yl.indexOf("quic")==-1&&Yl.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Es(F,F.h),F.h=null))}if(_.D){const Ld=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ld&&(_.ya=Ld,Be(_.I,_.D,Ld))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-a.F,p.j.info("Handshake RTT: "+p.R+"ms")),_=p;var G=a;if(_.qa=Sg(_,_.J?_.ia:null,_.W),G.K){Fl(_.h,G);var Ve=G,Tt=_.L;Tt&&(Ve.I=Tt),Ve.B&&(Pn(Ve),Mr(Ve)),_.g=G}else wg(_);0<p.i.length&&Gl(p)}else Ce[0]!="stop"&&Ce[0]!="close"||Mi(p,7);else p.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?Mi(p,7):Pd(p):Ce[0]!="noop"&&p.l&&p.l.ta(Ce),p.v=0)}}Li(4)}catch{}}var Ke=class{constructor(a,h){this.g=a,this.map=h}};function lr(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Or(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Xe(a){return a.h?1:a.g?a.g.size:0}function qn(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function Es(a,h){a.g?a.g.add(h):a.h=h}function Fl(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}lr.prototype.cancel=function(){if(this.i=tg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function tg(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const p of a.g.values())h=h.concat(p.D);return h}return C(a.i)}function fE(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var h=[],p=a.length,_=0;_<p;_++)h.push(a[_]);return h}h=[],p=0;for(_ in a)h[p++]=a[_];return h}function pE(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var h=[];a=a.length;for(var p=0;p<a;p++)h.push(p);return h}h=[],p=0;for(const _ in a)h[p++]=_;return h}}}function ng(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var p=pE(a),_=fE(a),V=_.length,F=0;F<V;F++)h.call(void 0,_[F],p&&p[F],a)}var rg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mE(a,h){if(a){a=a.split("&");for(var p=0;p<a.length;p++){var _=a[p].indexOf("="),V=null;if(0<=_){var F=a[p].substring(0,_);V=a[p].substring(_+1)}else F=a[p];h(F,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function ji(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof ji){this.h=a.h,Ul(this,a.j),this.o=a.o,this.g=a.g,zl(this,a.s),this.l=a.l;var h=a.i,p=new Ko;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),ig(this,p),this.m=a.m}else a&&(h=String(a).match(rg))?(this.h=!1,Ul(this,h[1]||"",!0),this.o=Wo(h[2]||""),this.g=Wo(h[3]||"",!0),zl(this,h[4]),this.l=Wo(h[5]||"",!0),ig(this,h[6]||"",!0),this.m=Wo(h[7]||"")):(this.h=!1,this.i=new Ko(null,this.h))}ji.prototype.toString=function(){var a=[],h=this.j;h&&a.push(Go(h,sg,!0),":");var p=this.g;return(p||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Go(h,sg,!0),"@"),a.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&a.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(Go(p,p.charAt(0)=="/"?yE:vE,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",Go(p,wE)),a.join("")};function ur(a){return new ji(a)}function Ul(a,h,p){a.j=p?Wo(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function zl(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function ig(a,h,p){h instanceof Ko?(a.i=h,xE(a.i,a.h)):(p||(h=Go(h,_E)),a.i=new Ko(h,a.h))}function Be(a,h,p){a.i.set(h,p)}function Bl(a){return Be(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Wo(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Go(a,h,p){return typeof a=="string"?(a=encodeURI(a).replace(h,gE),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function gE(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var sg=/[#\/\?@]/g,vE=/[#\?:]/g,yE=/[#\?]/g,_E=/[#\?@]/g,wE=/#/g;function Ko(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Fr(a){a.g||(a.g=new Map,a.h=0,a.i&&mE(a.i,function(h,p){a.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=Ko.prototype,t.add=function(a,h){Fr(this),this.i=null,a=Ts(this,a);var p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(h),this.h+=1,this};function og(a,h){Fr(a),h=Ts(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function ag(a,h){return Fr(a),h=Ts(a,h),a.g.has(h)}t.forEach=function(a,h){Fr(this),this.g.forEach(function(p,_){p.forEach(function(V){a.call(h,V,_,this)},this)},this)},t.na=function(){Fr(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let _=0;_<h.length;_++){const V=a[_];for(let F=0;F<V.length;F++)p.push(h[_])}return p},t.V=function(a){Fr(this);let h=[];if(typeof a=="string")ag(this,a)&&(h=h.concat(this.g.get(Ts(this,a))));else{a=Array.from(this.g.values());for(let p=0;p<a.length;p++)h=h.concat(a[p])}return h},t.set=function(a,h){return Fr(this),this.i=null,a=Ts(this,a),ag(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function lg(a,h,p){og(a,h),0<p.length&&(a.i=null,a.g.set(Ts(a,h),C(p)),a.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var _=h[p];const F=encodeURIComponent(String(_)),G=this.V(_);for(_=0;_<G.length;_++){var V=F;G[_]!==""&&(V+="="+encodeURIComponent(String(G[_]))),a.push(V)}}return this.i=a.join("&")};function Ts(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function xE(a,h){h&&!a.j&&(Fr(a),a.i=null,a.g.forEach(function(p,_){var V=_.toLowerCase();_!=V&&(og(this,_),lg(this,V,p))},a)),a.j=h}function EE(a,h){const p=new $;if(l.Image){const _=new Image;_.onload=w(Ur,p,"TestLoadImage: loaded",!0,h,_),_.onerror=w(Ur,p,"TestLoadImage: error",!1,h,_),_.onabort=w(Ur,p,"TestLoadImage: abort",!1,h,_),_.ontimeout=w(Ur,p,"TestLoadImage: timeout",!1,h,_),l.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=a}else h(!1)}function TE(a,h){const p=new $,_=new AbortController,V=setTimeout(()=>{_.abort(),Ur(p,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:_.signal}).then(F=>{clearTimeout(V),F.ok?Ur(p,"TestPingServer: ok",!0,h):Ur(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(V),Ur(p,"TestPingServer: error",!1,h)})}function Ur(a,h,p,_,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),_(p)}catch{}}function IE(){this.g=new Vl}function SE(a,h,p){const _=p||"";try{ng(a,function(V,F){let G=V;c(V)&&(G=_s(V)),h.push(_+F+"="+encodeURIComponent(G))})}catch(V){throw h.push(_+"type="+encodeURIComponent("_badmap")),V}}function $l(a){this.l=a.Ub||null,this.j=a.eb||!1}k($l,Lr),$l.prototype.g=function(){return new Hl(this.l,this.j)},$l.prototype.i=function(a){return function(){return a}}({});function Hl(a,h){ct.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Hl,ct),t=Hl.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,Yo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qo(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Yo(this)),this.g&&(this.readyState=3,Yo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ug(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function ug(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Qo(this):Yo(this),this.readyState==3&&ug(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Qo(this))},t.Qa=function(a){this.g&&(this.response=a,Qo(this))},t.ga=function(){this.g&&Qo(this)};function Qo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Yo(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=h.next();return a.join(`\r
`)};function Yo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Hl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function cg(a){let h="";return P(a,function(p,_){h+=_,h+=":",h+=p,h+=`\r
`}),h}function Rd(a,h,p){e:{for(_ in p){var _=!1;break e}_=!0}_||(p=cg(p),typeof a=="string"?p!=null&&encodeURIComponent(String(p)):Be(a,h,p))}function nt(a){ct.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(nt,ct);var bE=/^https?$/i,kE=["POST","PUT"];t=nt.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,p,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pe.g(),this.v=this.o?$o(this.o):$o(pe),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(F){dg(this,F);return}if(a=p||"",p=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var V in _)p.set(V,_[V]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const F of _.keys())p.set(F,_.get(F));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(p.keys()).find(F=>F.toLowerCase()=="content-type"),V=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(kE,h,void 0))||_||V||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,G]of p)this.g.setRequestHeader(F,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pg(this),this.u=!0,this.g.send(a),this.u=!1}catch(F){dg(this,F)}};function dg(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,hg(a),ql(a)}function hg(a){a.A||(a.A=!0,Ge(a,"complete"),Ge(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Ge(this,"complete"),Ge(this,"abort"),ql(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ql(this,!0)),nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?fg(this):this.bb())},t.bb=function(){fg(this)};function fg(a){if(a.h&&typeof o<"u"&&(!a.v[1]||cr(a)!=4||a.Z()!=2)){if(a.u&&cr(a)==4)Uo(a.Ea,0,a);else if(Ge(a,"readystatechange"),cr(a)==4){a.h=!1;try{const G=a.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var _;if(_=G===0){var V=String(a.D).match(rg)[1]||null;!V&&l.self&&l.self.location&&(V=l.self.location.protocol.slice(0,-1)),_=!bE.test(V?V.toLowerCase():"")}p=_}if(p)Ge(a,"complete"),Ge(a,"success");else{a.m=6;try{var F=2<cr(a)?a.g.statusText:""}catch{F=""}a.l=F+" ["+a.Z()+"]",hg(a)}}finally{ql(a)}}}}function ql(a,h){if(a.g){pg(a);const p=a.g,_=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||Ge(a,"ready");try{p.onreadystatechange=_}catch{}}}function pg(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function cr(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<cr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),Ad(h)}};function mg(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function CE(a){const h={};a=(a.g&&2<=cr(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<a.length;_++){if(y(a[_]))continue;var p=A(a[_]);const V=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const F=h[V]||[];h[V]=F,F.push(p)}I(h,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xo(a,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||h}function gg(a){this.Aa=0,this.i=[],this.j=new $,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xo("baseRetryDelayMs",5e3,a),this.cb=Xo("retryDelaySeedMs",1e4,a),this.Wa=Xo("forwardChannelMaxRetries",2,a),this.wa=Xo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new lr(a&&a.concurrentRequestLimit),this.Da=new IE,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=gg.prototype,t.la=8,t.G=1,t.connect=function(a,h,p,_){R(0),this.W=a,this.H=h||{},p&&_!==void 0&&(this.H.OSID=p,this.H.OAID=_),this.F=this.X,this.I=Sg(this,null,this.W),Gl(this)};function Pd(a){if(vg(a),a.G==3){var h=a.U++,p=ur(a.I);if(Be(p,"SID",a.K),Be(p,"RID",h),Be(p,"TYPE","terminate"),Jo(a,p),h=new Oe(a,a.j,h),h.L=2,h.v=Bl(ur(p)),p=!1,l.navigator&&l.navigator.sendBeacon)try{p=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&l.Image&&(new Image().src=h.v,p=!0),p||(h.g=bg(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Mr(h)}Ig(a)}function Wl(a){a.g&&(Dd(a),a.g.cancel(),a.g=null)}function vg(a){Wl(a),a.u&&(l.clearTimeout(a.u),a.u=null),Kl(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Gl(a){if(!Or(a.h)&&!a.s){a.s=!0;var h=a.Ga;ke||Z(),B||(ke(),B=!0),W.add(h,a),a.B=0}}function AE(a,h){return Xe(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=O(g(a.Ga,a,h),Tg(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const V=new Oe(this,this.j,a);let F=this.o;if(this.S&&(F?(F=v(F),T(F,this.S)):F=this.S),this.m!==null||this.O||(V.H=F,F=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var _=this.i[p];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(h+=_,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=_g(this,V,h),p=ur(this.I),Be(p,"RID",a),Be(p,"CVER",22),this.D&&Be(p,"X-HTTP-Session-Id",this.D),Jo(this,p),F&&(this.O?h="headers="+encodeURIComponent(String(cg(F)))+"&"+h:this.m&&Rd(p,this.m,F)),Es(this.h,V),this.Ua&&Be(p,"TYPE","init"),this.P?(Be(p,"$req",h),Be(p,"SID","null"),V.T=!0,$n(V,p,null)):$n(V,p,h),this.G=2}}else this.G==3&&(a?yg(this,a):this.i.length==0||Or(this.h)||yg(this))};function yg(a,h){var p;h?p=h.l:p=a.U++;const _=ur(a.I);Be(_,"SID",a.K),Be(_,"RID",p),Be(_,"AID",a.T),Jo(a,_),a.m&&a.o&&Rd(_,a.m,a.o),p=new Oe(a,a.j,p,a.B+1),a.m===null&&(p.H=a.o),h&&(a.i=h.D.concat(a.i)),h=_g(a,p,1e3),p.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Es(a.h,p),$n(p,_,h)}function Jo(a,h){a.H&&P(a.H,function(p,_){Be(h,_,p)}),a.l&&ng({},function(p,_){Be(h,_,p)})}function _g(a,h,p){p=Math.min(a.i.length,p);var _=a.l?g(a.l.Na,a.l,a):null;e:{var V=a.i;let F=-1;for(;;){const G=["count="+p];F==-1?0<p?(F=V[0].g,G.push("ofs="+F)):F=0:G.push("ofs="+F);let Ve=!0;for(let Tt=0;Tt<p;Tt++){let Ce=V[Tt].g;const Nt=V[Tt].map;if(Ce-=F,0>Ce)F=Math.max(0,V[Tt].g-100),Ve=!1;else try{SE(Nt,G,"req"+Ce+"_")}catch{_&&_(Nt)}}if(Ve){_=G.join("&");break e}}}return a=a.i.splice(0,p),h.D=a,_}function wg(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;ke||Z(),B||(ke(),B=!0),W.add(h,a),a.v=0}}function Nd(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=O(g(a.Fa,a),Tg(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,xg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=O(g(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,R(10),Wl(this),xg(this))};function Dd(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function xg(a){a.g=new Oe(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=ur(a.qa);Be(h,"RID","rpc"),Be(h,"SID",a.K),Be(h,"AID",a.T),Be(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&Be(h,"TO",a.ja),Be(h,"TYPE","xmlhttp"),Jo(a,h),a.m&&a.o&&Rd(h,a.m,a.o),a.L&&(a.g.I=a.L);var p=a.g;a=a.ia,p.L=1,p.v=Bl(ur(h)),p.m=null,p.P=!0,jr(p,a)}t.Za=function(){this.C!=null&&(this.C=null,Wl(this),Nd(this),R(19))};function Kl(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Eg(a,h){var p=null;if(a.g==h){Kl(a),Dd(a),a.g=null;var _=2}else if(qn(a.h,h))p=h.D,Fl(a.h,h),_=1;else return;if(a.G!=0){if(h.o)if(_==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var V=a.B;_=ar(),Ge(_,new j(_,p)),Gl(a)}else wg(a);else if(V=h.s,V==3||V==0&&0<h.X||!(_==1&&AE(a,h)||_==2&&Nd(a)))switch(p&&0<p.length&&(h=a.h,h.i=h.i.concat(p)),V){case 1:Mi(a,5);break;case 4:Mi(a,10);break;case 3:Mi(a,6);break;default:Mi(a,2)}}}function Tg(a,h){let p=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(p*=2),p*h}function Mi(a,h){if(a.j.info("Error code "+h),h==2){var p=g(a.fb,a),_=a.Xa;const V=!_;_=new ji(_||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ul(_,"https"),Bl(_),V?EE(_.toString(),p):TE(_.toString(),p)}else R(2);a.G=0,a.l&&a.l.sa(h),Ig(a),vg(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),R(2)):(this.j.info("Failed to ping google.com"),R(1))};function Ig(a){if(a.G=0,a.ka=[],a.l){const h=tg(a.h);(h.length!=0||a.i.length!=0)&&(L(a.ka,h),L(a.ka,a.i),a.h.i.length=0,C(a.i),a.i.length=0),a.l.ra()}}function Sg(a,h,p){var _=p instanceof ji?ur(p):new ji(p);if(_.g!="")h&&(_.g=h+"."+_.g),zl(_,_.s);else{var V=l.location;_=V.protocol,h=h?h+"."+V.hostname:V.hostname,V=+V.port;var F=new ji(null);_&&Ul(F,_),h&&(F.g=h),V&&zl(F,V),p&&(F.l=p),_=F}return p=a.D,h=a.ya,p&&h&&Be(_,p,h),Be(_,"VER",a.la),Jo(a,_),_}function bg(a,h,p){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new nt(new $l({eb:p})):new nt(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function kg(){}t=kg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ql(){}Ql.prototype.g=function(a,h){return new ln(a,h)};function ln(a,h){ct.call(this),this.g=new gg(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!y(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!y(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Is(this)}k(ln,ct),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Pd(this.g)},ln.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.u&&(p={},p.__data__=_s(a),a=p);h.i.push(new Ke(h.Ya++,a)),h.G==3&&Gl(h)},ln.prototype.N=function(){this.g.l=null,delete this.j,Pd(this.g),delete this.g,ln.aa.N.call(this)};function Cg(a){Ho.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const p in h){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}k(Cg,Ho);function Ag(){xs.call(this),this.status=1}k(Ag,xs);function Is(a){this.g=a}k(Is,kg),Is.prototype.ua=function(){Ge(this.g,"a")},Is.prototype.ta=function(a){Ge(this.g,new Cg(a))},Is.prototype.sa=function(a){Ge(this.g,new Ag)},Is.prototype.ra=function(){Ge(this.g,"b")},Ql.prototype.createWebChannel=Ql.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,Bw=function(){return new Ql},zw=function(){return ar()},Uw=or,bf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},K.NO_ERROR=0,K.TIMEOUT=8,K.HTTP_ERROR=6,Lu=K,ne.COMPLETE="complete",Fw=ne,ws.EventType=sr,sr.OPEN="a",sr.CLOSE="b",sr.ERROR="c",sr.MESSAGE="d",ct.prototype.listen=ct.prototype.K,Ea=ws,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,Ow=nt}).apply(typeof mu<"u"?mu:typeof self<"u"?self:typeof window<"u"?window:{});const yy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new Qp("@firebase/firestore");function ca(){return os.logLevel}function te(t,...e){if(os.logLevel<=Ee.DEBUG){const n=e.map(Jp);os.debug(`Firestore (${bo}): ${t}`,...n)}}function Cr(t,...e){if(os.logLevel<=Ee.ERROR){const n=e.map(Jp);os.error(`Firestore (${bo}): ${t}`,...n)}}function fo(t,...e){if(os.logLevel<=Ee.WARN){const n=e.map(Jp);os.warn(`Firestore (${bo}): ${t}`,...n)}}function Jp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t="Unexpected state"){const e=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: `+t;throw Cr(e),new Error(e)}function De(t,e){t||le()}function ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends Dr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class g4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ot.UNAUTHENTICATED))}shutdown(){}}class v4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class y4{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){De(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Er,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Er)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new $w(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new Ot(e)}}class _4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class w4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new _4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class x4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class E4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){De(this.o===void 0);const r=s=>{s.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string"),this.R=n.token,new x4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=T4(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ae(t,e){return t<e?-1:t>e?1:0}function po(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ve.fromMillis(Date.now())}static fromDate(e){return ve.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ve(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new ve(0,0))}static max(){return new ue(new ve(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(),r===void 0?r=e.length-n:r>e.length-n&&le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return al.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof al?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class qe extends al{construct(e,n,r){return new qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new qe(n)}static emptyPath(){return new qe([])}}const I4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends al{construct(e,n,r){return new kt(e,n,r)}static isValidIdentifier(e){return I4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new kt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Q(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Q(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Q(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new Q(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(n)}static emptyPath(){return new kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(qe.fromString(e))}static fromName(e){return new ie(qe.fromString(e).popFirst(5))}static empty(){return new ie(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new qe(e.slice()))}}function S4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new ve(n+1,0):new ve(n,r));return new xi(i,ie.empty(),e)}function b4(t){return new xi(t.readTime,t.key,-1)}class xi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xi(ue.min(),ie.empty(),-1)}static max(){return new xi(ue.max(),ie.empty(),-1)}}function k4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:Ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class A4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==C4)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(f=>{o[c]=f,++l,l===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new H((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function R4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Tl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Zp.oe=-1;function rd(t){return t==null}function wc(t){return t===0&&1/t==-1/0}function P4(t){return typeof t=="number"&&Number.isInteger(t)&&!wc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ms(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){this.comparator=e,this.root=n||bt.EMPTY}insert(e,n){return new tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bt.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gu(this.root,e,this.comparator,!1)}getReverseIterator(){return new gu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gu(this.root,e,this.comparator,!0)}}class gu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??bt.RED,this.left=i??bt.EMPTY,this.right=s??bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new bt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return bt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}}bt.EMPTY=null,bt.RED=!0,bt.BLACK=!1;bt.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(e,n,r,i,s){return this}insert(e,n,r){return new bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wy(this.data.getIterator())}getIteratorFrom(e){return new wy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new At(this.comparator);return n.data=e,n}}class wy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new pn([])}unionWith(e){let n=new At(kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Ww("Invalid base64 string: "+s):s}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const N4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ei(t){if(De(!!t),typeof t=="string"){let e=0;const n=N4.exec(t);if(De(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function as(t){return typeof t=="string"?Pt.fromBase64String(t):Pt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function tm(t){const e=t.mapValue.fields.__previous_value__;return em(e)?tm(e):e}function ll(t){const e=Ei(t.mapValue.fields.__local_write_time__.timestampValue);return new ve(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n,r,i,s,o,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class ul{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ul("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ul&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ls(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?em(t)?4:j4(t)?9007199254740991:L4(t)?10:11:le()}function nr(t,e){if(t===e)return!0;const n=ls(t);if(n!==ls(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ll(t).isEqual(ll(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ei(i.timestampValue),l=Ei(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return as(i.bytesValue).isEqual(as(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return st(i.geoPointValue.latitude)===st(s.geoPointValue.latitude)&&st(i.geoPointValue.longitude)===st(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return st(i.integerValue)===st(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=st(i.doubleValue),l=st(s.doubleValue);return o===l?wc(o)===wc(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return po(t.arrayValue.values||[],e.arrayValue.values||[],nr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(_y(o)!==_y(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!nr(o[u],l[u])))return!1;return!0}(t,e);default:return le()}}function cl(t,e){return(t.values||[]).find(n=>nr(n,e))!==void 0}function mo(t,e){if(t===e)return 0;const n=ls(t),r=ls(e);if(n!==r)return Ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=st(s.integerValue||s.doubleValue),u=st(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return xy(t.timestampValue,e.timestampValue);case 4:return xy(ll(t),ll(e));case 5:return Ae(t.stringValue,e.stringValue);case 6:return function(s,o){const l=as(s),u=as(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let c=0;c<l.length&&c<u.length;c++){const f=Ae(l[c],u[c]);if(f!==0)return f}return Ae(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Ae(st(s.latitude),st(o.latitude));return l!==0?l:Ae(st(s.longitude),st(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Ey(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,u,c,f;const m=s.fields||{},g=o.fields||{},w=(l=m.value)===null||l===void 0?void 0:l.arrayValue,k=(u=g.value)===null||u===void 0?void 0:u.arrayValue,C=Ae(((c=w==null?void 0:w.values)===null||c===void 0?void 0:c.length)||0,((f=k==null?void 0:k.values)===null||f===void 0?void 0:f.length)||0);return C!==0?C:Ey(w,k)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===vu.mapValue&&o===vu.mapValue)return 0;if(s===vu.mapValue)return 1;if(o===vu.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=o.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){const g=Ae(u[m],f[m]);if(g!==0)return g;const w=mo(l[u[m]],c[f[m]]);if(w!==0)return w}return Ae(u.length,f.length)}(t.mapValue,e.mapValue);default:throw le()}}function xy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ae(t,e);const n=Ei(t),r=Ei(e),i=Ae(n.seconds,r.seconds);return i!==0?i:Ae(n.nanos,r.nanos)}function Ey(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=mo(n[i],r[i]);if(s)return s}return Ae(n.length,r.length)}function go(t){return kf(t)}function kf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ei(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return as(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=kf(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${kf(n.fields[o])}`;return i+"}"}(t.mapValue):le()}function Ty(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Cf(t){return!!t&&"integerValue"in t}function nm(t){return!!t&&"arrayValue"in t}function Iy(t){return!!t&&"nullValue"in t}function Sy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ju(t){return!!t&&"mapValue"in t}function L4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ja(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ms(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ja(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ja(t.arrayValue.values[n]);return e}return Object.assign({},t)}function j4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ju(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ja(n)}setAll(e){let n=kt.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=ja(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ju(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return nr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ju(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ms(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new nn(ja(this.value))}}function Gw(t){const e=[];return ms(t.fields,(n,r)=>{const i=new kt([n]);if(ju(r)){const s=Gw(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Ut(e,0,ue.min(),ue.min(),ue.min(),nn.empty(),0)}static newFoundDocument(e,n,r,i){return new Ut(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new Ut(e,2,n,ue.min(),ue.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new Ut(e,3,n,ue.min(),ue.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n){this.position=e,this.inclusive=n}}function by(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=mo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function ky(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!nr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n="asc"){this.field=e,this.dir=n}}function M4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{}class pt extends Kw{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new O4(e,n,r):n==="array-contains"?new z4(e,r):n==="in"?new B4(e,r):n==="not-in"?new $4(e,r):n==="array-contains-any"?new H4(e,r):new pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new F4(e,r):new U4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(mo(n,this.value)):n!==null&&ls(this.value)===ls(n)&&this.matchesComparison(mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zn extends Kw{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new zn(e,n)}matches(e){return Qw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Qw(t){return t.op==="and"}function Yw(t){return V4(t)&&Qw(t)}function V4(t){for(const e of t.filters)if(e instanceof zn)return!1;return!0}function Af(t){if(t instanceof pt)return t.field.canonicalString()+t.op.toString()+go(t.value);if(Yw(t))return t.filters.map(e=>Af(e)).join(",");{const e=t.filters.map(n=>Af(n)).join(",");return`${t.op}(${e})`}}function Xw(t,e){return t instanceof pt?function(r,i){return i instanceof pt&&r.op===i.op&&r.field.isEqual(i.field)&&nr(r.value,i.value)}(t,e):t instanceof zn?function(r,i){return i instanceof zn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&Xw(o,i.filters[l]),!0):!1}(t,e):void le()}function Jw(t){return t instanceof pt?function(n){return`${n.field.canonicalString()} ${n.op} ${go(n.value)}`}(t):t instanceof zn?function(n){return n.op.toString()+" {"+n.getFilters().map(Jw).join(" ,")+"}"}(t):"Filter"}class O4 extends pt{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class F4 extends pt{constructor(e,n){super(e,"in",n),this.keys=Zw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class U4 extends pt{constructor(e,n){super(e,"not-in",n),this.keys=Zw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Zw(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class z4 extends pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return nm(n)&&cl(n.arrayValue,this.value)}}class B4 extends pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cl(this.value.arrayValue,n)}}class $4 extends pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!cl(this.value.arrayValue,n)}}class H4 extends pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!nm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>cl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function Cy(t,e=null,n=[],r=[],i=null,s=null,o=null){return new q4(t,e,n,r,i,s,o)}function rm(t){const e=ce(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Af(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),rd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>go(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>go(r)).join(",")),e.ue=n}return e.ue}function im(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!M4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Xw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ky(t.startAt,e.startAt)&&ky(t.endAt,e.endAt)}function Rf(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function W4(t,e,n,r,i,s,o,l){return new ko(t,e,n,r,i,s,o,l)}function id(t){return new ko(t)}function Ay(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ex(t){return t.collectionGroup!==null}function Ma(t){const e=ce(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new At(kt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new dl(s,r))}),n.has(kt.keyField().canonicalString())||e.ce.push(new dl(kt.keyField(),r))}return e.ce}function Xn(t){const e=ce(t);return e.le||(e.le=G4(e,Ma(t))),e.le}function G4(t,e){if(t.limitType==="F")return Cy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new dl(i.field,s)});const n=t.endAt?new xc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xc(t.startAt.position,t.startAt.inclusive):null;return Cy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Pf(t,e){const n=t.filters.concat([e]);return new ko(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Nf(t,e,n){return new ko(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sd(t,e){return im(Xn(t),Xn(e))&&t.limitType===e.limitType}function tx(t){return`${rm(Xn(t))}|lt:${t.limitType}`}function Cs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Jw(i)).join(", ")}]`),rd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>go(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>go(i)).join(",")),`Target(${r})`}(Xn(t))}; limitType=${t.limitType})`}function od(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ma(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const c=by(o,l,u);return o.inclusive?c<=0:c<0}(r.startAt,Ma(r),i)||r.endAt&&!function(o,l,u){const c=by(o,l,u);return o.inclusive?c>=0:c>0}(r.endAt,Ma(r),i))}(t,e)}function K4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nx(t){return(e,n)=>{let r=!1;for(const i of Ma(t)){const s=Q4(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Q4(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),c=l.data.field(s);return u!==null&&c!==null?mo(u,c):le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ms(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return qw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=new tt(ie.comparator);function Ar(){return Y4}const rx=new tt(ie.comparator);function Ta(...t){let e=rx;for(const n of t)e=e.insert(n.key,n);return e}function ix(t){let e=rx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wi(){return Va()}function sx(){return Va()}function Va(){return new Co(t=>t.toString(),(t,e)=>t.isEqual(e))}const X4=new tt(ie.comparator),J4=new At(ie.comparator);function xe(...t){let e=J4;for(const n of t)e=e.add(n);return e}const Z4=new At(Ae);function eC(){return Z4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wc(e)?"-0":e}}function ox(t){return{integerValue:""+t}}function tC(t,e){return P4(e)?ox(e):sm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(){this._=void 0}}function nC(t,e,n){return t instanceof Ec?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&em(s)&&(s=tm(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof vo?lx(t,e):t instanceof hl?ux(t,e):function(i,s){const o=ax(i,s),l=Ry(o)+Ry(i.Pe);return Cf(o)&&Cf(i.Pe)?ox(l):sm(i.serializer,l)}(t,e)}function rC(t,e,n){return t instanceof vo?lx(t,e):t instanceof hl?ux(t,e):n}function ax(t,e){return t instanceof Tc?function(r){return Cf(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ec extends ad{}class vo extends ad{constructor(e){super(),this.elements=e}}function lx(t,e){const n=cx(e);for(const r of t.elements)n.some(i=>nr(i,r))||n.push(r);return{arrayValue:{values:n}}}class hl extends ad{constructor(e){super(),this.elements=e}}function ux(t,e){let n=cx(e);for(const r of t.elements)n=n.filter(i=>!nr(i,r));return{arrayValue:{values:n}}}class Tc extends ad{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Ry(t){return st(t.integerValue||t.doubleValue)}function cx(t){return nm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n){this.field=e,this.transform=n}}function sC(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof vo&&i instanceof vo||r instanceof hl&&i instanceof hl?po(r.elements,i.elements,nr):r instanceof Tc&&i instanceof Tc?nr(r.Pe,i.Pe):r instanceof Ec&&i instanceof Ec}(t.transform,e.transform)}class oC{constructor(e,n){this.version=e,this.transformResults=n}}class Jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ld{}function dx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new fx(t.key,Jn.none()):new Il(t.key,t.data,Jn.none());{const n=t.data,r=nn.empty();let i=new At(kt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ai(t.key,r,new pn(i.toArray()),Jn.none())}}function aC(t,e,n){t instanceof Il?function(i,s,o){const l=i.value.clone(),u=Ny(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Ai?function(i,s,o){if(!Mu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=Ny(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(hx(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Oa(t,e,n,r){return t instanceof Il?function(s,o,l,u){if(!Mu(s.precondition,o))return l;const c=s.value.clone(),f=Dy(s.fieldTransforms,u,o);return c.setAll(f),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ai?function(s,o,l,u){if(!Mu(s.precondition,o))return l;const c=Dy(s.fieldTransforms,u,o),f=o.data;return f.setAll(hx(s)),f.setAll(c),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,o,l){return Mu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function lC(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=ax(r.transform,i||null);s!=null&&(n===null&&(n=nn.empty()),n.set(r.field,s))}return n||null}function Py(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&po(r,i,(s,o)=>sC(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Il extends ld{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ai extends ld{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function hx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Ny(t,e,n){const r=new Map;De(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,rC(o,l,n[i]))}return r}function Dy(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,nC(s,o,e))}return r}class fx extends ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uC extends ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&aC(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Oa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Oa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sx();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=dx(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,(n,r)=>Py(n,r))&&po(this.baseMutations,e.baseMutations,(n,r)=>Py(n,r))}}class om{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){De(e.mutations.length===r.length);let i=function(){return X4}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new om(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Se;function fC(t){switch(t){default:return le();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function px(t){if(t===void 0)return Cr("GRPC error has no .code"),z.UNKNOWN;switch(t){case dt.OK:return z.OK;case dt.CANCELLED:return z.CANCELLED;case dt.UNKNOWN:return z.UNKNOWN;case dt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case dt.INTERNAL:return z.INTERNAL;case dt.UNAVAILABLE:return z.UNAVAILABLE;case dt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case dt.NOT_FOUND:return z.NOT_FOUND;case dt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case dt.ABORTED:return z.ABORTED;case dt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case dt.DATA_LOSS:return z.DATA_LOSS;default:return le()}}(Se=dt||(dt={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=new Xi([4294967295,4294967295],0);function Ly(t){const e=pC().encode(t),n=new Vw;return n.update(e),new Uint8Array(n.digest())}function jy(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Xi([n,r],0),new Xi([i,s],0)]}class am{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ia(`Invalid padding: ${n}`);if(r<0)throw new Ia(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ia(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ia(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Xi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Xi.fromNumber(r)));return i.compare(mC)===1&&(i=new Xi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Ly(e),[r,i]=jy(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new am(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=Ly(e),[r,i]=jy(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ia extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Sl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ud(ue.min(),i,new tt(Ae),Ar(),xe())}}class Sl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Sl(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class mx{constructor(e,n){this.targetId=e,this.me=n}}class gx{constructor(e,n,r=Pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class My{constructor(){this.fe=0,this.ge=Oy(),this.pe=Pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=xe(),n=xe(),r=xe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:le()}}),new Sl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Oy()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,De(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class gC{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ar(),this.qe=Vy(),this.Qe=new tt(Ae)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Rf(s))if(r===0){const o=new ie(s.path);this.Ue(n,o,Ut.newNoDocument(o,ue.min()))}else De(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),u=l?this.Xe(l,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=as(r).toUint8Array()}catch(u){if(u instanceof Ww)return fo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new am(o,i,s)}catch(u){return fo(u instanceof Ia?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&Rf(l.target)){const u=new ie(l.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Ut.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=xe();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new ud(e,n,this.Qe,this.ke,r);return this.ke=Ar(),this.qe=Vy(),this.Qe=new tt(Ae),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new My,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new At(Ae),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new My),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Vy(){return new tt(ie.comparator)}function Oy(){return new tt(ie.comparator)}const vC={asc:"ASCENDING",desc:"DESCENDING"},yC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_C={and:"AND",or:"OR"};class wC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Df(t,e){return t.useProto3Json||rd(e)?e:{value:e}}function Ic(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xC(t,e){return Ic(t,e.toTimestamp())}function Zn(t){return De(!!t),ue.fromTimestamp(function(n){const r=Ei(n);return new ve(r.seconds,r.nanos)}(t))}function lm(t,e){return Lf(t,e).canonicalString()}function Lf(t,e){const n=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function yx(t){const e=qe.fromString(t);return De(Tx(e)),e}function jf(t,e){return lm(t.databaseId,e.path)}function mh(t,e){const n=yx(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(wx(n))}function _x(t,e){return lm(t.databaseId,e)}function EC(t){const e=yx(t);return e.length===4?qe.emptyPath():wx(e)}function Mf(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wx(t){return De(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Fy(t,e,n){return{name:jf(t,e),fields:n.value.mapValue.fields}}function TC(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,f){return c.useProto3Json?(De(f===void 0||typeof f=="string"),Pt.fromBase64String(f||"")):(De(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Pt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(c){const f=c.code===void 0?z.UNKNOWN:px(c.code);return new Q(f,c.message||"")}(o);n=new gx(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=mh(t,r.document.name),s=Zn(r.document.updateTime),o=r.document.createTime?Zn(r.document.createTime):ue.min(),l=new nn({mapValue:{fields:r.document.fields}}),u=Ut.newFoundDocument(i,s,o,l),c=r.targetIds||[],f=r.removedTargetIds||[];n=new Vu(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=mh(t,r.document),s=r.readTime?Zn(r.readTime):ue.min(),o=Ut.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Vu([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=mh(t,r.document),s=r.removedTargetIds||[];n=new Vu([],s,i,null)}else{if(!("filter"in e))return le();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new hC(i,s),l=r.targetId;n=new mx(l,o)}}return n}function IC(t,e){let n;if(e instanceof Il)n={update:Fy(t,e.key,e.value)};else if(e instanceof fx)n={delete:jf(t,e.key)};else if(e instanceof Ai)n={update:Fy(t,e.key,e.data),updateMask:DC(e.fieldMask)};else{if(!(e instanceof uC))return le();n={verify:jf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Ec)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof vo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof hl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Tc)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw le()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:xC(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:le()}(t,e.precondition)),n}function SC(t,e){return t&&t.length>0?(De(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Zn(i.updateTime):Zn(s);return o.isEqual(ue.min())&&(o=Zn(s)),new oC(o,i.transformResults||[])}(n,e))):[]}function bC(t,e){return{documents:[_x(t,e.path)]}}function kC(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_x(t,i);const s=function(c){if(c.length!==0)return Ex(zn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(f=>function(g){return{field:As(g.field),direction:RC(g.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Df(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function CC(t){let e=EC(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){De(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(m){const g=xx(m);return g instanceof zn&&Yw(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(g=>function(k){return new dl(Rs(k.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(m){let g;return g=typeof m=="object"?m.value:m,rd(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(m){const g=!!m.before,w=m.values||[];return new xc(w,g)}(n.startAt));let c=null;return n.endAt&&(c=function(m){const g=!m.before,w=m.values||[];return new xc(w,g)}(n.endAt)),W4(e,i,o,s,l,"F",u,c)}function AC(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Rs(n.unaryFilter.field);return pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Rs(n.unaryFilter.field);return pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Rs(n.unaryFilter.field);return pt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Rs(n.unaryFilter.field);return pt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(t):t.fieldFilter!==void 0?function(n){return pt.create(Rs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return zn.create(n.compositeFilter.filters.map(r=>xx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le()}}(n.compositeFilter.op))}(t):le()}function RC(t){return vC[t]}function PC(t){return yC[t]}function NC(t){return _C[t]}function As(t){return{fieldPath:t.canonicalString()}}function Rs(t){return kt.fromServerFormat(t.fieldPath)}function Ex(t){return t instanceof pt?function(n){if(n.op==="=="){if(Sy(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NAN"}};if(Iy(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Sy(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NOT_NAN"}};if(Iy(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:As(n.field),op:PC(n.op),value:n.value}}}(t):t instanceof zn?function(n){const r=n.getFilters().map(i=>Ex(i));return r.length===1?r[0]:{compositeFilter:{op:NC(n.op),filters:r}}}(t):le()}function DC(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Tx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n,r,i,s=ue.min(),o=ue.min(),l=Pt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.ct=e}}function jC(t){const e=CC({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Nf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(){this.un=new VC}addToCollectionParentIndex(e,n){return this.un.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(xi.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(xi.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class VC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new At(qe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new At(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new yo(0)}static kn(){return new yo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.changes=new Co(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Oa(r.mutation,i,pn.empty(),ve.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const i=Wi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ta();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Wi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Ar();const o=Va(),l=function(){return Va()}();return n.forEach((u,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof Ai)?s=s.insert(c.key,c):f!==void 0?(o.set(c.key,f.mutation.getFieldMask()),Oa(f.mutation,c,f.mutation.getFieldMask(),ve.now())):o.set(c.key,pn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,f)=>o.set(c,f)),n.forEach((c,f)=>{var m;return l.set(c,new FC(f,(m=o.get(c))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Va();let i=new tt((o,l)=>o-l),s=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=r.get(u)||pn.empty();f=l.applyToLocalView(c,f),r.set(u,f);const m=(i.get(l.batchId)||xe()).add(u);i=i.insert(l.batchId,m)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,f=u.value,m=sx();f.forEach(g=>{if(!s.has(g)){const w=dx(n.get(g),r.get(g));w!==null&&m.set(g,w),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,m))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ex(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):H.resolve(Wi());let l=-1,u=s;return o.next(c=>H.forEach(c,(f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(f)?H.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,xe())).next(f=>({batchId:l,changes:ix(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let i=Ta();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ta();return this.indexManager.getCollectionParents(e,s).next(l=>H.forEach(l,u=>{const c=function(m,g){return new ko(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(f=>{f.forEach((m,g)=>{o=o.insert(m,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const f=c.getKey();o.get(f)===null&&(o=o.insert(f,Ut.newInvalidDocument(f)))});let l=Ta();return o.forEach((u,c)=>{const f=s.get(u);f!==void 0&&Oa(f.mutation,c,pn.empty(),ve.now()),od(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return H.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Zn(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:jC(i.bundledQuery),readTime:Zn(i.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.overlays=new tt(ie.comparator),this.Ir=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wi();return H.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=Wi(),s=n.length+1,o=new ie(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new tt((c,f)=>c-f);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=s.get(c.largestBatchId);f===null&&(f=Wi(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const l=Wi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>l.set(c,f)),!(l.size()>=i)););return H.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new dC(n,r));let s=this.Ir.get(n);s===void 0&&(s=xe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(){this.Tr=new At(_t.Er),this.dr=new At(_t.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new _t(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new _t(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ie(new qe([])),r=new _t(n,e),i=new _t(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ie(new qe([])),r=new _t(n,e),i=new _t(n,e+1);let s=xe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new _t(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _t{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ie.comparator(e.key,n.key)||Ae(e.wr,n.wr)}static Ar(e,n){return Ae(e.wr,n.wr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new At(_t.Er)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new cC(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.br=this.br.add(new _t(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _t(n,0),i=new _t(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const l=this.Dr(o.wr);s.push(l)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new At(Ae);return n.forEach(i=>{const s=new _t(i,0),o=new _t(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],l=>{r=r.add(l.wr)})}),H.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ie.isDocumentKey(s)||(s=s.child(""));const o=new _t(new ie(s),0);let l=new At(Ae);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.wr)),!0)},o),H.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){De(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return H.forEach(n.mutations,i=>{const s=new _t(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new _t(n,0),i=this.br.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e){this.Mr=e,this.docs=function(){return new tt(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():Ut.newInvalidDocument(n))}getEntries(e,n){let r=Ar();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ut.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ar();const o=n.path,l=new ie(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||k4(b4(f),r)<=0||(i.has(f.key)||od(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return H.resolve(s)}getAllFromCollectionGroup(e,n,r,i){le()}Or(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new WC(this)}getSize(e){return H.resolve(this.size)}}class WC extends OC{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.persistence=e,this.Nr=new Co(n=>rm(n),im),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Lr=0,this.Br=new um,this.targetCount=0,this.kr=yo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),H.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new yo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Kn(n),H.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),H.waitFor(s).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Zp(0),this.Kr=!1,this.Kr=!0,this.$r=new $C,this.referenceDelegate=e(this),this.Ur=new GC(this),this.indexManager=new MC,this.remoteDocumentCache=function(i){return new qC(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new LC(n),this.Gr=new zC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new HC(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const i=new QC(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return H.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class QC extends A4{constructor(e){super(),this.currentSequenceNumber=e}}class cm{constructor(e){this.persistence=e,this.Jr=new um,this.Yr=null}static Zr(e){return new cm(e)}get Xr(){if(this.Yr)return this.Yr;throw le()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),H.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Xr,r=>{const i=ie.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ue.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return H.or([()=>H.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=xe(),i=xe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new dm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Zb()?8:R4(Ht())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new YC;return this.Xi(e,n,o).next(l=>{if(s.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ca()<=Ee.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Cs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),H.resolve()):(ca()<=Ee.DEBUG&&te("QueryEngine","Query:",Cs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ca()<=Ee.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Cs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xn(n))):H.resolve())}Yi(e,n){if(Ay(n))return H.resolve(null);let r=Xn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Nf(n,null,"F"),r=Xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=xe(...s);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,l);return this.ns(n,c,o,u.readTime)?this.Yi(e,Nf(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return Ay(n)||i.isEqual(ue.min())?H.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?H.resolve(null):(ca()<=Ee.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Cs(n)),this.rs(e,o,n,S4(i,-1)).next(l=>l))})}ts(e,n){let r=new At(nx(e));return n.forEach((i,s)=>{od(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return ca()<=Ee.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Cs(n)),this.Ji.getDocumentsMatchingQuery(e,n,xi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new tt(Ae),this._s=new Co(s=>rm(s),im),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UC(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function ZC(t,e,n,r){return new JC(t,e,n,r)}async function Ix(t,e){const n=ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=xe();for(const c of i){o.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of s){l.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:l}))})})}function eA(t,e){const n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,f){const m=c.batch,g=m.keys();let w=H.resolve();return g.forEach(k=>{w=w.next(()=>f.getEntry(u,k)).next(C=>{const L=c.docVersions.get(k);De(L!==null),C.version.compareTo(L)<0&&(m.applyToRemoteDocument(C,c),C.isValidDocument()&&(C.setReadTime(c.commitVersion),f.addEntry(C)))})}),w.next(()=>l.mutationQueue.removeMutationBatch(u,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=xe();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Sx(t){const e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function tA(t,e){const n=ce(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((f,m)=>{const g=i.get(m);if(!g)return;l.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,m)));let w=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?w=w.withResumeToken(Pt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):f.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(f.resumeToken,r)),i=i.insert(m,w),function(C,L,E){return C.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(g,w,f)&&l.push(n.Ur.updateTargetData(s,w))});let u=Ar(),c=xe();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(nA(s,o,e.documentUpdates).next(f=>{u=f.Ps,c=f.Is})),!r.isEqual(ue.min())){const f=n.Ur.getLastRemoteSnapshotVersion(s).next(m=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(f)}return H.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.os=i,s))}function nA(t,e,n){let r=xe(),i=xe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ar();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(ue.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):te("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function rA(t,e){const n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function iA(t,e){const n=ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,H.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new ii(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Vf(t,e,n){const r=ce(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Tl(o))throw o;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Uy(t,e,n){const r=ce(t);let i=ue.min(),s=xe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,f){const m=ce(u),g=m._s.get(f);return g!==void 0?H.resolve(m.os.get(g)):m.Ur.getTargetData(c,f)}(r,o,Xn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ue.min(),n?s:xe())).next(l=>(sA(r,K4(e),l),{documents:l,Ts:s})))}function sA(t,e,n){let r=t.us.get(e)||ue.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class zy{constructor(){this.activeTargetIds=eC()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oA{constructor(){this.so=new zy,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new zy,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yu=null;function gh(){return yu===null?yu=function(){return 268435456+Math.round(2147483648*Math.random())}():yu++,"0x"+yu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class cA extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const l=gh(),u=this.xo(n,r.toUriEncodedString());te("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,u,c,i).then(f=>(te("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw fo("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,o,l){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=lA[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=gh();return new Promise((o,l)=>{const u=new Ow;u.setWithCredentials(!0),u.listenOnce(Fw.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Lu.NO_ERROR:const f=u.getResponseJson();te(Mt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Lu.TIMEOUT:te(Mt,`RPC '${e}' ${s} timed out`),l(new Q(z.DEADLINE_EXCEEDED,"Request time out"));break;case Lu.HTTP_ERROR:const m=u.getStatus();if(te(Mt,`RPC '${e}' ${s} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const w=g==null?void 0:g.error;if(w&&w.status&&w.message){const k=function(L){const E=L.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(E)>=0?E:z.UNKNOWN}(w.status);l(new Q(k,w.message))}else l(new Q(z.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Q(z.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{te(Mt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);te(Mt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=gh(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Bw(),l=zw(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=s.join("");te(Mt,`Creating RPC '${e}' stream ${i}: ${f}`,u);const m=o.createWebChannel(f,u);let g=!1,w=!1;const k=new uA({Io:L=>{w?te(Mt,`Not sending because RPC '${e}' stream ${i} is closed:`,L):(g||(te(Mt,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),te(Mt,`RPC '${e}' stream ${i} sending:`,L),m.send(L))},To:()=>m.close()}),C=(L,E,y)=>{L.listen(E,S=>{try{y(S)}catch(M){setTimeout(()=>{throw M},0)}})};return C(m,Ea.EventType.OPEN,()=>{w||(te(Mt,`RPC '${e}' stream ${i} transport opened.`),k.yo())}),C(m,Ea.EventType.CLOSE,()=>{w||(w=!0,te(Mt,`RPC '${e}' stream ${i} transport closed`),k.So())}),C(m,Ea.EventType.ERROR,L=>{w||(w=!0,fo(Mt,`RPC '${e}' stream ${i} transport errored:`,L),k.So(new Q(z.UNAVAILABLE,"The operation could not be completed")))}),C(m,Ea.EventType.MESSAGE,L=>{var E;if(!w){const y=L.data[0];De(!!y);const S=y,M=S.error||((E=S[0])===null||E===void 0?void 0:E.error);if(M){te(Mt,`RPC '${e}' stream ${i} received error:`,M);const U=M.status;let P=function(x){const T=dt[x];if(T!==void 0)return px(T)}(U),I=M.message;P===void 0&&(P=z.INTERNAL,I="Unknown error status: "+U+" with message "+M.message),w=!0,k.So(new Q(P,I)),m.close()}else te(Mt,`RPC '${e}' stream ${i} received:`,y),k.bo(y)}}),C(l,Uw.STAT_EVENT,L=>{L.stat===bf.PROXY?te(Mt,`RPC '${e}' stream ${i} detected buffering proxy`):L.stat===bf.NOPROXY&&te(Mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.wo()},0),k}}function vh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(t){return new wC(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,n,r,i,s,o,l,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new bx(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Cr(n.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Q(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dA extends kx{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=TC(this.serializer,e),r=function(s){if(!("targetChange"in s))return ue.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?Zn(o.readTime):ue.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Mf(this.serializer),n.addTarget=function(s,o){let l;const u=o.target;if(l=Rf(u)?{documents:bC(s,u)}:{query:kC(s,u)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=vx(s,o.resumeToken);const c=Df(s,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(ue.min())>0){l.readTime=Ic(s,o.snapshotVersion.toTimestamp());const c=Df(s,o.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=AC(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Mf(this.serializer),n.removeTarget=e,this.a_(n)}}class hA extends kx{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return De(!!e.streamToken),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=SC(e.writeResults,e.commitTime),r=Zn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Mf(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>IC(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Q(z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Lf(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(z.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,Lf(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(z.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class pA{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Cr(n),this.D_=!1):te("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{gs(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=ce(u);c.L_.add(4),await bl(c),c.q_.set("Unknown"),c.L_.delete(4),await dd(c)}(this))})}),this.q_=new pA(r,i)}}async function dd(t){if(gs(t))for(const e of t.B_)await e(!0)}async function bl(t){for(const e of t.B_)await e(!1)}function Cx(t,e){const n=ce(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),mm(n)?pm(n):Ao(n).r_()&&fm(n,e))}function hm(t,e){const n=ce(t),r=Ao(n);n.N_.delete(e),r.r_()&&Ax(n,e),n.N_.size===0&&(r.r_()?r.o_():gs(n)&&n.q_.set("Unknown"))}function fm(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ao(t).A_(e)}function Ax(t,e){t.Q_.xe(e),Ao(t).R_(e)}function pm(t){t.Q_=new gC({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ao(t).start(),t.q_.v_()}function mm(t){return gs(t)&&!Ao(t).n_()&&t.N_.size>0}function gs(t){return ce(t).L_.size===0}function Rx(t){t.Q_=void 0}async function gA(t){t.q_.set("Online")}async function vA(t){t.N_.forEach((e,n)=>{fm(t,e)})}async function yA(t,e){Rx(t),mm(t)?(t.q_.M_(e),pm(t)):t.q_.set("Unknown")}async function _A(t,e,n){if(t.q_.set("Online"),e instanceof gx&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sc(t,r)}else if(e instanceof Vu?t.Q_.Ke(e):e instanceof mx?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ue.min()))try{const r=await Sx(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.Q_.rt(o);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.N_.get(c);f&&s.N_.set(c,f.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,c)=>{const f=s.N_.get(u);if(!f)return;s.N_.set(u,f.withResumeToken(Pt.EMPTY_BYTE_STRING,f.snapshotVersion)),Ax(s,u);const m=new ii(f.target,u,c,f.sequenceNumber);fm(s,m)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){te("RemoteStore","Failed to raise snapshot:",r),await Sc(t,r)}}async function Sc(t,e,n){if(!Tl(e))throw e;t.L_.add(1),await bl(t),t.q_.set("Offline"),n||(n=()=>Sx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await dd(t)})}function Px(t,e){return e().catch(n=>Sc(t,n,e))}async function hd(t){const e=ce(t),n=Ti(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;wA(e);)try{const i=await rA(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,xA(e,i)}catch(i){await Sc(e,i)}Nx(e)&&Dx(e)}function wA(t){return gs(t)&&t.O_.length<10}function xA(t,e){t.O_.push(e);const n=Ti(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Nx(t){return gs(t)&&!Ti(t).n_()&&t.O_.length>0}function Dx(t){Ti(t).start()}async function EA(t){Ti(t).p_()}async function TA(t){const e=Ti(t);for(const n of t.O_)e.m_(n.mutations)}async function IA(t,e,n){const r=t.O_.shift(),i=om.from(r,e,n);await Px(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await hd(t)}async function SA(t,e){e&&Ti(t).V_&&await async function(r,i){if(function(o){return fC(o)&&o!==z.ABORTED}(i.code)){const s=r.O_.shift();Ti(r).s_(),await Px(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await hd(r)}}(t,e),Nx(t)&&Dx(t)}async function $y(t,e){const n=ce(t);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const r=gs(n);n.L_.add(3),await bl(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await dd(n)}async function bA(t,e){const n=ce(t);e?(n.L_.delete(2),await dd(n)):e||(n.L_.add(2),await bl(n),n.q_.set("Unknown"))}function Ao(t){return t.K_||(t.K_=function(n,r,i){const s=ce(n);return s.w_(),new dA(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:gA.bind(null,t),Ro:vA.bind(null,t),mo:yA.bind(null,t),d_:_A.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),mm(t)?pm(t):t.q_.set("Unknown")):(await t.K_.stop(),Rx(t))})),t.K_}function Ti(t){return t.U_||(t.U_=function(n,r,i){const s=ce(n);return s.w_(),new hA(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:EA.bind(null,t),mo:SA.bind(null,t),f_:TA.bind(null,t),g_:IA.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await hd(t)):(await t.U_.stop(),t.O_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new gm(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vm(t,e){if(Cr("AsyncQueue",`${e}: ${t}`),Tl(t))return new Q(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=Ta(),this.sortedSet=new tt(this.comparator)}static emptySet(e){return new Ys(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ys)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ys;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(){this.W_=new tt(ie.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):le():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class _o{constructor(e,n,r,i,s,o,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new _o(e,n,Ys.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class CA{constructor(){this.queries=qy(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ce(n),s=i.queries;i.queries=qy(),s.forEach((o,l)=>{for(const u of l.j_)u.onError(r)})})(this,new Q(z.ABORTED,"Firestore shutting down"))}}function qy(){return new Co(t=>tx(t),sd)}async function ym(t,e){const n=ce(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new kA,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=vm(o,`Initialization of query '${Cs(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&wm(n)}async function _m(t,e){const n=ce(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function AA(t,e){const n=ce(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.j_)l.X_(i)&&(r=!0);o.z_=i}}r&&wm(n)}function RA(t,e,n){const r=ce(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function wm(t){t.Y_.forEach(e=>{e.next()})}var Of,Wy;(Wy=Of||(Of={})).ea="default",Wy.Cache="cache";class xm{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new _o(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Of.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.key=e}}class jx{constructor(e){this.key=e}}class PA{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=xe(),this.mutatedKeys=xe(),this.Aa=nx(e),this.Ra=new Ys(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Hy,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,m)=>{const g=i.get(f),w=od(this.query,m)?m:null,k=!!g&&this.mutatedKeys.has(g.key),C=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let L=!1;g&&w?g.data.isEqual(w.data)?k!==C&&(r.track({type:3,doc:w}),L=!0):this.ga(g,w)||(r.track({type:2,doc:w}),L=!0,(u&&this.Aa(w,u)>0||c&&this.Aa(w,c)<0)&&(l=!0)):!g&&w?(r.track({type:0,doc:w}),L=!0):g&&!w&&(r.track({type:1,doc:g}),L=!0,(u||c)&&(l=!0)),L&&(w?(o=o.add(w),s=C?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:l,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((f,m)=>function(w,k){const C=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return C(w)-C(k)}(f.type,m.type)||this.Aa(f.doc,m.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,o.length!==0||c?{snapshot:new _o(this.query,e.Ra,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Hy,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=xe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new jx(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Lx(r))}),n}ba(e){this.Ta=e.Ts,this.da=xe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return _o.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class NA{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class DA{constructor(e){this.key=e,this.va=!1}}class LA{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Co(l=>tx(l),sd),this.Ma=new Map,this.xa=new Set,this.Oa=new tt(ie.comparator),this.Na=new Map,this.La=new um,this.Ba={},this.ka=new Map,this.qa=yo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function jA(t,e,n=!0){const r=zx(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Mx(r,e,n,!0),i}async function MA(t,e){const n=zx(t);await Mx(n,e,!0,!1)}async function Mx(t,e,n,r){const i=await iA(t.localStore,Xn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await VA(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Cx(t.remoteStore,i),l}async function VA(t,e,n,r,i){t.Ka=(m,g,w)=>async function(C,L,E,y){let S=L.view.ma(E);S.ns&&(S=await Uy(C.localStore,L.query,!1).then(({documents:I})=>L.view.ma(I,S)));const M=y&&y.targetChanges.get(L.targetId),U=y&&y.targetMismatches.get(L.targetId)!=null,P=L.view.applyChanges(S,C.isPrimaryClient,M,U);return Ky(C,L.targetId,P.wa),P.snapshot}(t,m,g,w);const s=await Uy(t.localStore,e,!0),o=new PA(e,s.Ts),l=o.ma(s.documents),u=Sl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(l,t.isPrimaryClient,u);Ky(t,n,c.wa);const f=new NA(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function OA(t,e,n){const r=ce(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!sd(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Vf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&hm(r.remoteStore,i.targetId),Ff(r,i.targetId)}).catch(El)):(Ff(r,i.targetId),await Vf(r.localStore,i.targetId,!0))}async function FA(t,e){const n=ce(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hm(n.remoteStore,r.targetId))}async function UA(t,e,n){const r=GA(t);try{const i=await function(o,l){const u=ce(o),c=ve.now(),f=l.reduce((w,k)=>w.add(k.key),xe());let m,g;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let k=Ar(),C=xe();return u.cs.getEntries(w,f).next(L=>{k=L,k.forEach((E,y)=>{y.isValidDocument()||(C=C.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,k)).next(L=>{m=L;const E=[];for(const y of l){const S=lC(y,m.get(y.key).overlayedDocument);S!=null&&E.push(new Ai(y.key,S,Gw(S.value.mapValue),Jn.exists(!0)))}return u.mutationQueue.addMutationBatch(w,c,E,l)}).next(L=>{g=L;const E=L.applyToLocalDocumentSet(m,C);return u.documentOverlayCache.saveOverlays(w,L.batchId,E)})}).then(()=>({batchId:g.batchId,changes:ix(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let c=o.Ba[o.currentUser.toKey()];c||(c=new tt(Ae)),c=c.insert(l,u),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await kl(r,i.changes),await hd(r.remoteStore)}catch(i){const s=vm(i,"Failed to persist write");n.reject(s)}}async function Vx(t,e){const n=ce(t);try{const r=await tA(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?De(o.va):i.removedDocuments.size>0&&(De(o.va),o.va=!1))}),await kl(n,r,e)}catch(r){await El(r)}}function Gy(t,e,n){const r=ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const l=o.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=ce(o);u.onlineState=l;let c=!1;u.queries.forEach((f,m)=>{for(const g of m.j_)g.Z_(l)&&(c=!0)}),c&&wm(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function zA(t,e,n){const r=ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new tt(ie.comparator);o=o.insert(s,Ut.newNoDocument(s,ue.min()));const l=xe().add(s),u=new ud(ue.min(),new Map,new tt(Ae),o,l);await Vx(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),Em(r)}else await Vf(r.localStore,e,!1).then(()=>Ff(r,e,n)).catch(El)}async function BA(t,e){const n=ce(t),r=e.batch.batchId;try{const i=await eA(n.localStore,e);Fx(n,r,null),Ox(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await kl(n,i)}catch(i){await El(i)}}async function $A(t,e,n){const r=ce(t);try{const i=await function(o,l){const u=ce(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,l).next(m=>(De(m!==null),f=m.keys(),u.mutationQueue.removeMutationBatch(c,m))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(r.localStore,e);Fx(r,e,n),Ox(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await kl(r,i)}catch(i){await El(i)}}function Ox(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Fx(t,e,n){const r=ce(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Ff(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Ux(t,r)})}function Ux(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(hm(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Em(t))}function Ky(t,e,n){for(const r of n)r instanceof Lx?(t.La.addReference(r.key,e),HA(t,r)):r instanceof jx?(te("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Ux(t,r.key)):le()}function HA(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(te("SyncEngine","New document in limbo: "+n),t.xa.add(r),Em(t))}function Em(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ie(qe.fromString(e)),r=t.qa.next();t.Na.set(r,new DA(n)),t.Oa=t.Oa.insert(n,r),Cx(t.remoteStore,new ii(Xn(id(n.path)),r,"TargetPurposeLimboResolution",Zp.oe))}}async function kl(t,e,n){const r=ce(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{o.push(r.Ka(u,e,n).then(c=>{var f;if((c||n)&&r.isPrimaryClient){const m=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(c){i.push(c);const m=dm.Wi(u.targetId,c);s.push(m)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(u,c){const f=ce(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>H.forEach(c,g=>H.forEach(g.$i,w=>f.persistence.referenceDelegate.addReference(m,g.targetId,w)).next(()=>H.forEach(g.Ui,w=>f.persistence.referenceDelegate.removeReference(m,g.targetId,w)))))}catch(m){if(!Tl(m))throw m;te("LocalStore","Failed to update sequence numbers: "+m)}for(const m of c){const g=m.targetId;if(!m.fromCache){const w=f.os.get(g),k=w.snapshotVersion,C=w.withLastLimboFreeSnapshotVersion(k);f.os=f.os.insert(g,C)}}}(r.localStore,s))}async function qA(t,e){const n=ce(t);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const r=await Ix(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(l=>{l.forEach(u=>{u.reject(new Q(z.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await kl(n,r.hs)}}function WA(t,e){const n=ce(t),r=n.Na.get(e);if(r&&r.va)return xe().add(r.key);{let i=xe();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const l=n.Fa.get(o);i=i.unionWith(l.view.Va)}return i}}function zx(t){const e=ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zA.bind(null,e),e.Ca.d_=AA.bind(null,e.eventManager),e.Ca.$a=RA.bind(null,e.eventManager),e}function GA(t){const e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$A.bind(null,e),e}class bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return ZC(this.persistence,new XC,e.initialUser,this.serializer)}Ga(e){return new KC(cm.Zr,this.serializer)}Wa(e){return new oA}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bc.provider={build:()=>new bc};class Uf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Gy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qA.bind(null,this.syncEngine),await bA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new CA}()}createDatastore(e){const n=cd(e.databaseInfo.databaseId),r=function(s){return new cA(s)}(e.databaseInfo);return function(s,o,l,u){return new fA(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new mA(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Gy(this.syncEngine,n,0),function(){return By.D()?new By:new aA}())}createSyncEngine(e,n){return function(i,s,o,l,u,c,f){const m=new LA(i,s,o,l,u,c);return f&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ce(i);te("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await bl(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Uf.provider={build:()=>new Uf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ot.UNAUTHENTICATED,this.clientId=Hw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{te("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(te("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=vm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function yh(t,e){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Ix(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Qy(t,e){t.asyncQueue.verifyOperationInProgress();const n=await QA(t);te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>$y(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>$y(e.remoteStore,i)),t._onlineComponents=e}async function QA(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await yh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await yh(t,new bc)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await yh(t,new bc);return t._offlineComponents}async function Bx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await Qy(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await Qy(t,new Uf))),t._onlineComponents}function YA(t){return Bx(t).then(e=>e.syncEngine)}async function kc(t){const e=await Bx(t),n=e.eventManager;return n.onListen=jA.bind(null,e.syncEngine),n.onUnlisten=OA.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MA.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FA.bind(null,e.syncEngine),n}function XA(t,e,n={}){const r=new Er;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,c){const f=new Tm({next:g=>{f.Za(),o.enqueueAndForget(()=>_m(s,m));const w=g.docs.has(l);!w&&g.fromCache?c.reject(new Q(z.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&g.fromCache&&u&&u.source==="server"?c.reject(new Q(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),m=new xm(id(l.path),f,{includeMetadataChanges:!0,_a:!0});return ym(s,m)}(await kc(t),t.asyncQueue,e,n,r)),r.promise}function JA(t,e,n={}){const r=new Er;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,c){const f=new Tm({next:g=>{f.Za(),o.enqueueAndForget(()=>_m(s,m)),g.fromCache&&u.source==="server"?c.reject(new Q(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),m=new xm(l,f,{includeMetadataChanges:!0,_a:!0});return ym(s,m)}(await kc(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(t,e,n){if(!n)throw new Q(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ZA(t,e,n,r){if(e===!0&&r===!0)throw new Q(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Xy(t){if(!ie.isDocumentKey(t))throw new Q(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Jy(t){if(ie.isDocumentKey(t))throw new Q(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function bn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fd(t);throw new Q(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$x((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Q(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Q(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Q(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zy(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new g4;switch(r.type){case"firstParty":return new w4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Yy.get(n);r&&(te("ComponentProvider","Removing Datastore"),Yy.delete(n),r.terminate())}(this),Promise.resolve()}}function eR(t,e,n,r={}){var i;const s=(t=bn(t,pd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=Ot.MOCK_USER;else{l=Wb(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Q(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ot(c)}t._authCredentials=new v4(new $w(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ri(this.firestore,e,this._query)}}class Bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}}class vi extends Ri{constructor(e,n,r){super(e,n,id(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new ie(e))}withConverter(e){return new vi(this.firestore,e,this._path)}}function Im(t,e,...n){if(t=qt(t),Hx("collection","path",e),t instanceof pd){const r=qe.fromString(e,...n);return Jy(r),new vi(t,null,r)}{if(!(t instanceof Bt||t instanceof vi))throw new Q(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return Jy(r),new vi(t.firestore,null,r)}}function Xs(t,e,...n){if(t=qt(t),arguments.length===1&&(e=Hw.newId()),Hx("doc","path",e),t instanceof pd){const r=qe.fromString(e,...n);return Xy(r),new Bt(t,null,new ie(r))}{if(!(t instanceof Bt||t instanceof vi))throw new Q(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return Xy(r),new Bt(t.firestore,t instanceof vi?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new bx(this,"async_queue_retry"),this.Vu=()=>{const r=vh();r&&te("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=vh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=vh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Er;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Tl(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Cr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=gm.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&le()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function t0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class us extends pd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new e0,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new e0(e),this._firestoreClient=void 0,await e}}}function tR(t,e){const n=typeof t=="object"?t:Lw(),r=typeof t=="string"?t:"(default)",i=Xp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Hb("firestore");s&&eR(i,...s)}return i}function md(t){if(t._terminated)throw new Q(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||nR(t),t._firestoreClient}function nR(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,c,f){return new D4(l,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,$x(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new KA(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wo(Pt.fromBase64String(e))}catch(n){throw new Q(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wo(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=/^__.*__$/;class iR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ai(e,this.data,this.fieldMask,n,this.fieldTransforms):new Il(e,this.data,n,this.fieldTransforms)}}class qx{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ai(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Wx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class yd{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new yd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Cc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Wx(this.Cu)&&rR.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class sR{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cd(e)}Qu(e,n,r,i=!1){return new yd({Cu:e,methodName:n,qu:r,path:kt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function km(t){const e=t._freezeSettings(),n=cd(t._databaseId);return new sR(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oR(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Am("Data must be an object, but it was:",o,r);const l=Gx(r,o);let u,c;if(s.merge)u=new pn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const g=zf(e,m,n);if(!o.contains(g))throw new Q(z.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Qx(f,g)||f.push(g)}u=new pn(f),c=o.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,c=o.fieldTransforms;return new iR(new nn(l),u,c)}class _d extends vd{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _d}}function aR(t,e,n){return new yd({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Cm extends vd{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=aR(this,e,!0),r=this.Ku.map(s=>Ro(s,n)),i=new vo(r);return new iC(e.path,i)}isEqual(e){return e instanceof Cm&&sl(this.Ku,e.Ku)}}function lR(t,e,n,r){const i=t.Qu(1,e,n);Am("Data must be an object, but it was:",i,r);const s=[],o=nn.empty();ms(r,(u,c)=>{const f=Rm(e,u,n);c=qt(c);const m=i.Nu(f);if(c instanceof _d)s.push(f);else{const g=Ro(c,m);g!=null&&(s.push(f),o.set(f,g))}});const l=new pn(s);return new qx(o,l,i.fieldTransforms)}function uR(t,e,n,r,i,s){const o=t.Qu(1,e,n),l=[zf(e,r,n)],u=[i];if(s.length%2!=0)throw new Q(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)l.push(zf(e,s[g])),u.push(s[g+1]);const c=[],f=nn.empty();for(let g=l.length-1;g>=0;--g)if(!Qx(c,l[g])){const w=l[g];let k=u[g];k=qt(k);const C=o.Nu(w);if(k instanceof _d)c.push(w);else{const L=Ro(k,C);L!=null&&(c.push(w),f.set(w,L))}}const m=new pn(c);return new qx(f,m,o.fieldTransforms)}function cR(t,e,n,r=!1){return Ro(n,t.Qu(r?4:3,e))}function Ro(t,e){if(Kx(t=qt(t)))return Am("Unsupported field value:",e,t),Gx(t,e);if(t instanceof vd)return function(r,i){if(!Wx(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=Ro(l,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tC(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ve.fromDate(r);return{timestampValue:Ic(i.serializer,s)}}if(r instanceof ve){const s=new ve(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ic(i.serializer,s)}}if(r instanceof Sm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wo)return{bytesValue:vx(i.serializer,r._byteString)};if(r instanceof Bt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:lm(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof bm)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Bu("VectorValues must only contain numeric values.");return sm(l.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${fd(r)}`)}(t,e)}function Gx(t,e){const n={};return qw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ms(t,(r,i)=>{const s=Ro(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Kx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ve||t instanceof Sm||t instanceof wo||t instanceof Bt||t instanceof vd||t instanceof bm)}function Am(t,e,n){if(!Kx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=fd(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function zf(t,e,n){if((e=qt(e))instanceof gd)return e._internalPath;if(typeof e=="string")return Rm(t,e);throw Cc("Field path arguments must be of type string or ",t,!1,void 0,n)}const dR=new RegExp("[~\\*/\\[\\]]");function Rm(t,e,n){if(e.search(dR)>=0)throw Cc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gd(...e.split("."))._internalPath}catch{throw Cc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Cc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new Q(z.INVALID_ARGUMENT,l+t+u)}function Qx(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Pm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hR extends Yx{data(){return super.data()}}function Pm(t,e){return typeof e=="string"?Rm(t,e):e instanceof gd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Nm{}class Jx extends Nm{}function fR(t,e,...n){let r=[];e instanceof Nm&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof Lm).length,l=s.filter(u=>u instanceof Dm).length;if(o>1||o>0&&l>0)throw new Q(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Dm extends Jx{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Dm(e,n,r)}_apply(e){const n=this._parse(e);return Zx(e._query,n),new Ri(e.firestore,e.converter,Pf(e._query,n))}_parse(e){const n=km(e.firestore);return function(s,o,l,u,c,f,m){let g;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Q(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){r0(m,f);const w=[];for(const k of m)w.push(n0(u,s,k));g={arrayValue:{values:w}}}else g=n0(u,s,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||r0(m,f),g=cR(l,o,m,f==="in"||f==="not-in");return pt.create(c,f,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Lm extends Nm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Lm(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:zn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const u of l)Zx(o,u),o=Pf(o,u)}(e._query,n),new Ri(e.firestore,e.converter,Pf(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jm extends Jx{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new jm(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Q(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Q(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dl(s,o)}(e._query,this._field,this._direction);return new Ri(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ko(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function pR(t,e="asc"){const n=e,r=Pm("orderBy",t);return jm._create(r,n)}function n0(t,e,n){if(typeof(n=qt(n))=="string"){if(n==="")throw new Q(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ex(e)&&n.indexOf("/")!==-1)throw new Q(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(qe.fromString(n));if(!ie.isDocumentKey(r))throw new Q(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ty(t,new ie(r))}if(n instanceof Bt)return Ty(t,n._key);throw new Q(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fd(n)}.`)}function r0(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Zx(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class mR{convertValue(e,n="none"){switch(ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ms(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>st(o.doubleValue));return new bm(s)}convertGeoPoint(e){return new Sm(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=tm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ll(e));default:return null}}convertTimestamp(e){const n=Ei(e);return new ve(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=qe.fromString(e);De(Tx(r));const i=new ul(r.get(1),r.get(3)),s=new ie(r.popFirst(5));return i.isEqual(n)||Cr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class e2 extends Yx{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ou(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Pm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ou extends e2{data(e={}){return super.data(e)}}class t2{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Sa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ou(this._firestore,this._userDataWriter,r.key,r,new Sa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const u=new Ou(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Sa(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Ou(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Sa(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return l.type!==0&&(c=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:vR(l.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function vR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(t){t=bn(t,Bt);const e=bn(t.firestore,us);return XA(md(e),t._key).then(n=>s2(e,t,n))}class Mm extends mR{constructor(e){super(),this.firestore=e}convertBytes(e){return new wo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,n)}}function i0(t){t=bn(t,Ri);const e=bn(t.firestore,us),n=md(e),r=new Mm(e);return Xx(t._query),JA(n,t._query).then(i=>new t2(e,r,t,i))}function n2(t,e,n){t=bn(t,Bt);const r=bn(t.firestore,us),i=gR(t.converter,e);return i2(r,[oR(km(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Jn.none())])}function _R(t,e,n,...r){t=bn(t,Bt);const i=bn(t.firestore,us),s=km(i);let o;return o=typeof(e=qt(e))=="string"||e instanceof gd?uR(s,"updateDoc",t._key,e,n,r):lR(s,"updateDoc",t._key,e),i2(i,[o.toMutation(t._key,Jn.exists(!0))])}function r2(t,...e){var n,r,i;t=qt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||t0(e[o])||(s=e[o],o++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(t0(e[o])){const m=e[o];e[o]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[o+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[o+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let u,c,f;if(t instanceof Bt)c=bn(t.firestore,us),f=id(t._key.path),u={next:m=>{e[o]&&e[o](s2(c,t,m))},error:e[o+1],complete:e[o+2]};else{const m=bn(t,Ri);c=bn(m.firestore,us),f=m._query;const g=new Mm(c);u={next:w=>{e[o]&&e[o](new t2(c,g,m,w))},error:e[o+1],complete:e[o+2]},Xx(t._query)}return function(g,w,k,C){const L=new Tm(C),E=new xm(w,L,k);return g.asyncQueue.enqueueAndForget(async()=>ym(await kc(g),E)),()=>{L.Za(),g.asyncQueue.enqueueAndForget(async()=>_m(await kc(g),E))}}(md(c),f,l,u)}function i2(t,e){return function(r,i){const s=new Er;return r.asyncQueue.enqueueAndForget(async()=>UA(await YA(r),i,s)),s.promise}(md(t),e)}function s2(t,e,n){const r=n.docs.get(e._key),i=new Mm(t);return new e2(t,i,e._key,r,new Sa(n.hasPendingWrites,n.fromCache),e.converter)}function wR(...t){return new Cm("arrayUnion",t)}(function(e,n=!0){(function(i){bo=i})(So),ho(new ss("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new us(new y4(r.getProvider("auth-internal")),new E4(r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Q(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ul(c.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),gi(yy,"4.7.3",e),gi(yy,"4.7.3","esm2017")})();const Et=Kt.createContext({});var xR="firebase",ER="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi(xR,ER,"app");const TR={apiKey:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",authDomain:void 0,projectId:"cob-chatbot",storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0},IR=Dw(TR),Vm=tR(IR),si={name:"Vivienne",slogan:"Tanong mo, sagot ko, dahil at home ka dito!",introduction:"The interactive chatbot for the city of Bacoor, Cavite.",about:"Our capstone project that uses Natural Language Processing (NLP) to deliver smooth experience for the users. The bot is temporarily being hosted by the dummy website we created based on the official website of the Bacoor City Hall. We really hope you have enjoyed using our app! "},SR=Im(Vm,"profile"),bR=({children:t})=>{const[e,n]=D.useState({icon:"",widgetIcon:"",name:si.name,slogan:si.slogan}),[r,i]=D.useState([]),[s,o]=D.useState([]),[l,u]=D.useState(!0),[c,f]=D.useState(!1),m=async()=>{try{console.time("Received bot info in"),r2(Xs(SR,"botProfile"),w=>{var k,C,L,E,y;n({icon:(k=w.data())==null?void 0:k.interactionIconURL,widgetIcon:(C=w.data())==null?void 0:C.widgetIconUrl,name:(L=w.data())==null?void 0:L.botName,slogan:(E=w.data())==null?void 0:E.metadata.slogan,initialGreet:` Hello there! My name is ${(y=w.data())==null?void 0:y.botName}, your friendly chatbot assistant. Welcome to our conversation! Whether you're here for assistance or information I'm here to help. Feel free to ask me anything or simply say hi.`,errorMessage:"Sorry, I can't seem to understand what your saying. Could you please try it again?"})})}catch(w){console.log(w)}finally{console.timeEnd("Received bot info in")}};D.useEffect(()=>{u(navigator.onLine),m()},[]),window.addEventListener("online",()=>{u(!0)}),window.addEventListener("offline",()=>{u(!1)});const g=D.useMemo(()=>({configuration:{configuration:e,setConfiguration:n},conversation:{conversation:r,setConversation:i},faqs:{faqs:s,setFaqs:o},error:{error:c,setError:f},isOnline:{isOnline:l,setOnline:u}}),[e,r,s,c,l]);return d.jsx(Et.Provider,{value:g,children:t})},o2=Kt.createContext({}),kR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890",CR=30;let Gi="";const AR=()=>{for(let t=0;t<CR;t++)Gi+=kR.charAt(Math.round(Math.random()*62));return localStorage.setItem("uid",Gi),Gi},RR=()=>{const t=localStorage.getItem("uid");return t==null||(t==null?void 0:t.length)<=15?(localStorage.removeItem("uid"),Gi=AR()):t&&(Gi=t||Gi),Gi},PR=({children:t})=>{const e=RR(),n=D.useContext(Et),{conversation:r}=n.conversation,i=D.useMemo(()=>({uid:e,conversation:r}),[e,r]);return d.jsx(o2.Provider,{value:i,children:t})};function Om(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function a2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NR=a2,l2=new wl("auth","Firebase",a2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=new Qp("@firebase/auth");function DR(t,...e){Ac.logLevel<=Ee.WARN&&Ac.warn(`Auth (${So}): ${t}`,...e)}function Fu(t,...e){Ac.logLevel<=Ee.ERROR&&Ac.error(`Auth (${So}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t,...e){throw Fm(t,...e)}function er(t,...e){return Fm(t,...e)}function u2(t,e,n){const r=Object.assign(Object.assign({},NR()),{[e]:n});return new wl("auth","Firebase",r).create(e,{appName:t.name})}function yi(t){return u2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return l2.create(t,...e)}function ae(t,e,...n){if(!t)throw Fm(e,...n)}function vr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fu(e),new Error(e)}function Pr(t,e){t||vr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function LR(){return s0()==="http:"||s0()==="https:"}function s0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LR()||Yb()||"connection"in navigator)?navigator.onLine:!0}function MR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pr(n>e,"Short delay should be less than long delay!"),this.isMobile=Gb()||Xb()}get(){return jR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(t,e){Pr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=new Cl(3e4,6e4);function wd(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Po(t,e,n,r,i={}){return d2(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=xl(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},s);return Qb()||(c.referrerPolicy="no-referrer"),c2.fetch()(f2(t,t.config.apiHost,n,l),c)})}async function d2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},VR),e);try{const i=new FR(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw _u(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw _u(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw _u(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw _u(t,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw u2(t,f,c);Rr(t,f)}}catch(i){if(i instanceof Dr)throw i;Rr(t,"network-request-failed",{message:String(i)})}}async function h2(t,e,n,r,i={}){const s=await Po(t,e,n,r,i);return"mfaPendingCredential"in s&&Rr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function f2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Um(t.config,i):`${t.config.apiScheme}://${i}`}class FR{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(er(this.auth,"network-request-failed")),OR.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _u(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=er(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR(t,e){return Po(t,"POST","/v1/accounts:delete",e)}async function p2(t,e){return Po(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zR(t,e=!1){const n=qt(t),r=await n.getIdToken(e),i=zm(r);ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Fa(_h(i.auth_time)),issuedAtTime:Fa(_h(i.iat)),expirationTime:Fa(_h(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function _h(t){return Number(t)*1e3}function zm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Fu("JWT malformed, contained fewer than 3 sections"),null;try{const i=kw(n);return i?JSON.parse(i):(Fu("Failed to decode base64 JWT payload"),null)}catch(i){return Fu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function o0(t){const e=zm(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Dr&&BR(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function BR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fa(this.lastLoginAt),this.creationTime=Fa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await fl(t,p2(n,{idToken:r}));ae(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?m2(s.providerUserInfo):[],l=qR(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),f=u?c:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new $f(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function HR(t){const e=qt(t);await Rc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qR(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function m2(t){return t.map(e=>{var{providerId:n}=e,r=Om(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(t,e){const n=await d2(t,{},async()=>{const r=xl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=f2(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",c2.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function GR(t,e){return Po(t,"POST","/v2/accounts:revokeToken",wd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):o0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=o0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await WR(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Js;return r&&(ae(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ae(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ae(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Js,this.toJSON())}_performRefresh(){return vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class yr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Om(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $R(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new $f(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await fl(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zR(this,e)}reload(){return HR(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Rc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gr(this.auth.app))return Promise.reject(yi(this.auth));const e=await this.getIdToken();return await fl(this,UR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,u,c,f;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,k=(o=n.photoURL)!==null&&o!==void 0?o:void 0,C=(l=n.tenantId)!==null&&l!==void 0?l:void 0,L=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,E=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:S,emailVerified:M,isAnonymous:U,providerData:P,stsTokenManager:I}=n;ae(S&&I,e,"internal-error");const v=Js.fromJSON(this.name,I);ae(typeof S=="string",e,"internal-error"),Br(m,e.name),Br(g,e.name),ae(typeof M=="boolean",e,"internal-error"),ae(typeof U=="boolean",e,"internal-error"),Br(w,e.name),Br(k,e.name),Br(C,e.name),Br(L,e.name),Br(E,e.name),Br(y,e.name);const x=new yr({uid:S,auth:e,email:g,emailVerified:M,displayName:m,isAnonymous:U,photoURL:k,phoneNumber:w,tenantId:C,stsTokenManager:v,createdAt:E,lastLoginAt:y});return P&&Array.isArray(P)&&(x.providerData=P.map(T=>Object.assign({},T))),L&&(x._redirectEventId=L),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new Js;i.updateFromServerResponse(n);const s=new yr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Rc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ae(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?m2(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new Js;l.updateFromIdToken(r);const u=new yr({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new $f(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0=new Map;function _r(t){Pr(t instanceof Function,"Expected a class definition");let e=a0.get(t);return e?(Pr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,a0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}g2.type="NONE";const l0=g2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(t,e,n){return`firebase:${t}:${e}:${n}`}class Zs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Uu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Uu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?yr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Zs(_r(l0),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||_r(l0);const o=Uu(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const f=await c._get(o);if(f){const m=yr._fromJSON(e,f);c!==s&&(l=m),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Zs(s,e,r):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Zs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(w2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(v2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(E2(e))return"Blackberry";if(T2(e))return"Webos";if(y2(e))return"Safari";if((e.includes("chrome/")||_2(e))&&!e.includes("edge/"))return"Chrome";if(x2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function v2(t=Ht()){return/firefox\//i.test(t)}function y2(t=Ht()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _2(t=Ht()){return/crios\//i.test(t)}function w2(t=Ht()){return/iemobile/i.test(t)}function x2(t=Ht()){return/android/i.test(t)}function E2(t=Ht()){return/blackberry/i.test(t)}function T2(t=Ht()){return/webos/i.test(t)}function Bm(t=Ht()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function KR(t=Ht()){var e;return Bm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QR(){return Jb()&&document.documentMode===10}function I2(t=Ht()){return Bm(t)||x2(t)||T2(t)||E2(t)||/windows phone/i.test(t)||w2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(t,e=[]){let n;switch(t){case"Browser":n=u0(Ht());break;case"Worker":n=`${u0(Ht())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${So}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(t,e={}){return Po(t,"GET","/v2/passwordPolicy",wd(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=6;class ZR{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:JR,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c0(this),this.idTokenSubscription=new c0(this),this.beforeStateQueue=new YR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_r(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Zs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await p2(this,{idToken:e}),r=await yr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(gr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gr(this.app))return Promise.reject(yi(this));const n=e?qt(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gr(this.app)?Promise.reject(yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gr(this.app)?Promise.reject(yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XR(this),n=new ZR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await GR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_r(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await Zs.create(this,[_r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=S2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&DR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function xd(t){return qt(t)}class c0{constructor(e){this.auth=e,this.observer=null,this.addObserver=ok(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $m={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function t3(t){$m=t}function n3(t){return $m.loadJS(t)}function r3(){return $m.gapiScript}function i3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(t,e){const n=Xp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(sl(s,e??{}))return i;Rr(i,"already-initialized")}return n.initialize({options:e})}function o3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_r);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function a3(t,e,n){const r=xd(t);ae(r._canInitEmulator,r,"emulator-config-failed"),ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=b2(e),{host:o,port:l}=l3(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),u3()}function b2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function l3(t){const e=b2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:d0(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:d0(o)}}}function d0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function u3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vr("not implemented")}_getIdTokenResponse(e){return vr("not implemented")}_linkToIdToken(e,n){return vr("not implemented")}_getReauthenticationResolver(e){return vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(t,e){return h2(t,"POST","/v1/accounts:signInWithIdp",wd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3="http://localhost";class cs extends k2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new cs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Rr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Om(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new cs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return eo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,eo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,eo(e,n)}buildRequest(){const e={requestUri:c3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al extends C2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Al{constructor(){super("facebook.com")}static credential(e){return cs._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Al{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return cs._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Jr.credential(n,r)}catch{return null}}}Jr.GOOGLE_SIGN_IN_METHOD="google.com";Jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Al{constructor(){super("github.com")}static credential(e){return cs._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.GITHUB_SIGN_IN_METHOD="github.com";Zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends Al{constructor(){super("twitter.com")}static credential(e,n){return cs._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ei.credential(n,r)}catch{return null}}}ei.TWITTER_SIGN_IN_METHOD="twitter.com";ei.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d3(t,e){return h2(t,"POST","/v1/accounts:signUp",wd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await yr._fromIdTokenResponse(e,r,i),o=h0(r);return new Ii({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=h0(r);return new Ii({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function h0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h3(t){var e;if(gr(t.app))return Promise.reject(yi(t));const n=xd(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ii({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await d3(n,{returnSecureToken:!0}),i=await Ii._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends Dr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Pc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Pc(e,n,r,i)}}function A2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Pc._fromErrorAndOperation(t,s,e,r):s})}async function f3(t,e,n=!1){const r=await fl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ii._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p3(t,e,n=!1){const{auth:r}=t;if(gr(r.app))return Promise.reject(yi(r));const i="reauthenticate";try{const s=await fl(t,A2(r,i,e,t),n);ae(s.idToken,r,"internal-error");const o=zm(s.idToken);ae(o,r,"internal-error");const{sub:l}=o;return ae(t.uid===l,r,"user-mismatch"),Ii._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Rr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3(t,e,n=!1){if(gr(t.app))return Promise.reject(yi(t));const r="signIn",i=await A2(t,r,e),s=await Ii._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function g3(t,e,n,r){return qt(t).onIdTokenChanged(e,n,r)}function v3(t,e,n){return qt(t).beforeAuthStateChanged(e,n)}const Nc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nc,"1"),this.storage.removeItem(Nc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=1e3,_3=10;class P2 extends R2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=I2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);QR()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},y3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}P2.type="LOCAL";const w3=P2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2 extends R2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}N2.type="SESSION";const D2=N2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ed(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async c=>c(n.origin,s)),u=await x3(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ed.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const c=Hm("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(){return window}function T3(t){tr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(){return typeof tr().WorkerGlobalScope<"u"&&typeof tr().importScripts=="function"}async function I3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function S3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function b3(){return L2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="firebaseLocalStorageDb",k3=1,Dc="firebaseLocalStorage",M2="fbase_key";class Rl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Td(t,e){return t.transaction([Dc],e?"readwrite":"readonly").objectStore(Dc)}function C3(){const t=indexedDB.deleteDatabase(j2);return new Rl(t).toPromise()}function Hf(){const t=indexedDB.open(j2,k3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Dc,{keyPath:M2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Dc)?e(r):(r.close(),await C3(),e(await Hf()))})})}async function f0(t,e,n){const r=Td(t,!0).put({[M2]:e,value:n});return new Rl(r).toPromise()}async function A3(t,e){const n=Td(t,!1).get(e),r=await new Rl(n).toPromise();return r===void 0?null:r.value}function p0(t,e){const n=Td(t,!0).delete(e);return new Rl(n).toPromise()}const R3=800,P3=3;class V2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>P3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return L2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ed._getInstance(b3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await I3(),!this.activeServiceWorker)return;this.sender=new E3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||S3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hf();return await f0(e,Nc,"1"),await p0(e,Nc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>f0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>A3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>p0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Td(i,!1).getAll();return new Rl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),R3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}V2.type="LOCAL";const N3=V2;new Cl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(t,e){return e?_r(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm extends k2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function L3(t){return m3(t.auth,new qm(t),t.bypassAuthState)}function j3(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),p3(n,new qm(t),t.bypassAuthState)}async function M3(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),f3(n,new qm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return L3;case"linkViaPopup":case"linkViaRedirect":return M3;case"reauthViaPopup":case"reauthViaRedirect":return j3;default:Rr(this.auth,"internal-error")}}resolve(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3=new Cl(2e3,1e4);class $s extends O2{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,$s.currentPopupAction&&$s.currentPopupAction.cancel(),$s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){Pr(this.filter.length===1,"Popup operations only handle one event");const e=Hm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$s.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,V3.get())};e()}}$s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3="pendingRedirect",zu=new Map;class F3 extends O2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zu.get(this.auth._key());if(!e){try{const r=await U3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zu.set(this.auth._key(),e)}return this.bypassAuthState||zu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function U3(t,e){const n=$3(e),r=B3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function z3(t,e){zu.set(t._key(),e)}function B3(t){return _r(t._redirectPersistence)}function $3(t){return Uu(O3,t.config.apiKey,t.name)}async function H3(t,e,n=!1){if(gr(t.app))return Promise.reject(yi(t));const r=xd(t),i=D3(r,e),o=await new F3(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=10*60*1e3;class W3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!G3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!F2(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(er(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=q3&&this.cachedEventUids.clear(),this.cachedEventUids.has(m0(e))}saveEventToCache(e){this.cachedEventUids.add(m0(e)),this.lastProcessedEventTime=Date.now()}}function m0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function F2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function G3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return F2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K3(t,e={}){return Po(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Y3=/^https?/;async function X3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await K3(t);for(const n of e)try{if(J3(n))return}catch{}Rr(t,"unauthorized-domain")}function J3(t){const e=Bf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Y3.test(n))return!1;if(Q3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=new Cl(3e4,6e4);function g0(){const t=tr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function eP(t){return new Promise((e,n)=>{var r,i,s;function o(){g0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{g0(),n(er(t,"network-request-failed"))},timeout:Z3.get()})}if(!((i=(r=tr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=tr().gapi)===null||s===void 0)&&s.load)o();else{const l=i3("iframefcb");return tr()[l]=()=>{gapi.load?o():n(er(t,"network-request-failed"))},n3(`${r3()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Bu=null,e})}let Bu=null;function tP(t){return Bu=Bu||eP(t),Bu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=new Cl(5e3,15e3),rP="__/auth/iframe",iP="emulator/auth/iframe",sP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aP(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Um(e,iP):`https://${t.config.authDomain}/${rP}`,r={apiKey:e.apiKey,appName:t.name,v:So},i=oP.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${xl(r).slice(1)}`}async function lP(t){const e=await tP(t),n=tr().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:aP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sP,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=er(t,"network-request-failed"),l=tr().setTimeout(()=>{s(o)},nP.get());function u(){tr().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cP=500,dP=600,hP="_blank",fP="http://localhost";class v0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pP(t,e,n,r=cP,i=dP){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},uP),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Ht().toLowerCase();n&&(l=_2(c)?hP:n),v2(c)&&(e=e||fP,u.scrollbars="yes");const f=Object.entries(u).reduce((g,[w,k])=>`${g}${w}=${k},`,"");if(KR(c)&&l!=="_self")return mP(e||"",l),new v0(null);const m=window.open(e||"",l,f);ae(m,t,"popup-blocked");try{m.focus()}catch{}return new v0(m)}function mP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP="__/auth/handler",vP="emulator/auth/handler",yP=encodeURIComponent("fac");async function y0(t,e,n,r,i,s){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:So,eventId:i};if(e instanceof C2){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",sk(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))o[f]=m}if(e instanceof Al){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),c=u?`#${yP}=${encodeURIComponent(u)}`:"";return`${_P(t)}?${xl(l).slice(1)}${c}`}function _P({config:t}){return t.emulator?Um(t,vP):`https://${t.authDomain}/${gP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh="webStorageSupport";class wP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=D2,this._completeRedirectFn=H3,this._overrideRedirectResult=z3}async _openPopup(e,n,r,i){var s;Pr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await y0(e,n,r,Bf(),i);return pP(e,o,Hm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await y0(e,n,r,Bf(),i);return T3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Pr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await lP(e),r=new W3(e);return n.register("authEvent",i=>(ae(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wh,{type:wh},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[wh];o!==void 0&&n(!!o),Rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=X3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return I2()||y2()||Bm()}}const xP=wP;var _0="@firebase/auth",w0="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IP(t){ho(new ss("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ae(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:S2(t)},c=new e3(r,i,s,u);return o3(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ho(new ss("auth-internal",e=>{const n=xd(e.getProvider("auth").getImmediate());return(r=>new EP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gi(_0,w0,TP(t)),gi(_0,w0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=5*60,bP=Rw("authIdTokenMaxAge")||SP;let x0=null;const kP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>bP)return;const i=n==null?void 0:n.token;x0!==i&&(x0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function CP(t=Lw()){const e=Xp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=s3(t,{popupRedirectResolver:xP,persistence:[N3,w3,D2]}),r=Rw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=kP(s.toString());v3(n,o,()=>o(n.currentUser)),g3(n,l=>o(l))}}const i=Cw("auth");return i&&a3(n,`http://${i}`),n}function AP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}t3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=er("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",AP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IP("Browser");const Id=Kt.createContext({}),RP=({children:t})=>{const[e,n]=D.useState(!1);D.useEffect(()=>{const i=CP();h3(i).then(()=>{n(!0)}).catch(s=>{console.error("Error occured: ",s)})},[e]);const r=D.useMemo(()=>({user:{isSignedIn:e,setIsSignedIn:n}}),[e,n]);return d.jsx(Id.Provider,{value:r,children:t})},Wm=Kt.createContext({}),Vt={Light:{name:"light"},Dark:{name:"dark"},System:{name:"system"}},PP=()=>{const t=localStorage.getItem("theme");return t||"system"},NP=({children:t})=>{const[e,n]=D.useState(PP),r=()=>{n(e==="system"?matchMedia("(prefers-color-scheme: light)").matches?"dark":"light":e==="light"?"dark":"light")},i=o=>{switch(o){case Vt.Light.name:n(o);break;case Vt.Dark.name:n(o);break;case Vt.System.name:n(o)}};D.useEffect(()=>{switch(e){case Vt.Light.name:localStorage.setItem("theme",e),document.documentElement.classList.add(Vt.Light.name),document.documentElement.classList.remove(Vt.Dark.name);break;case Vt.Dark.name:localStorage.setItem("theme",e),document.documentElement.classList.add(Vt.Dark.name),document.documentElement.classList.remove(Vt.Light.name);break;case Vt.System.name:matchMedia("(prefers-color-scheme: light)").matches?(localStorage.setItem("theme",Vt.System.name),document.documentElement.classList.add(Vt.Light.name),document.documentElement.classList.remove(Vt.Dark.name)):(localStorage.setItem("theme",Vt.System.name),document.documentElement.classList.add(Vt.Dark.name),document.documentElement.classList.remove(Vt.Light.name));break}},[e]);const s=D.useMemo(()=>({default:{resolvedTheme:e,setTheme:n},toggleTheme:r,changeTheme:i}),[e,n]);return d.jsx(Wm.Provider,{value:s,children:t})},No=Kt.createContext({}),DP=()=>{const t=parseInt(localStorage.getItem("chatHeadSize")||"");return t||200},LP=({children:t})=>{const[e,n]=D.useState(!1),[r,i]=D.useState(DP),s=D.useRef(null),o=u=>{switch(u){case 100:i(u);break;case 200:i(u);break;case 300:i(u);break}};D.useEffect(()=>{localStorage.setItem("chatHeadSize",r.toString())},[r]),D.useEffect(()=>{const u=({target:c})=>{var f;(f=s.current)!=null&&f.contains(c)||n(!1)};return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[s]);const l=D.useMemo(()=>({active:{isChatActive:e,setIsChatActive:n},chatHeadSize:{chatHeadSize:r,setChatHeadSize:i},changeChatHeadSize:o,icon:s}),[e,n,r,i]);return d.jsx(No.Provider,{value:l,children:t})};function U2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=U2(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function jP(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=U2(t))&&(r&&(r+=" "),r+=e);return r}const Gm="-",MP=t=>{const e=OP(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(Gm);return l[0]===""&&l.length!==1&&l.shift(),z2(l,e)||VP(o)},getConflictingClassGroupIds:(o,l)=>{const u=n[o]||[];return l&&r[o]?[...u,...r[o]]:u}}},z2=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?z2(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Gm);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},E0=/^\[(.+)\]$/,VP=t=>{if(E0.test(t)){const e=E0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},OP=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return UP(Object.entries(t.classGroups),n).forEach(([s,o])=>{qf(o,r,s,e)}),r},qf=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:T0(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(FP(i)){qf(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{qf(o,T0(e,s),n,r)})})},T0=(t,e)=>{let n=t;return e.split(Gm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},FP=t=>t.isThemeGetter,UP=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[n,i]}):t,zP=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},B2="!",BP=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=l=>{const u=[];let c=0,f=0,m;for(let L=0;L<l.length;L++){let E=l[L];if(c===0){if(E===i&&(r||l.slice(L,L+s)===e)){u.push(l.slice(f,L)),f=L+s;continue}if(E==="/"){m=L;continue}}E==="["?c++:E==="]"&&c--}const g=u.length===0?l:l.substring(f),w=g.startsWith(B2),k=w?g.substring(1):g,C=m&&m>f?m-f:void 0;return{modifiers:u,hasImportantModifier:w,baseClassName:k,maybePostfixModifierPosition:C}};return n?l=>n({className:l,parseClassName:o}):o},$P=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},HP=t=>({cache:zP(t.cacheSize),parseClassName:BP(t),...MP(t)}),qP=/\s+/,WP=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(qP);let l="";for(let u=o.length-1;u>=0;u-=1){const c=o[u],{modifiers:f,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:w}=n(c);let k=!!w,C=r(k?g.substring(0,w):g);if(!C){if(!k){l=c+(l.length>0?" "+l:l);continue}if(C=r(g),!C){l=c+(l.length>0?" "+l:l);continue}k=!1}const L=$P(f).join(":"),E=m?L+B2:L,y=E+C;if(s.includes(y))continue;s.push(y);const S=i(C,k);for(let M=0;M<S.length;++M){const U=S[M];s.push(E+U)}l=c+(l.length>0?" "+l:l)}return l};function GP(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=$2(e))&&(r&&(r+=" "),r+=n);return r}const $2=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=$2(t[r]))&&(n&&(n+=" "),n+=e);return n};function KP(t,...e){let n,r,i,s=o;function o(u){const c=e.reduce((f,m)=>m(f),t());return n=HP(c),r=n.cache.get,i=n.cache.set,s=l,l(u)}function l(u){const c=r(u);if(c)return c;const f=WP(u,n);return i(u,f),f}return function(){return s(GP.apply(null,arguments))}}const $e=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},H2=/^\[(?:([a-z-]+):)?(.+)\]$/i,QP=/^\d+\/\d+$/,YP=new Set(["px","full","screen"]),XP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,JP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ZP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,e5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,t5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,dr=t=>to(t)||YP.has(t)||QP.test(t),$r=t=>Do(t,"length",u5),to=t=>!!t&&!Number.isNaN(Number(t)),xh=t=>Do(t,"number",to),da=t=>!!t&&Number.isInteger(Number(t)),n5=t=>t.endsWith("%")&&to(t.slice(0,-1)),he=t=>H2.test(t),Hr=t=>XP.test(t),r5=new Set(["length","size","percentage"]),i5=t=>Do(t,r5,q2),s5=t=>Do(t,"position",q2),o5=new Set(["image","url"]),a5=t=>Do(t,o5,d5),l5=t=>Do(t,"",c5),ha=()=>!0,Do=(t,e,n)=>{const r=H2.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},u5=t=>JP.test(t)&&!ZP.test(t),q2=()=>!1,c5=t=>e5.test(t),d5=t=>t5.test(t),h5=()=>{const t=$e("colors"),e=$e("spacing"),n=$e("blur"),r=$e("brightness"),i=$e("borderColor"),s=$e("borderRadius"),o=$e("borderSpacing"),l=$e("borderWidth"),u=$e("contrast"),c=$e("grayscale"),f=$e("hueRotate"),m=$e("invert"),g=$e("gap"),w=$e("gradientColorStops"),k=$e("gradientColorStopPositions"),C=$e("inset"),L=$e("margin"),E=$e("opacity"),y=$e("padding"),S=$e("saturate"),M=$e("scale"),U=$e("sepia"),P=$e("skew"),I=$e("space"),v=$e("translate"),x=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",he,e],N=()=>[he,e],b=()=>["",dr,$r],me=()=>["auto",to,he],lt=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],mt=()=>["solid","dashed","dotted","double","none"],ke=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",he],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[to,he];return{cacheSize:500,separator:":",theme:{colors:[ha],spacing:[dr,$r],blur:["none","",Hr,he],brightness:se(),borderColor:[t],borderRadius:["none","","full",Hr,he],borderSpacing:N(),borderWidth:b(),contrast:se(),grayscale:W(),hueRotate:se(),invert:W(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[n5,$r],inset:A(),margin:A(),opacity:se(),padding:N(),saturate:se(),scale:se(),sepia:W(),skew:se(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[Hr]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...lt(),he]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:x()}],"overscroll-x":[{"overscroll-x":x()}],"overscroll-y":[{"overscroll-y":x()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[C]}],"inset-x":[{"inset-x":[C]}],"inset-y":[{"inset-y":[C]}],start:[{start:[C]}],end:[{end:[C]}],top:[{top:[C]}],right:[{right:[C]}],bottom:[{bottom:[C]}],left:[{left:[C]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",da,he]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",da,he]}],"grid-cols":[{"grid-cols":[ha]}],"col-start-end":[{col:["auto",{span:["full",da,he]},he]}],"col-start":[{"col-start":me()}],"col-end":[{"col-end":me()}],"grid-rows":[{"grid-rows":[ha]}],"row-start-end":[{row:["auto",{span:[da,he]},he]}],"row-start":[{"row-start":me()}],"row-end":[{"row-end":me()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[L]}],mx:[{mx:[L]}],my:[{my:[L]}],ms:[{ms:[L]}],me:[{me:[L]}],mt:[{mt:[L]}],mr:[{mr:[L]}],mb:[{mb:[L]}],ml:[{ml:[L]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",he,e]}],"min-w":[{"min-w":[he,e,"min","max","fit"]}],"max-w":[{"max-w":[he,e,"none","full","min","max","fit","prose",{screen:[Hr]},Hr]}],h:[{h:[he,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[he,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Hr,$r]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xh]}],"font-family":[{font:[ha]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",to,xh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",dr,he]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...mt(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",dr,$r]}],"underline-offset":[{"underline-offset":["auto",dr,he]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...lt(),s5]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",i5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},a5]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...mt(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:mt()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...mt()]}],"outline-offset":[{"outline-offset":[dr,he]}],"outline-w":[{outline:[dr,$r]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:b()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[dr,$r]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Hr,l5]}],"shadow-color":[{shadow:[ha]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...ke(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ke()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Hr,he]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[m]}],saturate:[{saturate:[S]}],sepia:[{sepia:[U]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[U]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[da,he]}],"translate-x":[{"translate-x":[v]}],"translate-y":[{"translate-y":[v]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[dr,$r,xh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},f5=KP(h5);function Km(...t){return f5(jP(t))}function W2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=W2(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function p5(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=W2(t))&&(r&&(r+=" "),r+=e);return r}const I0=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,S0=p5,Qm=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return S0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const f=n==null?void 0:n[c],m=s==null?void 0:s[c];if(f===null)return null;const g=I0(f)||I0(m);return i[c][g]}),l=n&&Object.entries(n).reduce((c,f)=>{let[m,g]=f;return g===void 0||(c[m]=g),c},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,f)=>{let{class:m,className:g,...w}=f;return Object.entries(w).every(k=>{let[C,L]=k;return Array.isArray(L)?L.includes({...s,...l}[C]):{...s,...l}[C]===L})?[...c,m,g]:c},[]);return S0(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)},G2=Qm("w-full h-full select-none",{variants:{variant:{default:"border dark:border-dm-surface-light bg-surface dark:bg-dm-surface",icon:"text-2xl rounded-full p-3 flex justify-center items-center",outline:"px-4 py-3 border border-primary rounded-full capitalize",cta:"px-8 py-4 capitalize rounded-full",destructive:"px-8 py-4 bg-error hover:bg-error/80 rounded-full capitalize",destructiveOutline:"px-4 py-3 border text-error dark:text-error border-error hover:text-white dark:hover:text-white bg-inherit dark:bg-inherit hover:bg-error dark:hover:bg-error rounded-full capitalize",radio:"bg-surface has-[input]:hover:bg-primary [&>label]:hover:text-white has-[input]:dark:hover:bg-primary dark:bg-dm-surface [&>label]:dark:text-white has-[:checked]:bg-primary has-[:checked]:dark:bg-primary has-[:checked]:hover:bg-primary-dark has-[:checked]:text-white shadow-md px-4 py-3 flex justify-center items-center rounded-3xl",settings:"flex rounded-lg text-left font-helvetica-bold hover:bg-gray-300 dark:hover:bg-dm-surface [&>span]:text-black/60 [&>span]:dark:text-white/60 [&>span]:has-[:checked]:text-white [&>span]:has-[:checked]:dark:text-white [&>div>svg>path]:text-black/60 [&>div>svg>path]:dark:text-white/60 [&>div>svg>path]:has-[:checked]:text-white [&>div>svg>path]:has-[:checked]:dark:text-white [&>div>svg>circle]:text-black/60 [&>div>svg>circle]:dark:text-white/60 [&>div>svg>circle]:has-[:checked]:text-white [&>div>svg>circle]:has-[:checked]:dark:text-white has-[:checked]:bg-primary has-[:checked]:hover:bg-primary has-[:checked]:dark:hover:bg-primary capitalize px-3 xs:px-4 py-3 cursor-pointer truncate"},size:{default:"w-max h-max",sm:"max-w-[30px]",md:"max-w-[100px] max-h-[40px]",lg:"max-w-[150px] max-h-[60px]",xl:"max-w-[200px] max-h-[80px]",icon:"max-w-[50px] max-h-[50px]",full:"w-full h-full"}},defaultVariants:{variant:"default",size:"default"}}),at=D.forwardRef(({className:t,size:e,variant:n,...r},i)=>d.jsx("button",{ref:i,className:Km(G2({className:t,variant:n,size:e})),...r}));var K2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},b0=Kt.createContext&&Kt.createContext(K2),m5=["attr","size","title"];function g5(t,e){if(t==null)return{};var n=v5(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function v5(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lc(){return Lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lc.apply(this,arguments)}function k0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k0(Object(n),!0).forEach(function(r){y5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y5(t,e,n){return e=_5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _5(t){var e=w5(t,"string");return typeof e=="symbol"?e:e+""}function w5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q2(t){return t&&t.map((e,n)=>Kt.createElement(e.tag,jc({key:n},e.attr),Q2(e.child)))}function fe(t){return e=>Kt.createElement(x5,Lc({attr:jc({},t.attr)},e),Q2(t.child))}function x5(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=g5(t,m5),l=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),Kt.createElement("svg",Lc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:u,style:jc(jc({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&Kt.createElement("title",null,s),t.children)};return b0!==void 0?Kt.createElement(b0.Consumer,null,n=>e(n)):e(K2)}function Ym(t){return fe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",x2:"20",y1:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"4",x2:"20",y1:"6",y2:"6"},child:[]},{tag:"line",attr:{x1:"4",x2:"20",y1:"18",y2:"18"},child:[]}]})(t)}function E5(t){return fe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"20",height:"14",x:"2",y:"3",rx:"2"},child:[]},{tag:"line",attr:{x1:"8",x2:"16",y1:"21",y2:"21"},child:[]},{tag:"line",attr:{x1:"12",x2:"12",y1:"17",y2:"21"},child:[]}]})(t)}function T5(t){return fe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"},child:[]}]})(t)}function I5(t){return fe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"4"},child:[]},{tag:"path",attr:{d:"M12 2v2"},child:[]},{tag:"path",attr:{d:"M12 20v2"},child:[]},{tag:"path",attr:{d:"m4.93 4.93 1.41 1.41"},child:[]},{tag:"path",attr:{d:"m17.66 17.66 1.41 1.41"},child:[]},{tag:"path",attr:{d:"M2 12h2"},child:[]},{tag:"path",attr:{d:"M20 12h2"},child:[]},{tag:"path",attr:{d:"m6.34 17.66-1.41 1.41"},child:[]},{tag:"path",attr:{d:"m19.07 4.93-1.41 1.41"},child:[]}]})(t)}const S5=()=>{const t=D.useContext(Wm),{resolvedTheme:e}=t.default,n=()=>e==="system"?d.jsx(E5,{}):e==="light"?d.jsx(T5,{}):d.jsx(I5,{});return d.jsxs("header",{className:"fixed top-0 left-[50%] -translate-x-[50%] container w-full h-[70px] px-[4vw] md:px-[2vw] lg:px-[4vw] flex items-center justify-between z-30",children:[d.jsx(is,{to:"/",className:"hidden lg:block text-2xl dark:text-white bg-surface/30 dark:bg-dm-surface/50 rounded-lg p-2 backdrop-blur-sm sm:bg-transparent sm:dark:bg-transparent sm:rounded-none sm:p-0 sm:backdrop-blur-none",children:si.name}),d.jsx(at,{onClick:t.toggleTheme,variant:"icon",size:"icon",className:"bg-surface/30 dark:bg-dm-surface/50 backdrop-blur-sm sm:bg-transparent sm:dark:bg-transparent sm:backdrop-blur-none hover:bg-surface dark:hover:bg-dm-surface [&>svg>path]:dark:text-white [&>svg>circle]:dark:text-white [&>svg>rect]:dark:text-white [&>svg>line]:dark:text-white ml-auto",children:n()})]})},b5="cob-chatbot",k5="3.0.1",C5="module",A5="pnpm@9.9.0",R5={build:"tsc -b && vite build",dev:"vite",lint:"eslint .",preview:"vite preview",prepare:"husky","pre-commit":"lint-staged",pretty:"prettier . --write",release:"release-it","release-patch":"release-it patch","release-minor":"release-it minor","release-major":"release-it major"},P5={"class-variance-authority":"^0.7.0",clsx:"^2.1.1",firebase:"^10.14.1",react:"^18.3.1","react-dom":"^18.3.1","react-icons":"^5.3.0","react-router":"^6.27.0","react-router-dom":"^6.27.0","react-textarea-autosize":"^8.5.4","tailwind-merge":"^2.5.3"},N5={"@commitlint/cli":"^19.5.0","@commitlint/config-conventional":"^19.5.0","@eslint/compat":"^1.2.0","@eslint/eslintrc":"^3.1.0","@eslint/js":"^9.12.0","@release-it/conventional-changelog":"^8.0.2","@types/react":"^18.3.11","@types/react-dom":"^18.3.1","@types/uuid":"^10.0.0","@vitejs/plugin-react-swc":"^3.7.1",autoprefixer:"^10.4.20",eslint:"^9.12.0","eslint-plugin-react":"^7.37.1","eslint-plugin-react-hooks":"^4.6.2","eslint-plugin-react-refresh":"^0.4.12","eslint-transforms":"^3.0.0","firebase-admin":"^12.6.0",globals:"^15.11.0",husky:"^9.1.6","lint-staged":"^15.2.10",postcss:"^8.4.47",prettier:"3.3.3","release-it":"^17.8.2","tailwind-scrollbar":"^3.1.0",tailwindcss:"^3.4.13",turbo:"^2.1.3",typescript:"^5.5.4","typescript-eslint":"^8.8.1",uuid:"^10.0.0",vite:"^5.4.8","vite-plugin-pwa":"^0.20.5"},D5={name:b5,version:k5,private:!0,type:C5,packageManager:A5,scripts:R5,dependencies:P5,devDependencies:N5,"lint-staged":{"*.{ts,js,tsx,json,css,html}":"prettier --write","*.{ts,js}":["prettier --write","eslint"]}},Y2=({className:t,text:e})=>d.jsxs("div",{className:`${t}`,children:[e,D5.version]}),L5="/user/assets/landing-convo-light-9eANPx-E.gif",j5="/user/assets/landing-convo-dark-1yD7KdYH.gif",M5=()=>d.jsxs(d.Fragment,{children:[d.jsx(S5,{}),d.jsxs("main",{className:"container relative w-full lg:h-screen flex flex-col-reverse lg:flex-row items-center justify-center lg:justify-between 2xl:justify-around lg:items-center py-[100px] px-[2vw] lg:px-[4vw] 2xl:px-[6vw] gap-6",children:[d.jsxs("section",{className:"text-center lg:text-left",children:[d.jsxs("div",{className:"max-w-[400px]",children:[d.jsx("h1",{className:"font-helvetica text-6xl md:text-7xl lg:text-8xl bg-gradient-to-tr from-primary from-35% via-tertiary via-70% to-secondary bg-clip-text text-transparent cursor-default select-none",children:si.name}),d.jsx("p",{className:"text-2xl lg:text-3xl 2xl:text-4xl ml-2 dark:text-white max-w-[350px]",children:si.slogan})]}),d.jsx("p",{className:"text-xl text-black/50 dark:text-white/50 ml-2 mt-6 max-w-[350px]",children:si.introduction}),d.jsx(is,{to:"/bacoor-gov",children:d.jsxs(at,{variant:"cta",size:"xl",className:"mt-8 ml-2 bg-primary hover:bg-primary-dark lg:text-lg 2xl:text-xl text-white",children:["ask ",si.name]})})]}),d.jsxs("div",{className:"relative rounded-2xl overflow-hidden select-none",children:[d.jsx("img",{src:L5,alt:"Chatbot",className:"block dark:hidden w-max h-max max-h-max rounded-2xl object-contain"}),d.jsx("img",{src:j5,alt:"Chatbot",className:"hidden dark:block w-max h-max max-h-max rounded-2xl object-contain"})]}),d.jsx(Y2,{text:"v",className:"fixed left-[2%] bottom-[2.5%] text-sm text-black/30 dark:text-white/30"})]})]}),Lo=Kt.createContext({}),V5="font families",O5=[{name:"default",value:"Helvetica, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji"},{name:"cursive",value:"cursive"},{name:"monospace",value:"monospace"},{name:"poppins",value:"Poppins"},{name:"raleway",value:"Raleway"},{name:"montserrat",value:"Montserrat"},{name:"lato",value:"Lato"},{name:"kanit",value:"Kanit"},{name:"playpen sans",value:"Playpen Sans"},{name:"Caveat",value:"Caveat"}],Xm={name:V5,default:"Helvetica, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji",list:O5},F5=()=>{const t=parseInt(localStorage.getItem("fontSize")||"");return t||16},U5=()=>{const t=localStorage.getItem("fontFamily");return t||Xm.default},z5=({children:t})=>{const[e,n]=D.useState(F5),[r,i]=D.useState(U5);D.useEffect(()=>{localStorage.setItem("fontSize",e.toString()),localStorage.setItem("fontFamily",r)},[e,r]);const s=u=>{switch(u){case 8:n(u);break;case 12:n(u);break;case 16:n(u);break;case 24:n(u);break;case 32:n(u);break;case 48:n(u);break}},o=u=>{switch(u){case Xm.default:i(u);break;case"cursive":i(u);break;case"monospace":i(u);break;case"Poppins":i(u);break;case"Raleway":i(u);break;case"Montserrat":i(u);break;case"Lato":i(u);break;case"Kanit":i(u);break;case"Playpen Sans":i(u);break;case"Caveat":i(u);break}},l=D.useMemo(()=>({size:{fontSize:e,setFontSize:n},changeFontSize:s,family:{fontFamily:r,setFontFamily:i},changeFontFamily:o}),[e,n,r,i]);return d.jsx(Lo.Provider,{value:l,children:t})},Jm=Kt.createContext({}),B5=()=>{const t=localStorage.getItem("chatSentSound");return t||"minimalpop"},$5=({children:t})=>{const[e,n]=D.useState(B5);D.useEffect(()=>{localStorage.setItem("chatSentSound",e)},[e]);const r=D.useMemo(()=>({chatSent:{chatSentSound:e,setChatSentSound:n}}),[e,n]);return d.jsx(Jm.Provider,{value:r,children:t})};var It=[];for(var Eh=0;Eh<256;++Eh)It.push((Eh+256).toString(16).slice(1));function H5(t,e=0){return(It[t[e+0]]+It[t[e+1]]+It[t[e+2]]+It[t[e+3]]+"-"+It[t[e+4]]+It[t[e+5]]+"-"+It[t[e+6]]+It[t[e+7]]+"-"+It[t[e+8]]+It[t[e+9]]+"-"+It[t[e+10]]+It[t[e+11]]+It[t[e+12]]+It[t[e+13]]+It[t[e+14]]+It[t[e+15]]).toLowerCase()}var wu,q5=new Uint8Array(16);function W5(){if(!wu&&(wu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!wu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wu(q5)}var G5=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const C0={randomUUID:G5};function zt(t,e,n){if(C0.randomUUID&&!e&&!t)return C0.randomUUID();t=t||{};var r=t.random||(t.rng||W5)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,H5(r)}const A0="Here are the list of departments with their services",K5=["departments","department","can you give me the list of departments?","can you give me the list of departments","can you give me the departments?","can you give me the departments","can you give me list of departments?","can you give me list of departments","departments list?","departments list","department list?","department list","list of departments","list of department","give me the list of deparments","depts","do you have the departments list?"],R0=[{deptName:"Office of the City Accounting and Internal Audit Services",service:`* Liquidation of Cash Advances 
* Processing of Disbursements (GF / SEF / Trust Fund) 
* Issuance of Creditable Tax BIR Forms 2306 & 2307 and F2317 
* Processing of Disbursements for Barangays`,steps:`1. This is step one 
2. This is step two 
3. This is step three`,requirements:`A. Bring this one 
B. Copy this to there 
C. Paste it here`},{deptName:"City Administrator's Office",service:`* Administrative Support 
* Policy Formulation and Review 
* Approval of Leave of Absences, Travel Orders, DTRs, Obligation Requests, other Internal Transaction Documents 
* Approval of City Permits (BOSS) 
* Approval of Agricultural Permit 
* Approval of Tricycle Franchise Renewal 
* Approval of Contractor's Tax`,steps:"",requirements:""}],X2="/user/assets/minimal-pop-click-cz2B17GZ.mp3",J2="/user/assets/happy-pop-BDyL3yVR.mp3",Wf="/user/assets/multi-pop-aSd_Kb7h.mp3",Q5="/user/assets/multi-pop-5-D6yGmOux.mp3",Z2=()=>{const t=D.useContext(Jm),{chatSentSound:e}=t.chatSent;return{playMessageNotification:()=>{let s;switch(e){case"minimalpop":s=new Audio(X2);break;case"happypop":s=new Audio(J2);break;case"multipop":s=new Audio(Wf);break;default:s=new Audio(Wf);break}s.volume=.2,s.play()},playTypingSound:()=>{const s=new Audio(Q5);s.volume=.1,s.play()},playChatSentSound:s=>{const o=new Audio(s);o.volume=.2,o.play()}}};function Y5(){return{toFirestore(t){return t},fromFirestore(t){return t.data()}}}const no=Im(Vm,"users"),X5=Im(Vm,"FAQs").withConverter(Y5()),J5=async(t,e)=>{try{const n={intent:"greetings",chat:e,chatId:zt(),role:"bot",timestamp:ve.now()};await n2(Xs(no,t),{uid:t,conversation:[n]})}catch(n){console.log(n)}},qr=async(t,e,n)=>{const r=Xs(no,t);(await yR(r)).exists()||await n2(Xs(no,t),{uid:t,conversation:[e],rating:n}),await _R(Xs(no,t),{conversation:wR(e)})},Z5=["png","jpg","jpeg","gif","tiff","webp","jfif"],eN=["mp4","mov","avi","wmv","avchd","webm","flv"],tN=["doc","docx","pdf","htm","html","xls","xlsx","ppt","pptx","txt","zip"];let hn={chat:"",chatId:"",role:"",timestamp:ve.now()};const nN=(t,e,n,r,i)=>(Z5.includes(t)?n===i?hn={intent:r,chat:n,chatId:zt(),role:"bot",timestamp:ve.now()}:hn={intent:r,image:n,chat:null,chatId:zt(),role:"bot",timestamp:ve.now()}:eN.includes(t)?n===i?hn={intent:r,chat:n,chatId:zt(),role:"bot",timestamp:ve.now()}:hn={intent:r,video:n,chat:null,chatId:zt(),role:"bot",timestamp:ve.now()}:tN.includes(t)&&(n===i?hn={intent:r,chat:n,chatId:zt(),role:"bot",timestamp:ve.now()}:hn={intent:r,file:e,fileLink:n,fileType:t,chat:null,chatId:zt(),role:"bot",timestamp:ve.now()}),hn),P0=(t,e,n,r)=>(t===n?hn={intent:e,chat:t,chatId:zt(),role:"bot",timestamp:ve.now()}:hn={intent:e,chat:null,chatId:zt(),link:t,linkMessage:r||"Click here",role:"bot",timestamp:ve.now()},hn),rN=(t,e,n)=>(t===e?hn={chat:t,chatId:zt(),role:"bot",timestamp:ve.now()}:hn={chat:null,chatId:zt(),role:"bot",depts:n,timestamp:ve.now()},hn),un=async t=>new Promise(e=>setTimeout(e,t*1e3)),eE=t=>/@=@/.test(t),iN=t=>/\[([^\]]+)\]/.test(t),sN=t=>/{=([^{}]+)=}/.test(t),oN=t=>{let e=[];return eE(t)&&(e=t.split("@=@")),e},aN=t=>{var e;return(e=t.current)==null||e.scrollIntoView(),!0},lN=t=>{var e;return(e=t.current)==null||e.scrollIntoView({behavior:"smooth"}),!0},N0=t=>{const e=/\[=(.*?)=]/,n=t.match(e),r=/{=([^{}]+)=}/,i=t.match(r),s=/<([^<>]+)>/,o=t.match(s);if(n){const l=n[1],u=t.replace(e,"").trim();return{link:l,text:u}}else if(i){const l=i[1];if(o){const u=o[1],c=t.replace(r,"").replace(s,"").trim();return{link:l,linkMessage:u,text:c}}else{const u=t.replace(r,"").trim();return{link:l,text:u}}}return{link:null,linkMessage:null,text:t.trim()}},uN=t=>{try{const e=decodeURIComponent(t),n=e.lastIndexOf("/")+1,r=e.indexOf("?alt=");return n!==-1&&r!==-1?e.substring(n,r):null}catch(e){return console.error("Failed to extract filename:",e),null}},cN=fR(X5,pR("frequency","desc")),tE=()=>{const t=D.useContext(Id),{isSignedIn:e}=t.user,n=D.useContext(o2),r=D.useContext(Et),{configuration:i}=r.configuration,{conversation:s,setConversation:o}=r.conversation,{faqs:l,setFaqs:u}=r.faqs,{error:c,setError:f}=r.error,{isOnline:m}=r.isOnline,{playMessageNotification:g}=Z2(),w=D.useRef(null),[k,C]=D.useState(!1),L=D.useRef(null),[E,y]=D.useState(!1),[S,M]=D.useState(!0),[U,P]=D.useState(!1),[I,v]=D.useState(""),[x,T]=D.useState(!1);let A={chat:"",chatId:"",role:"",timestamp:ve.now()};const N=()=>{y(!E)},b=D.useCallback(async()=>{try{const B=await i0(no);r2(Xs(no,n.uid),W=>{W.exists()?o(W.data().conversation):!W.exists()&&i.initialGreet&&J5(n.uid,i.initialGreet)}),B&&M(!1)}catch(B){console.log(B),f(!0),B||f(!1)}},[i.initialGreet,o,f]),me=D.useCallback(async()=>{try{const B=await i0(cN);u(B.docs.map(W=>({...W.data(),id:W.id})))}catch(B){console.log(B),B||f(!1)}},[f,u]),lt=async B=>{try{if(console.time(`${i.name} Replied in`),T(!0),await un(1),K5.includes(B))[A0,R0].forEach(async(Z,se)=>{se==1&&(await un(1),T(!0),await un(1)),A=rN(Z,A0,R0),T(!1),qr(n.uid,A),g()});else{await un(1);const W=await fetch("https://chatbot-api-0zup.onrender.com/api/chatbot/query",{method:"POST",headers:{"content-type":"application/json",authorization:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f"},body:JSON.stringify({userQuery:B})});W.ok?f(!1):f(!0);const Z=await W.json(),{intent:se,answer:de}=Z.response;if(eE(de)){oN(de).forEach(async(Re,Le)=>{Le==1&&(await un(1),T(!0),await un(1)),A={intent:se,chat:Re,chatId:zt(),role:"bot",timestamp:ve.now()},T(!1),qr(n.uid,A),P(!1),g()});return}else if(sN(de)){const{link:Te,linkMessage:Re,text:Le}=N0(de);(Te?[Le,Te]:[]).forEach(async(yt,Pi)=>{Pi==1&&(await un(1),T(!0),await un(1)),A=Re?P0(yt,se,Le,Re):P0(yt,se,Le),T(!1),qr(n.uid,A),P(!1),g()})}else if(iN(de)){const{text:Te,link:Re}=N0(de),Le=Re?uN(Re):"",it=Le==null?void 0:Le.split(".")[1];(Re?[Te,Re]:[]).forEach(async(Pi,Mo)=>{Mo==1&&(await un(1),T(!0),await un(1)),A=it?nN(it,Le,Pi,se,Te):A,T(!1),qr(n.uid,A),P(!1),g()})}else se==="None"?(A={intent:se,chat:i.errorMessage,chatId:zt(),role:"bot",timestamp:ve.now()},T(!1),qr(n.uid,A),P(!1),g()):(A={intent:se,chat:de,chatId:zt(),role:"bot",timestamp:ve.now()},T(!1),qr(n.uid,A),P(!1),g())}}catch(W){console.log(W),T(!1),f(!0),W||f(!1)}finally{console.timeEnd(`${i.name} Replied in`)}},mt=D.useCallback(async(B,W)=>{try{B.preventDefault(),v(""),A={chat:W,chatId:zt(),role:"user",timestamp:ve.now()},g(),qr(n.uid,A),await un(1),lt(W)}catch(Z){console.log(Z),T(!1),f(!0),Z||f(!1)}},[g,f]),ke=async B=>{try{P(!1),A={chat:B,chatId:zt(),role:"user",timestamp:ve.now()},g(),qr(n.uid,A),await un(1),lt(B)}catch(W){console.log(W),T(!1),f(!0),W||f(!1)}};return D.useEffect(()=>{const B=lN(w);e&&B&&C(!0)},[s,x,c,m,e]),D.useEffect(()=>{const B=W=>{const Z=I.trim();W.key=="Enter"&&!W.shiftKey&&Z!=""?(mt(W,Z),v("")):W.key=="Enter"&&!W.shiftKey&&(W.preventDefault(),v(""))};return document.addEventListener("keydown",B),()=>{document.removeEventListener("keydown",B)}},[mt,I]),D.useEffect(()=>{const B=({target:W})=>{var Z;(Z=L.current)!=null&&Z.contains(W)||P(!1)};return document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)}},[L,U]),D.useEffect(()=>{try{console.time("Received conversation and faqs in"),b(),me()}catch(B){console.log(B)}finally{console.timeEnd("Received conversation and faqs in")}},[b,me]),{isAtLatestChat:k,latestChat:w,faqsRef:L,settings:E,setSettings:y,loading:S,setLoading:M,isFaqsMenuActive:U,setIsFaqsMenuActive:P,userMessage:I,setUserMessage:v,botIsTyping:x,setBotIsTyping:T,toggleSettings:N,conversation:s,faqs:l,getFaqs:me,sendMessageToBot:mt,sendFaqToBot:ke}};function dN(t){return fe({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 1024c-69.1 0-136.2-13.5-199.3-40.2C251.7 958 197 921 150 874c-47-47-84-101.7-109.8-162.7C13.5 648.2 0 581.1 0 512c0-19.9 16.1-36 36-36s36 16.1 36 36c0 59.4 11.6 117 34.6 171.3 22.2 52.4 53.9 99.5 94.3 139.9 40.4 40.4 87.5 72.2 139.9 94.3C395 940.4 452.6 952 512 952c59.4 0 117-11.6 171.3-34.6 52.4-22.2 99.5-53.9 139.9-94.3 40.4-40.4 72.2-87.5 94.3-139.9C940.4 629 952 571.4 952 512c0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.2C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3s-13.5 136.2-40.2 199.3C958 772.3 921 827 874 874c-47 47-101.8 83.9-162.7 109.7-63.1 26.8-130.2 40.3-199.3 40.3z"},child:[]}]})(t)}const nE=()=>d.jsx("div",{className:"flex justify-center items-center h-[10%]",children:d.jsx(dN,{className:"text-4xl animate-spin text-primary dark:text-dm-surface-light"})}),hN=({onClick:t})=>{const e=D.useContext(Id),{isSignedIn:n}=e.user,r=D.useContext(Et),{configuration:i}=r.configuration,s=D.useContext(No),{isChatActive:o}=s.active,{chatHeadSize:l}=s.chatHeadSize,{isAtLatestChat:u}=tE();return d.jsx(d.Fragment,{children:n&&u&&i.widgetIcon?d.jsx("button",{onClick:t,id:"",className:`fixed right-[2%] bottom-[2%] rounded-full overflow-hidden z-[100] ${o?"scale-0 opacity-0 invisible":""}`,children:d.jsx("img",{src:i.widgetIcon,alt:"chat head logo",width:l,height:l,className:"aspect-square object-cover"})}):d.jsx("div",{style:{width:l,height:l},className:"fixed right-[2%] bottom-[2%] flex items-center justify-center z-[100] [&>div>svg>path]:text-primary xl:[&>div>svg>path]:text-white ",children:d.jsx(nE,{})})})},fN="suggested messages",pN=[{id:"1",displayedText:"City Hall Location",message:"Where can I find the City Hall of Bacoor?"},{id:"2",displayedText:"Say Hi!",message:"Hi"},{id:"3",displayedText:"Who made you?",message:"Who made you?"}],rE={name:fN,list:pN},iE=({...t})=>d.jsx(at,{variant:"outline",size:"xl",className:"rounded-3xl w-full h-full border border-primary text-xs xs:text-sm text-primary dark:text-white hover:bg-primary hover:text-white  active:translate-y-1",...t}),rr=({items:t,renderItems:e})=>d.jsx(d.Fragment,{children:t==null?void 0:t.map((n,r)=>e(n,r))}),mN=({sendMessageToBot:t})=>d.jsx("section",{id:"suggested-chats",className:"w-full max-w-[95%] rounded-3xl border border-surface dark:border-dm-surface-dark dark:bg-dm-surface text-xs xs:text-sm sm:text-base flex justify-around sm:justify-center xl:justify-around gap-x-2 sm:gap-x-8 xl:gap-x-2 px-4 py-2 mt-auto outline-none",children:d.jsx(rr,{items:rE.list,renderItems:e=>d.jsx(iE,{onClick:n=>t(n,e.message),children:e.displayedText},e.id)})});function Gf(){return Gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gf.apply(null,arguments)}function gN(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}var vN=D.useLayoutEffect,yN=function(e){var n=D.useRef(e);return vN(function(){n.current=e}),n},D0=function(e,n){if(typeof e=="function"){e(n);return}e.current=n},_N=function(e,n){var r=D.useRef();return D.useCallback(function(i){e.current=i,r.current&&D0(r.current,null),r.current=n,n&&D0(n,i)},[n])},L0={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},wN=function(e){Object.keys(L0).forEach(function(n){e.style.setProperty(n,L0[n],"important")})},j0=wN,Wt=null,M0=function(e,n){var r=e.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function xN(t,e,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Wt||(Wt=document.createElement("textarea"),Wt.setAttribute("tabindex","-1"),Wt.setAttribute("aria-hidden","true"),j0(Wt)),Wt.parentNode===null&&document.body.appendChild(Wt);var i=t.paddingSize,s=t.borderSize,o=t.sizingStyle,l=o.boxSizing;Object.keys(o).forEach(function(g){var w=g;Wt.style[w]=o[w]}),j0(Wt),Wt.value=e;var u=M0(Wt,t);Wt.value=e,u=M0(Wt,t),Wt.value="x";var c=Wt.scrollHeight-i,f=c*n;l==="border-box"&&(f=f+i+s),u=Math.max(f,u);var m=c*r;return l==="border-box"&&(m=m+i+s),u=Math.min(m,u),[u,c]}var V0=function(){},EN=function(e,n){return e.reduce(function(r,i){return r[i]=n[i],r},{})},TN=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],IN=!!document.documentElement.currentStyle,SN=function(e){var n=window.getComputedStyle(e);if(n===null)return null;var r=EN(TN,n),i=r.boxSizing;if(i==="")return null;IN&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},bN=SN;function sE(t,e,n){var r=yN(n);D.useLayoutEffect(function(){var i=function(o){return r.current(o)};if(t)return t.addEventListener(e,i),function(){return t.removeEventListener(e,i)}},[])}var kN=function(e){sE(window,"resize",e)},CN=function(e){sE(document.fonts,"loadingdone",e)},AN=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],RN=function(e,n){var r=e.cacheMeasurements,i=e.maxRows,s=e.minRows,o=e.onChange,l=o===void 0?V0:o,u=e.onHeightChange,c=u===void 0?V0:u,f=gN(e,AN),m=f.value!==void 0,g=D.useRef(null),w=_N(g,n),k=D.useRef(0),C=D.useRef(),L=function(){var S=g.current,M=r&&C.current?C.current:bN(S);if(M){C.current=M;var U=xN(M,S.value||S.placeholder||"x",s,i),P=U[0],I=U[1];k.current!==P&&(k.current=P,S.style.setProperty("height",P+"px","important"),c(P,{rowHeight:I}))}},E=function(S){m||L(),l(S)};return D.useLayoutEffect(L),kN(L),CN(L),D.createElement("textarea",Gf({},f,{onChange:E,ref:w}))},oE=D.forwardRef(RN);function PN(t){return fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M87.48 380c1.2-4.38-1.43-10.47-3.94-14.86a42.63 42.63 0 0 0-2.54-3.8 199.81 199.81 0 0 1-33-110C47.64 139.09 140.72 48 255.82 48 356.2 48 440 117.54 459.57 209.85a199 199 0 0 1 4.43 41.64c0 112.41-89.49 204.93-204.59 204.93-18.31 0-43-4.6-56.47-8.37s-26.92-8.77-30.39-10.11a31.14 31.14 0 0 0-11.13-2.07 30.7 30.7 0 0 0-12.08 2.43L81.5 462.78a15.92 15.92 0 0 1-4.66 1.22 9.61 9.61 0 0 1-9.58-9.74 15.85 15.85 0 0 1 .6-3.29z"},child:[]},{tag:"circle",attr:{cx:"160",cy:"256",r:"32"},child:[]},{tag:"circle",attr:{cx:"256",cy:"256",r:"32"},child:[]},{tag:"circle",attr:{cx:"352",cy:"256",r:"32"},child:[]}]})(t)}function NN(t){return fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(t)}function aE(t){return fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m476.59 227.05-.16-.07L49.35 49.84A23.56 23.56 0 0 0 27.14 52 24.65 24.65 0 0 0 16 72.59v113.29a24 24 0 0 0 19.52 23.57l232.93 43.07a4 4 0 0 1 0 7.86L35.53 303.45A24 24 0 0 0 16 327v113.31A23.57 23.57 0 0 0 26.59 460a23.94 23.94 0 0 0 13.22 4 24.55 24.55 0 0 0 9.52-1.93L476.4 285.94l.19-.09a32 32 0 0 0 0-58.8z"},child:[]}]})(t)}function DN(t){return fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 176a80 80 0 1 0 80 80 80.24 80.24 0 0 0-80-80zm172.72 80a165.53 165.53 0 0 1-1.64 22.34l48.69 38.12a11.59 11.59 0 0 1 2.63 14.78l-46.06 79.52a11.64 11.64 0 0 1-14.14 4.93l-57.25-23a176.56 176.56 0 0 1-38.82 22.67l-8.56 60.78a11.93 11.93 0 0 1-11.51 9.86h-92.12a12 12 0 0 1-11.51-9.53l-8.56-60.78A169.3 169.3 0 0 1 151.05 393L93.8 416a11.64 11.64 0 0 1-14.14-4.92L33.6 331.57a11.59 11.59 0 0 1 2.63-14.78l48.69-38.12A174.58 174.58 0 0 1 83.28 256a165.53 165.53 0 0 1 1.64-22.34l-48.69-38.12a11.59 11.59 0 0 1-2.63-14.78l46.06-79.52a11.64 11.64 0 0 1 14.14-4.93l57.25 23a176.56 176.56 0 0 1 38.82-22.67l8.56-60.78A11.93 11.93 0 0 1 209.94 26h92.12a12 12 0 0 1 11.51 9.53l8.56 60.78A169.3 169.3 0 0 1 361 119l57.2-23a11.64 11.64 0 0 1 14.14 4.92l46.06 79.52a11.59 11.59 0 0 1-2.63 14.78l-48.69 38.12a174.58 174.58 0 0 1 1.64 22.66z"},child:[]}]})(t)}const LN=({faqsRef:t,sendMessageToBot:e,sendFaqToBot:n,userMessage:r,setUserMessage:i,isFaqsMenuActive:s,setIsFaqsMenuActive:o})=>{const l=D.useContext(Et),{faqs:u}=l.faqs,c=()=>{o(!s)},f=()=>{if(u.length)return d.jsxs("section",{id:"suggested-questions",className:`w-full max-w-[95%] absolute bottom-0 px-4 py-3 mb-[160px] rounded-3xl bg-white dark:bg-dm-surface border border-surface dark:border-dm-surface-dark z-50 ${s?"block opacity-100 visible":"opacity-0 invisible"}`,children:[d.jsxs("div",{className:"mb-4 font-semibold",children:[d.jsx("h1",{className:"capitalize text-black/80 dark:text-white/80",children:"hello there!"}),d.jsx("p",{className:"text-black/50 dark:text-white/50",children:"You can ask me about,"})]}),d.jsx("div",{className:"inline-grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-2 gap-2 ",children:d.jsx(rr,{items:u,renderItems:(m,g)=>d.jsx(at,{variant:"outline",className:"rounded-3xl w-full h-full border border-primary text-xs xs:text-sm text-primary dark:text-white hover:bg-primary hover:text-white active:translate-y-1",onClick:()=>n(m.questions[0]),children:m.questions[0]},g)})})]})};return d.jsxs("div",{ref:t,className:"w-full flex justify-center items-center",children:[f(),d.jsxs("form",{onSubmit:m=>e(m,r),className:"w-full flex justify-between items-center gap-1 px-2 py-2",children:[d.jsx(at,{variant:"icon",size:"icon",className:`text-primary hover:bg-surface dark:hover:bg-dm-surface ${s&&"bg-primary [&>svg]:text-white hover:bg-primary dark:hover:bg-primary"}`,type:"button",onClick:c,children:d.jsx(Ym,{})}),d.jsx("label",{htmlFor:"chat",className:"w-full px-2 py-3 rounded-3xl flex items-center border border-surface-dark outline-primary focus-within:border-primary dark:border-transparent dark:bg-dm-surface dark:focus-within:bg-dm-surface-light cursor-text",children:d.jsx(oE,{id:"chat",name:"chat",autoFocus:!0,spellCheck:!1,value:r,onChange:m=>{i(m.target.value),o(!1)},className:"max-h-[100px] w-full dark:text-white outline-none bg-transparent placeholder:text-sm sm:placeholder:text-base px-2 dark:bg-dm-surface dark:focus:bg-dm-surface-light placeholder:opacity-80 caret-primary dark:caret-secondary scrollbar-thin scrollbar-track-transparent scrollbar-thumb-surface-dark dark:scrollbar-thumb-dm-surface-dark",placeholder:"Type here..."})}),d.jsx(at,{variant:"icon",size:"icon",className:"text-primary active:translate-x-1 hover:bg-surface dark:hover:bg-dm-surface cursor-pointer",type:"submit",onClick:()=>o(!1),disabled:!r,children:d.jsx(aE,{})})]})]})},jN=()=>{const[t,e]=D.useState("hide");return{backToView:t,setBackToView:e,handleScrollIntoView:r=>{var i;(i=r.current)==null||i.scrollIntoView({behavior:"smooth"})}}},MN=new Intl.DateTimeFormat("en-PH",{timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone,hour:"numeric",minute:"numeric"}),O0=({message:t})=>d.jsx("div",{className:"w-full flex justify-center",children:d.jsx("div",{className:"min-w-[50%] px-4 py-3 mt-3 mb-2 text-center text-white rounded-3xl bg-red-500 capitalize",children:t})}),VN=({children:t,ref:e,type:n,disabled:r,onClick:i,state:s,className:o})=>{let l="",u="";switch(n){case"submit":l="active:translate-x-2";break;case"reset":l="active:tranform active:scale-75"}if(s)switch(s){case!0:u="bg-primary [&>svg>line]:text-white";break}return d.jsx("button",{ref:e,type:n,onClick:i,disabled:r,className:`p-3 rounded-full flex items-center justify-center text-2xl text-primary cursor-pointer ${l} ${u} ${o}`,children:t})},ON=()=>{const t=D.useContext(Et),{configuration:e}=t.configuration;return d.jsxs("div",{className:"w-full mt-3 mb-2 rounded-3xl flex gap-2 items-center ",children:[d.jsx("img",{src:e.icon,alt:"Chatbot Icon",width:35,height:35,className:"rounded-full aspect-square object-cover select-none"}),d.jsxs("div",{className:"flex space-x-1 items-center rounded-3xl px-2 py-3 ",children:[d.jsx("div",{className:"h-2 w-2 bg-surface-dark dark:bg-dm-surface-light rounded-full animate-bounce [animation-delay:-0.3s]"}),d.jsx("div",{className:"h-2 w-2 bg-surface-dark dark:bg-dm-surface-light rounded-full animate-bounce [animation-delay:-0.15s]"}),d.jsx("div",{className:"h-2 w-2 bg-surface-dark dark:bg-dm-surface-light rounded-full animate-bounce"})]})]})},FN=Qm("w-full h-full animate-pulse pointer-events-none",{variants:{variant:{default:"bg-surface-dark dark:bg-dm-surface-light",icon:"rounded-full aspect-square",chat:"max-w-[80%] rounded-3xl overflow-hidden"}},defaultVariants:{variant:"default"}}),$u=D.forwardRef(({className:t,variant:e,...n},r)=>d.jsx("div",{ref:r,className:Km(FN({className:t,variant:e})),...n})),UN=()=>{const t=[{role:"bot"},{role:"user"},{role:"bot"},{role:"user"},{role:"bot"}];return d.jsx("section",{id:"messages",children:d.jsx(rr,{items:t,renderItems:(e,n)=>d.jsxs($u,{variant:"chat",className:`${e.role=="bot"?"bot chat flex items-center gap-2":"user chat flex justify-end ml-auto"} mt-3 mb-2`,children:[e.role=="bot"&&d.jsx($u,{variant:"icon",className:"bg-surface dark:bg-dm-surface w-[35px] h-[35px] rounded-full select-none"}),d.jsx($u,{id:"chat",variant:"chat",className:`${e.role=="bot"?"bg-surface dark:bg-dm-surface w-full h-[96px]":"bg-primary w-[216px] h-[64px]"} `})]},n)})})},zN=Qm("w-full h-full",{variants:{variant:{default:"",icon:"rounded-full aspect-square object-cover",iconBorder:"rounded-full border border-primary aspect-square object-cover"},size:{default:"max-w-[80px]",sm:"max-w-[50px]",md:"max-w-[100px]",lg:"max-w-[150px]",xl:"max-w-[200px]"}},defaultVariants:{variant:"default",size:"default"}}),Zm=D.forwardRef(({src:t,alt:e,className:n,size:r,variant:i,...s},o)=>d.jsx("img",{src:t,alt:e,ref:o,className:Km(zN({className:n,variant:i,size:r})),...s})),BN=({className:t,miniProfileRef:e})=>{const n=D.useContext(Et),{configuration:r}=n.configuration;return d.jsxs("section",{id:"bot-mini-profile",className:`flex flex-col items-center pt-10 ${t}`,ref:e,children:[d.jsx(Zm,{src:r.icon,alt:"Chatbot Icon",variant:"icon",size:"lg",className:"mb-2"}),d.jsx("div",{id:"details",className:"w-full flex flex-col items-center text-center mb-4 p-2",children:d.jsxs("div",{className:"mb-4 space-y-2",children:[d.jsx("h1",{className:"max-w-full font-bold text-2xl sm:text-4xl  dark:text-white capitalize line-clamp-5",children:r.name}),d.jsx("h3",{className:"max-w-full dark:text-white sm:text-lg  line-clamp-5",children:r.slogan})]})}),d.jsx("hr",{className:"w-full border-surface-dark dark:border-dm-surface-light"})]})};function $N(t){return fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(t)}function lE(t){return fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"},child:[]}]})(t)}function F0(t){return fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"},child:[]}]})(t)}const HN=({deptName:t,service:e})=>{const[n,r]=D.useState(!1),i=()=>{r(!n)};return d.jsxs("div",{className:"relative flex flex-col m-2",children:[d.jsxs("button",{onClick:()=>i(),className:`px-4 py-3 text-left text-white cursor-pointer flex justify-between items-center gap-2 ${n?"rounded-b-none rounded-t-3xl bg-primary":"rounded-3xl bg-surface-dark dark:bg-dm-surface-light"} [&>p]:hover:text-white [&>svg>path]:hover:text-white hover:bg-primary dark:hover:bg-primary z-20`,children:[d.jsx("p",{className:"max-w-[250px] text-white",children:t}),d.jsx($N,{className:`${n?"rotate-180 text-white":"text-gray-400"}`})]}),d.jsx("div",{className:`w-full rounded-b-3xl z-10 overflow-hidden ${n==!0?"translate-y-0 bg-primary max-h-[1000px]":"-translate-y-[15%] rounded-3xl opacity-0 max-h-0 bg-surface-dark dark:bg-dm-surface-light"}`,children:d.jsx("div",{className:"px-4 py-3",children:d.jsxs("div",{className:"mb-2",children:[d.jsx("div",{className:"text-white text-lg font-semibold mb-1",children:"Here are the services we offer:"}),d.jsx("div",{className:"text-white",children:e})]})})})]})},qN=({className:t,image:e})=>d.jsx("img",{id:"image-dimmer",src:e,alt:"",className:`w-full h-full fixed inset-0 object-cover z-50 blur-xl backdrop-blur-xl brightness-[0.3] ${t}`}),fa=({children:t,className:e,role:n,timestamp:r})=>{const i=D.useContext(Lo),{fontSize:s}=i.size,o=()=>{switch(n){case"user":return d.jsxs("div",{className:`rounded-3xl shadow px-4 py-3 space-y-2 break-words ${e}`,children:[d.jsx("div",{id:"message",style:{fontSize:s},className:"relative dark:text-white whitespace-pre-line",children:t}),d.jsx("div",{id:"timestamp",className:"w-full text-gray-200 dark:text-gray-300 text-xs text-right opacity-80 z-[9]",children:r})]});default:return d.jsxs("div",{className:`rounded-3xl shadow bg-surface dark:bg-dm-surface px-4 py-3 space-y-2 break-words ${e}`,children:[d.jsx("div",{id:"message",style:{fontSize:s},className:"relative dark:text-white whitespace-pre-line",children:t}),d.jsx("div",{id:"timestamp",className:"text-gray-500 dark:text-gray-300 text-xs text-right opacity-80 z-[9]",children:r})]})}};return d.jsx(d.Fragment,{children:o()})};function uE(t){return fe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6.2253 4.81108C5.83477 4.42056 5.20161 4.42056 4.81108 4.81108C4.42056 5.20161 4.42056 5.83477 4.81108 6.2253L10.5858 12L4.81114 17.7747C4.42062 18.1652 4.42062 18.7984 4.81114 19.1889C5.20167 19.5794 5.83483 19.5794 6.22535 19.1889L12 13.4142L17.7747 19.1889C18.1652 19.5794 18.7984 19.5794 19.1889 19.1889C19.5794 18.7984 19.5794 18.1652 19.1889 17.7747L13.4142 12L19.189 6.2253C19.5795 5.83477 19.5795 5.20161 19.189 4.81108C18.7985 4.42056 18.1653 4.42056 17.7748 4.81108L12 10.5858L6.2253 4.81108Z",fill:"currentColor"},child:[]}]})(t)}function WN(t){return fe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M4 4H8V8H4V4Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M4 10H8V14H4V10Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M8 16H4V20H8V16Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M10 4H14V8H10V4Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M14 10H10V14H14V10Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M10 16H14V20H10V16Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M20 4H16V8H20V4Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M16 10H20V14H16V10Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M20 16H16V20H20V16Z",fill:"currentColor"},child:[]}]})(t)}function GN(t){return fe({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.5 4.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293z"},child:[]}]})(t)}function KN(t){return fe({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5 7.5a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v.938l.4 1.599a1 1 0 0 1-.416 1.074l-.93.62a1 1 0 0 1-1.11 0l-.929-.62a1 1 0 0 1-.415-1.074L5 8.438zm2 0H6v.938a1 1 0 0 1-.03.243l-.4 1.598.93.62.929-.62-.4-1.598A1 1 0 0 1 7 8.438z"},child:[]},{tag:"path",attr:{d:"M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1h-2v1h-1v1h1v1h-1v1h1v1H6V5H5V4h1V3H5V2h1V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5z"},child:[]}]})(t)}function QN(t){return fe({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2v-1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zm-7.839 9.166v.522q0 .384-.117.641a.86.86 0 0 1-.322.387.9.9 0 0 1-.469.126.9.9 0 0 1-.471-.126.87.87 0 0 1-.32-.386 1.55 1.55 0 0 1-.117-.642v-.522q0-.386.117-.641a.87.87 0 0 1 .32-.387.87.87 0 0 1 .471-.129q.264 0 .469.13a.86.86 0 0 1 .322.386q.117.255.117.641m.803.519v-.513q0-.565-.205-.972a1.46 1.46 0 0 0-.589-.63q-.381-.22-.917-.22-.533 0-.92.22a1.44 1.44 0 0 0-.589.627q-.204.406-.205.975v.513q0 .563.205.973.205.406.59.627.386.216.92.216.535 0 .916-.216.383-.22.59-.627.204-.41.204-.973M0 11.926v4h1.459q.603 0 .999-.238a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.59-.68q-.395-.234-1.004-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082H.79V12.57Zm7.422.483a1.7 1.7 0 0 0-.103.633v.495q0 .369.103.627a.83.83 0 0 0 .298.393.85.85 0 0 0 .478.131.9.9 0 0 0 .401-.088.7.7 0 0 0 .273-.248.8.8 0 0 0 .117-.364h.765v.076a1.27 1.27 0 0 1-.226.674q-.205.29-.55.454a1.8 1.8 0 0 1-.786.164q-.54 0-.914-.216a1.4 1.4 0 0 1-.571-.627q-.194-.408-.194-.976v-.498q0-.568.197-.978.195-.411.571-.633.378-.223.911-.223.328 0 .607.097.28.093.489.272a1.33 1.33 0 0 1 .466.964v.073H9.78a.85.85 0 0 0-.12-.38.7.7 0 0 0-.273-.261.8.8 0 0 0-.398-.097.8.8 0 0 0-.475.138.87.87 0 0 0-.301.398"},child:[]}]})(t)}function YN(t){return fe({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V11h-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zm-6.839 9.688v-.522a1.5 1.5 0 0 0-.117-.641.86.86 0 0 0-.322-.387.86.86 0 0 0-.469-.129.87.87 0 0 0-.471.13.87.87 0 0 0-.32.386 1.5 1.5 0 0 0-.117.641v.522q0 .384.117.641a.87.87 0 0 0 .32.387.9.9 0 0 0 .471.126.9.9 0 0 0 .469-.126.86.86 0 0 0 .322-.386 1.55 1.55 0 0 0 .117-.642m.803-.516v.513q0 .563-.205.973a1.47 1.47 0 0 1-.589.627q-.381.216-.917.216a1.86 1.86 0 0 1-.92-.216 1.46 1.46 0 0 1-.589-.627 2.15 2.15 0 0 1-.205-.973v-.513q0-.569.205-.975.205-.411.59-.627.386-.22.92-.22.535 0 .916.22.383.219.59.63.204.406.204.972M1 15.925v-3.999h1.459q.609 0 1.005.235.396.233.589.68.196.445.196 1.074 0 .634-.196 1.084-.197.451-.595.689-.396.237-.999.237zm1.354-3.354H1.79v2.707h.563q.277 0 .483-.082a.8.8 0 0 0 .334-.252q.132-.17.196-.422a2.3 2.3 0 0 0 .068-.592q0-.45-.118-.753a.9.9 0 0 0-.354-.454q-.237-.152-.61-.152Zm6.756 1.116q0-.373.103-.633a.87.87 0 0 1 .301-.398.8.8 0 0 1 .475-.138q.225 0 .398.097a.7.7 0 0 1 .273.26.85.85 0 0 1 .12.381h.765v-.073a1.33 1.33 0 0 0-.466-.964 1.4 1.4 0 0 0-.49-.272 1.8 1.8 0 0 0-.606-.097q-.534 0-.911.223-.375.222-.571.633-.197.41-.197.978v.498q0 .568.194.976.195.406.571.627.375.216.914.216.44 0 .785-.164t.551-.454a1.27 1.27 0 0 0 .226-.674v-.076h-.765a.8.8 0 0 1-.117.364.7.7 0 0 1-.273.248.9.9 0 0 1-.401.088.85.85 0 0 1-.478-.131.83.83 0 0 1-.298-.393 1.7 1.7 0 0 1-.103-.627zm5.092-1.76h.894l-1.275 2.006 1.254 1.992h-.908l-.85-1.415h-.035l-.852 1.415h-.862l1.24-2.015-1.228-1.984h.932l.832 1.439h.035z"},child:[]}]})(t)}function XN(t){return fe({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V11h-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zm-9.736 7.35v3.999h-.791v-1.714H1.79v1.714H1V11.85h.791v1.626h1.682V11.85h.79Zm2.251.662v3.337h-.794v-3.337H4.588v-.662h3.064v.662zm2.176 3.337v-2.66h.038l.952 2.159h.516l.946-2.16h.038v2.661h.715V11.85h-.8l-1.14 2.596H9.93L8.79 11.85h-.805v3.999zm4.71-.674h1.696v.674H12.61V11.85h.79v3.325Z"},child:[]}]})(t)}function JN(t){return fe({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z"},child:[]}]})(t)}function ZN(t){return fe({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m2.817-1.333h-1.6v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474.162-.302.161-.677 0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H4.15V12.48h.66q.327 0 .512.181.185.183.185.522m2.767-.67v3.336H7.48v-3.337H6.346v-.662h3.065v.662z"},child:[]}]})(t)}function e6(t){return fe({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V11h-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.5 11.85h1.6q.434 0 .732.179.302.175.46.477t.158.677-.16.677q-.159.299-.464.474a1.45 1.45 0 0 1-.732.173H2.29v1.342H1.5zm2.06 1.714a.8.8 0 0 0 .085-.381q0-.34-.185-.521-.185-.182-.513-.182h-.659v1.406h.66a.8.8 0 0 0 .374-.082.57.57 0 0 0 .238-.24m1.302-1.714h1.6q.434 0 .732.179.302.175.46.477t.158.677-.16.677q-.158.299-.464.474a1.45 1.45 0 0 1-.732.173h-.803v1.342h-.79zm2.06 1.714a.8.8 0 0 0 .085-.381q0-.34-.185-.521-.184-.182-.513-.182H5.65v1.406h.66a.8.8 0 0 0 .374-.082.57.57 0 0 0 .238-.24m2.852 2.285v-3.337h1.137v-.662H7.846v.662H8.98v3.337zm3.796-3.999h.893l-1.274 2.007 1.254 1.992h-.908l-.85-1.415h-.035l-.853 1.415h-.861l1.24-2.016-1.228-1.983h.931l.832 1.439h.035z"},child:[]}]})(t)}function t6(t){return fe({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-2v-1h2a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.928 15.849v-3.337h1.136v-.662H0v.662h1.134v3.337zm4.689-3.999h-.894L4.9 13.289h-.035l-.832-1.439h-.932l1.228 1.983-1.24 2.016h.862l.853-1.415h.035l.85 1.415h.907l-1.253-1.992zm1.93.662v3.337h-.794v-3.337H6.619v-.662h3.064v.662H8.546Z"},child:[]}]})(t)}function n6(t){return fe({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM6.472 15.29a1.2 1.2 0 0 1-.111-.449h.765a.58.58 0 0 0 .254.384q.106.073.25.114.143.041.319.041.246 0 .413-.07a.56.56 0 0 0 .255-.193.5.5 0 0 0 .085-.29.39.39 0 0 0-.153-.326q-.152-.12-.462-.193l-.619-.143a1.7 1.7 0 0 1-.539-.214 1 1 0 0 1-.351-.367 1.1 1.1 0 0 1-.123-.524q0-.366.19-.639.19-.272.527-.422.338-.15.777-.149.457 0 .78.152.324.153.5.41.18.255.2.566h-.75a.56.56 0 0 0-.12-.258.6.6 0 0 0-.247-.181.9.9 0 0 0-.369-.068q-.325 0-.513.152a.47.47 0 0 0-.184.384q0 .18.143.3a1 1 0 0 0 .405.175l.62.143q.326.075.566.211a1 1 0 0 1 .375.358q.135.222.135.56 0 .37-.188.656a1.2 1.2 0 0 1-.539.439q-.351.158-.858.158-.381 0-.665-.09a1.4 1.4 0 0 1-.478-.252 1.1 1.1 0 0 1-.29-.375m-2.945-3.358h-.893L1.81 13.37h-.036l-.832-1.438h-.93l1.227 1.983L0 15.931h.861l.853-1.415h.035l.85 1.415h.908L2.253 13.94zm2.727 3.325H4.557v-3.325h-.79v4h2.487z"},child:[]}]})(t)}function r6(t){return fe({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14 4.5V11h-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM7.86 14.841a1.13 1.13 0 0 0 .401.823q.195.162.479.252.284.091.665.091.507 0 .858-.158.355-.158.54-.44a1.17 1.17 0 0 0 .187-.656q0-.336-.135-.56a1 1 0 0 0-.375-.357 2 2 0 0 0-.565-.21l-.621-.144a1 1 0 0 1-.405-.176.37.37 0 0 1-.143-.299q0-.234.184-.384.188-.152.513-.152.214 0 .37.068a.6.6 0 0 1 .245.181.56.56 0 0 1 .12.258h.75a1.1 1.1 0 0 0-.199-.566 1.2 1.2 0 0 0-.5-.41 1.8 1.8 0 0 0-.78-.152q-.44 0-.777.15-.336.149-.527.421-.19.273-.19.639 0 .302.123.524t.351.367q.229.143.54.213l.618.144q.31.073.462.193a.39.39 0 0 1 .153.326.5.5 0 0 1-.085.29.56.56 0 0 1-.255.193q-.168.07-.413.07-.176 0-.32-.04a.8.8 0 0 1-.249-.115.58.58 0 0 1-.255-.384zm-3.726-2.909h.893l-1.274 2.007 1.254 1.992h-.908l-.85-1.415h-.035l-.853 1.415H1.5l1.24-2.016-1.228-1.983h.931l.832 1.438h.036zm1.923 3.325h1.697v.674H5.266v-3.999h.791zm7.636-3.325h.893l-1.274 2.007 1.254 1.992h-.908l-.85-1.415h-.035l-.853 1.415h-.861l1.24-2.016-1.228-1.983h.931l.832 1.438h.036z"},child:[]}]})(t)}function i6(t){return fe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(t)}function s6(t){return fe({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.727 6.727H14V0H4.91c-.905 0-1.637.732-1.637 1.636v20.728c0 .904.732 1.636 1.636 1.636h14.182c.904 0 1.636-.732 1.636-1.636V6.727h-6zm-.545 10.455H7.09v-1.364h7.09v1.364zm2.727-3.273H7.091v-1.364h9.818v1.364zm0-3.273H7.091V9.273h9.818v1.363zM14.727 6h6l-6-6v6z"},child:[]}]})(t)}const U0=({chatBy:t,chat:e,img:n,video:r,image:i,file:s,fileLink:o,fileType:l,link:u,linkMessage:c,depts:f,renderDeptsContent:m,timestamp:g,loadMore:w,numberOfDeptsToShow:k})=>{const[C,L]=D.useState(!1),E=D.useRef(null),[y,S]=D.useState(!1),M=()=>{L(!C)},U=()=>{console.log("video loaded"),S(!0)},P=()=>{switch(l){case"doc":return d.jsx(QN,{});case"docx":return d.jsx(YN,{});case"pdf":return d.jsx(JN,{});case"html":return d.jsx(XN,{});case"xls":return d.jsx(n6,{});case"xlsx":return d.jsx(r6,{});case"ppt":return d.jsx(ZN,{});case"pptx":return d.jsx(e6,{});case"txt":return d.jsx(t6,{});case"zip":return d.jsx(KN,{});default:return d.jsx(s6,{})}};D.useEffect(()=>{const v=({target:x})=>{var T;(T=E.current)!=null&&T.contains(x)||L(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[C]);const I=()=>{switch(t){case"bot":return d.jsx("div",{className:`${t} message`,children:d.jsxs("div",{className:"w-full h-max relative flex items-center gap-2 mt-3 mb-2",children:[d.jsx("img",{src:n,alt:"Chatbot Icon",width:35,height:35,className:"rounded-full aspect-square object-cover select-none"}),(e||u||s||o||f)&&d.jsxs("div",{className:"max-w-[70%]",children:[e&&d.jsx(fa,{timestamp:g,children:e}),u&&d.jsx(is,{to:u,target:"_blank",className:"group",children:d.jsx(fa,{timestamp:g,className:"group-hover:bg-surface-dark/50 dark:group-hover:bg-dm-surface-light/70",children:d.jsxs("div",{className:"flex items-center gap-2 font-semibold text-primary dark:text-secondary",children:[d.jsx(i6,{className:"text-xl"}),c]})})}),s&&o&&d.jsx(is,{to:o,target:"_blank",className:"group",children:d.jsx(fa,{timestamp:g,className:"group-hover:bg-surface-dark/50 dark:group-hover:bg-dm-surface-light/70",children:d.jsxs("div",{className:"flex items-center gap-2 font-semibold text-primary dark:text-secondary",children:[d.jsx("span",{className:"text-xl",children:P()}),s]})})}),f&&m&&k&&d.jsxs(fa,{timestamp:g,children:[m(),d.jsx("button",{onClick:w,className:`w-full absolute -bottom-1 bg-gradient-to-t from-surface dark:from-dm-surface from-15% h-[100px] z-30 backdrop-blur-xs  ${(f==null?void 0:f.length)<=k?"hidden":"block"} hover:backdrop-blur-0 [&>p]:hover:opacity-15`,children:d.jsxs("p",{className:"flex flex-col items-center justify-center gap-1 font-semibold text-primary dark:text-secondary drop-shadow-lg animate-bounce text-base",children:["Click here to show more",d.jsx(GN,{})]})})]})]}),i&&d.jsx("div",{className:`${y?"w-max h-max":"w-full h-[400px] bg-surface-dark/50 dark:bg-dm-surface-light animate-pulse aspect-square"} max-w-[70%] sm:max-w-[70%] md:max-w-[60%] lg:max-w-[50%] xl:max-w-[70%] cursor-pointer hover:opacity-70 rounded-xl overflow-hidden`,onClick:M,children:d.jsx("img",{src:i,alt:"",className:"rounded-xl",onLoad:U})}),r&&d.jsx("video",{controls:!0,muted:!0,className:"w-max max-w-[50%] sm:max-w-[40%] md:max-w-[35%] lg:max-w-[30%] xl:max-w-[50%] max-h-max rounded-xl outline-primary object-contain cursor-pointer",children:d.jsx("source",{src:r,type:"video/mp4"})})]})});case"user":return d.jsx("div",{className:`${t} message`,children:d.jsx("div",{className:"w-full flex justify-end mt-3 mb-2",children:d.jsx(fa,{timestamp:g,role:"user",className:"max-w-[80%] bg-primary text-white",children:e})})})}};return d.jsxs(d.Fragment,{children:[C&&d.jsxs(d.Fragment,{children:[d.jsx(at,{variant:"icon",size:"icon",className:"fixed top-10 right-10 z-[100] text-white bg-error hover:bg-error/80 [&>svg>path]:hover:text-white",onClick:M,children:d.jsx(uE,{})}),d.jsx("div",{className:"fixed top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] w-screen h-screen flex justify-center items-center p-[4vw] z-[90]",children:d.jsx("img",{src:i,alt:"",className:"w-max max-w-[90%] h-max max-h-full",ref:E})}),d.jsx(qN,{image:i})]}),I()]})},o6=4,a6=1,l6=({role:t,chat:e,image:n,video:r,file:i,fileLink:s,fileType:o,link:l,linkMessage:u,depts:c,timestamp:f})=>{const m=D.useContext(Et),{configuration:g}=m.configuration,[w,k]=D.useState(4),C=a6*w,L=C-w,E=c==null?void 0:c.slice(L,C),y=()=>{k(w+o6)},S=()=>{if(c)return d.jsx(rr,{items:E,renderItems:(U,P)=>d.jsx(HN,{deptName:U.deptName,service:U.service,steps:U.steps,requirements:U.requirements},P)})},M=()=>{if(t==="bot")return d.jsx(U0,{chatBy:t,chat:e,img:g.icon,image:n,video:r,file:i,fileLink:s,fileType:o,link:l,linkMessage:u,depts:c,renderDeptsContent:S,timestamp:f,loadMore:y,numberOfDeptsToShow:w});if(t==="user")return d.jsx(U0,{chatBy:t,chat:e,timestamp:f})};return d.jsx(d.Fragment,{children:M()})};function u6(t){return fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function c6(t){return fe({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"},child:[]}]})(t)}function d6(t){return fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"},child:[]}]})(t)}function h6(t){return fe({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 0c17.7 0 32 14.3 32 32V96H472c39.8 0 72 32.2 72 72V440c0 39.8-32.2 72-72 72H168c-39.8 0-72-32.2-72-72V168c0-39.8 32.2-72 72-72H288V32c0-17.7 14.3-32 32-32zM208 384c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H208zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H304zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H400zM264 256a40 40 0 1 0 -80 0 40 40 0 1 0 80 0zm152 40a40 40 0 1 0 0-80 40 40 0 1 0 0 80zM48 224H64V416H48c-26.5 0-48-21.5-48-48V272c0-26.5 21.5-48 48-48zm544 0c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H576V224h16z"},child:[]}]})(t)}function f6(t){return fe({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M533.6 32.5C598.5 85.2 640 165.8 640 256s-41.5 170.7-106.4 223.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C557.5 398.2 592 331.2 592 256s-34.5-142.2-88.7-186.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM473.1 107c43.2 35.2 70.9 88.9 70.9 149s-27.7 113.8-70.9 149c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C475.3 341.3 496 301.1 496 256s-20.7-85.3-53.2-111.8c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zm-60.5 74.5C434.1 199.1 448 225.9 448 256s-13.9 56.9-35.4 74.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C393.1 284.4 400 271 400 256s-6.9-28.4-17.7-37.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM301.1 34.8C312.6 40 320 51.4 320 64V448c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352H64c-35.3 0-64-28.7-64-64V224c0-35.3 28.7-64 64-64h67.8L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3z"},child:[]}]})(t)}const p6=15,m6=10,g6=({botIsTyping:t,latestChat:e})=>{const n=D.useContext(Et),{conversation:r}=n.conversation,{error:i}=n.error,{isOnline:s}=n.isOnline,{backToView:o,setBackToView:l,handleScrollIntoView:u}=jN(),[c,f]=D.useState(p6),[m,g]=D.useState(!1),w=r.slice(Math.max(r.length-c,0)),k=D.useRef(null),C=D.useRef(null),L=async y=>{var I;const S=y.currentTarget.scrollTop,U=(y.currentTarget.scrollHeight-457)/2,P=(I=k.current)==null?void 0:I.children.length;try{typeof e.current=="object"&&P&&(S<=U&&P>10?l("show"):l("hide"),w.length!=r.length&&S==0&&(console.log("Loading more chats"),g(!0),await un(1),g(!1),f(c+m6),aN(C)))}catch(v){console.log(v)}},E=()=>{if(r)return d.jsx(rr,{items:w,renderItems:y=>d.jsx(l6,{role:y.role,chat:y.chat,image:y.image,video:y.video,file:y.file,fileLink:y.fileLink,fileType:y.fileType,link:y.link,linkMessage:y.linkMessage,depts:y.depts,timestamp:MN.format(new Date(y.timestamp.seconds*1e3))},y.chatId)})};return d.jsxs(d.Fragment,{children:[d.jsx(VN,{className:`${o} absolute bottom-[150px] animate-bounce bg-surface hover:bg-primary [&>svg>path]:hover:text-white dark:bg-dm-surface dark:border-transparent dark:hover:bg-dm-surface-dark [&>svg>path]:dark:hover:text-primary z-50`,onClick:()=>u(e),children:d.jsx(c6,{})}),d.jsxs("section",{className:"relative w-full h-full px-4 py-6 overflow-y-scroll scrollbar-thin scrollbar-track-transparent scrollbar-thumb-surface-dark dark:scrollbar-thumb-dm-surface",onScroll:L,children:[d.jsx(BN,{className:"mb-8",miniProfileRef:C}),m&&d.jsx(nE,{}),r?d.jsxs("div",{id:"chats",ref:k,children:[E(),t&&d.jsx(ON,{})]}):d.jsx(UN,{}),i&&d.jsx(O0,{message:"something went wrong!"}),!s&&d.jsx(O0,{message:"no internet connection."}),d.jsx("div",{ref:e})]})]})},cE=({className:t,message:e})=>d.jsx("div",{id:"screen-dimmer",className:`w-full h-full fixed top-0 inset-x-0 flex justify-center items-center pr-[30%] ${t}`,children:d.jsx("p",{className:"text-lg text-gray-300 animate-bounce select-none",children:e})}),v6=[{name:"appearance",settingType:"chat",icon:PN},{name:"sound",settingType:"chat",icon:f6}],z0=({name:t,checkedIf:e,onClick:n,onChange:r,state:i,icon:s})=>d.jsxs("label",{htmlFor:t,className:`${i?"w-full":"w-max md:w-full "} ${G2({variant:"settings",size:"full"})}`,onClick:n,children:[d.jsx("input",{type:"radio",name:"settings",id:t,value:t,checked:e,onChange:r,className:"hidden"}),i?d.jsx("span",{className:"md:block max-w-full truncate",children:t}):d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"hidden md:block max-w-full truncate",children:t}),d.jsx("div",{className:"text-xl p-0 md:hidden",children:s})]})]}),B0=({children:t})=>d.jsxs("div",{className:"flex flex-col space-y-2 mb-4",children:[t,d.jsx("hr",{className:"border-surface-dark dark:border-dm-surface "})]}),$0=({name:t})=>d.jsx("p",{className:"w-full min-h-[35px] md:min-h-0 md:mb-2 text-xs text-black/60 dark:text-white/50 font-helvetica-bold capitalize md:px-4 line-clamp-2 break-words",children:t}),y6=({state:t,handleSettingsChange:e,changeSetting:n})=>{const r=D.useContext(Et),{configuration:i}=r.configuration,[s,o]=D.useState(!1),l=D.useRef(null),u=()=>{o(!s)};return D.useEffect(()=>{const c=({target:f})=>{var m;(m=l.current)!=null&&m.contains(f)||o(!1)};return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[]),d.jsx(d.Fragment,{children:d.jsxs("nav",{className:`absolute top-0 left-0 bottom-0 h-full px-4 py-10 flex flex-col items-start sm:justify-between bg-surface dark:bg-dm-surface-dark ${s?"w-[50%] md:w-[20%]":"w-[20%] sm:w-[15%] md:w-[20%]"} z-50`,ref:l,children:[d.jsx(at,{variant:"icon",size:"icon",onClick:u,className:`${s?"bg-primary [&>svg>line]:text-white":"hover:bg-surface-dark dark:hover:bg-dm-surface"} [&>svg>line]:dark:text-white md:hidden mb-10`,children:d.jsx(Ym,{})}),d.jsxs("div",{className:"w-full",children:[d.jsxs(B0,{children:[d.jsx($0,{name:"chat settings"}),v6.filter(c=>c.settingType==="chat").map(c=>d.jsx(z0,{name:c.name,checkedIf:t==c.name,onClick:()=>n(c.name),onChange:e,icon:d.jsx(c.icon,{}),state:s},c.name))]}),d.jsxs(B0,{children:[d.jsx($0,{name:"about"}),d.jsx(z0,{name:i.name,checkedIf:t==i.name,onClick:()=>n(i.name),onChange:e,icon:d.jsx(h6,{}),state:s})]})]}),d.jsx(Y2,{className:"text-xs px-2 md:px-4 text-black/60 dark:text-white/50 mt-auto",text:`${s?"Version ":"v"}`})]})})},eg=({text:t="Settings Title"})=>d.jsx("h1",{className:"capitalize text-3xl font-bold dark:text-white w-max",children:t}),Th=({style:t,chat:e,linkedChat:n})=>{const r=D.useContext(Et),{configuration:i}=r.configuration;return d.jsx("div",{style:t,className:"bot chat",children:d.jsxs("div",{className:"w-full relative flex items-center gap-2 mt-3 mb-2",children:[d.jsx("img",{src:i.icon,alt:"Chatbot Icon",width:35,height:35,className:"rounded-full aspect-square object-cover select-none"}),e&&d.jsxs("div",{className:"max-w-[80%] rounded-3xl shadow bg-surface dark:bg-dm-surface px-4 py-3 space-y-2 break-words",children:[d.jsx("p",{id:"chat",className:"dark:text-white",children:e}),d.jsx("div",{id:"timeSent",className:"w-full text-gray-500 dark:text-gray-300 text-xs text-right opacity-80",children:new Date().toLocaleTimeString().replace(/(.*)\D\d+/,"$1")})]}),n&&d.jsxs("div",{className:"max-w-[80%] rounded-3xl shadow bg-surface dark:bg-dm-surface px-4 py-3 space-y-2 break-words cursor-pointer group",children:[d.jsx("button",{className:"text-left text-primary dark:text-secondary font-semibold group-hover:underline",children:n}),d.jsx("div",{id:"timeSent",className:"w-full text-gray-500 dark:text-gray-300 text-xs text-right opacity-80",children:new Date().toLocaleTimeString().replace(/(.*)\D\d+/,"$1")})]})]})})},H0=({style:t,chat:e})=>d.jsx("div",{style:t,className:"user chat",children:d.jsx("div",{className:"w-full flex justify-end mt-3 mb-2",children:d.jsxs("div",{className:"max-w-[80%] rounded-3xl shadow bg-primary text-white px-4 py-3 space-y-2 break-words",children:[d.jsx("p",{id:"chat",children:e}),d.jsx("div",{id:"timeSent",className:"w-full text-gray-300 text-xs text-right opacity-80",children:new Date().toLocaleTimeString().replace(/(.*)\D\d+/,"$1")})]})})}),_6=()=>{const t=D.useContext(Et),{configuration:e}=t.configuration,n=D.useContext(Lo),{fontSize:r}=n.size,{fontFamily:i}=n.family;return d.jsxs("div",{className:"max-w-[500px] w-full h-[700px] hidden md:flex flex-col items-center bg-background dark:bg-dm-background border border-surface-dark dark:border-dm-surface rounded-xl",style:{fontFamily:i},children:[d.jsx("header",{className:"w-full flex items-center justify-between px-4 py-4 mr-auto shadow-md dark:shadow-dm-surface-dark",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("img",{src:e.icon,alt:"",width:45,height:45,className:"rounded-full sm:w-[45px] sm:h-[45px] aspect-square object-cover select-none"}),d.jsx("h3",{className:"text-2xl capitalize font-semibold dark:text-white",children:"preview"})]})}),d.jsxs("div",{className:"w-full max-h-[612px] h-full px-4 py-6 overflow-y-scroll scrollbar-thin scrollbar-track-transparent scrollbar-thumb-surface-dark dark:scrollbar-thumb-dm-surface",children:[d.jsx(H0,{style:{fontSize:r},chat:"Sometimes, changing fonts helps us to read text clearly. Especially when we have eye problems "}),d.jsx(H0,{style:{fontSize:r},chat:`Your messages to ${e.name} will look like this.`}),d.jsx(Th,{style:{fontSize:r},chat:`Meanwhile, ${e.name}'s messages will look like this.`}),d.jsx(Th,{style:{fontSize:r},chat:`And when ${e.name} send a link`}),d.jsx(Th,{style:{fontSize:r},linkedChat:"It will look like this"})]}),d.jsx("section",{className:"w-full max-w-[95%] rounded-3xl border border-surface dark:border-dm-surface-dark dark:bg-dm-surface text-xs xs:text-sm sm:text-base flex justify-around sm:justify-center xl:justify-around gap-x-2 sm:gap-x-8 xl:gap-x-2 px-4 py-2 mt-auto outline-none",children:rE.list.map((s,o)=>d.jsx(iE,{children:s.displayedText},o))}),d.jsxs("div",{className:"w-full flex justify-between items-center gap-1 px-2 py-2",children:[d.jsx(at,{variant:"icon",size:"icon",className:"text-primary hover:bg-surface dark:hover:bg-dm-surface",type:"button",children:d.jsx(Ym,{})}),d.jsx("label",{htmlFor:"sameple-chat-preview-ls",className:"w-full px-4 py-3 rounded-3xl flex items-center border border-surface-dark focus-within:border-primary dark:border-transparent dark:bg-dm-surface dark:focus-within:bg-dm-surface-light cursor-text",children:d.jsx(oE,{name:"sameple-chat-preview-ls",id:"sameple-chat-preview-ls",className:"max-h-[100px] w-full dark:text-white outline-none bg-transparent dark:focus:bg-dm-surface-light placeholder:text-sm sm:placeholder:text-base placeholder:opacity-80 caret-primary dark:caret-secondary scrollbar-thin scrollbar-track-transparent scrollbar-thumb-surface-dark dark:scrollbar-thumb-dm-surface-dark",placeholder:"The fonts only apply to chat"})}),d.jsx(at,{variant:"icon",size:"icon",className:"text-primary active:translate-x-1 hover:bg-surface dark:hover:bg-dm-surface cursor-pointer",type:"submit",children:d.jsx(aE,{})})]})]})},w6="themes",x6=[{id:"1",name:"light",value:"light"},{id:"2",name:"dark",value:"dark"},{id:"3",name:"system",value:"system"}],E6={name:w6,modes:x6},jo=({text:t="Settings Mini Title"})=>d.jsx("h3",{className:"capitalize text-lg font-semibold mb-2 text-black/60 dark:text-white/50",children:t}),Pl=({name:t,id:e,value:n,checkedIf:r,onClick:i,onChange:s,style:o,displayedText:l})=>d.jsx(at,{variant:"radio",size:"lg",className:"w-[120px] capitalize active:translate-y-1",onClick:i,children:d.jsxs("label",{htmlFor:e,className:"pointer-events-none truncate",style:o,children:[d.jsx("input",{type:"radio",name:t,id:e,value:n,checked:r,onChange:s,className:"hidden"}),l]})}),Nl=({...t})=>d.jsx("div",{className:"inline-grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 2xl:grid-cols-3 gap-5",...t}),Sd=({children:t,className:e})=>d.jsx("div",{className:`w-max ${e}`,children:t}),T6=()=>{const t=D.useContext(Wm),{resolvedTheme:e,setTheme:n}=t.default,r=i=>{n(i.target.value)};return d.jsxs(Sd,{children:[d.jsx(jo,{text:"theme"}),d.jsx(Nl,{children:d.jsx(rr,{items:E6.modes,renderItems:i=>d.jsx(Pl,{name:"themes",id:i.value,value:i.value,checkedIf:e==i.value,onChange:r,onClick:()=>t.changeTheme(i.value),displayedText:i.name},i.id)})})]})},I6=()=>{const t=D.useContext(Lo),{fontFamily:e,setFontFamily:n}=t.family,r=i=>{n(i.target.value)};return d.jsxs(Sd,{children:[d.jsx(jo,{text:"font family"}),d.jsx(Nl,{children:d.jsx(rr,{items:Xm.list,renderItems:i=>d.jsx(Pl,{name:"font-families",id:i.value,value:i.value,checkedIf:e==i.value,onChange:r,onClick:()=>t.changeFontFamily(i.value),style:{fontFamily:i.value},displayedText:i.name},i.value)})})]})},S6=[{name:"small",value:8},{name:"medium",value:12},{name:"normal",value:16},{name:"large",value:24},{name:"extra large",value:32},{name:"2XL",value:48}],b6=()=>{const t=D.useContext(Lo),{fontSize:e,setFontSize:n}=t.size,r=i=>{n(parseInt(i.target.value))};return d.jsxs(Sd,{children:[d.jsx(jo,{text:"font size"}),d.jsx(Nl,{children:d.jsx(rr,{items:S6,renderItems:i=>d.jsx(Pl,{name:"font-sizes",id:i.value.toString(),value:i.value,checkedIf:e==i.value,onChange:r,onClick:()=>t.changeFontSize(i.value),displayedText:i.name},i.value)})})]})},dE=({children:t})=>d.jsx("div",{className:"flex flex-col items-start gap-8",children:t}),k6=[{name:"small",value:100},{name:"medium",value:200},{name:"large",value:300}],C6=()=>{const t=D.useContext(Et),{configuration:e}=t.configuration,n=D.useContext(No),{chatHeadSize:r}=n.chatHeadSize;return d.jsx("div",{className:"hidden xs:block w-max h-max rounded-full overflow-hidden ",children:d.jsx("img",{src:e.widgetIcon,alt:"chat head logo",width:r,height:r,className:"aspect-square object-cover"})})},A6=()=>{const t=D.useContext(No),{chatHeadSize:e,setChatHeadSize:n}=t.chatHeadSize,r=i=>{n(parseInt(i.target.value))};return d.jsxs(Sd,{className:"block",children:[d.jsx(jo,{text:"chat head size"}),d.jsx(Nl,{children:d.jsx(rr,{items:k6,renderItems:i=>d.jsx(Pl,{name:"chat-head-size",id:i.value.toString(),value:i.value,checkedIf:e==i.value,onChange:r,onClick:()=>t.changeChatHeadSize(i.value),displayedText:i.name},i.value)})}),d.jsx("div",{className:"flex flex-col items-center md:items-start 2xl:items-center mt-8",children:d.jsx(C6,{})})]})},q0=()=>d.jsx(d.Fragment,{children:d.jsxs("section",{className:"flex flex-col gap-8",children:[d.jsx(eg,{text:"appearance"}),d.jsxs("div",{className:"flex flex-col 2xl:flex-row 2xl:justify-between gap-y-10 gap-x-6",children:[d.jsxs(dE,{children:[d.jsx(T6,{}),d.jsx(I6,{}),d.jsx(b6,{}),d.jsx(A6,{})]}),d.jsx(_6,{})]}),d.jsx("hr",{className:"w-full border-surface-dark dark:border-dm-surface-light"})]})}),R6=X2,P6=J2,W0=Wf,N6=[{name:"minimal pop",value:"minimalpop"},{name:"happy pop",value:"happypop"},{name:"multi pop",value:"multipop"}],D6=()=>{const{playChatSentSound:t}=Z2(),e=D.useContext(Jm),{chatSentSound:n,setChatSentSound:r}=e.chatSent,i=o=>{r(o.target.value)},s=o=>{switch(o){case"minimalpop":r(o),localStorage.setItem("chatSentSound",o),t(R6);break;case"happypop":r(o),localStorage.setItem("chatSentSound",o),t(P6);break;case"multipop":r(o),localStorage.setItem("chatSentSound",o),t(W0);break;default:r("multipop"),t(W0);break}};return d.jsxs("div",{children:[d.jsx(jo,{text:"chat sent"}),d.jsx(Nl,{children:d.jsx(rr,{items:N6,renderItems:o=>d.jsx(Pl,{name:"message-sent-sounds",id:o.value,value:o.value,checkedIf:n==o.value,onChange:i,onClick:()=>s(o.value),displayedText:o.name},o.value)})})]})},L6=()=>d.jsxs("section",{className:"flex flex-col gap-8",children:[d.jsx(eg,{text:"sound"}),d.jsx(dE,{children:d.jsx(D6,{})}),d.jsx("hr",{className:"w-full border-surface-dark dark:border-dm-surface-light"})]}),G0=({to:t,src:e,alt:n,text:r})=>d.jsx(d.Fragment,{children:e?d.jsxs(is,{to:t,target:"_blank",className:"relative flex justify-center items-center cursor-pointer rounded-full group",children:[d.jsx(Zm,{src:e,alt:n,variant:"icon",size:"xl",className:"group-hover:opacity-60 dark:group-hover:opacity-50"}),d.jsx("p",{className:"absolute opacity-0 group-hover:opacity-100 text-white text-xl font-helvetica-rounded-bold capitalize",children:r})]}):d.jsx($u,{variant:"icon",className:"w-full"})}),j6=({className:t})=>{const e=D.useContext(Et),{configuration:n}=e.configuration;return d.jsxs("section",{id:"bot-profile",className:`flex flex-col items-center pt-10 ${t}`,children:[d.jsx(Zm,{src:n.icon,alt:"Chatbot Icon",variant:"icon",size:"lg",className:"mb-2"}),d.jsxs("div",{id:"details",className:"w-full flex flex-col items-center text-center mb-4 p-2",children:[d.jsxs("div",{className:"mb-4 space-y-2",children:[d.jsx("h1",{className:"max-w-full font-bold text-2xl sm:text-4xl  dark:text-white capitalize line-clamp-5",children:n.name}),d.jsx("h3",{className:"max-w-full dark:text-white sm:text-lg  line-clamp-5",children:n.slogan})]}),d.jsxs("div",{className:"space-y-8",children:[d.jsx("p",{className:"max-w-[600px] text-left text-black/80 dark:text-white/80 text-sm whitespace-pre-line",children:si.about}),d.jsxs("section",{className:"flex flex-col items-center gap-8 text-black/90 dark:text-white/90",children:[d.jsx("h2",{className:"font-semibold text-xl",children:"Meet my creators!"}),d.jsxs("div",{className:"inline-grid grid-cols-2 gap-4",children:[d.jsx(G0,{to:"https://moonbamiofficial.vercel.app/",src:"https://avatars.githubusercontent.com/u/141120384?v=4",alt:"Jam Moonbami",text:"moonbami"}),d.jsx(G0,{to:"https://www.facebook.com/JirehTumbagahan",src:"https://avatars.githubusercontent.com/u/106262567?v=4",alt:"Jireh",text:"ecchiko"})]})]})]})]}),d.jsx(is,{to:"/",className:"my-8",children:d.jsx(at,{variant:"cta",size:"xl",className:"text-sm border border-surface dark:border-dm-surface bg-surface dark:bg-dm-surface hover:bg-primary dark:hover:bg-primary dark:text-white hover:text-white",children:"back to homepage"})}),d.jsx("hr",{className:"w-full border-surface-dark dark:border-dm-surface-light"})]})},M6=()=>{const t=D.useContext(Et),{configuration:e}=t.configuration;return d.jsxs("section",{className:"flex flex-col gap-8",children:[d.jsx(eg,{text:"about"}),d.jsx("div",{className:"flex flex-col gap-y-10 gap-x-6",children:d.jsxs("div",{children:[d.jsx(jo,{text:e.name}),d.jsx(j6,{})]})})]})},V6=({settings:t,toggleSettings:e})=>{const n=D.useContext(Et),{configuration:r}=n.configuration,[i,s]=D.useState("appearance"),o=c=>{s(c.target.value)},l=c=>{switch(c){case"appearance":s(c);break;case"sound":s(c);break;case r.name:s(c);break;default:s("appearance");break}},u=()=>{switch(i){case"appearance":return d.jsx(q0,{});case"sound":return d.jsx(L6,{});case r.name:return d.jsx(M6,{});default:return d.jsx(q0,{})}};return d.jsxs(d.Fragment,{children:[d.jsxs("section",{className:`fixed xl:top-[50%] xl:translate-y-[-50%] xl:inset-x-0 mx-auto xl:max-w-[75%] w-full xl:max-h-[90%] h-full xl:rounded-lg border-none overflow-hidden bg-background dark:bg-dm-surface-light flex z-[150] ${t?"animate-open-modal opacity-100 visible":"opacity-0 invisible hidden"}`,children:[d.jsx(y6,{state:i,handleSettingsChange:o,changeSetting:l}),d.jsx("div",{className:"w-full pl-[23%] sm:pl-[18%] md:pl-[23%] pr-6 xl:pr-8 py-20 dark:bg-dm-background overflow-y-scroll scrollbar-thin scrollbar-track-transparent scrollbar-thumb-surface-dark dark:scrollbar-thumb-dm-surface-dark",children:u()}),d.jsx(at,{variant:"destructiveOutline",size:"lg",className:"hidden sm:block absolute top-4 right-20 border-surface dark:border-dm-surface bg-surface dark:bg-dm-surface hover:text-white dark:hover:text-white",onClick:e,children:"back"}),d.jsx(at,{variant:"icon",size:"icon",className:"sm:hidden border ml-auto text-error border-surface dark:border-dm-surface bg-surface dark:bg-dm-surface dark:hover:bg-error hover:bg-error [&>svg>path]:hover:text-white absolute top-4 right-10",onClick:e,children:d.jsx(uE,{})})]}),d.jsx(cE,{className:`${t?"backdrop-blur":"opacity-0 invisible"} bg-black/30 z-[140]`})]})},O6=({toggleSettings:t,closeUsing:e})=>{const n=D.useContext(Et),{configuration:r}=(n==null?void 0:n.configuration)||{};return d.jsxs("header",{id:"chat-ui-header",className:"w-full flex items-center justify-between px-4 py-2 sm:py-3 lg:py-4 mr-auto border-b-2 dark:border-b-dm-surface-dark",children:[d.jsxs("button",{onClick:t,id:"chatbot-detai",className:"max-w-[60%] w-full flex items-center gap-4",children:[d.jsx("img",{src:r==null?void 0:r.icon,alt:"Chatbot Icon",width:40,height:40,className:"rounded-full sm:w-[45px] sm:h-[45px] aspect-square object-cover select-none"}),d.jsx("h3",{className:"max-w-max text-xl sm:text-2xl capitalize font-semibold dark:text-white truncate",children:r==null?void 0:r.name})]}),d.jsxs("menu",{className:"flex gap-4 justify-end items-center",children:[d.jsx(at,{variant:"icon",size:"icon",className:"rounded-full hover:bg-primary hover:rotate-180 [&>svg>path]:hover:text-white [&>svg>path]:dark:text-white",onClick:t,children:d.jsx(DN,{})}),d.jsx(at,{variant:"icon",size:"icon",className:"rounded-full hover:bg-error group [&>svg>path]:hover:text-white [&>svg>path]:dark:text-white",onClick:e,children:d.jsx(NN,{})})]})]})},F6=({closeUsing:t})=>{const{latestChat:e,faqsRef:n,settings:r,isFaqsMenuActive:i,setIsFaqsMenuActive:s,userMessage:o,setUserMessage:l,botIsTyping:u,toggleSettings:c,sendMessageToBot:f,sendFaqToBot:m,isAtLatestChat:g}=tE(),w=D.useContext(Id),{isSignedIn:k}=w.user,C=D.useContext(Et),{configuration:L}=C.configuration,E=D.useContext(Lo),{fontFamily:y}=E.family,S=D.useContext(No),{isChatActive:M}=S.active,U=()=>{if(g&&k&&L.icon)return d.jsxs("div",{id:"message-box",className:`w-full h-full xl:max-w-[500px] fixed flex flex-col items-center xl:right-[10%] xl:bottom-[8%] bg-background dark:bg-dm-background xl:rounded-xl overflow-hidden z-[100] ${M?"":"translate-y-full opacity-0 invisible"} [@media_((min-height:0px)_and_(min-width:1280px))]:max-h-[85%]`,style:{fontFamily:y},children:[d.jsx(O6,{toggleSettings:c,closeUsing:t}),d.jsx(g6,{botIsTyping:u,latestChat:e}),d.jsx(mN,{sendMessageToBot:f}),d.jsx(LN,{faqsRef:n,sendMessageToBot:f,sendFaqToBot:m,userMessage:o,setUserMessage:l,isFaqsMenuActive:i,setIsFaqsMenuActive:s})]})};return d.jsxs(d.Fragment,{children:[U(),d.jsx(V6,{settings:r,toggleSettings:c})]})},Ih=({children:t,className:e})=>d.jsx("section",{className:`md:container md:max-w-[756px] lg:max-w-[1021px] flex flex-col ${e}`,children:t}),K0=({href:t,text:e})=>d.jsx("a",{href:t,className:"capitalize font-bold py-5",children:e});function U6(t){return fe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11.9999 13.1714L16.9497 8.22168L18.3639 9.63589L11.9999 15.9999L5.63599 9.63589L7.0502 8.22168L11.9999 13.1714Z"},child:[]}]})(t)}function z6(t){return fe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10.8284 12.0007L15.7782 16.9504L14.364 18.3646L8 12.0007L14.364 5.63672L15.7782 7.05093L10.8284 12.0007Z"},child:[]}]})(t)}function B6(t){return fe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13.1717 12.0007L8.22192 7.05093L9.63614 5.63672L16.0001 12.0007L9.63614 18.3646L8.22192 16.9504L13.1717 12.0007Z"},child:[]}]})(t)}const pa=({text:t,dropdownOne:e,dropdownTwo:n,dropdownThree:r,dropdownFour:i,dropdownFive:s,toggle:o,href:l})=>d.jsxs("div",{onMouseEnter:o,onMouseLeave:o,className:"relative flex items-center gap-1 py-5 cursor-pointer",children:[l?d.jsx("a",{href:l,className:"capitalize font-bold w-full h-full",children:t}):d.jsx("p",{className:"capitalize font-bold",children:t}),d.jsx("span",{className:"[&>svg>path]:font-semibold",children:d.jsx(U6,{})}),e&&d.jsxs(ma,{children:[d.jsx(je,{href:"https://bacoor.gov.ph/uncategorized/vision-mission/",text:"mission & vision"}),d.jsx(je,{href:"https://bacoor.gov.ph/historical-background-of-bacoor/",text:"historical background of bacoor"}),d.jsx(je,{href:"https://bacoor.gov.ph/videos/352nd-bakood-festival/",text:"352nd bacoor festival"}),d.jsx(je,{href:"https://bacoor.gov.ph/ang-himno-ng-bacoor/",text:"ang himno ng bacoor"}),d.jsx(je,{href:"https://bacoor.gov.ph/category/tourism/",text:"tourism"})]}),n&&d.jsxs(ma,{children:[d.jsx(je,{href:"#",text:"citizen charter"}),d.jsx(je,{href:"https://bacoor.gov.ph/city-officials/",text:"city officials"}),d.jsx(je,{href:"https://bacoor.gov.ph/city-and-units-heads/",text:"city department and unit heads"}),d.jsx(je,{href:"https://bacoor.gov.ph/barangay-officials-2023/",text:"barangay officials"}),d.jsx(je,{href:"http://bacoorcitysp.com/legislative-tracker/",text:"city ordinances"}),d.jsx(je,{href:"#",text:"DILG Full Disclosure Policy"}),d.jsx(je,{href:"https://bacoor.gov.ph/clup-2015-2024/",text:"CLUP (2015-2024)"}),d.jsx(je,{href:"https://bacoor.gov.ph/job-vacancies/",text:"job vacancies"}),d.jsx(je,{href:"https://bacoor.gov.ph/privacy-policy/",text:"privacy policy"}),d.jsx(je,{href:"https://bacoor.gov.ph/iso-quality-management-system/",text:"ISO (Quality Management System)"})]}),r&&d.jsxs(ma,{children:[d.jsx(je,{href:"https://bacoor.gov.ph/category/awards/",text:"Awards / Accomplishment"}),d.jsx(je,{href:"https://www.facebook.com/MayorStrikeRevilla",text:"Official Facebook"}),d.jsx(je,{href:"https://www.strikesaserbisyo.com/",text:"Strike Sa Serbisyo App Website"}),d.jsx(je,{href:"#",text:"Mayor Strike - SCAN ME"})]}),i&&d.jsxs(ma,{children:[d.jsx(je,{href:"https://boss.bacoor.gov.ph/",text:"Online Application for Business & Building Permits"}),d.jsx(je,{href:"https://boss.bacoor.gov.ph/",text:"Online Appointment for Real Property Tax, Business & Building Permits"}),d.jsx(je,{href:"https://boss.bacoor.gov.ph/",text:"Solidarity Route Online Registration System"}),d.jsx(je,{href:"http://bacoorcitysp.com/legislative-tracker/",text:"city ordinances"})]}),s&&d.jsxs(ma,{children:[d.jsx(je,{href:"https://bacoor.gov.ph/bacoor-hospital-directory/",text:"hospital directory"}),d.jsx(je,{href:"https://bacoor.gov.ph/local-directory-of-bacoor-government-center/",text:"Local Gov't Offices"}),d.jsx(je,{href:"https://bacoor.gov.ph/city-and-units-heads/",text:"City Department and Unit Heads"}),d.jsx(je,{href:"https://bacoor.gov.ph/barangay-hall-directory/",text:"barangay hall"}),d.jsx(je,{href:"https://bacoor.gov.ph/national-government-agenciesoffices/",text:"National Government Agencies/Offices"})]})]}),ma=({children:t})=>d.jsx("div",{className:"w-[250px] absolute top-[60px] -left-6 flex flex-col text-xs text-black bg-white py-2 px-6",children:t}),je=({href:t,text:e})=>d.jsx("a",{href:t,className:"capitalize py-3 text-xs font-bold hover:text-[#ff0202]",children:e});function $6(t){return fe({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(t)}function H6(t){return fe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M447.8 153.6c-2 43.6-32.4 103.3-91.4 179.1-60.9 79.2-112.4 118.8-154.6 118.8-26.1 0-48.2-24.1-66.3-72.3C100.3 250 85.3 174.3 56.2 174.3c-3.4 0-15.1 7.1-35.2 21.1L0 168.2c51.6-45.3 100.9-95.7 131.8-98.5 34.9-3.4 56.3 20.5 64.4 71.5 28.7 181.5 41.4 208.9 93.6 126.7 18.7-29.6 28.8-52.1 30.2-67.6 4.8-45.9-35.8-42.8-63.3-31 22-72.1 64.1-107.1 126.2-105.1 45.8 1.2 67.5 31.1 64.9 89.4z"},child:[]}]})(t)}function q6(t){return fe({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(t)}function W6(t){return fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}const hE="/user/assets/city-hall-logo-DhRF3KuD.png",G6=({isMenuActive:t,setIsMenuActive:e,isSearchActive:n,setIsSearchActive:r})=>{const[i,s]=D.useState(!1),[o,l]=D.useState(!1),[u,c]=D.useState(!1),[f,m]=D.useState(!1),[g,w]=D.useState(!1),k=()=>{s(!i)},C=()=>{l(!o)},L=()=>{c(!u)},E=()=>{m(!f)},y=()=>{w(!g)};return d.jsxs("header",{className:" bg-[#1a94d5] text-white text-sm z-10",children:[d.jsxs("nav",{className:"hidden md:flex w-full items-center gap-[30px] pl-8",children:[d.jsx(K0,{href:"https://bacoor.gov.ph/",text:"home"}),d.jsx(pa,{text:"about bacoor",dropdownOne:i,toggle:k}),d.jsx(pa,{text:"city government",dropdownTwo:o,toggle:C}),d.jsx(pa,{href:"https://bacoor.gov.ph/mayor-strike-b-revilla-feed/",text:"mayor's corner",dropdownThree:u,toggle:L}),d.jsx(K0,{href:"https://bacoor.gov.ph/category/gallery/",text:"gallery"}),d.jsx(pa,{text:"services",dropdownFour:f,toggle:E}),d.jsx(pa,{text:"directory",dropdownFive:g,toggle:y}),d.jsx("button",{"aria-label":"Search Button",id:"search",className:"text-lg p-5 ml-auto",children:d.jsx(d6,{})})]}),d.jsxs("nav",{className:"flex items-center justify-between md:hidden",children:[d.jsx(at,{onClick:()=>e(!t),className:"bg-transparent dark:bg-transparent border-none m-2",children:d.jsx(WN,{className:"text-4xl text-[#ff0202]"})}),d.jsx("a",{href:"/bacoor-gov",children:d.jsx("img",{src:hE,alt:"",className:"max-w-[40px]"})}),d.jsx(at,{onClick:()=>r(!n),className:"bg-transparent dark:bg-transparent border-none m-2",children:d.jsx(W6,{className:"text-2xl text-[#ff0202]"})})]})]})},Mc=new Date,K6=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Q6=["January","February","March","April","May","June","July","August","September","October","November","December"],Y6=K6[Mc.getDay()],X6=Q6[Mc.getMonth()],J6=`${Y6}, ${X6} ${Mc.getDate()}, ${Mc.getFullYear()}`,Z6=()=>d.jsx(d.Fragment,{children:d.jsxs("div",{id:"date-header",className:"w-full relative flex gap-10 text-xs py-1 text-white font-bold uppercase",children:[d.jsx("div",{id:"city",className:"",children:d.jsx("p",{children:"bacoor"})}),d.jsx("p",{id:"date",children:J6})]})}),e9=()=>d.jsx("a",{"aria-label":"Bacoor City Hall Logo",href:"/bacoor-gov",className:"w-[125px] h-[125px] mx-auto",children:d.jsx("img",{src:hE,alt:"Bacoor City Hall Logo",id:"main-logo",className:"rounded-full"})}),t9="/user/assets/article-image-1-6tQld0xJ.jpg",n9="/user/assets/article-image-2-B6HQEfwh.png",r9="/user/assets/article-image-3-Cavo1pST.png",i9="/user/assets/article-image-4-DsJ6AYkb.png",s9=()=>d.jsxs("article",{id:"left",className:"max-w-[680px] w-full h-full flex flex-col items-center",children:[d.jsx("img",{src:t9,alt:"",width:600,height:480,className:"p-5"}),d.jsxs("div",{className:"text-sm p-5",children:[d.jsx("a",{href:"https://bacoor.gov.ph/latest-news/parent-leaders-ng-zapote-3-nagbigay-ng-liham-para-kay-mayor-strike-b-revilla/",className:"mb-2",children:d.jsx("img",{src:n9,alt:"",className:"max-w"})}),d.jsx("p",{children:"Nabasa ni Mayor Strike B. Revilla ang pinadalang message sa kanya ng Parent Leaders ng Longos Zapote 3 sa kanyang opisina sa Bacoor City Hall. Masaya po naming nasaksihan ang naramdamang saya at lakas ng ating Mayor kanina. Nakakatuwa po..."})]}),d.jsxs("div",{className:"text-sm p-5",children:[d.jsx("a",{href:"https://bacoor.gov.ph/latest-news/tignan-unang-araw-ng-senakulo-ginanap-sa-san-nicolas-3/",className:"mb-2",children:d.jsx("img",{src:r9,alt:"",className:"max-w"})}),d.jsx("p",{children:"Noong March 25, 2024, isinagawa ang unang araw ng Senakulo na ginanap sa San Nicolas 3. Dumalo rin naman sa unang araw si Fr. Ramoncito Tadepa na nanguna sa pagbibigay ng Banal na Misa na nilahukan naman ito na Senakulista..."})]}),d.jsxs("div",{className:"text-sm p-5",children:[d.jsx("a",{href:"https://bacoor.gov.ph/latest-news/parent-leaders-ng-zapote-3-nagbigay-ng-liham-para-kay-mayor-strike-b-revilla/",className:"mb-2",children:d.jsx("img",{src:i9,alt:"",className:"max-w"})}),d.jsx("p",{children:'In a remarkable display of unity and collaboration, the City of Bacoor witnessed the launch of a groundbreaking partnership between private and public schools. The event, titled "Strike As 1 Ng Mga Nagkakaisang Paaralan," was organized by Mayor Strike...'})]})]});function o9(t){return fe({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"},child:[]}]})(t)}const Ki=({text:t})=>d.jsx("div",{className:"bg-[#ff0202] px-3 capitalize text-white font-semibold text-sm rounded mr-auto inline",children:t}),a9="/user/assets/bacoor-city-hall-BIxqV_j3.png",l9=()=>d.jsxs("article",{id:"right",className:"md:max-w-[340px] w-full border-l border-gray-300 ",children:[d.jsxs("div",{id:"about-bacoor",className:"flex flex-col gap-5 items-center px-5 pt-5 pb-10",children:[d.jsx(Ki,{text:"about bacoor"}),d.jsx("img",{src:a9,alt:"",width:300,height:100}),d.jsx("p",{className:"text-sm text-justify",children:"The City Government of Bacoor is the gateway to the province of Cavite. Bacoor is the first capital of the Revolutionary Government under General Emilio Aguinaldo. A historical landmark in our forebears' quest for Philippine Independence was the hard-fought Battle of Zapote Bridge on February 17, 1897. Gargano was the revolutionary name given to Bacoor."}),d.jsxs("a",{href:"http://bacoor.gov.ph/historical-background-of-bacoor/",className:"px-5 py-2 bg-[#1a94d5] rounded text-sm text-white capitalize flex items-center gap-1 ",children:[d.jsx(o9,{}),"history of bacoor"]}),d.jsxs("div",{id:"mission-vision",className:"text-sm",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"capitalize text-center text-xl pb-5",children:"mission"}),d.jsx("p",{className:"text-center",children:"To institute good governance, promote culture, trade and investment in the City, through modern technology towards a safe and sound environment."})]}),d.jsxs("div",{children:[d.jsx("h1",{className:"capitalize text-center text-xl pb-5",children:"vision"}),d.jsx("p",{className:"text-center t",children:"City of Bacoor: A model first class city, home of resilient, empowered, environment-friendly citizens, proud of their rich history and culture ably led by people-centered public servants united and guided by the rule of law, love of country and of God."})]})]})]}),d.jsxs("div",{id:"announcements",className:"flex flex-col bg-black text-white p-5",children:[d.jsx(Ki,{text:"announcement"}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"Memorandum Order No. 10 Series of 2024"}),d.jsx("p",{className:"text-xs text-gray-300",children:"March 25, 2024"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"Advisory: Heavy Traffic"}),d.jsx("p",{className:"text-xs text-gray-300",children:"March 18, 2024"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"SPECIAL (NON-WORKING) HOLIDAY in the province of Cavite through Proclamation No. 492"}),d.jsx("p",{className:"text-xs text-gray-300",children:"March 14, 2024"})]})]}),d.jsxs("div",{id:"city-bulletin",className:"flex flex-col p-5",children:[d.jsx(Ki,{text:"city bulletin"}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"Annual Procurement Plan 2024"}),d.jsx("p",{className:"text-xs",children:"January 31, 2024"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"ANNUAL BUDGET 2024"}),d.jsx("p",{className:"text-xs",children:"December 6, 2023"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"Public-Private Partnership Selection Committee Invitation for Comparative Proposals"}),d.jsx("p",{className:"text-xs",children:"November 7, 2023"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"CERTIFICATION OF BARANGAY MERGER"}),d.jsx("p",{className:"text-xs",children:"September 15, 2023"})]})]}),d.jsxs("div",{id:"announcements",className:"flex flex-col bg-black text-white p-5",children:[d.jsx(Ki,{text:"DILG Full Disclosure Policy"}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"DILG Full Disclosure Policy 2024"}),d.jsx("p",{className:"text-xs text-gray-300",children:"January 3, 2024"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"DILG Full Disclosure Policy 2023"}),d.jsx("p",{className:"text-xs text-gray-300",children:"December 19, 2022"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"DILG Full Disclosure Policy 2022"}),d.jsx("p",{className:"text-xs text-gray-300",children:"January 4, 2022"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"DILG Full Disclosure Policy 2021"}),d.jsx("p",{className:"text-xs text-gray-300",children:"January 7, 2021"})]}),d.jsxs("div",{className:"pt-5",children:[d.jsx("h3",{className:"font-semibold mb-1",children:"DILG Full Disclosure Policy 2020"}),d.jsx("p",{className:"text-xs text-gray-300",children:"January 7, 2020"})]})]})]}),u9="/user/assets/strike-scan-BmL1ajXO.jpg",c9="/user/assets/fb-page-5ekxKhTM.png",d9=()=>d.jsxs("footer",{className:"flex flex-col",children:[d.jsxs("div",{className:"flex flex-col md:flex-row gap-12 px-10 mt-16",children:[d.jsxs("div",{id:"fb-page",className:"max-w-[340px] flex flex-col mb-5",children:[d.jsx(Ki,{text:"LIKE US ON FACEBOOK:"}),d.jsx("a",{href:"https://www.facebook.com/CityGovtBacoor/?ref=embed_page",className:"w-[200px] inline",children:d.jsx("img",{src:c9,alt:"",width:200,height:500})})]}),d.jsxs("div",{id:"hotlines",className:"max-w-[340px] flex flex-col",children:[d.jsx("div",{className:"mb-5",children:d.jsx(Ki,{text:"EMERGENCY HOTLINES:"})}),d.jsxs("div",{className:"",children:[d.jsx("h1",{className:"text-[#ed1a3b]",children:"Bacoor Disaster Risk Reduction and Management Office (BDRRMO)"}),d.jsx("p",{className:"text-white text-sm",children:"(046) 417-0727"})]}),d.jsxs("div",{className:"",children:[d.jsx("h1",{className:"text-[#ed1a3b]",children:"Philippine National Police-Bacoor City (PNP)"}),d.jsx("p",{className:"text-white text-sm",children:"(046) 417-6366"})]}),d.jsxs("div",{className:"",children:[d.jsx("h1",{className:"text-[#ed1a3b]",children:"Bureau of Fire Protection-Bacoor City (BFP)"}),d.jsx("p",{className:"text-white text-sm",children:"(046) 417-6060"})]}),d.jsxs("div",{className:"",children:[d.jsx("h1",{className:"text-[#ed1a3b]",children:"BCity Information Office"}),d.jsx("p",{className:"text-white text-sm",children:"(046) 481-4120"})]})]}),d.jsxs("div",{id:"strike-scan",className:"max-w-[340px] flex flex-col",children:[d.jsx("div",{className:"mb-5",children:d.jsx(Ki,{text:"STRIKE SCAN ME"})}),d.jsx("img",{src:u9,alt:"",width:200,height:250})]})]}),d.jsx("div",{id:"main-footer",className:"mt-[200px] w-full bg-black text-white text-sm py-3 px-5",children:d.jsxs("p",{children:[" Bacoor.gov.ph |",d.jsx("a",{href:"https://bacoor.gov.ph/privacy-policy/",className:"capitalize hover:text-[#ed1a3b] ml-4",children:"privacy policy"})]})})]}),h9="/user/assets/landing-cdrUYs3f.png";function f9(t){return fe({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14.5 0h-13c-0.825 0-1.5 0.675-1.5 1.5v13c0 0.825 0.675 1.5 1.5 1.5h13c0.825 0 1.5-0.675 1.5-1.5v-13c0-0.825-0.675-1.5-1.5-1.5zM11 2.5c0-0.275 0.225-0.5 0.5-0.5h2c0.275 0 0.5 0.225 0.5 0.5v2c0 0.275-0.225 0.5-0.5 0.5h-2c-0.275 0-0.5-0.225-0.5-0.5v-2zM8 5c1.656 0 3 1.344 3 3s-1.344 3-3 3c-1.656 0-3-1.344-3-3s1.344-3 3-3zM14 13.5v0c0 0.275-0.225 0.5-0.5 0.5h-11c-0.275 0-0.5-0.225-0.5-0.5v0-6.5h1.1c-0.066 0.322-0.1 0.656-0.1 1 0 2.762 2.237 5 5 5s5-2.238 5-5c0-0.344-0.034-0.678-0.1-1h1.1v6.5z"},child:[]}]})(t)}const p9=()=>{const[t,e]=D.useState(!1),[n,r]=D.useState(!1),[i,s]=D.useState(!1),[o,l]=D.useState(!1),[u,c]=D.useState(!1),[f,m]=D.useState(!1),[g,w]=D.useState(!1),k=()=>{s(!i)},C=()=>{l(!o)},L=()=>{c(!u)},E=()=>{m(!f)},y=()=>{w(!g)};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"city-hall-page-body",children:[d.jsx("span",{id:"time-header-bg",className:"w-full h-6 bg-black/40 absolute hidden md:block"}),d.jsxs(Ih,{className:"hidden md:flex",children:[d.jsx(Z6,{}),d.jsx(e9,{})]}),d.jsxs(Ih,{className:" flex bg-white",children:[d.jsx(G6,{isMenuActive:t,setIsMenuActive:e,isSearchActive:n,setIsSearchActive:r}),d.jsxs("div",{id:"latest-news",className:"flex flex-col items-center md:flex-row px-6 py-3 gap-3",children:[d.jsx("div",{className:"w-max bg-black px-3 uppercase text-[#ff0202] font-bold text-sm rounded mr-5",children:"latest news"}),d.jsx("div",{className:"max-w-[730px] w-full text-[#ff0202] font-bold text-sm truncate",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Expedita, omnis voluptatum. Deserunt modi cumque accusamus at incidunt vel. Praesentium beatae non deleniti tempora eos dolorem labore dolore quibusdam amet vero."}),d.jsxs("div",{id:"latest-news-navigation",className:"gap-2 ml-auto hidden md:flex",children:[d.jsx("button",{className:"text-[#ff0202] rounded-sm border border-red-300",children:d.jsx(z6,{})}),d.jsx("button",{className:"text-[#ff0202] rounded-sm border border-red-300",children:d.jsx(B6,{})})]})]}),d.jsx("a",{href:"https://bacoor.gov.ph/featured/congratulations-city-government-of-bacoor/",id:"landing-image",className:"mx-auto mb-4 p-2",children:d.jsx("img",{src:h9,alt:""})}),d.jsxs("div",{id:"article-list",className:"flex flex-col md:flex-row mx-auto",children:[d.jsx(s9,{}),d.jsx(l9,{})]})]}),d.jsx(Ih,{className:"flex bg-black/70",children:d.jsx(d9,{})})]}),d.jsxs("menu",{className:`fixed md:hidden top-0 ${t?"":"-translate-x-full invisible"} w-screen h-screen bg-[#353535] text-white z-20`,children:[d.jsxs("header",{className:"flex items-center justify-between pl-5 pr-10 pt-4",children:[d.jsxs("div",{className:"flex items-center gap-1 h-[60px]",children:[d.jsx("a",{href:"",className:"bg-transparent dark:bg-transparent border-none text-sm w-[40px] h-[40px] flex items-center justify-center hover:text-[#ff0202]",children:d.jsx($6,{})}),d.jsx("a",{href:"",className:"bg-transparent dark:bg-transparent border-none text-sm w-[40px] h-[40px] flex items-center justify-center hover:text-[#ff0202]",children:d.jsx(f9,{})}),d.jsx("a",{href:"",className:"bg-transparent dark:bg-transparent border-none text-sm w-[40px] h-[40px] flex items-center justify-center hover:text-[#ff0202]",children:d.jsx(u6,{})}),d.jsx("a",{href:"",className:"bg-transparent dark:bg-transparent border-none text-sm w-[40px] h-[40px] flex items-center justify-center hover:text-[#ff0202]",children:d.jsx(H6,{})}),d.jsx("a",{href:"",className:"bg-transparent dark:bg-transparent border-none text-sm w-[40px] h-[40px] flex items-center justify-center hover:text-[#ff0202]",children:d.jsx(q6,{})})]}),d.jsx(at,{onClick:()=>e(!t),className:"bg-transparent dark:bg-transparent border-none text-4xl hover:text-[#ff0202]",children:d.jsx(F0,{})})]}),d.jsxs("nav",{className:"flex flex-col py-5 pl-8 pr-10",style:{fontFamily:"Raleway"},children:[d.jsx("a",{href:"/bacoor-gov",className:"capitalize text-[#ff0202] text-xl font-bold py-2",children:"home"}),d.jsxs(ga,{text:"about bacoor",state:i,toggle:k,children:[d.jsx(Ue,{url:"https://bacoor.gov.ph/uncategorized/vision-mission/",text:"mission & vision"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/historical-background-of-bacoor/",text:"historical background of bacoor"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/videos/352nd-bakood-festival/",text:"352nd bacoor festival"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/ang-himno-ng-bacoor/",text:"ang himno ng bacoor"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/category/tourism/",text:"tourism"})]}),d.jsxs(ga,{text:"city government",state:o,toggle:C,children:[d.jsx(Ue,{url:"https://bacoor.gov.ph/announcement/citizen-charter-2024/",text:"citizen charter"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/city-officials/",text:"city officials"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/city-and-units-heads/",text:"city department and unit heads"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/barangay-officials-2023/",text:"barangay officials"}),d.jsx(Ue,{url:"http://bacoorcitysp.com/legislative-tracker/",text:"city ordinances"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/dilg/dilg-full-disclosure-policy-2024/",text:"DILG Full Disclosure Policy"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/clup-2015-2024/",text:"CLUP (2015-2024)"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/job-vacancies/",text:"job vacancies"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/privacy-policy/",text:"privacy policy"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/iso-quality-management-system/",text:"ISO (Quality Management System)"})]}),d.jsxs("a",{href:"https://bacoor.gov.ph/mayor-strike-b-revilla-feed/",className:"w-full flex items-center justify-between capitalize text-xl font-bold py-2",children:["mayor's corner",d.jsx(lE,{})]}),d.jsxs(ga,{text:"gallery",state:u,toggle:L,children:[d.jsx(Ue,{url:"https://bacoor.gov.ph/category/gallery/",text:"gallery"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/category/photobooth/",text:"photobooth"})]}),d.jsxs(ga,{text:"services",state:f,toggle:E,children:[d.jsx(Ue,{url:"https://boss.bacoor.gov.ph/",text:"Online Application for Business & Building Permits"}),d.jsx(Ue,{url:"https://boss.bacoor.gov.ph/",text:"Online Appointment for Real Property Tax, Business & Building Permits"}),d.jsx(Ue,{url:"https://boss.bacoor.gov.ph/",text:"Solidarity Route Online Registration System"}),d.jsx(Ue,{url:"http://bacoorcitysp.com/legislative-tracker/",text:"city ordinances"})]}),d.jsxs(ga,{text:"directory",state:g,toggle:y,children:[d.jsx(Ue,{url:"https://bacoor.gov.ph/bacoor-hospital-directory/",text:"hospital directory"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/local-directory-of-bacoor-government-center/",text:"Local Gov't Offices"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/city-and-units-heads/",text:"City Department and Unit Heads"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/barangay-hall-directory/",text:"barangay hall"}),d.jsx(Ue,{url:"https://bacoor.gov.ph/national-government-agenciesoffices/",text:"National Government Agencies/Offices"})]})]})]}),d.jsxs("div",{className:`fixed md:hidden top-0 ${n?"":"translate-x-full invisible"} w-screen h-screen bg-[#353535] text-white z-20`,style:{fontFamily:"Raleway"},children:[d.jsx("header",{className:"flex items-center justify-between pl-5 pr-10 pt-4",children:d.jsx(at,{onClick:()=>r(!n),className:"bg-transparent dark:bg-transparent border-none text-4xl hover:text-[#ff0202] ml-auto",children:d.jsx(F0,{})})}),d.jsxs("label",{htmlFor:"search",className:"flex flex-col gap-4 max-w-[90%] px-5 mx-auto focus-within:border-none",children:[d.jsx("p",{className:"capitalize text-center text-xs text-gray-300",children:"search"}),d.jsx("input",{type:"search",name:"search",id:"search",className:"bg-transparent border-b-[1px] text-center text-3xl font-bold py-2 focus:outline-none"})]})]})]})},ga=({text:t,children:e,toggle:n,state:r})=>d.jsxs(at,{className:"flex flex-col w-full capitalize text-xl font-bold bg-transparent dark:bg-transparent border-none",onClick:n,children:[d.jsxs("div",{className:"flex items-center justify-between w-full py-3",children:[t,d.jsx(lE,{className:`${r&&"rotate-90"}`})]}),d.jsx("div",{className:`${r?"h-max":"h-0 opacity-0 invisible"} flex flex-col px-6 text-base font-normal text-gray-300 text-left`,children:e})]}),Ue=({text:t,url:e})=>d.jsx("a",{href:e,className:"py-2",children:t}),m9=()=>{const t=D.useContext(No),{isChatActive:e,setIsChatActive:n}=t.active,r=t.icon,i=()=>{n(!e)};return d.jsx(d.Fragment,{children:d.jsxs("main",{className:"",children:[d.jsx("div",{ref:r,children:d.jsx(z5,{children:d.jsxs($5,{children:[d.jsx(hN,{onClick:i}),d.jsx(F6,{closeUsing:i})]})})}),d.jsx(p9,{}),d.jsx(cE,{message:"Click anywhere to close.",className:`bg-black z-40 backdrop-blur ${e?"opacity-80":"opacity-0 invisible"}`})]})})},g9=()=>d.jsxs("div",{children:["please provide a better 404 error page",d.jsx(is,{to:"/",className:"underline",children:"go back here"})]}),v9=Eb([{path:"/",element:d.jsx(M5,{}),errorElement:d.jsx(g9,{})},{path:"/bacoor-gov",element:d.jsx(m9,{})}],{basename:"/user"});uw(document.getElementById("root")).render(d.jsx(D.StrictMode,{children:d.jsx(bR,{children:d.jsx(PR,{children:d.jsx(RP,{children:d.jsx(NP,{children:d.jsx(LP,{children:d.jsx(Pb,{router:v9})})})})})})}));
