var Zy=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var V=(t,e,n)=>(Zy(t,e,"read from private field"),n?n.call(t):e.get(t)),we=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},he=(t,e,n,r)=>(Zy(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var Mf=(t,e,n,r)=>({set _(s){he(t,e,s,n)},get _(){return V(t,e,r)}}),Be=(t,e,n)=>(Zy(t,e,"access private method"),n);function I1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function K_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var A1={exports:{}},fg={},P1={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dh=Symbol.for("react.element"),q4=Symbol.for("react.portal"),G4=Symbol.for("react.fragment"),Q4=Symbol.for("react.strict_mode"),Y4=Symbol.for("react.profiler"),X4=Symbol.for("react.provider"),J4=Symbol.for("react.context"),Z4=Symbol.for("react.forward_ref"),eB=Symbol.for("react.suspense"),tB=Symbol.for("react.memo"),nB=Symbol.for("react.lazy"),QS=Symbol.iterator;function rB(t){return t===null||typeof t!="object"?null:(t=QS&&t[QS]||t["@@iterator"],typeof t=="function"?t:null)}var R1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N1=Object.assign,D1={};function Gc(t,e,n){this.props=t,this.context=e,this.refs=D1,this.updater=n||R1}Gc.prototype.isReactComponent={};Gc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function k1(){}k1.prototype=Gc.prototype;function W_(t,e,n){this.props=t,this.context=e,this.refs=D1,this.updater=n||R1}var H_=W_.prototype=new k1;H_.constructor=W_;N1(H_,Gc.prototype);H_.isPureReactComponent=!0;var YS=Array.isArray,M1=Object.prototype.hasOwnProperty,q_={current:null},O1={key:!0,ref:!0,__self:!0,__source:!0};function L1(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)M1.call(e,r)&&!O1.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Dh,type:t,key:i,ref:o,props:s,_owner:q_.current}}function sB(t,e){return{$$typeof:Dh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function G_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Dh}function iB(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var XS=/\/+/g;function ev(t,e){return typeof t=="object"&&t!==null&&t.key!=null?iB(""+t.key):e.toString(36)}function xp(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Dh:case q4:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+ev(o,0):r,YS(s)?(n="",t!=null&&(n=t.replace(XS,"$&/")+"/"),xp(s,e,n,"",function(c){return c})):s!=null&&(G_(s)&&(s=sB(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(XS,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",YS(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+ev(i,a);o+=xp(i,e,n,l,s)}else if(l=rB(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+ev(i,a++),o+=xp(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Of(t,e,n){if(t==null)return t;var r=[],s=0;return xp(t,r,"","",function(i){return e.call(n,i,s++)}),r}function oB(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var er={current:null},Ep={transition:null},aB={ReactCurrentDispatcher:er,ReactCurrentBatchConfig:Ep,ReactCurrentOwner:q_};function j1(){throw Error("act(...) is not supported in production builds of React.")}He.Children={map:Of,forEach:function(t,e,n){Of(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Of(t,function(){e++}),e},toArray:function(t){return Of(t,function(e){return e})||[]},only:function(t){if(!G_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};He.Component=Gc;He.Fragment=G4;He.Profiler=Y4;He.PureComponent=W_;He.StrictMode=Q4;He.Suspense=eB;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aB;He.act=j1;He.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=N1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=q_.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)M1.call(e,l)&&!O1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Dh,type:t.type,key:s,ref:i,props:r,_owner:o}};He.createContext=function(t){return t={$$typeof:J4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:X4,_context:t},t.Consumer=t};He.createElement=L1;He.createFactory=function(t){var e=L1.bind(null,t);return e.type=t,e};He.createRef=function(){return{current:null}};He.forwardRef=function(t){return{$$typeof:Z4,render:t}};He.isValidElement=G_;He.lazy=function(t){return{$$typeof:nB,_payload:{_status:-1,_result:t},_init:oB}};He.memo=function(t,e){return{$$typeof:tB,type:t,compare:e===void 0?null:e}};He.startTransition=function(t){var e=Ep.transition;Ep.transition={};try{t()}finally{Ep.transition=e}};He.unstable_act=j1;He.useCallback=function(t,e){return er.current.useCallback(t,e)};He.useContext=function(t){return er.current.useContext(t)};He.useDebugValue=function(){};He.useDeferredValue=function(t){return er.current.useDeferredValue(t)};He.useEffect=function(t,e){return er.current.useEffect(t,e)};He.useId=function(){return er.current.useId()};He.useImperativeHandle=function(t,e,n){return er.current.useImperativeHandle(t,e,n)};He.useInsertionEffect=function(t,e){return er.current.useInsertionEffect(t,e)};He.useLayoutEffect=function(t,e){return er.current.useLayoutEffect(t,e)};He.useMemo=function(t,e){return er.current.useMemo(t,e)};He.useReducer=function(t,e,n){return er.current.useReducer(t,e,n)};He.useRef=function(t){return er.current.useRef(t)};He.useState=function(t){return er.current.useState(t)};He.useSyncExternalStore=function(t,e,n){return er.current.useSyncExternalStore(t,e,n)};He.useTransition=function(){return er.current.useTransition()};He.version="18.3.1";P1.exports=He;var m=P1.exports;const ze=K_(m),V1=I1({__proto__:null,default:ze},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lB=m,cB=Symbol.for("react.element"),uB=Symbol.for("react.fragment"),dB=Object.prototype.hasOwnProperty,hB=lB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fB={key:!0,ref:!0,__self:!0,__source:!0};function F1(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)dB.call(e,r)&&!fB.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:cB,type:t,key:i,ref:o,props:s,_owner:hB.current}}fg.Fragment=uB;fg.jsx=F1;fg.jsxs=F1;A1.exports=fg;var f=A1.exports,bw={},U1={exports:{}},Rr={},B1={exports:{}},$1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,B){var Z=z.length;z.push(B);e:for(;0<Z;){var pe=Z-1>>>1,Te=z[pe];if(0<s(Te,B))z[pe]=B,z[Z]=Te,Z=pe;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var B=z[0],Z=z.pop();if(Z!==B){z[0]=Z;e:for(var pe=0,Te=z.length,Ae=Te>>>1;pe<Ae;){var Xe=2*(pe+1)-1,yt=z[Xe],We=Xe+1,ce=z[We];if(0>s(yt,Z))We<Te&&0>s(ce,yt)?(z[pe]=ce,z[We]=Z,pe=We):(z[pe]=yt,z[Xe]=Z,pe=Xe);else if(We<Te&&0>s(ce,Z))z[pe]=ce,z[We]=Z,pe=We;else break e}}return B}function s(z,B){var Z=z.sortIndex-B.sortIndex;return Z!==0?Z:z.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,p=3,g=!1,w=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(z){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=z)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function A(z){if(v=!1,S(z),!w)if(n(l)!==null)w=!0,te(D);else{var B=n(c);B!==null&&ne(A,B.startTime-z)}}function D(z,B){w=!1,v&&(v=!1,_(T),T=-1),g=!0;var Z=p;try{for(S(B),d=n(l);d!==null&&(!(d.expirationTime>B)||z&&!M());){var pe=d.callback;if(typeof pe=="function"){d.callback=null,p=d.priorityLevel;var Te=pe(d.expirationTime<=B);B=t.unstable_now(),typeof Te=="function"?d.callback=Te:d===n(l)&&r(l),S(B)}else r(l);d=n(l)}if(d!==null)var Ae=!0;else{var Xe=n(c);Xe!==null&&ne(A,Xe.startTime-B),Ae=!1}return Ae}finally{d=null,p=Z,g=!1}}var O=!1,C=null,T=-1,I=5,P=-1;function M(){return!(t.unstable_now()-P<I)}function k(){if(C!==null){var z=t.unstable_now();P=z;var B=!0;try{B=C(!0,z)}finally{B?N():(O=!1,C=null)}}else O=!1}var N;if(typeof y=="function")N=function(){y(k)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ae=H.port2;H.port1.onmessage=k,N=function(){ae.postMessage(null)}}else N=function(){E(k,0)};function te(z){C=z,O||(O=!0,N())}function ne(z,B){T=E(function(){z(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,te(D))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var Z=p;p=B;try{return z()}finally{p=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,B){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Z=p;p=z;try{return B()}finally{p=Z}},t.unstable_scheduleCallback=function(z,B,Z){var pe=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?pe+Z:pe):Z=pe,z){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=Z+Te,z={id:u++,callback:B,priorityLevel:z,startTime:Z,expirationTime:Te,sortIndex:-1},Z>pe?(z.sortIndex=Z,e(c,z),n(l)===null&&z===n(c)&&(v?(_(T),T=-1):v=!0,ne(A,Z-pe))):(z.sortIndex=Te,e(l,z),w||g||(w=!0,te(D))),z},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(z){var B=p;return function(){var Z=p;p=B;try{return z.apply(this,arguments)}finally{p=Z}}}})($1);B1.exports=$1;var pB=B1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mB=m,Ar=pB;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var z1=new Set,Nd={};function il(t,e){Ic(t,e),Ic(t+"Capture",e)}function Ic(t,e){for(Nd[t]=e,t=0;t<e.length;t++)z1.add(e[t])}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cw=Object.prototype.hasOwnProperty,gB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,JS={},ZS={};function yB(t){return Cw.call(ZS,t)?!0:Cw.call(JS,t)?!1:gB.test(t)?ZS[t]=!0:(JS[t]=!0,!1)}function vB(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wB(t,e,n,r){if(e===null||typeof e>"u"||vB(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tr(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var bn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bn[t]=new tr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bn[e]=new tr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bn[t]=new tr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bn[t]=new tr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bn[t]=new tr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bn[t]=new tr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bn[t]=new tr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bn[t]=new tr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bn[t]=new tr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Q_=/[\-:]([a-z])/g;function Y_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Q_,Y_);bn[e]=new tr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Q_,Y_);bn[e]=new tr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Q_,Y_);bn[e]=new tr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bn[t]=new tr(t,1,!1,t.toLowerCase(),null,!1,!1)});bn.xlinkHref=new tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bn[t]=new tr(t,1,!1,t.toLowerCase(),null,!0,!0)});function X_(t,e,n,r){var s=bn.hasOwnProperty(e)?bn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wB(e,n,s,r)&&(n=null),r||s===null?yB(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ni=mB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lf=Symbol.for("react.element"),kl=Symbol.for("react.portal"),Ml=Symbol.for("react.fragment"),J_=Symbol.for("react.strict_mode"),Iw=Symbol.for("react.profiler"),K1=Symbol.for("react.provider"),W1=Symbol.for("react.context"),Z_=Symbol.for("react.forward_ref"),Aw=Symbol.for("react.suspense"),Pw=Symbol.for("react.suspense_list"),ex=Symbol.for("react.memo"),Gi=Symbol.for("react.lazy"),H1=Symbol.for("react.offscreen"),eb=Symbol.iterator;function Iu(t){return t===null||typeof t!="object"?null:(t=eb&&t[eb]||t["@@iterator"],typeof t=="function"?t:null)}var Vt=Object.assign,tv;function Hu(t){if(tv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);tv=e&&e[1]||""}return`
`+tv+t}var nv=!1;function rv(t,e){if(!t||nv)return"";nv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{nv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Hu(t):""}function _B(t){switch(t.tag){case 5:return Hu(t.type);case 16:return Hu("Lazy");case 13:return Hu("Suspense");case 19:return Hu("SuspenseList");case 0:case 2:case 15:return t=rv(t.type,!1),t;case 11:return t=rv(t.type.render,!1),t;case 1:return t=rv(t.type,!0),t;default:return""}}function Rw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ml:return"Fragment";case kl:return"Portal";case Iw:return"Profiler";case J_:return"StrictMode";case Aw:return"Suspense";case Pw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case W1:return(t.displayName||"Context")+".Consumer";case K1:return(t._context.displayName||"Context")+".Provider";case Z_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ex:return e=t.displayName||null,e!==null?e:Rw(t.type)||"Memo";case Gi:e=t._payload,t=t._init;try{return Rw(t(e))}catch{}}return null}function xB(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rw(e);case 8:return e===J_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Do(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function q1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function EB(t){var e=q1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function jf(t){t._valueTracker||(t._valueTracker=EB(t))}function G1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=q1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function tm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Nw(t,e){var n=e.checked;return Vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function tb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Do(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Q1(t,e){e=e.checked,e!=null&&X_(t,"checked",e,!1)}function Dw(t,e){Q1(t,e);var n=Do(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?kw(t,e.type,n):e.hasOwnProperty("defaultValue")&&kw(t,e.type,Do(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function nb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function kw(t,e,n){(e!=="number"||tm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var qu=Array.isArray;function Jl(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Do(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Mw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return Vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(qu(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Do(n)}}function Y1(t,e){var n=Do(e.value),r=Do(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function sb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function X1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ow(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?X1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vf,J1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Vf=Vf||document.createElement("div"),Vf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Dd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var od={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TB=["Webkit","ms","Moz","O"];Object.keys(od).forEach(function(t){TB.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),od[e]=od[t]})});function Z1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||od.hasOwnProperty(t)&&od[t]?(""+e).trim():e+"px"}function eR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Z1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var SB=Vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lw(t,e){if(e){if(SB[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function jw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vw=null;function tx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fw=null,Zl=null,ec=null;function ib(t){if(t=Oh(t)){if(typeof Fw!="function")throw Error(X(280));var e=t.stateNode;e&&(e=vg(e),Fw(t.stateNode,t.type,e))}}function tR(t){Zl?ec?ec.push(t):ec=[t]:Zl=t}function nR(){if(Zl){var t=Zl,e=ec;if(ec=Zl=null,ib(t),e)for(t=0;t<e.length;t++)ib(e[t])}}function rR(t,e){return t(e)}function sR(){}var sv=!1;function iR(t,e,n){if(sv)return t(e,n);sv=!0;try{return rR(t,e,n)}finally{sv=!1,(Zl!==null||ec!==null)&&(sR(),nR())}}function kd(t,e){var n=t.stateNode;if(n===null)return null;var r=vg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var Uw=!1;if(vi)try{var Au={};Object.defineProperty(Au,"passive",{get:function(){Uw=!0}}),window.addEventListener("test",Au,Au),window.removeEventListener("test",Au,Au)}catch{Uw=!1}function bB(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var ad=!1,nm=null,rm=!1,Bw=null,CB={onError:function(t){ad=!0,nm=t}};function IB(t,e,n,r,s,i,o,a,l){ad=!1,nm=null,bB.apply(CB,arguments)}function AB(t,e,n,r,s,i,o,a,l){if(IB.apply(this,arguments),ad){if(ad){var c=nm;ad=!1,nm=null}else throw Error(X(198));rm||(rm=!0,Bw=c)}}function ol(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function oR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ob(t){if(ol(t)!==t)throw Error(X(188))}function PB(t){var e=t.alternate;if(!e){if(e=ol(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ob(s),t;if(i===r)return ob(s),e;i=i.sibling}throw Error(X(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function aR(t){return t=PB(t),t!==null?lR(t):null}function lR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lR(t);if(e!==null)return e;t=t.sibling}return null}var cR=Ar.unstable_scheduleCallback,ab=Ar.unstable_cancelCallback,RB=Ar.unstable_shouldYield,NB=Ar.unstable_requestPaint,Yt=Ar.unstable_now,DB=Ar.unstable_getCurrentPriorityLevel,nx=Ar.unstable_ImmediatePriority,uR=Ar.unstable_UserBlockingPriority,sm=Ar.unstable_NormalPriority,kB=Ar.unstable_LowPriority,dR=Ar.unstable_IdlePriority,pg=null,Os=null;function MB(t){if(Os&&typeof Os.onCommitFiberRoot=="function")try{Os.onCommitFiberRoot(pg,t,void 0,(t.current.flags&128)===128)}catch{}}var ds=Math.clz32?Math.clz32:jB,OB=Math.log,LB=Math.LN2;function jB(t){return t>>>=0,t===0?32:31-(OB(t)/LB|0)|0}var Ff=64,Uf=4194304;function Gu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function im(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Gu(a):(i&=o,i!==0&&(r=Gu(i)))}else o=n&~s,o!==0?r=Gu(o):i!==0&&(r=Gu(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ds(e),s=1<<n,r|=t[n],e&=~s;return r}function VB(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FB(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ds(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=VB(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function $w(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hR(){var t=Ff;return Ff<<=1,!(Ff&4194240)&&(Ff=64),t}function iv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function kh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ds(e),t[e]=n}function UB(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ds(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function rx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ds(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ht=0;function fR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pR,sx,mR,gR,yR,zw=!1,Bf=[],wo=null,_o=null,xo=null,Md=new Map,Od=new Map,Yi=[],BB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lb(t,e){switch(t){case"focusin":case"focusout":wo=null;break;case"dragenter":case"dragleave":_o=null;break;case"mouseover":case"mouseout":xo=null;break;case"pointerover":case"pointerout":Md.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Od.delete(e.pointerId)}}function Pu(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Oh(e),e!==null&&sx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function $B(t,e,n,r,s){switch(e){case"focusin":return wo=Pu(wo,t,e,n,r,s),!0;case"dragenter":return _o=Pu(_o,t,e,n,r,s),!0;case"mouseover":return xo=Pu(xo,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Md.set(i,Pu(Md.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Od.set(i,Pu(Od.get(i)||null,t,e,n,r,s)),!0}return!1}function vR(t){var e=xa(t.target);if(e!==null){var n=ol(e);if(n!==null){if(e=n.tag,e===13){if(e=oR(n),e!==null){t.blockedOn=e,yR(t.priority,function(){mR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Kw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vw=r,n.target.dispatchEvent(r),Vw=null}else return e=Oh(n),e!==null&&sx(e),t.blockedOn=n,!1;e.shift()}return!0}function cb(t,e,n){Tp(t)&&n.delete(e)}function zB(){zw=!1,wo!==null&&Tp(wo)&&(wo=null),_o!==null&&Tp(_o)&&(_o=null),xo!==null&&Tp(xo)&&(xo=null),Md.forEach(cb),Od.forEach(cb)}function Ru(t,e){t.blockedOn===e&&(t.blockedOn=null,zw||(zw=!0,Ar.unstable_scheduleCallback(Ar.unstable_NormalPriority,zB)))}function Ld(t){function e(s){return Ru(s,t)}if(0<Bf.length){Ru(Bf[0],t);for(var n=1;n<Bf.length;n++){var r=Bf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(wo!==null&&Ru(wo,t),_o!==null&&Ru(_o,t),xo!==null&&Ru(xo,t),Md.forEach(e),Od.forEach(e),n=0;n<Yi.length;n++)r=Yi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Yi.length&&(n=Yi[0],n.blockedOn===null);)vR(n),n.blockedOn===null&&Yi.shift()}var tc=Ni.ReactCurrentBatchConfig,om=!0;function KB(t,e,n,r){var s=ht,i=tc.transition;tc.transition=null;try{ht=1,ix(t,e,n,r)}finally{ht=s,tc.transition=i}}function WB(t,e,n,r){var s=ht,i=tc.transition;tc.transition=null;try{ht=4,ix(t,e,n,r)}finally{ht=s,tc.transition=i}}function ix(t,e,n,r){if(om){var s=Kw(t,e,n,r);if(s===null)mv(t,e,r,am,n),lb(t,r);else if($B(s,t,e,n,r))r.stopPropagation();else if(lb(t,r),e&4&&-1<BB.indexOf(t)){for(;s!==null;){var i=Oh(s);if(i!==null&&pR(i),i=Kw(t,e,n,r),i===null&&mv(t,e,r,am,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else mv(t,e,r,null,n)}}var am=null;function Kw(t,e,n,r){if(am=null,t=tx(r),t=xa(t),t!==null)if(e=ol(t),e===null)t=null;else if(n=e.tag,n===13){if(t=oR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return am=t,null}function wR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DB()){case nx:return 1;case uR:return 4;case sm:case kB:return 16;case dR:return 536870912;default:return 16}default:return 16}}var fo=null,ox=null,Sp=null;function _R(){if(Sp)return Sp;var t,e=ox,n=e.length,r,s="value"in fo?fo.value:fo.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Sp=s.slice(t,1<r?1-r:void 0)}function bp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $f(){return!0}function ub(){return!1}function Nr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$f:ub,this.isPropagationStopped=ub,this}return Vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$f)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$f)},persist:function(){},isPersistent:$f}),e}var Qc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ax=Nr(Qc),Mh=Vt({},Qc,{view:0,detail:0}),HB=Nr(Mh),ov,av,Nu,mg=Vt({},Mh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Nu&&(Nu&&t.type==="mousemove"?(ov=t.screenX-Nu.screenX,av=t.screenY-Nu.screenY):av=ov=0,Nu=t),ov)},movementY:function(t){return"movementY"in t?t.movementY:av}}),db=Nr(mg),qB=Vt({},mg,{dataTransfer:0}),GB=Nr(qB),QB=Vt({},Mh,{relatedTarget:0}),lv=Nr(QB),YB=Vt({},Qc,{animationName:0,elapsedTime:0,pseudoElement:0}),XB=Nr(YB),JB=Vt({},Qc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ZB=Nr(JB),e$=Vt({},Qc,{data:0}),hb=Nr(e$),t$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=r$[t])?!!e[t]:!1}function lx(){return s$}var i$=Vt({},Mh,{key:function(t){if(t.key){var e=t$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?n$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lx,charCode:function(t){return t.type==="keypress"?bp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),o$=Nr(i$),a$=Vt({},mg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fb=Nr(a$),l$=Vt({},Mh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lx}),c$=Nr(l$),u$=Vt({},Qc,{propertyName:0,elapsedTime:0,pseudoElement:0}),d$=Nr(u$),h$=Vt({},mg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),f$=Nr(h$),p$=[9,13,27,32],cx=vi&&"CompositionEvent"in window,ld=null;vi&&"documentMode"in document&&(ld=document.documentMode);var m$=vi&&"TextEvent"in window&&!ld,xR=vi&&(!cx||ld&&8<ld&&11>=ld),pb=" ",mb=!1;function ER(t,e){switch(t){case"keyup":return p$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ol=!1;function g$(t,e){switch(t){case"compositionend":return TR(e);case"keypress":return e.which!==32?null:(mb=!0,pb);case"textInput":return t=e.data,t===pb&&mb?null:t;default:return null}}function y$(t,e){if(Ol)return t==="compositionend"||!cx&&ER(t,e)?(t=_R(),Sp=ox=fo=null,Ol=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xR&&e.locale!=="ko"?null:e.data;default:return null}}var v$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!v$[t.type]:e==="textarea"}function SR(t,e,n,r){tR(r),e=lm(e,"onChange"),0<e.length&&(n=new ax("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var cd=null,jd=null;function w$(t){OR(t,0)}function gg(t){var e=Vl(t);if(G1(e))return t}function _$(t,e){if(t==="change")return e}var bR=!1;if(vi){var cv;if(vi){var uv="oninput"in document;if(!uv){var yb=document.createElement("div");yb.setAttribute("oninput","return;"),uv=typeof yb.oninput=="function"}cv=uv}else cv=!1;bR=cv&&(!document.documentMode||9<document.documentMode)}function vb(){cd&&(cd.detachEvent("onpropertychange",CR),jd=cd=null)}function CR(t){if(t.propertyName==="value"&&gg(jd)){var e=[];SR(e,jd,t,tx(t)),iR(w$,e)}}function x$(t,e,n){t==="focusin"?(vb(),cd=e,jd=n,cd.attachEvent("onpropertychange",CR)):t==="focusout"&&vb()}function E$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gg(jd)}function T$(t,e){if(t==="click")return gg(e)}function S$(t,e){if(t==="input"||t==="change")return gg(e)}function b$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gs=typeof Object.is=="function"?Object.is:b$;function Vd(t,e){if(gs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Cw.call(e,s)||!gs(t[s],e[s]))return!1}return!0}function wb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _b(t,e){var n=wb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wb(n)}}function IR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?IR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function AR(){for(var t=window,e=tm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=tm(t.document)}return e}function ux(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function C$(t){var e=AR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&IR(n.ownerDocument.documentElement,n)){if(r!==null&&ux(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=_b(n,i);var o=_b(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var I$=vi&&"documentMode"in document&&11>=document.documentMode,Ll=null,Ww=null,ud=null,Hw=!1;function xb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hw||Ll==null||Ll!==tm(r)||(r=Ll,"selectionStart"in r&&ux(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ud&&Vd(ud,r)||(ud=r,r=lm(Ww,"onSelect"),0<r.length&&(e=new ax("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ll)))}function zf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var jl={animationend:zf("Animation","AnimationEnd"),animationiteration:zf("Animation","AnimationIteration"),animationstart:zf("Animation","AnimationStart"),transitionend:zf("Transition","TransitionEnd")},dv={},PR={};vi&&(PR=document.createElement("div").style,"AnimationEvent"in window||(delete jl.animationend.animation,delete jl.animationiteration.animation,delete jl.animationstart.animation),"TransitionEvent"in window||delete jl.transitionend.transition);function yg(t){if(dv[t])return dv[t];if(!jl[t])return t;var e=jl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in PR)return dv[t]=e[n];return t}var RR=yg("animationend"),NR=yg("animationiteration"),DR=yg("animationstart"),kR=yg("transitionend"),MR=new Map,Eb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ho(t,e){MR.set(t,e),il(e,[t])}for(var hv=0;hv<Eb.length;hv++){var fv=Eb[hv],A$=fv.toLowerCase(),P$=fv[0].toUpperCase()+fv.slice(1);Ho(A$,"on"+P$)}Ho(RR,"onAnimationEnd");Ho(NR,"onAnimationIteration");Ho(DR,"onAnimationStart");Ho("dblclick","onDoubleClick");Ho("focusin","onFocus");Ho("focusout","onBlur");Ho(kR,"onTransitionEnd");Ic("onMouseEnter",["mouseout","mouseover"]);Ic("onMouseLeave",["mouseout","mouseover"]);Ic("onPointerEnter",["pointerout","pointerover"]);Ic("onPointerLeave",["pointerout","pointerover"]);il("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));il("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));il("onBeforeInput",["compositionend","keypress","textInput","paste"]);il("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));il("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));il("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qu));function Tb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,AB(r,e,void 0,t),t.currentTarget=null}function OR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Tb(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Tb(s,a,c),i=l}}}if(rm)throw t=Bw,rm=!1,Bw=null,t}function It(t,e){var n=e[Xw];n===void 0&&(n=e[Xw]=new Set);var r=t+"__bubble";n.has(r)||(LR(e,t,2,!1),n.add(r))}function pv(t,e,n){var r=0;e&&(r|=4),LR(n,t,r,e)}var Kf="_reactListening"+Math.random().toString(36).slice(2);function Fd(t){if(!t[Kf]){t[Kf]=!0,z1.forEach(function(n){n!=="selectionchange"&&(R$.has(n)||pv(n,!1,t),pv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Kf]||(e[Kf]=!0,pv("selectionchange",!1,e))}}function LR(t,e,n,r){switch(wR(e)){case 1:var s=KB;break;case 4:s=WB;break;default:s=ix}n=s.bind(null,e,n,t),s=void 0,!Uw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function mv(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=xa(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}iR(function(){var c=i,u=tx(n),d=[];e:{var p=MR.get(t);if(p!==void 0){var g=ax,w=t;switch(t){case"keypress":if(bp(n)===0)break e;case"keydown":case"keyup":g=o$;break;case"focusin":w="focus",g=lv;break;case"focusout":w="blur",g=lv;break;case"beforeblur":case"afterblur":g=lv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=db;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=GB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=c$;break;case RR:case NR:case DR:g=XB;break;case kR:g=d$;break;case"scroll":g=HB;break;case"wheel":g=f$;break;case"copy":case"cut":case"paste":g=ZB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=fb}var v=(e&4)!==0,E=!v&&t==="scroll",_=v?p!==null?p+"Capture":null:p;v=[];for(var y=c,S;y!==null;){S=y;var A=S.stateNode;if(S.tag===5&&A!==null&&(S=A,_!==null&&(A=kd(y,_),A!=null&&v.push(Ud(y,A,S)))),E)break;y=y.return}0<v.length&&(p=new g(p,w,null,n,u),d.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Vw&&(w=n.relatedTarget||n.fromElement)&&(xa(w)||w[wi]))break e;if((g||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=c,w=w?xa(w):null,w!==null&&(E=ol(w),w!==E||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=c),g!==w)){if(v=db,A="onMouseLeave",_="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=fb,A="onPointerLeave",_="onPointerEnter",y="pointer"),E=g==null?p:Vl(g),S=w==null?p:Vl(w),p=new v(A,y+"leave",g,n,u),p.target=E,p.relatedTarget=S,A=null,xa(u)===c&&(v=new v(_,y+"enter",w,n,u),v.target=S,v.relatedTarget=E,A=v),E=A,g&&w)t:{for(v=g,_=w,y=0,S=v;S;S=Sl(S))y++;for(S=0,A=_;A;A=Sl(A))S++;for(;0<y-S;)v=Sl(v),y--;for(;0<S-y;)_=Sl(_),S--;for(;y--;){if(v===_||_!==null&&v===_.alternate)break t;v=Sl(v),_=Sl(_)}v=null}else v=null;g!==null&&Sb(d,p,g,v,!1),w!==null&&E!==null&&Sb(d,E,w,v,!0)}}e:{if(p=c?Vl(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var D=_$;else if(gb(p))if(bR)D=S$;else{D=E$;var O=x$}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=T$);if(D&&(D=D(t,c))){SR(d,D,n,u);break e}O&&O(t,p,c),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&kw(p,"number",p.value)}switch(O=c?Vl(c):window,t){case"focusin":(gb(O)||O.contentEditable==="true")&&(Ll=O,Ww=c,ud=null);break;case"focusout":ud=Ww=Ll=null;break;case"mousedown":Hw=!0;break;case"contextmenu":case"mouseup":case"dragend":Hw=!1,xb(d,n,u);break;case"selectionchange":if(I$)break;case"keydown":case"keyup":xb(d,n,u)}var C;if(cx)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ol?ER(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(xR&&n.locale!=="ko"&&(Ol||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ol&&(C=_R()):(fo=u,ox="value"in fo?fo.value:fo.textContent,Ol=!0)),O=lm(c,T),0<O.length&&(T=new hb(T,t,null,n,u),d.push({event:T,listeners:O}),C?T.data=C:(C=TR(n),C!==null&&(T.data=C)))),(C=m$?g$(t,n):y$(t,n))&&(c=lm(c,"onBeforeInput"),0<c.length&&(u=new hb("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=C))}OR(d,e)})}function Ud(t,e,n){return{instance:t,listener:e,currentTarget:n}}function lm(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=kd(t,n),i!=null&&r.unshift(Ud(t,i,s)),i=kd(t,e),i!=null&&r.push(Ud(t,i,s))),t=t.return}return r}function Sl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Sb(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=kd(n,i),l!=null&&o.unshift(Ud(n,l,a))):s||(l=kd(n,i),l!=null&&o.push(Ud(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var N$=/\r\n?/g,D$=/\u0000|\uFFFD/g;function bb(t){return(typeof t=="string"?t:""+t).replace(N$,`
`).replace(D$,"")}function Wf(t,e,n){if(e=bb(e),bb(t)!==e&&n)throw Error(X(425))}function cm(){}var qw=null,Gw=null;function Qw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yw=typeof setTimeout=="function"?setTimeout:void 0,k$=typeof clearTimeout=="function"?clearTimeout:void 0,Cb=typeof Promise=="function"?Promise:void 0,M$=typeof queueMicrotask=="function"?queueMicrotask:typeof Cb<"u"?function(t){return Cb.resolve(null).then(t).catch(O$)}:Yw;function O$(t){setTimeout(function(){throw t})}function gv(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ld(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ld(e)}function Eo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ib(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Yc=Math.random().toString(36).slice(2),Ns="__reactFiber$"+Yc,Bd="__reactProps$"+Yc,wi="__reactContainer$"+Yc,Xw="__reactEvents$"+Yc,L$="__reactListeners$"+Yc,j$="__reactHandles$"+Yc;function xa(t){var e=t[Ns];if(e)return e;for(var n=t.parentNode;n;){if(e=n[wi]||n[Ns]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ib(t);t!==null;){if(n=t[Ns])return n;t=Ib(t)}return e}t=n,n=t.parentNode}return null}function Oh(t){return t=t[Ns]||t[wi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function vg(t){return t[Bd]||null}var Jw=[],Fl=-1;function qo(t){return{current:t}}function At(t){0>Fl||(t.current=Jw[Fl],Jw[Fl]=null,Fl--)}function Et(t,e){Fl++,Jw[Fl]=t.current,t.current=e}var ko={},Bn=qo(ko),cr=qo(!1),$a=ko;function Ac(t,e){var n=t.type.contextTypes;if(!n)return ko;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ur(t){return t=t.childContextTypes,t!=null}function um(){At(cr),At(Bn)}function Ab(t,e,n){if(Bn.current!==ko)throw Error(X(168));Et(Bn,e),Et(cr,n)}function jR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(X(108,xB(t)||"Unknown",s));return Vt({},n,r)}function dm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ko,$a=Bn.current,Et(Bn,t),Et(cr,cr.current),!0}function Pb(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=jR(t,e,$a),r.__reactInternalMemoizedMergedChildContext=t,At(cr),At(Bn),Et(Bn,t)):At(cr),Et(cr,n)}var Zs=null,wg=!1,yv=!1;function VR(t){Zs===null?Zs=[t]:Zs.push(t)}function V$(t){wg=!0,VR(t)}function Go(){if(!yv&&Zs!==null){yv=!0;var t=0,e=ht;try{var n=Zs;for(ht=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zs=null,wg=!1}catch(s){throw Zs!==null&&(Zs=Zs.slice(t+1)),cR(nx,Go),s}finally{ht=e,yv=!1}}return null}var Ul=[],Bl=0,hm=null,fm=0,Br=[],$r=0,za=null,ti=1,ni="";function ma(t,e){Ul[Bl++]=fm,Ul[Bl++]=hm,hm=t,fm=e}function FR(t,e,n){Br[$r++]=ti,Br[$r++]=ni,Br[$r++]=za,za=t;var r=ti;t=ni;var s=32-ds(r)-1;r&=~(1<<s),n+=1;var i=32-ds(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ti=1<<32-ds(e)+s|n<<s|r,ni=i+t}else ti=1<<i|n<<s|r,ni=t}function dx(t){t.return!==null&&(ma(t,1),FR(t,1,0))}function hx(t){for(;t===hm;)hm=Ul[--Bl],Ul[Bl]=null,fm=Ul[--Bl],Ul[Bl]=null;for(;t===za;)za=Br[--$r],Br[$r]=null,ni=Br[--$r],Br[$r]=null,ti=Br[--$r],Br[$r]=null}var Tr=null,xr=null,Dt=!1,os=null;function UR(t,e){var n=Kr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Rb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Tr=t,xr=Eo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Tr=t,xr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=za!==null?{id:ti,overflow:ni}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Tr=t,xr=null,!0):!1;default:return!1}}function Zw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function e0(t){if(Dt){var e=xr;if(e){var n=e;if(!Rb(t,e)){if(Zw(t))throw Error(X(418));e=Eo(n.nextSibling);var r=Tr;e&&Rb(t,e)?UR(r,n):(t.flags=t.flags&-4097|2,Dt=!1,Tr=t)}}else{if(Zw(t))throw Error(X(418));t.flags=t.flags&-4097|2,Dt=!1,Tr=t}}}function Nb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Tr=t}function Hf(t){if(t!==Tr)return!1;if(!Dt)return Nb(t),Dt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Qw(t.type,t.memoizedProps)),e&&(e=xr)){if(Zw(t))throw BR(),Error(X(418));for(;e;)UR(t,e),e=Eo(e.nextSibling)}if(Nb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){xr=Eo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}xr=null}}else xr=Tr?Eo(t.stateNode.nextSibling):null;return!0}function BR(){for(var t=xr;t;)t=Eo(t.nextSibling)}function Pc(){xr=Tr=null,Dt=!1}function fx(t){os===null?os=[t]:os.push(t)}var F$=Ni.ReactCurrentBatchConfig;function Du(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function qf(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Db(t){var e=t._init;return e(t._payload)}function $R(t){function e(_,y){if(t){var S=_.deletions;S===null?(_.deletions=[y],_.flags|=16):S.push(y)}}function n(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function r(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function s(_,y){return _=Co(_,y),_.index=0,_.sibling=null,_}function i(_,y,S){return _.index=S,t?(S=_.alternate,S!==null?(S=S.index,S<y?(_.flags|=2,y):S):(_.flags|=2,y)):(_.flags|=1048576,y)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,y,S,A){return y===null||y.tag!==6?(y=Sv(S,_.mode,A),y.return=_,y):(y=s(y,S),y.return=_,y)}function l(_,y,S,A){var D=S.type;return D===Ml?u(_,y,S.props.children,A,S.key):y!==null&&(y.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Gi&&Db(D)===y.type)?(A=s(y,S.props),A.ref=Du(_,y,S),A.return=_,A):(A=Dp(S.type,S.key,S.props,null,_.mode,A),A.ref=Du(_,y,S),A.return=_,A)}function c(_,y,S,A){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=bv(S,_.mode,A),y.return=_,y):(y=s(y,S.children||[]),y.return=_,y)}function u(_,y,S,A,D){return y===null||y.tag!==7?(y=Va(S,_.mode,A,D),y.return=_,y):(y=s(y,S),y.return=_,y)}function d(_,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Sv(""+y,_.mode,S),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Lf:return S=Dp(y.type,y.key,y.props,null,_.mode,S),S.ref=Du(_,null,y),S.return=_,S;case kl:return y=bv(y,_.mode,S),y.return=_,y;case Gi:var A=y._init;return d(_,A(y._payload),S)}if(qu(y)||Iu(y))return y=Va(y,_.mode,S,null),y.return=_,y;qf(_,y)}return null}function p(_,y,S,A){var D=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return D!==null?null:a(_,y,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Lf:return S.key===D?l(_,y,S,A):null;case kl:return S.key===D?c(_,y,S,A):null;case Gi:return D=S._init,p(_,y,D(S._payload),A)}if(qu(S)||Iu(S))return D!==null?null:u(_,y,S,A,null);qf(_,S)}return null}function g(_,y,S,A,D){if(typeof A=="string"&&A!==""||typeof A=="number")return _=_.get(S)||null,a(y,_,""+A,D);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Lf:return _=_.get(A.key===null?S:A.key)||null,l(y,_,A,D);case kl:return _=_.get(A.key===null?S:A.key)||null,c(y,_,A,D);case Gi:var O=A._init;return g(_,y,S,O(A._payload),D)}if(qu(A)||Iu(A))return _=_.get(S)||null,u(y,_,A,D,null);qf(y,A)}return null}function w(_,y,S,A){for(var D=null,O=null,C=y,T=y=0,I=null;C!==null&&T<S.length;T++){C.index>T?(I=C,C=null):I=C.sibling;var P=p(_,C,S[T],A);if(P===null){C===null&&(C=I);break}t&&C&&P.alternate===null&&e(_,C),y=i(P,y,T),O===null?D=P:O.sibling=P,O=P,C=I}if(T===S.length)return n(_,C),Dt&&ma(_,T),D;if(C===null){for(;T<S.length;T++)C=d(_,S[T],A),C!==null&&(y=i(C,y,T),O===null?D=C:O.sibling=C,O=C);return Dt&&ma(_,T),D}for(C=r(_,C);T<S.length;T++)I=g(C,_,T,S[T],A),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?T:I.key),y=i(I,y,T),O===null?D=I:O.sibling=I,O=I);return t&&C.forEach(function(M){return e(_,M)}),Dt&&ma(_,T),D}function v(_,y,S,A){var D=Iu(S);if(typeof D!="function")throw Error(X(150));if(S=D.call(S),S==null)throw Error(X(151));for(var O=D=null,C=y,T=y=0,I=null,P=S.next();C!==null&&!P.done;T++,P=S.next()){C.index>T?(I=C,C=null):I=C.sibling;var M=p(_,C,P.value,A);if(M===null){C===null&&(C=I);break}t&&C&&M.alternate===null&&e(_,C),y=i(M,y,T),O===null?D=M:O.sibling=M,O=M,C=I}if(P.done)return n(_,C),Dt&&ma(_,T),D;if(C===null){for(;!P.done;T++,P=S.next())P=d(_,P.value,A),P!==null&&(y=i(P,y,T),O===null?D=P:O.sibling=P,O=P);return Dt&&ma(_,T),D}for(C=r(_,C);!P.done;T++,P=S.next())P=g(C,_,T,P.value,A),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?T:P.key),y=i(P,y,T),O===null?D=P:O.sibling=P,O=P);return t&&C.forEach(function(k){return e(_,k)}),Dt&&ma(_,T),D}function E(_,y,S,A){if(typeof S=="object"&&S!==null&&S.type===Ml&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Lf:e:{for(var D=S.key,O=y;O!==null;){if(O.key===D){if(D=S.type,D===Ml){if(O.tag===7){n(_,O.sibling),y=s(O,S.props.children),y.return=_,_=y;break e}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Gi&&Db(D)===O.type){n(_,O.sibling),y=s(O,S.props),y.ref=Du(_,O,S),y.return=_,_=y;break e}n(_,O);break}else e(_,O);O=O.sibling}S.type===Ml?(y=Va(S.props.children,_.mode,A,S.key),y.return=_,_=y):(A=Dp(S.type,S.key,S.props,null,_.mode,A),A.ref=Du(_,y,S),A.return=_,_=A)}return o(_);case kl:e:{for(O=S.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){n(_,y.sibling),y=s(y,S.children||[]),y.return=_,_=y;break e}else{n(_,y);break}else e(_,y);y=y.sibling}y=bv(S,_.mode,A),y.return=_,_=y}return o(_);case Gi:return O=S._init,E(_,y,O(S._payload),A)}if(qu(S))return w(_,y,S,A);if(Iu(S))return v(_,y,S,A);qf(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(n(_,y.sibling),y=s(y,S),y.return=_,_=y):(n(_,y),y=Sv(S,_.mode,A),y.return=_,_=y),o(_)):n(_,y)}return E}var Rc=$R(!0),zR=$R(!1),pm=qo(null),mm=null,$l=null,px=null;function mx(){px=$l=mm=null}function gx(t){var e=pm.current;At(pm),t._currentValue=e}function t0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function nc(t,e){mm=t,px=$l=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(lr=!0),t.firstContext=null)}function Gr(t){var e=t._currentValue;if(px!==t)if(t={context:t,memoizedValue:e,next:null},$l===null){if(mm===null)throw Error(X(308));$l=t,mm.dependencies={lanes:0,firstContext:t}}else $l=$l.next=t;return e}var Ea=null;function yx(t){Ea===null?Ea=[t]:Ea.push(t)}function KR(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,yx(e)):(n.next=s.next,s.next=n),e.interleaved=n,_i(t,r)}function _i(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Qi=!1;function vx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function di(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function To(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ot&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,_i(t,n)}return s=r.interleaved,s===null?(e.next=e,yx(r)):(e.next=s.next,s.next=e),r.interleaved=e,_i(t,n)}function Cp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rx(t,n)}}function kb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function gm(t,e,n,r){var s=t.updateQueue;Qi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,v=a;switch(p=e,g=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){d=w.call(g,d,p);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,p=typeof w=="function"?w.call(g,d,p):w,p==null)break e;d=Vt({},d,p);break e;case 2:Qi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,l=d):u=u.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Wa|=o,t.lanes=o,t.memoizedState=d}}function Mb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(X(191,s));s.call(r)}}}var Lh={},Ls=qo(Lh),$d=qo(Lh),zd=qo(Lh);function Ta(t){if(t===Lh)throw Error(X(174));return t}function wx(t,e){switch(Et(zd,e),Et($d,t),Et(Ls,Lh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ow(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ow(e,t)}At(Ls),Et(Ls,e)}function Nc(){At(Ls),At($d),At(zd)}function HR(t){Ta(zd.current);var e=Ta(Ls.current),n=Ow(e,t.type);e!==n&&(Et($d,t),Et(Ls,n))}function _x(t){$d.current===t&&(At(Ls),At($d))}var Ot=qo(0);function ym(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vv=[];function xx(){for(var t=0;t<vv.length;t++)vv[t]._workInProgressVersionPrimary=null;vv.length=0}var Ip=Ni.ReactCurrentDispatcher,wv=Ni.ReactCurrentBatchConfig,Ka=0,jt=null,ln=null,mn=null,vm=!1,dd=!1,Kd=0,U$=0;function Nn(){throw Error(X(321))}function Ex(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gs(t[n],e[n]))return!1;return!0}function Tx(t,e,n,r,s,i){if(Ka=i,jt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ip.current=t===null||t.memoizedState===null?K$:W$,t=n(r,s),dd){i=0;do{if(dd=!1,Kd=0,25<=i)throw Error(X(301));i+=1,mn=ln=null,e.updateQueue=null,Ip.current=H$,t=n(r,s)}while(dd)}if(Ip.current=wm,e=ln!==null&&ln.next!==null,Ka=0,mn=ln=jt=null,vm=!1,e)throw Error(X(300));return t}function Sx(){var t=Kd!==0;return Kd=0,t}function Cs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?jt.memoizedState=mn=t:mn=mn.next=t,mn}function Qr(){if(ln===null){var t=jt.alternate;t=t!==null?t.memoizedState:null}else t=ln.next;var e=mn===null?jt.memoizedState:mn.next;if(e!==null)mn=e,ln=t;else{if(t===null)throw Error(X(310));ln=t,t={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},mn===null?jt.memoizedState=mn=t:mn=mn.next=t}return mn}function Wd(t,e){return typeof e=="function"?e(t):e}function _v(t){var e=Qr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=ln,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Ka&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,jt.lanes|=u,Wa|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,gs(r,e.memoizedState)||(lr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,jt.lanes|=i,Wa|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function xv(t){var e=Qr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);gs(i,e.memoizedState)||(lr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function qR(){}function GR(t,e){var n=jt,r=Qr(),s=e(),i=!gs(r.memoizedState,s);if(i&&(r.memoizedState=s,lr=!0),r=r.queue,bx(XR.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||mn!==null&&mn.memoizedState.tag&1){if(n.flags|=2048,Hd(9,YR.bind(null,n,r,s,e),void 0,null),gn===null)throw Error(X(349));Ka&30||QR(n,e,s)}return s}function QR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=jt.updateQueue,e===null?(e={lastEffect:null,stores:null},jt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function YR(t,e,n,r){e.value=n,e.getSnapshot=r,JR(e)&&ZR(t)}function XR(t,e,n){return n(function(){JR(e)&&ZR(t)})}function JR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gs(t,n)}catch{return!0}}function ZR(t){var e=_i(t,1);e!==null&&hs(e,t,1,-1)}function Ob(t){var e=Cs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wd,lastRenderedState:t},e.queue=t,t=t.dispatch=z$.bind(null,jt,t),[e.memoizedState,t]}function Hd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=jt.updateQueue,e===null?(e={lastEffect:null,stores:null},jt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function eN(){return Qr().memoizedState}function Ap(t,e,n,r){var s=Cs();jt.flags|=t,s.memoizedState=Hd(1|e,n,void 0,r===void 0?null:r)}function _g(t,e,n,r){var s=Qr();r=r===void 0?null:r;var i=void 0;if(ln!==null){var o=ln.memoizedState;if(i=o.destroy,r!==null&&Ex(r,o.deps)){s.memoizedState=Hd(e,n,i,r);return}}jt.flags|=t,s.memoizedState=Hd(1|e,n,i,r)}function Lb(t,e){return Ap(8390656,8,t,e)}function bx(t,e){return _g(2048,8,t,e)}function tN(t,e){return _g(4,2,t,e)}function nN(t,e){return _g(4,4,t,e)}function rN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sN(t,e,n){return n=n!=null?n.concat([t]):null,_g(4,4,rN.bind(null,e,t),n)}function Cx(){}function iN(t,e){var n=Qr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ex(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function oN(t,e){var n=Qr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ex(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function aN(t,e,n){return Ka&21?(gs(n,e)||(n=hR(),jt.lanes|=n,Wa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,lr=!0),t.memoizedState=n)}function B$(t,e){var n=ht;ht=n!==0&&4>n?n:4,t(!0);var r=wv.transition;wv.transition={};try{t(!1),e()}finally{ht=n,wv.transition=r}}function lN(){return Qr().memoizedState}function $$(t,e,n){var r=bo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cN(t))uN(e,n);else if(n=KR(t,e,n,r),n!==null){var s=Zn();hs(n,t,r,s),dN(n,e,r)}}function z$(t,e,n){var r=bo(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cN(t))uN(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,gs(a,o)){var l=e.interleaved;l===null?(s.next=s,yx(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=KR(t,e,s,r),n!==null&&(s=Zn(),hs(n,t,r,s),dN(n,e,r))}}function cN(t){var e=t.alternate;return t===jt||e!==null&&e===jt}function uN(t,e){dd=vm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rx(t,n)}}var wm={readContext:Gr,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useInsertionEffect:Nn,useLayoutEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useMutableSource:Nn,useSyncExternalStore:Nn,useId:Nn,unstable_isNewReconciler:!1},K$={readContext:Gr,useCallback:function(t,e){return Cs().memoizedState=[t,e===void 0?null:e],t},useContext:Gr,useEffect:Lb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ap(4194308,4,rN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ap(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ap(4,2,t,e)},useMemo:function(t,e){var n=Cs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Cs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=$$.bind(null,jt,t),[r.memoizedState,t]},useRef:function(t){var e=Cs();return t={current:t},e.memoizedState=t},useState:Ob,useDebugValue:Cx,useDeferredValue:function(t){return Cs().memoizedState=t},useTransition:function(){var t=Ob(!1),e=t[0];return t=B$.bind(null,t[1]),Cs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=jt,s=Cs();if(Dt){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),gn===null)throw Error(X(349));Ka&30||QR(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Lb(XR.bind(null,r,i,t),[t]),r.flags|=2048,Hd(9,YR.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Cs(),e=gn.identifierPrefix;if(Dt){var n=ni,r=ti;n=(r&~(1<<32-ds(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Kd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=U$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},W$={readContext:Gr,useCallback:iN,useContext:Gr,useEffect:bx,useImperativeHandle:sN,useInsertionEffect:tN,useLayoutEffect:nN,useMemo:oN,useReducer:_v,useRef:eN,useState:function(){return _v(Wd)},useDebugValue:Cx,useDeferredValue:function(t){var e=Qr();return aN(e,ln.memoizedState,t)},useTransition:function(){var t=_v(Wd)[0],e=Qr().memoizedState;return[t,e]},useMutableSource:qR,useSyncExternalStore:GR,useId:lN,unstable_isNewReconciler:!1},H$={readContext:Gr,useCallback:iN,useContext:Gr,useEffect:bx,useImperativeHandle:sN,useInsertionEffect:tN,useLayoutEffect:nN,useMemo:oN,useReducer:xv,useRef:eN,useState:function(){return xv(Wd)},useDebugValue:Cx,useDeferredValue:function(t){var e=Qr();return ln===null?e.memoizedState=t:aN(e,ln.memoizedState,t)},useTransition:function(){var t=xv(Wd)[0],e=Qr().memoizedState;return[t,e]},useMutableSource:qR,useSyncExternalStore:GR,useId:lN,unstable_isNewReconciler:!1};function ns(t,e){if(t&&t.defaultProps){e=Vt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function n0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Vt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var xg={isMounted:function(t){return(t=t._reactInternals)?ol(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zn(),s=bo(t),i=di(r,s);i.payload=e,n!=null&&(i.callback=n),e=To(t,i,s),e!==null&&(hs(e,t,s,r),Cp(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zn(),s=bo(t),i=di(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=To(t,i,s),e!==null&&(hs(e,t,s,r),Cp(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zn(),r=bo(t),s=di(n,r);s.tag=2,e!=null&&(s.callback=e),e=To(t,s,r),e!==null&&(hs(e,t,r,n),Cp(e,t,r))}};function jb(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Vd(n,r)||!Vd(s,i):!0}function hN(t,e,n){var r=!1,s=ko,i=e.contextType;return typeof i=="object"&&i!==null?i=Gr(i):(s=ur(e)?$a:Bn.current,r=e.contextTypes,i=(r=r!=null)?Ac(t,s):ko),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Vb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&xg.enqueueReplaceState(e,e.state,null)}function r0(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},vx(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Gr(i):(i=ur(e)?$a:Bn.current,s.context=Ac(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(n0(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&xg.enqueueReplaceState(s,s.state,null),gm(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Dc(t,e){try{var n="",r=e;do n+=_B(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ev(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function s0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var q$=typeof WeakMap=="function"?WeakMap:Map;function fN(t,e,n){n=di(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){xm||(xm=!0,p0=r),s0(t,e)},n}function pN(t,e,n){n=di(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){s0(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){s0(t,e),typeof r!="function"&&(So===null?So=new Set([this]):So.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Fb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new q$;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=a5.bind(null,t,e,n),e.then(t,t))}function Ub(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Bb(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=di(-1,1),e.tag=2,To(n,e,1))),n.lanes|=1),t)}var G$=Ni.ReactCurrentOwner,lr=!1;function Xn(t,e,n,r){e.child=t===null?zR(e,null,n,r):Rc(e,t.child,n,r)}function $b(t,e,n,r,s){n=n.render;var i=e.ref;return nc(e,s),r=Tx(t,e,n,r,i,s),n=Sx(),t!==null&&!lr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,xi(t,e,s)):(Dt&&n&&dx(e),e.flags|=1,Xn(t,e,r,s),e.child)}function zb(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Mx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,mN(t,e,i,r,s)):(t=Dp(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Vd,n(o,r)&&t.ref===e.ref)return xi(t,e,s)}return e.flags|=1,t=Co(i,r),t.ref=e.ref,t.return=e,e.child=t}function mN(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Vd(i,r)&&t.ref===e.ref)if(lr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(lr=!0);else return e.lanes=t.lanes,xi(t,e,s)}return i0(t,e,n,r,s)}function gN(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(Kl,vr),vr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Et(Kl,vr),vr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Et(Kl,vr),vr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Et(Kl,vr),vr|=r;return Xn(t,e,s,n),e.child}function yN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function i0(t,e,n,r,s){var i=ur(n)?$a:Bn.current;return i=Ac(e,i),nc(e,s),n=Tx(t,e,n,r,i,s),r=Sx(),t!==null&&!lr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,xi(t,e,s)):(Dt&&r&&dx(e),e.flags|=1,Xn(t,e,n,s),e.child)}function Kb(t,e,n,r,s){if(ur(n)){var i=!0;dm(e)}else i=!1;if(nc(e,s),e.stateNode===null)Pp(t,e),hN(e,n,r),r0(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Gr(c):(c=ur(n)?$a:Bn.current,c=Ac(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Vb(e,o,r,c),Qi=!1;var p=e.memoizedState;o.state=p,gm(e,r,o,s),l=e.memoizedState,a!==r||p!==l||cr.current||Qi?(typeof u=="function"&&(n0(e,n,u,r),l=e.memoizedState),(a=Qi||jb(e,n,a,r,p,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,WR(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ns(e.type,a),o.props=c,d=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Gr(l):(l=ur(n)?$a:Bn.current,l=Ac(e,l));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&Vb(e,o,r,l),Qi=!1,p=e.memoizedState,o.state=p,gm(e,r,o,s);var w=e.memoizedState;a!==d||p!==w||cr.current||Qi?(typeof g=="function"&&(n0(e,n,g,r),w=e.memoizedState),(c=Qi||jb(e,n,c,r,p,w,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return o0(t,e,n,r,i,s)}function o0(t,e,n,r,s,i){yN(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Pb(e,n,!1),xi(t,e,i);r=e.stateNode,G$.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Rc(e,t.child,null,i),e.child=Rc(e,null,a,i)):Xn(t,e,a,i),e.memoizedState=r.state,s&&Pb(e,n,!0),e.child}function vN(t){var e=t.stateNode;e.pendingContext?Ab(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ab(t,e.context,!1),wx(t,e.containerInfo)}function Wb(t,e,n,r,s){return Pc(),fx(s),e.flags|=256,Xn(t,e,n,r),e.child}var a0={dehydrated:null,treeContext:null,retryLane:0};function l0(t){return{baseLanes:t,cachePool:null,transitions:null}}function wN(t,e,n){var r=e.pendingProps,s=Ot.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Et(Ot,s&1),t===null)return e0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Sg(o,r,0,null),t=Va(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=l0(n),e.memoizedState=a0,t):Ix(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Q$(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Co(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Co(a,i):(i=Va(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?l0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=a0,r}return i=t.child,t=i.sibling,r=Co(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ix(t,e){return e=Sg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gf(t,e,n,r){return r!==null&&fx(r),Rc(e,t.child,null,n),t=Ix(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Q$(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Ev(Error(X(422))),Gf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Sg({mode:"visible",children:r.children},s,0,null),i=Va(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Rc(e,t.child,null,o),e.child.memoizedState=l0(o),e.memoizedState=a0,i);if(!(e.mode&1))return Gf(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(X(419)),r=Ev(i,r,void 0),Gf(t,e,o,r)}if(a=(o&t.childLanes)!==0,lr||a){if(r=gn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,_i(t,s),hs(r,t,s,-1))}return kx(),r=Ev(Error(X(421))),Gf(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=l5.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,xr=Eo(s.nextSibling),Tr=e,Dt=!0,os=null,t!==null&&(Br[$r++]=ti,Br[$r++]=ni,Br[$r++]=za,ti=t.id,ni=t.overflow,za=e),e=Ix(e,r.children),e.flags|=4096,e)}function Hb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),t0(t.return,e,n)}function Tv(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function _N(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Xn(t,e,r.children,n),r=Ot.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hb(t,n,e);else if(t.tag===19)Hb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Et(Ot,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ym(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Tv(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ym(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Tv(e,!0,n,null,i);break;case"together":Tv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Pp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=Co(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Co(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Y$(t,e,n){switch(e.tag){case 3:vN(e),Pc();break;case 5:HR(e);break;case 1:ur(e.type)&&dm(e);break;case 4:wx(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Et(pm,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Et(Ot,Ot.current&1),e.flags|=128,null):n&e.child.childLanes?wN(t,e,n):(Et(Ot,Ot.current&1),t=xi(t,e,n),t!==null?t.sibling:null);Et(Ot,Ot.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _N(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Et(Ot,Ot.current),r)break;return null;case 22:case 23:return e.lanes=0,gN(t,e,n)}return xi(t,e,n)}var xN,c0,EN,TN;xN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};c0=function(){};EN=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ta(Ls.current);var i=null;switch(n){case"input":s=Nw(t,s),r=Nw(t,r),i=[];break;case"select":s=Vt({},s,{value:void 0}),r=Vt({},r,{value:void 0}),i=[];break;case"textarea":s=Mw(t,s),r=Mw(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=cm)}Lw(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Nd.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Nd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&It("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};TN=function(t,e,n,r){n!==r&&(e.flags|=4)};function ku(t,e){if(!Dt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Dn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function X$(t,e,n){var r=e.pendingProps;switch(hx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dn(e),null;case 1:return ur(e.type)&&um(),Dn(e),null;case 3:return r=e.stateNode,Nc(),At(cr),At(Bn),xx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Hf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,os!==null&&(y0(os),os=null))),c0(t,e),Dn(e),null;case 5:_x(e);var s=Ta(zd.current);if(n=e.type,t!==null&&e.stateNode!=null)EN(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return Dn(e),null}if(t=Ta(Ls.current),Hf(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ns]=e,r[Bd]=i,t=(e.mode&1)!==0,n){case"dialog":It("cancel",r),It("close",r);break;case"iframe":case"object":case"embed":It("load",r);break;case"video":case"audio":for(s=0;s<Qu.length;s++)It(Qu[s],r);break;case"source":It("error",r);break;case"img":case"image":case"link":It("error",r),It("load",r);break;case"details":It("toggle",r);break;case"input":tb(r,i),It("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},It("invalid",r);break;case"textarea":rb(r,i),It("invalid",r)}Lw(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Wf(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Wf(r.textContent,a,t),s=["children",""+a]):Nd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&It("scroll",r)}switch(n){case"input":jf(r),nb(r,i,!0);break;case"textarea":jf(r),sb(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=cm)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=X1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ns]=e,t[Bd]=r,xN(t,e,!1,!1),e.stateNode=t;e:{switch(o=jw(n,r),n){case"dialog":It("cancel",t),It("close",t),s=r;break;case"iframe":case"object":case"embed":It("load",t),s=r;break;case"video":case"audio":for(s=0;s<Qu.length;s++)It(Qu[s],t);s=r;break;case"source":It("error",t),s=r;break;case"img":case"image":case"link":It("error",t),It("load",t),s=r;break;case"details":It("toggle",t),s=r;break;case"input":tb(t,r),s=Nw(t,r),It("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Vt({},r,{value:void 0}),It("invalid",t);break;case"textarea":rb(t,r),s=Mw(t,r),It("invalid",t);break;default:s=r}Lw(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?eR(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&J1(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Dd(t,l):typeof l=="number"&&Dd(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Nd.hasOwnProperty(i)?l!=null&&i==="onScroll"&&It("scroll",t):l!=null&&X_(t,i,l,o))}switch(n){case"input":jf(t),nb(t,r,!1);break;case"textarea":jf(t),sb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Do(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Jl(t,!!r.multiple,i,!1):r.defaultValue!=null&&Jl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=cm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dn(e),null;case 6:if(t&&e.stateNode!=null)TN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=Ta(zd.current),Ta(Ls.current),Hf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ns]=e,(i=r.nodeValue!==n)&&(t=Tr,t!==null))switch(t.tag){case 3:Wf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wf(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ns]=e,e.stateNode=r}return Dn(e),null;case 13:if(At(Ot),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Dt&&xr!==null&&e.mode&1&&!(e.flags&128))BR(),Pc(),e.flags|=98560,i=!1;else if(i=Hf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(X(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(X(317));i[Ns]=e}else Pc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dn(e),i=!1}else os!==null&&(y0(os),os=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ot.current&1?dn===0&&(dn=3):kx())),e.updateQueue!==null&&(e.flags|=4),Dn(e),null);case 4:return Nc(),c0(t,e),t===null&&Fd(e.stateNode.containerInfo),Dn(e),null;case 10:return gx(e.type._context),Dn(e),null;case 17:return ur(e.type)&&um(),Dn(e),null;case 19:if(At(Ot),i=e.memoizedState,i===null)return Dn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ku(i,!1);else{if(dn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ym(t),o!==null){for(e.flags|=128,ku(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Et(Ot,Ot.current&1|2),e.child}t=t.sibling}i.tail!==null&&Yt()>kc&&(e.flags|=128,r=!0,ku(i,!1),e.lanes=4194304)}else{if(!r)if(t=ym(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ku(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Dt)return Dn(e),null}else 2*Yt()-i.renderingStartTime>kc&&n!==1073741824&&(e.flags|=128,r=!0,ku(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Yt(),e.sibling=null,n=Ot.current,Et(Ot,r?n&1|2:n&1),e):(Dn(e),null);case 22:case 23:return Dx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vr&1073741824&&(Dn(e),e.subtreeFlags&6&&(e.flags|=8192)):Dn(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function J$(t,e){switch(hx(e),e.tag){case 1:return ur(e.type)&&um(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Nc(),At(cr),At(Bn),xx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _x(e),null;case 13:if(At(Ot),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));Pc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return At(Ot),null;case 4:return Nc(),null;case 10:return gx(e.type._context),null;case 22:case 23:return Dx(),null;case 24:return null;default:return null}}var Qf=!1,jn=!1,Z$=typeof WeakSet=="function"?WeakSet:Set,fe=null;function zl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){zt(t,e,r)}else n.current=null}function u0(t,e,n){try{n()}catch(r){zt(t,e,r)}}var qb=!1;function e5(t,e){if(qw=om,t=AR(),ux(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,p=null;t:for(;;){for(var g;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)p=d,d=g;for(;;){if(d===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++u===r&&(l=o),(g=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gw={focusedElem:t,selectionRange:n},om=!1,fe=e;fe!==null;)if(e=fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fe=t;else for(;fe!==null;){e=fe;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,E=w.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?v:ns(e.type,v),E);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(A){zt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}return w=qb,qb=!1,w}function hd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&u0(e,n,i)}s=s.next}while(s!==r)}}function Eg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function d0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function SN(t){var e=t.alternate;e!==null&&(t.alternate=null,SN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ns],delete e[Bd],delete e[Xw],delete e[L$],delete e[j$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bN(t){return t.tag===5||t.tag===3||t.tag===4}function Gb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function h0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=cm));else if(r!==4&&(t=t.child,t!==null))for(h0(t,e,n),t=t.sibling;t!==null;)h0(t,e,n),t=t.sibling}function f0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(f0(t,e,n),t=t.sibling;t!==null;)f0(t,e,n),t=t.sibling}var wn=null,ss=!1;function Ui(t,e,n){for(n=n.child;n!==null;)CN(t,e,n),n=n.sibling}function CN(t,e,n){if(Os&&typeof Os.onCommitFiberUnmount=="function")try{Os.onCommitFiberUnmount(pg,n)}catch{}switch(n.tag){case 5:jn||zl(n,e);case 6:var r=wn,s=ss;wn=null,Ui(t,e,n),wn=r,ss=s,wn!==null&&(ss?(t=wn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):wn.removeChild(n.stateNode));break;case 18:wn!==null&&(ss?(t=wn,n=n.stateNode,t.nodeType===8?gv(t.parentNode,n):t.nodeType===1&&gv(t,n),Ld(t)):gv(wn,n.stateNode));break;case 4:r=wn,s=ss,wn=n.stateNode.containerInfo,ss=!0,Ui(t,e,n),wn=r,ss=s;break;case 0:case 11:case 14:case 15:if(!jn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&u0(n,e,o),s=s.next}while(s!==r)}Ui(t,e,n);break;case 1:if(!jn&&(zl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){zt(n,e,a)}Ui(t,e,n);break;case 21:Ui(t,e,n);break;case 22:n.mode&1?(jn=(r=jn)||n.memoizedState!==null,Ui(t,e,n),jn=r):Ui(t,e,n);break;default:Ui(t,e,n)}}function Qb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Z$),e.forEach(function(r){var s=c5.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function es(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:wn=a.stateNode,ss=!1;break e;case 3:wn=a.stateNode.containerInfo,ss=!0;break e;case 4:wn=a.stateNode.containerInfo,ss=!0;break e}a=a.return}if(wn===null)throw Error(X(160));CN(i,o,s),wn=null,ss=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){zt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)IN(e,t),e=e.sibling}function IN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(es(e,t),bs(t),r&4){try{hd(3,t,t.return),Eg(3,t)}catch(v){zt(t,t.return,v)}try{hd(5,t,t.return)}catch(v){zt(t,t.return,v)}}break;case 1:es(e,t),bs(t),r&512&&n!==null&&zl(n,n.return);break;case 5:if(es(e,t),bs(t),r&512&&n!==null&&zl(n,n.return),t.flags&32){var s=t.stateNode;try{Dd(s,"")}catch(v){zt(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Q1(s,i),jw(a,o);var c=jw(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?eR(s,d):u==="dangerouslySetInnerHTML"?J1(s,d):u==="children"?Dd(s,d):X_(s,u,d,c)}switch(a){case"input":Dw(s,i);break;case"textarea":Y1(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Jl(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?Jl(s,!!i.multiple,i.defaultValue,!0):Jl(s,!!i.multiple,i.multiple?[]:"",!1))}s[Bd]=i}catch(v){zt(t,t.return,v)}}break;case 6:if(es(e,t),bs(t),r&4){if(t.stateNode===null)throw Error(X(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){zt(t,t.return,v)}}break;case 3:if(es(e,t),bs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ld(e.containerInfo)}catch(v){zt(t,t.return,v)}break;case 4:es(e,t),bs(t);break;case 13:es(e,t),bs(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Rx=Yt())),r&4&&Qb(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(jn=(c=jn)||u,es(e,t),jn=c):es(e,t),bs(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(fe=t,u=t.child;u!==null;){for(d=fe=u;fe!==null;){switch(p=fe,g=p.child,p.tag){case 0:case 11:case 14:case 15:hd(4,p,p.return);break;case 1:zl(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){zt(r,n,v)}}break;case 5:zl(p,p.return);break;case 22:if(p.memoizedState!==null){Xb(d);continue}}g!==null?(g.return=p,fe=g):Xb(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Z1("display",o))}catch(v){zt(t,t.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){zt(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:es(e,t),bs(t),r&4&&Qb(t);break;case 21:break;default:es(e,t),bs(t)}}function bs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(bN(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Dd(s,""),r.flags&=-33);var i=Gb(t);f0(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Gb(t);h0(t,a,o);break;default:throw Error(X(161))}}catch(l){zt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function t5(t,e,n){fe=t,AN(t)}function AN(t,e,n){for(var r=(t.mode&1)!==0;fe!==null;){var s=fe,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Qf;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||jn;a=Qf;var c=jn;if(Qf=o,(jn=l)&&!c)for(fe=s;fe!==null;)o=fe,l=o.child,o.tag===22&&o.memoizedState!==null?Jb(s):l!==null?(l.return=o,fe=l):Jb(s);for(;i!==null;)fe=i,AN(i),i=i.sibling;fe=s,Qf=a,jn=c}Yb(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,fe=i):Yb(t)}}function Yb(t){for(;fe!==null;){var e=fe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jn||Eg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!jn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ns(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Mb(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Mb(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Ld(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}jn||e.flags&512&&d0(e)}catch(p){zt(e,e.return,p)}}if(e===t){fe=null;break}if(n=e.sibling,n!==null){n.return=e.return,fe=n;break}fe=e.return}}function Xb(t){for(;fe!==null;){var e=fe;if(e===t){fe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,fe=n;break}fe=e.return}}function Jb(t){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Eg(4,e)}catch(l){zt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){zt(e,s,l)}}var i=e.return;try{d0(e)}catch(l){zt(e,i,l)}break;case 5:var o=e.return;try{d0(e)}catch(l){zt(e,o,l)}}}catch(l){zt(e,e.return,l)}if(e===t){fe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,fe=a;break}fe=e.return}}var n5=Math.ceil,_m=Ni.ReactCurrentDispatcher,Ax=Ni.ReactCurrentOwner,Wr=Ni.ReactCurrentBatchConfig,ot=0,gn=null,rn=null,Tn=0,vr=0,Kl=qo(0),dn=0,qd=null,Wa=0,Tg=0,Px=0,fd=null,ar=null,Rx=0,kc=1/0,Js=null,xm=!1,p0=null,So=null,Yf=!1,po=null,Em=0,pd=0,m0=null,Rp=-1,Np=0;function Zn(){return ot&6?Yt():Rp!==-1?Rp:Rp=Yt()}function bo(t){return t.mode&1?ot&2&&Tn!==0?Tn&-Tn:F$.transition!==null?(Np===0&&(Np=hR()),Np):(t=ht,t!==0||(t=window.event,t=t===void 0?16:wR(t.type)),t):1}function hs(t,e,n,r){if(50<pd)throw pd=0,m0=null,Error(X(185));kh(t,n,r),(!(ot&2)||t!==gn)&&(t===gn&&(!(ot&2)&&(Tg|=n),dn===4&&Xi(t,Tn)),dr(t,r),n===1&&ot===0&&!(e.mode&1)&&(kc=Yt()+500,wg&&Go()))}function dr(t,e){var n=t.callbackNode;FB(t,e);var r=im(t,t===gn?Tn:0);if(r===0)n!==null&&ab(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ab(n),e===1)t.tag===0?V$(Zb.bind(null,t)):VR(Zb.bind(null,t)),M$(function(){!(ot&6)&&Go()}),n=null;else{switch(fR(r)){case 1:n=nx;break;case 4:n=uR;break;case 16:n=sm;break;case 536870912:n=dR;break;default:n=sm}n=LN(n,PN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function PN(t,e){if(Rp=-1,Np=0,ot&6)throw Error(X(327));var n=t.callbackNode;if(rc()&&t.callbackNode!==n)return null;var r=im(t,t===gn?Tn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Tm(t,r);else{e=r;var s=ot;ot|=2;var i=NN();(gn!==t||Tn!==e)&&(Js=null,kc=Yt()+500,ja(t,e));do try{i5();break}catch(a){RN(t,a)}while(!0);mx(),_m.current=i,ot=s,rn!==null?e=0:(gn=null,Tn=0,e=dn)}if(e!==0){if(e===2&&(s=$w(t),s!==0&&(r=s,e=g0(t,s))),e===1)throw n=qd,ja(t,0),Xi(t,r),dr(t,Yt()),n;if(e===6)Xi(t,r);else{if(s=t.current.alternate,!(r&30)&&!r5(s)&&(e=Tm(t,r),e===2&&(i=$w(t),i!==0&&(r=i,e=g0(t,i))),e===1))throw n=qd,ja(t,0),Xi(t,r),dr(t,Yt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:ga(t,ar,Js);break;case 3:if(Xi(t,r),(r&130023424)===r&&(e=Rx+500-Yt(),10<e)){if(im(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Zn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Yw(ga.bind(null,t,ar,Js),e);break}ga(t,ar,Js);break;case 4:if(Xi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ds(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Yt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*n5(r/1960))-r,10<r){t.timeoutHandle=Yw(ga.bind(null,t,ar,Js),r);break}ga(t,ar,Js);break;case 5:ga(t,ar,Js);break;default:throw Error(X(329))}}}return dr(t,Yt()),t.callbackNode===n?PN.bind(null,t):null}function g0(t,e){var n=fd;return t.current.memoizedState.isDehydrated&&(ja(t,e).flags|=256),t=Tm(t,e),t!==2&&(e=ar,ar=n,e!==null&&y0(e)),t}function y0(t){ar===null?ar=t:ar.push.apply(ar,t)}function r5(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!gs(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xi(t,e){for(e&=~Px,e&=~Tg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ds(e),r=1<<n;t[n]=-1,e&=~r}}function Zb(t){if(ot&6)throw Error(X(327));rc();var e=im(t,0);if(!(e&1))return dr(t,Yt()),null;var n=Tm(t,e);if(t.tag!==0&&n===2){var r=$w(t);r!==0&&(e=r,n=g0(t,r))}if(n===1)throw n=qd,ja(t,0),Xi(t,e),dr(t,Yt()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ga(t,ar,Js),dr(t,Yt()),null}function Nx(t,e){var n=ot;ot|=1;try{return t(e)}finally{ot=n,ot===0&&(kc=Yt()+500,wg&&Go())}}function Ha(t){po!==null&&po.tag===0&&!(ot&6)&&rc();var e=ot;ot|=1;var n=Wr.transition,r=ht;try{if(Wr.transition=null,ht=1,t)return t()}finally{ht=r,Wr.transition=n,ot=e,!(ot&6)&&Go()}}function Dx(){vr=Kl.current,At(Kl)}function ja(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,k$(n)),rn!==null)for(n=rn.return;n!==null;){var r=n;switch(hx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&um();break;case 3:Nc(),At(cr),At(Bn),xx();break;case 5:_x(r);break;case 4:Nc();break;case 13:At(Ot);break;case 19:At(Ot);break;case 10:gx(r.type._context);break;case 22:case 23:Dx()}n=n.return}if(gn=t,rn=t=Co(t.current,null),Tn=vr=e,dn=0,qd=null,Px=Tg=Wa=0,ar=fd=null,Ea!==null){for(e=0;e<Ea.length;e++)if(n=Ea[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ea=null}return t}function RN(t,e){do{var n=rn;try{if(mx(),Ip.current=wm,vm){for(var r=jt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}vm=!1}if(Ka=0,mn=ln=jt=null,dd=!1,Kd=0,Ax.current=null,n===null||n.return===null){dn=1,qd=e,rn=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Tn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=Ub(o);if(g!==null){g.flags&=-257,Bb(g,o,a,i,e),g.mode&1&&Fb(i,c,e),e=g,l=c;var w=e.updateQueue;if(w===null){var v=new Set;v.add(l),e.updateQueue=v}else w.add(l);break e}else{if(!(e&1)){Fb(i,c,e),kx();break e}l=Error(X(426))}}else if(Dt&&a.mode&1){var E=Ub(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Bb(E,o,a,i,e),fx(Dc(l,a));break e}}i=l=Dc(l,a),dn!==4&&(dn=2),fd===null?fd=[i]:fd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=fN(i,l,e);kb(i,_);break e;case 1:a=l;var y=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(So===null||!So.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=pN(i,a,e);kb(i,A);break e}}i=i.return}while(i!==null)}kN(n)}catch(D){e=D,rn===n&&n!==null&&(rn=n=n.return);continue}break}while(!0)}function NN(){var t=_m.current;return _m.current=wm,t===null?wm:t}function kx(){(dn===0||dn===3||dn===2)&&(dn=4),gn===null||!(Wa&268435455)&&!(Tg&268435455)||Xi(gn,Tn)}function Tm(t,e){var n=ot;ot|=2;var r=NN();(gn!==t||Tn!==e)&&(Js=null,ja(t,e));do try{s5();break}catch(s){RN(t,s)}while(!0);if(mx(),ot=n,_m.current=r,rn!==null)throw Error(X(261));return gn=null,Tn=0,dn}function s5(){for(;rn!==null;)DN(rn)}function i5(){for(;rn!==null&&!RB();)DN(rn)}function DN(t){var e=ON(t.alternate,t,vr);t.memoizedProps=t.pendingProps,e===null?kN(t):rn=e,Ax.current=null}function kN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=J$(n,e),n!==null){n.flags&=32767,rn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dn=6,rn=null;return}}else if(n=X$(n,e,vr),n!==null){rn=n;return}if(e=e.sibling,e!==null){rn=e;return}rn=e=t}while(e!==null);dn===0&&(dn=5)}function ga(t,e,n){var r=ht,s=Wr.transition;try{Wr.transition=null,ht=1,o5(t,e,n,r)}finally{Wr.transition=s,ht=r}return null}function o5(t,e,n,r){do rc();while(po!==null);if(ot&6)throw Error(X(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(UB(t,i),t===gn&&(rn=gn=null,Tn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yf||(Yf=!0,LN(sm,function(){return rc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Wr.transition,Wr.transition=null;var o=ht;ht=1;var a=ot;ot|=4,Ax.current=null,e5(t,n),IN(n,t),C$(Gw),om=!!qw,Gw=qw=null,t.current=n,t5(n),NB(),ot=a,ht=o,Wr.transition=i}else t.current=n;if(Yf&&(Yf=!1,po=t,Em=s),i=t.pendingLanes,i===0&&(So=null),MB(n.stateNode),dr(t,Yt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(xm)throw xm=!1,t=p0,p0=null,t;return Em&1&&t.tag!==0&&rc(),i=t.pendingLanes,i&1?t===m0?pd++:(pd=0,m0=t):pd=0,Go(),null}function rc(){if(po!==null){var t=fR(Em),e=Wr.transition,n=ht;try{if(Wr.transition=null,ht=16>t?16:t,po===null)var r=!1;else{if(t=po,po=null,Em=0,ot&6)throw Error(X(331));var s=ot;for(ot|=4,fe=t.current;fe!==null;){var i=fe,o=i.child;if(fe.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(fe=c;fe!==null;){var u=fe;switch(u.tag){case 0:case 11:case 15:hd(8,u,i)}var d=u.child;if(d!==null)d.return=u,fe=d;else for(;fe!==null;){u=fe;var p=u.sibling,g=u.return;if(SN(u),u===c){fe=null;break}if(p!==null){p.return=g,fe=p;break}fe=g}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}fe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,fe=o;else e:for(;fe!==null;){if(i=fe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:hd(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,fe=_;break e}fe=i.return}}var y=t.current;for(fe=y;fe!==null;){o=fe;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,fe=S;else e:for(o=y;fe!==null;){if(a=fe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Eg(9,a)}}catch(D){zt(a,a.return,D)}if(a===o){fe=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,fe=A;break e}fe=a.return}}if(ot=s,Go(),Os&&typeof Os.onPostCommitFiberRoot=="function")try{Os.onPostCommitFiberRoot(pg,t)}catch{}r=!0}return r}finally{ht=n,Wr.transition=e}}return!1}function eC(t,e,n){e=Dc(n,e),e=fN(t,e,1),t=To(t,e,1),e=Zn(),t!==null&&(kh(t,1,e),dr(t,e))}function zt(t,e,n){if(t.tag===3)eC(t,t,n);else for(;e!==null;){if(e.tag===3){eC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(So===null||!So.has(r))){t=Dc(n,t),t=pN(e,t,1),e=To(e,t,1),t=Zn(),e!==null&&(kh(e,1,t),dr(e,t));break}}e=e.return}}function a5(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zn(),t.pingedLanes|=t.suspendedLanes&n,gn===t&&(Tn&n)===n&&(dn===4||dn===3&&(Tn&130023424)===Tn&&500>Yt()-Rx?ja(t,0):Px|=n),dr(t,e)}function MN(t,e){e===0&&(t.mode&1?(e=Uf,Uf<<=1,!(Uf&130023424)&&(Uf=4194304)):e=1);var n=Zn();t=_i(t,e),t!==null&&(kh(t,e,n),dr(t,n))}function l5(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),MN(t,n)}function c5(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),MN(t,n)}var ON;ON=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||cr.current)lr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return lr=!1,Y$(t,e,n);lr=!!(t.flags&131072)}else lr=!1,Dt&&e.flags&1048576&&FR(e,fm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Pp(t,e),t=e.pendingProps;var s=Ac(e,Bn.current);nc(e,n),s=Tx(null,e,r,t,s,n);var i=Sx();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ur(r)?(i=!0,dm(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,vx(e),s.updater=xg,e.stateNode=s,s._reactInternals=e,r0(e,r,t,n),e=o0(null,e,r,!0,i,n)):(e.tag=0,Dt&&i&&dx(e),Xn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Pp(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=d5(r),t=ns(r,t),s){case 0:e=i0(null,e,r,t,n);break e;case 1:e=Kb(null,e,r,t,n);break e;case 11:e=$b(null,e,r,t,n);break e;case 14:e=zb(null,e,r,ns(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ns(r,s),i0(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ns(r,s),Kb(t,e,r,s,n);case 3:e:{if(vN(e),t===null)throw Error(X(387));r=e.pendingProps,i=e.memoizedState,s=i.element,WR(t,e),gm(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Dc(Error(X(423)),e),e=Wb(t,e,r,n,s);break e}else if(r!==s){s=Dc(Error(X(424)),e),e=Wb(t,e,r,n,s);break e}else for(xr=Eo(e.stateNode.containerInfo.firstChild),Tr=e,Dt=!0,os=null,n=zR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Pc(),r===s){e=xi(t,e,n);break e}Xn(t,e,r,n)}e=e.child}return e;case 5:return HR(e),t===null&&e0(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Qw(r,s)?o=null:i!==null&&Qw(r,i)&&(e.flags|=32),yN(t,e),Xn(t,e,o,n),e.child;case 6:return t===null&&e0(e),null;case 13:return wN(t,e,n);case 4:return wx(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Rc(e,null,r,n):Xn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ns(r,s),$b(t,e,r,s,n);case 7:return Xn(t,e,e.pendingProps,n),e.child;case 8:return Xn(t,e,e.pendingProps.children,n),e.child;case 12:return Xn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Et(pm,r._currentValue),r._currentValue=o,i!==null)if(gs(i.value,o)){if(i.children===s.children&&!cr.current){e=xi(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=di(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),t0(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(X(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),t0(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Xn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,nc(e,n),s=Gr(s),r=r(s),e.flags|=1,Xn(t,e,r,n),e.child;case 14:return r=e.type,s=ns(r,e.pendingProps),s=ns(r.type,s),zb(t,e,r,s,n);case 15:return mN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ns(r,s),Pp(t,e),e.tag=1,ur(r)?(t=!0,dm(e)):t=!1,nc(e,n),hN(e,r,s),r0(e,r,s,n),o0(null,e,r,!0,t,n);case 19:return _N(t,e,n);case 22:return gN(t,e,n)}throw Error(X(156,e.tag))};function LN(t,e){return cR(t,e)}function u5(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(t,e,n,r){return new u5(t,e,n,r)}function Mx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function d5(t){if(typeof t=="function")return Mx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Z_)return 11;if(t===ex)return 14}return 2}function Co(t,e){var n=t.alternate;return n===null?(n=Kr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Dp(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Mx(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ml:return Va(n.children,s,i,e);case J_:o=8,s|=8;break;case Iw:return t=Kr(12,n,e,s|2),t.elementType=Iw,t.lanes=i,t;case Aw:return t=Kr(13,n,e,s),t.elementType=Aw,t.lanes=i,t;case Pw:return t=Kr(19,n,e,s),t.elementType=Pw,t.lanes=i,t;case H1:return Sg(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K1:o=10;break e;case W1:o=9;break e;case Z_:o=11;break e;case ex:o=14;break e;case Gi:o=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=Kr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Va(t,e,n,r){return t=Kr(7,t,r,e),t.lanes=n,t}function Sg(t,e,n,r){return t=Kr(22,t,r,e),t.elementType=H1,t.lanes=n,t.stateNode={isHidden:!1},t}function Sv(t,e,n){return t=Kr(6,t,null,e),t.lanes=n,t}function bv(t,e,n){return e=Kr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function h5(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=iv(0),this.expirationTimes=iv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=iv(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ox(t,e,n,r,s,i,o,a,l){return t=new h5(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Kr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vx(i),t}function f5(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function jN(t){if(!t)return ko;t=t._reactInternals;e:{if(ol(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ur(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(ur(n))return jR(t,n,e)}return e}function VN(t,e,n,r,s,i,o,a,l){return t=Ox(n,r,!0,t,s,i,o,a,l),t.context=jN(null),n=t.current,r=Zn(),s=bo(n),i=di(r,s),i.callback=e??null,To(n,i,s),t.current.lanes=s,kh(t,s,r),dr(t,r),t}function bg(t,e,n,r){var s=e.current,i=Zn(),o=bo(s);return n=jN(n),e.context===null?e.context=n:e.pendingContext=n,e=di(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=To(s,e,o),t!==null&&(hs(t,s,o,i),Cp(t,s,o)),o}function Sm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function tC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Lx(t,e){tC(t,e),(t=t.alternate)&&tC(t,e)}function p5(){return null}var FN=typeof reportError=="function"?reportError:function(t){console.error(t)};function jx(t){this._internalRoot=t}Cg.prototype.render=jx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));bg(t,e,null,null)};Cg.prototype.unmount=jx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ha(function(){bg(null,t,null,null)}),e[wi]=null}};function Cg(t){this._internalRoot=t}Cg.prototype.unstable_scheduleHydration=function(t){if(t){var e=gR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Yi.length&&e!==0&&e<Yi[n].priority;n++);Yi.splice(n,0,t),n===0&&vR(t)}};function Vx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ig(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function nC(){}function m5(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Sm(o);i.call(c)}}var o=VN(e,r,t,0,null,!1,!1,"",nC);return t._reactRootContainer=o,t[wi]=o.current,Fd(t.nodeType===8?t.parentNode:t),Ha(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Sm(l);a.call(c)}}var l=Ox(t,0,!1,null,null,!1,!1,"",nC);return t._reactRootContainer=l,t[wi]=l.current,Fd(t.nodeType===8?t.parentNode:t),Ha(function(){bg(e,l,n,r)}),l}function Ag(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Sm(o);a.call(l)}}bg(e,o,t,s)}else o=m5(n,e,t,s,r);return Sm(o)}pR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Gu(e.pendingLanes);n!==0&&(rx(e,n|1),dr(e,Yt()),!(ot&6)&&(kc=Yt()+500,Go()))}break;case 13:Ha(function(){var r=_i(t,1);if(r!==null){var s=Zn();hs(r,t,1,s)}}),Lx(t,1)}};sx=function(t){if(t.tag===13){var e=_i(t,134217728);if(e!==null){var n=Zn();hs(e,t,134217728,n)}Lx(t,134217728)}};mR=function(t){if(t.tag===13){var e=bo(t),n=_i(t,e);if(n!==null){var r=Zn();hs(n,t,e,r)}Lx(t,e)}};gR=function(){return ht};yR=function(t,e){var n=ht;try{return ht=t,e()}finally{ht=n}};Fw=function(t,e,n){switch(e){case"input":if(Dw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=vg(r);if(!s)throw Error(X(90));G1(r),Dw(r,s)}}}break;case"textarea":Y1(t,n);break;case"select":e=n.value,e!=null&&Jl(t,!!n.multiple,e,!1)}};rR=Nx;sR=Ha;var g5={usingClientEntryPoint:!1,Events:[Oh,Vl,vg,tR,nR,Nx]},Mu={findFiberByHostInstance:xa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},y5={bundleType:Mu.bundleType,version:Mu.version,rendererPackageName:Mu.rendererPackageName,rendererConfig:Mu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ni.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=aR(t),t===null?null:t.stateNode},findFiberByHostInstance:Mu.findFiberByHostInstance||p5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xf.isDisabled&&Xf.supportsFiber)try{pg=Xf.inject(y5),Os=Xf}catch{}}Rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g5;Rr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vx(e))throw Error(X(200));return f5(t,e,null,n)};Rr.createRoot=function(t,e){if(!Vx(t))throw Error(X(299));var n=!1,r="",s=FN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ox(t,1,!1,null,null,n,!1,r,s),t[wi]=e.current,Fd(t.nodeType===8?t.parentNode:t),new jx(e)};Rr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=aR(e),t=t===null?null:t.stateNode,t};Rr.flushSync=function(t){return Ha(t)};Rr.hydrate=function(t,e,n){if(!Ig(e))throw Error(X(200));return Ag(null,t,e,!0,n)};Rr.hydrateRoot=function(t,e,n){if(!Vx(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=FN;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=VN(e,null,t,1,n??null,s,!1,i,o),t[wi]=e.current,Fd(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Cg(e)};Rr.render=function(t,e,n){if(!Ig(e))throw Error(X(200));return Ag(null,t,e,!1,n)};Rr.unmountComponentAtNode=function(t){if(!Ig(t))throw Error(X(40));return t._reactRootContainer?(Ha(function(){Ag(null,null,t,!1,function(){t._reactRootContainer=null,t[wi]=null})}),!0):!1};Rr.unstable_batchedUpdates=Nx;Rr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ig(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return Ag(t,e,n,!1,r)};Rr.version="18.3.1-next-f1338f8080-20240426";function UN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UN)}catch(t){console.error(t)}}UN(),U1.exports=Rr;var Di=U1.exports;const jh=K_(Di),v5=I1({__proto__:null,default:jh},[Di]);var rC=Di;bw.createRoot=rC.createRoot,bw.hydrateRoot=rC.hydrateRoot;var sC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},w5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},$N={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,d=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[u],n[d],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):w5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||d==null)throw new _5;const p=i<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),d!==64){const w=c<<6&192|d;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const x5=function(t){const e=BN(t);return $N.encodeByteArray(e,!0)},bm=function(t){return x5(t).replace(/\./g,"")},zN=function(t){try{return $N.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5=()=>E5().__FIREBASE_DEFAULTS__,S5=()=>{if(typeof process>"u"||typeof sC>"u")return;const t=sC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},b5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zN(t[1]);return e&&JSON.parse(e)},Pg=()=>{try{return T5()||S5()||b5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},KN=t=>{var e,n;return(n=(e=Pg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},WN=t=>{const e=KN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},HN=()=>{var t;return(t=Pg())===null||t===void 0?void 0:t.config},qN=t=>{var e;return(e=Pg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C5=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[bm(JSON.stringify(n)),bm(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function I5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($n())}function A5(){var t;const e=(t=Pg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function P5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function R5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function N5(){const t=$n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function D5(){return!A5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YN(){try{return typeof indexedDB=="object"}catch{return!1}}function XN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function k5(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5="FirebaseError";class Dr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=M5,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,al.prototype.create)}}class al{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?O5(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Dr(s,a,r)}}function O5(t,e){return t.replace(L5,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const L5=/\{\$([^}]+)}/g;function j5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(iC(i)&&iC(o)){if(!Gd(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function iC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function V5(t,e){const n=new F5(t,e);return n.subscribe.bind(n)}class F5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");U5(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Cv),s.error===void 0&&(s.error=Cv),s.complete===void 0&&(s.complete=Cv);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function U5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Cv(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5=1e3,$5=2,z5=4*60*60*1e3,K5=.5;function oC(t,e=B5,n=$5){const r=e*Math.pow(n,t),s=Math.round(K5*r*(Math.random()-.5)*2);return Math.min(z5,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t){return t&&t._delegate?t._delegate:t}class Yr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W5=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new C5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(q5(e))try{this.getOrInitializeService({instanceIdentifier:ya})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ya){return this.instances.has(e)}getOptions(e=ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:H5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ya){return this.component?this.component.multipleInstances?e:ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function H5(t){return t===ya?void 0:t}function q5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new W5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tt||(tt={}));const Q5={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},Y5=tt.INFO,X5={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},J5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=X5[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rg{constructor(e){this.name=e,this._logLevel=Y5,this._logHandler=J5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Q5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const Z5=(t,e)=>e.some(n=>t instanceof n);let aC,lC;function e3(){return aC||(aC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function t3(){return lC||(lC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JN=new WeakMap,v0=new WeakMap,ZN=new WeakMap,Iv=new WeakMap,Fx=new WeakMap;function n3(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Io(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&JN.set(n,t)}).catch(()=>{}),Fx.set(e,t),e}function r3(t){if(v0.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});v0.set(t,e)}let w0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return v0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ZN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Io(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function s3(t){w0=t(w0)}function i3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Av(this),e,...n);return ZN.set(r,e.sort?e.sort():[e]),Io(r)}:t3().includes(t)?function(...e){return t.apply(Av(this),e),Io(JN.get(this))}:function(...e){return Io(t.apply(Av(this),e))}}function o3(t){return typeof t=="function"?i3(t):(t instanceof IDBTransaction&&r3(t),Z5(t,e3())?new Proxy(t,w0):t)}function Io(t){if(t instanceof IDBRequest)return n3(t);if(Iv.has(t))return Iv.get(t);const e=o3(t);return e!==t&&(Iv.set(t,e),Fx.set(e,t)),e}const Av=t=>Fx.get(t);function eD(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Io(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Io(o.result),l.oldVersion,l.newVersion,Io(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const a3=["get","getKey","getAll","getAllKeys","count"],l3=["put","add","delete","clear"],Pv=new Map;function cC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pv.get(e))return Pv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=l3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||a3.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Pv.set(e,i),i}s3(t=>({...t,get:(e,n,r)=>cC(e,n)||t.get(e,n,r),has:(e,n)=>!!cC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(u3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function u3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _0="@firebase/app",uC="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new Rg("@firebase/app"),d3="@firebase/app-compat",h3="@firebase/analytics-compat",f3="@firebase/analytics",p3="@firebase/app-check-compat",m3="@firebase/app-check",g3="@firebase/auth",y3="@firebase/auth-compat",v3="@firebase/database",w3="@firebase/database-compat",_3="@firebase/functions",x3="@firebase/functions-compat",E3="@firebase/installations",T3="@firebase/installations-compat",S3="@firebase/messaging",b3="@firebase/messaging-compat",C3="@firebase/performance",I3="@firebase/performance-compat",A3="@firebase/remote-config",P3="@firebase/remote-config-compat",R3="@firebase/storage",N3="@firebase/storage-compat",D3="@firebase/firestore",k3="@firebase/vertexai-preview",M3="@firebase/firestore-compat",O3="firebase",L3="10.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="[DEFAULT]",j3={[_0]:"fire-core",[d3]:"fire-core-compat",[f3]:"fire-analytics",[h3]:"fire-analytics-compat",[m3]:"fire-app-check",[p3]:"fire-app-check-compat",[g3]:"fire-auth",[y3]:"fire-auth-compat",[v3]:"fire-rtdb",[w3]:"fire-rtdb-compat",[_3]:"fire-fn",[x3]:"fire-fn-compat",[E3]:"fire-iid",[T3]:"fire-iid-compat",[S3]:"fire-fcm",[b3]:"fire-fcm-compat",[C3]:"fire-perf",[I3]:"fire-perf-compat",[A3]:"fire-rc",[P3]:"fire-rc-compat",[R3]:"fire-gcs",[N3]:"fire-gcs-compat",[D3]:"fire-fst",[M3]:"fire-fst-compat",[k3]:"fire-vertex","fire-js":"fire-js",[O3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm=new Map,V3=new Map,E0=new Map;function dC(t,e){try{t.container.addComponent(e)}catch(n){Ei.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ys(t){const e=t.name;if(E0.has(e))return Ei.debug(`There were multiple attempts to register component ${e}.`),!1;E0.set(e,t);for(const n of Cm.values())dC(n,t);for(const n of V3.values())dC(n,t);return!0}function Qo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ri(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ao=new al("app","Firebase",F3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ao.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll=L3;function tD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:x0,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ao.create("bad-app-name",{appName:String(s)});if(n||(n=HN()),!n)throw Ao.create("no-options");const i=Cm.get(s);if(i){if(Gd(n,i.options)&&Gd(r,i.config))return i;throw Ao.create("duplicate-app",{appName:s})}const o=new G5(s);for(const l of E0.values())o.addComponent(l);const a=new U3(n,r,o);return Cm.set(s,a),a}function Ng(t=x0){const e=Cm.get(t);if(!e&&t===x0&&HN())return tD();if(!e)throw Ao.create("no-app",{appName:t});return e}function hr(t,e,n){var r;let s=(r=j3[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ei.warn(a.join(" "));return}ys(new Yr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3="firebase-heartbeat-database",$3=1,Qd="firebase-heartbeat-store";let Rv=null;function nD(){return Rv||(Rv=eD(B3,$3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ao.create("idb-open",{originalErrorMessage:t.message})})),Rv}async function z3(t){try{const n=(await nD()).transaction(Qd),r=await n.objectStore(Qd).get(rD(t));return await n.done,r}catch(e){if(e instanceof Dr)Ei.warn(e.message);else{const n=Ao.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ei.warn(n.message)}}}async function hC(t,e){try{const r=(await nD()).transaction(Qd,"readwrite");await r.objectStore(Qd).put(e,rD(t)),await r.done}catch(n){if(n instanceof Dr)Ei.warn(n.message);else{const r=Ao.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ei.warn(r.message)}}}function rD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=1024,W3=30*24*60*60*1e3;class H3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new G3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=fC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=W3}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ei.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=fC(),{heartbeatsToSend:r,unsentEntries:s}=q3(this._heartbeatsCache.heartbeats),i=bm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ei.warn(n),""}}}function fC(){return new Date().toISOString().substring(0,10)}function q3(t,e=K3){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),pC(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),pC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class G3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YN()?XN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await z3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return hC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return hC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function pC(t){return bm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q3(t){ys(new Yr("platform-logger",e=>new c3(e),"PRIVATE")),ys(new Yr("heartbeat",e=>new H3(e),"PRIVATE")),hr(_0,uC,t),hr(_0,uC,"esm2017"),hr("fire-js","")}Q3("");var Ds=function(){return Ds=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ds.apply(this,arguments)};function Fh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Y3(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function sD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const X3=sD,iD=new al("auth","Firebase",sD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im=new Rg("@firebase/auth");function J3(t,...e){Im.logLevel<=tt.WARN&&Im.warn(`Auth (${ll}): ${t}`,...e)}function kp(t,...e){Im.logLevel<=tt.ERROR&&Im.error(`Auth (${ll}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t,...e){throw Ux(t,...e)}function js(t,...e){return Ux(t,...e)}function oD(t,e,n){const r=Object.assign(Object.assign({},X3()),{[e]:n});return new al("auth","Firebase",r).create(e,{appName:t.name})}function Po(t){return oD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ux(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return iD.create(t,...e)}function Pe(t,e,...n){if(!t)throw Ux(e,...n)}function si(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kp(e),new Error(e)}function Si(t,e){t||si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Z3(){return mC()==="http:"||mC()==="https:"}function mC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ez(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Z3()||QN()||"connection"in navigator)?navigator.onLine:!0}function tz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Si(n>e,"Short delay should be less than long delay!"),this.isMobile=I5()||R5()}get(){return ez()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(t,e){Si(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz=new Uh(3e4,6e4);function Dg(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Xc(t,e,n,r,s={}){return lD(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Vh(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return P5()||(c.referrerPolicy="no-referrer"),aD.fetch()(uD(t,t.config.apiHost,n,a),c)})}async function lD(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},nz),e);try{const s=new sz(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Jf(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jf(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Jf(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Jf(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw oD(t,u,c);Ti(t,u)}}catch(s){if(s instanceof Dr)throw s;Ti(t,"network-request-failed",{message:String(s)})}}async function cD(t,e,n,r,s={}){const i=await Xc(t,e,n,r,s);return"mfaPendingCredential"in i&&Ti(t,"multi-factor-auth-required",{_serverResponse:i}),i}function uD(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Bx(t.config,s):`${t.config.apiScheme}://${s}`}class sz{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(js(this.auth,"network-request-failed")),rz.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=js(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iz(t,e){return Xc(t,"POST","/v1/accounts:delete",e)}async function dD(t,e){return Xc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oz(t,e=!1){const n=sn(t),r=await n.getIdToken(e),s=$x(r);Pe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:md(Nv(s.auth_time)),issuedAtTime:md(Nv(s.iat)),expirationTime:md(Nv(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Nv(t){return Number(t)*1e3}function $x(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kp("JWT malformed, contained fewer than 3 sections"),null;try{const s=zN(n);return s?JSON.parse(s):(kp("Failed to decode base64 JWT payload"),null)}catch(s){return kp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function gC(t){const e=$x(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Dr&&az(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function az({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=md(this.lastLoginAt),this.creationTime=md(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Am(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Yd(t,dD(n,{idToken:r}));Pe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?hD(i.providerUserInfo):[],a=uz(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new S0(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function cz(t){const e=sn(t);await Am(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uz(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function hD(t){return t.map(e=>{var{providerId:n}=e,r=Fh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dz(t,e){const n=await lD(t,{},async()=>{const r=Vh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=uD(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",aD.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hz(t,e){return Xc(t,"POST","/v2/accounts:revokeToken",Dg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=gC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await dz(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new sc;return r&&(Pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Pe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Pe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sc,this.toJSON())}_performRefresh(){return si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ii{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Fh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new S0(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Yd(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oz(this,e)}reload(){return cz(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ii(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Am(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ri(this.auth.app))return Promise.reject(Po(this.auth));const e=await this.getIdToken();return await Yd(this,iz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:S,emailVerified:A,isAnonymous:D,providerData:O,stsTokenManager:C}=n;Pe(S&&C,e,"internal-error");const T=sc.fromJSON(this.name,C);Pe(typeof S=="string",e,"internal-error"),Bi(d,e.name),Bi(p,e.name),Pe(typeof A=="boolean",e,"internal-error"),Pe(typeof D=="boolean",e,"internal-error"),Bi(g,e.name),Bi(w,e.name),Bi(v,e.name),Bi(E,e.name),Bi(_,e.name),Bi(y,e.name);const I=new ii({uid:S,auth:e,email:p,emailVerified:A,displayName:d,isAnonymous:D,photoURL:w,phoneNumber:g,tenantId:v,stsTokenManager:T,createdAt:_,lastLoginAt:y});return O&&Array.isArray(O)&&(I.providerData=O.map(P=>Object.assign({},P))),E&&(I._redirectEventId=E),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new sc;s.updateFromServerResponse(n);const i=new ii({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Am(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Pe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?hD(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new sc;a.updateFromIdToken(r);const l=new ii({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new S0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=new Map;function oi(t){Si(t instanceof Function,"Expected a class definition");let e=yC.get(t);return e?(Si(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fD.type="NONE";const vC=fD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(t,e,n){return`firebase:${t}:${e}:${n}`}class ic{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Mp(this.userKey,s.apiKey,i),this.fullPersistenceKey=Mp("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ii._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ic(oi(vC),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||oi(vC);const o=Mp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=ii._fromJSON(e,u);c!==i&&(a=d),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ic(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new ic(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wD(e))return"Blackberry";if(_D(e))return"Webos";if(mD(e))return"Safari";if((e.includes("chrome/")||gD(e))&&!e.includes("edge/"))return"Chrome";if(vD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function pD(t=$n()){return/firefox\//i.test(t)}function mD(t=$n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gD(t=$n()){return/crios\//i.test(t)}function yD(t=$n()){return/iemobile/i.test(t)}function vD(t=$n()){return/android/i.test(t)}function wD(t=$n()){return/blackberry/i.test(t)}function _D(t=$n()){return/webos/i.test(t)}function zx(t=$n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fz(t=$n()){var e;return zx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pz(){return N5()&&document.documentMode===10}function xD(t=$n()){return zx(t)||vD(t)||_D(t)||wD(t)||/windows phone/i.test(t)||yD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t,e=[]){let n;switch(t){case"Browser":n=wC($n());break;case"Worker":n=`${wC($n())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ll}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gz(t,e={}){return Xc(t,"GET","/v2/passwordPolicy",Dg(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz=6;class vz{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:yz,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _C(this),this.idTokenSubscription=new _C(this),this.beforeStateQueue=new mz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=oi(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await ic.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dD(this,{idToken:e}),r=await ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ri(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Am(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ri(this.app))return Promise.reject(Po(this));const n=e?sn(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ri(this.app)?Promise.reject(Po(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ri(this.app)?Promise.reject(Po(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gz(this),n=new vz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new al("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await hz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&oi(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await ic.create(this,[oi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ED(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&J3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function kg(t){return sn(t)}class _C{constructor(e){this.auth=e,this.observer=null,this.addObserver=V5(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _z(t){Kx=t}function xz(t){return Kx.loadJS(t)}function Ez(){return Kx.gapiScript}function Tz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sz(t,e){const n=Qo(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Gd(i,e??{}))return s;Ti(s,"already-initialized")}return n.initialize({options:e})}function bz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(oi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Cz(t,e,n){const r=kg(t);Pe(r._canInitEmulator,r,"emulator-config-failed"),Pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=TD(e),{host:o,port:a}=Iz(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),Az()}function TD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Iz(t){const e=TD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:xC(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:xC(o)}}}function xC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Az(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return si("not implemented")}_getIdTokenResponse(e){return si("not implemented")}_linkToIdToken(e,n){return si("not implemented")}_getReauthenticationResolver(e){return si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(t,e){return cD(t,"POST","/v1/accounts:signInWithIdp",Dg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pz="http://localhost";class qa extends SD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ti("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Fh(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new qa(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return oc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,oc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oc(e,n)}buildRequest(){const e={requestUri:Pz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh extends bD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Bh{constructor(){super("facebook.com")}static credential(e){return qa._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ji.credential(e.oauthAccessToken)}catch{return null}}}Ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Bh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qa._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zi.credential(n,r)}catch{return null}}}Zi.GOOGLE_SIGN_IN_METHOD="google.com";Zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends Bh{constructor(){super("github.com")}static credential(e){return qa._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return eo.credential(e.oauthAccessToken)}catch{return null}}}eo.GITHUB_SIGN_IN_METHOD="github.com";eo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends Bh{constructor(){super("twitter.com")}static credential(e,n){return qa._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return to.credential(n,r)}catch{return null}}}to.TWITTER_SIGN_IN_METHOD="twitter.com";to.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rz(t,e){return cD(t,"POST","/v1/accounts:signUp",Dg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ii._fromIdTokenResponse(e,r,s),o=EC(r);return new Mo({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=EC(r);return new Mo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function EC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nz(t){var e;if(ri(t.app))return Promise.reject(Po(t));const n=kg(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Mo({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Rz(n,{returnSecureToken:!0}),s=await Mo._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm extends Dr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Pm.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Pm(e,n,r,s)}}function CD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Pm._fromErrorAndOperation(t,i,e,r):i})}async function Dz(t,e,n=!1){const r=await Yd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Mo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kz(t,e,n=!1){const{auth:r}=t;if(ri(r.app))return Promise.reject(Po(r));const s="reauthenticate";try{const i=await Yd(t,CD(r,s,e,t),n);Pe(i.idToken,r,"internal-error");const o=$x(i.idToken);Pe(o,r,"internal-error");const{sub:a}=o;return Pe(t.uid===a,r,"user-mismatch"),Mo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Ti(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mz(t,e,n=!1){if(ri(t.app))return Promise.reject(Po(t));const r="signIn",s=await CD(t,r,e),i=await Mo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function Oz(t,e,n,r){return sn(t).onIdTokenChanged(e,n,r)}function Lz(t,e,n){return sn(t).beforeAuthStateChanged(e,n)}const Rm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rm,"1"),this.storage.removeItem(Rm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz=1e3,Vz=10;class AD extends ID{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);pz()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Vz):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},jz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}AD.type="LOCAL";const Fz=AD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD extends ID{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}PD.type="SESSION";const RD=PD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Mg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await Uz(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=Wx("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const p=d;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(){return window}function $z(t){Vs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(){return typeof Vs().WorkerGlobalScope<"u"&&typeof Vs().importScripts=="function"}async function zz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Kz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Wz(){return ND()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="firebaseLocalStorageDb",Hz=1,Nm="firebaseLocalStorage",kD="fbase_key";class $h{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Og(t,e){return t.transaction([Nm],e?"readwrite":"readonly").objectStore(Nm)}function qz(){const t=indexedDB.deleteDatabase(DD);return new $h(t).toPromise()}function b0(){const t=indexedDB.open(DD,Hz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Nm,{keyPath:kD})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Nm)?e(r):(r.close(),await qz(),e(await b0()))})})}async function TC(t,e,n){const r=Og(t,!0).put({[kD]:e,value:n});return new $h(r).toPromise()}async function Gz(t,e){const n=Og(t,!1).get(e),r=await new $h(n).toPromise();return r===void 0?null:r.value}function SC(t,e){const n=Og(t,!0).delete(e);return new $h(n).toPromise()}const Qz=800,Yz=3;class MD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await b0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Yz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ND()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mg._getInstance(Wz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await zz(),!this.activeServiceWorker)return;this.sender=new Bz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Kz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await b0();return await TC(e,Rm,"1"),await SC(e,Rm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>TC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Gz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>SC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Og(s,!1).getAll();return new $h(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Qz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MD.type="LOCAL";const Xz=MD;new Uh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jz(t,e){return e?oi(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx extends SD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Zz(t){return Mz(t.auth,new Hx(t),t.bypassAuthState)}function e6(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),kz(n,new Hx(t),t.bypassAuthState)}async function t6(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),Dz(n,new Hx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zz;case"linkViaPopup":case"linkViaRedirect":return t6;case"reauthViaPopup":case"reauthViaRedirect":return e6;default:Ti(this.auth,"internal-error")}}resolve(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=new Uh(2e3,1e4);class Wl extends OD{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Wl.currentPopupAction&&Wl.currentPopupAction.cancel(),Wl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){Si(this.filter.length===1,"Popup operations only handle one event");const e=Wx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(js(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(js(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(js(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,n6.get())};e()}}Wl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6="pendingRedirect",Op=new Map;class s6 extends OD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Op.get(this.auth._key());if(!e){try{const r=await i6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Op.set(this.auth._key(),e)}return this.bypassAuthState||Op.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function i6(t,e){const n=l6(e),r=a6(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function o6(t,e){Op.set(t._key(),e)}function a6(t){return oi(t._redirectPersistence)}function l6(t){return Mp(r6,t.config.apiKey,t.name)}async function c6(t,e,n=!1){if(ri(t.app))return Promise.reject(Po(t));const r=kg(t),s=Jz(r,e),o=await new s6(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6=10*60*1e3;class d6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!h6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!LD(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(js(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=u6&&this.cachedEventUids.clear(),this.cachedEventUids.has(bC(e))}saveEventToCache(e){this.cachedEventUids.add(bC(e)),this.lastProcessedEventTime=Date.now()}}function bC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function LD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function h6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f6(t,e={}){return Xc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,m6=/^https?/;async function g6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await f6(t);for(const n of e)try{if(y6(n))return}catch{}Ti(t,"unauthorized-domain")}function y6(t){const e=T0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!m6.test(n))return!1;if(p6.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6=new Uh(3e4,6e4);function CC(){const t=Vs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function w6(t){return new Promise((e,n)=>{var r,s,i;function o(){CC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CC(),n(js(t,"network-request-failed"))},timeout:v6.get()})}if(!((s=(r=Vs().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Vs().gapi)===null||i===void 0)&&i.load)o();else{const a=Tz("iframefcb");return Vs()[a]=()=>{gapi.load?o():n(js(t,"network-request-failed"))},xz(`${Ez()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Lp=null,e})}let Lp=null;function _6(t){return Lp=Lp||w6(t),Lp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=new Uh(5e3,15e3),E6="__/auth/iframe",T6="emulator/auth/iframe",S6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},b6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function C6(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Bx(e,T6):`https://${t.config.authDomain}/${E6}`,r={apiKey:e.apiKey,appName:t.name,v:ll},s=b6.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Vh(r).slice(1)}`}async function I6(t){const e=await _6(t),n=Vs().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:C6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:S6,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=js(t,"network-request-failed"),a=Vs().setTimeout(()=>{i(o)},x6.get());function l(){Vs().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},P6=500,R6=600,N6="_blank",D6="http://localhost";class IC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function k6(t,e,n,r=P6,s=R6){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},A6),{width:r.toString(),height:s.toString(),top:i,left:o}),c=$n().toLowerCase();n&&(a=gD(c)?N6:n),pD(c)&&(e=e||D6,l.scrollbars="yes");const u=Object.entries(l).reduce((p,[g,w])=>`${p}${g}=${w},`,"");if(fz(c)&&a!=="_self")return M6(e||"",a),new IC(null);const d=window.open(e||"",a,u);Pe(d,t,"popup-blocked");try{d.focus()}catch{}return new IC(d)}function M6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6="__/auth/handler",L6="emulator/auth/handler",j6=encodeURIComponent("fac");async function AC(t,e,n,r,s,i){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ll,eventId:s};if(e instanceof bD){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",j5(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof Bh){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${j6}=${encodeURIComponent(l)}`:"";return`${V6(t)}?${Vh(a).slice(1)}${c}`}function V6({config:t}){return t.emulator?Bx(t,L6):`https://${t.authDomain}/${O6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="webStorageSupport";class F6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RD,this._completeRedirectFn=c6,this._overrideRedirectResult=o6}async _openPopup(e,n,r,s){var i;Si((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await AC(e,n,r,T0(),s);return k6(e,o,Wx())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await AC(e,n,r,T0(),s);return $z(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Si(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await I6(e),r=new d6(e);return n.register("authEvent",s=>(Pe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dv,{type:Dv},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Dv];o!==void 0&&n(!!o),Ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=g6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return xD()||mD()||zx()}}const U6=F6;var PC="@firebase/auth",RC="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function z6(t){ys(new Yr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ED(t)},c=new wz(r,s,i,l);return bz(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ys(new Yr("auth-internal",e=>{const n=kg(e.getProvider("auth").getImmediate());return(r=>new B6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(PC,RC,$6(t)),hr(PC,RC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=5*60,W6=qN("authIdTokenMaxAge")||K6;let NC=null;const H6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>W6)return;const s=n==null?void 0:n.token;NC!==s&&(NC=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function q6(t=Ng()){const e=Qo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Sz(t,{popupRedirectResolver:U6,persistence:[Xz,Fz,RD]}),r=qN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=H6(i.toString());Lz(n,o,()=>o(n.currentUser)),Oz(n,a=>o(a))}}const s=KN("auth");return s&&Cz(n,`http://${s}`),n}function G6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}_z({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=js("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",G6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});z6("Browser");const gt=(t,e=!1)=>{};var Q6={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",VITE_FIREBASE_MEASUREMENT_ID:"G-65F7KP2KRQ",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const DC=t=>{let e;const n=new Set,r=(u,d)=>{const p=typeof u=="function"?u(e):u;if(!Object.is(p,e)){const g=e;e=d??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(w=>w(e,g))}},s=()=>e,l={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(Q6?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,s,l);return l},Y6=t=>t?DC(t):DC;var jD={exports:{}},VD={},FD={exports:{}},UD={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mc=m;function X6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var J6=typeof Object.is=="function"?Object.is:X6,Z6=Mc.useState,e9=Mc.useEffect,t9=Mc.useLayoutEffect,n9=Mc.useDebugValue;function r9(t,e){var n=e(),r=Z6({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return t9(function(){s.value=n,s.getSnapshot=e,kv(s)&&i({inst:s})},[t,n,e]),e9(function(){return kv(s)&&i({inst:s}),t(function(){kv(s)&&i({inst:s})})},[t]),n9(n),n}function kv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!J6(t,n)}catch{return!0}}function s9(t,e){return e()}var i9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?s9:r9;UD.useSyncExternalStore=Mc.useSyncExternalStore!==void 0?Mc.useSyncExternalStore:i9;FD.exports=UD;var o9=FD.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg=m,a9=o9;function l9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var c9=typeof Object.is=="function"?Object.is:l9,u9=a9.useSyncExternalStore,d9=Lg.useRef,h9=Lg.useEffect,f9=Lg.useMemo,p9=Lg.useDebugValue;VD.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=d9(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=f9(function(){function l(g){if(!c){if(c=!0,u=g,g=r(g),s!==void 0&&o.hasValue){var w=o.value;if(s(w,g))return d=w}return d=g}if(w=d,c9(u,g))return w;var v=r(g);return s!==void 0&&s(w,v)?w:(u=g,d=v)}var c=!1,u,d,p=n===void 0?null:n;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,n,r,s]);var a=u9(t,i[0],i[1]);return h9(function(){o.hasValue=!0,o.value=a},[a]),p9(a),a};jD.exports=VD;var m9=jD.exports;const g9=K_(m9);var BD={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",VITE_FIREBASE_MEASUREMENT_ID:"G-65F7KP2KRQ",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:y9}=ze,{useSyncExternalStoreWithSelector:v9}=g9;let kC=!1;const w9=t=>t;function _9(t,e=w9,n){(BD?"production":void 0)!=="production"&&n&&!kC&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),kC=!0);const r=v9(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return y9(r),r}const MC=t=>{(BD?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?Y6(t):t,n=(r,s)=>_9(e,r,s);return Object.assign(n,e),n},Yo=t=>t?MC(t):MC;var x9={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",VITE_FIREBASE_MEASUREMENT_ID:"G-65F7KP2KRQ",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function $D(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=l=>l===null?null:JSON.parse(l,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const Xd=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Xd(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Xd(r)(n)}}}},E9=(t,e)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:E=>E,version:0,merge:(E,_)=>({..._,...E}),...e},o=!1;const a=new Set,l=new Set;let c;try{c=i.getStorage()}catch{}if(!c)return t((...E)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...E)},r,s);const u=Xd(i.serialize),d=()=>{const E=i.partialize({...r()});let _;const y=u({state:E,version:i.version}).then(S=>c.setItem(i.name,S)).catch(S=>{_=S});if(_)throw _;return y},p=s.setState;s.setState=(E,_)=>{p(E,_),d()};const g=t((...E)=>{n(...E),d()},r,s);let w;const v=()=>{var E;if(!c)return;o=!1,a.forEach(y=>y(r()));const _=((E=i.onRehydrateStorage)==null?void 0:E.call(i,r()))||void 0;return Xd(c.getItem.bind(c))(i.name).then(y=>{if(y)return i.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return i.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var S;return w=i.merge(y,(S=r())!=null?S:g),n(w,!0),d()}).then(()=>{_==null||_(w,void 0),o=!0,l.forEach(y=>y(w))}).catch(y=>{_==null||_(void 0,y)})};return s.persist={setOptions:E=>{i={...i,...E},E.getStorage&&(c=E.getStorage())},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:E=>(a.add(E),()=>{a.delete(E)}),onFinishHydration:E=>(l.add(E),()=>{l.delete(E)})},v(),w||g},T9=(t,e)=>(n,r,s)=>{let i={storage:$D(()=>localStorage),partialize:v=>v,version:0,merge:(v,E)=>({...E,...v}),...e},o=!1;const a=new Set,l=new Set;let c=i.storage;if(!c)return t((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...v)},r,s);const u=()=>{const v=i.partialize({...r()});return c.setItem(i.name,{state:v,version:i.version})},d=s.setState;s.setState=(v,E)=>{d(v,E),u()};const p=t((...v)=>{n(...v),u()},r,s);s.getInitialState=()=>p;let g;const w=()=>{var v,E;if(!c)return;o=!1,a.forEach(y=>{var S;return y((S=r())!=null?S:p)});const _=((E=i.onRehydrateStorage)==null?void 0:E.call(i,(v=r())!=null?v:p))||void 0;return Xd(c.getItem.bind(c))(i.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return[!0,i.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var S;const[A,D]=y;if(g=i.merge(D,(S=r())!=null?S:p),n(g,!0),A)return u()}).then(()=>{_==null||_(g,void 0),g=r(),o=!0,l.forEach(y=>y(g))}).catch(y=>{_==null||_(void 0,y)})};return s.persist={setOptions:v=>{i={...i,...v},v.storage&&(c=v.storage)},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:v=>(a.add(v),()=>{a.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},i.skipHydration||w(),g||p},S9=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((x9?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),E9(t,e)):T9(t,e),b9=S9,Pt=Yo()(b9(t=>({admin:null,isAuth:!1,accessToken:null,setAccessToken:e=>t({accessToken:e}),login:(e,n)=>t({isAuth:!0,accessToken:e,admin:n}),logout:()=>t({isAuth:!1,accessToken:null,admin:null})}),{name:"auth-storage",storage:$D(()=>sessionStorage)}));/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mt(){return Mt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mt.apply(this,arguments)}var nn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(nn||(nn={}));const OC="popstate";function C9(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Jd("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ga(s)}return A9(e,n,null,t)}function Ke(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Oc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function I9(){return Math.random().toString(36).substr(2,8)}function LC(t,e){return{usr:t.state,key:t.key,idx:e}}function Jd(t,e,n,r){return n===void 0&&(n=null),Mt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xo(e):e,{state:n,key:e&&e.key||r||I9()})}function Ga(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function A9(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=nn.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Mt({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=nn.Pop;let E=u(),_=E==null?null:E-c;c=E,l&&l({action:a,location:v.location,delta:_})}function p(E,_){a=nn.Push;let y=Jd(v.location,E,_);c=u()+1;let S=LC(y,c),A=v.createHref(y);try{o.pushState(S,"",A)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(A)}i&&l&&l({action:a,location:v.location,delta:1})}function g(E,_){a=nn.Replace;let y=Jd(v.location,E,_);c=u();let S=LC(y,c),A=v.createHref(y);o.replaceState(S,"",A),i&&l&&l({action:a,location:v.location,delta:0})}function w(E){let _=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof E=="string"?E:Ga(E);return y=y.replace(/ $/,"%20"),Ke(_,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,_)}let v={get action(){return a},get location(){return t(s,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(OC,d),l=E,()=>{s.removeEventListener(OC,d),l=null}},createHref(E){return e(s,E)},createURL:w,encodeLocation(E){let _=w(E);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:g,go(E){return o.go(E)}};return v}var pt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(pt||(pt={}));const P9=new Set(["lazy","caseSensitive","path","id","index","children"]);function R9(t){return t.index===!0}function Zd(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((s,i)=>{let o=[...n,String(i)],a=typeof s.id=="string"?s.id:o.join("-");if(Ke(s.index!==!0||!s.children,"Cannot specify children on an index route"),Ke(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),R9(s)){let l=Mt({},s,e(s),{id:a});return r[a]=l,l}else{let l=Mt({},s,e(s),{id:a,children:void 0});return r[a]=l,s.children&&(l.children=Zd(s.children,e,o,r)),l}})}function _a(t,e,n){return n===void 0&&(n="/"),jp(t,e,n,!1)}function jp(t,e,n,r){let s=typeof e=="string"?Xo(e):e,i=Jc(s.pathname||"/",n);if(i==null)return null;let o=zD(t);D9(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=z9(i);a=B9(o[l],c,r)}return a}function N9(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function zD(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Ke(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=hi([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(Ke(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),zD(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:F9(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of KD(i.path))s(i,o,l)}),e}function KD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=KD(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function D9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:U9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const k9=/^:[\w-]+$/,M9=3,O9=2,L9=1,j9=10,V9=-2,jC=t=>t==="*";function F9(t,e){let n=t.split("/"),r=n.length;return n.some(jC)&&(r+=V9),e&&(r+=O9),n.filter(s=>!jC(s)).reduce((s,i)=>s+(k9.test(i)?M9:i===""?L9:j9),r)}function U9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function B9(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=VC({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=VC({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:hi([i,d.pathname]),pathnameBase:H9(hi([i,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(i=hi([i,d.pathnameBase]))}return o}function VC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=$9(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:p,isOptional:g}=u;if(p==="*"){let v=a[d]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const w=a[d];return g&&!w?c[p]=void 0:c[p]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function $9(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Oc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function z9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Oc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Jc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function K9(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Xo(t):t;return{pathname:n?n.startsWith("/")?n:W9(n,e):e,search:q9(r),hash:G9(s)}}function W9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Mv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function WD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jg(t,e){let n=WD(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Vg(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Xo(t):(s=Mt({},t),Ke(!s.pathname||!s.pathname.includes("?"),Mv("?","pathname","search",s)),Ke(!s.pathname||!s.pathname.includes("#"),Mv("#","pathname","hash",s)),Ke(!s.search||!s.search.includes("#"),Mv("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;s.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=K9(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const hi=t=>t.join("/").replace(/\/\/+/g,"/"),H9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),q9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,G9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Dm{constructor(e,n,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function zh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const HD=["post","put","patch","delete"],Q9=new Set(HD),Y9=["get",...HD],X9=new Set(Y9),J9=new Set([301,302,303,307,308]),Z9=new Set([307,308]),Ov={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},eK={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ou={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},qx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tK=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),qD="remix-router-transitions";function nK(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Ke(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let j=t.detectErrorBoundary;s=F=>({hasErrorBoundary:j(F)})}else s=tK;let i={},o=Zd(t.routes,s,void 0,i),a,l=t.basename||"/",c=t.unstable_dataStrategy||lK,u=t.unstable_patchRoutesOnNavigation,d=Mt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),p=null,g=new Set,w=1e3,v=new Set,E=null,_=null,y=null,S=t.hydrationData!=null,A=_a(o,t.history.location,l),D=null;if(A==null&&!u){let j=Yn(404,{pathname:t.history.location.pathname}),{matches:F,route:K}=qC(o);A=F,D={[K.id]:j}}A&&!t.hydrationData&&Zt(A,o,t.history.location.pathname).active&&(A=null);let O;if(A)if(A.some(j=>j.route.lazy))O=!1;else if(!A.some(j=>j.route.loader))O=!0;else if(d.v7_partialHydration){let j=t.hydrationData?t.hydrationData.loaderData:null,F=t.hydrationData?t.hydrationData.errors:null,K=G=>G.route.loader?typeof G.route.loader=="function"&&G.route.loader.hydrate===!0?!1:j&&j[G.route.id]!==void 0||F&&F[G.route.id]!==void 0:!0;if(F){let G=A.findIndex(ue=>F[ue.route.id]!==void 0);O=A.slice(0,G+1).every(K)}else O=A.every(K)}else O=t.hydrationData!=null;else if(O=!1,A=[],d.v7_partialHydration){let j=Zt(null,o,t.history.location.pathname);j.active&&j.matches&&(A=j.matches)}let C,T={historyAction:t.history.action,location:t.history.location,matches:A,initialized:O,navigation:Ov,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||D,fetchers:new Map,blockers:new Map},I=nn.Pop,P=!1,M,k=!1,N=new Map,H=null,ae=!1,te=!1,ne=[],z=new Set,B=new Map,Z=0,pe=-1,Te=new Map,Ae=new Set,Xe=new Map,yt=new Map,We=new Set,ce=new Map,je=new Map,rt=new Map,Ve;function $e(){if(p=t.history.listen(j=>{let{action:F,location:K,delta:G}=j;if(Ve){Ve(),Ve=void 0;return}Oc(je.size===0||G!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ue=vl({currentLocation:T.location,nextLocation:K,historyAction:F});if(ue&&G!=null){let _e=new Promise(Ie=>{Ve=Ie});t.history.go(G*-1),Ss(ue,{state:"blocked",location:K,proceed(){Ss(ue,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),_e.then(()=>t.history.go(G))},reset(){let Ie=new Map(T.blockers);Ie.set(ue,Ou),st({blockers:Ie})}});return}return L(F,K)}),n){TK(e,N);let j=()=>SK(e,N);e.addEventListener("pagehide",j),H=()=>e.removeEventListener("pagehide",j)}return T.initialized||L(nn.Pop,T.location,{initialHydration:!0}),C}function Ge(){p&&p(),H&&H(),g.clear(),M&&M.abort(),T.fetchers.forEach((j,F)=>Ts(F)),T.blockers.forEach((j,F)=>gu(F))}function Ut(j){return g.add(j),()=>g.delete(j)}function st(j,F){F===void 0&&(F={}),T=Mt({},T,j);let K=[],G=[];d.v7_fetcherPersist&&T.fetchers.forEach((ue,_e)=>{ue.state==="idle"&&(We.has(_e)?G.push(_e):K.push(_e))}),[...g].forEach(ue=>ue(T,{deletedFetchers:G,unstable_viewTransitionOpts:F.viewTransitionOpts,unstable_flushSync:F.flushSync===!0})),d.v7_fetcherPersist&&(K.forEach(ue=>T.fetchers.delete(ue)),G.forEach(ue=>Ts(ue)))}function yn(j,F,K){var G,ue;let{flushSync:_e}=K===void 0?{}:K,Ie=T.actionData!=null&&T.navigation.formMethod!=null&&is(T.navigation.formMethod)&&T.navigation.state==="loading"&&((G=j.state)==null?void 0:G._isRedirect)!==!0,se;F.actionData?Object.keys(F.actionData).length>0?se=F.actionData:se=null:Ie?se=T.actionData:se=null;let ve=F.loaderData?WC(T.loaderData,F.loaderData,F.matches||[],F.errors):T.loaderData,me=T.blockers;me.size>0&&(me=new Map(me),me.forEach((it,ft)=>me.set(ft,Ou)));let ye=P===!0||T.navigation.formMethod!=null&&is(T.navigation.formMethod)&&((ue=j.state)==null?void 0:ue._isRedirect)!==!0;a&&(o=a,a=void 0),ae||I===nn.Pop||(I===nn.Push?t.history.push(j,j.state):I===nn.Replace&&t.history.replace(j,j.state));let Je;if(I===nn.Pop){let it=N.get(T.location.pathname);it&&it.has(j.pathname)?Je={currentLocation:T.location,nextLocation:j}:N.has(j.pathname)&&(Je={currentLocation:j,nextLocation:T.location})}else if(k){let it=N.get(T.location.pathname);it?it.add(j.pathname):(it=new Set([j.pathname]),N.set(T.location.pathname,it)),Je={currentLocation:T.location,nextLocation:j}}st(Mt({},F,{actionData:se,loaderData:ve,historyAction:I,location:j,initialized:!0,navigation:Ov,revalidation:"idle",restoreScrollPosition:vu(j,F.matches||T.matches),preventScrollReset:ye,blockers:me}),{viewTransitionOpts:Je,flushSync:_e===!0}),I=nn.Pop,P=!1,k=!1,ae=!1,te=!1,ne=[]}async function kr(j,F){if(typeof j=="number"){t.history.go(j);return}let K=C0(T.location,T.matches,l,d.v7_prependBasename,j,d.v7_relativeSplatPath,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:G,submission:ue,error:_e}=FC(d.v7_normalizeFormMethod,!1,K,F),Ie=T.location,se=Jd(T.location,G,F&&F.state);se=Mt({},se,t.history.encodeLocation(se));let ve=F&&F.replace!=null?F.replace:void 0,me=nn.Push;ve===!0?me=nn.Replace:ve===!1||ue!=null&&is(ue.formMethod)&&ue.formAction===T.location.pathname+T.location.search&&(me=nn.Replace);let ye=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,Je=(F&&F.unstable_flushSync)===!0,it=vl({currentLocation:Ie,nextLocation:se,historyAction:me});if(it){Ss(it,{state:"blocked",location:se,proceed(){Ss(it,{state:"proceeding",proceed:void 0,reset:void 0,location:se}),kr(j,F)},reset(){let ft=new Map(T.blockers);ft.set(it,Ou),st({blockers:ft})}});return}return await L(me,se,{submission:ue,pendingError:_e,preventScrollReset:ye,replace:F&&F.replace,enableViewTransition:F&&F.unstable_viewTransition,flushSync:Je})}function xs(){if(Mi(),st({revalidation:"loading"}),T.navigation.state!=="submitting"){if(T.navigation.state==="idle"){L(T.historyAction,T.location,{startUninterruptedRevalidation:!0});return}L(I||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation,enableViewTransition:k===!0})}}async function L(j,F,K){M&&M.abort(),M=null,I=j,ae=(K&&K.startUninterruptedRevalidation)===!0,oa(T.location,T.matches),P=(K&&K.preventScrollReset)===!0,k=(K&&K.enableViewTransition)===!0;let G=a||o,ue=K&&K.overrideNavigation,_e=_a(G,F,l),Ie=(K&&K.flushSync)===!0,se=Zt(_e,G,F.pathname);if(se.active&&se.matches&&(_e=se.matches),!_e){let{error:Qe,notFoundMatches:en,route:Tt}=ia(F.pathname);yn(F,{matches:en,loaderData:{},errors:{[Tt.id]:Qe}},{flushSync:Ie});return}if(T.initialized&&!te&&pK(T.location,F)&&!(K&&K.submission&&is(K.submission.formMethod))){yn(F,{matches:_e},{flushSync:Ie});return}M=new AbortController;let ve=bl(t.history,F,M.signal,K&&K.submission),me;if(K&&K.pendingError)me=[Hl(_e).route.id,{type:pt.error,error:K.pendingError}];else if(K&&K.submission&&is(K.submission.formMethod)){let Qe=await $(ve,F,K.submission,_e,se.active,{replace:K.replace,flushSync:Ie});if(Qe.shortCircuited)return;if(Qe.pendingActionResult){let[en,Tt]=Qe.pendingActionResult;if(wr(Tt)&&zh(Tt.error)&&Tt.error.status===404){M=null,yn(F,{matches:Qe.matches,loaderData:{},errors:{[en]:Tt.error}});return}}_e=Qe.matches||_e,me=Qe.pendingActionResult,ue=Lv(F,K.submission),Ie=!1,se.active=!1,ve=bl(t.history,ve.url,ve.signal)}let{shortCircuited:ye,matches:Je,loaderData:it,errors:ft}=await q(ve,F,_e,se.active,ue,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,K&&K.initialHydration===!0,Ie,me);ye||(M=null,yn(F,Mt({matches:Je||_e},HC(me),{loaderData:it,errors:ft})))}async function $(j,F,K,G,ue,_e){_e===void 0&&(_e={}),Mi();let Ie=xK(F,K);if(st({navigation:Ie},{flushSync:_e.flushSync===!0}),ue){let me=await aa(G,F.pathname,j.signal);if(me.type==="aborted")return{shortCircuited:!0};if(me.type==="error"){let{boundaryId:ye,error:Je}=Mr(F.pathname,me);return{matches:me.partialMatches,pendingActionResult:[ye,{type:pt.error,error:Je}]}}else if(me.matches)G=me.matches;else{let{notFoundMatches:ye,error:Je,route:it}=ia(F.pathname);return{matches:ye,pendingActionResult:[it.id,{type:pt.error,error:Je}]}}}let se,ve=Yu(G,F);if(!ve.route.action&&!ve.route.lazy)se={type:pt.error,error:Yn(405,{method:j.method,pathname:F.pathname,routeId:ve.route.id})};else if(se=(await Ue("action",T,j,[ve],G,null))[ve.route.id],j.signal.aborted)return{shortCircuited:!0};if(Sa(se)){let me;return _e&&_e.replace!=null?me=_e.replace:me=$C(se.response.headers.get("Location"),new URL(j.url),l)===T.location.pathname+T.location.search,await Le(j,se,!0,{submission:K,replace:me}),{shortCircuited:!0}}if(mo(se))throw Yn(400,{type:"defer-action"});if(wr(se)){let me=Hl(G,ve.route.id);return(_e&&_e.replace)!==!0&&(I=nn.Push),{matches:G,pendingActionResult:[me.route.id,se]}}return{matches:G,pendingActionResult:[ve.route.id,se]}}async function q(j,F,K,G,ue,_e,Ie,se,ve,me,ye){let Je=ue||Lv(F,_e),it=_e||Ie||QC(Je),ft=!ae&&(!d.v7_partialHydration||!ve);if(G){if(ft){let xt=le(ye);st(Mt({navigation:Je},xt!==void 0?{actionData:xt}:{}),{flushSync:me})}let Ne=await aa(K,F.pathname,j.signal);if(Ne.type==="aborted")return{shortCircuited:!0};if(Ne.type==="error"){let{boundaryId:xt,error:An}=Mr(F.pathname,Ne);return{matches:Ne.partialMatches,loaderData:{},errors:{[xt]:An}}}else if(Ne.matches)K=Ne.matches;else{let{error:xt,notFoundMatches:An,route:St}=ia(F.pathname);return{matches:An,loaderData:{},errors:{[St.id]:xt}}}}let Qe=a||o,[en,Tt]=UC(t.history,T,K,it,F,d.v7_partialHydration&&ve===!0,d.v7_skipActionErrorRevalidation,te,ne,z,We,Xe,Ae,Qe,l,ye);if(wl(Ne=>!(K&&K.some(xt=>xt.route.id===Ne))||en&&en.some(xt=>xt.route.id===Ne)),pe=++Z,en.length===0&&Tt.length===0){let Ne=_f();return yn(F,Mt({matches:K,loaderData:{},errors:ye&&wr(ye[1])?{[ye[0]]:ye[1].error}:null},HC(ye),Ne?{fetchers:new Map(T.fetchers)}:{}),{flushSync:me}),{shortCircuited:!0}}if(ft){let Ne={};if(!G){Ne.navigation=Je;let xt=le(ye);xt!==void 0&&(Ne.actionData=xt)}Tt.length>0&&(Ne.fetchers=re(Tt)),st(Ne,{flushSync:me})}Tt.forEach(Ne=>{B.has(Ne.key)&&Hn(Ne.key),Ne.controller&&B.set(Ne.key,Ne.controller)});let Li=()=>Tt.forEach(Ne=>Hn(Ne.key));M&&M.signal.addEventListener("abort",Li);let{loaderResults:mr,fetcherResults:Or}=await zn(T,K,en,Tt,j);if(j.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",Li),Tt.forEach(Ne=>B.delete(Ne.key));let In=Zf(mr);if(In)return await Le(j,In.result,!0,{replace:se}),{shortCircuited:!0};if(In=Zf(Or),In)return Ae.add(In.key),await Le(j,In.result,!0,{replace:se}),{shortCircuited:!0};let{loaderData:ji,errors:Xr}=KC(T,K,en,mr,ye,Tt,Or,ce);ce.forEach((Ne,xt)=>{Ne.subscribe(An=>{(An||Ne.done)&&ce.delete(xt)})}),d.v7_partialHydration&&ve&&T.errors&&Object.entries(T.errors).filter(Ne=>{let[xt]=Ne;return!en.some(An=>An.route.id===xt)}).forEach(Ne=>{let[xt,An]=Ne;Xr=Object.assign(Xr||{},{[xt]:An})});let ca=_f(),ua=yl(pe),da=ca||ua||Tt.length>0;return Mt({matches:K,loaderData:ji,errors:Xr},da?{fetchers:new Map(T.fetchers)}:{})}function le(j){if(j&&!wr(j[1]))return{[j[0]]:j[1].data};if(T.actionData)return Object.keys(T.actionData).length===0?null:T.actionData}function re(j){return j.forEach(F=>{let K=T.fetchers.get(F.key),G=Lu(void 0,K?K.data:void 0);T.fetchers.set(F.key,G)}),new Map(T.fetchers)}function J(j,F,K,G){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");B.has(j)&&Hn(j);let ue=(G&&G.unstable_flushSync)===!0,_e=a||o,Ie=C0(T.location,T.matches,l,d.v7_prependBasename,K,d.v7_relativeSplatPath,F,G==null?void 0:G.relative),se=_a(_e,Ie,l),ve=Zt(se,_e,Ie);if(ve.active&&ve.matches&&(se=ve.matches),!se){Wn(j,F,Yn(404,{pathname:Ie}),{flushSync:ue});return}let{path:me,submission:ye,error:Je}=FC(d.v7_normalizeFormMethod,!0,Ie,G);if(Je){Wn(j,F,Je,{flushSync:ue});return}let it=Yu(se,me);if(P=(G&&G.preventScrollReset)===!0,ye&&is(ye.formMethod)){Ee(j,F,me,it,se,ve.active,ue,ye);return}Xe.set(j,{routeId:F,path:me}),Oe(j,F,me,it,se,ve.active,ue,ye)}async function Ee(j,F,K,G,ue,_e,Ie,se){Mi(),Xe.delete(j);function ve(St){if(!St.route.action&&!St.route.lazy){let Jr=Yn(405,{method:se.formMethod,pathname:K,routeId:F});return Wn(j,F,Jr,{flushSync:Ie}),!0}return!1}if(!_e&&ve(G))return;let me=T.fetchers.get(j);Kn(j,EK(se,me),{flushSync:Ie});let ye=new AbortController,Je=bl(t.history,K,ye.signal,se);if(_e){let St=await aa(ue,K,Je.signal);if(St.type==="aborted")return;if(St.type==="error"){let{error:Jr}=Mr(K,St);Wn(j,F,Jr,{flushSync:Ie});return}else if(St.matches){if(ue=St.matches,G=Yu(ue,K),ve(G))return}else{Wn(j,F,Yn(404,{pathname:K}),{flushSync:Ie});return}}B.set(j,ye);let it=Z,Qe=(await Ue("action",T,Je,[G],ue,j))[G.route.id];if(Je.signal.aborted){B.get(j)===ye&&B.delete(j);return}if(d.v7_fetcherPersist&&We.has(j)){if(Sa(Qe)||wr(Qe)){Kn(j,Ki(void 0));return}}else{if(Sa(Qe))if(B.delete(j),pe>it){Kn(j,Ki(void 0));return}else return Ae.add(j),Kn(j,Lu(se)),Le(Je,Qe,!1,{fetcherSubmission:se});if(wr(Qe)){Wn(j,F,Qe.error);return}}if(mo(Qe))throw Yn(400,{type:"defer-action"});let en=T.navigation.location||T.location,Tt=bl(t.history,en,ye.signal),Li=a||o,mr=T.navigation.state!=="idle"?_a(Li,T.navigation.location,l):T.matches;Ke(mr,"Didn't find any matches after fetcher action");let Or=++Z;Te.set(j,Or);let In=Lu(se,Qe.data);T.fetchers.set(j,In);let[ji,Xr]=UC(t.history,T,mr,se,en,!1,d.v7_skipActionErrorRevalidation,te,ne,z,We,Xe,Ae,Li,l,[G.route.id,Qe]);Xr.filter(St=>St.key!==j).forEach(St=>{let Jr=St.key,Ef=T.fetchers.get(Jr),Tf=Lu(void 0,Ef?Ef.data:void 0);T.fetchers.set(Jr,Tf),B.has(Jr)&&Hn(Jr),St.controller&&B.set(Jr,St.controller)}),st({fetchers:new Map(T.fetchers)});let ca=()=>Xr.forEach(St=>Hn(St.key));ye.signal.addEventListener("abort",ca);let{loaderResults:ua,fetcherResults:da}=await zn(T,mr,ji,Xr,Tt);if(ye.signal.aborted)return;ye.signal.removeEventListener("abort",ca),Te.delete(j),B.delete(j),Xr.forEach(St=>B.delete(St.key));let Ne=Zf(ua);if(Ne)return Le(Tt,Ne.result,!1);if(Ne=Zf(da),Ne)return Ae.add(Ne.key),Le(Tt,Ne.result,!1);let{loaderData:xt,errors:An}=KC(T,mr,ji,ua,void 0,Xr,da,ce);if(T.fetchers.has(j)){let St=Ki(Qe.data);T.fetchers.set(j,St)}yl(Or),T.navigation.state==="loading"&&Or>pe?(Ke(I,"Expected pending action"),M&&M.abort(),yn(T.navigation.location,{matches:mr,loaderData:xt,errors:An,fetchers:new Map(T.fetchers)})):(st({errors:An,loaderData:WC(T.loaderData,xt,mr,An),fetchers:new Map(T.fetchers)}),te=!1)}async function Oe(j,F,K,G,ue,_e,Ie,se){let ve=T.fetchers.get(j);Kn(j,Lu(se,ve?ve.data:void 0),{flushSync:Ie});let me=new AbortController,ye=bl(t.history,K,me.signal);if(_e){let Qe=await aa(ue,K,ye.signal);if(Qe.type==="aborted")return;if(Qe.type==="error"){let{error:en}=Mr(K,Qe);Wn(j,F,en,{flushSync:Ie});return}else if(Qe.matches)ue=Qe.matches,G=Yu(ue,K);else{Wn(j,F,Yn(404,{pathname:K}),{flushSync:Ie});return}}B.set(j,me);let Je=Z,ft=(await Ue("loader",T,ye,[G],ue,j))[G.route.id];if(mo(ft)&&(ft=await Gx(ft,ye.signal,!0)||ft),B.get(j)===me&&B.delete(j),!ye.signal.aborted){if(We.has(j)){Kn(j,Ki(void 0));return}if(Sa(ft))if(pe>Je){Kn(j,Ki(void 0));return}else{Ae.add(j),await Le(ye,ft,!1);return}if(wr(ft)){Wn(j,F,ft.error);return}Ke(!mo(ft),"Unhandled fetcher deferred data"),Kn(j,Ki(ft.data))}}async function Le(j,F,K,G){let{submission:ue,fetcherSubmission:_e,replace:Ie}=G===void 0?{}:G;F.response.headers.has("X-Remix-Revalidate")&&(te=!0);let se=F.response.headers.get("Location");Ke(se,"Expected a Location header on the redirect Response"),se=$C(se,new URL(j.url),l);let ve=Jd(T.location,se,{_isRedirect:!0});if(n){let Qe=!1;if(F.response.headers.has("X-Remix-Reload-Document"))Qe=!0;else if(qx.test(se)){const en=t.history.createURL(se);Qe=en.origin!==e.location.origin||Jc(en.pathname,l)==null}if(Qe){Ie?e.location.replace(se):e.location.assign(se);return}}M=null;let me=Ie===!0||F.response.headers.has("X-Remix-Replace")?nn.Replace:nn.Push,{formMethod:ye,formAction:Je,formEncType:it}=T.navigation;!ue&&!_e&&ye&&Je&&it&&(ue=QC(T.navigation));let ft=ue||_e;if(Z9.has(F.response.status)&&ft&&is(ft.formMethod))await L(me,ve,{submission:Mt({},ft,{formAction:se}),preventScrollReset:P,enableViewTransition:K?k:void 0});else{let Qe=Lv(ve,ue);await L(me,ve,{overrideNavigation:Qe,fetcherSubmission:_e,preventScrollReset:P,enableViewTransition:K?k:void 0})}}async function Ue(j,F,K,G,ue,_e){let Ie,se={};try{Ie=await cK(c,j,F,K,G,ue,_e,i,s)}catch(ve){return G.forEach(me=>{se[me.route.id]={type:pt.error,error:ve}}),se}for(let[ve,me]of Object.entries(Ie))if(gK(me)){let ye=me.result;se[ve]={type:pt.redirect,response:hK(ye,K,ve,ue,l,d.v7_relativeSplatPath)}}else se[ve]=await dK(me);return se}async function zn(j,F,K,G,ue){let _e=j.matches,Ie=Ue("loader",j,ue,K,F,null),se=Promise.all(G.map(async ye=>{if(ye.matches&&ye.match&&ye.controller){let it=(await Ue("loader",j,bl(t.history,ye.path,ye.controller.signal),[ye.match],ye.matches,ye.key))[ye.match.route.id];return{[ye.key]:it}}else return Promise.resolve({[ye.key]:{type:pt.error,error:Yn(404,{pathname:ye.path})}})})),ve=await Ie,me=(await se).reduce((ye,Je)=>Object.assign(ye,Je),{});return await Promise.all([wK(F,ve,ue.signal,_e,j.loaderData),_K(F,me,G)]),{loaderResults:ve,fetcherResults:me}}function Mi(){te=!0,ne.push(...wl()),Xe.forEach((j,F)=>{B.has(F)&&(z.add(F),Hn(F))})}function Kn(j,F,K){K===void 0&&(K={}),T.fetchers.set(j,F),st({fetchers:new Map(T.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function Wn(j,F,K,G){G===void 0&&(G={});let ue=Hl(T.matches,F);Ts(j),st({errors:{[ue.route.id]:K},fetchers:new Map(T.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function Es(j){return d.v7_fetcherPersist&&(yt.set(j,(yt.get(j)||0)+1),We.has(j)&&We.delete(j)),T.fetchers.get(j)||eK}function Ts(j){let F=T.fetchers.get(j);B.has(j)&&!(F&&F.state==="loading"&&Te.has(j))&&Hn(j),Xe.delete(j),Te.delete(j),Ae.delete(j),We.delete(j),z.delete(j),T.fetchers.delete(j)}function gl(j){if(d.v7_fetcherPersist){let F=(yt.get(j)||0)-1;F<=0?(yt.delete(j),We.add(j)):yt.set(j,F)}else Ts(j);st({fetchers:new Map(T.fetchers)})}function Hn(j){let F=B.get(j);Ke(F,"Expected fetch controller: "+j),F.abort(),B.delete(j)}function wf(j){for(let F of j){let K=Es(F),G=Ki(K.data);T.fetchers.set(F,G)}}function _f(){let j=[],F=!1;for(let K of Ae){let G=T.fetchers.get(K);Ke(G,"Expected fetcher: "+K),G.state==="loading"&&(Ae.delete(K),j.push(K),F=!0)}return wf(j),F}function yl(j){let F=[];for(let[K,G]of Te)if(G<j){let ue=T.fetchers.get(K);Ke(ue,"Expected fetcher: "+K),ue.state==="loading"&&(Hn(K),Te.delete(K),F.push(K))}return wf(F),F.length>0}function xf(j,F){let K=T.blockers.get(j)||Ou;return je.get(j)!==F&&je.set(j,F),K}function gu(j){T.blockers.delete(j),je.delete(j)}function Ss(j,F){let K=T.blockers.get(j)||Ou;Ke(K.state==="unblocked"&&F.state==="blocked"||K.state==="blocked"&&F.state==="blocked"||K.state==="blocked"&&F.state==="proceeding"||K.state==="blocked"&&F.state==="unblocked"||K.state==="proceeding"&&F.state==="unblocked","Invalid blocker state transition: "+K.state+" -> "+F.state);let G=new Map(T.blockers);G.set(j,F),st({blockers:G})}function vl(j){let{currentLocation:F,nextLocation:K,historyAction:G}=j;if(je.size===0)return;je.size>1&&Oc(!1,"A router only supports one blocker at a time");let ue=Array.from(je.entries()),[_e,Ie]=ue[ue.length-1],se=T.blockers.get(_e);if(!(se&&se.state==="proceeding")&&Ie({currentLocation:F,nextLocation:K,historyAction:G}))return _e}function ia(j){let F=Yn(404,{pathname:j}),K=a||o,{matches:G,route:ue}=qC(K);return wl(),{notFoundMatches:G,route:ue,error:F}}function Mr(j,F){return{boundaryId:Hl(F.partialMatches).route.id,error:Yn(400,{type:"route-discovery",pathname:j,message:F.error!=null&&"message"in F.error?F.error:String(F.error)})}}function wl(j){let F=[];return ce.forEach((K,G)=>{(!j||j(G))&&(K.cancel(),F.push(G),ce.delete(G))}),F}function _l(j,F,K){if(E=j,y=F,_=K||null,!S&&T.navigation===Ov){S=!0;let G=vu(T.location,T.matches);G!=null&&st({restoreScrollPosition:G})}return()=>{E=null,y=null,_=null}}function yu(j,F){return _&&_(j,F.map(G=>N9(G,T.loaderData)))||j.key}function oa(j,F){if(E&&y){let K=yu(j,F);E[K]=y()}}function vu(j,F){if(E){let K=yu(j,F),G=E[K];if(typeof G=="number")return G}return null}function Zt(j,F,K){if(u){if(v.has(K))return{active:!1,matches:j};if(j){if(Object.keys(j[0].params).length>0)return{active:!0,matches:jp(F,K,l,!0)}}else return{active:!0,matches:jp(F,K,l,!0)||[]}}return{active:!1,matches:null}}async function aa(j,F,K){let G=j;for(;;){let ue=a==null,_e=a||o;try{await oK(u,F,G,_e,i,s,rt,K)}catch(ve){return{type:"error",error:ve,partialMatches:G}}finally{ue&&(o=[...o])}if(K.aborted)return{type:"aborted"};let Ie=_a(_e,F,l);if(Ie)return Oi(F,v),{type:"success",matches:Ie};let se=jp(_e,F,l,!0);if(!se||G.length===se.length&&G.every((ve,me)=>ve.route.id===se[me].route.id))return Oi(F,v),{type:"success",matches:null};G=se}}function Oi(j,F){if(F.size>=w){let K=F.values().next().value;F.delete(K)}F.add(j)}function la(j){i={},a=Zd(j,s,void 0,i)}function qy(j,F){let K=a==null;QD(j,F,a||o,i,s),K&&(o=[...o],st({}))}return C={get basename(){return l},get future(){return d},get state(){return T},get routes(){return o},get window(){return e},initialize:$e,subscribe:Ut,enableScrollRestoration:_l,navigate:kr,fetch:J,revalidate:xs,createHref:j=>t.history.createHref(j),encodeLocation:j=>t.history.encodeLocation(j),getFetcher:Es,deleteFetcher:gl,dispose:Ge,getBlocker:xf,deleteBlocker:gu,patchRoutes:qy,_internalFetchControllers:B,_internalActiveDeferreds:ce,_internalSetRoutes:la},C}function rK(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function C0(t,e,n,r,s,i,o,a){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let u=Vg(s||".",jg(l,i),Jc(t.pathname,n)||t.pathname,a==="path");return s==null&&(u.search=t.search,u.hash=t.hash),(s==null||s===""||s===".")&&c&&c.route.index&&!Qx(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:hi([n,u.pathname])),Ga(u)}function FC(t,e,n,r){if(!r||!rK(r))return{path:n};if(r.formMethod&&!vK(r.formMethod))return{path:n,error:Yn(405,{method:r.formMethod})};let s=()=>({path:n,error:Yn(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=t?i.toUpperCase():i.toLowerCase(),a=YD(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!is(o))return s();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((g,w)=>{let[v,E]=w;return""+g+v+"="+E+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!is(o))return s();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return s()}}}Ke(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=I0(r.formData),c=r.formData;else if(r.body instanceof FormData)l=I0(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=zC(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=zC(l)}catch{return s()}let u={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(is(u.formMethod))return{path:n,submission:u};let d=Xo(n);return e&&d.search&&Qx(d.search)&&l.append("index",""),d.search="?"+l,{path:Ga(d),submission:u}}function sK(t,e){let n=t;if(e){let r=t.findIndex(s=>s.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function UC(t,e,n,r,s,i,o,a,l,c,u,d,p,g,w,v){let E=v?wr(v[1])?v[1].error:v[1].data:void 0,_=t.createURL(e.location),y=t.createURL(s),S=v&&wr(v[1])?v[0]:void 0,A=S?sK(n,S):n,D=v?v[1].statusCode:void 0,O=o&&D&&D>=400,C=A.filter((I,P)=>{let{route:M}=I;if(M.lazy)return!0;if(M.loader==null)return!1;if(i)return typeof M.loader!="function"||M.loader.hydrate?!0:e.loaderData[M.id]===void 0&&(!e.errors||e.errors[M.id]===void 0);if(iK(e.loaderData,e.matches[P],I)||l.some(H=>H===I.route.id))return!0;let k=e.matches[P],N=I;return BC(I,Mt({currentUrl:_,currentParams:k.params,nextUrl:y,nextParams:N.params},r,{actionResult:E,actionStatus:D,defaultShouldRevalidate:O?!1:a||_.pathname+_.search===y.pathname+y.search||_.search!==y.search||GD(k,N)}))}),T=[];return d.forEach((I,P)=>{if(i||!n.some(ae=>ae.route.id===I.routeId)||u.has(P))return;let M=_a(g,I.path,w);if(!M){T.push({key:P,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let k=e.fetchers.get(P),N=Yu(M,I.path),H=!1;p.has(P)?H=!1:c.has(P)?(c.delete(P),H=!0):k&&k.state!=="idle"&&k.data===void 0?H=a:H=BC(N,Mt({currentUrl:_,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:E,actionStatus:D,defaultShouldRevalidate:O?!1:a})),H&&T.push({key:P,routeId:I.routeId,path:I.path,matches:M,match:N,controller:new AbortController})}),[C,T]}function iK(t,e,n){let r=!e||n.route.id!==e.route.id,s=t[n.route.id]===void 0;return r||s}function GD(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function BC(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function oK(t,e,n,r,s,i,o,a){let l=[e,...n.map(c=>c.route.id)].join("-");try{let c=o.get(l);c||(c=t({path:e,matches:n,patch:(u,d)=>{a.aborted||QD(u,d,r,s,i)}}),o.set(l,c)),c&&mK(c)&&await c}finally{o.delete(l)}}function QD(t,e,n,r,s){if(t){var i;let o=r[t];Ke(o,"No route found to patch children into: routeId = "+t);let a=Zd(e,s,[t,"patch",String(((i=o.children)==null?void 0:i.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=Zd(e,s,["patch",String(n.length||"0")],r);n.push(...o)}}async function aK(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let s=n[t.id];Ke(s,"No route found in manifest");let i={};for(let o in r){let l=s[o]!==void 0&&o!=="hasErrorBoundary";Oc(!l,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!P9.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,Mt({},e(s),{lazy:void 0}))}async function lK(t){let{matches:e}=t,n=e.filter(s=>s.shouldLoad);return(await Promise.all(n.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[n[o].route.id]:i}),{})}async function cK(t,e,n,r,s,i,o,a,l,c){let u=i.map(g=>g.route.lazy?aK(g.route,l,a):void 0),d=i.map((g,w)=>{let v=u[w],E=s.some(y=>y.route.id===g.route.id);return Mt({},g,{shouldLoad:E,resolve:async y=>(y&&r.method==="GET"&&(g.route.lazy||g.route.loader)&&(E=!0),E?uK(e,r,g,v,y,c):Promise.resolve({type:pt.data,result:void 0}))})}),p=await t({matches:d,request:r,params:i[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return p}async function uK(t,e,n,r,s,i){let o,a,l=c=>{let u,d=new Promise((w,v)=>u=v);a=()=>u(),e.signal.addEventListener("abort",a);let p=w=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:i},...w!==void 0?[w]:[]),g=(async()=>{try{return{type:"data",result:await(s?s(v=>p(v)):p())}}catch(w){return{type:"error",result:w}}})();return Promise.race([g,d])};try{let c=n.route[t];if(r)if(c){let u,[d]=await Promise.all([l(c).catch(p=>{u=p}),r]);if(u!==void 0)throw u;o=d}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),d=u.pathname+u.search;throw Yn(405,{method:e.method,pathname:d,routeId:n.route.id})}else return{type:pt.data,result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),d=u.pathname+u.search;throw Yn(404,{pathname:d})}Ke(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:pt.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function dK(t){let{result:e,type:n}=t;if(XD(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:pt.error,error:u}}return n===pt.error?{type:pt.error,error:new Dm(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:pt.data,data:c,statusCode:e.status,headers:e.headers}}if(n===pt.error){if(GC(e)){var r;if(e.data instanceof Error){var s;return{type:pt.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status}}e=new Dm(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:pt.error,error:e,statusCode:zh(e)?e.status:void 0}}if(yK(e)){var i,o;return{type:pt.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(GC(e)){var a,l;return{type:pt.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:pt.data,data:e}}function hK(t,e,n,r,s,i){let o=t.headers.get("Location");if(Ke(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!qx.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=C0(new URL(e.url),a,s,!0,o,i),t.headers.set("Location",o)}return t}function $C(t,e,n){if(qx.test(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=Jc(s.pathname,n)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function bl(t,e,n,r){let s=t.createURL(YD(e)).toString(),i={signal:n};if(r&&is(r.formMethod)){let{formMethod:o,formEncType:a}=r;i.method=o.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(r.json)):a==="text/plain"?i.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?i.body=I0(r.formData):i.body=r.formData}return new Request(s,i)}function I0(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function zC(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function fK(t,e,n,r,s){let i={},o=null,a,l=!1,c={},u=n&&wr(n[1])?n[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let p=d.route.id,g=e[p];if(Ke(!Sa(g),"Cannot handle redirect results in processLoaderData"),wr(g)){let w=g.error;u!==void 0&&(w=u,u=void 0),o=o||{};{let v=Hl(t,p);o[v.route.id]==null&&(o[v.route.id]=w)}i[p]=void 0,l||(l=!0,a=zh(g.error)?g.error.status:500),g.headers&&(c[p]=g.headers)}else mo(g)?(r.set(p,g.deferredData),i[p]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[p]=g.headers)):(i[p]=g.data,g.statusCode&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[p]=g.headers))}),u!==void 0&&n&&(o={[n[0]]:u},i[n[0]]=void 0),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:c}}function KC(t,e,n,r,s,i,o,a){let{loaderData:l,errors:c}=fK(e,r,s,a);return i.forEach(u=>{let{key:d,match:p,controller:g}=u,w=o[d];if(Ke(w,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(wr(w)){let v=Hl(t.matches,p==null?void 0:p.route.id);c&&c[v.route.id]||(c=Mt({},c,{[v.route.id]:w.error})),t.fetchers.delete(d)}else if(Sa(w))Ke(!1,"Unhandled fetcher revalidation redirect");else if(mo(w))Ke(!1,"Unhandled fetcher deferred data");else{let v=Ki(w.data);t.fetchers.set(d,v)}}),{loaderData:l,errors:c}}function WC(t,e,n,r){let s=Mt({},e);for(let i of n){let o=i.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&i.route.loader&&(s[o]=t[o]),r&&r.hasOwnProperty(o))break}return s}function HC(t){return t?wr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Hl(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function qC(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Yn(t,e){let{pathname:n,routeId:r,method:s,type:i,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):s&&n&&r?l="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",s&&n&&r?l="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new Dm(t||500,a,new Error(l),!0)}function Zf(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(Sa(s))return{key:r,result:s}}}function YD(t){let e=typeof t=="string"?Xo(t):t;return Ga(Mt({},e,{hash:""}))}function pK(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function mK(t){return typeof t=="object"&&t!=null&&"then"in t}function gK(t){return XD(t.result)&&J9.has(t.result.status)}function mo(t){return t.type===pt.deferred}function wr(t){return t.type===pt.error}function Sa(t){return(t&&t.type)===pt.redirect}function GC(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function yK(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function XD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function vK(t){return X9.has(t.toLowerCase())}function is(t){return Q9.has(t.toLowerCase())}async function wK(t,e,n,r,s){let i=Object.entries(e);for(let o=0;o<i.length;o++){let[a,l]=i[o],c=t.find(p=>(p==null?void 0:p.route.id)===a);if(!c)continue;let u=r.find(p=>p.route.id===c.route.id),d=u!=null&&!GD(u,c)&&(s&&s[c.route.id])!==void 0;mo(l)&&d&&await Gx(l,n,!1).then(p=>{p&&(e[a]=p)})}}async function _K(t,e,n){for(let r=0;r<n.length;r++){let{key:s,routeId:i,controller:o}=n[r],a=e[s];t.find(c=>(c==null?void 0:c.route.id)===i)&&mo(a)&&(Ke(o,"Expected an AbortController for revalidating fetcher deferred result"),await Gx(a,o.signal,!0).then(c=>{c&&(e[s]=c)}))}}async function Gx(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:pt.data,data:t.deferredData.unwrappedData}}catch(s){return{type:pt.error,error:s}}return{type:pt.data,data:t.deferredData.data}}}function Qx(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Yu(t,e){let n=typeof e=="string"?Xo(e).search:e.search;if(t[t.length-1].route.index&&Qx(n||""))return t[t.length-1];let r=WD(t);return r[r.length-1]}function QC(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:i,json:o}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Lv(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function xK(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Lu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function EK(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ki(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function TK(t,e){try{let n=t.sessionStorage.getItem(qD);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function SK(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(qD,JSON.stringify(n))}catch(r){Oc(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function km(){return km=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},km.apply(this,arguments)}const Fg=m.createContext(null),JD=m.createContext(null),Jo=m.createContext(null),Yx=m.createContext(null),Zo=m.createContext({outlet:null,matches:[],isDataRoute:!1}),ZD=m.createContext(null);function bK(t,e){let{relative:n}=e===void 0?{}:e;Zc()||Ke(!1);let{basename:r,navigator:s}=m.useContext(Jo),{hash:i,pathname:o,search:a}=tk(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:hi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Zc(){return m.useContext(Yx)!=null}function eu(){return Zc()||Ke(!1),m.useContext(Yx).location}function ek(t){m.useContext(Jo).static||m.useLayoutEffect(t)}function Kh(){let{isDataRoute:t}=m.useContext(Zo);return t?LK():CK()}function CK(){Zc()||Ke(!1);let t=m.useContext(Fg),{basename:e,future:n,navigator:r}=m.useContext(Jo),{matches:s}=m.useContext(Zo),{pathname:i}=eu(),o=JSON.stringify(jg(s,n.v7_relativeSplatPath)),a=m.useRef(!1);return ek(()=>{a.current=!0}),m.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Vg(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:hi([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,i,t])}function tk(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(Jo),{matches:s}=m.useContext(Zo),{pathname:i}=eu(),o=JSON.stringify(jg(s,r.v7_relativeSplatPath));return m.useMemo(()=>Vg(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function IK(t,e,n,r){Zc()||Ke(!1);let{navigator:s}=m.useContext(Jo),{matches:i}=m.useContext(Zo),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=eu(),u;u=c;let d=u.pathname||"/",p=d;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=_a(t,{pathname:p});return DK(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:hi([l,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:hi([l,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,r)}function AK(){let t=sk(),e=zh(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:s},n):null,null)}const PK=m.createElement(AK,null);class RK extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(Zo.Provider,{value:this.props.routeContext},m.createElement(ZD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NK(t){let{routeContext:e,match:n,children:r}=t,s=m.useContext(Fg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Zo.Provider,{value:e},r)}function DK(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Ke(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:p,errors:g}=n,w=d.route.loader&&p[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,p)=>{let g,w=!1,v=null,E=null;n&&(g=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||PK,l&&(c<0&&p===0?(jK("route-fallback"),w=!0,E=null):c===p&&(w=!0,E=d.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,p+1)),y=()=>{let S;return g?S=v:w?S=E:d.route.Component?S=m.createElement(d.route.Component,null):d.route.element?S=d.route.element:S=u,m.createElement(NK,{match:d,routeContext:{outlet:u,matches:_,isDataRoute:n!=null},children:S})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?m.createElement(RK,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:y(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):y()},null)}var nk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(nk||{}),Mm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Mm||{});function kK(t){let e=m.useContext(Fg);return e||Ke(!1),e}function MK(t){let e=m.useContext(JD);return e||Ke(!1),e}function OK(t){let e=m.useContext(Zo);return e||Ke(!1),e}function rk(t){let e=OK(),n=e.matches[e.matches.length-1];return n.route.id||Ke(!1),n.route.id}function sk(){var t;let e=m.useContext(ZD),n=MK(Mm.UseRouteError),r=rk(Mm.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function LK(){let{router:t}=kK(nk.UseNavigateStable),e=rk(Mm.UseNavigateStable),n=m.useRef(!1);return ek(()=>{n.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,km({fromRouteId:e},i)))},[t,e])}const YC={};function jK(t,e,n){YC[t]||(YC[t]=!0)}function ik(t){let{to:e,replace:n,state:r,relative:s}=t;Zc()||Ke(!1);let{future:i,static:o}=m.useContext(Jo),{matches:a}=m.useContext(Zo),{pathname:l}=eu(),c=Kh(),u=Vg(e,jg(a,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(u);return m.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:s}),[c,d,s,n,r]),null}function VK(t){let{basename:e="/",children:n=null,location:r,navigationType:s=nn.Pop,navigator:i,static:o=!1,future:a}=t;Zc()&&Ke(!1);let l=e.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:i,static:o,future:km({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Xo(r));let{pathname:u="/",search:d="",hash:p="",state:g=null,key:w="default"}=r,v=m.useMemo(()=>{let E=Jc(u,l);return E==null?null:{location:{pathname:E,search:d,hash:p,state:g,key:w},navigationType:s}},[l,u,d,p,g,w,s]);return v==null?null:m.createElement(Jo.Provider,{value:c},m.createElement(Yx.Provider,{children:n,value:v}))}new Promise(()=>{});function FK(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:m.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:m.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:m.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eh(){return eh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eh.apply(this,arguments)}function UK(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function BK(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $K(t,e){return t.button===0&&(!e||e==="_self")&&!BK(t)}const zK=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],KK="6";try{window.__reactRouterVersion=KK}catch{}function WK(t,e){return nK({basename:e==null?void 0:e.basename,future:eh({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:C9({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||HK(),routes:t,mapRouteProperties:FK,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,unstable_patchRoutesOnNavigation:e==null?void 0:e.unstable_patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function HK(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=eh({},e,{errors:qK(e.errors)})),e}function qK(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new Dm(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}const GK=m.createContext({isTransitioning:!1}),QK=m.createContext(new Map),YK="startTransition",XC=V1[YK],XK="flushSync",JC=v5[XK];function JK(t){XC?XC(t):t()}function ju(t){JC?JC(t):t()}class ZK{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function eW(t){let{fallbackElement:e,router:n,future:r}=t,[s,i]=m.useState(n.state),[o,a]=m.useState(),[l,c]=m.useState({isTransitioning:!1}),[u,d]=m.useState(),[p,g]=m.useState(),[w,v]=m.useState(),E=m.useRef(new Map),{v7_startTransition:_}=r||{},y=m.useCallback(T=>{_?JK(T):T()},[_]),S=m.useCallback((T,I)=>{let{deletedFetchers:P,unstable_flushSync:M,unstable_viewTransitionOpts:k}=I;P.forEach(H=>E.current.delete(H)),T.fetchers.forEach((H,ae)=>{H.data!==void 0&&E.current.set(ae,H.data)});let N=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!k||N){M?ju(()=>i(T)):y(()=>i(T));return}if(M){ju(()=>{p&&(u&&u.resolve(),p.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:k.currentLocation,nextLocation:k.nextLocation})});let H=n.window.document.startViewTransition(()=>{ju(()=>i(T))});H.finished.finally(()=>{ju(()=>{d(void 0),g(void 0),a(void 0),c({isTransitioning:!1})})}),ju(()=>g(H));return}p?(u&&u.resolve(),p.skipTransition(),v({state:T,currentLocation:k.currentLocation,nextLocation:k.nextLocation})):(a(T),c({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}))},[n.window,p,u,E,y]);m.useLayoutEffect(()=>n.subscribe(S),[n,S]),m.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new ZK)},[l]),m.useEffect(()=>{if(u&&o&&n.window){let T=o,I=u.promise,P=n.window.document.startViewTransition(async()=>{y(()=>i(T)),await I});P.finished.finally(()=>{d(void 0),g(void 0),a(void 0),c({isTransitioning:!1})}),g(P)}},[y,o,u,n.window]),m.useEffect(()=>{u&&o&&s.location.key===o.location.key&&u.resolve()},[u,p,s.location,o]),m.useEffect(()=>{!l.isTransitioning&&w&&(a(w.state),c({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),v(void 0))},[l.isTransitioning,w]),m.useEffect(()=>{},[]);let A=m.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:T=>n.navigate(T),push:(T,I,P)=>n.navigate(T,{state:I,preventScrollReset:P==null?void 0:P.preventScrollReset}),replace:(T,I,P)=>n.navigate(T,{replace:!0,state:I,preventScrollReset:P==null?void 0:P.preventScrollReset})}),[n]),D=n.basename||"/",O=m.useMemo(()=>({router:n,navigator:A,static:!1,basename:D}),[n,A,D]),C=m.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return m.createElement(m.Fragment,null,m.createElement(Fg.Provider,{value:O},m.createElement(JD.Provider,{value:s},m.createElement(QK.Provider,{value:E.current},m.createElement(GK.Provider,{value:l},m.createElement(VK,{basename:D,location:s.location,navigationType:s.historyAction,navigator:A,future:C},s.initialized||n.future.v7_partialHydration?m.createElement(tW,{routes:n.routes,future:n.future,state:s}):e))))),null)}const tW=m.memo(nW);function nW(t){let{routes:e,future:n,state:r}=t;return IK(e,void 0,r,n)}const rW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iW=m.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,p=UK(e,zK),{basename:g}=m.useContext(Jo),w,v=!1;if(typeof c=="string"&&sW.test(c)&&(w=c,rW))try{let S=new URL(window.location.href),A=c.startsWith("//")?new URL(S.protocol+c):new URL(c),D=Jc(A.pathname,g);A.origin===S.origin&&D!=null?c=D+A.search+A.hash:v=!0}catch{}let E=bK(c,{relative:s}),_=oW(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,unstable_viewTransition:d});function y(S){r&&r(S),S.defaultPrevented||_(S)}return m.createElement("a",eh({},p,{href:w||E,onClick:v||i?r:y,ref:n,target:l}))});var ZC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ZC||(ZC={}));var eI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(eI||(eI={}));function oW(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Kh(),c=eu(),u=tk(t,{relative:o});return m.useCallback(d=>{if($K(d,n)){d.preventDefault();let p=r!==void 0?r:Ga(c)===Ga(u);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}const aW=()=>{const t=Pt(n=>n.isAuth),e=Kh();m.useEffect(()=>{(async()=>{try{const r=q6();await Nz(r),gt("Sign in success")}catch{}})()},[]),m.useEffect(()=>{if(!t)return e("/login")},[t])};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ok=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>m.createElement("svg",{ref:l,...cW,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:ok("lucide",s),...a},[...o.map(([c,u])=>m.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(t,e)=>{const n=m.forwardRef(({className:r,...s},i)=>m.createElement(uW,{ref:i,iconNode:e,className:ok(`lucide-${lW(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=qe("Blocks",[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",key:"1fpvtg"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=qe("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=qe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=qe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=qe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=qe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=qe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=qe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=qe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=qe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=qe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=qe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=qe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=qe("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=qe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=qe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=qe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=qe("PanelRight",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=qe("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=qe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=qe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=qe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=qe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=qe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=qe("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=qe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=qe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ee(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function DW(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function $g(...t){return e=>t.forEach(n=>DW(n,e))}function ke(...t){return m.useCallback($g(...t),t)}function kW(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var _;const{scope:p,children:g,...w}=d,v=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,E=m.useMemo(()=>w,Object.values(w));return f.jsx(v.Provider,{value:E,children:g})};c.displayName=i+"Provider";function u(d,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,MW(s,...e)]}function MW(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function kt(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Oo({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=OW({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=kt(n),l=m.useCallback(c=>{if(i){const d=typeof c=="function"?c(t):c;d!==t&&a(d)}else s(c)},[i,t,s,a]);return[o,l]}function OW({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,s=m.useRef(r),i=kt(e);return m.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var Lo=m.forwardRef((t,e)=>{const{children:n,...r}=t,s=m.Children.toArray(n),i=s.find(LW);if(i){const o=i.props.children,a=s.map(l=>l===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return f.jsx(A0,{...r,ref:e,children:m.isValidElement(o)?m.cloneElement(o,void 0,a):null})}return f.jsx(A0,{...r,ref:e,children:n})});Lo.displayName="Slot";var A0=m.forwardRef((t,e)=>{const{children:n,...r}=t;if(m.isValidElement(n)){const s=VW(n);return m.cloneElement(n,{...jW(r,n.props),ref:e?$g(e,s):s})}return m.Children.count(n)>1?m.Children.only(null):null});A0.displayName="SlotClone";var Zx=({children:t})=>f.jsx(f.Fragment,{children:t});function LW(t){return m.isValidElement(t)&&t.type===Zx}function jW(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function VW(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var FW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],xe=FW.reduce((t,e)=>{const n=m.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Lo:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function cl(t,e){t&&Di.flushSync(()=>t.dispatchEvent(e))}function tu(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function c(d){const{scope:p,children:g,...w}=d,v=(p==null?void 0:p[t][l])||a,E=m.useMemo(()=>w,Object.values(w));return f.jsx(v.Provider,{value:E,children:g})}function u(d,p){const g=(p==null?void 0:p[t][l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,UW(s,...e)]}function UW(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function zg(t){const e=t+"CollectionProvider",[n,r]=tu(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:w,children:v}=g,E=ze.useRef(null),_=ze.useRef(new Map).current;return f.jsx(s,{scope:w,itemMap:_,collectionRef:E,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=ze.forwardRef((g,w)=>{const{scope:v,children:E}=g,_=i(a,v),y=ke(w,_.collectionRef);return f.jsx(Lo,{ref:y,children:E})});l.displayName=a;const c=t+"CollectionItemSlot",u="data-radix-collection-item",d=ze.forwardRef((g,w)=>{const{scope:v,children:E,..._}=g,y=ze.useRef(null),S=ke(w,y),A=i(c,v);return ze.useEffect(()=>(A.itemMap.set(y,{ref:y,..._}),()=>void A.itemMap.delete(y))),f.jsx(Lo,{[u]:"",ref:S,children:E})});d.displayName=c;function p(g){const w=i(t+"CollectionConsumer",g);return ze.useCallback(()=>{const E=w.collectionRef.current;if(!E)return[];const _=Array.from(E.querySelectorAll(`[${u}]`));return Array.from(w.itemMap.values()).sort((A,D)=>_.indexOf(A.ref.current)-_.indexOf(D.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:l,ItemSlot:d},p,r]}function BW(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var _;const{scope:p,children:g,...w}=d,v=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,E=m.useMemo(()=>w,Object.values(w));return f.jsx(v.Provider,{value:E,children:g})};c.displayName=i+"Provider";function u(d,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,$W(s,...e)]}function $W(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var zW=m.createContext(void 0);function Kg(t){const e=m.useContext(zW);return t||e||"ltr"}function Hh(t,e=globalThis==null?void 0:globalThis.document){const n=kt(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var KW="DismissableLayer",P0="dismissableLayer.update",WW="dismissableLayer.pointerDownOutside",HW="dismissableLayer.focusOutside",nI,yk=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vk=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(yk),[u,d]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,C=>d(C)),v=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(E),y=u?v.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,A=y>=_,D=QW(C=>{const T=C.target,I=[...c.branches].some(P=>P.contains(T));!A||I||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),O=YW(C=>{const T=C.target;[...c.branches].some(P=>P.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return Hh(C=>{y===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(nI=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),rI(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=nI)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),rI())},[u,c]),m.useEffect(()=>{const C=()=>g({});return document.addEventListener(P0,C),()=>document.removeEventListener(P0,C)},[]),f.jsx(xe.div,{...l,ref:w,style:{pointerEvents:S?A?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,D.onPointerDownCapture)})});vk.displayName=KW;var qW="DismissableLayerBranch",GW=m.forwardRef((t,e)=>{const n=m.useContext(yk),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(xe.div,{...t,ref:s})});GW.displayName=qW;function QW(t,e=globalThis==null?void 0:globalThis.document){const n=kt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){wk(WW,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function YW(t,e=globalThis==null?void 0:globalThis.document){const n=kt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&wk(HW,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function rI(){const t=new CustomEvent(P0);document.dispatchEvent(t)}function wk(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?cl(s,i):s.dispatchEvent(i)}var jv=0;function eE(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??sI()),document.body.insertAdjacentElement("beforeend",t[1]??sI()),jv++,()=>{jv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),jv--}},[])}function sI(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Vv="focusScope.autoFocusOnMount",Fv="focusScope.autoFocusOnUnmount",iI={bubbles:!1,cancelable:!0},XW="FocusScope",Wg=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=m.useState(null),c=kt(s),u=kt(i),d=m.useRef(null),p=ke(e,v=>l(v)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let v=function(S){if(g.paused||!a)return;const A=S.target;a.contains(A)?d.current=A:Wi(d.current,{select:!0})},E=function(S){if(g.paused||!a)return;const A=S.relatedTarget;A!==null&&(a.contains(A)||Wi(d.current,{select:!0}))},_=function(S){if(document.activeElement===document.body)for(const D of S)D.removedNodes.length>0&&Wi(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",E);const y=new MutationObserver(_);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",E),y.disconnect()}}},[r,a,g.paused]),m.useEffect(()=>{if(a){aI.add(g);const v=document.activeElement;if(!a.contains(v)){const _=new CustomEvent(Vv,iI);a.addEventListener(Vv,c),a.dispatchEvent(_),_.defaultPrevented||(JW(rH(_k(a)),{select:!0}),document.activeElement===v&&Wi(a))}return()=>{a.removeEventListener(Vv,c),setTimeout(()=>{const _=new CustomEvent(Fv,iI);a.addEventListener(Fv,u),a.dispatchEvent(_),_.defaultPrevented||Wi(v??document.body,{select:!0}),a.removeEventListener(Fv,u),aI.remove(g)},0)}}},[a,c,u,g]);const w=m.useCallback(v=>{if(!n&&!r||g.paused)return;const E=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,_=document.activeElement;if(E&&_){const y=v.currentTarget,[S,A]=ZW(y);S&&A?!v.shiftKey&&_===A?(v.preventDefault(),n&&Wi(S,{select:!0})):v.shiftKey&&_===S&&(v.preventDefault(),n&&Wi(A,{select:!0})):_===y&&v.preventDefault()}},[n,r,g.paused]);return f.jsx(xe.div,{tabIndex:-1,...o,ref:p,onKeyDown:w})});Wg.displayName=XW;function JW(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Wi(r,{select:e}),document.activeElement!==n)return}function ZW(t){const e=_k(t),n=oI(e,t),r=oI(e.reverse(),t);return[n,r]}function _k(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function oI(t,e){for(const n of t)if(!eH(n,{upTo:e}))return n}function eH(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function tH(t){return t instanceof HTMLInputElement&&"select"in t}function Wi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&tH(t)&&e&&t.select()}}var aI=nH();function nH(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=lI(t,e),t.unshift(e)},remove(e){var n;t=lI(t,e),(n=t[0])==null||n.resume()}}}function lI(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function rH(t){return t.filter(e=>e.tagName!=="A")}var Rt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},sH=V1.useId||(()=>{}),iH=0;function fs(t){const[e,n]=m.useState(sH());return Rt(()=>{t||n(r=>r??String(iH++))},[t]),t||(e?`radix-${e}`:"")}const oH=["top","right","bottom","left"],jo=Math.min,_r=Math.max,Om=Math.round,ep=Math.floor,Vo=t=>({x:t,y:t}),aH={left:"right",right:"left",bottom:"top",top:"bottom"},lH={start:"end",end:"start"};function R0(t,e,n){return _r(t,jo(e,n))}function bi(t,e){return typeof t=="function"?t(e):t}function Ci(t){return t.split("-")[0]}function nu(t){return t.split("-")[1]}function tE(t){return t==="x"?"y":"x"}function nE(t){return t==="y"?"height":"width"}function Fo(t){return["top","bottom"].includes(Ci(t))?"y":"x"}function rE(t){return tE(Fo(t))}function cH(t,e,n){n===void 0&&(n=!1);const r=nu(t),s=rE(t),i=nE(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Lm(o)),[o,Lm(o)]}function uH(t){const e=Lm(t);return[N0(t),e,N0(e)]}function N0(t){return t.replace(/start|end/g,e=>lH[e])}function dH(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function hH(t,e,n,r){const s=nu(t);let i=dH(Ci(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(N0)))),i}function Lm(t){return t.replace(/left|right|bottom|top/g,e=>aH[e])}function fH(t){return{top:0,right:0,bottom:0,left:0,...t}}function xk(t){return typeof t!="number"?fH(t):{top:t,right:t,bottom:t,left:t}}function jm(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function cI(t,e,n){let{reference:r,floating:s}=t;const i=Fo(e),o=rE(e),a=nE(o),l=Ci(e),c=i==="y",u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:u,y:r.y-s.height};break;case"bottom":g={x:u,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:d};break;case"left":g={x:r.x-s.width,y:d};break;default:g={x:r.x,y:r.y}}switch(nu(e)){case"start":g[o]-=p*(n&&c?-1:1);break;case"end":g[o]+=p*(n&&c?-1:1);break}return g}const pH=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:d}=cI(c,r,l),p=r,g={},w=0;for(let v=0;v<a.length;v++){const{name:E,fn:_}=a[v],{x:y,y:S,data:A,reset:D}=await _({x:u,y:d,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});u=y??u,d=S??d,g={...g,[E]:{...g[E],...A}},D&&w<=50&&(w++,typeof D=="object"&&(D.placement&&(p=D.placement),D.rects&&(c=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:u,y:d}=cI(c,p,l)),v=-1)}return{x:u,y:d,placement:p,strategy:s,middlewareData:g}};async function th(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:g=0}=bi(e,t),w=xk(g),E=a[p?d==="floating"?"reference":"floating":d],_=jm(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),A=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},D=jm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:S,strategy:l}):y);return{top:(_.top-D.top+w.top)/A.y,bottom:(D.bottom-_.bottom+w.bottom)/A.y,left:(_.left-D.left+w.left)/A.x,right:(D.right-_.right+w.right)/A.x}}const mH=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=bi(t,e)||{};if(c==null)return{};const d=xk(u),p={x:n,y:r},g=rE(s),w=nE(g),v=await o.getDimensions(c),E=g==="y",_=E?"top":"left",y=E?"bottom":"right",S=E?"clientHeight":"clientWidth",A=i.reference[w]+i.reference[g]-p[g]-i.floating[w],D=p[g]-i.reference[g],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=O?O[S]:0;(!C||!await(o.isElement==null?void 0:o.isElement(O)))&&(C=a.floating[S]||i.floating[w]);const T=A/2-D/2,I=C/2-v[w]/2-1,P=jo(d[_],I),M=jo(d[y],I),k=P,N=C-v[w]-M,H=C/2-v[w]/2+T,ae=R0(k,H,N),te=!l.arrow&&nu(s)!=null&&H!==ae&&i.reference[w]/2-(H<k?P:M)-v[w]/2<0,ne=te?H<k?H-k:H-N:0;return{[g]:p[g]+ne,data:{[g]:ae,centerOffset:H-ae-ne,...te&&{alignmentOffset:ne}},reset:te}}}),gH=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...E}=bi(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=Ci(s),y=Fo(a),S=Ci(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),D=p||(S||!v?[Lm(a)]:uH(a)),O=w!=="none";!p&&O&&D.push(...hH(a,v,w,A));const C=[a,...D],T=await th(e,E),I=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&I.push(T[_]),d){const H=cH(s,o,A);I.push(T[H[0]],T[H[1]])}if(P=[...P,{placement:s,overflows:I}],!I.every(H=>H<=0)){var M,k;const H=(((M=i.flip)==null?void 0:M.index)||0)+1,ae=C[H];if(ae)return{data:{index:H,overflows:P},reset:{placement:ae}};let te=(k=P.filter(ne=>ne.overflows[0]<=0).sort((ne,z)=>ne.overflows[1]-z.overflows[1])[0])==null?void 0:k.placement;if(!te)switch(g){case"bestFit":{var N;const ne=(N=P.filter(z=>{if(O){const B=Fo(z.placement);return B===y||B==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(B=>B>0).reduce((B,Z)=>B+Z,0)]).sort((z,B)=>z[1]-B[1])[0])==null?void 0:N[0];ne&&(te=ne);break}case"initialPlacement":te=a;break}if(s!==te)return{reset:{placement:te}}}return{}}}};function uI(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function dI(t){return oH.some(e=>t[e]>=0)}const yH=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=bi(t,e);switch(r){case"referenceHidden":{const i=await th(e,{...s,elementContext:"reference"}),o=uI(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:dI(o)}}}case"escaped":{const i=await th(e,{...s,altBoundary:!0}),o=uI(i,n.floating);return{data:{escapedOffsets:o,escaped:dI(o)}}}default:return{}}}}};async function vH(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ci(n),a=nu(n),l=Fo(n)==="y",c=["left","top"].includes(o)?-1:1,u=i&&l?-1:1,d=bi(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:w}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof w=="number"&&(g=a==="end"?w*-1:w),l?{x:g*u,y:p*c}:{x:p*c,y:g*u}}const wH=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await vH(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},_H=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:_,y}=E;return{x:_,y}}},...l}=bi(t,e),c={x:n,y:r},u=await th(e,l),d=Fo(Ci(s)),p=tE(d);let g=c[p],w=c[d];if(i){const E=p==="y"?"top":"left",_=p==="y"?"bottom":"right",y=g+u[E],S=g-u[_];g=R0(y,g,S)}if(o){const E=d==="y"?"top":"left",_=d==="y"?"bottom":"right",y=w+u[E],S=w-u[_];w=R0(y,w,S)}const v=a.fn({...e,[p]:g,[d]:w});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[p]:i,[d]:o}}}}}},xH=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=bi(t,e),u={x:n,y:r},d=Fo(s),p=tE(d);let g=u[p],w=u[d];const v=bi(a,e),E=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const S=p==="y"?"height":"width",A=i.reference[p]-i.floating[S]+E.mainAxis,D=i.reference[p]+i.reference[S]-E.mainAxis;g<A?g=A:g>D&&(g=D)}if(c){var _,y;const S=p==="y"?"width":"height",A=["top","left"].includes(Ci(s)),D=i.reference[d]-i.floating[S]+(A&&((_=o.offset)==null?void 0:_[d])||0)+(A?0:E.crossAxis),O=i.reference[d]+i.reference[S]+(A?0:((y=o.offset)==null?void 0:y[d])||0)-(A?E.crossAxis:0);w<D?w=D:w>O&&(w=O)}return{[p]:g,[d]:w}}}},EH=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=bi(t,e),u=await th(e,c),d=Ci(s),p=nu(s),g=Fo(s)==="y",{width:w,height:v}=i.floating;let E,_;d==="top"||d==="bottom"?(E=d,_=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=d,E=p==="end"?"top":"bottom");const y=v-u.top-u.bottom,S=w-u.left-u.right,A=jo(v-u[E],y),D=jo(w-u[_],S),O=!e.middlewareData.shift;let C=A,T=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=y),O&&!p){const P=_r(u.left,0),M=_r(u.right,0),k=_r(u.top,0),N=_r(u.bottom,0);g?T=w-2*(P!==0||M!==0?P+M:_r(u.left,u.right)):C=v-2*(k!==0||N!==0?k+N:_r(u.top,u.bottom))}await l({...e,availableWidth:T,availableHeight:C});const I=await o.getDimensions(a.floating);return w!==I.width||v!==I.height?{reset:{rects:!0}}:{}}}};function Hg(){return typeof window<"u"}function ru(t){return Ek(t)?(t.nodeName||"").toLowerCase():"#document"}function Sr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Hs(t){var e;return(e=(Ek(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Ek(t){return Hg()?t instanceof Node||t instanceof Sr(t).Node:!1}function vs(t){return Hg()?t instanceof Element||t instanceof Sr(t).Element:!1}function zs(t){return Hg()?t instanceof HTMLElement||t instanceof Sr(t).HTMLElement:!1}function hI(t){return!Hg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Sr(t).ShadowRoot}function qh(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ws(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function TH(t){return["table","td","th"].includes(ru(t))}function qg(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function sE(t){const e=iE(),n=vs(t)?ws(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function SH(t){let e=Uo(t);for(;zs(e)&&!Lc(e);){if(sE(e))return e;if(qg(e))return null;e=Uo(e)}return null}function iE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Lc(t){return["html","body","#document"].includes(ru(t))}function ws(t){return Sr(t).getComputedStyle(t)}function Gg(t){return vs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Uo(t){if(ru(t)==="html")return t;const e=t.assignedSlot||t.parentNode||hI(t)&&t.host||Hs(t);return hI(e)?e.host:e}function Tk(t){const e=Uo(t);return Lc(e)?t.ownerDocument?t.ownerDocument.body:t.body:zs(e)&&qh(e)?e:Tk(e)}function nh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Tk(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Sr(s);if(i){const a=D0(o);return e.concat(o,o.visualViewport||[],qh(s)?s:[],a&&n?nh(a):[])}return e.concat(s,nh(s,[],n))}function D0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Sk(t){const e=ws(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=zs(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Om(n)!==i||Om(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function oE(t){return vs(t)?t:t.contextElement}function ac(t){const e=oE(t);if(!zs(e))return Vo(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=Sk(e);let o=(i?Om(n.width):n.width)/r,a=(i?Om(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const bH=Vo(0);function bk(t){const e=Sr(t);return!iE()||!e.visualViewport?bH:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function CH(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Sr(t)?!1:e}function Qa(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=oE(t);let o=Vo(1);e&&(r?vs(r)&&(o=ac(r)):o=ac(t));const a=CH(i,n,r)?bk(i):Vo(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,d=s.height/o.y;if(i){const p=Sr(i),g=r&&vs(r)?Sr(r):r;let w=p,v=D0(w);for(;v&&r&&g!==w;){const E=ac(v),_=v.getBoundingClientRect(),y=ws(v),S=_.left+(v.clientLeft+parseFloat(y.paddingLeft))*E.x,A=_.top+(v.clientTop+parseFloat(y.paddingTop))*E.y;l*=E.x,c*=E.y,u*=E.x,d*=E.y,l+=S,c+=A,w=Sr(v),v=D0(w)}}return jm({width:u,height:d,x:l,y:c})}function IH(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Hs(r),a=e?qg(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Vo(1);const u=Vo(0),d=zs(r);if((d||!d&&!i)&&((ru(r)!=="body"||qh(o))&&(l=Gg(r)),zs(r))){const p=Qa(r);c=ac(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function AH(t){return Array.from(t.getClientRects())}function k0(t,e){const n=Gg(t).scrollLeft;return e?e.left+n:Qa(Hs(t)).left+n}function PH(t){const e=Hs(t),n=Gg(t),r=t.ownerDocument.body,s=_r(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=_r(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+k0(t);const a=-n.scrollTop;return ws(r).direction==="rtl"&&(o+=_r(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function RH(t,e){const n=Sr(t),r=Hs(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=iE();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function NH(t,e){const n=Qa(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=zs(t)?ac(t):Vo(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function fI(t,e,n){let r;if(e==="viewport")r=RH(t,n);else if(e==="document")r=PH(Hs(t));else if(vs(e))r=NH(e,n);else{const s=bk(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return jm(r)}function Ck(t,e){const n=Uo(t);return n===e||!vs(n)||Lc(n)?!1:ws(n).position==="fixed"||Ck(n,e)}function DH(t,e){const n=e.get(t);if(n)return n;let r=nh(t,[],!1).filter(a=>vs(a)&&ru(a)!=="body"),s=null;const i=ws(t).position==="fixed";let o=i?Uo(t):t;for(;vs(o)&&!Lc(o);){const a=ws(o),l=sE(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||qh(o)&&!l&&Ck(t,o))?r=r.filter(u=>u!==o):s=a,o=Uo(o)}return e.set(t,r),r}function kH(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?qg(e)?[]:DH(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=fI(e,u,s);return c.top=_r(d.top,c.top),c.right=jo(d.right,c.right),c.bottom=jo(d.bottom,c.bottom),c.left=_r(d.left,c.left),c},fI(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function MH(t){const{width:e,height:n}=Sk(t);return{width:e,height:n}}function OH(t,e,n){const r=zs(e),s=Hs(e),i=n==="fixed",o=Qa(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Vo(0);if(r||!r&&!i)if((ru(e)!=="body"||qh(s))&&(a=Gg(e)),r){const g=Qa(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&(l.x=k0(s));let c=0,u=0;if(s&&!r&&!i){const g=s.getBoundingClientRect();u=g.top+a.scrollTop,c=g.left+a.scrollLeft-k0(s,g)}const d=o.left+a.scrollLeft-l.x-c,p=o.top+a.scrollTop-l.y-u;return{x:d,y:p,width:o.width,height:o.height}}function Uv(t){return ws(t).position==="static"}function pI(t,e){if(!zs(t)||ws(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Hs(t)===n&&(n=n.ownerDocument.body),n}function Ik(t,e){const n=Sr(t);if(qg(t))return n;if(!zs(t)){let s=Uo(t);for(;s&&!Lc(s);){if(vs(s)&&!Uv(s))return s;s=Uo(s)}return n}let r=pI(t,e);for(;r&&TH(r)&&Uv(r);)r=pI(r,e);return r&&Lc(r)&&Uv(r)&&!sE(r)?n:r||SH(t)||n}const LH=async function(t){const e=this.getOffsetParent||Ik,n=this.getDimensions,r=await n(t.floating);return{reference:OH(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function jH(t){return ws(t).direction==="rtl"}const VH={convertOffsetParentRelativeRectToViewportRelativeRect:IH,getDocumentElement:Hs,getClippingRect:kH,getOffsetParent:Ik,getElementRects:LH,getClientRects:AH,getDimensions:MH,getScale:ac,isElement:vs,isRTL:jH};function FH(t,e){let n=null,r;const s=Hs(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:u,width:d,height:p}=t.getBoundingClientRect();if(a||e(),!d||!p)return;const g=ep(u),w=ep(s.clientWidth-(c+d)),v=ep(s.clientHeight-(u+p)),E=ep(c),y={rootMargin:-g+"px "+-w+"px "+-v+"px "+-E+"px",threshold:_r(0,jo(1,l))||1};let S=!0;function A(D){const O=D[0].intersectionRatio;if(O!==l){if(!S)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(A,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(A,y)}n.observe(t)}return o(!0),i}function UH(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=oE(t),u=s||i?[...c?nh(c):[],...nh(e)]:[];u.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const d=c&&a?FH(c,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(_=>{let[y]=_;y&&y.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=g)==null||S.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let w,v=l?Qa(t):null;l&&E();function E(){const _=Qa(t);v&&(_.x!==v.x||_.y!==v.y||_.width!==v.width||_.height!==v.height)&&n(),v=_,w=requestAnimationFrame(E)}return n(),()=>{var _;u.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),d==null||d(),(_=g)==null||_.disconnect(),g=null,l&&cancelAnimationFrame(w)}}const BH=wH,$H=_H,zH=gH,KH=EH,WH=yH,mI=mH,HH=xH,qH=(t,e,n)=>{const r=new Map,s={platform:VH,...n},i={...s.platform,_c:r};return pH(t,e,{...s,platform:i})};var Vp=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Vm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Vm(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Vm(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Ak(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function gI(t,e){const n=Ak(t);return Math.round(e*n)/n}function Bv(t){const e=m.useRef(t);return Vp(()=>{e.current=t}),e}function GH(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=m.useState(r);Vm(p,r)||g(r);const[w,v]=m.useState(null),[E,_]=m.useState(null),y=m.useCallback(z=>{z!==O.current&&(O.current=z,v(z))},[]),S=m.useCallback(z=>{z!==C.current&&(C.current=z,_(z))},[]),A=i||w,D=o||E,O=m.useRef(null),C=m.useRef(null),T=m.useRef(u),I=l!=null,P=Bv(l),M=Bv(s),k=Bv(c),N=m.useCallback(()=>{if(!O.current||!C.current)return;const z={placement:e,strategy:n,middleware:p};M.current&&(z.platform=M.current),qH(O.current,C.current,z).then(B=>{const Z={...B,isPositioned:k.current!==!1};H.current&&!Vm(T.current,Z)&&(T.current=Z,Di.flushSync(()=>{d(Z)}))})},[p,e,n,M,k]);Vp(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(z=>({...z,isPositioned:!1})))},[c]);const H=m.useRef(!1);Vp(()=>(H.current=!0,()=>{H.current=!1}),[]),Vp(()=>{if(A&&(O.current=A),D&&(C.current=D),A&&D){if(P.current)return P.current(A,D,N);N()}},[A,D,N,P,I]);const ae=m.useMemo(()=>({reference:O,floating:C,setReference:y,setFloating:S}),[y,S]),te=m.useMemo(()=>({reference:A,floating:D}),[A,D]),ne=m.useMemo(()=>{const z={position:n,left:0,top:0};if(!te.floating)return z;const B=gI(te.floating,u.x),Z=gI(te.floating,u.y);return a?{...z,transform:"translate("+B+"px, "+Z+"px)",...Ak(te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:Z}},[n,a,te.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:N,refs:ae,elements:te,floatingStyles:ne}),[u,N,ae,te,ne])}const QH=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?mI({element:r.current,padding:s}).fn(n):{}:r?mI({element:r,padding:s}).fn(n):{}}}},YH=(t,e)=>({...BH(t),options:[t,e]}),XH=(t,e)=>({...$H(t),options:[t,e]}),JH=(t,e)=>({...HH(t),options:[t,e]}),ZH=(t,e)=>({...zH(t),options:[t,e]}),e8=(t,e)=>({...KH(t),options:[t,e]}),t8=(t,e)=>({...WH(t),options:[t,e]}),n8=(t,e)=>({...QH(t),options:[t,e]});var r8="Arrow",Pk=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return f.jsx(xe.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});Pk.displayName=r8;var s8=Pk;function i8(t){const[e,n]=m.useState(void 0);return Rt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var aE="Popper",[Rk,su]=tu(aE),[o8,Nk]=Rk(aE),Dk=t=>{const{__scopePopper:e,children:n}=t,[r,s]=m.useState(null);return f.jsx(o8,{scope:e,anchor:r,onAnchorChange:s,children:n})};Dk.displayName=aE;var kk="PopperAnchor",Mk=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Nk(kk,n),o=m.useRef(null),a=ke(e,o);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:f.jsx(xe.div,{...s,ref:a})});Mk.displayName=kk;var lE="PopperContent",[a8,l8]=Rk(lE),Ok=m.forwardRef((t,e)=>{var ce,je,rt,Ve,$e,Ge;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:w,...v}=t,E=Nk(lE,n),[_,y]=m.useState(null),S=ke(e,Ut=>y(Ut)),[A,D]=m.useState(null),O=i8(A),C=(O==null?void 0:O.width)??0,T=(O==null?void 0:O.height)??0,I=r+(i!=="center"?"-"+i:""),P=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},M=Array.isArray(c)?c:[c],k=M.length>0,N={padding:P,boundary:M.filter(u8),altBoundary:k},{refs:H,floatingStyles:ae,placement:te,isPositioned:ne,middlewareData:z}=GH({strategy:"fixed",placement:I,whileElementsMounted:(...Ut)=>UH(...Ut,{animationFrame:g==="always"}),elements:{reference:E.anchor},middleware:[YH({mainAxis:s+T,alignmentAxis:o}),l&&XH({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?JH():void 0,...N}),l&&ZH({...N}),e8({...N,apply:({elements:Ut,rects:st,availableWidth:yn,availableHeight:kr})=>{const{width:xs,height:L}=st.reference,$=Ut.floating.style;$.setProperty("--radix-popper-available-width",`${yn}px`),$.setProperty("--radix-popper-available-height",`${kr}px`),$.setProperty("--radix-popper-anchor-width",`${xs}px`),$.setProperty("--radix-popper-anchor-height",`${L}px`)}}),A&&n8({element:A,padding:a}),d8({arrowWidth:C,arrowHeight:T}),p&&t8({strategy:"referenceHidden",...N})]}),[B,Z]=Vk(te),pe=kt(w);Rt(()=>{ne&&(pe==null||pe())},[ne,pe]);const Te=(ce=z.arrow)==null?void 0:ce.x,Ae=(je=z.arrow)==null?void 0:je.y,Xe=((rt=z.arrow)==null?void 0:rt.centerOffset)!==0,[yt,We]=m.useState();return Rt(()=>{_&&We(window.getComputedStyle(_).zIndex)},[_]),f.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:ne?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:yt,"--radix-popper-transform-origin":[(Ve=z.transformOrigin)==null?void 0:Ve.x,($e=z.transformOrigin)==null?void 0:$e.y].join(" "),...((Ge=z.hide)==null?void 0:Ge.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(a8,{scope:n,placedSide:B,onArrowChange:D,arrowX:Te,arrowY:Ae,shouldHideArrow:Xe,children:f.jsx(xe.div,{"data-side":B,"data-align":Z,...v,ref:S,style:{...v.style,animation:ne?void 0:"none"}})})})});Ok.displayName=lE;var Lk="PopperArrow",c8={top:"bottom",right:"left",bottom:"top",left:"right"},jk=m.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=l8(Lk,r),o=c8[i.placedSide];return f.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:f.jsx(s8,{...s,ref:n,style:{...s.style,display:"block"}})})});jk.displayName=Lk;function u8(t){return t!==null}var d8=t=>({name:"transformOrigin",options:t,fn(e){var E,_,y;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=Vk(n),d={start:"0%",center:"50%",end:"100%"}[u],p=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,g=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let w="",v="";return c==="bottom"?(w=o?d:`${p}px`,v=`${-l}px`):c==="top"?(w=o?d:`${p}px`,v=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,v=o?d:`${g}px`):c==="left"&&(w=`${r.floating.width+l}px`,v=o?d:`${g}px`),{data:{x:w,y:v}}}});function Vk(t){const[e,n="center"]=t.split("-");return[e,n]}var cE=Dk,uE=Mk,dE=Ok,hE=jk,h8="Portal",Fk=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Rt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?jh.createPortal(f.jsx(xe.div,{...r,ref:e}),o):null});Fk.displayName=h8;function f8(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var Gh=t=>{const{present:e,children:n}=t,r=p8(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ke(r.ref,m8(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};Gh.displayName="Presence";function p8(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=f8(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=tp(r.current);i.current=a==="mounted"?c:"none"},[a]),Rt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=tp(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Rt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=g=>{const v=tp(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},p=g=>{g.target===e&&(i.current=tp(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function tp(t){return(t==null?void 0:t.animationName)||"none"}function m8(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var $v="rovingFocusGroup.onEntryFocus",g8={bubbles:!1,cancelable:!0},Qg="RovingFocusGroup",[M0,Uk,y8]=zg(Qg),[v8,Yg]=tu(Qg,[y8]),[w8,_8]=v8(Qg),Bk=m.forwardRef((t,e)=>f.jsx(M0.Provider,{scope:t.__scopeRovingFocusGroup,children:f.jsx(M0.Slot,{scope:t.__scopeRovingFocusGroup,children:f.jsx(x8,{...t,ref:e})})}));Bk.displayName=Qg;var x8=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,p=m.useRef(null),g=ke(e,p),w=Kg(i),[v=null,E]=Oo({prop:o,defaultProp:a,onChange:l}),[_,y]=m.useState(!1),S=kt(c),A=Uk(n),D=m.useRef(!1),[O,C]=m.useState(0);return m.useEffect(()=>{const T=p.current;if(T)return T.addEventListener($v,S),()=>T.removeEventListener($v,S)},[S]),f.jsx(w8,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:v,onItemFocus:m.useCallback(T=>E(T),[E]),onItemShiftTab:m.useCallback(()=>y(!0),[]),onFocusableItemAdd:m.useCallback(()=>C(T=>T+1),[]),onFocusableItemRemove:m.useCallback(()=>C(T=>T-1),[]),children:f.jsx(xe.div,{tabIndex:_||O===0?-1:0,"data-orientation":r,...d,ref:g,style:{outline:"none",...t.style},onMouseDown:ee(t.onMouseDown,()=>{D.current=!0}),onFocus:ee(t.onFocus,T=>{const I=!D.current;if(T.target===T.currentTarget&&I&&!_){const P=new CustomEvent($v,g8);if(T.currentTarget.dispatchEvent(P),!P.defaultPrevented){const M=A().filter(te=>te.focusable),k=M.find(te=>te.active),N=M.find(te=>te.id===v),ae=[k,N,...M].filter(Boolean).map(te=>te.ref.current);Kk(ae,u)}}D.current=!1}),onBlur:ee(t.onBlur,()=>y(!1))})})}),$k="RovingFocusGroupItem",zk=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=fs(),l=i||a,c=_8($k,n),u=c.currentTabStopId===l,d=Uk(n),{onFocusableItemAdd:p,onFocusableItemRemove:g}=c;return m.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),f.jsx(M0.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:f.jsx(xe.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:ee(t.onMouseDown,w=>{r?c.onItemFocus(l):w.preventDefault()}),onFocus:ee(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:ee(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){c.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const v=S8(w,c.orientation,c.dir);if(v!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let _=d().filter(y=>y.focusable).map(y=>y.ref.current);if(v==="last")_.reverse();else if(v==="prev"||v==="next"){v==="prev"&&_.reverse();const y=_.indexOf(w.currentTarget);_=c.loop?b8(_,y+1):_.slice(y+1)}setTimeout(()=>Kk(_))}})})})});zk.displayName=$k;var E8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function T8(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function S8(t,e,n){const r=T8(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return E8[r]}function Kk(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function b8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Wk=Bk,Hk=zk,C8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Cl=new WeakMap,np=new WeakMap,rp={},zv=0,qk=function(t){return t&&(t.host||qk(t.parentNode))},I8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=qk(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},A8=function(t,e,n,r){var s=I8(e,Array.isArray(t)?t:[t]);rp[n]||(rp[n]=new WeakMap);var i=rp[n],o=[],a=new Set,l=new Set(s),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};s.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(p){if(a.has(p))u(p);else try{var g=p.getAttribute(r),w=g!==null&&g!=="false",v=(Cl.get(p)||0)+1,E=(i.get(p)||0)+1;Cl.set(p,v),i.set(p,E),o.push(p),v===1&&w&&np.set(p,!0),E===1&&p.setAttribute(n,"true"),w||p.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",p,_)}})};return u(e),a.clear(),zv++,function(){o.forEach(function(d){var p=Cl.get(d)-1,g=i.get(d)-1;Cl.set(d,p),i.set(d,g),p||(np.has(d)||d.removeAttribute(r),np.delete(d)),g||d.removeAttribute(n)}),zv--,zv||(Cl=new WeakMap,Cl=new WeakMap,np=new WeakMap,rp={})}},fE=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=C8(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),A8(r,s,n,"aria-hidden")):function(){return null}},Fp="right-scroll-bar-position",Up="width-before-scroll-bar",P8="with-scroll-bars-hidden",R8="--removed-body-scroll-bar-size";function Kv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function N8(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var D8=typeof window<"u"?m.useLayoutEffect:m.useEffect,yI=new WeakMap;function k8(t,e){var n=N8(null,function(r){return t.forEach(function(s){return Kv(s,r)})});return D8(function(){var r=yI.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Kv(a,null)}),i.forEach(function(a){s.has(a)||Kv(a,o)})}yI.set(n,t)},[t]),n}function M8(t){return t}function O8(t,e){e===void 0&&(e=M8);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return s}function L8(t){t===void 0&&(t={});var e=O8(null);return e.options=Ds({async:!0,ssr:!1},t),e}var Gk=function(t){var e=t.sideCar,n=Fh(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Ds({},n))};Gk.isSideCarExport=!0;function j8(t,e){return t.useMedium(e),Gk}var Qk=L8(),Wv=function(){},Xg=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:Wv,onWheelCapture:Wv,onTouchMoveCapture:Wv}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,p=t.sideCar,g=t.noIsolation,w=t.inert,v=t.allowPinchZoom,E=t.as,_=E===void 0?"div":E,y=t.gapMode,S=Fh(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=p,D=k8([n,e]),O=Ds(Ds({},S),s);return m.createElement(m.Fragment,null,u&&m.createElement(A,{sideCar:Qk,removeScrollBar:c,shards:d,noIsolation:g,inert:w,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:y}),o?m.cloneElement(m.Children.only(a),Ds(Ds({},O),{ref:D})):m.createElement(_,Ds({},O,{className:l,ref:D}),a))});Xg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Xg.classNames={fullWidth:Up,zeroRight:Fp};var V8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function F8(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=V8();return e&&t.setAttribute("nonce",e),t}function U8(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function B8(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var $8=function(){var t=0,e=null;return{add:function(n){t==0&&(e=F8())&&(U8(e,n),B8(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},z8=function(){var t=$8();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Yk=function(){var t=z8(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},K8={left:0,top:0,right:0,gap:0},Hv=function(t){return parseInt(t||"",10)||0},W8=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Hv(n),Hv(r),Hv(s)]},H8=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return K8;var e=W8(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},q8=Yk(),lc="data-scroll-locked",G8=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(P8,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(lc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fp,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Up,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Fp," .").concat(Fp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Up," .").concat(Up,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(lc,`] {
    `).concat(R8,": ").concat(a,`px;
  }
`)},vI=function(){var t=parseInt(document.body.getAttribute(lc)||"0",10);return isFinite(t)?t:0},Q8=function(){m.useEffect(function(){return document.body.setAttribute(lc,(vI()+1).toString()),function(){var t=vI()-1;t<=0?document.body.removeAttribute(lc):document.body.setAttribute(lc,t.toString())}},[])},Y8=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Q8();var i=m.useMemo(function(){return H8(s)},[s]);return m.createElement(q8,{styles:G8(i,!e,s,n?"":"!important")})},O0=!1;if(typeof window<"u")try{var sp=Object.defineProperty({},"passive",{get:function(){return O0=!0,!0}});window.addEventListener("test",sp,sp),window.removeEventListener("test",sp,sp)}catch{O0=!1}var Il=O0?{passive:!1}:!1,X8=function(t){return t.tagName==="TEXTAREA"},Xk=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!X8(t)&&n[e]==="visible")},J8=function(t){return Xk(t,"overflowY")},Z8=function(t){return Xk(t,"overflowX")},wI=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Jk(t,r);if(s){var i=Zk(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},e7=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},t7=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Jk=function(t,e){return t==="v"?J8(e):Z8(e)},Zk=function(t,e){return t==="v"?e7(e):t7(e)},n7=function(t,e){return t==="h"&&e==="rtl"?-1:1},r7=function(t,e,n,r,s){var i=n7(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,p=0;do{var g=Zk(t,a),w=g[0],v=g[1],E=g[2],_=v-E-i*w;(w||_)&&Jk(t,a)&&(d+=_,p+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(d)<1||!s)||!u&&(Math.abs(p)<1||!s))&&(c=!0),c},ip=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},_I=function(t){return[t.deltaX,t.deltaY]},xI=function(t){return t&&"current"in t?t.current:t},s7=function(t,e){return t[0]===e[0]&&t[1]===e[1]},i7=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},o7=0,Al=[];function a7(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(o7++)[0],i=m.useState(Yk)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=Y3([t.lockRef.current],(t.shards||[]).map(xI),!0).filter(Boolean);return v.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(v,E){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var _=ip(v),y=n.current,S="deltaX"in v?v.deltaX:y[0]-_[0],A="deltaY"in v?v.deltaY:y[1]-_[1],D,O=v.target,C=Math.abs(S)>Math.abs(A)?"h":"v";if("touches"in v&&C==="h"&&O.type==="range")return!1;var T=wI(C,O);if(!T)return!0;if(T?D=C:(D=C==="v"?"h":"v",T=wI(C,O)),!T)return!1;if(!r.current&&"changedTouches"in v&&(S||A)&&(r.current=D),!D)return!0;var I=r.current||D;return r7(I,E,v,I==="h"?S:A,!0)},[]),l=m.useCallback(function(v){var E=v;if(!(!Al.length||Al[Al.length-1]!==i)){var _="deltaY"in E?_I(E):ip(E),y=e.current.filter(function(D){return D.name===E.type&&(D.target===E.target||E.target===D.shadowParent)&&s7(D.delta,_)})[0];if(y&&y.should){E.cancelable&&E.preventDefault();return}if(!y){var S=(o.current.shards||[]).map(xI).filter(Boolean).filter(function(D){return D.contains(E.target)}),A=S.length>0?a(E,S[0]):!o.current.noIsolation;A&&E.cancelable&&E.preventDefault()}}},[]),c=m.useCallback(function(v,E,_,y){var S={name:v,delta:E,target:_,should:y,shadowParent:l7(_)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(A){return A!==S})},1)},[]),u=m.useCallback(function(v){n.current=ip(v),r.current=void 0},[]),d=m.useCallback(function(v){c(v.type,_I(v),v.target,a(v,t.lockRef.current))},[]),p=m.useCallback(function(v){c(v.type,ip(v),v.target,a(v,t.lockRef.current))},[]);m.useEffect(function(){return Al.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Il),document.addEventListener("touchmove",l,Il),document.addEventListener("touchstart",u,Il),function(){Al=Al.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,Il),document.removeEventListener("touchmove",l,Il),document.removeEventListener("touchstart",u,Il)}},[]);var g=t.removeScrollBar,w=t.inert;return m.createElement(m.Fragment,null,w?m.createElement(i,{styles:i7(s)}):null,g?m.createElement(Y8,{gapMode:t.gapMode}):null)}function l7(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const c7=j8(Qk,a7);var Jg=m.forwardRef(function(t,e){return m.createElement(Xg,Ds({},t,{ref:e,sideCar:c7}))});Jg.classNames=Xg.classNames;var L0=["Enter"," "],u7=["ArrowDown","PageUp","Home"],eM=["ArrowUp","PageDown","End"],d7=[...u7,...eM],h7={ltr:[...L0,"ArrowRight"],rtl:[...L0,"ArrowLeft"]},f7={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Qh="Menu",[rh,p7,m7]=zg(Qh),[ul,tM]=BW(Qh,[m7,su,Yg]),Zg=su(),nM=Yg(),[g7,dl]=ul(Qh),[y7,Yh]=ul(Qh),rM=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=Zg(e),[l,c]=m.useState(null),u=m.useRef(!1),d=kt(i),p=Kg(s);return m.useEffect(()=>{const g=()=>{u.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>u.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),f.jsx(cE,{...a,children:f.jsx(g7,{scope:e,open:n,onOpenChange:d,content:l,onContentChange:c,children:f.jsx(y7,{scope:e,onClose:m.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:p,modal:o,children:r})})})};rM.displayName=Qh;var v7="MenuAnchor",pE=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Zg(n);return f.jsx(uE,{...s,...r,ref:e})});pE.displayName=v7;var mE="MenuPortal",[w7,sM]=ul(mE,{forceMount:void 0}),iM=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=dl(mE,e);return f.jsx(w7,{scope:e,forceMount:n,children:f.jsx(Gh,{present:n||i.open,children:f.jsx(Fk,{asChild:!0,container:s,children:r})})})};iM.displayName=mE;var Hr="MenuContent",[_7,gE]=ul(Hr),oM=m.forwardRef((t,e)=>{const n=sM(Hr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=dl(Hr,t.__scopeMenu),o=Yh(Hr,t.__scopeMenu);return f.jsx(rh.Provider,{scope:t.__scopeMenu,children:f.jsx(Gh,{present:r||i.open,children:f.jsx(rh.Slot,{scope:t.__scopeMenu,children:o.modal?f.jsx(x7,{...s,ref:e}):f.jsx(E7,{...s,ref:e})})})})}),x7=m.forwardRef((t,e)=>{const n=dl(Hr,t.__scopeMenu),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return fE(i)},[]),f.jsx(yE,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ee(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),E7=m.forwardRef((t,e)=>{const n=dl(Hr,t.__scopeMenu);return f.jsx(yE,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),yE=m.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:p,onDismiss:g,disableOutsideScroll:w,...v}=t,E=dl(Hr,n),_=Yh(Hr,n),y=Zg(n),S=nM(n),A=p7(n),[D,O]=m.useState(null),C=m.useRef(null),T=ke(e,C,E.onContentChange),I=m.useRef(0),P=m.useRef(""),M=m.useRef(0),k=m.useRef(null),N=m.useRef("right"),H=m.useRef(0),ae=w?Jg:m.Fragment,te=w?{as:Lo,allowPinchZoom:!0}:void 0,ne=B=>{var ce,je;const Z=P.current+B,pe=A().filter(rt=>!rt.disabled),Te=document.activeElement,Ae=(ce=pe.find(rt=>rt.ref.current===Te))==null?void 0:ce.textValue,Xe=pe.map(rt=>rt.textValue),yt=M7(Xe,Z,Ae),We=(je=pe.find(rt=>rt.textValue===yt))==null?void 0:je.ref.current;(function rt(Ve){P.current=Ve,window.clearTimeout(I.current),Ve!==""&&(I.current=window.setTimeout(()=>rt(""),1e3))})(Z),We&&setTimeout(()=>We.focus())};m.useEffect(()=>()=>window.clearTimeout(I.current),[]),eE();const z=m.useCallback(B=>{var pe,Te;return N.current===((pe=k.current)==null?void 0:pe.side)&&L7(B,(Te=k.current)==null?void 0:Te.area)},[]);return f.jsx(_7,{scope:n,searchRef:P,onItemEnter:m.useCallback(B=>{z(B)&&B.preventDefault()},[z]),onItemLeave:m.useCallback(B=>{var Z;z(B)||((Z=C.current)==null||Z.focus(),O(null))},[z]),onTriggerLeave:m.useCallback(B=>{z(B)&&B.preventDefault()},[z]),pointerGraceTimerRef:M,onPointerGraceIntentChange:m.useCallback(B=>{k.current=B},[]),children:f.jsx(ae,{...te,children:f.jsx(Wg,{asChild:!0,trapped:s,onMountAutoFocus:ee(i,B=>{var Z;B.preventDefault(),(Z=C.current)==null||Z.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:f.jsx(vk,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:p,onDismiss:g,children:f.jsx(Wk,{asChild:!0,...S,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:D,onCurrentTabStopIdChange:O,onEntryFocus:ee(l,B=>{_.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:f.jsx(dE,{role:"menu","aria-orientation":"vertical","data-state":EM(E.open),"data-radix-menu-content":"",dir:_.dir,...y,...v,ref:T,style:{outline:"none",...v.style},onKeyDown:ee(v.onKeyDown,B=>{const pe=B.target.closest("[data-radix-menu-content]")===B.currentTarget,Te=B.ctrlKey||B.altKey||B.metaKey,Ae=B.key.length===1;pe&&(B.key==="Tab"&&B.preventDefault(),!Te&&Ae&&ne(B.key));const Xe=C.current;if(B.target!==Xe||!d7.includes(B.key))return;B.preventDefault();const We=A().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);eM.includes(B.key)&&We.reverse(),D7(We)}),onBlur:ee(t.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(I.current),P.current="")}),onPointerMove:ee(t.onPointerMove,sh(B=>{const Z=B.target,pe=H.current!==B.clientX;if(B.currentTarget.contains(Z)&&pe){const Te=B.clientX>H.current?"right":"left";N.current=Te,H.current=B.clientX}}))})})})})})})});oM.displayName=Hr;var T7="MenuGroup",vE=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(xe.div,{role:"group",...r,ref:e})});vE.displayName=T7;var S7="MenuLabel",aM=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(xe.div,{...r,ref:e})});aM.displayName=S7;var Fm="MenuItem",EI="menu.itemSelect",ey=m.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=m.useRef(null),o=Yh(Fm,t.__scopeMenu),a=gE(Fm,t.__scopeMenu),l=ke(e,i),c=m.useRef(!1),u=()=>{const d=i.current;if(!n&&d){const p=new CustomEvent(EI,{bubbles:!0,cancelable:!0});d.addEventListener(EI,g=>r==null?void 0:r(g),{once:!0}),cl(d,p),p.defaultPrevented?c.current=!1:o.onClose()}};return f.jsx(lM,{...s,ref:l,disabled:n,onClick:ee(t.onClick,u),onPointerDown:d=>{var p;(p=t.onPointerDown)==null||p.call(t,d),c.current=!0},onPointerUp:ee(t.onPointerUp,d=>{var p;c.current||(p=d.currentTarget)==null||p.click()}),onKeyDown:ee(t.onKeyDown,d=>{const p=a.searchRef.current!=="";n||p&&d.key===" "||L0.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});ey.displayName=Fm;var lM=m.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=gE(Fm,n),a=nM(n),l=m.useRef(null),c=ke(e,l),[u,d]=m.useState(!1),[p,g]=m.useState("");return m.useEffect(()=>{const w=l.current;w&&g((w.textContent??"").trim())},[i.children]),f.jsx(rh.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:f.jsx(Hk,{asChild:!0,...a,focusable:!r,children:f.jsx(xe.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:ee(t.onPointerMove,sh(w=>{r?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ee(t.onPointerLeave,sh(w=>o.onItemLeave(w))),onFocus:ee(t.onFocus,()=>d(!0)),onBlur:ee(t.onBlur,()=>d(!1))})})})}),b7="MenuCheckboxItem",cM=m.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return f.jsx(pM,{scope:t.__scopeMenu,checked:n,children:f.jsx(ey,{role:"menuitemcheckbox","aria-checked":Um(n)?"mixed":n,...s,ref:e,"data-state":_E(n),onSelect:ee(s.onSelect,()=>r==null?void 0:r(Um(n)?!0:!n),{checkForDefaultPrevented:!1})})})});cM.displayName=b7;var uM="MenuRadioGroup",[C7,I7]=ul(uM,{value:void 0,onValueChange:()=>{}}),dM=m.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=kt(r);return f.jsx(C7,{scope:t.__scopeMenu,value:n,onValueChange:i,children:f.jsx(vE,{...s,ref:e})})});dM.displayName=uM;var hM="MenuRadioItem",fM=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=I7(hM,t.__scopeMenu),i=n===s.value;return f.jsx(pM,{scope:t.__scopeMenu,checked:i,children:f.jsx(ey,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":_E(i),onSelect:ee(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});fM.displayName=hM;var wE="MenuItemIndicator",[pM,A7]=ul(wE,{checked:!1}),mM=m.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=A7(wE,n);return f.jsx(Gh,{present:r||Um(i.checked)||i.checked===!0,children:f.jsx(xe.span,{...s,ref:e,"data-state":_E(i.checked)})})});mM.displayName=wE;var P7="MenuSeparator",gM=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(xe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});gM.displayName=P7;var R7="MenuArrow",yM=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Zg(n);return f.jsx(hE,{...s,...r,ref:e})});yM.displayName=R7;var N7="MenuSub",[Wue,vM]=ul(N7),Xu="MenuSubTrigger",wM=m.forwardRef((t,e)=>{const n=dl(Xu,t.__scopeMenu),r=Yh(Xu,t.__scopeMenu),s=vM(Xu,t.__scopeMenu),i=gE(Xu,t.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},u=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>u,[u]),m.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),f.jsx(pE,{asChild:!0,...c,children:f.jsx(lM,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":EM(n.open),...t,ref:$g(e,s.onTriggerChange),onClick:d=>{var p;(p=t.onClick)==null||p.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ee(t.onPointerMove,sh(d=>{i.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:ee(t.onPointerLeave,sh(d=>{var g,w;u();const p=(g=n.content)==null?void 0:g.getBoundingClientRect();if(p){const v=(w=n.content)==null?void 0:w.dataset.side,E=v==="right",_=E?-5:5,y=p[E?"left":"right"],S=p[E?"right":"left"];i.onPointerGraceIntentChange({area:[{x:d.clientX+_,y:d.clientY},{x:y,y:p.top},{x:S,y:p.top},{x:S,y:p.bottom},{x:y,y:p.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(d),d.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ee(t.onKeyDown,d=>{var g;const p=i.searchRef.current!=="";t.disabled||p&&d.key===" "||h7[r.dir].includes(d.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),d.preventDefault())})})})});wM.displayName=Xu;var _M="MenuSubContent",xM=m.forwardRef((t,e)=>{const n=sM(Hr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=dl(Hr,t.__scopeMenu),o=Yh(Hr,t.__scopeMenu),a=vM(_M,t.__scopeMenu),l=m.useRef(null),c=ke(e,l);return f.jsx(rh.Provider,{scope:t.__scopeMenu,children:f.jsx(Gh,{present:r||i.open,children:f.jsx(rh.Slot,{scope:t.__scopeMenu,children:f.jsx(yE,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;o.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:ee(t.onFocusOutside,u=>{u.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ee(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:ee(t.onKeyDown,u=>{var g;const d=u.currentTarget.contains(u.target),p=f7[o.dir].includes(u.key);d&&p&&(i.onOpenChange(!1),(g=a.trigger)==null||g.focus(),u.preventDefault())})})})})})});xM.displayName=_M;function EM(t){return t?"open":"closed"}function Um(t){return t==="indeterminate"}function _E(t){return Um(t)?"indeterminate":t?"checked":"unchecked"}function D7(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function k7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function M7(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=k7(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function O7(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function L7(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return O7(n,e)}function sh(t){return e=>e.pointerType==="mouse"?t(e):void 0}var j7=rM,V7=pE,F7=iM,U7=oM,B7=vE,$7=aM,z7=ey,K7=cM,W7=dM,H7=fM,q7=mM,G7=gM,Q7=yM,Y7=wM,X7=xM,xE="DropdownMenu",[J7,Hue]=kW(xE,[tM]),nr=tM(),[Z7,TM]=J7(xE),SM=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=nr(e),c=m.useRef(null),[u=!1,d]=Oo({prop:s,defaultProp:i,onChange:o});return f.jsx(Z7,{scope:e,triggerId:fs(),triggerRef:c,contentId:fs(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(p=>!p),[d]),modal:a,children:f.jsx(j7,{...l,open:u,onOpenChange:d,dir:r,modal:a,children:n})})};SM.displayName=xE;var bM="DropdownMenuTrigger",CM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=TM(bM,n),o=nr(n);return f.jsx(V7,{asChild:!0,...o,children:f.jsx(xe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:$g(e,i.triggerRef),onPointerDown:ee(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:ee(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});CM.displayName=bM;var eq="DropdownMenuPortal",IM=t=>{const{__scopeDropdownMenu:e,...n}=t,r=nr(e);return f.jsx(F7,{...r,...n})};IM.displayName=eq;var AM="DropdownMenuContent",PM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=TM(AM,n),i=nr(n),o=m.useRef(!1);return f.jsx(U7,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:ee(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ee(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!s.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});PM.displayName=AM;var tq="DropdownMenuGroup",nq=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx(B7,{...s,...r,ref:e})});nq.displayName=tq;var rq="DropdownMenuLabel",RM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx($7,{...s,...r,ref:e})});RM.displayName=rq;var sq="DropdownMenuItem",NM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx(z7,{...s,...r,ref:e})});NM.displayName=sq;var iq="DropdownMenuCheckboxItem",DM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx(K7,{...s,...r,ref:e})});DM.displayName=iq;var oq="DropdownMenuRadioGroup",aq=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx(W7,{...s,...r,ref:e})});aq.displayName=oq;var lq="DropdownMenuRadioItem",kM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx(H7,{...s,...r,ref:e})});kM.displayName=lq;var cq="DropdownMenuItemIndicator",MM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx(q7,{...s,...r,ref:e})});MM.displayName=cq;var uq="DropdownMenuSeparator",OM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx(G7,{...s,...r,ref:e})});OM.displayName=uq;var dq="DropdownMenuArrow",hq=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx(Q7,{...s,...r,ref:e})});hq.displayName=dq;var fq="DropdownMenuSubTrigger",LM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx(Y7,{...s,...r,ref:e})});LM.displayName=fq;var pq="DropdownMenuSubContent",jM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=nr(n);return f.jsx(X7,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jM.displayName=pq;var mq=SM,gq=CM,yq=IM,VM=PM,FM=RM,UM=NM,BM=DM,$M=kM,zM=MM,KM=OM,WM=LM,HM=jM;function qM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=qM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function vq(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=qM(t))&&(r&&(r+=" "),r+=e);return r}const EE="-",wq=t=>{const e=xq(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(EE);return a[0]===""&&a.length!==1&&a.shift(),GM(a,e)||_q(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},GM=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?GM(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(EE);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},TI=/^\[(.+)\]$/,_q=t=>{if(TI.test(t)){const e=TI.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},xq=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Tq(Object.entries(t.classGroups),n).forEach(([i,o])=>{j0(o,r,i,e)}),r},j0=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:SI(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(Eq(s)){j0(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{j0(o,SI(e,i),n,r)})})},SI=(t,e)=>{let n=t;return e.split(EE).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Eq=t=>t.isThemeGetter,Tq=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,Sq=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},QM="!",bq=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let E=0;E<a.length;E++){let _=a[E];if(c===0){if(_===s&&(r||a.slice(E,E+i)===e)){l.push(a.slice(u,E)),u=E+i;continue}if(_==="/"){d=E;continue}}_==="["?c++:_==="]"&&c--}const p=l.length===0?a:a.substring(u),g=p.startsWith(QM),w=g?p.substring(1):p,v=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:w,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},Cq=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Iq=t=>({cache:Sq(t.cacheSize),parseClassName:bq(t),...wq(t)}),Aq=/\s+/,Pq=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(Aq);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:g}=n(c);let w=!!g,v=r(w?p.substring(0,g):p);if(!v){if(!w){a=c+(a.length>0?" "+a:a);continue}if(v=r(p),!v){a=c+(a.length>0?" "+a:a);continue}w=!1}const E=Cq(u).join(":"),_=d?E+QM:E,y=_+v;if(i.includes(y))continue;i.push(y);const S=s(v,w);for(let A=0;A<S.length;++A){const D=S[A];i.push(_+D)}a=c+(a.length>0?" "+a:a)}return a};function Rq(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=YM(e))&&(r&&(r+=" "),r+=n);return r}const YM=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=YM(t[r]))&&(n&&(n+=" "),n+=e);return n};function Nq(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=Iq(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=Pq(l,n);return s(l,u),u}return function(){return i(Rq.apply(null,arguments))}}const Ct=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},XM=/^\[(?:([a-z-]+):)?(.+)\]$/i,Dq=/^\d+\/\d+$/,kq=new Set(["px","full","screen"]),Mq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Oq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Lq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,jq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Vq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qs=t=>cc(t)||kq.has(t)||Dq.test(t),$i=t=>iu(t,"length",Hq),cc=t=>!!t&&!Number.isNaN(Number(t)),qv=t=>iu(t,"number",cc),Vu=t=>!!t&&Number.isInteger(Number(t)),Fq=t=>t.endsWith("%")&&cc(t.slice(0,-1)),Fe=t=>XM.test(t),zi=t=>Mq.test(t),Uq=new Set(["length","size","percentage"]),Bq=t=>iu(t,Uq,JM),$q=t=>iu(t,"position",JM),zq=new Set(["image","url"]),Kq=t=>iu(t,zq,Gq),Wq=t=>iu(t,"",qq),Fu=()=>!0,iu=(t,e,n)=>{const r=XM.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Hq=t=>Oq.test(t)&&!Lq.test(t),JM=()=>!1,qq=t=>jq.test(t),Gq=t=>Vq.test(t),Qq=()=>{const t=Ct("colors"),e=Ct("spacing"),n=Ct("blur"),r=Ct("brightness"),s=Ct("borderColor"),i=Ct("borderRadius"),o=Ct("borderSpacing"),a=Ct("borderWidth"),l=Ct("contrast"),c=Ct("grayscale"),u=Ct("hueRotate"),d=Ct("invert"),p=Ct("gap"),g=Ct("gradientColorStops"),w=Ct("gradientColorStopPositions"),v=Ct("inset"),E=Ct("margin"),_=Ct("opacity"),y=Ct("padding"),S=Ct("saturate"),A=Ct("scale"),D=Ct("sepia"),O=Ct("skew"),C=Ct("space"),T=Ct("translate"),I=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Fe,e],k=()=>[Fe,e],N=()=>["",Qs,$i],H=()=>["auto",cc,Fe],ae=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",Fe],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],pe=()=>[cc,Fe];return{cacheSize:500,separator:":",theme:{colors:[Fu],spacing:[Qs,$i],blur:["none","",zi,Fe],brightness:pe(),borderColor:[t],borderRadius:["none","","full",zi,Fe],borderSpacing:k(),borderWidth:N(),contrast:pe(),grayscale:B(),hueRotate:pe(),invert:B(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[Fq,$i],inset:M(),margin:M(),opacity:pe(),padding:k(),saturate:pe(),scale:pe(),sepia:B(),skew:pe(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",Fe]}],container:["container"],columns:[{columns:[zi]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ae(),Fe]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vu,Fe]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Fe]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Vu,Fe]}],"grid-cols":[{"grid-cols":[Fu]}],"col-start-end":[{col:["auto",{span:["full",Vu,Fe]},Fe]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Fu]}],"row-start-end":[{row:["auto",{span:[Vu,Fe]},Fe]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Fe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Fe,e]}],"min-w":[{"min-w":[Fe,e,"min","max","fit"]}],"max-w":[{"max-w":[Fe,e,"none","full","min","max","fit","prose",{screen:[zi]},zi]}],h:[{h:[Fe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Fe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Fe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Fe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",zi,$i]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qv]}],"font-family":[{font:[Fu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Fe]}],"line-clamp":[{"line-clamp":["none",cc,qv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qs,Fe]}],"list-image":[{"list-image":["none",Fe]}],"list-style-type":[{list:["none","disc","decimal",Fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qs,$i]}],"underline-offset":[{"underline-offset":["auto",Qs,Fe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ae(),$q]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Bq]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Kq]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:te()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[Qs,Fe]}],"outline-w":[{outline:[Qs,$i]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Qs,$i]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",zi,Wq]}],"shadow-color":[{shadow:[Fu]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",zi,Fe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[S]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Fe]}],duration:[{duration:pe()}],ease:[{ease:["linear","in","out","in-out",Fe]}],delay:[{delay:pe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Vu,Fe]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Fe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Fe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Fe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Qs,$i,qv]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Yq=Nq(Qq);function de(...t){return Yq(vq(t))}const ty=mq,ny=gq,Xq=m.forwardRef(({className:t,inset:e,children:n,...r},s)=>f.jsxs(WM,{ref:s,className:de("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,f.jsx(ck,{className:"ml-auto h-4 w-4"})]}));Xq.displayName=WM.displayName;const Jq=m.forwardRef(({className:t,...e},n)=>f.jsx(HM,{ref:n,className:de("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Jq.displayName=HM.displayName;const Xh=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(yq,{children:f.jsx(VM,{ref:r,sideOffset:e,className:de("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Xh.displayName=VM.displayName;const go=m.forwardRef(({className:t,inset:e,...n},r)=>f.jsx(UM,{ref:r,className:de("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));go.displayName=UM.displayName;const Zq=m.forwardRef(({className:t,children:e,checked:n,...r},s)=>f.jsxs(BM,{ref:s,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(zM,{children:f.jsx(ak,{className:"h-4 w-4"})})}),e]}));Zq.displayName=BM.displayName;const eG=m.forwardRef(({className:t,children:e,...n},r)=>f.jsxs($M,{ref:r,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(zM,{children:f.jsx(yW,{className:"h-2 w-2 fill-current"})})}),e]}));eG.displayName=$M.displayName;const ZM=m.forwardRef(({className:t,inset:e,...n},r)=>f.jsx(FM,{ref:r,className:de("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));ZM.displayName=FM.displayName;const TE=m.forwardRef(({className:t,...e},n)=>f.jsx(KM,{ref:n,className:de("-mx-1 my-1 h-px bg-muted",t),...e}));TE.displayName=KM.displayName;const tG=t=>Object.entries(t).map(([e,n])=>({id:Date.now().toString(),key:e,value:n})),nG=t=>t<1024?t+" bytes":t<1048576?(t/1024).toFixed(1)+" KB":(t/1048576).toFixed(1)+" MB",ih=t=>{try{const e=decodeURIComponent(t),n=e.lastIndexOf("/")+1,r=e.indexOf("?alt=");return n!==-1&&r!==-1?e.substring(n,r):null}catch(e){return console.error("Failed to extract filename:",e),null}},SE=t=>t&&t.charAt(0).toUpperCase()+t.slice(1);function eO(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=eO(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function rG(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=eO(t))&&(r&&(r+=" "),r+=e);return r}const bI=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,CI=rG,Jh=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return CI(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],d=i==null?void 0:i[c];if(u===null)return null;const p=bI(u)||bI(d);return s[c][p]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,p]=u;return p===void 0||(c[d]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:p,...g}=u;return Object.entries(g).every(w=>{let[v,E]=w;return Array.isArray(E)?E.includes({...i,...a}[v]):{...i,...a}[v]===E})?[...c,d,p]:c},[]);return CI(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},sG=Jh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Zh({className:t,variant:e,...n}){return f.jsx("div",{className:de(sG({variant:e}),t),...n})}const iG=({children:t,text:e})=>{const n=Kh(),r=Pt(o=>o.admin),s=Pt(o=>o.logout),i=o=>{switch(o){case"admin":return f.jsx(CW,{className:"mr-2 h-4 w-4"});case"editor":return f.jsx(IW,{className:"mr-2 h-4 w-4"});case"viewer":return f.jsx(Xx,{className:"mr-2 h-4 w-4"})}};return r?f.jsxs("header",{className:"w-full flex flex-col items-center ",children:[f.jsxs("div",{className:"w-full px-8 h-14 flex items-center justify-between",children:[f.jsx("p",{children:e}),f.jsxs(ty,{children:[f.jsx(ny,{asChild:!0,children:f.jsx("div",{className:"hover:bg-slate-200 rounded-lg p-2 cursor-pointer",children:f.jsx(RW,{})})}),f.jsxs(Xh,{align:"end",className:"w-64 bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[f.jsx(ZM,{className:"font-normal",children:f.jsxs("div",{className:"flex flex-col space-y-1",children:[f.jsx("p",{className:"text-sm font-medium truncate leading-tight",title:r.email,children:r.email}),f.jsxs("div",{className:"flex items-center pt-1",children:[i(r.role),f.jsx(Zh,{variant:"secondary",className:de("flex w-16 items-center justify-center pointer-events-none select-none",r.role==="admin"&&"bg-red-200 text-red-800",r.role==="editor"&&"bg-blue-200 text-blue-800",r.role==="viewer"&&"bg-green-200 text-green-800"),children:SE(r.role)})]})]})}),f.jsx(TE,{}),f.jsxs(go,{onClick:s,className:"flex items-center",children:[f.jsx(TW,{className:"mr-2 h-4 w-4"}),f.jsx("span",{children:"Log out"})]})]})]})]}),t]}):n("/login")},oG=({Component:t})=>f.jsx("div",{className:"flex-1 flex justify-center =py-3",children:f.jsx(t,{})}),aG=({headerText:t})=>f.jsx("header",{className:"py-4 text-3xl font-semibold w-full",children:t});function Gv(){return Date.now().toString()}const Nt=()=>{const t=new Date,e={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};return t.toLocaleDateString("en-US",e)},Qv="https://chatbot-api-0zup.onrender.com",ry=async(t,e)=>{const{method:n="GET",headers:r={},body:s}=e,{accessToken:i,setAccessToken:o,logout:a}=Pt.getState(),l={method:n,credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer ${i}`,...r},...s&&{body:JSON.stringify(s)}};try{let c=await fetch(`${Qv}${t}`,l);if(c.status===401){gt("Fetching new access token");const d=await fetch(`${Qv}/api/auth/refresh-token`,{method:"POST",credentials:"include"});d.status===404&&a();const{accessToken:p}=await d.json();o(p),l.headers={...l.headers,authorization:`Bearer ${p}`},c=await fetch(`${Qv}${t}`,l)}return await c.json()}catch(c){throw console.error("Request failed:",c),c}},bE=(t,e)=>ry(t,{method:"GET",headers:e}),ou=(t,e,n)=>ry(t,{method:"POST",headers:e,body:n}),sy=(t,e,n)=>ry(t,{method:"PUT",headers:e,body:n}),CE=(t,e,n)=>ry(t,{method:"DELETE",headers:e,body:n}),lG=async t=>{const e={userQuery:t},{success:n,response:r}=await ou("/api/chatbot/query-admin",{},e);if(!n)throw new Error(`Sending query to chatbot was unsuccessful: ${r}`);return r},cG=async()=>{const{success:t,response:e}=await ou("/api/chatbot/train",{});if(!t)throw new Error(`Training model is unsuccessful: ${e}`)},tO=()=>e=>new Promise(n=>{setTimeout(n,e)}),uG=()=>{const t=tO(),[e,n]=m.useState([]),[r,s]=m.useState(null),[i,o]=m.useState(!1),a=m.useRef(null),l=()=>{var v;(v=a.current)==null||v.scrollIntoView({behavior:"smooth"})};m.useEffect(()=>{l()},[e]);const c=v=>v.replace(/\[=[^\]]+=\]/g,"").trim(),u=v=>{var _;const E=/\[\=([^\]]+)\=\]/;if(E.test(v)){const y=v.match(E);if(y){const S=(_=ih(y[1]))==null?void 0:_.split(".")[1];return{type:"file",source:y[1],fileType:S??"unknown"}}}},d=v=>{const E={uuid:Gv(),text:v,sender:"user"};n(_=>[..._,E])},p=v=>{const E={uuid:Gv(),text:v.answer,sender:"bot",response:v};s(v),i||o(!0),n(_=>[..._,E])},g=(v,E)=>{const _={uuid:Gv(),sender:"bot",fileData:{source:v,type:E}};n(y=>[...y,_])};return{messageHistory:e,handleSubmitMessage:async v=>{try{if(!v)throw new Error("Message is empty");d(v);const E=await lG(v),_=u(E.answer);if(!_){p(E);return}const y=c(E.answer),S={...E,answer:y};p(S),await t(1e3),_.type==="file"&&g(_.source,_.fileType)}catch(E){if(E instanceof Error){gt(E.message,!0);return}console.error("Unknown error occured: ",E)}},endOfMessagesRef:a,selectedResponse:r,setSelectedResponse:s,isInfoPanelOpen:i,setIsInfoPanelOpen:o}};var IE="Progress",AE=100,[dG,que]=tu(IE),[hG,fG]=dG(IE),nO=m.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=pG,...o}=t;(s||s===0)&&!II(s)&&console.error(mG(`${s}`,"Progress"));const a=II(s)?s:AE;r!==null&&!AI(r,a)&&console.error(gG(`${r}`,"Progress"));const l=AI(r,a)?r:null,c=Bm(l)?i(l,a):void 0;return f.jsx(hG,{scope:n,value:l,max:a,children:f.jsx(xe.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Bm(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":iO(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});nO.displayName=IE;var rO="ProgressIndicator",sO=m.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=fG(rO,n);return f.jsx(xe.div,{"data-state":iO(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});sO.displayName=rO;function pG(t,e){return`${Math.round(t/e*100)}%`}function iO(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Bm(t){return typeof t=="number"}function II(t){return Bm(t)&&!isNaN(t)&&t>0}function AI(t,e){return Bm(t)&&!isNaN(t)&&t<=e&&t>=0}function mG(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${AE}\`.`}function gG(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${AE} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var oO=nO,yG=sO;const aO=m.forwardRef(({className:t,value:e,...n},r)=>f.jsx(oO,{ref:r,className:de("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:f.jsx(yG,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));aO.displayName=oO.displayName;const vG=({responseData:t,showPanel:e})=>{var r,s,i;const n=()=>t==null?void 0:t.classifications.slice(0,3).filter(a=>a.intent!=="None"&&a.score>0);return f.jsx("div",{className:`bg-gray-50  transition-all duration-300 ease-in-out overflow-hidden ${e?"w-64 border-l border-neutral-200":"w-0"}`,children:f.jsx("div",{className:"w-64 h-full",children:f.jsxs("div",{className:de(`p-4 h-full flex flex-col transition-opacity duration-300,
            showPanel ? "opacity-100" : "opacity-0"
            }`),children:[f.jsxs("h2",{className:"text-lg font-semibold text-gray-700 mb-4 flex items-center",children:[f.jsx(wW,{className:"w-5 h-5 mr-2"}),"Bot Response Info"]}),t?f.jsxs("div",{className:"space-y-4 flex-grow",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"flex items-center justify-between space-x-2 text-sm font-medium text-gray-700 mb-1",children:[f.jsx("p",{children:"Confidence Score "}),f.jsxs("div",{className:"flex items-center",children:[f.jsx(AW,{className:"size-4 mr-1 text-yellow-400 fill-yellow-400"}),f.jsx("span",{className:"text-sm font-medium text-gray-600",children:t.score.toFixed(2)})]})]}),f.jsx("div",{className:"flex items-center gap-2",children:f.jsx(aO,{value:t.score*100,className:"w-full"})})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Detected Intent"}),f.jsx(Zh,{variant:"outline",children:t==null?void 0:t.intent})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Other Possible Intents"}),f.jsx("ul",{className:de("list-disc space-y-1",((r=n())==null?void 0:r.length)&&"pl-5"),children:(s=n())!=null&&s.length?(i=n())==null?void 0:i.map((o,a)=>f.jsx("li",{className:"text-sm ",children:f.jsxs("div",{className:"line-clamp-3",children:[f.jsx("span",{children:o.intent}),f.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",o.score.toFixed(2),")"]})]})},a)):f.jsx("span",{className:"text-sm text-muted-foreground",children:"No other intents detected"})})]})]}):f.jsx("div",{className:"text-center text-gray-500",children:"No bot response yet. Start a conversation to see details."})]})})})},on=m.forwardRef(({className:t,type:e,...n},r)=>f.jsx("input",{type:e,className:de("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));on.displayName="Input";const PE=Jh("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ct=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Lo:"button";return f.jsx(o,{className:de(PE({variant:e,size:n,className:t})),ref:i,...s})});ct.displayName="Button";const wG=({onSendMessage:t})=>{const[e,n]=m.useState(""),[r,s]=m.useState([]),[i,o]=m.useState(-1),a=d=>{s(p=>{const g=[...p,d];return g.length>3?g.slice(1):g})},l=d=>{n(d.target.value),o(-1)},c=async()=>{const d=e;a(d),n(""),await t(d)},u=async d=>{d.key==="Enter"&&e.trim()!==""&&await c(),d.key==="ArrowUp"&&(i>0?(o(i-1),n(r[i-1])):i===-1&&r.length>0&&(o(r.length-1),n(r[r.length-1]))),d.key==="ArrowDown"&&(i<r.length-1?(o(i+1),n(r[i+1])):(o(-1),n("")))};return f.jsxs("div",{className:"w-full h-[5rem] border-t border-t-customBorderColor flex items-center justify-between px-4 space-x-2",children:[f.jsx(on,{placeholder:"Type message here",value:e,onChange:l,onKeyDown:u}),f.jsxs(ct,{onClick:async()=>await c(),children:[f.jsx(mk,{className:"size-4 mr-2"}),"Send"]})]})},_G=["png","jpg","jpeg","jfif"],xG=["mp4"],EG=["pdf"],TG=({message:t,onItemClick:e})=>{const n=s=>/{=([^{}]+)=}/.test(s),r=s=>{const i=/\[=(.*?)=]/,o=s.match(i),a=/{=([^{}]+)=}/,l=s.match(a),c=/<([^<>]+)>/,u=s.match(c);if(o){const d=o[1],p=s.replace(i,"").trim();return{link:d,text:p}}else if(l&&u){const d=l[1],p=u[1];return{link:s.replace(a,`<a href="${d}" class="font-semibold text-primary dark:text-secondary hover:underline" target="_blank">${p}</a>`).replace(c,"").trim()}}else if(l){const d=l[1];return{link:s.replace(a,`<a href="${d}" class="font-semibold text-primary dark:text-secondary hover:underline" target="_blank">Click here</a>`).trim()}}return{link:"",linkMessage:null,text:s.trim()}};if("fileData"in t){const{source:s,type:i}=t.fileData,o=a=>{if(_G.includes(a))return f.jsx("img",{className:"w-72 rounded-2xl",src:s});if(xG.includes(a))return f.jsx("video",{width:"288",height:"360",className:"rounded-2xl",controls:!0,children:f.jsx("source",{src:s,type:"video/mp4"})});if(EG.includes(a))return f.jsxs("div",{className:"flex space-x-1.5 items-center w-fit rounded-tl-2xl rounded-tr-2xl py-2.5 px-4 text-blue-600 rounded-br-2xl rounded-bl-[2px] bg-gray-100 cursor-pointer",children:[f.jsx(fk,{className:"size-5"}),f.jsx("a",{href:s,target:"_blank",className:"hover:underline underline-offset-2",children:ih(s)??"click here"})]})};return f.jsx(f.Fragment,{children:o(i)})}if(n(t.text)){const{link:s}=r(t.text);return f.jsx("div",{className:"max-w-[80%] rounded-tl-2xl rounded-tr-2xl transition-colors ease-out whitespace-pre-wrap leading-relaxed py-2.5 px-4 rounded-br-2xl rounded-bl-[2px] bg-gray-100 cursor-pointer",dangerouslySetInnerHTML:{__html:s}})}if("text"in t&&"sender"in t||"response"in t){const{text:s,sender:i,response:o}=t;return f.jsx("div",{className:de("flex",i==="user"?"justify-end":"justify-start"),onClick:o?()=>e(o):void 0,children:f.jsx("div",{className:de("max-w-[80%] rounded-tl-2xl rounded-tr-2xl transition-colors ease-out whitespace-pre-wrap leading-relaxed",i==="user"?"text-white py-1.5 px-3.5 rounded-bl-2xl rounded-br-[4px] bg-blue-500":"py-2.5 px-4 rounded-br-2xl rounded-bl-[2px] bg-gray-100 cursor-pointer",o?"hover:bg-gray-200":""),children:s})})}return null},iy=({items:t,renderItem:e,listStyle:n})=>f.jsx("div",{className:n,children:t==null?void 0:t.map((r,s)=>f.jsx(m.Fragment,{children:e(r)},s))});function SG(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}function oh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const V0=t=>Array.isArray(t);function lO(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function ah(t){return typeof t=="string"||Array.isArray(t)}function PI(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function RE(t,e,n,r){if(typeof e=="function"){const[s,i]=PI(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=PI(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function oy(t,e,n){const r=t.getProps();return RE(r,e,n!==void 0?n:r.custom,t)}const NE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],DE=["initial",...NE],ef=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ea=new Set(ef),fi=t=>t*1e3,pi=t=>t/1e3,bG={type:"spring",stiffness:500,damping:25,restSpeed:10},CG=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),IG={type:"keyframes",duration:.8},AG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},PG=(t,{keyframes:e})=>e.length>2?IG:ea.has(t)?t.startsWith("scale")?CG(e[1]):bG:AG;function RG({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function kE(t,e){return t[e]||t.default||t}const NG={skipAnimations:!1,useManualTiming:!1},DG=t=>t!==null;function ay(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(DG),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const Un=t=>t;function kG(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){i.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,u=!1,d=!1)=>{const g=d&&r?e:n;return u&&i.add(c),g.has(c)||g.add(c),c},cancel:c=>{n.delete(c),i.delete(c)},process:c=>{if(o=c,r){s=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,s&&(s=!1,l.process(c))}};return l}const op=["read","resolveKeyframes","update","preRender","render","postRender"],MG=40;function cO(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=op.reduce((_,y)=>(_[y]=kG(i),_),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:p}=o,g=()=>{const _=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(_-s.timestamp,MG),1),s.timestamp=_,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),u.process(s),d.process(s),p.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(g))},w=()=>{n=!0,r=!0,s.isProcessing||t(g)};return{schedule:op.reduce((_,y)=>{const S=o[y];return _[y]=(A,D=!1,O=!1)=>(n||w(),S.schedule(A,D,O)),_},{}),cancel:_=>{for(let y=0;y<op.length;y++)o[op[y]].cancel(_)},state:s,steps:o}}const{schedule:dt,cancel:Ii,state:_n,steps:Yv}=cO(typeof requestAnimationFrame<"u"?requestAnimationFrame:Un,!0),uO=t=>/^0[^.\s]+$/u.test(t);function OG(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||uO(t):!0}let F0=Un;const dO=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),hO=t=>e=>typeof e=="string"&&e.startsWith(t),fO=hO("--"),LG=hO("var(--"),ME=t=>LG(t)?jG.test(t.split("/*")[0].trim()):!1,jG=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,VG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function FG(t){const e=VG.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function pO(t,e,n=1){const[r,s]=FG(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return dO(o)?parseFloat(o):o}return ME(s)?pO(s,e,n+1):s}const Bo=(t,e,n)=>n>e?e:n<t?t:n,au={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},gd={...au,transform:t=>Bo(0,1,t)},ap={...au,default:1},yd=t=>Math.round(t*1e5)/1e5,OE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,UG=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,BG=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function tf(t){return typeof t=="string"}function $G(t){return t==null}const nf=t=>({test:e=>tf(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Hi=nf("deg"),Fs=nf("%"),Ce=nf("px"),zG=nf("vh"),KG=nf("vw"),RI={...Fs,parse:t=>Fs.parse(t)/100,transform:t=>Fs.transform(t*100)},WG=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),NI=t=>t===au||t===Ce,DI=(t,e)=>parseFloat(t.split(", ")[e]),kI=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return DI(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?DI(i[1],t):0}},HG=new Set(["x","y","z"]),qG=ef.filter(t=>!HG.has(t));function GG(t){const e=[];return qG.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const jc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:kI(4,13),y:kI(5,14)};jc.translateX=jc.x;jc.translateY=jc.y;const mO=t=>e=>e.test(t),QG={test:t=>t==="auto",parse:t=>t},gO=[au,Ce,Fs,Hi,KG,zG,QG],MI=t=>gO.find(mO(t)),Fa=new Set;let U0=!1,B0=!1;function yO(){if(B0){const t=Array.from(Fa).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=GG(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}B0=!1,U0=!1,Fa.forEach(t=>t.complete()),Fa.clear()}function vO(){Fa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(B0=!0)})}function YG(){vO(),yO()}class LE{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Fa.add(this),U0||(U0=!0,dt.read(vO),dt.resolveKeyframes(yO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Fa.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Fa.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const jE=(t,e)=>n=>!!(tf(n)&&BG.test(n)&&n.startsWith(t)||e&&!$G(n)&&Object.prototype.hasOwnProperty.call(n,e)),wO=(t,e,n)=>r=>{if(!tf(r))return r;const[s,i,o,a]=r.match(OE);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},XG=t=>Bo(0,255,t),Xv={...au,transform:t=>Math.round(XG(t))},ba={test:jE("rgb","red"),parse:wO("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Xv.transform(t)+", "+Xv.transform(e)+", "+Xv.transform(n)+", "+yd(gd.transform(r))+")"};function JG(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const $0={test:jE("#"),parse:JG,transform:ba.transform},ql={test:jE("hsl","hue"),parse:wO("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Fs.transform(yd(e))+", "+Fs.transform(yd(n))+", "+yd(gd.transform(r))+")"},On={test:t=>ba.test(t)||$0.test(t)||ql.test(t),parse:t=>ba.test(t)?ba.parse(t):ql.test(t)?ql.parse(t):$0.parse(t),transform:t=>tf(t)?t:t.hasOwnProperty("red")?ba.transform(t):ql.transform(t)};function ZG(t){var e,n;return isNaN(t)&&tf(t)&&(((e=t.match(OE))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(UG))===null||n===void 0?void 0:n.length)||0)>0}const _O="number",xO="color",eQ="var",tQ="var(",OI="${}",nQ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function lh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(nQ,l=>(On.test(l)?(r.color.push(i),s.push(xO),n.push(On.parse(l))):l.startsWith(tQ)?(r.var.push(i),s.push(eQ),n.push(l)):(r.number.push(i),s.push(_O),n.push(parseFloat(l))),++i,OI)).split(OI);return{values:n,split:a,indexes:r,types:s}}function EO(t){return lh(t).values}function TO(t){const{split:e,types:n}=lh(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===_O?i+=yd(s[o]):a===xO?i+=On.transform(s[o]):i+=s[o]}return i}}const rQ=t=>typeof t=="number"?0:t;function sQ(t){const e=EO(t);return TO(t)(e.map(rQ))}const $o={test:ZG,parse:EO,createTransformer:TO,getAnimatableNone:sQ},iQ=new Set(["brightness","contrast","saturate","opacity"]);function oQ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(OE)||[];if(!r)return t;const s=n.replace(r,"");let i=iQ.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const aQ=/\b([a-z-]*)\(.*?\)/gu,z0={...$o,getAnimatableNone:t=>{const e=t.match(aQ);return e?e.map(oQ).join(" "):t}},LI={...au,transform:Math.round},VE={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,size:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,rotate:Hi,rotateX:Hi,rotateY:Hi,rotateZ:Hi,scale:ap,scaleX:ap,scaleY:ap,scaleZ:ap,skew:Hi,skewX:Hi,skewY:Hi,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:gd,originX:RI,originY:RI,originZ:Ce,zIndex:LI,backgroundPositionX:Ce,backgroundPositionY:Ce,fillOpacity:gd,strokeOpacity:gd,numOctaves:LI},lQ={...VE,color:On,backgroundColor:On,outlineColor:On,fill:On,stroke:On,borderColor:On,borderTopColor:On,borderRightColor:On,borderBottomColor:On,borderLeftColor:On,filter:z0,WebkitFilter:z0},FE=t=>lQ[t];function SO(t,e){let n=FE(t);return n!==z0&&(n=$o),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const cQ=new Set(["auto","none","0"]);function uQ(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!cQ.has(i)&&lh(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=SO(n,s)}class bO extends LE{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),ME(c))){const u=pO(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!WG.has(r)||e.length!==2)return;const[s,i]=e,o=MI(s),a=MI(i);if(o!==a)if(NI(o)&&NI(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)OG(e[s])&&r.push(s);r.length&&uQ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=jc[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function CO(t){let e;return()=>(e===void 0&&(e=t()),e)}let Bp;function dQ(){Bp=void 0}const Us={now:()=>(Bp===void 0&&Us.set(_n.isProcessing||NG.useManualTiming?_n.timestamp:performance.now()),Bp),set:t=>{Bp=t,queueMicrotask(dQ)}},jI=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&($o.test(t)||t==="0")&&!t.startsWith("url("));function hQ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function fQ(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=jI(s,e),a=jI(i,e);return!o||!a?!1:hQ(t)||n==="spring"&&r}const pQ=40;class IO{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Us.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>pQ?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&YG(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Us.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!fQ(e,r,s,i))if(o)this.options.duration=0;else{l==null||l(ay(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function AO(t,e){return e?t*(1e3/e):0}const mQ=5;function PO(t,e,n){const r=Math.max(e-mQ,0);return AO(n-t(r),e-r)}const Jv=.001,gQ=.01,yQ=10,vQ=.05,wQ=1;function _Q({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=Bo(vQ,wQ,o),t=Bo(gQ,yQ,pi(t)),o<1?(s=c=>{const u=c*o,d=u*t,p=u-n,g=K0(c,o),w=Math.exp(-d);return Jv-p/g*w},i=c=>{const d=c*o*t,p=d*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,w=Math.exp(-d),v=K0(Math.pow(c,2),o);return(-s(c)+Jv>0?-1:1)*((p-g)*w)/v}):(s=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-Jv+u*d},i=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=EQ(s,i,a);if(t=fi(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const xQ=12;function EQ(t,e,n){let r=n;for(let s=1;s<xQ;s++)r=r-t(r)/e(r);return r}function K0(t,e){return t*Math.sqrt(1-e*e)}const TQ=["duration","bounce"],SQ=["stiffness","damping","mass"];function VI(t,e){return e.some(n=>t[n]!==void 0)}function bQ(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!VI(t,SQ)&&VI(t,TQ)){const n=_Q(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function RO({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:c,duration:u,velocity:d,isResolvedFromDuration:p}=bQ({...r,velocity:-pi(r.velocity||0)}),g=d||0,w=l/(2*Math.sqrt(a*c)),v=i-s,E=pi(Math.sqrt(a/c)),_=Math.abs(v)<5;n||(n=_?.01:2),e||(e=_?.005:.5);let y;if(w<1){const S=K0(E,w);y=A=>{const D=Math.exp(-w*E*A);return i-D*((g+w*E*v)/S*Math.sin(S*A)+v*Math.cos(S*A))}}else if(w===1)y=S=>i-Math.exp(-E*S)*(v+(g+E*v)*S);else{const S=E*Math.sqrt(w*w-1);y=A=>{const D=Math.exp(-w*E*A),O=Math.min(S*A,300);return i-D*((g+w*E*v)*Math.sinh(O)+S*v*Math.cosh(O))/S}}return{calculatedDuration:p&&u||null,next:S=>{const A=y(S);if(p)o.done=S>=u;else{let D=0;w<1&&(D=S===0?fi(g):PO(y,S,A));const O=Math.abs(D)<=n,C=Math.abs(i-A)<=e;o.done=O&&C}return o.value=o.done?i:A,o}}}function FI({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],p={done:!1,value:d},g=T=>a!==void 0&&T<a||l!==void 0&&T>l,w=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let v=n*e;const E=d+v,_=o===void 0?E:o(E);_!==E&&(v=_-d);const y=T=>-v*Math.exp(-T/r),S=T=>_+y(T),A=T=>{const I=y(T),P=S(T);p.done=Math.abs(I)<=c,p.value=p.done?_:P};let D,O;const C=T=>{g(p.value)&&(D=T,O=RO({keyframes:[p.value,w(p.value)],velocity:PO(S,T,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return C(0),{calculatedDuration:null,next:T=>{let I=!1;return!O&&D===void 0&&(I=!0,A(T),C(T)),D!==void 0&&T>=D?O.next(T-D):(!I&&A(T),p)}}}const NO=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,CQ=1e-7,IQ=12;function AQ(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=NO(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>CQ&&++a<IQ);return o}function rf(t,e,n,r){if(t===e&&n===r)return Un;const s=i=>AQ(i,0,1,t,n);return i=>i===0||i===1?i:NO(s(i),e,r)}const PQ=rf(.42,0,1,1),RQ=rf(0,0,.58,1),DO=rf(.42,0,.58,1),NQ=t=>Array.isArray(t)&&typeof t[0]!="number",kO=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,MO=t=>e=>1-t(1-e),UE=t=>1-Math.sin(Math.acos(t)),OO=MO(UE),DQ=kO(UE),LO=rf(.33,1.53,.69,.99),BE=MO(LO),kQ=kO(BE),MQ=t=>(t*=2)<1?.5*BE(t):.5*(2-Math.pow(2,-10*(t-1))),UI={linear:Un,easeIn:PQ,easeInOut:DO,easeOut:RQ,circIn:UE,circInOut:DQ,circOut:OO,backIn:BE,backInOut:kQ,backOut:LO,anticipate:MQ},BI=t=>{if(Array.isArray(t)){F0(t.length===4);const[e,n,r,s]=t;return rf(e,n,r,s)}else if(typeof t=="string")return F0(UI[t]!==void 0),UI[t];return t},OQ=(t,e)=>n=>e(t(n)),mi=(...t)=>t.reduce(OQ),ch=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Lt=(t,e,n)=>t+(e-t)*n;function Zv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function LQ({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Zv(l,a,t+1/3),i=Zv(l,a,t),o=Zv(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function $m(t,e){return n=>n>0?e:t}const ew=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},jQ=[$0,ba,ql],VQ=t=>jQ.find(e=>e.test(t));function $I(t){const e=VQ(t);if(!e)return!1;let n=e.parse(t);return e===ql&&(n=LQ(n)),n}const zI=(t,e)=>{const n=$I(t),r=$I(e);if(!n||!r)return $m(t,e);const s={...n};return i=>(s.red=ew(n.red,r.red,i),s.green=ew(n.green,r.green,i),s.blue=ew(n.blue,r.blue,i),s.alpha=Lt(n.alpha,r.alpha,i),ba.transform(s))},W0=new Set(["none","hidden"]);function FQ(t,e){return W0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function UQ(t,e){return n=>Lt(t,e,n)}function $E(t){return typeof t=="number"?UQ:typeof t=="string"?ME(t)?$m:On.test(t)?zI:zQ:Array.isArray(t)?jO:typeof t=="object"?On.test(t)?zI:BQ:$m}function jO(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>$E(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function BQ(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=$E(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function $Q(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][s[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const zQ=(t,e)=>{const n=$o.createTransformer(e),r=lh(t),s=lh(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?W0.has(t)&&!s.values.length||W0.has(e)&&!r.values.length?FQ(t,e):mi(jO($Q(r,s),s.values),n):$m(t,e)};function VO(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Lt(t,e,n):$E(t)(t,e)}function KQ(t,e,n){const r=[],s=n||VO,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Un:e;a=mi(l,a)}r.push(a)}return r}function WQ(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(F0(i===e.length),i===1)return()=>e[0];if(i===2&&t[0]===t[1])return()=>e[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=KQ(e,r,s),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const d=ch(t[u],t[u+1],c);return o[u](d)};return n?c=>l(Bo(t[0],t[i-1],c)):l}function HQ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=ch(0,e,r);t.push(Lt(n,1,s))}}function qQ(t){const e=[0];return HQ(e,t.length-1),e}function GQ(t,e){return t.map(n=>n*e)}function QQ(t,e){return t.map(()=>e||DO).splice(0,t.length-1)}function zm({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=NQ(r)?r.map(BI):BI(r),i={done:!1,value:e[0]},o=GQ(n&&n.length===e.length?n:qQ(e),t),a=WQ(o,e,{ease:Array.isArray(s)?s:QQ(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const KI=2e4;function YQ(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<KI;)e+=n,r=t.next(e);return e>=KI?1/0:e}const XQ=t=>{const e=({timestamp:n})=>t(n);return{start:()=>dt.update(e,!0),stop:()=>Ii(e),now:()=>_n.isProcessing?_n.timestamp:Us.now()}},JQ={decay:FI,inertia:FI,tween:zm,keyframes:zm,spring:RO},ZQ=t=>t/100;class zE extends IO{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||LE,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=JQ[n]||zm;let l,c;a!==zm&&typeof e[0]!="number"&&(l=mi(ZQ,VO(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});i==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=YQ(u));const{calculatedDuration:d}=u,p=d+s,g=p*(r+1)-s;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:p,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=r;if(this.startTime===null)return i.next(0);const{delay:p,repeat:g,repeatType:w,repeatDelay:v,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const _=this.currentTime-p*(this.speed>=0?1:-1),y=this.speed>=0?_<0:_>u;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let S=this.currentTime,A=i;if(g){const T=Math.min(this.currentTime,u)/d;let I=Math.floor(T),P=T%1;!P&&T>=1&&(P=1),P===1&&I--,I=Math.min(I,g+1),!!(I%2)&&(w==="reverse"?(P=1-P,v&&(P-=v/d)):w==="mirror"&&(A=o)),S=Bo(0,1,P)*d}const D=y?{done:!1,value:l[0]}:A.next(S);a&&(D.value=a(D.value));let{done:O}=D;!y&&c!==null&&(O=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return C&&s!==void 0&&(D.value=ay(l,this.options,s)),E&&E(D.value),C&&this.finish(),D}get duration(){const{resolved:e}=this;return e?pi(e.calculatedDuration):0}get time(){return pi(this.currentTime)}set time(e){e=fi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=pi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=XQ,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const FO=new Set(["opacity","clipPath","filter","transform"]),UO=t=>Array.isArray(t)&&typeof t[0]=="number";function BO(t){return!!(!t||typeof t=="string"&&t in KE||UO(t)||Array.isArray(t)&&t.every(BO))}const Ju=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,KE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ju([0,.65,.55,1]),circOut:Ju([.55,0,1,.45]),backIn:Ju([.31,.01,.66,-.59]),backOut:Ju([.33,1.53,.69,.99])};function eY(t){return $O(t)||KE.easeOut}function $O(t){if(t)return UO(t)?Ju(t):Array.isArray(t)?t.map(eY):KE[t]}function tY(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=$O(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const nY=CO(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Km=10,rY=2e4;function sY(t){return t.type==="spring"||!BO(t.ease)}function iY(t,e){const n=new zE({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<rY;)r=n.sample(i),s.push(r.value),i+=Km;return{times:void 0,keyframes:s,duration:i-Km,ease:"linear"}}class WI extends IO{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new bO(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:s=300,times:i,ease:o,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(sY(this.options)){const{onComplete:p,onUpdate:g,motionValue:w,element:v,...E}=this.options,_=iY(e,E);e=_.keyframes,e.length===1&&(e[1]=e[0]),s=_.duration,i=_.times,o=_.ease,a="keyframes"}const d=tY(l.owner.current,c,e,{...this.options,duration:s,times:i,ease:o});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(d.timeline=this.pendingTimeline,this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:p}=this.options;l.set(ay(e,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:s,times:i,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return pi(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return pi(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=fi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Un;const{animation:r}=n;r.timeline=e,r.onfinish=null}return Un}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:p,...g}=this.options,w=new zE({...g,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),v=fi(this.time);c.setWithVelocity(w.sample(v-Km).value,w.sample(v).value,Km)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=e;return nY()&&r&&FO.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}function oY(t,e){let n;const r=()=>{const{currentTime:s}=e,o=(s===null?0:s.value)/100;n!==o&&t(o),n=o};return dt.update(r,!0),()=>Ii(r)}const aY=CO(()=>window.ScrollTimeline!==void 0);class lY{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(aY()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),oY(s=>{r.time=r.duration*s},e)});return()=>{n.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const WE=(t,e,n,r={},s,i,o)=>a=>{const l=kE(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-fi(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{a(),l.onComplete&&l.onComplete(),o&&o()},onStop:o,name:t,motionValue:e,element:i?void 0:s};RG(l)||(d={...d,...PG(t,d)}),d.duration&&(d.duration=fi(d.duration)),d.repeatDelay&&(d.repeatDelay=fi(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(p=!0)),p&&!i&&e.get()!==void 0){const g=ay(d.keyframes,l);if(g!==void 0)return dt.update(()=>{d.onUpdate(g),d.onComplete()}),new lY([])}return!i&&WI.supports(d)?new WI(d):new zE(d)},cY=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),uY=t=>V0(t)?t[t.length-1]||0:t;function ly(t,e){t.indexOf(e)===-1&&t.push(e)}function cy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class HE{constructor(){this.subscriptions=[]}add(e){return ly(this.subscriptions,e),()=>cy(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const HI=30,dY=t=>!isNaN(parseFloat(t));class zO{constructor(e,n={}){this.version="11.5.6",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Us.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Us.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=dY(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new HE);const r=this.events[e].add(n);return e==="change"?()=>{r(),dt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Us.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>HI)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,HI);return AO(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function uh(t,e){return new zO(t,e)}function hY(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,uh(n))}function fY(t,e){const n=oy(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=uY(i[o]);hY(t,o,a)}}const uy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),pY="framerAppearId",KO="data-"+uy(pY);function WO(t){return t.props[KO]}function HO(t){if(ea.has(t))return"transform";if(FO.has(t))return uy(t)}class mY extends zO{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(e){const n=HO(e);if(!n)return;const r=this.counts.get(n)||0;this.counts.set(n,r+1),r===0&&(this.output.push(n),this.update());let s=!1;return()=>{if(s)return;s=!0;const i=this.counts.get(n)-1;this.counts.set(n,i),i===0&&(cy(this.output,n),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}const Fn=t=>!!(t&&t.getVelocity);function gY(t){return!!(Fn(t)&&t.add)}function H0(t,e){var n;if(!t.applyWillChange)return;let r=t.getValue("willChange");if(!r&&!(!((n=t.props.style)===null||n===void 0)&&n.willChange)&&(r=new mY("auto"),t.addValue("willChange",r)),gY(r))return r.add(e)}function yY({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function qO(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const d in l){const p=t.getValue(d,(i=t.latestValues[d])!==null&&i!==void 0?i:null),g=l[d];if(g===void 0||u&&yY(u,d))continue;const w={delay:n,...kE(o||{},d)};let v=!1;if(window.MotionHandoffAnimation){const _=WO(t);if(_){const y=window.MotionHandoffAnimation(_,d,dt);y!==null&&(w.startTime=y,v=!0)}}p.start(WE(d,p,g,t.shouldReduceMotion&&ea.has(d)?{type:!1}:w,t,v,H0(t,d)));const E=p.animation;E&&c.push(E)}return a&&Promise.all(c).then(()=>{dt.update(()=>{a&&fY(t,a)})}),c}function q0(t,e,n={}){var r;const s=oy(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(qO(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:p}=i;return vY(t,e,u+c,d,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function vY(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(wY).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(q0(c,e,{...i,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function wY(t,e){return t.sortNodePosition(e)}function _Y(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>q0(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=q0(t,e,n);else{const s=typeof e=="function"?oy(t,e,n.custom):e;r=Promise.all(qO(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const xY=DE.length;function GO(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?GO(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<xY;n++){const r=DE[n],s=t.props[r];(ah(s)||s===!1)&&(e[r]=s)}return e}const EY=[...NE].reverse(),TY=NE.length;function SY(t){return e=>Promise.all(e.map(({animation:n,options:r})=>_Y(t,n,r)))}function bY(t){let e=SY(t),n=qI(),r=!0;const s=l=>(c,u)=>{var d;const p=oy(t,u,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(p){const{transition:g,transitionEnd:w,...v}=p;c={...c,...v,...w}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,u=GO(t.parent)||{},d=[],p=new Set;let g={},w=1/0;for(let E=0;E<TY;E++){const _=EY[E],y=n[_],S=c[_]!==void 0?c[_]:u[_],A=ah(S),D=_===l?y.isActive:null;D===!1&&(w=E);let O=S===u[_]&&S!==c[_]&&A;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),y.protectedKeys={...g},!y.isActive&&D===null||!S&&!y.prevProp||oh(S)||typeof S=="boolean")continue;const C=CY(y.prevProp,S);let T=C||_===l&&y.isActive&&!O&&A||E>w&&A,I=!1;const P=Array.isArray(S)?S:[S];let M=P.reduce(s(_),{});D===!1&&(M={});const{prevResolvedValues:k={}}=y,N={...k,...M},H=ne=>{T=!0,p.has(ne)&&(I=!0,p.delete(ne)),y.needsAnimating[ne]=!0;const z=t.getValue(ne);z&&(z.liveStyle=!1)};for(const ne in N){const z=M[ne],B=k[ne];if(g.hasOwnProperty(ne))continue;let Z=!1;V0(z)&&V0(B)?Z=!lO(z,B):Z=z!==B,Z?z!=null?H(ne):p.add(ne):z!==void 0&&p.has(ne)?H(ne):y.protectedKeys[ne]=!0}y.prevProp=S,y.prevResolvedValues=M,y.isActive&&(g={...g,...M}),r&&t.blockInitialAnimation&&(T=!1),T&&(!(O&&C)||I)&&d.push(...P.map(ne=>({animation:ne,options:{type:_}})))}if(p.size){const E={};p.forEach(_=>{const y=t.getBaseTarget(_),S=t.getValue(_);S&&(S.liveStyle=!0),E[_]=y??null}),d.push({animation:E})}let v=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(d):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=qI(),r=!0}}}function CY(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!lO(e,t):!1}function pa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qI(){return{animate:pa(!0),whileInView:pa(),whileHover:pa(),whileTap:pa(),whileDrag:pa(),whileFocus:pa(),exit:pa()}}class ta{constructor(e){this.isMounted=!1,this.node=e}update(){}}class IY extends ta{constructor(e){super(e),e.animationState||(e.animationState=bY(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();oh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let AY=0;class PY extends ta{constructor(){super(...arguments),this.id=AY++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const RY={animation:{Feature:IY},exit:{Feature:PY}},QO=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function dy(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const NY=t=>e=>QO(e)&&t(e,dy(e));function ai(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function gi(t,e,n,r){return ai(t,e,NY(n),r)}const GI=(t,e)=>Math.abs(t-e);function DY(t,e){const n=GI(t.x,e.x),r=GI(t.y,e.y);return Math.sqrt(n**2+r**2)}class YO{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=nw(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=DY(d.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:w}=d,{timestamp:v}=_n;this.history.push({...w,timestamp:v});const{onStart:E,onMove:_}=this.handlers;p||(E&&E(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=tw(p,this.transformPagePoint),dt.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:g,onSessionEnd:w,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=nw(d.type==="pointercancel"?this.lastMoveEventInfo:tw(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(d,E),w&&w(d,E)},!QO(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=dy(e),a=tw(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=_n;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,nw(a,this.history)),this.removeListeners=mi(gi(this.contextWindow,"pointermove",this.handlePointerMove),gi(this.contextWindow,"pointerup",this.handlePointerUp),gi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ii(this.updatePoint)}}function tw(t,e){return e?{point:e(t.point)}:t}function QI(t,e){return{x:t.x-e.x,y:t.y-e.y}}function nw({point:t},e){return{point:t,delta:QI(t,XO(e)),offset:QI(t,kY(e)),velocity:MY(e,.1)}}function kY(t){return t[0]}function XO(t){return t[t.length-1]}function MY(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=XO(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>fi(e)));)n--;if(!r)return{x:0,y:0};const i=pi(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function JO(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const YI=JO("dragHorizontal"),XI=JO("dragVertical");function ZO(t){let e=!1;if(t==="y")e=XI();else if(t==="x")e=YI();else{const n=YI(),r=XI();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function eL(){const t=ZO(!0);return t?(t(),!1):!0}function Gl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const tL=1e-4,OY=1-tL,LY=1+tL,nL=.01,jY=0-nL,VY=0+nL;function Pr(t){return t.max-t.min}function FY(t,e,n){return Math.abs(t-e)<=n}function JI(t,e,n,r=.5){t.origin=r,t.originPoint=Lt(e.min,e.max,t.origin),t.scale=Pr(n)/Pr(e),t.translate=Lt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=OY&&t.scale<=LY||isNaN(t.scale))&&(t.scale=1),(t.translate>=jY&&t.translate<=VY||isNaN(t.translate))&&(t.translate=0)}function vd(t,e,n,r){JI(t.x,e.x,n.x,r?r.originX:void 0),JI(t.y,e.y,n.y,r?r.originY:void 0)}function ZI(t,e,n){t.min=n.min+e.min,t.max=t.min+Pr(e)}function UY(t,e,n){ZI(t.x,e.x,n.x),ZI(t.y,e.y,n.y)}function eA(t,e,n){t.min=e.min-n.min,t.max=t.min+Pr(e)}function wd(t,e,n){eA(t.x,e.x,n.x),eA(t.y,e.y,n.y)}function BY(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Lt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Lt(n,t,r.max):Math.min(t,n)),t}function tA(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function $Y(t,{top:e,left:n,bottom:r,right:s}){return{x:tA(t.x,n,s),y:tA(t.y,e,r)}}function nA(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function zY(t,e){return{x:nA(t.x,e.x),y:nA(t.y,e.y)}}function KY(t,e){let n=.5;const r=Pr(t),s=Pr(e);return s>r?n=ch(e.min,e.max-r,t.min):r>s&&(n=ch(t.min,t.max-s,e.min)),Bo(0,1,n)}function WY(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const G0=.35;function HY(t=G0){return t===!1?t=0:t===!0&&(t=G0),{x:rA(t,"left","right"),y:rA(t,"top","bottom")}}function rA(t,e,n){return{min:sA(t,e),max:sA(t,n)}}function sA(t,e){return typeof t=="number"?t:t[e]||0}const iA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ql=()=>({x:iA(),y:iA()}),oA=()=>({min:0,max:0}),Gt=()=>({x:oA(),y:oA()});function jr(t){return[t("x"),t("y")]}function rL({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function qY({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function GY(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function rw(t){return t===void 0||t===1}function Q0({scale:t,scaleX:e,scaleY:n}){return!rw(t)||!rw(e)||!rw(n)}function va(t){return Q0(t)||sL(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function sL(t){return aA(t.x)||aA(t.y)}function aA(t){return t&&t!=="0%"}function Wm(t,e,n){const r=t-n,s=e*r;return n+s}function lA(t,e,n,r,s){return s!==void 0&&(t=Wm(t,s,r)),Wm(t,n,r)+e}function Y0(t,e=0,n=1,r,s){t.min=lA(t.min,e,n,r,s),t.max=lA(t.max,e,n,r,s)}function iL(t,{x:e,y:n}){Y0(t.x,e.translate,e.scale,e.originPoint),Y0(t.y,n.translate,n.scale,n.originPoint)}const cA=.999999999999,uA=1.0000000000001;function QY(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Xl(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,iL(t,o)),r&&va(i.latestValues)&&Xl(t,i.latestValues))}e.x<uA&&e.x>cA&&(e.x=1),e.y<uA&&e.y>cA&&(e.y=1)}function Yl(t,e){t.min=t.min+e,t.max=t.max+e}function dA(t,e,n,r,s=.5){const i=Lt(t.min,t.max,s);Y0(t,e,n,i,r)}function Xl(t,e){dA(t.x,e.x,e.scaleX,e.scale,e.originX),dA(t.y,e.y,e.scaleY,e.scale,e.originY)}function oL(t,e){return rL(GY(t.getBoundingClientRect(),e))}function YY(t,e,n){const r=oL(t,n),{scroll:s}=e;return s&&(Yl(r.x,s.offset.x),Yl(r.y,s.offset.y)),r}const aL=({current:t})=>t?t.ownerDocument.defaultView:null,XY=new WeakMap;class JY{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Gt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(dy(u,"page").point)},i=(u,d)=>{var p;const{drag:g,dragPropagation:w,onDragStart:v}=this.getProps();if(g&&!w&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=ZO(g),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jr(_=>{let y=this.getAxisMotionValue(_).get()||0;if(Fs.test(y)){const{projection:S}=this.visualElement;if(S&&S.layout){const A=S.layout.layoutBox[_];A&&(y=Pr(A)*(parseFloat(y)/100))}}this.originPoint[_]=y}),v&&dt.postRender(()=>v(u,d)),(p=this.removeWillChange)===null||p===void 0||p.call(this),this.removeWillChange=H0(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:w,onDrag:v}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:E}=d;if(g&&this.currentDirection===null){this.currentDirection=ZY(E),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",d.point,E),this.updateAxis("y",d.point,E),this.visualElement.render(),v&&v(u,d)},a=(u,d)=>this.stop(u,d),l=()=>jr(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new YO(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:aL(this.visualElement)})}stop(e,n){var r;(r=this.removeWillChange)===null||r===void 0||r.call(this);const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&dt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!lp(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=BY(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Gl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=$Y(s.layoutBox,n):this.constraints=!1,this.elastic=HY(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&jr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=WY(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Gl(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=YY(r,s.root,this.visualElement.getTransformPagePoint());let o=zY(s.layout.layoutBox,i);if(n){const a=n(qY(o));this.hasMutatedConstraints=!!a,a&&(o=rL(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=jr(u=>{if(!lp(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const p=s?200:1e6,g=s?40:1e7,w={type:"inertia",velocity:r?e[u]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(u,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(WE(e,r,0,n,this.visualElement,!1,H0(this.visualElement,e)))}stopAnimation(){jr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){jr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){jr(n=>{const{drag:r}=this.getProps();if(!lp(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Lt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Gl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};jr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=KY({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),jr(o=>{if(!lp(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Lt(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;XY.set(this.visualElement,this);const e=this.visualElement.current,n=gi(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Gl(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),dt.read(r);const o=ai(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(jr(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=G0,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function lp(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function ZY(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class eX extends ta{constructor(e){super(e),this.removeGroupControls=Un,this.removeListeners=Un,this.controls=new JY(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Un}unmount(){this.removeGroupControls(),this.removeListeners()}}const hA=t=>(e,n)=>{t&&dt.postRender(()=>t(e,n))};class tX extends ta{constructor(){super(...arguments),this.removePointerDownListener=Un}onPointerDown(e){this.session=new YO(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:aL(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:hA(e),onStart:hA(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&dt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=gi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const hy=m.createContext(null);function nX(){const t=m.useContext(hy);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=m.useId();m.useEffect(()=>r(s),[]);const i=m.useCallback(()=>n&&n(s),[s,n]);return!e&&n?[!1,i]:[!0]}const qE=m.createContext({}),lL=m.createContext({}),$p={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function fA(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Uu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ce.test(t))t=parseFloat(t);else return t;const n=fA(t,e.target.x),r=fA(t,e.target.y);return`${n}% ${r}%`}},rX={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=$o.parse(t);if(s.length>5)return r;const i=$o.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=Lt(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}},Hm={};function sX(t){Object.assign(Hm,t)}const{schedule:GE,cancel:Gue}=cO(queueMicrotask,!1);class iX extends m.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;sX(oX),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),$p.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||dt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),GE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function cL(t){const[e,n]=nX(),r=m.useContext(qE);return f.jsx(iX,{...t,layoutGroup:r,switchLayoutGroup:m.useContext(lL),isPresent:e,safeToRemove:n})}const oX={borderRadius:{...Uu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Uu,borderTopRightRadius:Uu,borderBottomLeftRadius:Uu,borderBottomRightRadius:Uu,boxShadow:rX},uL=["TopLeft","TopRight","BottomLeft","BottomRight"],aX=uL.length,pA=t=>typeof t=="string"?parseFloat(t):t,mA=t=>typeof t=="number"||Ce.test(t);function lX(t,e,n,r,s,i){s?(t.opacity=Lt(0,n.opacity!==void 0?n.opacity:1,cX(r)),t.opacityExit=Lt(e.opacity!==void 0?e.opacity:1,0,uX(r))):i&&(t.opacity=Lt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<aX;o++){const a=`border${uL[o]}Radius`;let l=gA(e,a),c=gA(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||mA(l)===mA(c)?(t[a]=Math.max(Lt(pA(l),pA(c),r),0),(Fs.test(c)||Fs.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Lt(e.rotate||0,n.rotate||0,r))}function gA(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const cX=dL(0,.5,OO),uX=dL(.5,.95,Un);function dL(t,e,n){return r=>r<t?0:r>e?1:n(ch(t,e,r))}function yA(t,e){t.min=e.min,t.max=e.max}function Lr(t,e){yA(t.x,e.x),yA(t.y,e.y)}function vA(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function wA(t,e,n,r,s){return t-=e,t=Wm(t,1/n,r),s!==void 0&&(t=Wm(t,1/s,r)),t}function dX(t,e=0,n=1,r=.5,s,i=t,o=t){if(Fs.test(e)&&(e=parseFloat(e),e=Lt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Lt(i.min,i.max,r);t===i&&(a-=e),t.min=wA(t.min,e,n,a,s),t.max=wA(t.max,e,n,a,s)}function _A(t,e,[n,r,s],i,o){dX(t,e[n],e[r],e[s],e.scale,i,o)}const hX=["x","scaleX","originX"],fX=["y","scaleY","originY"];function xA(t,e,n,r){_A(t.x,e,hX,n?n.x:void 0,r?r.x:void 0),_A(t.y,e,fX,n?n.y:void 0,r?r.y:void 0)}function EA(t){return t.translate===0&&t.scale===1}function hL(t){return EA(t.x)&&EA(t.y)}function TA(t,e){return t.min===e.min&&t.max===e.max}function pX(t,e){return TA(t.x,e.x)&&TA(t.y,e.y)}function SA(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function fL(t,e){return SA(t.x,e.x)&&SA(t.y,e.y)}function bA(t){return Pr(t.x)/Pr(t.y)}function CA(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class mX{constructor(){this.members=[]}add(e){ly(this.members,e),e.scheduleRender()}remove(e){if(cy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function gX(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:p,skewX:g,skewY:w}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const yX=(t,e)=>t.depth-e.depth;class vX{constructor(){this.children=[],this.isDirty=!1}add(e){ly(this.children,e),this.isDirty=!0}remove(e){cy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(yX),this.isDirty=!1,this.children.forEach(e)}}function zp(t){const e=Fn(t)?t.get():t;return cY(e)?e.toValue():e}function wX(t,e){const n=Us.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Ii(r),t(i-e))};return dt.read(r,!0),()=>Ii(r)}function _X(t){return t instanceof SVGElement&&t.tagName!=="svg"}function xX(t,e,n){const r=Fn(t)?t:uh(t);return r.start(WE("",r,e,n)),r.animation}const wa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Zu=typeof window<"u"&&window.MotionDebug!==void 0,sw=["","X","Y","Z"],EX={visibility:"hidden"},IA=1e3;let TX=0;function iw(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function pL(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=WO(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",dt,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&pL(r)}function mL({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=TX++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Zu&&(wa.totalNodes=wa.resolvedTargetDeltas=wa.recalculatedProjection=0),this.nodes.forEach(CX),this.nodes.forEach(NX),this.nodes.forEach(DX),this.nodes.forEach(IX),Zu&&window.MotionDebug.record(wa)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new vX)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new HE),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=_X(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=wX(p,250),$p.hasAnimatedSinceResize&&($p.hasAnimatedSinceResize=!1,this.nodes.forEach(PA))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:g,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||jX,{onLayoutAnimationStart:E,onLayoutAnimationComplete:_}=u.getProps(),y=!this.targetLayout||!fL(this.targetLayout,w)||g,S=!p&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||p&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,S);const A={...kE(v,"layout"),onPlay:E,onComplete:_};(u.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else p||PA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ii(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kX),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&pL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(AA);return}this.isUpdating||this.nodes.forEach(PX),this.isUpdating=!1,this.nodes.forEach(RX),this.nodes.forEach(SX),this.nodes.forEach(bX),this.clearAllSnapshots();const a=Us.now();_n.delta=Bo(0,1e3/60,a-_n.timestamp),_n.timestamp=a,_n.isProcessing=!0,Yv.update.process(_n),Yv.preRender.process(_n),Yv.render.process(_n),_n.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,GE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(AX),this.sharedNodes.forEach(MX)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!hL(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||va(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),VX(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Gt();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(FX))){const{scroll:u}=this.root;u&&(Yl(l.x,u.offset.x),Yl(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=Gt();if(Lr(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:p}=u;u!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&Lr(l,o),Yl(l.x,d.offset.x),Yl(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=Gt();Lr(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Xl(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),va(u.latestValues)&&Xl(l,u.latestValues)}return va(this.latestValues)&&Xl(l,this.latestValues),l}removeTransform(o){const a=Gt();Lr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!va(c.latestValues))continue;Q0(c.latestValues)&&c.updateSnapshot();const u=Gt(),d=c.measurePageBox();Lr(u,d),xA(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return va(this.latestValues)&&xA(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_n.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=_n.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gt(),this.relativeTargetOrigin=Gt(),wd(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Lr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Gt(),this.targetWithTransforms=Gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),UY(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Lr(this.target,this.layout.layoutBox),iL(this.target,this.targetDelta)):Lr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gt(),this.relativeTargetOrigin=Gt(),wd(this.relativeTargetOrigin,this.target,g.target),Lr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Zu&&wa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Q0(this.parent.latestValues)||sL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===_n.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Lr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;QY(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Gt());const{target:w}=a;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(vA(this.prevProjectionDelta.x,this.projectionDelta.x),vA(this.prevProjectionDelta.y,this.projectionDelta.y)),vd(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!CA(this.projectionDelta.x,this.prevProjectionDelta.x)||!CA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),Zu&&wa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ql(),this.projectionDelta=Ql(),this.projectionDeltaWithTransform=Ql()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Ql();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Gt(),g=l?l.source:void 0,w=this.layout?this.layout.source:void 0,v=g!==w,E=this.getStack(),_=!E||E.members.length<=1,y=!!(v&&!_&&this.options.crossfade===!0&&!this.path.some(LX));this.animationProgress=0;let S;this.mixTargetDelta=A=>{const D=A/1e3;RA(d.x,o.x,D),RA(d.y,o.y,D),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wd(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),OX(this.relativeTarget,this.relativeTargetOrigin,p,D),S&&pX(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Gt()),Lr(S,this.relativeTarget)),v&&(this.animationValues=u,lX(u,c,this.latestValues,D,y,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ii(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update(()=>{$p.hasAnimatedSinceResize=!0,this.currentAnimation=xX(0,IA,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(IA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&gL(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Gt();const d=Pr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=Pr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Lr(a,l),Xl(a,u),vd(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new mX),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&iw("z",o,c,this.animationValues);for(let u=0;u<sw.length;u++)iw(`rotate${sw[u]}`,o,c,this.animationValues),iw(`skew${sw[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return EX;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=zp(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=zp(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!va(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=gX(this.projectionDeltaWithTransform,this.treeScale,p),u&&(c.transform=u(p,c.transform));const{x:g,y:w}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${w.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in Hm){if(p[v]===void 0)continue;const{correct:E,applyTo:_}=Hm[v],y=c.transform==="none"?p[v]:E(p[v],d);if(_){const S=_.length;for(let A=0;A<S;A++)c[_[A]]=y}else c[v]=y}return this.options.layoutId&&(c.pointerEvents=d===this?zp(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(AA),this.root.sharedNodes.clear()}}}function SX(t){t.updateLayout()}function bX(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?jr(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],g=Pr(p);p.min=r[d].min,p.max=p.min+g}):gL(i,n.layoutBox,r)&&jr(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],g=Pr(r[d]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+g)});const a=Ql();vd(a,r,n.layoutBox);const l=Ql();o?vd(l,t.applyTransform(s,!0),n.measuredBox):vd(l,r,n.layoutBox);const c=!hL(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:g}=d;if(p&&g){const w=Gt();wd(w,n.layoutBox,p.layoutBox);const v=Gt();wd(v,r,g.layoutBox),fL(w,v)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=w,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function CX(t){Zu&&wa.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function IX(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function AX(t){t.clearSnapshot()}function AA(t){t.clearMeasurements()}function PX(t){t.isLayoutDirty=!1}function RX(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function PA(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function NX(t){t.resolveTargetDelta()}function DX(t){t.calcProjection()}function kX(t){t.resetSkewAndRotation()}function MX(t){t.removeLeadSnapshot()}function RA(t,e,n){t.translate=Lt(e.translate,0,n),t.scale=Lt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function NA(t,e,n,r){t.min=Lt(e.min,n.min,r),t.max=Lt(e.max,n.max,r)}function OX(t,e,n,r){NA(t.x,e.x,n.x,r),NA(t.y,e.y,n.y,r)}function LX(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const jX={duration:.45,ease:[.4,0,.1,1]},DA=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),kA=DA("applewebkit/")&&!DA("chrome/")?Math.round:Un;function MA(t){t.min=kA(t.min),t.max=kA(t.max)}function VX(t){MA(t.x),MA(t.y)}function gL(t,e,n){return t==="position"||t==="preserve-aspect"&&!FY(bA(e),bA(n),.2)}function FX(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const UX=mL({attachResizeListener:(t,e)=>ai(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ow={current:void 0},yL=mL({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ow.current){const t=new UX({});t.mount(window),t.setOptions({layoutScroll:!0}),ow.current=t}return ow.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),BX={pan:{Feature:tX},drag:{Feature:eX,ProjectionNode:yL,MeasureLayout:cL}};function OA(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",s=(i,o)=>{if(i.pointerType==="touch"||eL())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&dt.postRender(()=>l(i,o))};return gi(t.current,n,s,{passive:!t.getProps()[r]})}class $X extends ta{mount(){this.unmount=mi(OA(this.node,!0),OA(this.node,!1))}unmount(){}}class zX extends ta{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mi(ai(this.node.current,"focus",()=>this.onFocus()),ai(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const vL=(t,e)=>e?t===e?!0:vL(t,e.parentElement):!1;function aw(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,dy(n))}class KX extends ta{constructor(){super(...arguments),this.removeStartListeners=Un,this.removeEndListeners=Un,this.removeAccessibleListeners=Un,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=gi(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:d}=this.node.getProps(),p=!d&&!vL(this.node.current,a.target)?u:c;p&&dt.update(()=>p(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=gi(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=mi(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||aw("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&dt.postRender(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=ai(this.node.current,"keyup",o),aw("down",(a,l)=>{this.startPress(a,l)})},n=ai(this.node.current,"keydown",e),r=()=>{this.isPressing&&aw("cancel",(i,o)=>this.cancelPress(i,o))},s=ai(this.node.current,"blur",r);this.removeAccessibleListeners=mi(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&dt.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!eL()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&dt.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=gi(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ai(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=mi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const X0=new WeakMap,lw=new WeakMap,WX=t=>{const e=X0.get(t.target);e&&e(t)},HX=t=>{t.forEach(WX)};function qX({root:t,...e}){const n=t||document;lw.has(n)||lw.set(n,{});const r=lw.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(HX,{root:t,...e})),r[s]}function GX(t,e,n){const r=qX(e);return X0.set(t,n),r.observe(t),()=>{X0.delete(t),r.unobserve(t)}}const QX={some:0,all:1};class YX extends ta{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:QX[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),p=c?u:d;p&&p(l)};return GX(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(XX(e,n))&&this.startObserver()}unmount(){}}function XX({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const JX={inView:{Feature:YX},tap:{Feature:KX},focus:{Feature:zX},hover:{Feature:$X}},ZX={layout:{ProjectionNode:yL,MeasureLayout:cL}},QE=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),fy=m.createContext({}),YE=typeof window<"u",wL=YE?m.useLayoutEffect:m.useEffect,_L=m.createContext({strict:!1});let LA=!1;function eJ(t,e,n,r,s){var i;const{visualElement:o}=m.useContext(fy),a=m.useContext(_L),l=m.useContext(hy),c=m.useContext(QE).reducedMotion,u=m.useRef();r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,p=m.useContext(lL);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&nJ(u.current,n,s,p),m.useInsertionEffect(()=>{d&&d.update(n,l)});const g=n[KO],w=m.useRef(!!g&&!window.MotionHandoffIsComplete&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,g)));return wL(()=>{d&&(d.updateFeatures(),GE.render(d.render),w.current&&d.animationState&&d.animationState.animateChanges())}),m.useEffect(()=>{d&&(!w.current&&d.animationState&&d.animationState.animateChanges(),w.current=!1,LA||(LA=!0,queueMicrotask(tJ)))}),d}function tJ(){window.MotionHandoffIsComplete=!0}function nJ(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:xL(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Gl(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function xL(t){if(t)return t.options.allowProjection!==!1?t.projection:xL(t.parent)}function rJ(t,e,n){return m.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Gl(n)&&(n.current=r))},[e])}function py(t){return oh(t.animate)||DE.some(e=>ah(t[e]))}function EL(t){return!!(py(t)||t.variants)}function sJ(t,e){if(py(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ah(n)?n:void 0,animate:ah(r)?r:void 0}}return t.inherit!==!1?e:{}}function iJ(t){const{initial:e,animate:n}=sJ(t,m.useContext(fy));return m.useMemo(()=>({initial:e,animate:n}),[jA(e),jA(n)])}function jA(t){return Array.isArray(t)?t.join(" "):t}const VA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vc={};for(const t in VA)Vc[t]={isEnabled:e=>VA[t].some(n=>!!e[n])};function oJ(t){for(const e in t)Vc[e]={...Vc[e],...t[e]}}const aJ=Symbol.for("motionComponentSymbol");function lJ({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&oJ(t);function i(a,l){let c;const u={...m.useContext(QE),...a,layoutId:cJ(a)},{isStatic:d}=u,p=iJ(a),g=r(a,d);if(!d&&YE){uJ();const w=dJ(u);c=w.MeasureLayout,p.visualElement=eJ(s,g,u,e,w.ProjectionNode)}return f.jsxs(fy.Provider,{value:p,children:[c&&p.visualElement?f.jsx(c,{visualElement:p.visualElement,...u}):null,n(s,a,rJ(g,p.visualElement,l),g,d,p.visualElement)]})}const o=m.forwardRef(i);return o[aJ]=s,o}function cJ({layoutId:t}){const e=m.useContext(qE).id;return e&&t!==void 0?e+"-"+t:t}function uJ(t,e){m.useContext(_L).strict}function dJ(t){const{drag:e,layout:n}=Vc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const hJ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function XE(t){return typeof t!="string"||t.includes("-")?!1:!!(hJ.indexOf(t)>-1||/[A-Z]/u.test(t))}function TL(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const SL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function bL(t,e,n,r){TL(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(SL.has(s)?s:uy(s),e.attrs[s])}function CL(t,{layout:e,layoutId:n}){return ea.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Hm[t]||t==="opacity")}function JE(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(Fn(s[o])||e.style&&Fn(e.style[o])||CL(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return n&&s&&typeof s.willChange=="string"&&(n.applyWillChange=!1),i}function IL(t,e,n){const r=JE(t,e,n);for(const s in t)if(Fn(t[s])||Fn(e[s])){const i=ef.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function ZE(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}function fJ({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:r},s,i,o,a){const l={latestValues:mJ(s,i,o,a?!1:t,e),renderState:n()};return r&&(l.mount=c=>r(s,c,l)),l}const AL=t=>(e,n)=>{const r=m.useContext(fy),s=m.useContext(hy),i=()=>fJ(t,e,r,s,n);return n?i():ZE(i)};function pJ(t,e){const n=HO(e);n&&ly(t,n)}function FA(t,e,n){const r=Array.isArray(e)?e:[e];for(let s=0;s<r.length;s++){const i=RE(t,r[s]);if(i){const{transitionEnd:o,transition:a,...l}=i;n(l,o)}}}function mJ(t,e,n,r,s){var i;const o={},a=[],l=r&&((i=t.style)===null||i===void 0?void 0:i.willChange)===void 0,c=s(t,{});for(const E in c)o[E]=zp(c[E]);let{initial:u,animate:d}=t;const p=py(t),g=EL(t);e&&g&&!p&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let w=n?n.initial===!1:!1;w=w||u===!1;const v=w?d:u;return v&&typeof v!="boolean"&&!oh(v)&&FA(t,v,(E,_)=>{for(const y in E){let S=E[y];if(Array.isArray(S)){const A=w?S.length-1:0;S=S[A]}S!==null&&(o[y]=S)}for(const y in _)o[y]=_[y]}),l&&(d&&u!==!1&&!oh(d)&&FA(t,d,E=>{for(const _ in E)pJ(a,_)}),a.length&&(o.willChange=a.join(","))),o}const eT=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),PL=()=>({...eT(),attrs:{}}),RL=(t,e)=>e&&typeof t=="number"?e.transform(t):t,gJ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},yJ=ef.length;function vJ(t,e,n){let r="",s=!0;for(let i=0;i<yJ;i++){const o=ef[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=RL(a,VE[o]);if(!l){s=!1;const u=gJ[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function tT(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(ea.has(l)){o=!0;continue}else if(fO(l)){s[l]=c;continue}else{const u=RL(c,VE[l]);l.startsWith("origin")?(a=!0,i[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=vJ(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;r.transformOrigin=`${l} ${c} ${u}`}}function UA(t,e,n){return typeof t=="string"?t:Ce.transform(e+n*t)}function wJ(t,e,n){const r=UA(e,t.x,t.width),s=UA(n,t.y,t.height);return`${r} ${s}`}const _J={offset:"stroke-dashoffset",array:"stroke-dasharray"},xJ={offset:"strokeDashoffset",array:"strokeDasharray"};function EJ(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?_J:xJ;t[i.offset]=Ce.transform(-r);const o=Ce.transform(e),a=Ce.transform(n);t[i.array]=`${o} ${a}`}function nT(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d){if(tT(t,c,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g,dimensions:w}=t;p.transform&&(w&&(g.transform=p.transform),delete p.transform),w&&(s!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=wJ(w,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&EJ(p,o,a,l,!1)}const rT=t=>typeof t=="string"&&t.toLowerCase()==="svg",TJ={useVisualState:AL({scrapeMotionValuesFromProps:IL,createRenderState:PL,onMount:(t,e,{renderState:n,latestValues:r})=>{dt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),dt.render(()=>{nT(n,r,rT(e.tagName),t.transformTemplate),bL(e,n)})}})},SJ={useVisualState:AL({applyWillChange:!0,scrapeMotionValuesFromProps:JE,createRenderState:eT})};function NL(t,e,n){for(const r in e)!Fn(e[r])&&!CL(r,n)&&(t[r]=e[r])}function bJ({transformTemplate:t},e){return m.useMemo(()=>{const n=eT();return tT(n,e,t),Object.assign({},n.vars,n.style)},[e])}function CJ(t,e){const n=t.style||{},r={};return NL(r,n,t),Object.assign(r,bJ(t,e)),r}function IJ(t,e){const n={},r=CJ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const AJ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function qm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||AJ.has(t)}let DL=t=>!qm(t);function PJ(t){t&&(DL=e=>e.startsWith("on")?!qm(e):t(e))}try{PJ(require("@emotion/is-prop-valid").default)}catch{}function RJ(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(DL(s)||n===!0&&qm(s)||!e&&!qm(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function NJ(t,e,n,r){const s=m.useMemo(()=>{const i=PL();return nT(i,e,rT(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};NL(i,t.style,t),s.style={...i,...s.style}}return s}function DJ(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(XE(n)?NJ:IJ)(r,i,o,n),c=RJ(r,typeof n=="string",t),u=n!==m.Fragment?{...c,...l,ref:s}:{},{children:d}=r,p=m.useMemo(()=>Fn(d)?d.get():d,[d]);return m.createElement(n,{...u,children:p})}}function kJ(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...XE(r)?TJ:SJ,preloadedFeatures:t,useRender:DJ(s),createVisualElement:e,Component:r};return lJ(o)}}const J0={current:null},kL={current:!1};function MJ(){if(kL.current=!0,!!YE)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>J0.current=t.matches;t.addListener(e),e()}else J0.current=!1}function OJ(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Fn(s))t.addValue(r,s);else if(Fn(i))t.addValue(r,uh(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,uh(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const BA=new WeakMap,LJ=[...gO,On,$o],jJ=t=>LJ.find(mO(t)),$A=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VJ{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=LE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Us.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,dt.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=py(n),this.isVariantNode=EL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in d){const g=d[p];l[p]!==void 0&&Fn(g)&&g.set(l[p],!1)}}mount(e){this.current=e,BA.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),kL.current||MJ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:J0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){BA.delete(this.current),this.projection&&this.projection.unmount(),Ii(this.notifyUpdate),Ii(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ea.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&dt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Vc){const n=Vc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<$A.length;r++){const s=$A[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=OJ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=uh(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(dO(s)||uO(s))?s=parseFloat(s):!jJ(s)&&$o.test(n)&&(s=SO(e,n)),this.setBaseTarget(e,Fn(s)?s.get():s)),Fn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=RE(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Fn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new HE),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class ML extends VJ{constructor(){super(...arguments),this.KeyframeResolver=bO}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function FJ(t){return window.getComputedStyle(t)}class UJ extends ML{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=TL}readValueFromInstance(e,n){if(ea.has(n)){const r=FE(n);return r&&r.default||0}else{const r=FJ(e),s=(fO(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return oL(e,n)}build(e,n,r){tT(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return JE(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Fn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class BJ extends ML{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Gt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ea.has(n)){const r=FE(n);return r&&r.default||0}return n=SL.has(n)?n:uy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return IL(e,n,r)}build(e,n,r){nT(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){bL(e,n,r,s)}mount(e){this.isSVGTag=rT(e.tagName),super.mount(e)}}const $J=(t,e)=>XE(t)?new BJ(e):new UJ(e,{allowProjection:t!==m.Fragment}),zJ=kJ({...RY,...JX,...BX,...ZX},$J),KJ=SG(zJ);class WJ extends m.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function HJ({children:t,isPresent:e}){const n=m.useId(),r=m.useRef(null),s=m.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=m.useContext(QE);return m.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=s.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return i&&(u.nonce=i),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),f.jsx(WJ,{isPresent:e,childRef:r,sizeRef:s,children:m.cloneElement(t,{ref:r})})}const qJ=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=ZE(GJ),l=m.useId(),c=m.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:u=>{a.set(u,!0);for(const d of a.values())if(!d)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),i?[Math.random()]:[n]);return m.useMemo(()=>{a.forEach((u,d)=>a.set(d,!1))},[n]),m.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=f.jsx(HJ,{isPresent:n,children:t})),f.jsx(hy.Provider,{value:c,children:t})};function GJ(){return new Map}const cp=t=>t.key||"";function zA(t){const e=[];return m.Children.forEach(t,n=>{m.isValidElement(n)&&e.push(n)}),e}const QJ=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=m.useMemo(()=>zA(t),[t]),l=a.map(cp),c=m.useRef(!0),u=m.useRef(a),d=ZE(()=>new Map),[p,g]=m.useState(a),[w,v]=m.useState(a);wL(()=>{c.current=!1,u.current=a;for(let y=0;y<w.length;y++){const S=cp(w[y]);l.includes(S)?d.delete(S):d.get(S)!==!0&&d.set(S,!1)}},[w,l.length,l.join("-")]);const E=[];if(a!==p){let y=[...a];for(let S=0;S<w.length;S++){const A=w[S],D=cp(A);l.includes(D)||(y.splice(S,0,A),E.push(A))}o==="wait"&&E.length&&(y=E),v(zA(y)),g(a);return}const{forceRender:_}=m.useContext(qE);return f.jsx(f.Fragment,{children:w.map(y=>{const S=cp(y),A=a===w||l.includes(S),D=()=>{if(d.has(S))d.set(S,!0);else return;let O=!0;d.forEach(C=>{C||(O=!1)}),O&&(_==null||_(),v(u.current),s&&s())};return f.jsx(qJ,{isPresent:A,initial:!c.current||r?void 0:!1,custom:A?void 0:n,presenceAffectsLayout:i,mode:o,onExitComplete:A?void 0:D,children:y},S)})})},YJ=({messageHistory:t,endOfMessagesRef:e,handleMessageClick:n})=>f.jsxs("div",{className:"flex-1 py-4 overflow-y-auto",children:[f.jsx(QJ,{children:f.jsx(iy,{items:t,renderItem:r=>f.jsx(KJ.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`mb-4 ${r.sender==="user"?"text-right":"text-left"}`,children:f.jsx(TG,{message:r,onItemClick:n})},r.uuid),listStyle:"px-4 flex flex-col space-y-4"})}),f.jsx("div",{ref:e})]}),XJ=()=>{const{messageHistory:t,handleSubmitMessage:e,endOfMessagesRef:n,selectedResponse:r,setSelectedResponse:s,isInfoPanelOpen:i,setIsInfoPanelOpen:o}=uG();return f.jsxs("div",{className:"flex flex-col w-full max-w-4xl h-[44rem] border border-neutral-200 bg-white rounded-md",children:[f.jsxs("header",{className:"w-full h-[4rem] text-xl font-medium flex items-center justify-between px-4 border-b border-customBorderColor",children:["Admin Chat Interface",f.jsx("button",{onClick:()=>o(a=>!a),children:f.jsx("div",{className:"border border-customBorderColor text-zinc-500 p-1.5 rounded-sm hover:bg-zinc-50",children:f.jsx(SW,{})})})]}),f.jsxs("div",{className:"flex-1 flex overflow-y-auto",children:[f.jsxs("section",{className:"flex-1 flex flex-col",children:[f.jsx(YJ,{messageHistory:t,endOfMessagesRef:n,handleMessageClick:s}),f.jsx(wG,{onSendMessage:e})]}),f.jsx(vG,{showPanel:i,responseData:r})]})]})},JJ=()=>f.jsxs("div",{className:"flex items-center flex-col w-[84rem] px-20 space-y-6 pb-8",children:[f.jsx(aG,{headerText:"Chatbot"}),f.jsx(XJ,{})]}),ZJ=()=>f.jsx("header",{className:"py-4 text-3xl font-semibold w-full",children:"Knowledge"});function eZ(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var sT=t=>{const{present:e,children:n}=t,r=tZ(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ke(r.ref,nZ(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};sT.displayName="Presence";function tZ(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=eZ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=up(r.current);i.current=a==="mounted"?c:"none"},[a]),Rt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=up(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Rt(()=>{if(e){const c=d=>{const g=up(r.current).includes(d.animationName);d.target===e&&g&&Di.flushSync(()=>l("ANIMATION_END"))},u=d=>{d.target===e&&(i.current=up(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function up(t){return(t==null?void 0:t.animationName)||"none"}function nZ(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var iT="Tabs",[rZ,Yue]=tu(iT,[Yg]),OL=Yg(),[sZ,oT]=rZ(iT),LL=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=Kg(a),[d,p]=Oo({prop:r,onChange:s,defaultProp:i});return f.jsx(sZ,{scope:n,baseId:fs(),value:d,onValueChange:p,orientation:o,dir:u,activationMode:l,children:f.jsx(xe.div,{dir:u,"data-orientation":o,...c,ref:e})})});LL.displayName=iT;var jL="TabsList",VL=m.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=oT(jL,n),o=OL(n);return f.jsx(Wk,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:f.jsx(xe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});VL.displayName=jL;var FL="TabsTrigger",UL=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=oT(FL,n),a=OL(n),l=$L(o.baseId,r),c=zL(o.baseId,r),u=r===o.value;return f.jsx(Hk,{asChild:!0,...a,focusable:!s,active:u,children:f.jsx(xe.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:ee(t.onMouseDown,d=>{!s&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:ee(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:ee(t.onFocus,()=>{const d=o.activationMode!=="manual";!u&&!s&&d&&o.onValueChange(r)})})})});UL.displayName=FL;var BL="TabsContent",my=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=oT(BL,n),l=$L(a.baseId,r),c=zL(a.baseId,r),u=r===a.value,d=m.useRef(u);return m.useEffect(()=>{const p=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(p)},[]),f.jsx(sT,{present:s||u,children:({present:p})=>f.jsx(xe.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:p&&i})})});my.displayName=BL;function $L(t,e){return`${t}-trigger-${e}`}function zL(t,e){return`${t}-content-${e}`}var iZ=LL,KL=VL,WL=UL,HL=my;const oZ=iZ,qL=m.forwardRef(({className:t,...e},n)=>f.jsx(KL,{ref:n,className:de("inline-flex min-h-10 items-center justify-center rounded-tl-md rounded-tr-md bg-muted text-muted-foreground",t),...e}));qL.displayName=KL.displayName;const GL=m.forwardRef(({className:t,...e},n)=>f.jsx(WL,{ref:n,className:de("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-2 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));GL.displayName=WL.displayName;const QL=m.forwardRef(({className:t,...e},n)=>f.jsx(HL,{ref:n,className:de("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));QL.displayName=HL.displayName;const aZ=[{tabValue:"knowledgeBase",tabName:"Knowledge Base"},{tabValue:"knowledgeEntry",tabName:"Knowledge Entry"},{tabValue:"entryDetails",tabName:"Entry Details"}],lZ={knowledgeBase:vW,knowledgeEntry:hW,entryDetails:fk},cZ=({tabs:t})=>f.jsx(qL,{className:"grid w-full grid-cols-3 bg-heading px-4 py-3",children:t.map(({tabName:e,tabValue:n})=>{const r=lZ[n];return f.jsxs(GL,{value:n,className:"data-[state=active]:bg-primary data-[state=active]:text-white",children:[f.jsx(r,{className:"size-5 mr-2"}),f.jsx("p",{className:"hidden md:block",children:e})]},e)})});var uZ="DismissableLayer",Z0="dismissableLayer.update",dZ="dismissableLayer.pointerDownOutside",hZ="dismissableLayer.focusOutside",KA,YL=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),XL=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(YL),[u,d]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,C=>d(C)),v=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(E),y=u?v.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,A=y>=_,D=mZ(C=>{const T=C.target,I=[...c.branches].some(P=>P.contains(T));!A||I||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),O=gZ(C=>{const T=C.target;[...c.branches].some(P=>P.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return Hh(C=>{y===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(KA=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),WA(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=KA)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),WA())},[u,c]),m.useEffect(()=>{const C=()=>g({});return document.addEventListener(Z0,C),()=>document.removeEventListener(Z0,C)},[]),f.jsx(xe.div,{...l,ref:w,style:{pointerEvents:S?A?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,D.onPointerDownCapture)})});XL.displayName=uZ;var fZ="DismissableLayerBranch",pZ=m.forwardRef((t,e)=>{const n=m.useContext(YL),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(xe.div,{...t,ref:s})});pZ.displayName=fZ;function mZ(t,e=globalThis==null?void 0:globalThis.document){const n=kt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){JL(dZ,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function gZ(t,e=globalThis==null?void 0:globalThis.document){const n=kt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&JL(hZ,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function WA(){const t=new CustomEvent(Z0);document.dispatchEvent(t)}function JL(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?cl(s,i):s.dispatchEvent(i)}var yZ="VisuallyHidden",sf=m.forwardRef((t,e)=>f.jsx(xe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));sf.displayName=yZ;var vZ=sf,[gy,Xue]=tu("Tooltip",[su]),yy=su(),ZL="TooltipProvider",wZ=700,e_="tooltip.open",[_Z,aT]=gy(ZL),ej=t=>{const{__scopeTooltip:e,delayDuration:n=wZ,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=m.useState(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),f.jsx(_Z,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};ej.displayName=ZL;var vy="Tooltip",[xZ,wy]=gy(vy),tj=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=aT(vy,t.__scopeTooltip),c=yy(e),[u,d]=m.useState(null),p=fs(),g=m.useRef(0),w=o??l.disableHoverableContent,v=a??l.delayDuration,E=m.useRef(!1),[_=!1,y]=Oo({prop:r,defaultProp:s,onChange:C=>{C?(l.onOpen(),document.dispatchEvent(new CustomEvent(e_))):l.onClose(),i==null||i(C)}}),S=m.useMemo(()=>_?E.current?"delayed-open":"instant-open":"closed",[_]),A=m.useCallback(()=>{window.clearTimeout(g.current),E.current=!1,y(!0)},[y]),D=m.useCallback(()=>{window.clearTimeout(g.current),y(!1)},[y]),O=m.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{E.current=!0,y(!0)},v)},[v,y]);return m.useEffect(()=>()=>window.clearTimeout(g.current),[]),f.jsx(cE,{...c,children:f.jsx(xZ,{scope:e,contentId:p,open:_,stateAttribute:S,trigger:u,onTriggerChange:d,onTriggerEnter:m.useCallback(()=>{l.isOpenDelayed?O():A()},[l.isOpenDelayed,O,A]),onTriggerLeave:m.useCallback(()=>{w?D():window.clearTimeout(g.current)},[D,w]),onOpen:A,onClose:D,disableHoverableContent:w,children:n})})};tj.displayName=vy;var t_="TooltipTrigger",nj=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=wy(t_,n),i=aT(t_,n),o=yy(n),a=m.useRef(null),l=ke(e,a,s.onTriggerChange),c=m.useRef(!1),u=m.useRef(!1),d=m.useCallback(()=>c.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),f.jsx(uE,{asChild:!0,...o,children:f.jsx(xe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ee(t.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:ee(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:ee(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:ee(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:ee(t.onBlur,s.onClose),onClick:ee(t.onClick,s.onClose)})})});nj.displayName=t_;var EZ="TooltipPortal",[Jue,TZ]=gy(EZ,{forceMount:void 0}),Fc="TooltipContent",rj=m.forwardRef((t,e)=>{const n=TZ(Fc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=wy(Fc,t.__scopeTooltip);return f.jsx(sT,{present:r||o.open,children:o.disableHoverableContent?f.jsx(sj,{side:s,...i,ref:e}):f.jsx(SZ,{side:s,...i,ref:e})})}),SZ=m.forwardRef((t,e)=>{const n=wy(Fc,t.__scopeTooltip),r=aT(Fc,t.__scopeTooltip),s=m.useRef(null),i=ke(e,s),[o,a]=m.useState(null),{trigger:l,onClose:c}=n,u=s.current,{onPointerInTransitChange:d}=r,p=m.useCallback(()=>{a(null),d(!1)},[d]),g=m.useCallback((w,v)=>{const E=w.currentTarget,_={x:w.clientX,y:w.clientY},y=AZ(_,E.getBoundingClientRect()),S=PZ(_,y),A=RZ(v.getBoundingClientRect()),D=DZ([...S,...A]);a(D),d(!0)},[d]);return m.useEffect(()=>()=>p(),[p]),m.useEffect(()=>{if(l&&u){const w=E=>g(E,u),v=E=>g(E,l);return l.addEventListener("pointerleave",w),u.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",w),u.removeEventListener("pointerleave",v)}}},[l,u,g,p]),m.useEffect(()=>{if(o){const w=v=>{const E=v.target,_={x:v.clientX,y:v.clientY},y=(l==null?void 0:l.contains(E))||(u==null?void 0:u.contains(E)),S=!NZ(_,o);y?p():S&&(p(),c())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,u,o,c,p]),f.jsx(sj,{...t,ref:i})}),[bZ,CZ]=gy(vy,{isInside:!1}),sj=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=wy(Fc,n),c=yy(n),{onClose:u}=l;return m.useEffect(()=>(document.addEventListener(e_,u),()=>document.removeEventListener(e_,u)),[u]),m.useEffect(()=>{if(l.trigger){const d=p=>{const g=p.target;g!=null&&g.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),f.jsx(XL,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:f.jsxs(dE,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(Zx,{children:r}),f.jsx(bZ,{scope:n,isInside:!0,children:f.jsx(vZ,{id:l.contentId,role:"tooltip",children:s||r})})]})})});rj.displayName=Fc;var ij="TooltipArrow",IZ=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=yy(n);return CZ(ij,n).isInside?null:f.jsx(hE,{...s,...r,ref:e})});IZ.displayName=ij;function AZ(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function PZ(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function RZ(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function NZ(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function DZ(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),kZ(e)}function kZ(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var MZ=ej,OZ=tj,LZ=nj,oj=rj;const jZ=MZ,VZ=OZ,FZ=LZ,aj=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(oj,{ref:r,sideOffset:e,className:de("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));aj.displayName=oj.displayName;const _y=({tooltip:t,children:e})=>f.jsx(jZ,{children:f.jsxs(VZ,{children:[f.jsx(FZ,{asChild:!0,children:e}),f.jsx(aj,{className:"max-w-xs",children:f.jsx("p",{className:"text-zinc-800",children:t})})]})}),UZ={entry:"ENTRY",base:"BASE"},BZ="A unique action or purpose the user wants to achieve",$Z="Example phrases the bot associates with the intent during training",zZ="The bot's response to the query",yo={passwordIncorrect:"Admin password is incorrect",passwordSameAsOld:"New password must be different from the old one"},KZ=8,WZ=5,ut=Yo((t,e)=>({formData:{knowledgeBaseName:"",intent:"",documents:[""],answer:"",fileUrl:"",file:null},formDataErrors:{},setFormData:(n,r)=>{t(s=>({formData:{...s.formData,[n]:r}}))},setFile:n=>{t(r=>({formData:{...r.formData,file:n}}))},setFormDataErrors:n=>{t({formDataErrors:n})},setDocuments:(n,r)=>{const s=e().formData.documents;s[r]=n,t(i=>({formData:{...i.formData,documents:s}}))},addDocument:()=>{e().formData.documents.length>=KZ||t(n=>({formData:{...n.formData,documents:[...n.formData.documents,""]}}))},removeDocument:n=>{const r=e().formData.documents;if(r.length===1)throw new Error("Documents cannot be empty");r.splice(n,1),t(s=>({formData:{...s.formData,documents:r}}))},clearFormData:()=>{t(()=>({formData:{knowledgeBaseName:"",intent:"",documents:[""],answer:"",fileUrl:"",file:null},formDataErrors:{knowledgeBaseName:"",intent:"",documents:"",answer:""}}))}})),HZ=()=>{const{intent:t}=ut(r=>r.formData),e=ut(r=>r.setFormData),n=Pt(r=>r.admin);return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-fit",children:f.jsx(_y,{tooltip:BZ,children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("label",{htmlFor:"intent",className:"cursor-pointer font-medium ",children:"Intent"}),f.jsx(Ug,{className:"size-4 text-[#64748b] cursor-pointer"})]})})}),f.jsx(on,{id:"intent",placeholder:"Enter intent",value:t,className:"mt-1",readOnly:(n==null?void 0:n.role)==="viewer",onChange:r=>e("intent",r.target.value)})]})},fr=m.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:de("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));fr.displayName="Card";const ps=m.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:de("flex flex-col space-y-1.5 p-6",t),...e}));ps.displayName="CardHeader";const ms=m.forwardRef(({className:t,...e},n)=>f.jsx("h3",{ref:n,className:de("text-2xl font-semibold leading-none tracking-tight",t),...e}));ms.displayName="CardTitle";const hl=m.forwardRef(({className:t,...e},n)=>f.jsx("p",{ref:n,className:de("text-sm text-muted-foreground",t),...e}));hl.displayName="CardDescription";const br=m.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:de("p-6 pt-0",t),...e}));br.displayName="CardContent";const lj=m.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:de("flex items-center p-6 pt-0",t),...e}));lj.displayName="CardFooter";const qZ=()=>{var o;const t=ut(a=>a.formData),e=ut(a=>a.setDocuments),n=ut(a=>a.addDocument),r=ut(a=>a.removeDocument),s=Pt(a=>a.admin),i=async a=>{try{if(!t.intent)return;if(t.documents.length===1)return window.alert("Documents cannot be empty");r(a)}catch(l){console.error(l)}};return f.jsxs("div",{children:[f.jsx("div",{className:"w-fit",children:f.jsx(_y,{tooltip:$Z,children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("label",{className:"cursor-pointer font-medium ",children:"Document"}),f.jsx(Ug,{className:"size-4 text-[#64748b] cursor-pointer"})]})})}),f.jsx("div",{className:"space-y-2 mt-1",children:(o=t.documents)==null?void 0:o.map((a,l)=>f.jsx(fr,{className:"w-full hover:bg-lightGray transition-colors",children:f.jsxs(br,{className:"p-4 w-full flex items-center justify-between-",children:[f.jsx("div",{className:"flex w-full items-center space-x-4",children:f.jsx("input",{value:a,id:"document",className:"text-sm bg-transparent outline-none w-full py-2",placeholder:"Enter document",readOnly:(s==null?void 0:s.role)==="viewer",onChange:c=>e(c.target.value,l)})}),f.jsx("div",{className:"flex space-x-2",children:(s==null?void 0:s.role)!=="viewer"&&f.jsxs(ct,{variant:"ghost",size:"icon",className:"hover:bg-transparent",onClick:async()=>{await i(l)},children:[f.jsx(Jx,{className:"size-5 font-bold hover:text-red-600 ease-in",strokeWidth:2}),f.jsx("span",{className:"sr-only",children:"Delete"})]})})]})},l))}),(s==null?void 0:s.role)!=="viewer"&&f.jsxs(ct,{variant:"outline",size:"sm",className:"mt-2",onClick:n,disabled:!t.intent,children:[f.jsx(Wh,{className:"w-4 h-4 mr-2"})," Add Document"]})]})},cj=m.forwardRef(({className:t,...e},n)=>f.jsx("textarea",{className:de("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));cj.displayName="Textarea";const GZ=".png,.jpg,.mp4,.pdf",QZ=({fileRef:t,changeFile:e})=>f.jsxs("div",{children:[f.jsx(on,{id:"file-upload",type:"file",className:"hidden",ref:t,accept:GZ,onChange:e}),f.jsx(ct,{variant:"ghost",size:"icon",className:"size-8 rounded-full hover:bg-neutral-100 p-1.5",onClick:()=>{var n;return(n=t.current)==null?void 0:n.click()},children:f.jsx(pk,{className:"size-4"})})]});var YZ="Label",uj=m.forwardRef((t,e)=>f.jsx(xe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));uj.displayName=YZ;var dj=uj;const XZ=Jh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),hn=m.forwardRef(({className:t,...e},n)=>f.jsx(dj,{ref:n,className:de(XZ(),t),...e}));hn.displayName=dj.displayName;const JZ=({isLinkDropdownOpen:t,setIsLinkDropdownOpen:e,onInsertLink:n})=>{const[r,s]=m.useState(""),[i,o]=m.useState(""),a=()=>{e(!1),n(r,i),s(""),o("")};return f.jsxs(ty,{open:t,onOpenChange:e,children:[f.jsx(ny,{asChild:!0,children:f.jsx(ct,{variant:"ghost",size:"icon",className:"size-8 rounded-full hover:bg-neutral-100 p-1.5",onClick:()=>e(!0),children:f.jsx(_W,{className:"size-4"})})}),f.jsx(Xh,{side:"top",className:"w-56",children:f.jsxs("div",{className:"flex flex-col p-4 space-y-4",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx(hn,{htmlFor:"link-url",className:"mb-1",children:"URL"}),f.jsx(on,{id:"link-url",value:r,onChange:l=>s(l.target.value),className:"col-span-3",placeholder:"Enter link URL"})]}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx(hn,{htmlFor:"link-text",className:"mb-1",children:"Text"}),f.jsx(on,{id:"link-text",value:i,onChange:l=>o(l.target.value),className:"col-span-3",placeholder:"Enter link Text"})]}),f.jsx(ct,{onClick:a,children:"Insert Link"})]})})]})},hj=({answer:t,handleTextChange:e,onFileChange:n,fileRef:r,textAreaRef:s,isError:i,isLinkDropDownVisible:o,setIsLinkDropDownVisible:a,onInsertLink:l})=>{const c=Pt(d=>d.admin),u=d=>{const p=d.target;p.style.height="auto",p.style.height=`${p.scrollHeight}px`,e("answer",p.value)};return m.useEffect(()=>{s.current&&(s.current.style.height="auto",s.current.style.height=`${s.current.scrollHeight}px`)},[s,t]),f.jsxs("div",{className:"relative mb-4 ",children:[f.jsx(cj,{spellCheck:!1,name:"answer",ref:s,placeholder:"Enter the answer",className:de("min-h-[100px] pb-12 overflow-hidden resize-none outline-none focus:outline-none",i&&"border-destructive"),readOnly:(c==null?void 0:c.role)==="viewer",value:t,onChange:u}),(c==null?void 0:c.role)!=="viewer"&&f.jsxs("div",{className:"absolute bottom-2 left-2 flex space-x-2",children:[f.jsx(JZ,{isLinkDropdownOpen:o,setIsLinkDropdownOpen:a,onInsertLink:l}),f.jsx(QZ,{fileRef:r,changeFile:n})]})]})},fj=({file:t,removeFile:e})=>{const n=Pt(r=>r.admin);return f.jsx("div",{className:"mt-4 p-4 border rounded-md bg-muted",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-2 py-2 overflow-hidden",children:[f.jsx(pk,{className:"h-4 w-4 text-muted-foreground"}),f.jsx("div",{className:"font-medium truncate max-w-[250px]",children:t.name}),f.jsxs("div",{className:"text-sm text-center text-muted-foreground w-20",children:["(",nG(t.size),")"]})]}),(n==null?void 0:n.role)!=="viewer"&&f.jsx(ct,{variant:"ghost",size:"icon",onClick:e,className:"h-8 w-8 min-w-8",children:f.jsx(Bg,{className:"h-4 w-4"})})]})})};function et({className:t,...e}){return f.jsx("div",{className:de("animate-pulse rounded-md bg-muted",t),...e})}var ZZ="firebase",eee="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hr(ZZ,eee,"app");var HA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ua,pj;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function I(){}I.prototype=T.prototype,C.D=T.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(P,M,k){for(var N=Array(arguments.length-2),H=2;H<arguments.length;H++)N[H-2]=arguments[H];return T.prototype[M].apply(P,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,T,I){I||(I=0);var P=Array(16);if(typeof T=="string")for(var M=0;16>M;++M)P[M]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(M=0;16>M;++M)P[M]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=C.g[0],I=C.g[1],M=C.g[2];var k=C.g[3],N=T+(k^I&(M^k))+P[0]+3614090360&4294967295;T=I+(N<<7&4294967295|N>>>25),N=k+(M^T&(I^M))+P[1]+3905402710&4294967295,k=T+(N<<12&4294967295|N>>>20),N=M+(I^k&(T^I))+P[2]+606105819&4294967295,M=k+(N<<17&4294967295|N>>>15),N=I+(T^M&(k^T))+P[3]+3250441966&4294967295,I=M+(N<<22&4294967295|N>>>10),N=T+(k^I&(M^k))+P[4]+4118548399&4294967295,T=I+(N<<7&4294967295|N>>>25),N=k+(M^T&(I^M))+P[5]+1200080426&4294967295,k=T+(N<<12&4294967295|N>>>20),N=M+(I^k&(T^I))+P[6]+2821735955&4294967295,M=k+(N<<17&4294967295|N>>>15),N=I+(T^M&(k^T))+P[7]+4249261313&4294967295,I=M+(N<<22&4294967295|N>>>10),N=T+(k^I&(M^k))+P[8]+1770035416&4294967295,T=I+(N<<7&4294967295|N>>>25),N=k+(M^T&(I^M))+P[9]+2336552879&4294967295,k=T+(N<<12&4294967295|N>>>20),N=M+(I^k&(T^I))+P[10]+4294925233&4294967295,M=k+(N<<17&4294967295|N>>>15),N=I+(T^M&(k^T))+P[11]+2304563134&4294967295,I=M+(N<<22&4294967295|N>>>10),N=T+(k^I&(M^k))+P[12]+1804603682&4294967295,T=I+(N<<7&4294967295|N>>>25),N=k+(M^T&(I^M))+P[13]+4254626195&4294967295,k=T+(N<<12&4294967295|N>>>20),N=M+(I^k&(T^I))+P[14]+2792965006&4294967295,M=k+(N<<17&4294967295|N>>>15),N=I+(T^M&(k^T))+P[15]+1236535329&4294967295,I=M+(N<<22&4294967295|N>>>10),N=T+(M^k&(I^M))+P[1]+4129170786&4294967295,T=I+(N<<5&4294967295|N>>>27),N=k+(I^M&(T^I))+P[6]+3225465664&4294967295,k=T+(N<<9&4294967295|N>>>23),N=M+(T^I&(k^T))+P[11]+643717713&4294967295,M=k+(N<<14&4294967295|N>>>18),N=I+(k^T&(M^k))+P[0]+3921069994&4294967295,I=M+(N<<20&4294967295|N>>>12),N=T+(M^k&(I^M))+P[5]+3593408605&4294967295,T=I+(N<<5&4294967295|N>>>27),N=k+(I^M&(T^I))+P[10]+38016083&4294967295,k=T+(N<<9&4294967295|N>>>23),N=M+(T^I&(k^T))+P[15]+3634488961&4294967295,M=k+(N<<14&4294967295|N>>>18),N=I+(k^T&(M^k))+P[4]+3889429448&4294967295,I=M+(N<<20&4294967295|N>>>12),N=T+(M^k&(I^M))+P[9]+568446438&4294967295,T=I+(N<<5&4294967295|N>>>27),N=k+(I^M&(T^I))+P[14]+3275163606&4294967295,k=T+(N<<9&4294967295|N>>>23),N=M+(T^I&(k^T))+P[3]+4107603335&4294967295,M=k+(N<<14&4294967295|N>>>18),N=I+(k^T&(M^k))+P[8]+1163531501&4294967295,I=M+(N<<20&4294967295|N>>>12),N=T+(M^k&(I^M))+P[13]+2850285829&4294967295,T=I+(N<<5&4294967295|N>>>27),N=k+(I^M&(T^I))+P[2]+4243563512&4294967295,k=T+(N<<9&4294967295|N>>>23),N=M+(T^I&(k^T))+P[7]+1735328473&4294967295,M=k+(N<<14&4294967295|N>>>18),N=I+(k^T&(M^k))+P[12]+2368359562&4294967295,I=M+(N<<20&4294967295|N>>>12),N=T+(I^M^k)+P[5]+4294588738&4294967295,T=I+(N<<4&4294967295|N>>>28),N=k+(T^I^M)+P[8]+2272392833&4294967295,k=T+(N<<11&4294967295|N>>>21),N=M+(k^T^I)+P[11]+1839030562&4294967295,M=k+(N<<16&4294967295|N>>>16),N=I+(M^k^T)+P[14]+4259657740&4294967295,I=M+(N<<23&4294967295|N>>>9),N=T+(I^M^k)+P[1]+2763975236&4294967295,T=I+(N<<4&4294967295|N>>>28),N=k+(T^I^M)+P[4]+1272893353&4294967295,k=T+(N<<11&4294967295|N>>>21),N=M+(k^T^I)+P[7]+4139469664&4294967295,M=k+(N<<16&4294967295|N>>>16),N=I+(M^k^T)+P[10]+3200236656&4294967295,I=M+(N<<23&4294967295|N>>>9),N=T+(I^M^k)+P[13]+681279174&4294967295,T=I+(N<<4&4294967295|N>>>28),N=k+(T^I^M)+P[0]+3936430074&4294967295,k=T+(N<<11&4294967295|N>>>21),N=M+(k^T^I)+P[3]+3572445317&4294967295,M=k+(N<<16&4294967295|N>>>16),N=I+(M^k^T)+P[6]+76029189&4294967295,I=M+(N<<23&4294967295|N>>>9),N=T+(I^M^k)+P[9]+3654602809&4294967295,T=I+(N<<4&4294967295|N>>>28),N=k+(T^I^M)+P[12]+3873151461&4294967295,k=T+(N<<11&4294967295|N>>>21),N=M+(k^T^I)+P[15]+530742520&4294967295,M=k+(N<<16&4294967295|N>>>16),N=I+(M^k^T)+P[2]+3299628645&4294967295,I=M+(N<<23&4294967295|N>>>9),N=T+(M^(I|~k))+P[0]+4096336452&4294967295,T=I+(N<<6&4294967295|N>>>26),N=k+(I^(T|~M))+P[7]+1126891415&4294967295,k=T+(N<<10&4294967295|N>>>22),N=M+(T^(k|~I))+P[14]+2878612391&4294967295,M=k+(N<<15&4294967295|N>>>17),N=I+(k^(M|~T))+P[5]+4237533241&4294967295,I=M+(N<<21&4294967295|N>>>11),N=T+(M^(I|~k))+P[12]+1700485571&4294967295,T=I+(N<<6&4294967295|N>>>26),N=k+(I^(T|~M))+P[3]+2399980690&4294967295,k=T+(N<<10&4294967295|N>>>22),N=M+(T^(k|~I))+P[10]+4293915773&4294967295,M=k+(N<<15&4294967295|N>>>17),N=I+(k^(M|~T))+P[1]+2240044497&4294967295,I=M+(N<<21&4294967295|N>>>11),N=T+(M^(I|~k))+P[8]+1873313359&4294967295,T=I+(N<<6&4294967295|N>>>26),N=k+(I^(T|~M))+P[15]+4264355552&4294967295,k=T+(N<<10&4294967295|N>>>22),N=M+(T^(k|~I))+P[6]+2734768916&4294967295,M=k+(N<<15&4294967295|N>>>17),N=I+(k^(M|~T))+P[13]+1309151649&4294967295,I=M+(N<<21&4294967295|N>>>11),N=T+(M^(I|~k))+P[4]+4149444226&4294967295,T=I+(N<<6&4294967295|N>>>26),N=k+(I^(T|~M))+P[11]+3174756917&4294967295,k=T+(N<<10&4294967295|N>>>22),N=M+(T^(k|~I))+P[2]+718787259&4294967295,M=k+(N<<15&4294967295|N>>>17),N=I+(k^(M|~T))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+k&4294967295}r.prototype.u=function(C,T){T===void 0&&(T=C.length);for(var I=T-this.blockSize,P=this.B,M=this.h,k=0;k<T;){if(M==0)for(;k<=I;)s(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<T;)if(P[M++]=C.charCodeAt(k++),M==this.blockSize){s(this,P),M=0;break}}else for(;k<T;)if(P[M++]=C[k++],M==this.blockSize){s(this,P),M=0;break}}this.h=M,this.o+=T},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;var I=8*this.o;for(T=C.length-8;T<C.length;++T)C[T]=I&255,I/=256;for(this.u(C),C=Array(16),T=I=0;4>T;++T)for(var P=0;32>P;P+=8)C[I++]=this.g[T]>>>P&255;return C};function i(C,T){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=T(C)}function o(C,T){this.h=T;for(var I=[],P=!0,M=C.length-1;0<=M;M--){var k=C[M]|0;P&&k==T||(I[M]=k,P=!1)}this.g=I}var a={};function l(C){return-128<=C&&128>C?i(C,function(T){return new o([T|0],0>T?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return d;if(0>C)return E(c(-C));for(var T=[],I=1,P=0;C>=I;P++)T[P]=C/I|0,I*=4294967296;return new o(T,0)}function u(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return E(u(C.substring(1),T));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(T,8)),P=d,M=0;M<C.length;M+=8){var k=Math.min(8,C.length-M),N=parseInt(C.substring(M,M+k),T);8>k?(k=c(Math.pow(T,k)),P=P.j(k).add(c(N))):(P=P.j(I),P=P.add(c(N)))}return P}var d=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-E(this).m();for(var C=0,T=1,I=0;I<this.g.length;I++){var P=this.i(I);C+=(0<=P?P:4294967296+P)*T,T*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(w(this))return"0";if(v(this))return"-"+E(this).toString(C);for(var T=c(Math.pow(C,6)),I=this,P="";;){var M=A(I,T).g;I=_(I,M.j(T));var k=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=M,w(I))return k+P;for(;6>k.length;)k="0"+k;P=k+P}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function w(C){if(C.h!=0)return!1;for(var T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function v(C){return C.h==-1}t.l=function(C){return C=_(this,C),v(C)?-1:w(C)?0:1};function E(C){for(var T=C.g.length,I=[],P=0;P<T;P++)I[P]=~C.g[P];return new o(I,~C.h).add(p)}t.abs=function(){return v(this)?E(this):this},t.add=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],P=0,M=0;M<=T;M++){var k=P+(this.i(M)&65535)+(C.i(M)&65535),N=(k>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);P=N>>>16,k&=65535,N&=65535,I[M]=N<<16|k}return new o(I,I[I.length-1]&-2147483648?-1:0)};function _(C,T){return C.add(E(T))}t.j=function(C){if(w(this)||w(C))return d;if(v(this))return v(C)?E(this).j(E(C)):E(E(this).j(C));if(v(C))return E(this.j(E(C)));if(0>this.l(g)&&0>C.l(g))return c(this.m()*C.m());for(var T=this.g.length+C.g.length,I=[],P=0;P<2*T;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var M=0;M<C.g.length;M++){var k=this.i(P)>>>16,N=this.i(P)&65535,H=C.i(M)>>>16,ae=C.i(M)&65535;I[2*P+2*M]+=N*ae,y(I,2*P+2*M),I[2*P+2*M+1]+=k*ae,y(I,2*P+2*M+1),I[2*P+2*M+1]+=N*H,y(I,2*P+2*M+1),I[2*P+2*M+2]+=k*H,y(I,2*P+2*M+2)}for(P=0;P<T;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=T;P<2*T;P++)I[P]=0;return new o(I,0)};function y(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function S(C,T){this.g=C,this.h=T}function A(C,T){if(w(T))throw Error("division by zero");if(w(C))return new S(d,d);if(v(C))return T=A(E(C),T),new S(E(T.g),E(T.h));if(v(T))return T=A(C,E(T)),new S(E(T.g),T.h);if(30<C.g.length){if(v(C)||v(T))throw Error("slowDivide_ only works with positive integers.");for(var I=p,P=T;0>=P.l(C);)I=D(I),P=D(P);var M=O(I,1),k=O(P,1);for(P=O(P,2),I=O(I,2);!w(P);){var N=k.add(P);0>=N.l(C)&&(M=M.add(I),k=N),P=O(P,1),I=O(I,1)}return T=_(C,M.j(T)),new S(M,T)}for(M=d;0<=C.l(T);){for(I=Math.max(1,Math.floor(C.m()/T.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),k=c(I),N=k.j(T);v(N)||0<N.l(C);)I-=P,k=c(I),N=k.j(T);w(k)&&(k=p),M=M.add(k),C=_(C,N)}return new S(M,C)}t.A=function(C){return A(this,C).h},t.and=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)&C.i(P);return new o(I,this.h&C.h)},t.or=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)|C.i(P);return new o(I,this.h|C.h)},t.xor=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)^C.i(P);return new o(I,this.h^C.h)};function D(C){for(var T=C.g.length+1,I=[],P=0;P<T;P++)I[P]=C.i(P)<<1|C.i(P-1)>>>31;return new o(I,C.h)}function O(C,T){var I=T>>5;T%=32;for(var P=C.g.length-I,M=[],k=0;k<P;k++)M[k]=0<T?C.i(k+I)>>>T|C.i(k+I+1)<<32-T:C.i(k+I);return new o(M,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,pj=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Ua=o}).apply(typeof HA<"u"?HA:typeof self<"u"?self:typeof window<"u"?window:{});var dp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mj,gj,ed,yj,Kp,n_,vj,wj,_j;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,x,b){return h==Array.prototype||h==Object.prototype||(h[x]=b.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof dp=="object"&&dp];for(var x=0;x<h.length;++x){var b=h[x];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function s(h,x){if(x)e:{var b=r;h=h.split(".");for(var R=0;R<h.length-1;R++){var U=h[R];if(!(U in b))break e;b=b[U]}h=h[h.length-1],R=b[h],x=x(R),x!=R&&x!=null&&e(b,h,{configurable:!0,writable:!0,value:x})}}function i(h,x){h instanceof String&&(h+="");var b=0,R=!1,U={next:function(){if(!R&&b<h.length){var W=b++;return{value:x(W,h[W]),done:!1}}return R=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}s("Array.prototype.values",function(h){return h||function(){return i(this,function(x,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var x=typeof h;return x=x!="object"?x:h?Array.isArray(h)?"array":x:"null",x=="array"||x=="object"&&typeof h.length=="number"}function c(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function u(h,x,b){return h.call.apply(h.bind,arguments)}function d(h,x,b){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,R),h.apply(x,U)}}return function(){return h.apply(x,arguments)}}function p(h,x,b){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,p.apply(null,arguments)}function g(h,x){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function w(h,x){function b(){}b.prototype=x.prototype,h.aa=x.prototype,h.prototype=new b,h.prototype.constructor=h,h.Qb=function(R,U,W){for(var ie=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)ie[vt-2]=arguments[vt];return x.prototype[U].apply(R,ie)}}function v(h){const x=h.length;if(0<x){const b=Array(x);for(let R=0;R<x;R++)b[R]=h[R];return b}return[]}function E(h,x){for(let b=1;b<arguments.length;b++){const R=arguments[b];if(l(R)){const U=h.length||0,W=R.length||0;h.length=U+W;for(let ie=0;ie<W;ie++)h[U+ie]=R[ie]}else h.push(R)}}class _{constructor(x,b){this.i=x,this.j=b,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function y(h){return/^[\s\xa0]*$/.test(h)}function S(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function A(h){return A[" "](h),h}A[" "]=function(){};var D=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function O(h,x,b){for(const R in h)x.call(b,h[R],R,h)}function C(h,x){for(const b in h)x.call(void 0,h[b],b,h)}function T(h){const x={};for(const b in h)x[b]=h[b];return x}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(h,x){let b,R;for(let U=1;U<arguments.length;U++){R=arguments[U];for(b in R)h[b]=R[b];for(let W=0;W<I.length;W++)b=I[W],Object.prototype.hasOwnProperty.call(R,b)&&(h[b]=R[b])}}function M(h){var x=1;h=h.split(":");const b=[];for(;0<x&&h.length;)b.push(h.shift()),x--;return h.length&&b.push(h.join(":")),b}function k(h){a.setTimeout(()=>{throw h},0)}function N(){var h=B;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class H{constructor(){this.h=this.g=null}add(x,b){const R=ae.get();R.set(x,b),this.h?this.h.next=R:this.g=R,this.h=R}}var ae=new _(()=>new te,h=>h.reset());class te{constructor(){this.next=this.g=this.h=null}set(x,b){this.h=x,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,z=!1,B=new H,Z=()=>{const h=a.Promise.resolve(void 0);ne=()=>{h.then(pe)}};var pe=()=>{for(var h;h=N();){try{h.h.call(h.g)}catch(b){k(b)}var x=ae;x.j(h),100>x.h&&(x.h++,h.next=x.g,x.g=h)}z=!1};function Te(){this.s=this.s,this.C=this.C}Te.prototype.s=!1,Te.prototype.ma=function(){this.s||(this.s=!0,this.N())},Te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ae(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}Ae.prototype.h=function(){this.defaultPrevented=!0};var Xe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};a.addEventListener("test",b,x),a.removeEventListener("test",b,x)}catch{}return h}();function yt(h,x){if(Ae.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var b=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget){if(D){e:{try{A(x.nodeName);var U=!0;break e}catch{}U=!1}U||(x=null)}}else b=="mouseover"?x=h.fromElement:b=="mouseout"&&(x=h.toElement);this.relatedTarget=x,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:We[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&yt.aa.h.call(this)}}w(yt,Ae);var We={2:"touch",3:"pen",4:"mouse"};yt.prototype.h=function(){yt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),je=0;function rt(h,x,b,R,U){this.listener=h,this.proxy=null,this.src=x,this.type=b,this.capture=!!R,this.ha=U,this.key=++je,this.da=this.fa=!1}function Ve(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function $e(h){this.src=h,this.g={},this.h=0}$e.prototype.add=function(h,x,b,R,U){var W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);var ie=Ut(h,x,R,U);return-1<ie?(x=h[ie],b||(x.fa=!1)):(x=new rt(x,this.src,W,!!R,U),x.fa=b,h.push(x)),x};function Ge(h,x){var b=x.type;if(b in h.g){var R=h.g[b],U=Array.prototype.indexOf.call(R,x,void 0),W;(W=0<=U)&&Array.prototype.splice.call(R,U,1),W&&(Ve(x),h.g[b].length==0&&(delete h.g[b],h.h--))}}function Ut(h,x,b,R){for(var U=0;U<h.length;++U){var W=h[U];if(!W.da&&W.listener==x&&W.capture==!!b&&W.ha==R)return U}return-1}var st="closure_lm_"+(1e6*Math.random()|0),yn={};function kr(h,x,b,R,U){if(Array.isArray(x)){for(var W=0;W<x.length;W++)kr(h,x[W],b,R,U);return null}return b=Oe(b),h&&h[ce]?h.K(x,b,c(R)?!!R.capture:!!R,U):xs(h,x,b,!1,R,U)}function xs(h,x,b,R,U,W){if(!x)throw Error("Invalid event type");var ie=c(U)?!!U.capture:!!U,vt=J(h);if(vt||(h[st]=vt=new $e(h)),b=vt.add(x,b,R,ie,W),b.proxy)return b;if(R=L(),b.proxy=R,R.src=h,R.listener=b,h.addEventListener)Xe||(U=ie),U===void 0&&(U=!1),h.addEventListener(x.toString(),R,U);else if(h.attachEvent)h.attachEvent(le(x.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function L(){function h(b){return x.call(h.src,h.listener,b)}const x=re;return h}function $(h,x,b,R,U){if(Array.isArray(x))for(var W=0;W<x.length;W++)$(h,x[W],b,R,U);else R=c(R)?!!R.capture:!!R,b=Oe(b),h&&h[ce]?(h=h.i,x=String(x).toString(),x in h.g&&(W=h.g[x],b=Ut(W,b,R,U),-1<b&&(Ve(W[b]),Array.prototype.splice.call(W,b,1),W.length==0&&(delete h.g[x],h.h--)))):h&&(h=J(h))&&(x=h.g[x.toString()],h=-1,x&&(h=Ut(x,b,R,U)),(b=-1<h?x[h]:null)&&q(b))}function q(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[ce])Ge(x.i,h);else{var b=h.type,R=h.proxy;x.removeEventListener?x.removeEventListener(b,R,h.capture):x.detachEvent?x.detachEvent(le(b),R):x.addListener&&x.removeListener&&x.removeListener(R),(b=J(x))?(Ge(b,h),b.h==0&&(b.src=null,x[st]=null)):Ve(h)}}}function le(h){return h in yn?yn[h]:yn[h]="on"+h}function re(h,x){if(h.da)h=!0;else{x=new yt(x,this);var b=h.listener,R=h.ha||h.src;h.fa&&q(h),h=b.call(R,x)}return h}function J(h){return h=h[st],h instanceof $e?h:null}var Ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oe(h){return typeof h=="function"?h:(h[Ee]||(h[Ee]=function(x){return h.handleEvent(x)}),h[Ee])}function Le(){Te.call(this),this.i=new $e(this),this.M=this,this.F=null}w(Le,Te),Le.prototype[ce]=!0,Le.prototype.removeEventListener=function(h,x,b,R){$(this,h,x,b,R)};function Ue(h,x){var b,R=h.F;if(R)for(b=[];R;R=R.F)b.push(R);if(h=h.M,R=x.type||x,typeof x=="string")x=new Ae(x,h);else if(x instanceof Ae)x.target=x.target||h;else{var U=x;x=new Ae(R,h),P(x,U)}if(U=!0,b)for(var W=b.length-1;0<=W;W--){var ie=x.g=b[W];U=zn(ie,R,!0,x)&&U}if(ie=x.g=h,U=zn(ie,R,!0,x)&&U,U=zn(ie,R,!1,x)&&U,b)for(W=0;W<b.length;W++)ie=x.g=b[W],U=zn(ie,R,!1,x)&&U}Le.prototype.N=function(){if(Le.aa.N.call(this),this.i){var h=this.i,x;for(x in h.g){for(var b=h.g[x],R=0;R<b.length;R++)Ve(b[R]);delete h.g[x],h.h--}}this.F=null},Le.prototype.K=function(h,x,b,R){return this.i.add(String(h),x,!1,b,R)},Le.prototype.L=function(h,x,b,R){return this.i.add(String(h),x,!0,b,R)};function zn(h,x,b,R){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();for(var U=!0,W=0;W<x.length;++W){var ie=x[W];if(ie&&!ie.da&&ie.capture==b){var vt=ie.listener,vn=ie.ha||ie.src;ie.fa&&Ge(h.i,ie),U=vt.call(vn,R)!==!1&&U}}return U&&!R.defaultPrevented}function Mi(h,x,b){if(typeof h=="function")b&&(h=p(h,b));else if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:a.setTimeout(h,x||0)}function Kn(h){h.g=Mi(()=>{h.g=null,h.i&&(h.i=!1,Kn(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class Wn extends Te{constructor(x,b){super(),this.m=x,this.l=b,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Kn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(h){Te.call(this),this.h=h,this.g={}}w(Es,Te);var Ts=[];function gl(h){O(h.g,function(x,b){this.g.hasOwnProperty(b)&&q(x)},h),h.g={}}Es.prototype.N=function(){Es.aa.N.call(this),gl(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hn=a.JSON.stringify,wf=a.JSON.parse,_f=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function yl(){}yl.prototype.h=null;function xf(h){return h.h||(h.h=h.i())}function gu(){}var Ss={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vl(){Ae.call(this,"d")}w(vl,Ae);function ia(){Ae.call(this,"c")}w(ia,Ae);var Mr={},wl=null;function _l(){return wl=wl||new Le}Mr.La="serverreachability";function yu(h){Ae.call(this,Mr.La,h)}w(yu,Ae);function oa(h){const x=_l();Ue(x,new yu(x))}Mr.STAT_EVENT="statevent";function vu(h,x){Ae.call(this,Mr.STAT_EVENT,h),this.stat=x}w(vu,Ae);function Zt(h){const x=_l();Ue(x,new vu(x,h))}Mr.Ma="timingevent";function aa(h,x){Ae.call(this,Mr.Ma,h),this.size=x}w(aa,Ae);function Oi(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},x)}function la(){this.g=!0}la.prototype.xa=function(){this.g=!1};function qy(h,x,b,R,U,W){h.info(function(){if(h.g)if(W)for(var ie="",vt=W.split("&"),vn=0;vn<vt.length;vn++){var at=vt[vn].split("=");if(1<at.length){var Pn=at[0];at=at[1];var Rn=Pn.split("_");ie=2<=Rn.length&&Rn[1]=="type"?ie+(Pn+"="+at+"&"):ie+(Pn+"=redacted&")}}else ie=null;else ie=W;return"XMLHTTP REQ ("+R+") [attempt "+U+"]: "+x+`
`+b+`
`+ie})}function j(h,x,b,R,U,W,ie){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+U+"]: "+x+`
`+b+`
`+W+" "+ie})}function F(h,x,b,R){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+G(h,b)+(R?" "+R:"")})}function K(h,x){h.info(function(){return"TIMEOUT: "+x})}la.prototype.info=function(){};function G(h,x){if(!h.g)return x;if(!x)return null;try{var b=JSON.parse(x);if(b){for(h=0;h<b.length;h++)if(Array.isArray(b[h])){var R=b[h];if(!(2>R.length)){var U=R[1];if(Array.isArray(U)&&!(1>U.length)){var W=U[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ie=1;ie<U.length;ie++)U[ie]=""}}}}return Hn(b)}catch{return x}}var ue={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_e={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ie;function se(){}w(se,yl),se.prototype.g=function(){return new XMLHttpRequest},se.prototype.i=function(){return{}},Ie=new se;function ve(h,x,b,R){this.j=h,this.i=x,this.l=b,this.R=R||1,this.U=new Es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}var ye={},Je={};function it(h,x,b){h.L=1,h.v=Cf(qs(x)),h.m=b,h.P=!0,ft(h,null)}function ft(h,x){h.F=Date.now(),Tt(h),h.A=qs(h.v);var b=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),IS(b.i,"t",R),h.C=0,b=h.j.J,h.h=new me,h.g=WS(h.j,b?x:null,!h.m),0<h.O&&(h.M=new Wn(p(h.Y,h,h.g),h.O)),x=h.U,b=h.g,R=h.ca;var U="readystatechange";Array.isArray(U)||(U&&(Ts[0]=U.toString()),U=Ts);for(var W=0;W<U.length;W++){var ie=kr(b,U[W],R||x.handleEvent,!1,x.h||x);if(!ie)break;x.g[ie.key]=ie}x=h.H?T(h.H):{},h.m?(h.u||(h.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,x)):(h.u="GET",h.g.ea(h.A,h.u,null,x)),oa(),qy(h.i,h.u,h.A,h.l,h.R,h.m)}ve.prototype.ca=function(h){h=h.target;const x=this.M;x&&Gs(h)==3?x.j():this.Y(h)},ve.prototype.Y=function(h){try{if(h==this.g)e:{const Rn=Gs(this.g);var x=this.g.Ba();const Tl=this.g.Z();if(!(3>Rn)&&(Rn!=3||this.g&&(this.h.h||this.g.oa()||MS(this.g)))){this.J||Rn!=4||x==7||(x==8||0>=Tl?oa(3):oa(2)),mr(this);var b=this.g.Z();this.X=b;t:if(Qe(this)){var R=MS(this.g);h="";var U=R.length,W=Gs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){In(this),Or(this);var ie="";break t}this.h.i=new a.TextDecoder}for(x=0;x<U;x++)this.h.h=!0,h+=this.h.i.decode(R[x],{stream:!(W&&x==U-1)});R.length=0,this.h.g+=h,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=b==200,j(this.i,this.u,this.A,this.l,this.R,Rn,b),this.o){if(this.T&&!this.K){t:{if(this.g){var vt,vn=this.g;if((vt=vn.g?vn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(vt)){var at=vt;break t}}at=null}if(b=at)F(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ji(this,b);else{this.o=!1,this.s=3,Zt(12),In(this),Or(this);break e}}if(this.P){b=!0;let Zr;for(;!this.J&&this.C<ie.length;)if(Zr=en(this,ie),Zr==Je){Rn==4&&(this.s=4,Zt(14),b=!1),F(this.i,this.l,null,"[Incomplete Response]");break}else if(Zr==ye){this.s=4,Zt(15),F(this.i,this.l,ie,"[Invalid Chunk]"),b=!1;break}else F(this.i,this.l,Zr,null),ji(this,Zr);if(Qe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rn!=4||ie.length!=0||this.h.h||(this.s=1,Zt(16),b=!1),this.o=this.o&&b,!b)F(this.i,this.l,ie,"[Invalid Chunked Response]"),In(this),Or(this);else if(0<ie.length&&!this.W){this.W=!0;var Pn=this.j;Pn.g==this&&Pn.ba&&!Pn.M&&(Pn.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Xy(Pn),Pn.M=!0,Zt(11))}}else F(this.i,this.l,ie,null),ji(this,ie);Rn==4&&In(this),this.o&&!this.J&&(Rn==4?BS(this.j,this):(this.o=!1,Tt(this)))}else W4(this.g),b==400&&0<ie.indexOf("Unknown SID")?(this.s=3,Zt(12)):(this.s=0,Zt(13)),In(this),Or(this)}}}catch{}finally{}};function Qe(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function en(h,x){var b=h.C,R=x.indexOf(`
`,b);return R==-1?Je:(b=Number(x.substring(b,R)),isNaN(b)?ye:(R+=1,R+b>x.length?Je:(x=x.slice(R,R+b),h.C=R+b,x)))}ve.prototype.cancel=function(){this.J=!0,In(this)};function Tt(h){h.S=Date.now()+h.I,Li(h,h.I)}function Li(h,x){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Oi(p(h.ba,h),x)}function mr(h){h.B&&(a.clearTimeout(h.B),h.B=null)}ve.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(K(this.i,this.A),this.L!=2&&(oa(),Zt(17)),In(this),this.s=2,Or(this)):Li(this,this.S-h)};function Or(h){h.j.G==0||h.J||BS(h.j,h)}function In(h){mr(h);var x=h.M;x&&typeof x.ma=="function"&&x.ma(),h.M=null,gl(h.U),h.g&&(x=h.g,h.g=null,x.abort(),x.ma())}function ji(h,x){try{var b=h.j;if(b.G!=0&&(b.g==h||Ne(b.h,h))){if(!h.K&&Ne(b.h,h)&&b.G==3){try{var R=b.Da.g.parse(x)}catch{R=null}if(Array.isArray(R)&&R.length==3){var U=R;if(U[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<h.F)Nf(b),Pf(b);else break e;Yy(b),Zt(18)}}else b.za=U[1],0<b.za-b.T&&37500>U[2]&&b.F&&b.v==0&&!b.C&&(b.C=Oi(p(b.Za,b),6e3));if(1>=da(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else fa(b,11)}else if((h.K||b.g==h)&&Nf(b),!y(x))for(U=b.Da.g.parse(x),x=0;x<U.length;x++){let at=U[x];if(b.T=at[0],at=at[1],b.G==2)if(at[0]=="c"){b.K=at[1],b.ia=at[2];const Pn=at[3];Pn!=null&&(b.la=Pn,b.j.info("VER="+b.la));const Rn=at[4];Rn!=null&&(b.Aa=Rn,b.j.info("SVER="+b.Aa));const Tl=at[5];Tl!=null&&typeof Tl=="number"&&0<Tl&&(R=1.5*Tl,b.L=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const Zr=h.g;if(Zr){const kf=Zr.g?Zr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kf){var W=R.h;W.g||kf.indexOf("spdy")==-1&&kf.indexOf("quic")==-1&&kf.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(xt(W,W.h),W.h=null))}if(R.D){const Jy=Zr.g?Zr.g.getResponseHeader("X-HTTP-Session-Id"):null;Jy&&(R.ya=Jy,bt(R.I,R.D,Jy))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-h.F,b.j.info("Handshake RTT: "+b.R+"ms")),R=b;var ie=h;if(R.qa=KS(R,R.J?R.ia:null,R.W),ie.K){An(R.h,ie);var vt=ie,vn=R.L;vn&&(vt.I=vn),vt.B&&(mr(vt),Tt(vt)),R.g=ie}else FS(R);0<b.i.length&&Rf(b)}else at[0]!="stop"&&at[0]!="close"||fa(b,7);else b.G==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?fa(b,7):Qy(b):at[0]!="noop"&&b.l&&b.l.ta(at),b.v=0)}}oa(4)}catch{}}var Xr=class{constructor(h,x){this.g=h,this.map=x}};function ca(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ua(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function da(h){return h.h?1:h.g?h.g.size:0}function Ne(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function xt(h,x){h.g?h.g.add(x):h.h=x}function An(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}ca.prototype.cancel=function(){if(this.i=St(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function St(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const b of h.g.values())x=x.concat(b.D);return x}return v(h.i)}function Jr(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var x=[],b=h.length,R=0;R<b;R++)x.push(h[R]);return x}x=[],b=0;for(R in h)x[b++]=h[R];return x}function Ef(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var x=[];h=h.length;for(var b=0;b<h;b++)x.push(b);return x}x=[],b=0;for(const R in h)x[b++]=R;return x}}}function Tf(h,x){if(h.forEach&&typeof h.forEach=="function")h.forEach(x,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,x,void 0);else for(var b=Ef(h),R=Jr(h),U=R.length,W=0;W<U;W++)x.call(void 0,R[W],b&&b[W],h)}var ES=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function D4(h,x){if(h){h=h.split("&");for(var b=0;b<h.length;b++){var R=h[b].indexOf("="),U=null;if(0<=R){var W=h[b].substring(0,R);U=h[b].substring(R+1)}else W=h[b];x(W,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function ha(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof ha){this.h=h.h,Sf(this,h.j),this.o=h.o,this.g=h.g,bf(this,h.s),this.l=h.l;var x=h.i,b=new xu;b.i=x.i,x.g&&(b.g=new Map(x.g),b.h=x.h),TS(this,b),this.m=h.m}else h&&(x=String(h).match(ES))?(this.h=!1,Sf(this,x[1]||"",!0),this.o=wu(x[2]||""),this.g=wu(x[3]||"",!0),bf(this,x[4]),this.l=wu(x[5]||"",!0),TS(this,x[6]||"",!0),this.m=wu(x[7]||"")):(this.h=!1,this.i=new xu(null,this.h))}ha.prototype.toString=function(){var h=[],x=this.j;x&&h.push(_u(x,SS,!0),":");var b=this.g;return(b||x=="file")&&(h.push("//"),(x=this.o)&&h.push(_u(x,SS,!0),"@"),h.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&h.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(_u(b,b.charAt(0)=="/"?O4:M4,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",_u(b,j4)),h.join("")};function qs(h){return new ha(h)}function Sf(h,x,b){h.j=b?wu(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function bf(h,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);h.s=x}else h.s=null}function TS(h,x,b){x instanceof xu?(h.i=x,V4(h.i,h.h)):(b||(x=_u(x,L4)),h.i=new xu(x,h.h))}function bt(h,x,b){h.i.set(x,b)}function Cf(h){return bt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function wu(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function _u(h,x,b){return typeof h=="string"?(h=encodeURI(h).replace(x,k4),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function k4(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var SS=/[#\/\?@]/g,M4=/[#\?:]/g,O4=/[#\?]/g,L4=/[#\?@]/g,j4=/#/g;function xu(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function Vi(h){h.g||(h.g=new Map,h.h=0,h.i&&D4(h.i,function(x,b){h.add(decodeURIComponent(x.replace(/\+/g," ")),b)}))}t=xu.prototype,t.add=function(h,x){Vi(this),this.i=null,h=xl(this,h);var b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(x),this.h+=1,this};function bS(h,x){Vi(h),x=xl(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function CS(h,x){return Vi(h),x=xl(h,x),h.g.has(x)}t.forEach=function(h,x){Vi(this),this.g.forEach(function(b,R){b.forEach(function(U){h.call(x,U,R,this)},this)},this)},t.na=function(){Vi(this);const h=Array.from(this.g.values()),x=Array.from(this.g.keys()),b=[];for(let R=0;R<x.length;R++){const U=h[R];for(let W=0;W<U.length;W++)b.push(x[R])}return b},t.V=function(h){Vi(this);let x=[];if(typeof h=="string")CS(this,h)&&(x=x.concat(this.g.get(xl(this,h))));else{h=Array.from(this.g.values());for(let b=0;b<h.length;b++)x=x.concat(h[b])}return x},t.set=function(h,x){return Vi(this),this.i=null,h=xl(this,h),CS(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},t.get=function(h,x){return h?(h=this.V(h),0<h.length?String(h[0]):x):x};function IS(h,x,b){bS(h,x),0<b.length&&(h.i=null,h.g.set(xl(h,x),v(b)),h.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(var b=0;b<x.length;b++){var R=x[b];const W=encodeURIComponent(String(R)),ie=this.V(R);for(R=0;R<ie.length;R++){var U=W;ie[R]!==""&&(U+="="+encodeURIComponent(String(ie[R]))),h.push(U)}}return this.i=h.join("&")};function xl(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function V4(h,x){x&&!h.j&&(Vi(h),h.i=null,h.g.forEach(function(b,R){var U=R.toLowerCase();R!=U&&(bS(this,R),IS(this,U,b))},h)),h.j=x}function F4(h,x){const b=new la;if(a.Image){const R=new Image;R.onload=g(Fi,b,"TestLoadImage: loaded",!0,x,R),R.onerror=g(Fi,b,"TestLoadImage: error",!1,x,R),R.onabort=g(Fi,b,"TestLoadImage: abort",!1,x,R),R.ontimeout=g(Fi,b,"TestLoadImage: timeout",!1,x,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else x(!1)}function U4(h,x){const b=new la,R=new AbortController,U=setTimeout(()=>{R.abort(),Fi(b,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:R.signal}).then(W=>{clearTimeout(U),W.ok?Fi(b,"TestPingServer: ok",!0,x):Fi(b,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(U),Fi(b,"TestPingServer: error",!1,x)})}function Fi(h,x,b,R,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),R(b)}catch{}}function B4(){this.g=new _f}function $4(h,x,b){const R=b||"";try{Tf(h,function(U,W){let ie=U;c(U)&&(ie=Hn(U)),x.push(R+W+"="+encodeURIComponent(ie))})}catch(U){throw x.push(R+"type="+encodeURIComponent("_badmap")),U}}function Eu(h){this.l=h.Ub||null,this.j=h.eb||!1}w(Eu,yl),Eu.prototype.g=function(){return new If(this.l,this.j)},Eu.prototype.i=function(h){return function(){return h}}({});function If(h,x){Le.call(this),this.D=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(If,Le),t=If.prototype,t.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=x,this.readyState=1,Su(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(x.body=h),(this.D||a).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tu(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Su(this)),this.g&&(this.readyState=3,Su(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;AS(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function AS(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?Tu(this):Su(this),this.readyState==3&&AS(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Tu(this))},t.Qa=function(h){this.g&&(this.response=h,Tu(this))},t.ga=function(){this.g&&Tu(this)};function Tu(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Su(h)}t.setRequestHeader=function(h,x){this.u.append(h,x)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var b=x.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=x.next();return h.join(`\r
`)};function Su(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(If.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function PS(h){let x="";return O(h,function(b,R){x+=R,x+=":",x+=b,x+=`\r
`}),x}function Gy(h,x,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=PS(b),typeof h=="string"?b!=null&&encodeURIComponent(String(b)):bt(h,x,b))}function Bt(h){Le.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Bt,Le);var z4=/^https?$/i,K4=["POST","PUT"];t=Bt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,x,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ie.g(),this.v=this.o?xf(this.o):xf(Ie),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(W){RS(this,W);return}if(h=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var U in R)b.set(U,R[U]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const W of R.keys())b.set(W,R.get(W));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(W=>W.toLowerCase()=="content-type"),U=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(K4,x,void 0))||R||U||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ie]of b)this.g.setRequestHeader(W,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kS(this),this.u=!0,this.g.send(h),this.u=!1}catch(W){RS(this,W)}};function RS(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.m=5,NS(h),Af(h)}function NS(h){h.A||(h.A=!0,Ue(h,"complete"),Ue(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ue(this,"complete"),Ue(this,"abort"),Af(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Af(this,!0)),Bt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?DS(this):this.bb())},t.bb=function(){DS(this)};function DS(h){if(h.h&&typeof o<"u"&&(!h.v[1]||Gs(h)!=4||h.Z()!=2)){if(h.u&&Gs(h)==4)Mi(h.Ea,0,h);else if(Ue(h,"readystatechange"),Gs(h)==4){h.h=!1;try{const ie=h.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var b;if(!(b=x)){var R;if(R=ie===0){var U=String(h.D).match(ES)[1]||null;!U&&a.self&&a.self.location&&(U=a.self.location.protocol.slice(0,-1)),R=!z4.test(U?U.toLowerCase():"")}b=R}if(b)Ue(h,"complete"),Ue(h,"success");else{h.m=6;try{var W=2<Gs(h)?h.g.statusText:""}catch{W=""}h.l=W+" ["+h.Z()+"]",NS(h)}}finally{Af(h)}}}}function Af(h,x){if(h.g){kS(h);const b=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,x||Ue(h,"ready");try{b.onreadystatechange=R}catch{}}}function kS(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Gs(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Gs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),wf(x)}};function MS(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function W4(h){const x={};h=(h.g&&2<=Gs(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(y(h[R]))continue;var b=M(h[R]);const U=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const W=x[U]||[];x[U]=W,W.push(b)}C(x,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bu(h,x,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||x}function OS(h){this.Aa=0,this.i=[],this.j=new la,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bu("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bu("baseRetryDelayMs",5e3,h),this.cb=bu("retryDelaySeedMs",1e4,h),this.Wa=bu("forwardChannelMaxRetries",2,h),this.wa=bu("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new ca(h&&h.concurrentRequestLimit),this.Da=new B4,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=OS.prototype,t.la=8,t.G=1,t.connect=function(h,x,b,R){Zt(0),this.W=h,this.H=x||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.I=KS(this,null,this.W),Rf(this)};function Qy(h){if(LS(h),h.G==3){var x=h.U++,b=qs(h.I);if(bt(b,"SID",h.K),bt(b,"RID",x),bt(b,"TYPE","terminate"),Cu(h,b),x=new ve(h,h.j,x),x.L=2,x.v=Cf(qs(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(x.v.toString(),"")}catch{}!b&&a.Image&&(new Image().src=x.v,b=!0),b||(x.g=WS(x.j,null),x.g.ea(x.v)),x.F=Date.now(),Tt(x)}zS(h)}function Pf(h){h.g&&(Xy(h),h.g.cancel(),h.g=null)}function LS(h){Pf(h),h.u&&(a.clearTimeout(h.u),h.u=null),Nf(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function Rf(h){if(!ua(h.h)&&!h.s){h.s=!0;var x=h.Ga;ne||Z(),z||(ne(),z=!0),B.add(x,h),h.B=0}}function H4(h,x){return da(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=x.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Oi(p(h.Ga,h,x),$S(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const U=new ve(this,this.j,h);let W=this.o;if(this.S&&(W?(W=T(W),P(W,this.S)):W=this.S),this.m!==null||this.O||(U.H=W,W=null),this.P)e:{for(var x=0,b=0;b<this.i.length;b++){t:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(x+=R,4096<x){x=b;break e}if(x===4096||b===this.i.length-1){x=b+1;break e}}x=1e3}else x=1e3;x=VS(this,U,x),b=qs(this.I),bt(b,"RID",h),bt(b,"CVER",22),this.D&&bt(b,"X-HTTP-Session-Id",this.D),Cu(this,b),W&&(this.O?x="headers="+encodeURIComponent(String(PS(W)))+"&"+x:this.m&&Gy(b,this.m,W)),xt(this.h,U),this.Ua&&bt(b,"TYPE","init"),this.P?(bt(b,"$req",x),bt(b,"SID","null"),U.T=!0,it(U,b,null)):it(U,b,x),this.G=2}}else this.G==3&&(h?jS(this,h):this.i.length==0||ua(this.h)||jS(this))};function jS(h,x){var b;x?b=x.l:b=h.U++;const R=qs(h.I);bt(R,"SID",h.K),bt(R,"RID",b),bt(R,"AID",h.T),Cu(h,R),h.m&&h.o&&Gy(R,h.m,h.o),b=new ve(h,h.j,b,h.B+1),h.m===null&&(b.H=h.o),x&&(h.i=x.D.concat(h.i)),x=VS(h,b,1e3),b.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),xt(h.h,b),it(b,R,x)}function Cu(h,x){h.H&&O(h.H,function(b,R){bt(x,R,b)}),h.l&&Tf({},function(b,R){bt(x,R,b)})}function VS(h,x,b){b=Math.min(h.i.length,b);var R=h.l?p(h.l.Na,h.l,h):null;e:{var U=h.i;let W=-1;for(;;){const ie=["count="+b];W==-1?0<b?(W=U[0].g,ie.push("ofs="+W)):W=0:ie.push("ofs="+W);let vt=!0;for(let vn=0;vn<b;vn++){let at=U[vn].g;const Pn=U[vn].map;if(at-=W,0>at)W=Math.max(0,U[vn].g-100),vt=!1;else try{$4(Pn,ie,"req"+at+"_")}catch{R&&R(Pn)}}if(vt){R=ie.join("&");break e}}}return h=h.i.splice(0,b),x.D=h,R}function FS(h){if(!h.g&&!h.u){h.Y=1;var x=h.Fa;ne||Z(),z||(ne(),z=!0),B.add(x,h),h.v=0}}function Yy(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Oi(p(h.Fa,h),$S(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,US(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Oi(p(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Zt(10),Pf(this),US(this))};function Xy(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function US(h){h.g=new ve(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var x=qs(h.qa);bt(x,"RID","rpc"),bt(x,"SID",h.K),bt(x,"AID",h.T),bt(x,"CI",h.F?"0":"1"),!h.F&&h.ja&&bt(x,"TO",h.ja),bt(x,"TYPE","xmlhttp"),Cu(h,x),h.m&&h.o&&Gy(x,h.m,h.o),h.L&&(h.g.I=h.L);var b=h.g;h=h.ia,b.L=1,b.v=Cf(qs(x)),b.m=null,b.P=!0,ft(b,h)}t.Za=function(){this.C!=null&&(this.C=null,Pf(this),Yy(this),Zt(19))};function Nf(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function BS(h,x){var b=null;if(h.g==x){Nf(h),Xy(h),h.g=null;var R=2}else if(Ne(h.h,x))b=x.D,An(h.h,x),R=1;else return;if(h.G!=0){if(x.o)if(R==1){b=x.m?x.m.length:0,x=Date.now()-x.F;var U=h.B;R=_l(),Ue(R,new aa(R,b)),Rf(h)}else FS(h);else if(U=x.s,U==3||U==0&&0<x.X||!(R==1&&H4(h,x)||R==2&&Yy(h)))switch(b&&0<b.length&&(x=h.h,x.i=x.i.concat(b)),U){case 1:fa(h,5);break;case 4:fa(h,10);break;case 3:fa(h,6);break;default:fa(h,2)}}}function $S(h,x){let b=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(b*=2),b*x}function fa(h,x){if(h.j.info("Error code "+x),x==2){var b=p(h.fb,h),R=h.Xa;const U=!R;R=new ha(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Sf(R,"https"),Cf(R),U?F4(R.toString(),b):U4(R.toString(),b)}else Zt(2);h.G=0,h.l&&h.l.sa(x),zS(h),LS(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Zt(2)):(this.j.info("Failed to ping google.com"),Zt(1))};function zS(h){if(h.G=0,h.ka=[],h.l){const x=St(h.h);(x.length!=0||h.i.length!=0)&&(E(h.ka,x),E(h.ka,h.i),h.h.i.length=0,v(h.i),h.i.length=0),h.l.ra()}}function KS(h,x,b){var R=b instanceof ha?qs(b):new ha(b);if(R.g!="")x&&(R.g=x+"."+R.g),bf(R,R.s);else{var U=a.location;R=U.protocol,x=x?x+"."+U.hostname:U.hostname,U=+U.port;var W=new ha(null);R&&Sf(W,R),x&&(W.g=x),U&&bf(W,U),b&&(W.l=b),R=W}return b=h.D,x=h.ya,b&&x&&bt(R,b,x),bt(R,"VER",h.la),Cu(h,R),R}function WS(h,x,b){if(x&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Ca&&!h.pa?new Bt(new Eu({eb:b})):new Bt(h.pa),x.Ha(h.J),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function HS(){}t=HS.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Df(){}Df.prototype.g=function(h,x){return new gr(h,x)};function gr(h,x){Le.call(this),this.g=new OS(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(h?h["X-WebChannel-Client-Profile"]=x.va:h={"X-WebChannel-Client-Profile":x.va}),this.g.S=h,(h=x&&x.Sb)&&!y(h)&&(this.g.m=h),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!y(x)&&(this.g.D=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new El(this)}w(gr,Le),gr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gr.prototype.close=function(){Qy(this.g)},gr.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.u&&(b={},b.__data__=Hn(h),h=b);x.i.push(new Xr(x.Ya++,h)),x.G==3&&Rf(x)},gr.prototype.N=function(){this.g.l=null,delete this.j,Qy(this.g),delete this.g,gr.aa.N.call(this)};function qS(h){vl.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const b in x){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}w(qS,vl);function GS(){ia.call(this),this.status=1}w(GS,ia);function El(h){this.g=h}w(El,HS),El.prototype.ua=function(){Ue(this.g,"a")},El.prototype.ta=function(h){Ue(this.g,new qS(h))},El.prototype.sa=function(h){Ue(this.g,new GS)},El.prototype.ra=function(){Ue(this.g,"b")},Df.prototype.createWebChannel=Df.prototype.g,gr.prototype.send=gr.prototype.o,gr.prototype.open=gr.prototype.m,gr.prototype.close=gr.prototype.close,_j=function(){return new Df},wj=function(){return _l()},vj=Mr,n_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ue.NO_ERROR=0,ue.TIMEOUT=8,ue.HTTP_ERROR=6,Kp=ue,_e.COMPLETE="complete",yj=_e,gu.EventType=Ss,Ss.OPEN="a",Ss.CLOSE="b",Ss.ERROR="c",Ss.MESSAGE="d",Le.prototype.listen=Le.prototype.K,ed=gu,gj=Eu,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,mj=Bt}).apply(typeof dp<"u"?dp:typeof self<"u"?self:typeof window<"u"?window:{});const qA="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lu="10.13.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=new Rg("@firebase/firestore");function Bu(){return Ya.logLevel}function ge(t,...e){if(Ya.logLevel<=tt.DEBUG){const n=e.map(lT);Ya.debug(`Firestore (${lu}): ${t}`,...n)}}function Ai(t,...e){if(Ya.logLevel<=tt.ERROR){const n=e.map(lT);Ya.error(`Firestore (${lu}): ${t}`,...n)}}function Uc(t,...e){if(Ya.logLevel<=tt.WARN){const n=e.map(lT);Ya.warn(`Firestore (${lu}): ${t}`,...n)}}function lT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t="Unexpected state"){const e=`FIRESTORE (${lu}) INTERNAL ASSERTION FAILED: `+t;throw Ai(e),new Error(e)}function _t(t,e){t||Re()}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Dr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ln.UNAUTHENTICATED))}shutdown(){}}class nee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ree{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Ro;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ro,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ro)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_t(typeof r.accessToken=="string"),new xj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string"),new Ln(e)}}class see{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class iee{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new see(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oee{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aee{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,ge("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_t(typeof n.token=="string"),this.R=n.token,new oee(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lee(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=lee(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function lt(t,e){return t<e?-1:t>e?1:0}function Bc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Se(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return fn.fromMillis(Date.now())}static fromDate(e){return fn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new fn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.timestamp=e}static fromTimestamp(e){return new De(e)}static min(){return new De(new fn(0,0))}static max(){return new De(new fn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n,r){n===void 0?n=0:n>e.length&&Re(),r===void 0?r=e.length-n:r>e.length-n&&Re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return dh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof dh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Wt extends dh{construct(e,n,r){return new Wt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Wt(n)}static emptyPath(){return new Wt([])}}const cee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class En extends dh{construct(e,n,r){return new En(e,n,r)}static isValidIdentifier(e){return cee.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),En.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new En(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Se(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Se(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Se(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Se(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new En(n)}static emptyPath(){return new En([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(Wt.fromString(e))}static fromName(e){return new be(Wt.fromString(e).popFirst(5))}static empty(){return new be(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new Wt(e.slice()))}}function uee(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=De.fromTimestamp(r===1e9?new fn(n+1,0):new fn(n,r));return new zo(s,be.empty(),e)}function dee(t){return new zo(t.readTime,t.key,-1)}class zo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new zo(De.min(),be.empty(),-1)}static max(){return new zo(De.max(),be.empty(),-1)}}function hee(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:lt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fee="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pee{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function of(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==fee)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(s=>s?Q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new Q((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function mee(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function af(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}cT.oe=-1;function xy(t){return t==null}function Gm(t){return t===0&&1/t==-1/0}function gee(t){return typeof t=="number"&&Number.isInteger(t)&&!Gm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function cu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Tj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n){this.comparator=e,this.root=n||xn.EMPTY}insert(e,n){return new Ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new Ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hp(this.root,e,this.comparator,!1)}getReverseIterator(){return new hp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hp(this.root,e,this.comparator,!0)}}class hp{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??xn.RED,this.left=s??xn.EMPTY,this.right=i??xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new xn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return xn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,n,r,s,i){return this}insert(e,n,r){return new xn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.comparator=e,this.data=new Ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new QA(this.data.getIterator())}getIteratorFrom(e){return new QA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Sn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Sn(this.comparator);return n.data=e,n}}class QA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this.fields=e,e.sort(En.comparator)}static empty(){return new cs([])}unionWith(e){let n=new Sn(En.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new cs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Sj("Invalid base64 string: "+i):i}}(e);return new Cn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cn.EMPTY_BYTE_STRING=new Cn("");const yee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ko(t){if(_t(!!t),typeof t=="string"){let e=0;const n=yee.exec(t);if(_t(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qt(t.seconds),nanos:Qt(t.nanos)}}function Qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xa(t){return typeof t=="string"?Cn.fromBase64String(t):Cn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function dT(t){const e=t.mapValue.fields.__previous_value__;return uT(e)?dT(e):e}function hh(t){const e=Ko(t.mapValue.fields.__local_write_time__.timestampValue);return new fn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vee{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class fh{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new fh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof fh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ja(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uT(t)?4:_ee(t)?9007199254740991:wee(t)?10:11:Re()}function Ks(t,e){if(t===e)return!0;const n=Ja(t);if(n!==Ja(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hh(t).isEqual(hh(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ko(s.timestampValue),a=Ko(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Xa(s.bytesValue).isEqual(Xa(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Qt(s.geoPointValue.latitude)===Qt(i.geoPointValue.latitude)&&Qt(s.geoPointValue.longitude)===Qt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Qt(s.integerValue)===Qt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Qt(s.doubleValue),a=Qt(i.doubleValue);return o===a?Gm(o)===Gm(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Bc(t.arrayValue.values||[],e.arrayValue.values||[],Ks);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(GA(o)!==GA(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ks(o[l],a[l])))return!1;return!0}(t,e);default:return Re()}}function ph(t,e){return(t.values||[]).find(n=>Ks(n,e))!==void 0}function $c(t,e){if(t===e)return 0;const n=Ja(t),r=Ja(e);if(n!==r)return lt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return lt(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Qt(i.integerValue||i.doubleValue),l=Qt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return YA(t.timestampValue,e.timestampValue);case 4:return YA(hh(t),hh(e));case 5:return lt(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Xa(i),l=Xa(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=lt(a[c],l[c]);if(u!==0)return u}return lt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=lt(Qt(i.latitude),Qt(o.latitude));return a!==0?a:lt(Qt(i.longitude),Qt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return XA(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,u;const d=i.fields||{},p=o.fields||{},g=(a=d.value)===null||a===void 0?void 0:a.arrayValue,w=(l=p.value)===null||l===void 0?void 0:l.arrayValue,v=lt(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((u=w==null?void 0:w.values)===null||u===void 0?void 0:u.length)||0);return v!==0?v:XA(g,w)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===fp.mapValue&&o===fp.mapValue)return 0;if(i===fp.mapValue)return 1;if(o===fp.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const p=lt(l[d],u[d]);if(p!==0)return p;const g=$c(a[l[d]],c[u[d]]);if(g!==0)return g}return lt(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Re()}}function YA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return lt(t,e);const n=Ko(t),r=Ko(e),s=lt(n.seconds,r.seconds);return s!==0?s:lt(n.nanos,r.nanos)}function XA(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=$c(n[s],r[s]);if(i)return i}return lt(n.length,r.length)}function zc(t){return r_(t)}function r_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ko(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Xa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=r_(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${r_(n.fields[o])}`;return s+"}"}(t.mapValue):Re()}function s_(t){return!!t&&"integerValue"in t}function hT(t){return!!t&&"arrayValue"in t}function JA(t){return!!t&&"nullValue"in t}function ZA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wp(t){return!!t&&"mapValue"in t}function wee(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function _d(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return cu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_d(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_d(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _ee(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.value=e}static empty(){return new zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_d(n)}setAll(e){let n=En.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=_d(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Wp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ks(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Wp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){cu(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new zr(_d(this.value))}}function bj(t){const e=[];return cu(t.fields,(n,r)=>{const s=new En([n]);if(Wp(r)){const i=bj(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new cs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Vn(e,0,De.min(),De.min(),De.min(),zr.empty(),0)}static newFoundDocument(e,n,r,s){return new Vn(e,1,n,De.min(),r,s,0)}static newNoDocument(e,n){return new Vn(e,2,n,De.min(),De.min(),zr.empty(),0)}static newUnknownDocument(e,n){return new Vn(e,3,n,De.min(),De.min(),zr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n){this.position=e,this.inclusive=n}}function eP(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=be.comparator(be.fromName(o.referenceValue),n.key):r=$c(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function tP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ks(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n="asc"){this.field=e,this.dir=n}}function xee(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{}class un extends Cj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Tee(e,n,r):n==="array-contains"?new Cee(e,r):n==="in"?new Iee(e,r):n==="not-in"?new Aee(e,r):n==="array-contains-any"?new Pee(e,r):new un(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new See(e,r):new bee(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison($c(n,this.value)):n!==null&&Ja(this.value)===Ja(n)&&this.matchesComparison($c(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ws extends Cj{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ws(e,n)}matches(e){return Ij(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ij(t){return t.op==="and"}function Aj(t){return Eee(t)&&Ij(t)}function Eee(t){for(const e of t.filters)if(e instanceof Ws)return!1;return!0}function i_(t){if(t instanceof un)return t.field.canonicalString()+t.op.toString()+zc(t.value);if(Aj(t))return t.filters.map(e=>i_(e)).join(",");{const e=t.filters.map(n=>i_(n)).join(",");return`${t.op}(${e})`}}function Pj(t,e){return t instanceof un?function(r,s){return s instanceof un&&r.op===s.op&&r.field.isEqual(s.field)&&Ks(r.value,s.value)}(t,e):t instanceof Ws?function(r,s){return s instanceof Ws&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&Pj(o,s.filters[a]),!0):!1}(t,e):void Re()}function Rj(t){return t instanceof un?function(n){return`${n.field.canonicalString()} ${n.op} ${zc(n.value)}`}(t):t instanceof Ws?function(n){return n.op.toString()+" {"+n.getFilters().map(Rj).join(" ,")+"}"}(t):"Filter"}class Tee extends un{constructor(e,n,r){super(e,n,r),this.key=be.fromName(r.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class See extends un{constructor(e,n){super(e,"in",n),this.keys=Nj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class bee extends un{constructor(e,n){super(e,"not-in",n),this.keys=Nj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Nj(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>be.fromName(r.referenceValue))}class Cee extends un{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hT(n)&&ph(n.arrayValue,this.value)}}class Iee extends un{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ph(this.value.arrayValue,n)}}class Aee extends un{constructor(e,n){super(e,"not-in",n)}matches(e){if(ph(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ph(this.value.arrayValue,n)}}class Pee extends un{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hT(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ph(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ree{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function nP(t,e=null,n=[],r=[],s=null,i=null,o=null){return new Ree(t,e,n,r,s,i,o)}function fT(t){const e=Me(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>i_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),xy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>zc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>zc(r)).join(",")),e.ue=n}return e.ue}function pT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xee(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Pj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tP(t.startAt,e.startAt)&&tP(t.endAt,e.endAt)}function o_(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Nee(t,e,n,r,s,i,o,a){return new Ey(t,e,n,r,s,i,o,a)}function Ty(t){return new Ey(t)}function rP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Dee(t){return t.collectionGroup!==null}function xd(t){const e=Me(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Sn(En.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Ym(i,r))}),n.has(En.keyField().canonicalString())||e.ce.push(new Ym(En.keyField(),r))}return e.ce}function Bs(t){const e=Me(t);return e.le||(e.le=kee(e,xd(t))),e.le}function kee(t,e){if(t.limitType==="F")return nP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ym(s.field,i)});const n=t.endAt?new Qm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qm(t.startAt.position,t.startAt.inclusive):null;return nP(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function a_(t,e,n){return new Ey(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sy(t,e){return pT(Bs(t),Bs(e))&&t.limitType===e.limitType}function Dj(t){return`${fT(Bs(t))}|lt:${t.limitType}`}function Rl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Rj(s)).join(", ")}]`),xy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>zc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>zc(s)).join(",")),`Target(${r})`}(Bs(t))}; limitType=${t.limitType})`}function by(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):be.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of xd(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=eP(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,xd(r),s)||r.endAt&&!function(o,a,l){const c=eP(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,xd(r),s))}(t,e)}function Mee(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kj(t){return(e,n)=>{let r=!1;for(const s of xd(t)){const i=Oee(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Oee(t,e,n){const r=t.field.isKeyField()?be.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?$c(l,c):Re()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){cu(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Tj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lee=new Ft(be.comparator);function Pi(){return Lee}const Mj=new Ft(be.comparator);function td(...t){let e=Mj;for(const n of t)e=e.insert(n.key,n);return e}function Oj(t){let e=Mj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ca(){return Ed()}function Lj(){return Ed()}function Ed(){return new uu(t=>t.toString(),(t,e)=>t.isEqual(e))}const jee=new Ft(be.comparator),Vee=new Sn(be.comparator);function Ye(...t){let e=Vee;for(const n of t)e=e.add(n);return e}const Fee=new Sn(lt);function Uee(){return Fee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gm(e)?"-0":e}}function jj(t){return{integerValue:""+t}}function Bee(t,e){return gee(e)?jj(e):mT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(){this._=void 0}}function $ee(t,e,n){return t instanceof Xm?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&uT(i)&&(i=dT(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof mh?Fj(t,e):t instanceof gh?Uj(t,e):function(s,i){const o=Vj(s,i),a=sP(o)+sP(s.Pe);return s_(o)&&s_(s.Pe)?jj(a):mT(s.serializer,a)}(t,e)}function zee(t,e,n){return t instanceof mh?Fj(t,e):t instanceof gh?Uj(t,e):n}function Vj(t,e){return t instanceof Jm?function(r){return s_(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Xm extends Cy{}class mh extends Cy{constructor(e){super(),this.elements=e}}function Fj(t,e){const n=Bj(e);for(const r of t.elements)n.some(s=>Ks(s,r))||n.push(r);return{arrayValue:{values:n}}}class gh extends Cy{constructor(e){super(),this.elements=e}}function Uj(t,e){let n=Bj(e);for(const r of t.elements)n=n.filter(s=>!Ks(s,r));return{arrayValue:{values:n}}}class Jm extends Cy{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function sP(t){return Qt(t.integerValue||t.doubleValue)}function Bj(t){return hT(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Kee(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof mh&&s instanceof mh||r instanceof gh&&s instanceof gh?Bc(r.elements,s.elements,Ks):r instanceof Jm&&s instanceof Jm?Ks(r.Pe,s.Pe):r instanceof Xm&&s instanceof Xm}(t.transform,e.transform)}class Wee{constructor(e,n){this.version=e,this.transformResults=n}}class yi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yi}static exists(e){return new yi(void 0,e)}static updateTime(e){return new yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let Iy=class{};function $j(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Kj(t.key,yi.none()):new lf(t.key,t.data,yi.none());{const n=t.data,r=zr.empty();let s=new Sn(En.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new fl(t.key,r,new cs(s.toArray()),yi.none())}}function Hee(t,e,n){t instanceof lf?function(s,i,o){const a=s.value.clone(),l=oP(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof fl?function(s,i,o){if(!Hp(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=oP(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(zj(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Td(t,e,n,r){return t instanceof lf?function(i,o,a,l){if(!Hp(i.precondition,o))return a;const c=i.value.clone(),u=aP(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof fl?function(i,o,a,l){if(!Hp(i.precondition,o))return a;const c=aP(i.fieldTransforms,l,o),u=o.data;return u.setAll(zj(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,o,a){return Hp(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function qee(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Vj(r.transform,s||null);i!=null&&(n===null&&(n=zr.empty()),n.set(r.field,i))}return n||null}function iP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Bc(r,s,(i,o)=>Kee(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class lf extends Iy{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class fl extends Iy{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function zj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function oP(t,e,n){const r=new Map;_t(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,zee(o,a,n[s]))}return r}function aP(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,$ee(i,o,e))}return r}class Kj extends Iy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gee extends Iy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qee{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Hee(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Td(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Td(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Lj();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=$j(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(De.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ye())}isEqual(e){return this.batchId===e.batchId&&Bc(this.mutations,e.mutations,(n,r)=>iP(n,r))&&Bc(this.baseMutations,e.baseMutations,(n,r)=>iP(n,r))}}class gT{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){_t(e.mutations.length===r.length);let s=function(){return jee}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new gT(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yee=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xee{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,nt;function Jee(t){switch(t){default:return Re();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function Wj(t){if(t===void 0)return Ai("GRPC error has no .code"),Y.UNKNOWN;switch(t){case tn.OK:return Y.OK;case tn.CANCELLED:return Y.CANCELLED;case tn.UNKNOWN:return Y.UNKNOWN;case tn.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case tn.INTERNAL:return Y.INTERNAL;case tn.UNAVAILABLE:return Y.UNAVAILABLE;case tn.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case tn.NOT_FOUND:return Y.NOT_FOUND;case tn.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case tn.ABORTED:return Y.ABORTED;case tn.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case tn.DATA_LOSS:return Y.DATA_LOSS;default:return Re()}}(nt=tn||(tn={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zee(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ete=new Ua([4294967295,4294967295],0);function lP(t){const e=Zee().encode(t),n=new pj;return n.update(e),new Uint8Array(n.digest())}function cP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ua([n,r],0),new Ua([s,i],0)]}class yT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new nd(`Invalid padding: ${n}`);if(r<0)throw new nd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new nd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new nd(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ua.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Ua.fromNumber(r)));return s.compare(ete)===1&&(s=new Ua([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=lP(e),[r,s]=cP(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new yT(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=lP(e),[r,s]=cP(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class nd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,cf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ay(De.min(),s,new Ft(lt),Pi(),Ye())}}class cf{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new cf(r,n,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class Hj{constructor(e,n){this.targetId=e,this.me=n}}class qj{constructor(e,n,r=Cn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class uP{constructor(){this.fe=0,this.ge=hP(),this.pe=Cn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ye(),n=Ye(),r=Ye();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Re()}}),new cf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=hP()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,_t(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class tte{constructor(e){this.Le=e,this.Be=new Map,this.ke=Pi(),this.qe=dP(),this.Qe=new Ft(lt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(o_(i))if(r===0){const o=new be(i.path);this.Ue(n,o,Vn.newNoDocument(o,De.min()))}else _t(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Xa(r).toUint8Array()}catch(l){if(l instanceof Sj)return Uc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new yT(o,s,i)}catch(l){return Uc(l instanceof nd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&o_(a.target)){const l=new be(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Vn.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=Ye();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Ay(e,n,this.Qe,this.ke,r);return this.ke=Pi(),this.qe=dP(),this.Qe=new Ft(lt),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new uP,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Sn(lt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new uP),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function dP(){return new Ft(be.comparator)}function hP(){return new Ft(be.comparator)}const nte={asc:"ASCENDING",desc:"DESCENDING"},rte={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ste={and:"AND",or:"OR"};class ite{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function l_(t,e){return t.useProto3Json||xy(e)?e:{value:e}}function Zm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ote(t,e){return Zm(t,e.toTimestamp())}function $s(t){return _t(!!t),De.fromTimestamp(function(n){const r=Ko(n);return new fn(r.seconds,r.nanos)}(t))}function vT(t,e){return c_(t,e).canonicalString()}function c_(t,e){const n=function(s){return new Wt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Qj(t){const e=Wt.fromString(t);return _t(e2(e)),e}function u_(t,e){return vT(t.databaseId,e.path)}function cw(t,e){const n=Qj(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(Xj(n))}function Yj(t,e){return vT(t.databaseId,e)}function ate(t){const e=Qj(t);return e.length===4?Wt.emptyPath():Xj(e)}function d_(t){return new Wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Xj(t){return _t(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function fP(t,e,n){return{name:u_(t,e),fields:n.value.mapValue.fields}}function lte(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(_t(u===void 0||typeof u=="string"),Cn.fromBase64String(u||"")):(_t(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Cn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?Y.UNKNOWN:Wj(c.code);return new Se(u,c.message||"")}(o);n=new qj(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=cw(t,r.document.name),i=$s(r.document.updateTime),o=r.document.createTime?$s(r.document.createTime):De.min(),a=new zr({mapValue:{fields:r.document.fields}}),l=Vn.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new qp(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=cw(t,r.document),i=r.readTime?$s(r.readTime):De.min(),o=Vn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new qp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=cw(t,r.document),i=r.removedTargetIds||[];n=new qp([],i,s,null)}else{if(!("filter"in e))return Re();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new Xee(s,i),a=r.targetId;n=new Hj(a,o)}}return n}function cte(t,e){let n;if(e instanceof lf)n={update:fP(t,e.key,e.value)};else if(e instanceof Kj)n={delete:u_(t,e.key)};else if(e instanceof fl)n={update:fP(t,e.key,e.data),updateMask:vte(e.fieldMask)};else{if(!(e instanceof Gee))return Re();n={verify:u_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Xm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof mh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof gh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Jm)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Re()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:ote(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Re()}(t,e.precondition)),n}function ute(t,e){return t&&t.length>0?(_t(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?$s(s.updateTime):$s(i);return o.isEqual(De.min())&&(o=$s(i)),new Wee(o,s.transformResults||[])}(n,e))):[]}function dte(t,e){return{documents:[Yj(t,e.path)]}}function hte(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Yj(t,s);const i=function(c){if(c.length!==0)return Zj(Ws.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(u=>function(p){return{field:Nl(p.field),direction:mte(p.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=l_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function fte(t){let e=ate(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){_t(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(d){const p=Jj(d);return p instanceof Ws&&Aj(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(p=>function(w){return new Ym(Dl(w.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(d){let p;return p=typeof d=="object"?d.value:d,xy(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(d){const p=!!d.before,g=d.values||[];return new Qm(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const p=!d.before,g=d.values||[];return new Qm(g,p)}(n.endAt)),Nee(e,s,o,i,a,"F",l,c)}function pte(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Jj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Dl(n.unaryFilter.field);return un.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Dl(n.unaryFilter.field);return un.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Dl(n.unaryFilter.field);return un.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Dl(n.unaryFilter.field);return un.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(t):t.fieldFilter!==void 0?function(n){return un.create(Dl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ws.create(n.compositeFilter.filters.map(r=>Jj(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Re()}}(n.compositeFilter.op))}(t):Re()}function mte(t){return nte[t]}function gte(t){return rte[t]}function yte(t){return ste[t]}function Nl(t){return{fieldPath:t.canonicalString()}}function Dl(t){return En.fromServerFormat(t.fieldPath)}function Zj(t){return t instanceof un?function(n){if(n.op==="=="){if(ZA(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NAN"}};if(JA(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ZA(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NOT_NAN"}};if(JA(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nl(n.field),op:gte(n.op),value:n.value}}}(t):t instanceof Ws?function(n){const r=n.getFilters().map(s=>Zj(s));return r.length===1?r[0]:{compositeFilter:{op:yte(n.op),filters:r}}}(t):Re()}function vte(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function e2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n,r,s,i=De.min(),o=De.min(),a=Cn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new vo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wte{constructor(e){this.ct=e}}function _te(t){const e=fte({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?a_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xte{constructor(){this.un=new Ete}addToCollectionParentIndex(e,n){return this.un.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(zo.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(zo.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class Ete{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Sn(Wt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Sn(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Kc(0)}static kn(){return new Kc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tte{constructor(){this.changes=new uu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ste{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bte{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Td(r.mutation,s,cs.empty(),fn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ye()){const s=Ca();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=td();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ca();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ye()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Pi();const o=Ed(),a=function(){return Ed()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof fl)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Td(u.mutation,c,u.mutation.getFieldMask(),fn.now())):o.set(c.key,cs.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new Ste(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ed();let s=new Ft((o,a)=>o-a),i=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||cs.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(s.get(a.batchId)||Ye()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=Lj();u.forEach(p=>{if(!i.has(p)){const g=$j(n.get(p),r.get(p));g!==null&&d.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return be.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Dee(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Q.resolve(Ca());let a=-1,l=i;return o.next(c=>Q.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(u)?Q.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Ye())).next(u=>({batchId:a,changes:Oj(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next(r=>{let s=td();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=td();return this.indexManager.getCollectionParents(e,i).next(a=>Q.forEach(a,l=>{const c=function(d,p){return new Ey(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((d,p)=>{o=o.insert(d,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Vn.newInvalidDocument(u)))});let a=td();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&Td(u.mutation,c,cs.empty(),fn.now()),by(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cte{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:$s(s.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:_te(s.bundledQuery),readTime:$s(s.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ite{constructor(){this.overlays=new Ft(be.comparator),this.Ir=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ca();return Q.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=Ca(),i=n.length+1,o=new be(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ft((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=Ca(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Ca(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return Q.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Yee(n,r));let i=this.Ir.get(n);i===void 0&&(i=Ye(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ate{constructor(){this.sessionToken=Cn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.Tr=new Sn(pn.Er),this.dr=new Sn(pn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new pn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new pn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new be(new Wt([])),r=new pn(n,e),s=new pn(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new be(new Wt([])),r=new pn(n,e),s=new pn(n,e+1);let i=Ye();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new pn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class pn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return be.comparator(e.key,n.key)||lt(e.wr,n.wr)}static Ar(e,n){return lt(e.wr,n.wr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pte{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Sn(pn.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Qee(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new pn(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new pn(n,0),s=new pn(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Sn(lt);return n.forEach(s=>{const i=new pn(s,0),o=new pn(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;be.isDocumentKey(i)||(i=i.child(""));const o=new pn(new be(i),0);let a=new Sn(lt);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.wr)),!0)},o),Q.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){_t(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Q.forEach(n.mutations,s=>{const i=new pn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new pn(n,0),s=this.br.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rte{constructor(e){this.Mr=e,this.docs=function(){return new Ft(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():Vn.newInvalidDocument(n))}getEntries(e,n){let r=Pi();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Vn.newInvalidDocument(s))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Pi();const o=n.path,a=new be(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||hee(dee(u),r)<=0||(s.has(u.key)||by(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Re()}Or(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Nte(this)}getSize(e){return Q.resolve(this.size)}}class Nte extends Tte{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dte{constructor(e){this.persistence=e,this.Nr=new uu(n=>fT(n),pT),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.Lr=0,this.Br=new wT,this.targetCount=0,this.kr=Kc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Kc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Kn(n),Q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),Q.waitFor(i).next(()=>s)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),Q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kte{constructor(e,n){this.qr={},this.overlays={},this.Qr=new cT(0),this.Kr=!1,this.Kr=!0,this.$r=new Ate,this.referenceDelegate=e(this),this.Ur=new Dte(this),this.indexManager=new xte,this.remoteDocumentCache=function(s){return new Rte(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new wte(n),this.Gr=new Cte(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ite,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Pte(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const s=new Mte(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return Q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Mte extends pee{constructor(e){super(),this.currentSequenceNumber=e}}class _T{constructor(e){this.persistence=e,this.Jr=new wT,this.Yr=null}static Zr(e){return new _T(e)}get Xr(){if(this.Yr)return this.Yr;throw Re()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,r=>{const s=be.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,De.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Q.or([()=>Q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Ye(),s=Ye();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new xT(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ote{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lte{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return D5()?8:mee($n())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Ote;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Bu()<=tt.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Rl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(Bu()<=tt.DEBUG&&ge("QueryEngine","Query:",Rl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Bu()<=tt.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Rl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bs(n))):Q.resolve())}Yi(e,n){if(rP(n))return Q.resolve(null);let r=Bs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=a_(n,null,"F"),r=Bs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ye(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,a_(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,s){return rP(n)||s.isEqual(De.min())?Q.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?Q.resolve(null):(Bu()<=tt.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Rl(n)),this.rs(e,o,n,uee(s,-1)).next(a=>a))})}ts(e,n){let r=new Sn(kj(e));return n.forEach((s,i)=>{by(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Bu()<=tt.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Rl(n)),this.Ji.getDocumentsMatchingQuery(e,n,zo.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jte{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Ft(lt),this._s=new uu(i=>fT(i),pT),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bte(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Vte(t,e,n,r){return new jte(t,e,n,r)}async function t2(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ye();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function Fte(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,p=d.keys();let g=Q.resolve();return p.forEach(w=>{g=g.next(()=>u.getEntry(l,w)).next(v=>{const E=c.docVersions.get(w);_t(E!==null),v.version.compareTo(E)<0&&(d.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ye();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function n2(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Ute(t,e){const n=Me(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((u,d)=>{const p=s.get(d);if(!p)return;a.push(n.Ur.removeMatchingKeys(i,u.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(i,u.addedDocuments,d)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(Cn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,r)),s=s.insert(d,g),function(v,E,_){return v.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,g,u)&&a.push(n.Ur.updateTargetData(i,g))});let l=Pi(),c=Ye();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(Bte(i,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(De.min())){const u=n.Ur.getLastRemoteSnapshotVersion(i).next(d=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return Q.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.os=s,i))}function Bte(t,e,n){let r=Ye(),s=Ye();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Pi();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(De.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ge("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function $te(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function zte(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,Q.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new vo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function h_(t,e,n){const r=Me(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!af(o))throw o;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function pP(t,e,n){const r=Me(t);let s=De.min(),i=Ye();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=Me(l),p=d._s.get(u);return p!==void 0?Q.resolve(d.os.get(p)):d.Ur.getTargetData(c,u)}(r,o,Bs(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:De.min(),n?i:Ye())).next(a=>(Kte(r,Mee(e),a),{documents:a,Ts:i})))}function Kte(t,e,n){let r=t.us.get(e)||De.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class mP{constructor(){this.activeTargetIds=Uee()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wte{constructor(){this.so=new mP,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new mP,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hte{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pp=null;function uw(){return pp===null?pp=function(){return 268435456+Math.round(2147483648*Math.random())}():pp++,"0x"+pp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qte={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gte{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn="WebChannelConnection";class Qte extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=uw(),l=this.xo(n,r.toUriEncodedString());ge("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,l,c,s).then(u=>(ge("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Uc("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=qte[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=uw();return new Promise((o,a)=>{const l=new mj;l.setWithCredentials(!0),l.listenOnce(yj.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Kp.NO_ERROR:const u=l.getResponseJson();ge(kn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Kp.TIMEOUT:ge(kn,`RPC '${e}' ${i} timed out`),a(new Se(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Kp.HTTP_ERROR:const d=l.getStatus();if(ge(kn,`RPC '${e}' ${i} failed with status:`,d,"response text:",l.getResponseText()),d>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const w=function(E){const _=E.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(_)>=0?_:Y.UNKNOWN}(g.status);a(new Se(w,g.message))}else a(new Se(Y.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Se(Y.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{ge(kn,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);ge(kn,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=uw(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=_j(),a=wj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new gj({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");ge(kn,`Creating RPC '${e}' stream ${s}: ${u}`,l);const d=o.createWebChannel(u,l);let p=!1,g=!1;const w=new Gte({Io:E=>{g?ge(kn,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(p||(ge(kn,`Opening RPC '${e}' stream ${s} transport.`),d.open(),p=!0),ge(kn,`RPC '${e}' stream ${s} sending:`,E),d.send(E))},To:()=>d.close()}),v=(E,_,y)=>{E.listen(_,S=>{try{y(S)}catch(A){setTimeout(()=>{throw A},0)}})};return v(d,ed.EventType.OPEN,()=>{g||(ge(kn,`RPC '${e}' stream ${s} transport opened.`),w.yo())}),v(d,ed.EventType.CLOSE,()=>{g||(g=!0,ge(kn,`RPC '${e}' stream ${s} transport closed`),w.So())}),v(d,ed.EventType.ERROR,E=>{g||(g=!0,Uc(kn,`RPC '${e}' stream ${s} transport errored:`,E),w.So(new Se(Y.UNAVAILABLE,"The operation could not be completed")))}),v(d,ed.EventType.MESSAGE,E=>{var _;if(!g){const y=E.data[0];_t(!!y);const S=y,A=S.error||((_=S[0])===null||_===void 0?void 0:_.error);if(A){ge(kn,`RPC '${e}' stream ${s} received error:`,A);const D=A.status;let O=function(I){const P=tn[I];if(P!==void 0)return Wj(P)}(D),C=A.message;O===void 0&&(O=Y.INTERNAL,C="Unknown error status: "+D+" with message "+A.message),g=!0,w.So(new Se(O,C)),d.close()}else ge(kn,`RPC '${e}' stream ${s} received:`,y),w.bo(y)}}),v(a,vj.STAT_EVENT,E=>{E.stat===n_.PROXY?ge(kn,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===n_.NOPROXY&&ge(kn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function dw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t){return new ite(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&ge("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new r2(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(Ai(n.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new Se(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Yte extends s2{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=lte(this.serializer,e),r=function(i){if(!("targetChange"in i))return De.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?De.min():o.readTime?$s(o.readTime):De.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=d_(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=o_(l)?{documents:dte(i,l)}:{query:hte(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Gj(i,o.resumeToken);const c=l_(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(De.min())>0){a.readTime=Zm(i,o.snapshotVersion.toTimestamp());const c=l_(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=pte(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=d_(this.serializer),n.removeTarget=e,this.a_(n)}}class Xte extends s2{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return _t(!!e.streamToken),this.lastStreamToken=e.streamToken,_t(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){_t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=ute(e.writeResults,e.commitTime),r=$s(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=d_(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>cte(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jte extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new Se(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,c_(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Se(Y.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,c_(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(Y.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Zte{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ai(n),this.D_=!1):ge("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ene{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{pl(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Me(l);c.L_.add(4),await uf(c),c.q_.set("Unknown"),c.L_.delete(4),await Ry(c)}(this))})}),this.q_=new Zte(r,s)}}async function Ry(t){if(pl(t))for(const e of t.B_)await e(!0)}async function uf(t){for(const e of t.B_)await e(!1)}function i2(t,e){const n=Me(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),bT(n)?ST(n):du(n).r_()&&TT(n,e))}function ET(t,e){const n=Me(t),r=du(n);n.N_.delete(e),r.r_()&&o2(n,e),n.N_.size===0&&(r.r_()?r.o_():pl(n)&&n.q_.set("Unknown"))}function TT(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}du(t).A_(e)}function o2(t,e){t.Q_.xe(e),du(t).R_(e)}function ST(t){t.Q_=new tte({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),du(t).start(),t.q_.v_()}function bT(t){return pl(t)&&!du(t).n_()&&t.N_.size>0}function pl(t){return Me(t).L_.size===0}function a2(t){t.Q_=void 0}async function tne(t){t.q_.set("Online")}async function nne(t){t.N_.forEach((e,n)=>{TT(t,e)})}async function rne(t,e){a2(t),bT(t)?(t.q_.M_(e),ST(t)):t.q_.set("Unknown")}async function sne(t,e,n){if(t.q_.set("Online"),e instanceof qj&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await eg(t,r)}else if(e instanceof qp?t.Q_.Ke(e):e instanceof Hj?t.Q_.He(e):t.Q_.We(e),!n.isEqual(De.min()))try{const r=await n2(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.N_.get(c);u&&i.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.N_.get(l);if(!u)return;i.N_.set(l,u.withResumeToken(Cn.EMPTY_BYTE_STRING,u.snapshotVersion)),o2(i,l);const d=new vo(u.target,l,c,u.sequenceNumber);TT(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ge("RemoteStore","Failed to raise snapshot:",r),await eg(t,r)}}async function eg(t,e,n){if(!af(e))throw e;t.L_.add(1),await uf(t),t.q_.set("Offline"),n||(n=()=>n2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Ry(t)})}function l2(t,e){return e().catch(n=>eg(t,n,e))}async function Ny(t){const e=Me(t),n=Wo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;ine(e);)try{const s=await $te(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,one(e,s)}catch(s){await eg(e,s)}c2(e)&&u2(e)}function ine(t){return pl(t)&&t.O_.length<10}function one(t,e){t.O_.push(e);const n=Wo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function c2(t){return pl(t)&&!Wo(t).n_()&&t.O_.length>0}function u2(t){Wo(t).start()}async function ane(t){Wo(t).p_()}async function lne(t){const e=Wo(t);for(const n of t.O_)e.m_(n.mutations)}async function cne(t,e,n){const r=t.O_.shift(),s=gT.from(r,e,n);await l2(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Ny(t)}async function une(t,e){e&&Wo(t).V_&&await async function(r,s){if(function(o){return Jee(o)&&o!==Y.ABORTED}(s.code)){const i=r.O_.shift();Wo(r).s_(),await l2(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Ny(r)}}(t,e),c2(t)&&u2(t)}async function yP(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const r=pl(n);n.L_.add(3),await uf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Ry(n)}async function dne(t,e){const n=Me(t);e?(n.L_.delete(2),await Ry(n)):e||(n.L_.add(2),await uf(n),n.q_.set("Unknown"))}function du(t){return t.K_||(t.K_=function(n,r,s){const i=Me(n);return i.w_(),new Yte(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:tne.bind(null,t),Ro:nne.bind(null,t),mo:rne.bind(null,t),d_:sne.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),bT(t)?ST(t):t.q_.set("Unknown")):(await t.K_.stop(),a2(t))})),t.K_}function Wo(t){return t.U_||(t.U_=function(n,r,s){const i=Me(n);return i.w_(),new Xte(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:ane.bind(null,t),mo:une.bind(null,t),f_:lne.bind(null,t),g_:cne.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Ny(t)):(await t.U_.stop(),t.O_.length>0&&(ge("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ro,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new CT(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function IT(t,e){if(Ai("AsyncQueue",`${e}: ${t}`),af(t))return new Se(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=td(),this.sortedSet=new Ft(this.comparator)}static emptySet(e){return new uc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new uc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(){this.W_=new Ft(be.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Re():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Wc{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Wc(e,n,uc.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hne{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class fne{constructor(){this.queries=wP(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Me(n),i=s.queries;s.queries=wP(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Se(Y.ABORTED,"Firestore shutting down"))}}function wP(){return new uu(t=>Dj(t),Sy)}async function d2(t,e){const n=Me(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new hne,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=IT(o,`Initialization of query '${Rl(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&AT(n)}async function h2(t,e){const n=Me(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function pne(t,e){const n=Me(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&AT(n)}function mne(t,e,n){const r=Me(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function AT(t){t.Y_.forEach(e=>{e.next()})}var f_,_P;(_P=f_||(f_={})).ea="default",_P.Cache="cache";class f2{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Wc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Wc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==f_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.key=e}}class m2{constructor(e){this.key=e}}class gne{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ye(),this.mutatedKeys=Ye(),this.Aa=kj(e),this.Ra=new uc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new vP,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,d)=>{const p=s.get(u),g=by(this.query,d)?d:null,w=!!p&&this.mutatedKeys.has(p.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;p&&g?p.data.isEqual(g.data)?w!==v&&(r.track({type:3,doc:g}),E=!0):this.ga(p,g)||(r.track({type:2,doc:g}),E=!0,(l&&this.Aa(g,l)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),E=!0):p&&!g&&(r.track({type:1,doc:p}),E=!0,(l||c)&&(a=!0)),E&&(g?(o=o.add(g),i=v?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,d)=>function(g,w){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return v(g)-v(w)}(u.type,d.type)||this.Aa(u.doc,d.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Wc(this.query,e.Ra,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new vP,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ye(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new m2(r))}),this.da.forEach(r=>{e.has(r)||n.push(new p2(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ye();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Wc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class yne{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class vne{constructor(e){this.key=e,this.va=!1}}class wne{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new uu(a=>Dj(a),Sy),this.Ma=new Map,this.xa=new Set,this.Oa=new Ft(be.comparator),this.Na=new Map,this.La=new wT,this.Ba={},this.ka=new Map,this.qa=Kc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function _ne(t,e,n=!0){const r=x2(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await g2(r,e,n,!0),s}async function xne(t,e){const n=x2(t);await g2(n,e,!0,!1)}async function g2(t,e,n,r){const s=await zte(t.localStore,Bs(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await Ene(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&i2(t.remoteStore,s),a}async function Ene(t,e,n,r,s){t.Ka=(d,p,g)=>async function(v,E,_,y){let S=E.view.ma(_);S.ns&&(S=await pP(v.localStore,E.query,!1).then(({documents:C})=>E.view.ma(C,S)));const A=y&&y.targetChanges.get(E.targetId),D=y&&y.targetMismatches.get(E.targetId)!=null,O=E.view.applyChanges(S,v.isPrimaryClient,A,D);return EP(v,E.targetId,O.wa),O.snapshot}(t,d,p,g);const i=await pP(t.localStore,e,!0),o=new gne(e,i.Ts),a=o.ma(i.documents),l=cf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);EP(t,n,c.wa);const u=new yne(e,n,o);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function Tne(t,e,n){const r=Me(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!Sy(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await h_(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&ET(r.remoteStore,s.targetId),p_(r,s.targetId)}).catch(of)):(p_(r,s.targetId),await h_(r.localStore,s.targetId,!0))}async function Sne(t,e){const n=Me(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ET(n.remoteStore,r.targetId))}async function bne(t,e,n){const r=Dne(t);try{const s=await function(o,a){const l=Me(o),c=fn.now(),u=a.reduce((g,w)=>g.add(w.key),Ye());let d,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=Pi(),v=Ye();return l.cs.getEntries(g,u).next(E=>{w=E,w.forEach((_,y)=>{y.isValidDocument()||(v=v.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,w)).next(E=>{d=E;const _=[];for(const y of a){const S=qee(y,d.get(y.key).overlayedDocument);S!=null&&_.push(new fl(y.key,S,bj(S.value.mapValue),yi.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,_,a)}).next(E=>{p=E;const _=E.applyToLocalDocumentSet(d,v);return l.documentOverlayCache.saveOverlays(g,E.batchId,_)})}).then(()=>({batchId:p.batchId,changes:Oj(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Ft(lt)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await df(r,s.changes),await Ny(r.remoteStore)}catch(s){const i=IT(s,"Failed to persist write");n.reject(i)}}async function y2(t,e){const n=Me(t);try{const r=await Ute(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(_t(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?_t(o.va):s.removedDocuments.size>0&&(_t(o.va),o.va=!1))}),await df(n,r,e)}catch(r){await of(r)}}function xP(t,e,n){const r=Me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Me(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const p of d.j_)p.Z_(a)&&(c=!0)}),c&&AT(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Cne(t,e,n){const r=Me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Ft(be.comparator);o=o.insert(i,Vn.newNoDocument(i,De.min()));const a=Ye().add(i),l=new Ay(De.min(),new Map,new Ft(lt),o,a);await y2(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),PT(r)}else await h_(r.localStore,e,!1).then(()=>p_(r,e,n)).catch(of)}async function Ine(t,e){const n=Me(t),r=e.batch.batchId;try{const s=await Fte(n.localStore,e);w2(n,r,null),v2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await df(n,s)}catch(s){await of(s)}}async function Ane(t,e,n){const r=Me(t);try{const s=await function(o,a){const l=Me(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(_t(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);w2(r,e,n),v2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await df(r,s)}catch(s){await of(s)}}function v2(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function w2(t,e,n){const r=Me(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function p_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||_2(t,r)})}function _2(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(ET(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),PT(t))}function EP(t,e,n){for(const r of n)r instanceof p2?(t.La.addReference(r.key,e),Pne(t,r)):r instanceof m2?(ge("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||_2(t,r.key)):Re()}function Pne(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ge("SyncEngine","New document in limbo: "+n),t.xa.add(r),PT(t))}function PT(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new be(Wt.fromString(e)),r=t.qa.next();t.Na.set(r,new vne(n)),t.Oa=t.Oa.insert(n,r),i2(t.remoteStore,new vo(Bs(Ty(n.path)),r,"TargetPurposeLimboResolution",cT.oe))}}async function df(t,e,n){const r=Me(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){s.push(c);const d=xT.Wi(l.targetId,c);i.push(d)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,c){const u=Me(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Q.forEach(c,p=>Q.forEach(p.$i,g=>u.persistence.referenceDelegate.addReference(d,p.targetId,g)).next(()=>Q.forEach(p.Ui,g=>u.persistence.referenceDelegate.removeReference(d,p.targetId,g)))))}catch(d){if(!af(d))throw d;ge("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const p=d.targetId;if(!d.fromCache){const g=u.os.get(p),w=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(w);u.os=u.os.insert(p,v)}}}(r.localStore,i))}async function Rne(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const r=await t2(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new Se(Y.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await df(n,r.hs)}}function Nne(t,e){const n=Me(t),r=n.Na.get(e);if(r&&r.va)return Ye().add(r.key);{let s=Ye();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function x2(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=y2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nne.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cne.bind(null,e),e.Ca.d_=pne.bind(null,e.eventManager),e.Ca.$a=mne.bind(null,e.eventManager),e}function Dne(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ine.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ane.bind(null,e),e}class TP{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Py(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Vte(this.persistence,new Lte,e.initialUser,this.serializer)}createPersistence(e){return new kte(_T.Zr,this.serializer)}createSharedClientState(e){return new Wte}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class kne{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Rne.bind(null,this.syncEngine),await dne(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fne}()}createDatastore(e){const n=Py(e.databaseInfo.databaseId),r=function(i){return new Qte(i)}(e.databaseInfo);return function(i,o,a,l){return new Jte(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new ene(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>xP(this.syncEngine,n,0),function(){return gP.D()?new gP:new Hte}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const d=new wne(s,i,o,a,l,c);return u&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Me(s);ge("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await uf(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mne{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ln.UNAUTHENTICATED,this.clientId=Ej.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{ge("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(ge("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Se(Y.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ro;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=IT(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function hw(t,e){t.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await t2(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function SP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Lne(t);ge("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>yP(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>yP(e.remoteStore,s)),t._onlineComponents=e}function One(t){return t.name==="FirebaseError"?t.code===Y.FAILED_PRECONDITION||t.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Lne(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await hw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!One(n))throw n;Uc("Error using user provided cache. Falling back to memory cache: "+n),await hw(t,new TP)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await hw(t,new TP);return t._offlineComponents}async function T2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await SP(t,t._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await SP(t,new kne))),t._onlineComponents}function jne(t){return T2(t).then(e=>e.syncEngine)}async function m_(t){const e=await T2(t),n=e.eventManager;return n.onListen=_ne.bind(null,e.syncEngine),n.onUnlisten=Tne.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xne.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Sne.bind(null,e.syncEngine),n}function Vne(t,e,n={}){const r=new Ro;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new E2({next:p=>{o.enqueueAndForget(()=>h2(i,d));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new Se(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new Se(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),d=new f2(Ty(a.path),u,{includeMetadataChanges:!0,_a:!0});return d2(i,d)}(await m_(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fne(t,e,n){if(!n)throw new Se(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Une(t,e,n,r){if(e===!0&&r===!0)throw new Se(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function CP(t){if(!be.isDocumentKey(t))throw new Se(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function RT(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re()}function No(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=RT(t);throw new Se(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Se(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Une("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Se(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Se(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Se(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class NT{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Se(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Se(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IP(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tee;switch(r.type){case"firstParty":return new iee(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=bP.get(n);r&&(ge("ComponentProvider","Removing Datastore"),bP.delete(n),r.terminate())}(this),Promise.resolve()}}function Bne(t,e,n,r={}){var s;const i=(t=No(t,NT))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Uc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ln.MOCK_USER;else{a=GN(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Se(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ln(c)}t._authCredentials=new nee(new xj(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b2=class C2{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new C2(this.firestore,e,this._query)}};class Cr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cr(this.firestore,e,this._key)}}class yh extends b2{constructor(e,n,r){super(e,n,Ty(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cr(this.firestore,null,new be(e))}withConverter(e){return new yh(this.firestore,e,this._path)}}function DT(t,e,...n){if(t=sn(t),arguments.length===1&&(e=Ej.newId()),Fne("doc","path",e),t instanceof NT){const r=Wt.fromString(e,...n);return CP(r),new Cr(t,null,new be(r))}{if(!(t instanceof Cr||t instanceof yh))throw new Se(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Wt.fromString(e,...n));return CP(r),new Cr(t.firestore,t instanceof yh?t.converter:null,new be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ne{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new r2(this,"async_queue_retry"),this.Eu=()=>{const n=dw();n&&ge("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=dw();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=dw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new Ro;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!af(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ai("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const s=CT.createAndSchedule(this,e,n,r,i=>this.Vu(i));return this.lu.push(s),s}du(){this.hu&&Re()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}function AP(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class vh extends NT{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new $ne}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||I2(this),this._firestoreClient.terminate()}}function zne(t,e){const n=typeof t=="object"?t:Ng(),r=typeof t=="string"?t:"(default)",s=Qo(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=WN("firestore");i&&Bne(s,...i)}return s}function kT(t){return t._firestoreClient||I2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function I2(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new vee(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,S2(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new Mne(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hc(Cn.fromBase64String(e))}catch(n){throw new Se(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hc(Cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new En(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kne=/^__.*__$/;class Wne{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fl(e,this.data,this.fieldMask,n,this.fieldTransforms):new lf(e,this.data,n,this.fieldTransforms)}}function P2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class jT{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.yu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new jT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.vu(e),s}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.yu(),s}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return tg(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(P2(this.wu)&&Kne.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class Hne{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Py(e)}Nu(e,n,r,s=!1){return new jT({wu:e,methodName:n,Ou:r,path:En.emptyPath(),Du:!1,xu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qne(t){const e=t._freezeSettings(),n=Py(t._databaseId);return new Hne(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Gne(t,e,n,r,s,i={}){const o=t.Nu(i.merge||i.mergeFields?2:0,e,n,s);k2("Data must be an object, but it was:",o,r);const a=N2(r,o);let l,c;if(i.merge)l=new cs(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const d of i.mergeFields){const p=Qne(e,d,n);if(!o.contains(p))throw new Se(Y.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Xne(u,p)||u.push(p)}l=new cs(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new Wne(new zr(a),l,c)}function R2(t,e){if(D2(t=sn(t)))return k2("Unsupported field value:",e,t),N2(t,e);if(t instanceof A2)return function(r,s){if(!P2(s.wu))throw s.Mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=R2(a,s.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=sn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Bee(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=fn.fromDate(r);return{timestampValue:Zm(s.serializer,i)}}if(r instanceof fn){const i=new fn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zm(s.serializer,i)}}if(r instanceof OT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hc)return{bytesValue:Gj(s.serializer,r._byteString)};if(r instanceof Cr){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:vT(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof LT)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return mT(a.serializer,l)})}}}}}}(r,s);throw s.Mu(`Unsupported field value: ${RT(r)}`)}(t,e)}function N2(t,e){const n={};return Tj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cu(t,(r,s)=>{const i=R2(s,e.bu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function D2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof fn||t instanceof OT||t instanceof Hc||t instanceof Cr||t instanceof A2||t instanceof LT)}function k2(t,e,n){if(!D2(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=RT(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function Qne(t,e,n){if((e=sn(e))instanceof MT)return e._internalPath;if(typeof e=="string")return M2(t,e);throw tg("Field path arguments must be of type string or ",t,!1,void 0,n)}const Yne=new RegExp("[~\\*/\\[\\]]");function M2(t,e,n){if(e.search(Yne)>=0)throw tg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new MT(...e.split("."))._internalPath}catch{throw tg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function tg(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Se(Y.INVALID_ARGUMENT,a+t+l)}function Xne(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Cr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Jne(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(L2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Jne extends O2{data(){return super.data()}}function L2(t,e){return typeof e=="string"?M2(t,e):e instanceof MT?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zne(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ere{convertValue(e,n="none"){switch(Ja(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return cu(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Qt(o.doubleValue));return new LT(i)}convertGeoPoint(e){return new OT(Qt(e.latitude),Qt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=dT(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hh(e));default:return null}}convertTimestamp(e){const n=Ko(e);return new fn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Wt.fromString(e);_t(e2(r));const s=new fh(r.get(1),r.get(3)),i=new be(r.popFirst(5));return s.isEqual(n)||Ai(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tre(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class j2 extends O2{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(L2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Gp extends j2{data(e={}){return super.data(e)}}class nre{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new rd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gp(this._firestore,this._userDataWriter,r.key,r,new rd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Gp(s._firestore,s._userDataWriter,a.doc.key,a.doc,new rd(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Gp(s._firestore,s._userDataWriter,a.doc.key,a.doc,new rd(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:rre(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function rre(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sre(t){t=No(t,Cr);const e=No(t.firestore,vh);return Vne(kT(e),t._key).then(n=>F2(e,t,n))}class V2 extends ere{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Cr(this.firestore,null,n)}}function ire(t,e,n){t=No(t,Cr);const r=No(t.firestore,vh),s=tre(t.converter,e,n);return are(r,[Gne(qne(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,yi.none())])}function ore(t,...e){var n,r,s;t=sn(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||AP(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(AP(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(s=d.complete)===null||s===void 0?void 0:s.bind(d)}let l,c,u;if(t instanceof Cr)c=No(t.firestore,vh),u=Ty(t._key.path),l={next:d=>{e[o]&&e[o](F2(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=No(t,b2);c=No(d.firestore,vh),u=d._query;const p=new V2(c);l={next:g=>{e[o]&&e[o](new nre(c,p,d,g))},error:e[o+1],complete:e[o+2]},Zne(t._query)}return function(p,g,w,v){const E=new E2(v),_=new f2(g,E,w);return p.asyncQueue.enqueueAndForget(async()=>d2(await m_(p),_)),()=>{E.za(),p.asyncQueue.enqueueAndForget(async()=>h2(await m_(p),_))}}(kT(c),u,a,l)}function are(t,e){return function(r,s){const i=new Ro;return r.asyncQueue.enqueueAndForget(async()=>bne(await jne(r),s,i)),i.promise}(kT(t),e)}function F2(t,e,n){const r=n.docs.get(e._key),s=new V2(t);return new j2(t,s,e._key,r,new rd(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){lu=s})(ll),ys(new Yr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new vh(new ree(r.getProvider("auth-internal")),new aee(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Se(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fh(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),hr(qA,"4.7.2",e),hr(qA,"4.7.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="firebasestorage.googleapis.com",B2="storageBucket",lre=2*60*1e3,cre=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt extends Dr{constructor(e,n,r=0){super(fw(e),`Firebase Storage: ${n} (${fw(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ht;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ht||(Ht={}));function fw(t){return"storage/"+t}function VT(){const t="An unknown error occurred, please check the error payload for server response.";return new qt(Ht.UNKNOWN,t)}function ure(t){return new qt(Ht.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function dre(t){return new qt(Ht.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function hre(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new qt(Ht.UNAUTHENTICATED,t)}function fre(){return new qt(Ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function pre(t){return new qt(Ht.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function mre(){return new qt(Ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function gre(){return new qt(Ht.CANCELED,"User canceled the upload/download.")}function yre(t){return new qt(Ht.INVALID_URL,"Invalid URL '"+t+"'.")}function vre(t){return new qt(Ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function wre(){return new qt(Ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+B2+"' property when initializing the app?")}function _re(){return new qt(Ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function xre(){return new qt(Ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Ere(t){return new qt(Ht.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function g_(t){return new qt(Ht.INVALID_ARGUMENT,t)}function $2(){return new qt(Ht.APP_DELETED,"The Firebase app was deleted.")}function Tre(t){return new qt(Ht.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Sd(t,e){return new qt(Ht.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function $u(t){throw new qt(Ht.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Er.makeFromUrl(e,n)}catch{return new Er(e,"")}if(r.path==="")return r;throw vre(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(A){A.path_=decodeURIComponent(A.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${d}/${u}/b/${s}/o${p}`,"i"),w={bucket:1,path:3},v=n===U2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",_=new RegExp(`^https?://${v}/${s}/${E}`,"i"),S=[{regex:a,indices:l,postModify:i},{regex:g,indices:w,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let A=0;A<S.length;A++){const D=S[A],O=D.regex.exec(e);if(O){const C=O[D.indices.bucket];let T=O[D.indices.path];T||(T=""),r=new Er(C,T),D.postModify(r);break}}if(r==null)throw yre(e);return r}}class Sre{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bre(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...E){c||(c=!0,e.apply(null,E))}function d(E){s=setTimeout(()=>{s=null,t(g,l())},E)}function p(){i&&clearTimeout(i)}function g(E,..._){if(c){p();return}if(E){p(),u.call(null,E,..._);return}if(l()||o){p(),u.call(null,E,..._);return}r<64&&(r*=2);let S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,d(S)}let w=!1;function v(E){w||(w=!0,p(),!c&&(s!==null?(E||(a=2),clearTimeout(s),d(0)):E||(a=1)))}return d(0),i=setTimeout(()=>{o=!0,v(!0)},n),v}function Cre(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ire(t){return t!==void 0}function Are(t){return typeof t=="object"&&!Array.isArray(t)}function FT(t){return typeof t=="string"||t instanceof String}function PP(t){return UT()&&t instanceof Blob}function UT(){return typeof Blob<"u"}function RP(t,e,n,r){if(r<e)throw g_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw g_(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function z2(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Ba;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ba||(Ba={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pre(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rre{constructor(e,n,r,s,i,o,a,l,c,u,d,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,w)=>{this.resolve_=g,this.reject_=w,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new mp(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Ba.NO_ERROR,l=i.getStatus();if(!a||Pre(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===Ba.ABORT;r(!1,new mp(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new mp(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Ire(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=VT();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?$2():gre();o(l)}else{const l=mre();o(l)}};this.canceled_?n(!1,new mp(!1,null,!0)):this.backoffId_=bre(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Cre(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class mp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Nre(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Dre(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function kre(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Mre(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Ore(t,e,n,r,s,i,o=!0){const a=z2(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return kre(c,e),Nre(c,n),Dre(c,i),Mre(c,r),new Rre(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lre(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function jre(...t){const e=Lre();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(UT())return new Blob(t);throw new qt(Ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Vre(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fre(t){if(typeof atob>"u")throw Ere("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class pw{constructor(e,n){this.data=e,this.contentType=n||null}}function Ure(t,e){switch(t){case ks.RAW:return new pw(K2(e));case ks.BASE64:case ks.BASE64URL:return new pw(W2(t,e));case ks.DATA_URL:return new pw($re(e),zre(e))}throw VT()}function K2(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Bre(t){let e;try{e=decodeURIComponent(t)}catch{throw Sd(ks.DATA_URL,"Malformed data URL.")}return K2(e)}function W2(t,e){switch(t){case ks.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Sd(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case ks.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Sd(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Fre(e)}catch(s){throw s.message.includes("polyfill")?s:Sd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class H2{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Sd(ks.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Kre(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function $re(t){const e=new H2(t);return e.base64?W2(ks.BASE64,e.rest):Bre(e.rest)}function zre(t){return new H2(t).contentType}function Kre(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n){let r=0,s="";PP(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(PP(this.data_)){const r=this.data_,s=Vre(r,e,n);return s===null?null:new no(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new no(r,!0)}}static getBlob(...e){if(UT()){const n=e.map(r=>r instanceof no?r.data_:r);return new no(jre.apply(null,n))}else{const n=e.map(o=>FT(o)?Ure(ks.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new no(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(t){let e;try{e=JSON.parse(t)}catch{return null}return Are(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wre(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Hre(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function G2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qre(t,e){return e}class qn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||qre}}let gp=null;function Gre(t){return!FT(t)||t.length<2?t:G2(t)}function BT(){if(gp)return gp;const t=[];t.push(new qn("bucket")),t.push(new qn("generation")),t.push(new qn("metageneration")),t.push(new qn("name","fullPath",!0));function e(i,o){return Gre(o)}const n=new qn("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new qn("size");return s.xform=r,t.push(s),t.push(new qn("timeCreated")),t.push(new qn("updated")),t.push(new qn("md5Hash",null,!0)),t.push(new qn("cacheControl",null,!0)),t.push(new qn("contentDisposition",null,!0)),t.push(new qn("contentEncoding",null,!0)),t.push(new qn("contentLanguage",null,!0)),t.push(new qn("contentType",null,!0)),t.push(new qn("metadata","customMetadata",!0)),gp=t,gp}function Qre(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Er(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function Yre(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return Qre(r,t),r}function Q2(t,e,n){const r=q2(e);return r===null?null:Yre(t,r,n)}function Xre(t,e,n,r){const s=q2(e);if(s===null||!FT(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const u=t.bucket,d=t.fullPath,p="/b/"+o(u)+"/o/"+o(d),g=hu(p,n,r),w=z2({alt:"media",token:c});return g+w})[0]}function Jre(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class hf{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(t){if(!t)throw VT()}function X2(t,e){function n(r,s){const i=Q2(t,s,e);return Y2(i!==null),i}return n}function Zre(t,e){function n(r,s){const i=Q2(t,s,e);return Y2(i!==null),Xre(i,s,t.host,t._protocol)}return n}function J2(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=fre():s=hre():n.getStatus()===402?s=dre(t.bucket):n.getStatus()===403?s=pre(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function Dy(t){const e=J2(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=ure(t.path)),i.serverResponse=s.serverResponse,i}return n}function ese(t,e,n){const r=e.fullServerUrl(),s=hu(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new hf(s,i,X2(t,n),o);return a.errorHandler=Dy(e),a}function tse(t,e,n){const r=e.fullServerUrl(),s=hu(r,t.host,t._protocol)+"?alt=media",i="GET",o=t.maxOperationRetryTime,a=new hf(s,i,(l,c)=>c,o);return a.errorHandler=Dy(e),a}function nse(t,e,n){const r=e.fullServerUrl(),s=hu(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new hf(s,i,Zre(t,n),o);return a.errorHandler=Dy(e),a}function rse(t,e){const n=e.fullServerUrl(),r=hu(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(l,c){}const a=new hf(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=Dy(e),a}function sse(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function ise(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=sse(null,e)),r}function ose(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let S="";for(let A=0;A<2;A++)S=S+Math.random().toString().slice(2);return S}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=ise(e,r,s),u=Jre(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+l+"--",g=no.getBlob(d,r,p);if(g===null)throw _re();const w={name:c.fullPath},v=hu(i,t.host,t._protocol),E="POST",_=t.maxUploadRetryTime,y=new hf(v,E,X2(t,n),_);return y.urlParams=w,y.headers=o,y.body=g.uploadData(),y.errorHandler=J2(e),y}class Z2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ba.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ba.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ba.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw $u("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw $u("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw $u("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw $u("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw $u("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class ase extends Z2{initXhr(){this.xhr_.responseType="text"}}function ky(){return new ase}class lse extends Z2{initXhr(){this.xhr_.responseType="blob"}}function cse(){return new lse}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n){this._service=e,n instanceof Er?this._location=n:this._location=Er.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Za(e,n)}get root(){const e=new Er(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return G2(this._location.path)}get storage(){return this._service}get parent(){const e=Wre(this._location.path);if(e===null)return null;const n=new Er(this._location.bucket,e);return new Za(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Tre(e)}}function use(t,e){t._throwIfRoot("getBlob");const n=tse(t.storage,t._location);return t.storage.makeRequestWithTokens(n,cse).then(r=>r)}function dse(t,e,n){t._throwIfRoot("uploadBytes");const r=ose(t.storage,t._location,BT(),new no(e,!0),n);return t.storage.makeRequestWithTokens(r,ky).then(s=>({metadata:s,ref:t}))}function hse(t){t._throwIfRoot("getMetadata");const e=ese(t.storage,t._location,BT());return t.storage.makeRequestWithTokens(e,ky)}function fse(t){t._throwIfRoot("getDownloadURL");const e=nse(t.storage,t._location,BT());return t.storage.makeRequestWithTokens(e,ky).then(n=>{if(n===null)throw xre();return n})}function pse(t){t._throwIfRoot("deleteObject");const e=rse(t.storage,t._location);return t.storage.makeRequestWithTokens(e,ky)}function mse(t,e){const n=Hre(t._location.path,e),r=new Er(t._location.bucket,n);return new Za(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gse(t){return/^[A-Za-z]+:\/\//.test(t)}function yse(t,e){return new Za(t,e)}function eV(t,e){if(t instanceof $T){const n=t;if(n._bucket==null)throw wre();const r=new Za(n,n._bucket);return e!=null?eV(r,e):r}else return e!==void 0?mse(t,e):t}function vse(t,e){if(e&&gse(e)){if(t instanceof $T)return yse(t,e);throw g_("To use ref(service, url), the first argument must be a Storage instance.")}else return eV(t,e)}function NP(t,e){const n=e==null?void 0:e[B2];return n==null?null:Er.makeFromBucketSpec(n,t)}function wse(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:GN(s,t.app.options.projectId))}class $T{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=U2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=lre,this._maxUploadRetryTime=cre,this._requests=new Set,s!=null?this._bucket=Er.makeFromBucketSpec(s,this._host):this._bucket=NP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Er.makeFromBucketSpec(this._url,e):this._bucket=NP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){RP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){RP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Za(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new Sre($2());{const o=Ore(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const DP="@firebase/storage",kP="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV="storage";function _se(t,e,n){return t=sn(t),dse(t,e,n)}function xse(t){return t=sn(t),hse(t)}function Ese(t){return t=sn(t),fse(t)}function Tse(t){return t=sn(t),pse(t)}function My(t,e){return t=sn(t),vse(t,e)}function Sse(t=Ng(),e){t=sn(t);const r=Qo(t,tV).getImmediate({identifier:e}),s=WN("storage");return s&&bse(r,...s),r}function bse(t,e,n,r={}){wse(t,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cse(t,e){return t=sn(t),use(t)}function Ise(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new $T(n,r,s,e,ll)}function Ase(){ys(new Yr(tV,Ise,"PUBLIC").setMultipleInstances(!0)),hr(DP,kP,""),hr(DP,kP,"esm2017")}Ase();const nV="@firebase/installations",zT="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV=1e4,sV=`w:${zT}`,iV="FIS_v2",Pse="https://firebaseinstallations.googleapis.com/v1",Rse=60*60*1e3,Nse="installations",Dse="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kse={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},el=new al(Nse,Dse,kse);function oV(t){return t instanceof Dr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV({projectId:t}){return`${Pse}/projects/${t}/installations`}function lV(t){return{token:t.token,requestStatus:2,expiresIn:Ose(t.expiresIn),creationTime:Date.now()}}async function cV(t,e){const r=(await e.json()).error;return el.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function uV({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Mse(t,{refreshToken:e}){const n=uV(t);return n.append("Authorization",Lse(e)),n}async function dV(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Ose(t){return Number(t.replace("s","000"))}function Lse(t){return`${iV} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jse({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=aV(t),s=uV(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:iV,appId:t.appId,sdkVersion:sV},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await dV(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:lV(c.authToken)}}else throw await cV("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vse(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fse=/^[cdef][\w-]{21}$/,y_="";function Use(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Bse(t);return Fse.test(n)?n:y_}catch{return y_}}function Bse(t){return Vse(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=new Map;function pV(t,e){const n=Oy(t);mV(n,e),$se(n,e)}function mV(t,e){const n=fV.get(t);if(n)for(const r of n)r(e)}function $se(t,e){const n=zse();n&&n.postMessage({key:t,fid:e}),Kse()}let Ia=null;function zse(){return!Ia&&"BroadcastChannel"in self&&(Ia=new BroadcastChannel("[Firebase] FID Change"),Ia.onmessage=t=>{mV(t.data.key,t.data.fid)}),Ia}function Kse(){fV.size===0&&Ia&&(Ia.close(),Ia=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wse="firebase-installations-database",Hse=1,tl="firebase-installations-store";let mw=null;function KT(){return mw||(mw=eD(Wse,Hse,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(tl)}}})),mw}async function ng(t,e){const n=Oy(t),s=(await KT()).transaction(tl,"readwrite"),i=s.objectStore(tl),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&pV(t,e.fid),e}async function gV(t){const e=Oy(t),r=(await KT()).transaction(tl,"readwrite");await r.objectStore(tl).delete(e),await r.done}async function Ly(t,e){const n=Oy(t),s=(await KT()).transaction(tl,"readwrite"),i=s.objectStore(tl),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&pV(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WT(t){let e;const n=await Ly(t.appConfig,r=>{const s=qse(r),i=Gse(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===y_?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function qse(t){const e=t||{fid:Use(),registrationStatus:0};return yV(e)}function Gse(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(el.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Qse(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Yse(t)}:{installationEntry:e}}async function Qse(t,e){try{const n=await jse(t,e);return ng(t.appConfig,n)}catch(n){throw oV(n)&&n.customData.serverCode===409?await gV(t.appConfig):await ng(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Yse(t){let e=await MP(t.appConfig);for(;e.registrationStatus===1;)await hV(100),e=await MP(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await WT(t);return r||n}return e}function MP(t){return Ly(t,e=>{if(!e)throw el.create("installation-not-found");return yV(e)})}function yV(t){return Xse(t)?{fid:t.fid,registrationStatus:0}:t}function Xse(t){return t.registrationStatus===1&&t.registrationTime+rV<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jse({appConfig:t,heartbeatServiceProvider:e},n){const r=Zse(t,n),s=Mse(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:sV,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await dV(()=>fetch(r,a));if(l.ok){const c=await l.json();return lV(c)}else throw await cV("Generate Auth Token",l)}function Zse(t,{fid:e}){return`${aV(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HT(t,e=!1){let n;const r=await Ly(t.appConfig,i=>{if(!vV(i))throw el.create("not-registered");const o=i.authToken;if(!e&&nie(o))return i;if(o.requestStatus===1)return n=eie(t,e),i;{if(!navigator.onLine)throw el.create("app-offline");const a=sie(i);return n=tie(t,a),a}});return n?await n:r.authToken}async function eie(t,e){let n=await OP(t.appConfig);for(;n.authToken.requestStatus===1;)await hV(100),n=await OP(t.appConfig);const r=n.authToken;return r.requestStatus===0?HT(t,e):r}function OP(t){return Ly(t,e=>{if(!vV(e))throw el.create("not-registered");const n=e.authToken;return iie(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function tie(t,e){try{const n=await Jse(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await ng(t.appConfig,r),n}catch(n){if(oV(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await gV(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ng(t.appConfig,r)}throw n}}function vV(t){return t!==void 0&&t.registrationStatus===2}function nie(t){return t.requestStatus===2&&!rie(t)}function rie(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Rse}function sie(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function iie(t){return t.requestStatus===1&&t.requestTime+rV<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oie(t){const e=t,{installationEntry:n,registrationPromise:r}=await WT(e);return r?r.catch(console.error):HT(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aie(t,e=!1){const n=t;return await lie(n),(await HT(n,e)).token}async function lie(t){const{registrationPromise:e}=await WT(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cie(t){if(!t||!t.options)throw gw("App Configuration");if(!t.name)throw gw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw gw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function gw(t){return el.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV="installations",uie="installations-internal",die=t=>{const e=t.getProvider("app").getImmediate(),n=cie(e),r=Qo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},hie=t=>{const e=t.getProvider("app").getImmediate(),n=Qo(e,wV).getImmediate();return{getId:()=>oie(n),getToken:s=>aie(n,s)}};function fie(){ys(new Yr(wV,die,"PUBLIC")),ys(new Yr(uie,hie,"PRIVATE"))}fie();hr(nV,zT);hr(nV,zT,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="analytics",pie="firebase_id",mie="origin",gie=60*1e3,yie="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qT="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new Rg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vie={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ir=new al("analytics","Analytics",vie);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wie(t){if(!t.startsWith(qT)){const e=Ir.create("invalid-gtag-resource",{gtagURL:t});return pr.warn(e.message),""}return t}function _V(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function _ie(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function xie(t,e){const n=_ie("firebase-js-sdk-policy",{createScriptURL:wie}),r=document.createElement("script"),s=`${qT}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function Eie(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Tie(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await _V(n)).find(c=>c.measurementId===s);l&&await e[l.appId]}}catch(a){pr.error(a)}t("config",s,i)}async function Sie(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await _V(n);for(const l of o){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){pr.error(i)}}function bie(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await Sie(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await Tie(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){pr.error(a)}}return s}function Cie(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=bie(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function Iie(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(qT)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aie=30,Pie=1e3;class Rie{constructor(e={},n=Pie){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const xV=new Rie;function Nie(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Die(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:Nie(r)},i=yie.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Ir.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function kie(t,e=xV,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Ir.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Ir.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Lie;return setTimeout(async()=>{a.abort()},gie),EV({appId:r,apiKey:s,measurementId:i},o,a,e)}async function EV(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=xV){var i;const{appId:o,measurementId:a}=t;try{await Mie(r,e)}catch(l){if(a)return pr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await Die(t);return s.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!Oie(c)){if(s.deleteThrottleMetadata(o),a)return pr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?oC(n,s.intervalMillis,Aie):oC(n,s.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return s.setThrottleMetadata(o,d),pr.debug(`Calling attemptFetch again in ${u} millis`),EV(t,d,r,s)}}function Mie(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Ir.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Oie(t){if(!(t instanceof Dr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Lie{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function jie(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vie(){if(YN())try{await XN()}catch(t){return pr.warn(Ir.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return pr.warn(Ir.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Fie(t,e,n,r,s,i,o){var a;const l=kie(t);l.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&pr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>pr.error(g)),e.push(l);const c=Vie().then(g=>{if(g)return r.getId()}),[u,d]=await Promise.all([l,c]);Iie(i)||xie(i,u.measurementId),s("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[mie]="firebase",p.update=!0,d!=null&&(p[pie]=d),s("config",u.measurementId,p),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uie{constructor(e){this.app=e}_delete(){return delete bd[this.app.options.appId],Promise.resolve()}}let bd={},LP=[];const jP={};let yw="dataLayer",Bie="gtag",VP,TV,FP=!1;function $ie(){const t=[];if(QN()&&t.push("This is a browser extension environment."),k5()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Ir.create("invalid-analytics-context",{errorInfo:e});pr.warn(n.message)}}function zie(t,e,n){$ie();const r=t.options.appId;if(!r)throw Ir.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)pr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ir.create("no-api-key");if(bd[r]!=null)throw Ir.create("already-exists",{id:r});if(!FP){Eie(yw);const{wrappedGtag:i,gtagCore:o}=Cie(bd,LP,jP,yw,Bie);TV=i,VP=o,FP=!0}return bd[r]=Fie(t,LP,jP,e,VP,yw,n),new Uie(t)}function Kie(t=Ng()){t=sn(t);const e=Qo(t,rg);return e.isInitialized()?e.getImmediate():Wie(t)}function Wie(t,e={}){const n=Qo(t,rg);if(n.isInitialized()){const s=n.getImmediate();if(Gd(e,n.getOptions()))return s;throw Ir.create("already-initialized")}return n.initialize({options:e})}function SV(t,e,n,r){t=sn(t),jie(TV,bd[t.app.options.appId],e,n,r).catch(s=>pr.error(s))}const UP="@firebase/analytics",BP="0.10.8";function Hie(){ys(new Yr(rg,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return zie(r,s,n)},"PUBLIC")),ys(new Yr("analytics-internal",t,"PRIVATE")),hr(UP,BP),hr(UP,BP,"esm2017");function t(e){try{const n=e.getProvider(rg).getImmediate();return{logEvent:(r,s,i)=>SV(n,r,s,i)}}catch(n){throw Ir.create("interop-component-reg-failed",{reason:n})}}}Hie();const qie={apiKey:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",authDomain:"cob-chatbot.firebaseapp.com",projectId:"cob-chatbot",storageBucket:"cob-chatbot.appspot.com",messagingSenderId:"275602489097",appId:"1:275602489097:web:5c490d86e9f69e1314ddd8",measurementId:"G-65F7KP2KRQ"},GT=tD(qie),Gie=Kie(GT),QT=zne(GT),jy=Sse(GT),v_=async(t,e,n)=>{const r=My(jy,`${e}/${n}`),s=await _se(r,t);if(!s.metadata||s.metadata.fullPath!==r.fullPath)throw new Error(`Error uploading file ${t.name}, metadata does not exist or path does not match`);return await Ese(s.ref)},bV=async t=>{const e=My(jy,t),n=await Cse(e),r=t.split("/").pop()||"unknown_file";return new File([n],r,{type:n.type})},Qie=async(t,e)=>{const n=My(jy,`${t}/${e}`);return await xse(n)},Yie=async t=>{try{const e=My(jy,t);await Tse(e),gt("File deleted successfully!")}catch(e){e instanceof Error&&gt(e.message)}},Xie=async(t,e,n,r=!1)=>{try{const s=DT(QT,t,e);await ire(s,n,{merge:r})}catch(s){s instanceof Error&&gt(s.message)}},Jie=async(t,e)=>{const n=DT(QT,t,e),r=await sre(n);return r.exists()?r.data():null},Zie=(t,e,n)=>{try{const r=DT(QT,t,e);return ore(r,i=>{i.exists()?n(i.data()):(gt("No such document!"),n(null))})}catch(r){throw r}},CV=t=>{const{file:e}=ut(w=>w.formData),n=ut(w=>w.setFormData),r=ut(w=>w.setFile),[s,i]=m.useState(!1),[o,a]=m.useState(!1),l=m.useRef(null),c=m.useRef(null);return{file:e,setFile:r,isLinkDialogOpen:o,setIsLinkDialogOpen:a,handleInsertLink:(w,v)=>{const E=c.current;if(E){const _=E.selectionStart,y=E.selectionEnd,S=t.substring(0,_)+`<${v}>{=${w}=}`+t.substring(y);n("answer",S),E.focus(),E.setSelectionRange(_+w.length+4,_+v.length+4)}},handleFileChange:async w=>{w.target.files&&w.target.files[0]&&r(w.target.files[0])},handleRemoveFile:async()=>{e&&(n("fileUrl",null),r(null),l.current&&(l.current.value=""))},fileInputRef:l,answerTextAreaRef:c,getFileData:async w=>{try{i(!0);const v=ih(w);if(!v)return;const E=await bV(`knowledge-files/${v}`);r(E)}catch(v){v instanceof Error&&gt(v.message??"An error occured while getting file data",!0),console.error(v)}finally{i(!1)}},isFetchingFileData:s}},eoe=()=>{const t=ut(d=>d.formData),e=ut(d=>d.setFormData),{isLinkDialogOpen:n,setIsLinkDialogOpen:r,handleFileChange:s,handleInsertLink:i,handleRemoveFile:o,fileInputRef:a,answerTextAreaRef:l,getFileData:c,isFetchingFileData:u}=CV(t.answer);return m.useEffect(()=>{(async()=>{await c(t.fileUrl)})()},[t.fileUrl]),f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-fit",children:f.jsx(_y,{tooltip:zZ,children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("label",{className:"cursor-pointer font-medium ",children:"Answer"}),f.jsx(Ug,{className:"size-4 text-[#64748b] cursor-pointer"})]})})}),f.jsx(hj,{answer:t.answer,handleTextChange:e,onFileChange:s,fileRef:a,textAreaRef:l,isLinkDropDownVisible:n,setIsLinkDropDownVisible:r,onInsertLink:i}),u?f.jsx(et,{className:"w-full h-[70px]"}):t.file?f.jsx(fj,{file:t.file,removeFile:o}):null]})},IV=t=>{const{knowledgeBaseName:e,...n}=t;return{knowledgeBaseName:e,knowledgeEntry:n}},toe=async()=>{const{success:t,knowledgeBase:e}=await bE("/api/knowledge/base");if(!t)throw new Error("Failed to fetch knowledge collection");return e},noe=async t=>{const{success:e,knowledgeEntry:n}=await bE(`/api/knowledge/${t}`);if(!e)throw new Error(`Failed to fetch knowledge base ${t} entry`);return n},roe=async t=>{const e=IV(t),{success:n,message:r}=await ou("/api/knowledge",{},e);if(!n)throw new Error(r);return r},soe=async t=>{const e=IV(t),{success:n,message:r}=await ou("/api/knowledge/entry",{},e);if(!n)throw new Error(r)},ioe=async(t,e)=>{const n={knowledgeEntryIntent:t,knowledgeEntry:e},{success:r,message:s}=await sy("/api/knowledge/entry",{},n);if(!r)throw new Error(s)},ooe=async t=>{const{knowledgeBaseName:e,newKnowledgeBaseName:n}=t,r={knowledgeBaseName:e,newKnowledgeBaseName:n},{success:s,message:i}=await sy("/api/knowledge/base",{},r);if(!s)throw new Error(i);return i},aoe=async t=>{const{success:e,message:n}=await CE(`/api/knowledge/${t}`);if(!e)throw new Error(n)},loe=async t=>{const{success:e,message:n}=await CE(`/api/knowledge/entry/${t}`);if(!e)throw new Error(n)},Xt=Yo(t=>({knowledgeCollection:{},knowledgeBaseNameList:null,selectedKnowledgeBaseEntryList:null,selectedKnowledgeBaseName:"",selectedKnowledgeBaseItem:"",selectedKnowledgeEntry:null,selectedKnowledgeEntryIntentItem:"",updateKnowledgeCollection:e=>{t(()=>({knowledgeCollection:e}))},setKnowledgeBaseNameList:e=>{t(()=>({knowledgeBaseNameList:e}))},setSelectedKnowledgeBaseEntryList:e=>{t(()=>({selectedKnowledgeBaseEntryList:e}))},setSelectedKnowledgeBaseName:e=>{t(()=>({selectedKnowledgeBaseName:e}))},setSelectedKnowledgeBaseItem:e=>{t(()=>({selectedKnowledgeBaseItem:e}))},setSelectedKnowledgeEntry:e=>{t(()=>({selectedKnowledgeEntry:e}))},setSelectedKnowledgeEntryIntentItem:e=>t({selectedKnowledgeEntryIntentItem:e})})),coe="knowledge-files",$P="image",uoe=async t=>{const e=`${coe}/${t}`;await Yie(e)},doe=(t,e)=>{const n=new Set([...Object.keys(t),...Object.keys(e)]);return Array.from(n).reduce((r,s)=>{if(t[s]instanceof Array&&e[s]instanceof Array){t[s].forEach((a,l)=>{if(a!==e[s][l]){r[s]||(r[s]=[]);const c={index:l,value:e[s][l]};r[s].push(c)}});const i=t[s].length,o=e[s].length;if(i<o){r.newDocuments=[];for(let a=i;a<o;a++)e[s][a]&&r.newDocuments.push(e[s][a])}return r}return t[s]!==e[s]&&(r[s]=e[s]),r},{})},hoe=1,foe=1e6;let vw=0;function poe(){return vw=(vw+1)%Number.MAX_SAFE_INTEGER,vw.toString()}const ww=new Map,zP=t=>{if(ww.has(t))return;const e=setTimeout(()=>{ww.delete(t),Cd({type:"REMOVE_TOAST",toastId:t})},foe);ww.set(t,e)},moe=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,hoe)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?zP(n):t.toasts.forEach(r=>{zP(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Qp=[];let Yp={toasts:[]};function Cd(t){Yp=moe(Yp,t),Qp.forEach(e=>{e(Yp)})}function goe({...t}){const e=poe(),n=s=>Cd({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Cd({type:"DISMISS_TOAST",toastId:e});return Cd({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function AV(){const[t,e]=m.useState(Yp);return m.useEffect(()=>(Qp.push(e),()=>{const n=Qp.indexOf(e);n>-1&&Qp.splice(n,1)}),[t]),{...t,toast:goe,dismiss:n=>Cd({type:"DISMISS_TOAST",toastId:n})}}const na=()=>{const{toast:t}=AV();return t},KP="knowledge-files",w_=async t=>{try{const n=(await Qie(KP,t.name)).size||0,r=t.size;if(n===r)throw gt(`Knowledge file ${t.name} already exists with the same size, skipping upload`),new Error(`Knowledge file ${t.name} already exist`);gt(`File ${t.name} exists but with a different size. Uploading new file.`)}catch(e){if(e instanceof Dr&&e.code==="storage/object-not-found")return gt(`No exiting file found, uploading the file: ${t.name}`),await v_(t,KP,t.name);throw e}},yoe=()=>{const t=na(),e=Xt(g=>g.selectedKnowledgeEntry),n=Xt(g=>g.setSelectedKnowledgeEntry),r=ut(g=>g.setFormData),s=ut(g=>g.formData),i=ut(g=>g.setDocuments),o=ut(g=>g.clearFormData),[a,l]=m.useState(!1);m.useEffect(()=>{if(!e)return;const{intent:g,documents:w,answer:v,fileUrl:E}=e;return r("intent",g),w.forEach((_,y)=>{i(_,y)}),r("answer",v),r("fileUrl",E),()=>{o()}},[]);const c=async g=>{const w=ih(g);return await bV(`knowledge-files/${w}`)},u=async(g,w)=>{if(!w)return await w_(g);const v=await c(w);return v.name===g.name&&v.size===g.size?w:(v.name!==g.name&&await d(w),await w_(g))},d=async g=>{const w=ih(g);if(!w)return gt("Unable to extract filename from the file url",!0);await uoe(w)};return{handleSubmitForm:async()=>{if(e)try{l(!0);const{knowledgeBaseName:g,file:w,...v}=s,E=doe(e,v);"fileUrl"in E&&E.fileUrl===null&&(gt("Detected file removal, deleting from storage"),await d(e.fileUrl));let _;w&&(gt("Updating knowledge file"),_=await u(w,e.fileUrl),r("fileUrl",_??null));const y={...v,..._&&{fileUrl:_}};await ioe(e.intent,y),gt("Knowledge Entry updated successfully."),n(y),t({title:"Knowledge Entry Updated Successfully",description:Nt()})}catch(g){const w=g instanceof Error?g.message:"Unknown error occurred";t({title:w,description:Nt(),variant:"destructive"})}finally{l(!1)}},selectedKnowledgeEntry:e,isLoading:a}},YT=({heading:t,description:e})=>f.jsx("div",{className:"h-[450px] md:h-[600px] w-full flex justify-center items-center mt-2 pb-10",children:f.jsxs("section",{className:"flex flex-col justify-center items-center",children:[f.jsx(Ug,{className:"w-12 h-12 text-blue-500 mb-4"}),f.jsx("h2",{className:"text-2xl font-semibold mb-2",children:t}),f.jsx("p",{className:"text-gray-600 mb-4",children:e})]})}),ml=()=>f.jsx(xW,{className:"mr-2 size-5 animate-spin"}),voe=()=>{const{handleSubmitForm:t,selectedKnowledgeEntry:e,isLoading:n}=yoe(),r=Pt(s=>s.admin);return e?f.jsx(QL,{value:"entryDetails",className:"mt-2",children:f.jsx("div",{className:"h-[450px] md:h-[600px] w-full overflow-y-auto text-sm scrollbar-slim",children:f.jsxs("div",{className:"space-y-3 px-4 pb-4",children:[f.jsx(HZ,{}),f.jsx(qZ,{}),f.jsx(eoe,{}),(r==null?void 0:r.role)!=="viewer"&&f.jsx(ct,{variant:"default",disabled:n,onClick:async()=>await t(),className:"w-20",children:n?f.jsx(ml,{}):"Save"})]})})}):f.jsx(YT,{heading:"No Knowledge Entry Selected",description:"Select a knowledge entry to view its contents here."})},PV=({onRenameKnowledge:t,onDeleteKnowledge:e})=>f.jsxs(ty,{children:[f.jsx(ny,{asChild:!0,children:f.jsx(dk,{className:"text-zinc-400 size-6 hover:text-zinc-500 transition-colors"})}),f.jsxs(Xh,{align:"end",className:"w-[8rem] text-sm bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[t&&f.jsxs(go,{className:"flex items-center p-1.5 hover:bg-zinc-100 rounded-sm",onClick:n=>{n.stopPropagation(),t()},children:[f.jsx(bW,{className:"mr-2 h-4 w-4"}),f.jsx("p",{children:"Rename"})]}),f.jsxs(go,{className:"flex items-center p-1.5 hover:bg-zinc-100 rounded-sm text-red-500",onClick:n=>{n.stopPropagation(),e()},children:[f.jsx(gk,{className:"mr-2 h-4 w-4"}),f.jsx("p",{children:"Delete"})]})]})]}),Ri=Yo(t=>({dialogs:{},openDialog:e=>t(n=>({dialogs:{...n.dialogs,[e]:!0}})),closeDialog:e=>t(n=>({dialogs:{...n.dialogs,[e]:!1}})),toggleDialog:e=>t(n=>({dialogs:{...n.dialogs,[e]:!n.dialogs[e]}})),setDialogState:(e,n)=>t(r=>({dialogs:{...r.dialogs,[e]:n}}))})),woe=({intent:t,onItemClick:e})=>{const n=Pt(a=>a.admin),r=Xt(a=>a.selectedKnowledgeEntry),s=Xt(a=>a.setSelectedKnowledgeEntryIntentItem),i=Ri(a=>a.openDialog),o=()=>{s(t),i("showConfirmDeleteKnowledgeEntryDialog")};return f.jsxs("div",{className:`flex justify-between p-2 rounded-md cursor-pointer ${(r==null?void 0:r.intent)===t?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,onClick:e,children:[t,(n==null?void 0:n.role)!=="viewer"&&f.jsx(ct,{className:"bg-transparent hover:bg-transparent size-8 p-0 h-fit ",children:f.jsx(PV,{onDeleteKnowledge:o})})]})},_oe=({knowledgeEntries:t,handleTabChange:e})=>{const n=Xt(s=>s.setSelectedKnowledgeEntry),r=s=>{n(s),e("entryDetails")};return f.jsx("div",{className:"space-y-1",children:t==null?void 0:t.map((s,i)=>f.jsx(woe,{intent:s.intent,onItemClick:()=>r(s)},i))})},Xp=["knowledgeBaseList"],Jp=["knowledgeEntry"],zu=["adminList"];var fu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qc=typeof window>"u"||"Deno"in globalThis;function Fr(){}function xoe(t,e){return typeof t=="function"?t(e):t}function __(t){return typeof t=="number"&&t>=0&&t!==1/0}function RV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function dc(t,e){return typeof t=="function"?t(e):t}function as(t,e){return typeof t=="function"?t(e):t}function WP(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==XT(o,e.options))return!1}else if(!wh(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function HP(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(nl(e.options.mutationKey)!==nl(i))return!1}else if(!wh(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function XT(t,e){return((e==null?void 0:e.queryKeyHashFn)||nl)(t)}function nl(t){return JSON.stringify(t,(e,n)=>x_(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function wh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!wh(t[n],e[n])):!1}function NV(t,e){if(t===e)return t;const n=qP(t)&&qP(e);if(n||x_(t)&&x_(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const u=n?c:i[c];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=NV(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function sg(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function qP(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function x_(t){if(!GP(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!GP(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function GP(t){return Object.prototype.toString.call(t)==="[object Object]"}function Eoe(t){return new Promise(e=>{setTimeout(e,t)})}function E_(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?NV(t,e):e}function Toe(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Soe(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var DV=Symbol();function kV(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===DV?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Pa,so,fc,y1,boe=(y1=class extends fu{constructor(){super();we(this,Pa,void 0);we(this,so,void 0);we(this,fc,void 0);he(this,fc,e=>{if(!qc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){V(this,so)||this.setEventListener(V(this,fc))}onUnsubscribe(){var e;this.hasListeners()||((e=V(this,so))==null||e.call(this),he(this,so,void 0))}setEventListener(e){var n;he(this,fc,e),(n=V(this,so))==null||n.call(this),he(this,so,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){V(this,Pa)!==e&&(he(this,Pa,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof V(this,Pa)=="boolean"?V(this,Pa):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Pa=new WeakMap,so=new WeakMap,fc=new WeakMap,y1),JT=new boe,pc,io,mc,v1,Coe=(v1=class extends fu{constructor(){super();we(this,pc,!0);we(this,io,void 0);we(this,mc,void 0);he(this,mc,e=>{if(!qc&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){V(this,io)||this.setEventListener(V(this,mc))}onUnsubscribe(){var e;this.hasListeners()||((e=V(this,io))==null||e.call(this),he(this,io,void 0))}setEventListener(e){var n;he(this,mc,e),(n=V(this,io))==null||n.call(this),he(this,io,e(this.setOnline.bind(this)))}setOnline(e){V(this,pc)!==e&&(he(this,pc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return V(this,pc)}},pc=new WeakMap,io=new WeakMap,mc=new WeakMap,v1),ig=new Coe;function Ioe(t){return Math.min(1e3*2**t,3e4)}function MV(t){return(t??"online")==="online"?ig.isOnline():!0}var OV=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function _w(t){return t instanceof OV}function LV(t){let e=!1,n=0,r=!1,s,i,o;const a=new Promise((_,y)=>{i=_,o=y}),l=_=>{var y;r||(w(new OV(_)),(y=t.abort)==null||y.call(t))},c=()=>{e=!0},u=()=>{e=!1},d=()=>JT.isFocused()&&(t.networkMode==="always"||ig.isOnline())&&t.canRun(),p=()=>MV(t.networkMode)&&t.canRun(),g=_=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,_),s==null||s(),i(_))},w=_=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,_),s==null||s(),o(_))},v=()=>new Promise(_=>{var y;s=S=>{(r||d())&&_(S)},(y=t.onPause)==null||y.call(t)}).then(()=>{var _;s=void 0,r||(_=t.onContinue)==null||_.call(t)}),E=()=>{if(r)return;let _;const y=n===0?t.initialPromise:void 0;try{_=y??t.fn()}catch(S){_=Promise.reject(S)}Promise.resolve(_).then(g).catch(S=>{var T;if(r)return;const A=t.retry??(qc?0:3),D=t.retryDelay??Ioe,O=typeof D=="function"?D(n,S):D,C=A===!0||typeof A=="number"&&n<A||typeof A=="function"&&A(n,S);if(e||!C){w(S);return}n++,(T=t.onFail)==null||T.call(t,n,S),Eoe(O).then(()=>d()?void 0:v()).then(()=>{e?w(S):E()})})};return{promise:a,cancel:l,continue:()=>(s==null||s(),a),cancelRetry:c,continueRetry:u,canStart:p,start:()=>(p()?E():v().then(E),a)}}function Aoe(){let t=[],e=0,n=p=>{p()},r=p=>{p()},s=p=>setTimeout(p,0);const i=p=>{s=p},o=p=>{let g;e++;try{g=p()}finally{e--,e||c()}return g},a=p=>{e?t.push(p):s(()=>{n(p)})},l=p=>(...g)=>{a(()=>{p(...g)})},c=()=>{const p=t;t=[],p.length&&s(()=>{r(()=>{p.forEach(g=>{n(g)})})})};return{batch:o,batchCalls:l,schedule:a,setNotifyFunction:p=>{n=p},setBatchNotifyFunction:p=>{r=p},setScheduler:i}}var cn=Aoe(),Ra,w1,jV=(w1=class{constructor(){we(this,Ra,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),__(this.gcTime)&&he(this,Ra,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(qc?1/0:5*60*1e3))}clearGcTimeout(){V(this,Ra)&&(clearTimeout(V(this,Ra)),he(this,Ra,void 0))}},Ra=new WeakMap,w1),gc,yc,Vr,Mn,_h,Na,rs,Xs,_1,Poe=(_1=class extends jV{constructor(e){super();we(this,rs);we(this,gc,void 0);we(this,yc,void 0);we(this,Vr,void 0);we(this,Mn,void 0);we(this,_h,void 0);we(this,Na,void 0);he(this,Na,!1),he(this,_h,e.defaultOptions),this.setOptions(e.options),this.observers=[],he(this,Vr,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,he(this,gc,Roe(this.options)),this.state=e.state??V(this,gc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=V(this,Mn))==null?void 0:e.promise}setOptions(e){this.options={...V(this,_h),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,Vr).remove(this)}setData(e,n){const r=E_(this.state.data,e,this.options);return Be(this,rs,Xs).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Be(this,rs,Xs).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=V(this,Mn))==null?void 0:r.promise;return(s=V(this,Mn))==null||s.cancel(e),n?n.then(Fr).catch(Fr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,gc))}isActive(){return this.observers.some(e=>as(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!RV(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=V(this,Mn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=V(this,Mn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),V(this,Vr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(V(this,Mn)&&(V(this,Na)?V(this,Mn).cancel({revert:!0}):V(this,Mn).cancelRetry()),this.scheduleGc()),V(this,Vr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Be(this,rs,Xs).call(this,{type:"invalidate"})}fetch(e,n){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(V(this,Mn))return V(this,Mn).continueRetry(),V(this,Mn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(p=>p.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(he(this,Na,!0),r.signal)})},i=()=>{const d=kV(this.options,n),p={queryKey:this.queryKey,meta:this.meta};return s(p),he(this,Na,!1),this.options.persister?this.options.persister(d,p,this):d(p)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),he(this,yc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Be(this,rs,Xs).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=d=>{var p,g,w,v;_w(d)&&d.silent||Be(this,rs,Xs).call(this,{type:"error",error:d}),_w(d)||((g=(p=V(this,Vr).config).onError)==null||g.call(p,d,this),(v=(w=V(this,Vr).config).onSettled)==null||v.call(w,this.state.data,d,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return he(this,Mn,LV({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var p,g,w,v;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}this.setData(d),(g=(p=V(this,Vr).config).onSuccess)==null||g.call(p,d,this),(v=(w=V(this,Vr).config).onSettled)==null||v.call(w,d,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(d,p)=>{Be(this,rs,Xs).call(this,{type:"failed",failureCount:d,error:p})},onPause:()=>{Be(this,rs,Xs).call(this,{type:"pause"})},onContinue:()=>{Be(this,rs,Xs).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),V(this,Mn).start()}},gc=new WeakMap,yc=new WeakMap,Vr=new WeakMap,Mn=new WeakMap,_h=new WeakMap,Na=new WeakMap,rs=new WeakSet,Xs=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...VV(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return _w(s)&&s.revert&&V(this,yc)?{...V(this,yc),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),cn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),V(this,Vr).notify({query:this,type:"updated",action:e})})},_1);function VV(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:MV(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Roe(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Is,x1,Noe=(x1=class extends fu{constructor(e={}){super();we(this,Is,void 0);this.config=e,he(this,Is,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??XT(s,n);let o=this.get(i);return o||(o=new Poe({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){V(this,Is).has(e.queryHash)||(V(this,Is).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=V(this,Is).get(e.queryHash);n&&(e.destroy(),n===e&&V(this,Is).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){cn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return V(this,Is).get(e)}getAll(){return[...V(this,Is).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>WP(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>WP(e,r)):n}notify(e){cn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){cn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){cn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Is=new WeakMap,x1),As,Gn,Da,Ps,qi,E1,Doe=(E1=class extends jV{constructor(e){super();we(this,Ps);we(this,As,void 0);we(this,Gn,void 0);we(this,Da,void 0);this.mutationId=e.mutationId,he(this,Gn,e.mutationCache),he(this,As,[]),this.state=e.state||FV(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){V(this,As).includes(e)||(V(this,As).push(e),this.clearGcTimeout(),V(this,Gn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){he(this,As,V(this,As).filter(n=>n!==e)),this.scheduleGc(),V(this,Gn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){V(this,As).length||(this.state.status==="pending"?this.scheduleGc():V(this,Gn).remove(this))}continue(){var e;return((e=V(this,Da))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,l,c,u,d,p,g,w,v,E,_,y,S,A,D,O,C;he(this,Da,LV({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(T,I)=>{Be(this,Ps,qi).call(this,{type:"failed",failureCount:T,error:I})},onPause:()=>{Be(this,Ps,qi).call(this,{type:"pause"})},onContinue:()=>{Be(this,Ps,qi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,Gn).canRun(this)}));const n=this.state.status==="pending",r=!V(this,Da).canStart();try{if(!n){Be(this,Ps,qi).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=V(this,Gn).config).onMutate)==null?void 0:i.call(s,e,this));const I=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));I!==this.state.context&&Be(this,Ps,qi).call(this,{type:"pending",context:I,variables:e,isPaused:r})}const T=await V(this,Da).start();return await((c=(l=V(this,Gn).config).onSuccess)==null?void 0:c.call(l,T,e,this.state.context,this)),await((d=(u=this.options).onSuccess)==null?void 0:d.call(u,T,e,this.state.context)),await((g=(p=V(this,Gn).config).onSettled)==null?void 0:g.call(p,T,null,this.state.variables,this.state.context,this)),await((v=(w=this.options).onSettled)==null?void 0:v.call(w,T,null,e,this.state.context)),Be(this,Ps,qi).call(this,{type:"success",data:T}),T}catch(T){try{throw await((_=(E=V(this,Gn).config).onError)==null?void 0:_.call(E,T,e,this.state.context,this)),await((S=(y=this.options).onError)==null?void 0:S.call(y,T,e,this.state.context)),await((D=(A=V(this,Gn).config).onSettled)==null?void 0:D.call(A,void 0,T,this.state.variables,this.state.context,this)),await((C=(O=this.options).onSettled)==null?void 0:C.call(O,void 0,T,e,this.state.context)),T}finally{Be(this,Ps,qi).call(this,{type:"error",error:T})}}finally{V(this,Gn).runNext(this)}}},As=new WeakMap,Gn=new WeakMap,Da=new WeakMap,Ps=new WeakSet,qi=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),cn.batch(()=>{V(this,As).forEach(r=>{r.onMutationUpdate(e)}),V(this,Gn).notify({mutation:this,type:"updated",action:e})})},E1);function FV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var yr,xh,T1,koe=(T1=class extends fu{constructor(e={}){super();we(this,yr,void 0);we(this,xh,void 0);this.config=e,he(this,yr,new Map),he(this,xh,Date.now())}build(e,n,r){const s=new Doe({mutationCache:this,mutationId:++Mf(this,xh)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=yp(e),r=V(this,yr).get(n)??[];r.push(e),V(this,yr).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=yp(e);if(V(this,yr).has(n)){const s=(r=V(this,yr).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?V(this,yr).delete(n):V(this,yr).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=V(this,yr).get(yp(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=V(this,yr).get(yp(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){cn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...V(this,yr).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>HP(n,r))}findAll(e={}){return this.getAll().filter(n=>HP(e,n))}notify(e){cn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return cn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Fr))))}},yr=new WeakMap,xh=new WeakMap,T1);function yp(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function Moe(t){return{onFetch:(e,n)=>{const r=async()=>{var w,v,E,_,y;const s=e.options,i=(E=(v=(w=e.fetchOptions)==null?void 0:w.meta)==null?void 0:v.fetchMore)==null?void 0:E.direction,o=((_=e.state.data)==null?void 0:_.pages)||[],a=((y=e.state.data)==null?void 0:y.pageParams)||[],l={pages:[],pageParams:[]};let c=!1;const u=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?c=!0:e.signal.addEventListener("abort",()=>{c=!0}),e.signal)})},d=kV(e.options,e.fetchOptions),p=async(S,A,D)=>{if(c)return Promise.reject();if(A==null&&S.pages.length)return Promise.resolve(S);const O={queryKey:e.queryKey,pageParam:A,direction:D?"backward":"forward",meta:e.options.meta};u(O);const C=await d(O),{maxPages:T}=e.options,I=D?Soe:Toe;return{pages:I(S.pages,C,T),pageParams:I(S.pageParams,A,T)}};let g;if(i&&o.length){const S=i==="backward",A=S?Ooe:QP,D={pages:o,pageParams:a},O=A(s,D);g=await p(D,O,S)}else{g=await p(l,a[0]??s.initialPageParam);const S=t??o.length;for(let A=1;A<S;A++){const D=QP(s,g);if(D==null)break;g=await p(g,D)}}return g};e.options.persister?e.fetchFn=()=>{var s,i;return(i=(s=e.options).persister)==null?void 0:i.call(s,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=r}}}function QP(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Ooe(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var $t,oo,ao,vc,wc,lo,_c,xc,S1,Loe=(S1=class{constructor(t={}){we(this,$t,void 0);we(this,oo,void 0);we(this,ao,void 0);we(this,vc,void 0);we(this,wc,void 0);we(this,lo,void 0);we(this,_c,void 0);we(this,xc,void 0);he(this,$t,t.queryCache||new Noe),he(this,oo,t.mutationCache||new koe),he(this,ao,t.defaultOptions||{}),he(this,vc,new Map),he(this,wc,new Map),he(this,lo,0)}mount(){Mf(this,lo)._++,V(this,lo)===1&&(he(this,_c,JT.subscribe(async t=>{t&&(await this.resumePausedMutations(),V(this,$t).onFocus())})),he(this,xc,ig.subscribe(async t=>{t&&(await this.resumePausedMutations(),V(this,$t).onOnline())})))}unmount(){var t,e;Mf(this,lo)._--,V(this,lo)===0&&((t=V(this,_c))==null||t.call(this),he(this,_c,void 0),(e=V(this,xc))==null||e.call(this),he(this,xc,void 0))}isFetching(t){return V(this,$t).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return V(this,oo).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=V(this,$t).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=V(this,$t).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(dc(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return V(this,$t).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=V(this,$t).get(r.queryHash),i=s==null?void 0:s.state.data,o=xoe(e,i);if(o!==void 0)return V(this,$t).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return cn.batch(()=>V(this,$t).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=V(this,$t).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=V(this,$t);cn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=V(this,$t),r={type:"active",...t};return cn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=cn.batch(()=>V(this,$t).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Fr).catch(Fr)}invalidateQueries(t={},e={}){return cn.batch(()=>{if(V(this,$t).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=cn.batch(()=>V(this,$t).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Fr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Fr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=V(this,$t).build(this,e);return n.isStaleByTime(dc(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Fr).catch(Fr)}fetchInfiniteQuery(t){return t.behavior=Moe(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Fr).catch(Fr)}resumePausedMutations(){return ig.isOnline()?V(this,oo).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,$t)}getMutationCache(){return V(this,oo)}getDefaultOptions(){return V(this,ao)}setDefaultOptions(t){he(this,ao,t)}setQueryDefaults(t,e){V(this,vc).set(nl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...V(this,vc).values()];let n={};return e.forEach(r=>{wh(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){V(this,wc).set(nl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...V(this,wc).values()];let n={};return e.forEach(r=>{wh(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...V(this,ao).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=XT(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===DV&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...V(this,ao).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){V(this,$t).clear(),V(this,oo).clear()}},$t=new WeakMap,oo=new WeakMap,ao=new WeakMap,vc=new WeakMap,wc=new WeakMap,lo=new WeakMap,_c=new WeakMap,xc=new WeakMap,S1),sr,Ze,Eh,Qn,ka,Ec,Rs,Th,Tc,Sc,Ma,Oa,co,bc,La,sd,Sh,T_,bh,S_,Ch,b_,Ih,C_,Ah,I_,Ph,A_,Rh,P_,hg,UV,b1,joe=(b1=class extends fu{constructor(e,n){super();we(this,La);we(this,Sh);we(this,bh);we(this,Ch);we(this,Ih);we(this,Ah);we(this,Ph);we(this,Rh);we(this,hg);we(this,sr,void 0);we(this,Ze,void 0);we(this,Eh,void 0);we(this,Qn,void 0);we(this,ka,void 0);we(this,Ec,void 0);we(this,Rs,void 0);we(this,Th,void 0);we(this,Tc,void 0);we(this,Sc,void 0);we(this,Ma,void 0);we(this,Oa,void 0);we(this,co,void 0);we(this,bc,new Set);this.options=n,he(this,sr,e),he(this,Rs,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(V(this,Ze).addObserver(this),YP(V(this,Ze),this.options)?Be(this,La,sd).call(this):this.updateResult(),Be(this,Ih,C_).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return R_(V(this,Ze),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return R_(V(this,Ze),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Be(this,Ah,I_).call(this),Be(this,Ph,A_).call(this),V(this,Ze).removeObserver(this)}setOptions(e,n){const r=this.options,s=V(this,Ze);if(this.options=V(this,sr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof as(this.options.enabled,V(this,Ze))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Be(this,Rh,P_).call(this),V(this,Ze).setOptions(this.options),r._defaulted&&!sg(this.options,r)&&V(this,sr).getQueryCache().notify({type:"observerOptionsUpdated",query:V(this,Ze),observer:this});const i=this.hasListeners();i&&XP(V(this,Ze),s,this.options,r)&&Be(this,La,sd).call(this),this.updateResult(n),i&&(V(this,Ze)!==s||as(this.options.enabled,V(this,Ze))!==as(r.enabled,V(this,Ze))||dc(this.options.staleTime,V(this,Ze))!==dc(r.staleTime,V(this,Ze)))&&Be(this,Sh,T_).call(this);const o=Be(this,bh,S_).call(this);i&&(V(this,Ze)!==s||as(this.options.enabled,V(this,Ze))!==as(r.enabled,V(this,Ze))||o!==V(this,co))&&Be(this,Ch,b_).call(this,o)}getOptimisticResult(e){const n=V(this,sr).getQueryCache().build(V(this,sr),e),r=this.createResult(n,e);return Foe(this,r)&&(he(this,Qn,r),he(this,Ec,this.options),he(this,ka,V(this,Ze).state)),r}getCurrentResult(){return V(this,Qn)}trackResult(e,n){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),e[s])})}),r}trackProp(e){V(this,bc).add(e)}getCurrentQuery(){return V(this,Ze)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=V(this,sr).defaultQueryOptions(e),r=V(this,sr).getQueryCache().build(V(this,sr),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Be(this,La,sd).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),V(this,Qn)))}createResult(e,n){var C;const r=V(this,Ze),s=this.options,i=V(this,Qn),o=V(this,ka),a=V(this,Ec),c=e!==r?e.state:V(this,Eh),{state:u}=e;let d={...u},p=!1,g;if(n._optimisticResults){const T=this.hasListeners(),I=!T&&YP(e,n),P=T&&XP(e,r,n,s);(I||P)&&(d={...d,...VV(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:w,errorUpdatedAt:v,status:E}=d;if(n.select&&d.data!==void 0)if(i&&d.data===(o==null?void 0:o.data)&&n.select===V(this,Th))g=V(this,Tc);else try{he(this,Th,n.select),g=n.select(d.data),g=E_(i==null?void 0:i.data,g,n),he(this,Tc,g),he(this,Rs,null)}catch(T){he(this,Rs,T)}else g=d.data;if(n.placeholderData!==void 0&&g===void 0&&E==="pending"){let T;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))T=i.data;else if(T=typeof n.placeholderData=="function"?n.placeholderData((C=V(this,Sc))==null?void 0:C.state.data,V(this,Sc)):n.placeholderData,n.select&&T!==void 0)try{T=n.select(T),he(this,Rs,null)}catch(I){he(this,Rs,I)}T!==void 0&&(E="success",g=E_(i==null?void 0:i.data,T,n),p=!0)}V(this,Rs)&&(w=V(this,Rs),g=V(this,Tc),v=Date.now(),E="error");const _=d.fetchStatus==="fetching",y=E==="pending",S=E==="error",A=y&&_,D=g!==void 0;return{status:E,fetchStatus:d.fetchStatus,isPending:y,isSuccess:E==="success",isError:S,isInitialLoading:A,isLoading:A,data:g,dataUpdatedAt:d.dataUpdatedAt,error:w,errorUpdatedAt:v,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:_,isRefetching:_&&!y,isLoadingError:S&&!D,isPaused:d.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:S&&D,isStale:ZT(e,n),refetch:this.refetch}}updateResult(e){const n=V(this,Qn),r=this.createResult(V(this,Ze),this.options);if(he(this,ka,V(this,Ze).state),he(this,Ec,this.options),V(this,ka).data!==void 0&&he(this,Sc,V(this,Ze)),sg(r,n))return;he(this,Qn,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!V(this,bc).size)return!0;const l=new Set(a??V(this,bc));return this.options.throwOnError&&l.add("error"),Object.keys(V(this,Qn)).some(c=>{const u=c;return V(this,Qn)[u]!==n[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),Be(this,hg,UV).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Be(this,Ih,C_).call(this)}},sr=new WeakMap,Ze=new WeakMap,Eh=new WeakMap,Qn=new WeakMap,ka=new WeakMap,Ec=new WeakMap,Rs=new WeakMap,Th=new WeakMap,Tc=new WeakMap,Sc=new WeakMap,Ma=new WeakMap,Oa=new WeakMap,co=new WeakMap,bc=new WeakMap,La=new WeakSet,sd=function(e){Be(this,Rh,P_).call(this);let n=V(this,Ze).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Fr)),n},Sh=new WeakSet,T_=function(){Be(this,Ah,I_).call(this);const e=dc(this.options.staleTime,V(this,Ze));if(qc||V(this,Qn).isStale||!__(e))return;const r=RV(V(this,Qn).dataUpdatedAt,e)+1;he(this,Ma,setTimeout(()=>{V(this,Qn).isStale||this.updateResult()},r))},bh=new WeakSet,S_=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(V(this,Ze)):this.options.refetchInterval)??!1},Ch=new WeakSet,b_=function(e){Be(this,Ph,A_).call(this),he(this,co,e),!(qc||as(this.options.enabled,V(this,Ze))===!1||!__(V(this,co))||V(this,co)===0)&&he(this,Oa,setInterval(()=>{(this.options.refetchIntervalInBackground||JT.isFocused())&&Be(this,La,sd).call(this)},V(this,co)))},Ih=new WeakSet,C_=function(){Be(this,Sh,T_).call(this),Be(this,Ch,b_).call(this,Be(this,bh,S_).call(this))},Ah=new WeakSet,I_=function(){V(this,Ma)&&(clearTimeout(V(this,Ma)),he(this,Ma,void 0))},Ph=new WeakSet,A_=function(){V(this,Oa)&&(clearInterval(V(this,Oa)),he(this,Oa,void 0))},Rh=new WeakSet,P_=function(){const e=V(this,sr).getQueryCache().build(V(this,sr),this.options);if(e===V(this,Ze))return;const n=V(this,Ze);he(this,Ze,e),he(this,Eh,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},hg=new WeakSet,UV=function(e){cn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(V(this,Qn))}),V(this,sr).getQueryCache().notify({query:V(this,Ze),type:"observerResultsUpdated"})})},b1);function Voe(t,e){return as(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function YP(t,e){return Voe(t,e)||t.state.data!==void 0&&R_(t,e,e.refetchOnMount)}function R_(t,e,n){if(as(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&ZT(t,e)}return!1}function XP(t,e,n,r){return(t!==e||as(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&ZT(t,n)}function ZT(t,e){return as(e.enabled,t)!==!1&&t.isStaleByTime(dc(e.staleTime,t))}function Foe(t,e){return!sg(t.getCurrentResult(),e)}var uo,ho,ir,ei,Cc,Zp,Nh,N_,C1,Uoe=(C1=class extends fu{constructor(n,r){super();we(this,Cc);we(this,Nh);we(this,uo,void 0);we(this,ho,void 0);we(this,ir,void 0);we(this,ei,void 0);he(this,uo,n),this.setOptions(r),this.bindMethods(),Be(this,Cc,Zp).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=V(this,uo).defaultMutationOptions(n),sg(this.options,r)||V(this,uo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:V(this,ir),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&nl(r.mutationKey)!==nl(this.options.mutationKey)?this.reset():((s=V(this,ir))==null?void 0:s.state.status)==="pending"&&V(this,ir).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=V(this,ir))==null||n.removeObserver(this)}onMutationUpdate(n){Be(this,Cc,Zp).call(this),Be(this,Nh,N_).call(this,n)}getCurrentResult(){return V(this,ho)}reset(){var n;(n=V(this,ir))==null||n.removeObserver(this),he(this,ir,void 0),Be(this,Cc,Zp).call(this),Be(this,Nh,N_).call(this)}mutate(n,r){var s;return he(this,ei,r),(s=V(this,ir))==null||s.removeObserver(this),he(this,ir,V(this,uo).getMutationCache().build(V(this,uo),this.options)),V(this,ir).addObserver(this),V(this,ir).execute(n)}},uo=new WeakMap,ho=new WeakMap,ir=new WeakMap,ei=new WeakMap,Cc=new WeakSet,Zp=function(){var r;const n=((r=V(this,ir))==null?void 0:r.state)??FV();he(this,ho,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Nh=new WeakSet,N_=function(n){cn.batch(()=>{var r,s,i,o,a,l,c,u;if(V(this,ei)&&this.hasListeners()){const d=V(this,ho).variables,p=V(this,ho).context;(n==null?void 0:n.type)==="success"?((s=(r=V(this,ei)).onSuccess)==null||s.call(r,n.data,d,p),(o=(i=V(this,ei)).onSettled)==null||o.call(i,n.data,null,d,p)):(n==null?void 0:n.type)==="error"&&((l=(a=V(this,ei)).onError)==null||l.call(a,n.error,d,p),(u=(c=V(this,ei)).onSettled)==null||u.call(c,void 0,n.error,d,p))}this.listeners.forEach(d=>{d(V(this,ho))})})},C1),BV=m.createContext(void 0),pu=t=>{const e=m.useContext(BV);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Boe=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(BV.Provider,{value:t,children:e})),$V=m.createContext(!1),$oe=()=>m.useContext($V);$V.Provider;function zoe(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Koe=m.createContext(zoe()),Woe=()=>m.useContext(Koe);function zV(t,e){return typeof t=="function"?t(...e):!!t}function Hoe(){}var qoe=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},Goe=t=>{m.useEffect(()=>{t.clearReset()},[t])},Qoe=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&zV(n,[t.error,r]),Yoe=t=>{t.suspense&&(typeof t.staleTime!="number"&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Xoe=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Joe=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Zoe(t,e,n){var c,u,d,p;const r=pu(),s=$oe(),i=Woe(),o=r.defaultQueryOptions(t);(u=(c=r.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||u.call(c,o),o._optimisticResults=s?"isRestoring":"optimistic",Yoe(o),qoe(o,i),Goe(i);const[a]=m.useState(()=>new e(r,o)),l=a.getOptimisticResult(o);if(m.useSyncExternalStore(m.useCallback(g=>{const w=s?()=>{}:a.subscribe(cn.batchCalls(g));return a.updateResult(),w},[a,s]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),m.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),Xoe(o,l))throw Joe(o,a,i);if(Qoe({result:l,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw l.error;return(p=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_afterQuery)==null||p.call(d,o,l),o.notifyOnChangeProps?l:a.trackResult(l)}function eS(t,e){return Zoe(t,joe)}function li(t,e){const n=pu(),[r]=m.useState(()=>new Uoe(n,t));m.useEffect(()=>{r.setOptions(t)},[r,t]);const s=m.useSyncExternalStore(m.useCallback(o=>r.subscribe(cn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=m.useCallback((o,a)=>{r.mutate(o,a).catch(Hoe)},[r]);if(s.error&&zV(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const KV=({label:t,onButtonClick:e})=>f.jsxs(ct,{variant:"outline",size:"sm",className:"mb-2 hover:bg-gray-100 h-10",onClick:e,children:[f.jsx(Wh,{className:"w-4 h-4 mr-0 md:mr-2"}),f.jsx("p",{className:"hidden md:block",children:t})]}),WV=()=>f.jsxs("div",{className:"h-[450px] md:h-[600px] w-full px-4 flex flex-col pb-4 mt-2",children:[f.jsxs("div",{className:"flex mb-7 space-x-4",children:[f.jsx(et,{className:"flex-grow h-10 bg-lightGray-darker"}),f.jsx(et,{className:"h-10 w-[42px] md:w-[198.85px] bg-lightGray-darker"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(et,{className:"h-[20px] w-[20rem] bg-lightGray-darker"}),f.jsx(et,{className:"h-[20px] w-[10rem] bg-lightGray-darker"})]})]}),qr=Yo(t=>({isModalVisible:!1,modalMode:"BASE",openModal:()=>{t(()=>({isModalVisible:!0}))},closeModal:()=>{t(()=>({isModalVisible:!1}))},setMode:e=>{t(()=>({modalMode:e}))}})),eae=()=>{const t=qr(i=>i.openModal),e=qr(i=>i.setMode),n=ut(i=>i.clearFormData),r=Xt(i=>i.selectedKnowledgeBaseName);return{handleOpenKnowledgeForm:async i=>{if(!r)return window.alert("No Knowledge Base Selected cannot add a knowledge entry");n(),e(i),t()},openModal:t,setMode:e,clearFormData:n}},HV=()=>{const[t,e]=m.useState("");return{filter:t,handleFilterChange:r=>{e(r)}}};function tae(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var _;const{scope:p,children:g,...w}=d,v=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,E=m.useMemo(()=>w,Object.values(w));return f.jsx(v.Provider,{value:E,children:g})};c.displayName=i+"Provider";function u(d,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,nae(s,...e)]}function nae(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function rae(t,e){const n=m.createContext(e),r=i=>{const{children:o,...a}=i,l=m.useMemo(()=>a,Object.values(a));return f.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=m.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function sae(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var _;const{scope:p,children:g,...w}=d,v=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,E=m.useMemo(()=>w,Object.values(w));return f.jsx(v.Provider,{value:E,children:g})};c.displayName=i+"Provider";function u(d,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,iae(s,...e)]}function iae(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var oae="DismissableLayer",D_="dismissableLayer.update",aae="dismissableLayer.pointerDownOutside",lae="dismissableLayer.focusOutside",JP,qV=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),GV=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(qV),[u,d]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,C=>d(C)),v=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(E),y=u?v.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,A=y>=_,D=dae(C=>{const T=C.target,I=[...c.branches].some(P=>P.contains(T));!A||I||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),O=hae(C=>{const T=C.target;[...c.branches].some(P=>P.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return Hh(C=>{y===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(JP=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),ZP(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=JP)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),ZP())},[u,c]),m.useEffect(()=>{const C=()=>g({});return document.addEventListener(D_,C),()=>document.removeEventListener(D_,C)},[]),f.jsx(xe.div,{...l,ref:w,style:{pointerEvents:S?A?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,D.onPointerDownCapture)})});GV.displayName=oae;var cae="DismissableLayerBranch",uae=m.forwardRef((t,e)=>{const n=m.useContext(qV),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(xe.div,{...t,ref:s})});uae.displayName=cae;function dae(t,e=globalThis==null?void 0:globalThis.document){const n=kt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){QV(aae,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function hae(t,e=globalThis==null?void 0:globalThis.document){const n=kt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&QV(lae,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ZP(){const t=new CustomEvent(D_);document.dispatchEvent(t)}function QV(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?cl(s,i):s.dispatchEvent(i)}var fae="Portal",YV=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Rt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?jh.createPortal(f.jsx(xe.div,{...r,ref:e}),o):null});YV.displayName=fae;function pae(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var Vy=t=>{const{present:e,children:n}=t,r=mae(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ke(r.ref,gae(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};Vy.displayName="Presence";function mae(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=pae(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=vp(r.current);i.current=a==="mounted"?c:"none"},[a]),Rt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=vp(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Rt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=g=>{const v=vp(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},p=g=>{g.target===e&&(i.current=vp(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function vp(t){return(t==null?void 0:t.animationName)||"none"}function gae(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var tS="Dialog",[XV,JV]=sae(tS),[yae,_s]=XV(tS),ZV=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=m.useRef(null),l=m.useRef(null),[c=!1,u]=Oo({prop:r,defaultProp:s,onChange:i});return f.jsx(yae,{scope:e,triggerRef:a,contentRef:l,contentId:fs(),titleId:fs(),descriptionId:fs(),open:c,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(d=>!d),[u]),modal:o,children:n})};ZV.displayName=tS;var eF="DialogTrigger",tF=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=_s(eF,n),i=ke(e,s.triggerRef);return f.jsx(xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":sS(s.open),...r,ref:i,onClick:ee(t.onClick,s.onOpenToggle)})});tF.displayName=eF;var nS="DialogPortal",[vae,nF]=XV(nS,{forceMount:void 0}),rF=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=_s(nS,e);return f.jsx(vae,{scope:e,forceMount:n,children:m.Children.map(r,o=>f.jsx(Vy,{present:n||i.open,children:f.jsx(YV,{asChild:!0,container:s,children:o})}))})};rF.displayName=nS;var og="DialogOverlay",sF=m.forwardRef((t,e)=>{const n=nF(og,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=_s(og,t.__scopeDialog);return i.modal?f.jsx(Vy,{present:r||i.open,children:f.jsx(wae,{...s,ref:e})}):null});sF.displayName=og;var wae=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=_s(og,n);return f.jsx(Jg,{as:Lo,allowPinchZoom:!0,shards:[s.contentRef],children:f.jsx(xe.div,{"data-state":sS(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),rl="DialogContent",iF=m.forwardRef((t,e)=>{const n=nF(rl,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=_s(rl,t.__scopeDialog);return f.jsx(Vy,{present:r||i.open,children:i.modal?f.jsx(_ae,{...s,ref:e}):f.jsx(xae,{...s,ref:e})})});iF.displayName=rl;var _ae=m.forwardRef((t,e)=>{const n=_s(rl,t.__scopeDialog),r=m.useRef(null),s=ke(e,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return fE(i)},[]),f.jsx(oF,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ee(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ee(t.onFocusOutside,i=>i.preventDefault())})}),xae=m.forwardRef((t,e)=>{const n=_s(rl,t.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return f.jsx(oF,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),oF=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=_s(rl,n),l=m.useRef(null),c=ke(e,l);return eE(),f.jsxs(f.Fragment,{children:[f.jsx(Wg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:f.jsx(GV,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":sS(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(Tae,{titleId:a.titleId}),f.jsx(bae,{contentRef:l,descriptionId:a.descriptionId})]})]})}),rS="DialogTitle",aF=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=_s(rS,n);return f.jsx(xe.h2,{id:s.titleId,...r,ref:e})});aF.displayName=rS;var lF="DialogDescription",cF=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=_s(lF,n);return f.jsx(xe.p,{id:s.descriptionId,...r,ref:e})});cF.displayName=lF;var uF="DialogClose",dF=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=_s(uF,n);return f.jsx(xe.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,()=>s.onOpenChange(!1))})});dF.displayName=uF;function sS(t){return t?"open":"closed"}var hF="DialogTitleWarning",[Eae,fF]=rae(hF,{contentName:rl,titleName:rS,docsSlug:"dialog"}),Tae=({titleId:t})=>{const e=fF(hF),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Sae="DialogDescriptionWarning",bae=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${fF(Sae).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},pF=ZV,Cae=tF,mF=rF,iS=sF,oS=iF,aS=aF,lS=cF,cS=dF,gF="AlertDialog",[Iae,ide]=tae(gF,[JV]),ki=JV(),yF=t=>{const{__scopeAlertDialog:e,...n}=t,r=ki(e);return f.jsx(pF,{...r,...n,modal:!0})};yF.displayName=gF;var Aae="AlertDialogTrigger",Pae=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ki(n);return f.jsx(Cae,{...s,...r,ref:e})});Pae.displayName=Aae;var Rae="AlertDialogPortal",vF=t=>{const{__scopeAlertDialog:e,...n}=t,r=ki(e);return f.jsx(mF,{...r,...n})};vF.displayName=Rae;var Nae="AlertDialogOverlay",wF=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ki(n);return f.jsx(iS,{...s,...r,ref:e})});wF.displayName=Nae;var hc="AlertDialogContent",[Dae,kae]=Iae(hc),_F=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=ki(n),o=m.useRef(null),a=ke(e,o),l=m.useRef(null);return f.jsx(Eae,{contentName:hc,titleName:xF,docsSlug:"alert-dialog",children:f.jsx(Dae,{scope:n,cancelRef:l,children:f.jsxs(oS,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:ee(s.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[f.jsx(Zx,{children:r}),f.jsx(Oae,{contentRef:o})]})})})});_F.displayName=hc;var xF="AlertDialogTitle",EF=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ki(n);return f.jsx(aS,{...s,...r,ref:e})});EF.displayName=xF;var TF="AlertDialogDescription",SF=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ki(n);return f.jsx(lS,{...s,...r,ref:e})});SF.displayName=TF;var Mae="AlertDialogAction",bF=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ki(n);return f.jsx(cS,{...s,...r,ref:e})});bF.displayName=Mae;var CF="AlertDialogCancel",IF=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=kae(CF,n),i=ki(n),o=ke(e,s);return f.jsx(cS,{...i,...r,ref:o})});IF.displayName=CF;var Oae=({contentRef:t})=>{const e=`\`${hc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${hc}\` by passing a \`${TF}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${hc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Lae=yF,jae=vF,AF=wF,PF=_F,RF=bF,NF=IF,DF=EF,kF=SF;const Vae=Lae,Fae=jae,MF=m.forwardRef(({className:t,...e},n)=>f.jsx(AF,{className:de("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));MF.displayName=AF.displayName;const OF=m.forwardRef(({className:t,...e},n)=>f.jsxs(Fae,{children:[f.jsx(MF,{}),f.jsx(PF,{ref:n,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));OF.displayName=PF.displayName;const LF=({className:t,...e})=>f.jsx("div",{className:de("flex flex-col space-y-2 text-center sm:text-left",t),...e});LF.displayName="AlertDialogHeader";const jF=({className:t,...e})=>f.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});jF.displayName="AlertDialogFooter";const VF=m.forwardRef(({className:t,...e},n)=>f.jsx(DF,{ref:n,className:de("text-lg font-semibold",t),...e}));VF.displayName=DF.displayName;const FF=m.forwardRef(({className:t,...e},n)=>f.jsx(kF,{ref:n,className:de("text-sm text-muted-foreground",t),...e}));FF.displayName=kF.displayName;const UF=m.forwardRef(({className:t,...e},n)=>f.jsx(RF,{ref:n,className:de(PE(),t),...e}));UF.displayName=RF.displayName;const BF=m.forwardRef(({className:t,...e},n)=>f.jsx(NF,{ref:n,className:de(PE({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));BF.displayName=NF.displayName;const uS=({isOpen:t,setDialogState:e,onDelete:n,message:r})=>{const s=async()=>{e(!1),await n()},i=()=>{e(!1)};return f.jsx(Vae,{open:t,onOpenChange:o=>{e(o),setTimeout(()=>{o||(document.body.style.pointerEvents="")},100)},children:f.jsxs(OF,{children:[f.jsxs(LF,{children:[f.jsx(VF,{children:"Are you sure you want to delete?"}),f.jsx(FF,{children:r})]}),f.jsxs(jF,{children:[f.jsx(BF,{onClick:i,children:"Cancel"}),f.jsx(UF,{onClick:s,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})},Uae={1:"Base",2:"Entry",3:"Verify"},Bae={1:"Entry",2:"Verify"},$F={base:"This action cannot be undone. This will permanently delete the knowledge base.",entry:"This action cannot be undone. This will permanently delete the knowledge entry."},$ae=({onTabChange:t})=>{const{handleOpenKnowledgeForm:e}=eae(),n=na(),r=pu(),{filter:s,handleFilterChange:i}=HV(),o=Pt(_=>_.admin),a=Xt(_=>_.selectedKnowledgeBaseName),l=Xt(_=>_.selectedKnowledgeEntryIntentItem),c=Xt(_=>_.setSelectedKnowledgeEntryIntentItem),u=Ri(_=>_.dialogs),d=Ri(_=>_.setDialogState),{data:p,isLoading:g}=eS({queryFn:()=>noe(a),queryKey:Jp,enabled:!!a}),{mutateAsync:w}=li({mutationFn:loe,onSuccess:()=>{r.invalidateQueries({queryKey:Jp}),n({title:`Knowledge Entry with intent ${l} deleted`,description:Nt()})},onError:_=>{n({title:_==null?void 0:_.message,description:Nt()}),gt(_.message||"An Unexpected error occured while deleting knowledge base")}}),v=async()=>{if(!l)throw new Error("No knowledge entry intent selected cannot delete");await w(`${a}&${l}`),c("")},E=m.useMemo(()=>p==null?void 0:p.filter(_=>_.intent.toLowerCase().includes(s.toLowerCase())),[p,s]);return m.useEffect(()=>()=>{r.resetQueries({queryKey:Jp})},[]),g?f.jsx(WV,{}):p?f.jsxs(my,{value:"knowledgeEntry",className:"mt-2",children:[f.jsxs("div",{className:"h-[450px] md:h-[600px] w-full px-4 flex flex-col pb-4 overflow-y-auto scrollbar-slim",children:[f.jsxs("div",{className:"flex mb-2 space-x-4",children:[f.jsx(on,{className:"flex-grow outline-none focus:outline-none",placeholder:"Search knowledge base...",onChange:_=>i(_.target.value)}),(o==null?void 0:o.role)!=="viewer"&&f.jsx(KV,{label:"Add Knowledge Entry",onButtonClick:()=>e(UZ.entry)})]}),f.jsx(_oe,{knowledgeEntries:E,handleTabChange:t})]}),u.showConfirmDeleteKnowledgeEntryDialog&&f.jsx(uS,{isOpen:u.showConfirmDeleteKnowledgeEntryDialog,setDialogState:_=>d("showConfirmDeleteKnowledgeEntryDialog",_),onDelete:v,message:$F.entry})]}):f.jsx(YT,{heading:"No Knowledge Base Selected",description:"Select a knowledge base category to view its contents here."})},zF=t=>{const[e,n]=m.useState(t);return{currentTab:e,setCurrentTab:n,setActiveTab:s=>{n(s)}}},zae=({base:t,onItemClick:e})=>{const n=Pt(l=>l.admin),r=Xt(l=>l.selectedKnowledgeBaseName),s=Xt(l=>l.setSelectedKnowledgeBaseItem),i=Ri(l=>l.openDialog),o=()=>{s(t),i("showRenameKnowledgeBaseDialog")},a=()=>{s(t),i("showConfirmDeleteKnowledgeBaseDialog")};return f.jsxs("div",{className:`flex justify-between p-2 rounded-md cursor-pointer transition-colors ${r===t?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,onClick:()=>e(t),children:[t,(n==null?void 0:n.role)!=="viewer"&&f.jsx(ct,{className:"bg-transparent hover:bg-transparent size-8 p-0 h-fit",children:f.jsx(PV,{onRenameKnowledge:o,onDeleteKnowledge:a})})]})},Kae=({knowledgeBaseNameList:t,handleTabChange:e})=>{const n=Xt(i=>i.setSelectedKnowledgeBaseName),r=Xt(i=>i.selectedKnowledgeBaseName),s=i=>{e("knowledgeEntry"),r!==i&&n(i)};return f.jsx("div",{children:f.jsx(iy,{listStyle:"space-y-2",items:t,renderItem:i=>f.jsx(zae,{base:i,onItemClick:s})})})},Fy=pF,Wae=mF,KF=m.forwardRef(({className:t,...e},n)=>f.jsx(iS,{ref:n,className:de("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));KF.displayName=iS.displayName;const ff=m.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(Wae,{children:[f.jsx(KF,{}),f.jsxs(oS,{ref:r,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,f.jsxs(cS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(Bg,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ff.displayName=oS.displayName;const pf=({className:t,...e})=>f.jsx("div",{className:de("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});pf.displayName="DialogHeader";const Uy=({className:t,...e})=>f.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Uy.displayName="DialogFooter";const mf=m.forwardRef(({className:t,...e},n)=>f.jsx(aS,{ref:n,className:de("text-lg font-semibold leading-none tracking-tight",t),...e}));mf.displayName=aS.displayName;const gf=m.forwardRef(({className:t,...e},n)=>f.jsx(lS,{ref:n,className:de("text-sm text-muted-foreground",t),...e}));gf.displayName=lS.displayName;var yf=t=>t.type==="checkbox",Aa=t=>t instanceof Date,Jn=t=>t==null;const WF=t=>typeof t=="object";var Jt=t=>!Jn(t)&&!Array.isArray(t)&&WF(t)&&!Aa(t),HF=t=>Jt(t)&&t.target?yf(t.target)?t.target.checked:t.target.value:t,Hae=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,qF=(t,e)=>t.has(Hae(e)),qae=t=>{const e=t.constructor&&t.constructor.prototype;return Jt(e)&&e.hasOwnProperty("isPrototypeOf")},dS=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function rr(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(dS&&(t instanceof Blob||t instanceof FileList))&&(n||Jt(t)))if(e=n?[]:{},!n&&!qae(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=rr(t[r]));else return t;return e}var By=t=>Array.isArray(t)?t.filter(Boolean):[],Kt=t=>t===void 0,oe=(t,e,n)=>{if(!e||!Jt(t))return n;const r=By(e.split(/[,[\].]+?/)).reduce((s,i)=>Jn(s)?s:s[i],t);return Kt(r)||r===t?Kt(t[e])?n:t[e]:r},Ur=t=>typeof t=="boolean",hS=t=>/^\w*$/.test(t),GF=t=>By(t.replace(/["|']|\]/g,"").split(/\.|\[/)),wt=(t,e,n)=>{let r=-1;const s=hS(e)?[e]:GF(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const c=t[a];l=Jt(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const ag={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ls={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ys={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Gae=ze.createContext(null),fS=()=>ze.useContext(Gae);var QF=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==ls.all&&(e._proxyFormState[o]=!r||ls.all),n&&(n[o]=!0),t[o]}});return s},or=t=>Jt(t)&&!Object.keys(t).length,YF=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return or(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||ls.all))},Id=t=>Array.isArray(t)?t:[t],XF=(t,e,n)=>!t||!e||t===e||Id(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function pS(t){const e=ze.useRef(t);e.current=t,ze.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function Qae(t){const e=fS(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,a]=ze.useState(n._formState),l=ze.useRef(!0),c=ze.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=ze.useRef(s);return u.current=s,pS({disabled:r,next:d=>l.current&&XF(u.current,d.name,i)&&YF(d,c.current,n._updateFormState)&&a({...n._formState,...d}),subject:n._subjects.state}),ze.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),QF(o,n,c.current,!1)}var Ms=t=>typeof t=="string",JF=(t,e,n,r,s)=>Ms(t)?(r&&e.watch.add(t),oe(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),oe(n,i))):(r&&(e.watchAll=!0),n);function Yae(t){const e=fS(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o}=t||{},a=ze.useRef(r);a.current=r,pS({disabled:i,subject:n._subjects.values,next:u=>{XF(a.current,u.name,o)&&c(rr(JF(a.current,n._names,u.values||n._formValues,!1,s)))}});const[l,c]=ze.useState(n._getWatch(r,s));return ze.useEffect(()=>n._removeUnmounted()),l}function Xae(t){const e=fS(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,o=qF(s._names.array,n),a=Yae({control:s,name:n,defaultValue:oe(s._formValues,n,oe(s._defaultValues,n,t.defaultValue)),exact:!0}),l=Qae({control:s,name:n,exact:!0}),c=ze.useRef(s.register(n,{...t.rules,value:a,...Ur(t.disabled)?{disabled:t.disabled}:{}}));return ze.useEffect(()=>{const u=s._options.shouldUnregister||i,d=(p,g)=>{const w=oe(s._fields,p);w&&w._f&&(w._f.mount=g)};if(d(n,!0),u){const p=rr(oe(s._options.defaultValues,n));wt(s._defaultValues,n,p),Kt(oe(s._formValues,n))&&wt(s._formValues,n,p)}return()=>{(o?u&&!s._state.action:u)?s.unregister(n):d(n,!1)}},[n,s,o,i]),ze.useEffect(()=>{oe(s._fields,n)&&s._updateDisabledField({disabled:r,fields:s._fields,name:n,value:oe(s._fields,n)._f.value})},[r,n,s]),{field:{name:n,value:a,...Ur(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:ze.useCallback(u=>c.current.onChange({target:{value:HF(u),name:n},type:ag.CHANGE}),[n]),onBlur:ze.useCallback(()=>c.current.onBlur({target:{value:oe(s._formValues,n),name:n},type:ag.BLUR}),[n,s]),ref:ze.useCallback(u=>{const d=oe(s._fields,n);d&&u&&(d._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:p=>u.setCustomValidity(p),reportValidity:()=>u.reportValidity()})},[s._fields,n])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!oe(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!oe(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!oe(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!oe(l.validatingFields,n)},error:{enumerable:!0,get:()=>oe(l.errors,n)}})}}const Jae=t=>t.render(Xae(t));var Zae=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},e1=t=>({isOnSubmit:!t||t===ls.onSubmit,isOnBlur:t===ls.onBlur,isOnChange:t===ls.onChange,isOnAll:t===ls.all,isOnTouch:t===ls.onTouched}),t1=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Ad=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=oe(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Ad(a,e))break}else if(Jt(a)&&Ad(a,e))break}}};var ele=(t,e,n)=>{const r=Id(oe(t,n));return wt(r,"root",e[n]),wt(t,n,r),t},mS=t=>t.type==="file",ci=t=>typeof t=="function",lg=t=>{if(!dS)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},em=t=>Ms(t),gS=t=>t.type==="radio",cg=t=>t instanceof RegExp;const n1={value:!1,isValid:!1},r1={value:!0,isValid:!0};var ZF=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Kt(t[0].attributes.value)?Kt(t[0].value)||t[0].value===""?r1:{value:t[0].value,isValid:!0}:r1:n1}return n1};const s1={isValid:!1,value:null};var eU=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,s1):s1;function i1(t,e,n="validate"){if(em(t)||Array.isArray(t)&&t.every(em)||Ur(t)&&!t)return{type:n,message:em(t)?t:"",ref:e}}var Pl=t=>Jt(t)&&!cg(t)?t:{value:t,message:""},o1=async(t,e,n,r,s)=>{const{ref:i,refs:o,required:a,maxLength:l,minLength:c,min:u,max:d,pattern:p,validate:g,name:w,valueAsNumber:v,mount:E,disabled:_}=t._f,y=oe(e,w);if(!E||_)return{};const S=o?o[0]:i,A=k=>{r&&S.reportValidity&&(S.setCustomValidity(Ur(k)?"":k||""),S.reportValidity())},D={},O=gS(i),C=yf(i),T=O||C,I=(v||mS(i))&&Kt(i.value)&&Kt(y)||lg(i)&&i.value===""||y===""||Array.isArray(y)&&!y.length,P=Zae.bind(null,w,n,D),M=(k,N,H,ae=Ys.maxLength,te=Ys.minLength)=>{const ne=k?N:H;D[w]={type:k?ae:te,message:ne,ref:i,...P(k?ae:te,ne)}};if(s?!Array.isArray(y)||!y.length:a&&(!T&&(I||Jn(y))||Ur(y)&&!y||C&&!ZF(o).isValid||O&&!eU(o).isValid)){const{value:k,message:N}=em(a)?{value:!!a,message:a}:Pl(a);if(k&&(D[w]={type:Ys.required,message:N,ref:S,...P(Ys.required,N)},!n))return A(N),D}if(!I&&(!Jn(u)||!Jn(d))){let k,N;const H=Pl(d),ae=Pl(u);if(!Jn(y)&&!isNaN(y)){const te=i.valueAsNumber||y&&+y;Jn(H.value)||(k=te>H.value),Jn(ae.value)||(N=te<ae.value)}else{const te=i.valueAsDate||new Date(y),ne=Z=>new Date(new Date().toDateString()+" "+Z),z=i.type=="time",B=i.type=="week";Ms(H.value)&&y&&(k=z?ne(y)>ne(H.value):B?y>H.value:te>new Date(H.value)),Ms(ae.value)&&y&&(N=z?ne(y)<ne(ae.value):B?y<ae.value:te<new Date(ae.value))}if((k||N)&&(M(!!k,H.message,ae.message,Ys.max,Ys.min),!n))return A(D[w].message),D}if((l||c)&&!I&&(Ms(y)||s&&Array.isArray(y))){const k=Pl(l),N=Pl(c),H=!Jn(k.value)&&y.length>+k.value,ae=!Jn(N.value)&&y.length<+N.value;if((H||ae)&&(M(H,k.message,N.message),!n))return A(D[w].message),D}if(p&&!I&&Ms(y)){const{value:k,message:N}=Pl(p);if(cg(k)&&!y.match(k)&&(D[w]={type:Ys.pattern,message:N,ref:i,...P(Ys.pattern,N)},!n))return A(N),D}if(g){if(ci(g)){const k=await g(y,e),N=i1(k,S);if(N&&(D[w]={...N,...P(Ys.validate,N.message)},!n))return A(N.message),D}else if(Jt(g)){let k={};for(const N in g){if(!or(k)&&!n)break;const H=i1(await g[N](y,e),S,N);H&&(k={...H,...P(N,H.message)},A(H.message),n&&(D[w]=k))}if(!or(k)&&(D[w]={ref:S,...k},!n))return D}}return A(!0),D};function tle(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Kt(t)?r++:t[e[r++]];return t}function nle(t){for(const e in t)if(t.hasOwnProperty(e)&&!Kt(t[e]))return!1;return!0}function an(t,e){const n=Array.isArray(e)?e:hS(e)?[e]:GF(e),r=n.length===1?t:tle(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Jt(r)&&or(r)||Array.isArray(r)&&nle(r))&&an(t,n.slice(0,-1)),t}var xw=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},k_=t=>Jn(t)||!WF(t);function ro(t,e){if(k_(t)||k_(e))return t===e;if(Aa(t)&&Aa(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Aa(i)&&Aa(o)||Jt(i)&&Jt(o)||Array.isArray(i)&&Array.isArray(o)?!ro(i,o):i!==o)return!1}}return!0}var tU=t=>t.type==="select-multiple",rle=t=>gS(t)||yf(t),Ew=t=>lg(t)&&t.isConnected,nU=t=>{for(const e in t)if(ci(t[e]))return!0;return!1};function ug(t,e={}){const n=Array.isArray(t);if(Jt(t)||n)for(const r in t)Array.isArray(t[r])||Jt(t[r])&&!nU(t[r])?(e[r]=Array.isArray(t[r])?[]:{},ug(t[r],e[r])):Jn(t[r])||(e[r]=!0);return e}function rU(t,e,n){const r=Array.isArray(t);if(Jt(t)||r)for(const s in t)Array.isArray(t[s])||Jt(t[s])&&!nU(t[s])?Kt(e)||k_(n[s])?n[s]=Array.isArray(t[s])?ug(t[s],[]):{...ug(t[s])}:rU(t[s],Jn(e)?{}:e[s],n[s]):n[s]=!ro(t[s],e[s]);return n}var Ku=(t,e)=>rU(t,e,ug(e)),sU=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Kt(t)?t:e?t===""?NaN:t&&+t:n&&Ms(t)?new Date(t):r?r(t):t;function Tw(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return mS(e)?e.files:gS(e)?eU(t.refs).value:tU(e)?[...e.selectedOptions].map(({value:n})=>n):yf(e)?ZF(t.refs).value:sU(Kt(e.value)?t.ref.value:e.value,t)}var sle=(t,e,n,r)=>{const s={};for(const i of t){const o=oe(e,i);o&&wt(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Wu=t=>Kt(t)?t:cg(t)?t.source:Jt(t)?cg(t.value)?t.value.source:t.value:t;const a1="AsyncFunction";var ile=t=>(!t||!t.validate)&&!!(ci(t.validate)&&t.validate.constructor.name===a1||Jt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===a1)),ole=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function l1(t,e,n){const r=oe(t,n);if(r||hS(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=oe(e,i),a=oe(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var ale=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,lle=(t,e)=>!By(oe(t,e)).length&&an(t,e);const cle={mode:ls.onSubmit,reValidateMode:ls.onChange,shouldFocusError:!0};function ule(t={}){let e={...cle,...t},n={submitCount:0,isDirty:!1,isLoading:ci(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=Jt(e.defaultValues)||Jt(e.values)?rr(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:rr(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:xw(),array:xw(),state:xw()},p=e1(e.mode),g=e1(e.reValidateMode),w=e.criteriaMode===ls.all,v=L=>$=>{clearTimeout(c),c=setTimeout(L,$)},E=async L=>{if(!t.disabled&&(u.isValid||L)){const $=e.resolver?or((await T()).errors):await P(r,!0);$!==n.isValid&&d.state.next({isValid:$})}},_=(L,$)=>{!t.disabled&&(u.isValidating||u.validatingFields)&&((L||Array.from(a.mount)).forEach(q=>{q&&($?wt(n.validatingFields,q,$):an(n.validatingFields,q))}),d.state.next({validatingFields:n.validatingFields,isValidating:!or(n.validatingFields)}))},y=(L,$=[],q,le,re=!0,J=!0)=>{if(le&&q&&!t.disabled){if(o.action=!0,J&&Array.isArray(oe(r,L))){const Ee=q(oe(r,L),le.argA,le.argB);re&&wt(r,L,Ee)}if(J&&Array.isArray(oe(n.errors,L))){const Ee=q(oe(n.errors,L),le.argA,le.argB);re&&wt(n.errors,L,Ee),lle(n.errors,L)}if(u.touchedFields&&J&&Array.isArray(oe(n.touchedFields,L))){const Ee=q(oe(n.touchedFields,L),le.argA,le.argB);re&&wt(n.touchedFields,L,Ee)}u.dirtyFields&&(n.dirtyFields=Ku(s,i)),d.state.next({name:L,isDirty:k(L,$),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else wt(i,L,$)},S=(L,$)=>{wt(n.errors,L,$),d.state.next({errors:n.errors})},A=L=>{n.errors=L,d.state.next({errors:n.errors,isValid:!1})},D=(L,$,q,le)=>{const re=oe(r,L);if(re){const J=oe(i,L,Kt(q)?oe(s,L):q);Kt(J)||le&&le.defaultChecked||$?wt(i,L,$?J:Tw(re._f)):ae(L,J),o.mount&&E()}},O=(L,$,q,le,re)=>{let J=!1,Ee=!1;const Oe={name:L};if(!t.disabled){const Le=!!(oe(r,L)&&oe(r,L)._f&&oe(r,L)._f.disabled);if(!q||le){u.isDirty&&(Ee=n.isDirty,n.isDirty=Oe.isDirty=k(),J=Ee!==Oe.isDirty);const Ue=Le||ro(oe(s,L),$);Ee=!!(!Le&&oe(n.dirtyFields,L)),Ue||Le?an(n.dirtyFields,L):wt(n.dirtyFields,L,!0),Oe.dirtyFields=n.dirtyFields,J=J||u.dirtyFields&&Ee!==!Ue}if(q){const Ue=oe(n.touchedFields,L);Ue||(wt(n.touchedFields,L,q),Oe.touchedFields=n.touchedFields,J=J||u.touchedFields&&Ue!==q)}J&&re&&d.state.next(Oe)}return J?Oe:{}},C=(L,$,q,le)=>{const re=oe(n.errors,L),J=u.isValid&&Ur($)&&n.isValid!==$;if(t.delayError&&q?(l=v(()=>S(L,q)),l(t.delayError)):(clearTimeout(c),l=null,q?wt(n.errors,L,q):an(n.errors,L)),(q?!ro(re,q):re)||!or(le)||J){const Ee={...le,...J&&Ur($)?{isValid:$}:{},errors:n.errors,name:L};n={...n,...Ee},d.state.next(Ee)}},T=async L=>{_(L,!0);const $=await e.resolver(i,e.context,sle(L||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return _(L),$},I=async L=>{const{errors:$}=await T(L);if(L)for(const q of L){const le=oe($,q);le?wt(n.errors,q,le):an(n.errors,q)}else n.errors=$;return $},P=async(L,$,q={valid:!0})=>{for(const le in L){const re=L[le];if(re){const{_f:J,...Ee}=re;if(J){const Oe=a.array.has(J.name),Le=re._f&&ile(re._f);Le&&u.validatingFields&&_([le],!0);const Ue=await o1(re,i,w,e.shouldUseNativeValidation&&!$,Oe);if(Le&&u.validatingFields&&_([le]),Ue[J.name]&&(q.valid=!1,$))break;!$&&(oe(Ue,J.name)?Oe?ele(n.errors,Ue,J.name):wt(n.errors,J.name,Ue[J.name]):an(n.errors,J.name))}!or(Ee)&&await P(Ee,$,q)}}return q.valid},M=()=>{for(const L of a.unMount){const $=oe(r,L);$&&($._f.refs?$._f.refs.every(q=>!Ew(q)):!Ew($._f.ref))&&We(L)}a.unMount=new Set},k=(L,$)=>!t.disabled&&(L&&$&&wt(i,L,$),!ro(pe(),s)),N=(L,$,q)=>JF(L,a,{...o.mount?i:Kt($)?s:Ms(L)?{[L]:$}:$},q,$),H=L=>By(oe(o.mount?i:s,L,t.shouldUnregister?oe(s,L,[]):[])),ae=(L,$,q={})=>{const le=oe(r,L);let re=$;if(le){const J=le._f;J&&(!J.disabled&&wt(i,L,sU($,J)),re=lg(J.ref)&&Jn($)?"":$,tU(J.ref)?[...J.ref.options].forEach(Ee=>Ee.selected=re.includes(Ee.value)):J.refs?yf(J.ref)?J.refs.length>1?J.refs.forEach(Ee=>(!Ee.defaultChecked||!Ee.disabled)&&(Ee.checked=Array.isArray(re)?!!re.find(Oe=>Oe===Ee.value):re===Ee.value)):J.refs[0]&&(J.refs[0].checked=!!re):J.refs.forEach(Ee=>Ee.checked=Ee.value===re):mS(J.ref)?J.ref.value="":(J.ref.value=re,J.ref.type||d.values.next({name:L,values:{...i}})))}(q.shouldDirty||q.shouldTouch)&&O(L,re,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&Z(L)},te=(L,$,q)=>{for(const le in $){const re=$[le],J=`${L}.${le}`,Ee=oe(r,J);(a.array.has(L)||Jt(re)||Ee&&!Ee._f)&&!Aa(re)?te(J,re,q):ae(J,re,q)}},ne=(L,$,q={})=>{const le=oe(r,L),re=a.array.has(L),J=rr($);wt(i,L,J),re?(d.array.next({name:L,values:{...i}}),(u.isDirty||u.dirtyFields)&&q.shouldDirty&&d.state.next({name:L,dirtyFields:Ku(s,i),isDirty:k(L,J)})):le&&!le._f&&!Jn(J)?te(L,J,q):ae(L,J,q),t1(L,a)&&d.state.next({...n}),d.values.next({name:o.mount?L:void 0,values:{...i}})},z=async L=>{o.mount=!0;const $=L.target;let q=$.name,le=!0;const re=oe(r,q),J=()=>$.type?Tw(re._f):HF(L),Ee=Oe=>{le=Number.isNaN(Oe)||Aa(Oe)&&isNaN(Oe.getTime())||ro(Oe,oe(i,q,Oe))};if(re){let Oe,Le;const Ue=J(),zn=L.type===ag.BLUR||L.type===ag.FOCUS_OUT,Mi=!ole(re._f)&&!e.resolver&&!oe(n.errors,q)&&!re._f.deps||ale(zn,oe(n.touchedFields,q),n.isSubmitted,g,p),Kn=t1(q,a,zn);wt(i,q,Ue),zn?(re._f.onBlur&&re._f.onBlur(L),l&&l(0)):re._f.onChange&&re._f.onChange(L);const Wn=O(q,Ue,zn,!1),Es=!or(Wn)||Kn;if(!zn&&d.values.next({name:q,type:L.type,values:{...i}}),Mi)return u.isValid&&(t.mode==="onBlur"?zn&&E():E()),Es&&d.state.next({name:q,...Kn?{}:Wn});if(!zn&&Kn&&d.state.next({...n}),e.resolver){const{errors:Ts}=await T([q]);if(Ee(Ue),le){const gl=l1(n.errors,r,q),Hn=l1(Ts,r,gl.name||q);Oe=Hn.error,q=Hn.name,Le=or(Ts)}}else _([q],!0),Oe=(await o1(re,i,w,e.shouldUseNativeValidation))[q],_([q]),Ee(Ue),le&&(Oe?Le=!1:u.isValid&&(Le=await P(r,!0)));le&&(re._f.deps&&Z(re._f.deps),C(q,Le,Oe,Wn))}},B=(L,$)=>{if(oe(n.errors,$)&&L.focus)return L.focus(),1},Z=async(L,$={})=>{let q,le;const re=Id(L);if(e.resolver){const J=await I(Kt(L)?L:re);q=or(J),le=L?!re.some(Ee=>oe(J,Ee)):q}else L?(le=(await Promise.all(re.map(async J=>{const Ee=oe(r,J);return await P(Ee&&Ee._f?{[J]:Ee}:Ee)}))).every(Boolean),!(!le&&!n.isValid)&&E()):le=q=await P(r);return d.state.next({...!Ms(L)||u.isValid&&q!==n.isValid?{}:{name:L},...e.resolver||!L?{isValid:q}:{},errors:n.errors}),$.shouldFocus&&!le&&Ad(r,B,L?re:a.mount),le},pe=L=>{const $={...o.mount?i:s};return Kt(L)?$:Ms(L)?oe($,L):L.map(q=>oe($,q))},Te=(L,$)=>({invalid:!!oe(($||n).errors,L),isDirty:!!oe(($||n).dirtyFields,L),error:oe(($||n).errors,L),isValidating:!!oe(n.validatingFields,L),isTouched:!!oe(($||n).touchedFields,L)}),Ae=L=>{L&&Id(L).forEach($=>an(n.errors,$)),d.state.next({errors:L?n.errors:{}})},Xe=(L,$,q)=>{const le=(oe(r,L,{_f:{}})._f||{}).ref,re=oe(n.errors,L)||{},{ref:J,message:Ee,type:Oe,...Le}=re;wt(n.errors,L,{...Le,...$,ref:le}),d.state.next({name:L,errors:n.errors,isValid:!1}),q&&q.shouldFocus&&le&&le.focus&&le.focus()},yt=(L,$)=>ci(L)?d.values.subscribe({next:q=>L(N(void 0,$),q)}):N(L,$,!0),We=(L,$={})=>{for(const q of L?Id(L):a.mount)a.mount.delete(q),a.array.delete(q),$.keepValue||(an(r,q),an(i,q)),!$.keepError&&an(n.errors,q),!$.keepDirty&&an(n.dirtyFields,q),!$.keepTouched&&an(n.touchedFields,q),!$.keepIsValidating&&an(n.validatingFields,q),!e.shouldUnregister&&!$.keepDefaultValue&&an(s,q);d.values.next({values:{...i}}),d.state.next({...n,...$.keepDirty?{isDirty:k()}:{}}),!$.keepIsValid&&E()},ce=({disabled:L,name:$,field:q,fields:le,value:re})=>{if(Ur(L)&&o.mount||L){const J=L?void 0:Kt(re)?Tw(q?q._f:oe(le,$)._f):re;wt(i,$,J),O($,J,!1,!1,!0)}},je=(L,$={})=>{let q=oe(r,L);const le=Ur($.disabled)||Ur(t.disabled);return wt(r,L,{...q||{},_f:{...q&&q._f?q._f:{ref:{name:L}},name:L,mount:!0,...$}}),a.mount.add(L),q?ce({field:q,disabled:Ur($.disabled)?$.disabled:t.disabled,name:L,value:$.value}):D(L,!0,$.value),{...le?{disabled:$.disabled||t.disabled}:{},...e.progressive?{required:!!$.required,min:Wu($.min),max:Wu($.max),minLength:Wu($.minLength),maxLength:Wu($.maxLength),pattern:Wu($.pattern)}:{},name:L,onChange:z,onBlur:z,ref:re=>{if(re){je(L,$),q=oe(r,L);const J=Kt(re.value)&&re.querySelectorAll&&re.querySelectorAll("input,select,textarea")[0]||re,Ee=rle(J),Oe=q._f.refs||[];if(Ee?Oe.find(Le=>Le===J):J===q._f.ref)return;wt(r,L,{_f:{...q._f,...Ee?{refs:[...Oe.filter(Ew),J,...Array.isArray(oe(s,L))?[{}]:[]],ref:{type:J.type,name:L}}:{ref:J}}}),D(L,!1,void 0,J)}else q=oe(r,L,{}),q._f&&(q._f.mount=!1),(e.shouldUnregister||$.shouldUnregister)&&!(qF(a.array,L)&&o.action)&&a.unMount.add(L)}}},rt=()=>e.shouldFocusError&&Ad(r,B,a.mount),Ve=L=>{Ur(L)&&(d.state.next({disabled:L}),Ad(r,($,q)=>{const le=oe(r,q);le&&($.disabled=le._f.disabled||L,Array.isArray(le._f.refs)&&le._f.refs.forEach(re=>{re.disabled=le._f.disabled||L}))},0,!1))},$e=(L,$)=>async q=>{let le;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let re=rr(i);if(d.state.next({isSubmitting:!0}),e.resolver){const{errors:J,values:Ee}=await T();n.errors=J,re=Ee}else await P(r);if(an(n.errors,"root"),or(n.errors)){d.state.next({errors:{}});try{await L(re,q)}catch(J){le=J}}else $&&await $({...n.errors},q),rt(),setTimeout(rt);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:or(n.errors)&&!le,submitCount:n.submitCount+1,errors:n.errors}),le)throw le},Ge=(L,$={})=>{oe(r,L)&&(Kt($.defaultValue)?ne(L,rr(oe(s,L))):(ne(L,$.defaultValue),wt(s,L,rr($.defaultValue))),$.keepTouched||an(n.touchedFields,L),$.keepDirty||(an(n.dirtyFields,L),n.isDirty=$.defaultValue?k(L,rr(oe(s,L))):k()),$.keepError||(an(n.errors,L),u.isValid&&E()),d.state.next({...n}))},Ut=(L,$={})=>{const q=L?rr(L):s,le=rr(q),re=or(L),J=re?s:le;if($.keepDefaultValues||(s=q),!$.keepValues){if($.keepDirtyValues){const Ee=new Set([...a.mount,...Object.keys(Ku(s,i))]);for(const Oe of Array.from(Ee))oe(n.dirtyFields,Oe)?wt(J,Oe,oe(i,Oe)):ne(Oe,oe(J,Oe))}else{if(dS&&Kt(L))for(const Ee of a.mount){const Oe=oe(r,Ee);if(Oe&&Oe._f){const Le=Array.isArray(Oe._f.refs)?Oe._f.refs[0]:Oe._f.ref;if(lg(Le)){const Ue=Le.closest("form");if(Ue){Ue.reset();break}}}}r={}}i=t.shouldUnregister?$.keepDefaultValues?rr(s):{}:rr(J),d.array.next({values:{...J}}),d.values.next({values:{...J}})}a={mount:$.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!$.keepIsValid||!!$.keepDirtyValues,o.watch=!!t.shouldUnregister,d.state.next({submitCount:$.keepSubmitCount?n.submitCount:0,isDirty:re?!1:$.keepDirty?n.isDirty:!!($.keepDefaultValues&&!ro(L,s)),isSubmitted:$.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:re?{}:$.keepDirtyValues?$.keepDefaultValues&&i?Ku(s,i):n.dirtyFields:$.keepDefaultValues&&L?Ku(s,L):$.keepDirty?n.dirtyFields:{},touchedFields:$.keepTouched?n.touchedFields:{},errors:$.keepErrors?n.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},st=(L,$)=>Ut(ci(L)?L(i):L,$);return{control:{register:je,unregister:We,getFieldState:Te,handleSubmit:$e,setError:Xe,_executeSchema:T,_getWatch:N,_getDirty:k,_updateValid:E,_removeUnmounted:M,_updateFieldArray:y,_updateDisabledField:ce,_getFieldArray:H,_reset:Ut,_resetDefaultValues:()=>ci(e.defaultValues)&&e.defaultValues().then(L=>{st(L,e.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:L=>{n={...n,...L}},_disableForm:Ve,_subjects:d,_proxyFormState:u,_setErrors:A,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(L){o=L},get _defaultValues(){return s},get _names(){return a},set _names(L){a=L},get _formState(){return n},set _formState(L){n=L},get _options(){return e},set _options(L){e={...e,...L}}},trigger:Z,register:je,handleSubmit:$e,watch:yt,setValue:ne,getValues:pe,reset:st,resetField:Ge,clearErrors:Ae,unregister:We,setError:Xe,setFocus:(L,$={})=>{const q=oe(r,L),le=q&&q._f;if(le){const re=le.refs?le.refs[0]:le.ref;re.focus&&(re.focus(),$.shouldSelect&&re.select())}},getFieldState:Te}}function yS(t={}){const e=ze.useRef(),n=ze.useRef(),[r,s]=ze.useState({isDirty:!1,isValidating:!1,isLoading:ci(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:ci(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...ule(t),formState:r});const i=e.current.control;return i._options=t,pS({subject:i._subjects.state,next:o=>{YF(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),ze.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),ze.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),ze.useEffect(()=>{t.values&&!ro(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),ze.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),ze.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),ze.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),ze.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=QF(r,i),e.current}const dle=({isOpen:t,setDialogState:e,onRenameKnowledge:n,isLoading:r})=>{const{register:s,reset:i,handleSubmit:o,formState:{errors:a,isSubmitted:l}}=yS(),c=async d=>{await n(d.newKnowledgeBaseName),u()},u=(d=void 0)=>{e(d??!1),i({}),setTimeout(()=>{d||(document.body.style.pointerEvents="")},100)};return f.jsx(Fy,{open:t,onOpenChange:d=>{u(d)},children:f.jsxs(ff,{className:"sm:max-w-[425px]",children:[f.jsxs(pf,{children:[f.jsx(mf,{className:"text-2xl font-bold",children:"Rename Knowledge Base"}),f.jsx(gf,{children:"Enter a new name for the knowledge base to update its name."})]}),f.jsxs("form",{onSubmit:o(c),className:"text-sm space-y-2",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx(hn,{htmlFor:"current-password",children:"Knowledge Base Name"}),f.jsx(on,{placeholder:"Enter new knowledge base name",...s("newKnowledgeBaseName",{required:"Please enter a new Knowledge Base name",minLength:{value:4,message:"Knowledge base name must be atleast 4 characters"}})}),l&&a.newKnowledgeBaseName&&f.jsx("p",{className:"text-red-500",children:a.newKnowledgeBaseName.message})]}),f.jsx(Uy,{children:f.jsx(ct,{type:"submit",className:"w-40",children:r?f.jsx(ml,{}):"Rename"})})]})]})})},hle=({onTabChange:t})=>{const e=pu(),n=na(),{handleFilterChange:r,filter:s}=HV(),i=Pt(I=>I.admin),o=Xt(I=>I.selectedKnowledgeBaseItem),a=Xt(I=>I.setSelectedKnowledgeBaseItem),l=Xt(I=>I.selectedKnowledgeBaseName),c=Xt(I=>I.setSelectedKnowledgeBaseName),u=Xt(I=>I.setSelectedKnowledgeEntry),d=qr(I=>I.openModal),p=qr(I=>I.setMode),g=ut(I=>I.clearFormData),w=Ri(I=>I.dialogs),v=Ri(I=>I.setDialogState),{data:E,isLoading:_}=eS({queryFn:()=>toe(),queryKey:Xp}),{mutateAsync:y}=li({mutationFn:aoe,onSuccess:()=>{e.invalidateQueries({queryKey:Xp}),n({title:`Knowledge Base ${o} deleted`,description:Nt()})},onError:I=>{n({title:I==null?void 0:I.message,description:Nt(),variant:"destructive"}),gt(I.message||"An Unexpected error occured while deleting knowledge base")}}),{mutateAsync:S,isPending:A}=li({mutationFn:ooe,onSuccess:I=>{e.invalidateQueries({queryKey:Xp}),n({title:I,description:Nt()})},onError:I=>{n({title:I==null?void 0:I.message,description:Nt(),variant:"destructive"}),gt(I.message||"An Unexpected error occured while deleting knowledge base")}}),D=m.useMemo(()=>E==null?void 0:E.filter(I=>I.toLowerCase().includes(s.toLowerCase())),[E,s]),O=async()=>{if(!o)throw new Error("No knowledge base selected cannot delete");await y(o),a(""),l&&l===o&&(c(""),u(null))},C=async I=>{try{if(!o)throw new Error("No selected knowledge base");await S({knowledgeBaseName:o,newKnowledgeBaseName:I}),l&&l===o&&c(I)}catch(P){if(P instanceof Error){gt(P.message,!0);return}console.error("Am umexpected error occured: ",P)}},T=I=>{g(),p(I),d()};return _?f.jsx(WV,{}):E?f.jsxs(my,{value:"knowledgeBase",className:"mt-2",children:[f.jsxs("div",{className:"h-[450px] md:h-[600px] w-full px-4 pb-4 flex flex-col overflow-y-auto scrollbar-slim",children:[f.jsxs("div",{className:"flex mb-2 space-x-4",children:[f.jsx(on,{className:"flex-grow outline-none focus:outline-none",placeholder:"Search knowledge base...",onChange:I=>r(I.target.value)}),(i==null?void 0:i.role)!=="viewer"&&f.jsx(KV,{label:"Add Knowledge Base",onButtonClick:()=>T("BASE")})]}),f.jsx(Kae,{knowledgeBaseNameList:D,handleTabChange:t})]}),w.showConfirmDeleteKnowledgeBaseDialog&&f.jsx(uS,{isOpen:w.showConfirmDeleteKnowledgeBaseDialog,setDialogState:I=>v("showConfirmDeleteKnowledgeBaseDialog",I),onDelete:O,message:$F.base}),w.showRenameKnowledgeBaseDialog&&f.jsx(dle,{isOpen:w.showRenameKnowledgeBaseDialog,setDialogState:I=>v("showRenameKnowledgeBaseDialog",I),onRenameKnowledge:C,isLoading:A})]}):f.jsx(YT,{heading:"Empty Knowledge Base",description:"No knowledge base found"})},fle=()=>{const{currentTab:t,setCurrentTab:e,setActiveTab:n}=zF("knowledgeBase");return f.jsxs(oZ,{value:t,onValueChange:r=>e(r),className:"w-full p-0 border-neutral-200 bg-white border shadow-sm text-sm md:text-base rounded-md overflow-hidden box-border",children:[f.jsx(cZ,{tabs:aZ}),t==="knowledgeBase"&&f.jsx(hle,{onTabChange:n}),t==="knowledgeEntry"&&f.jsx($ae,{onTabChange:n}),t==="entryDetails"&&f.jsx(voe,{})]})},ui=Yo((t,e)=>({currentStep:1,totalStep:3,nextStep:()=>{e().currentStep!==e().totalStep&&t(n=>({currentStep:n.currentStep+1}))},prevStep:()=>{e().currentStep!==1&&t(n=>({currentStep:n.currentStep-1}))},setTotalStep:n=>{if(n==="BASE")return t(()=>({totalStep:3}));t(()=>({totalStep:2}))},resetCurrentStep:()=>{t(()=>({currentStep:1}))}})),ple=({progressData:t})=>{const e=ui(s=>s.totalStep),n=ui(s=>s.currentStep),r=(n-1)/(e-1)*100;return f.jsxs("div",{className:"mt-4 mb-8",children:[f.jsx("div",{className:"flex justify-between mb-2",children:[...Array(e)].map((s,i)=>f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${n>=i+1?"bg-lightGray text-htext":"bg-lightGray-darker text-muted-foreground"}`,children:i+1}),f.jsx("span",{className:"text-xs mt-1",children:t[i+1]})]},i))}),f.jsx("div",{className:"h-2 bg-muted rounded-full",children:f.jsx("div",{className:"h-full bg-blue-600 rounded-full transition-all duration-300 ease-in-out",style:{width:`${r}%`}})})]})},Pd=({errorMessage:t})=>f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(PW,{className:"text-destructive size-5",strokeWidth:1.5}),f.jsx("div",{className:"text-destructive text-sm",children:t})]}),mle=()=>{const{knowledgeBaseName:t}=ut(r=>r.formData),{knowledgeBaseName:e}=ut(r=>r.formDataErrors),n=ut(r=>r.setFormData);return f.jsx("div",{className:"space-y-1",children:f.jsxs(f.Fragment,{children:[f.jsx("label",{htmlFor:"knowledgeBaseName",className:"block text-sm font-medium",children:"Knowledge Base Name"}),f.jsx(on,{name:"knowledgeBaseName",placeholder:"Enter knowledge base name",value:t,className:de(e&&"border-destructive"),onChange:r=>n(r.target.name,r.target.value)}),e&&f.jsx(Pd,{errorMessage:e})]})})},c1=()=>{const{intent:t,documents:e,answer:n}=ut(A=>A.formData),{intent:r,documents:s,answer:i}=ut(A=>A.formDataErrors),o=ut(A=>A.setDocuments),a=ut(A=>A.removeDocument),l=ut(A=>A.setFormData),c=ut(A=>A.addDocument),u=Xt(A=>A.selectedKnowledgeBaseName),d=qr(A=>A.modalMode),{file:p,isLinkDialogOpen:g,setIsLinkDialogOpen:w,handleFileChange:v,handleInsertLink:E,handleRemoveFile:_,fileInputRef:y,answerTextAreaRef:S}=CV(n);return m.useEffect(()=>{d==="ENTRY"&&l("knowledgeBaseName",u)},[]),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx(hn,{children:"Intent"}),f.jsx(on,{placeholder:"Enter the intent",value:t,className:de(r&&"border-destructive"),onChange:A=>l("intent",A.target.value)}),r&&f.jsx(Pd,{errorMessage:r})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx(hn,{children:"Documents"}),e.map((A,D)=>f.jsxs("div",{className:"flex",children:[f.jsx(on,{placeholder:`Enter document ${D+1}`,className:de("rounded-none border-r-0",s&&"border-destructive"),value:A,onChange:O=>o(O.target.value,D)},D),f.jsx(fr,{className:"rounded-none h-[40px] border-l-0",children:f.jsxs(ct,{type:"button",variant:"ghost",size:"icon",onClick:()=>a(D),className:"hover:bg-transparent border-none",children:[f.jsx(Jx,{className:"h-4 w-4 text-gray-500 hover:text-gray-700"}),f.jsx("span",{className:"sr-only",children:"Remove document"})]})})]},D)),s&&f.jsx(Pd,{errorMessage:s}),f.jsxs(ct,{variant:"outline",onClick:c,className:"w-full",children:[f.jsx(Wh,{className:"mr-2 h-4 w-4"})," Add Document"]})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx(hn,{children:"Answer"}),f.jsx(hj,{answer:n,handleTextChange:l,onFileChange:v,fileRef:y,textAreaRef:S,isError:!!i,isLinkDropDownVisible:g,setIsLinkDropDownVisible:w,onInsertLink:E}),i&&f.jsx(Pd,{errorMessage:i})]}),p&&f.jsx(fj,{file:p,removeFile:_})]})},gle=({file:t})=>f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",children:"File Details:"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:t.name})]}),u1=()=>{const{knowledgeBaseName:t,intent:e,documents:n,answer:r,file:s}=ut(i=>i.formData);return f.jsxs("div",{className:"space-y-4 break-words",children:[f.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Review Your Entry"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",children:"Knowledge Base Name:"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",children:"Intent:"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:e})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",children:"Documents:"}),f.jsx("ul",{className:"list-disc pl-5 text-sm text-muted-foreground",children:n.map((i,o)=>f.jsx("li",{children:i},o))})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",children:"Answer:"}),f.jsx("p",{className:"text-sm text-muted-foreground line-clamp-4",children:r})]}),s&&f.jsx(gle,{file:s})]})},yle=()=>{const t=ui(r=>r.currentStep),e=qr(r=>r.modalMode),n=()=>({1:{BASE:f.jsx(mle,{}),ENTRY:f.jsx(c1,{})},2:{BASE:f.jsx(c1,{}),ENTRY:f.jsx(u1,{})},3:{BASE:f.jsx(u1,{})}})[t][e]||f.jsx(f.Fragment,{children:"No Modal Section"});return f.jsx(f.Fragment,{children:n()})},vle=()=>{const t=na(),e=pu(),n=qr(l=>l.closeModal),[r,s]=m.useState(!1),{mutateAsync:i}=li({mutationFn:l=>roe(l),onSuccess:()=>{e.invalidateQueries({queryKey:Xp}),t({title:"Knowledge Base saved successfully.",description:Nt()})},onError:l=>{t({title:l.message,description:Nt(),variant:"destructive"})}}),{mutateAsync:o}=li({mutationFn:l=>soe(l),onSuccess:()=>{e.invalidateQueries({queryKey:Jp}),t({title:"Knowledge Entry saved successfully.",description:Nt()})},onError:l=>{t({title:l.message,description:Nt(),variant:"destructive"})}});return{handleSubmitForm:async(l,c)=>{try{s(!0);let u=null;l.file&&(u=await w_(l.file)),c==="BASE"?await i(u?{...l,fileUrl:u}:l):await o(u?{...l,fileUrl:u}:l)}catch(u){if(u instanceof Error&&u.message.includes("E11000"))return;console.error("Unexpected error occured ",u)}finally{s(!1),n()}},isLoading:r}},wle=(t,e)=>{const n={};return t===1&&(e.knowledgeBaseName.trim()||(n.knowledgeBaseName="Knowledge Base Name is required")),t===2&&(e.intent.trim()||(n.intent="Intent is required"),e.documents.some(s=>s.trim()==="")&&(n.documents="Document is required"),e.answer.trim()||(n.answer="Answer is required")),{isValid:Object.keys(n).length===0,errors:n}},_le=()=>{const{handleSubmitForm:t,isLoading:e}=vle(),n=qr(u=>u.modalMode),r=ut(u=>u.formData),s=ui(u=>u.currentStep),i=ui(u=>u.totalStep),o=ui(u=>u.nextStep),a=ui(u=>u.prevStep),l=ut(u=>u.setFormDataErrors),c=()=>{const{isValid:u,errors:d}=wle(n==="BASE"?s:s+1,r);if(!u){l(d);return}l({}),o()};return f.jsxs("div",{className:"flex justify-between items-center mt-6",children:[f.jsx("div",{}),f.jsxs("div",{className:"flex ",children:[s>1&&f.jsxs(ct,{variant:"outline",onClick:a,className:"mr-2",children:[f.jsx(mW,{className:"mr-2 h-4 w-4"})," Back"]}),s<i?f.jsxs(ct,{onClick:c,children:["Next ",f.jsx(ck,{className:"ml-2 h-4 w-4"})]}):f.jsx(ct,{className:"w-52",onClick:async()=>{t(r,n)},children:e?f.jsx(ml,{}):"Save Knowledge Base"})]})]})},xle=()=>{const t=ut(a=>a.clearFormData),e=qr(a=>a.isModalVisible),n=qr(a=>a.modalMode),r=qr(a=>a.closeModal),s=ui(a=>a.setTotalStep),i=ui(a=>a.resetCurrentStep),o=n==="BASE"?Uae:Bae;return m.useEffect(()=>(s(n),()=>{t(),i()}),[s]),f.jsx(Fy,{open:e,onOpenChange:r,children:f.jsxs(ff,{className:"sm:max-w-[550px] ",children:[f.jsxs(pf,{children:[f.jsx(mf,{className:"text-2xl font-bold",children:"Create New Knowledge Base"}),f.jsx(gf,{children:"Fill in the details to create a new knowledge base."})]}),f.jsx(ple,{progressData:o}),f.jsx(fr,{children:f.jsx(br,{className:"pt-6 max-h-[30rem] max-w-[498px] overflow-y-scroll",children:f.jsx(yle,{})})}),f.jsx(_le,{})]})})},Ele=()=>{const t=qr(r=>r.isModalVisible),e=Xt(r=>r.setSelectedKnowledgeEntry),n=Xt(r=>r.selectedKnowledgeBaseName);return m.useEffect(()=>{n&&e(null)},[n,e]),f.jsxs("div",{className:"flex items-center flex-col w-[84rem] px-20 space-y-6 pb-8",children:[f.jsx(ZJ,{}),f.jsx(fle,{}),t&&f.jsx(xle,{})]})},mt=Yo(t=>({botName:"",errors:{botName:""},interactionIcon:null,interactionIconPreview:"",widgetIcon:null,widgetIconPreview:"",metadata:[],setBotName:e=>{t(()=>({botName:e}))},setErrors:(e,n)=>{t(r=>({errors:{...r.errors,[e]:n}}))},setInteractionIcon:e=>{t(()=>({interactionIcon:e}))},setInteractionIconPreview:e=>{t(()=>({interactionIconPreview:e}))},setWidgetIcon:e=>{t(()=>({widgetIcon:e}))},setWidgetIconPreview:e=>{t(()=>({widgetIconPreview:e}))},setMetadata:e=>{t(()=>({metadata:e}))}})),Tle=({inputRef:t})=>{const e=Pt(a=>a.admin),n=mt(a=>a.botName),r=mt(a=>a.setBotName),s=mt(a=>a.errors),i=mt(a=>a.setErrors),o=a=>{r(a),a?i("botName",""):i("botName","Bot name field is required")};return f.jsxs("section",{className:"space-y-2",children:[f.jsx(hn,{htmlFor:"botName",className:"text-base font-medium",children:"Bot Name"}),f.jsx(on,{id:"botName",ref:t,type:"text",value:n,onChange:a=>o(a.target.value),className:de("w-full",s.botName&&"border-destructive"),readOnly:(e==null?void 0:e.role)==="viewer"}),s.botName&&f.jsx(Pd,{errorMessage:s.botName})]})},Sle=()=>{const t=na();return{handleIconChange:(r,s,i,o,a=0)=>{if(r.target.files&&r.target.files[0]){const l=r.target.files[0];if(!o.includes(l.type)){const u=o.map(d=>d.split("/")[1]);t({title:`Only the following file formats are supported: ${u.join(", ")}.`,description:Nt(),variant:"destructive"}),r.target.value="";return}if(a>0&&l.size>a){const u=a/1048576;t({title:`File size exceeds the maximum limit of ${u.toFixed(0)} MB.`,description:Nt(),variant:"destructive"}),r.target.value="";return}s(l);const c=new FileReader;c.onload=u=>{var d;i((d=u.target)==null?void 0:d.result)},c.readAsDataURL(l)}},handleRemoveIcon:(r,s,i)=>{s(null),i(null),r.current&&(r.current.value="")}}},us="https://firebasestorage.googleapis.com/v0/b/cob-chatbot.appspot.com/o/image%2Fdefault-icon.png?alt=media&token=7d708bba-dcf2-47a0-b81b-3ac8d0e02648",ble=async(t,e,n,r=[])=>{try{const s=mt.getState().interactionIconPreview,i=mt.getState().widgetIconPreview,o=mt.getState().setInteractionIcon,a=mt.getState().setWidgetIcon,l=r.reduce((d,p)=>({...d,[p.key]:p.value}),{}),c={botName:n,metadata:l,interactionIconURL:s??us,widgetIconUrl:i??us};t&&(c.interactionIconURL=await v_(t,$P,"interaction-icon")??us,o(null)),e&&(console.time("Upload Time"),c.widgetIconUrl=await v_(e,$P,"widget-icon")??us,a(null),console.timeEnd("Upload Time")),await Xie("profile","botProfile",c,!1),gt("Upload bot profile success")}catch(s){console.error(s)}},iU=({iconRef:t,setIcon:e,setIconPreview:n,iconPreview:r,acceptedFormat:s,maxIconSize:i=0})=>{const o=s.split(",").map(c=>`image/${c.slice(1)}`),{handleIconChange:a,handleRemoveIcon:l}=Sle();return f.jsxs("div",{className:"flex items-center ",children:[f.jsx(on,{id:"widget-icon-upload",type:"file",className:"hidden",ref:t,accept:s,onChange:c=>a(c,e,n,o,i)}),f.jsx(ct,{type:"button",variant:"outline",size:"sm",onClick:()=>{var c;return(c=t.current)==null?void 0:c.click()},children:r&&r!==us?f.jsxs("span",{className:"flex items-center text-sm gap-2",children:[f.jsx(tI,{className:"size-5"}),"Change Icon"]}):f.jsxs("span",{className:"flex items-center text-sm gap-2",children:[f.jsx(tI,{className:"size-5"}),"Upload Icon"]})}),r&&r!==us&&f.jsx(ct,{type:"button",variant:"ghost",size:"sm",className:"ml-2",onClick:()=>l(t,e,n),children:"Remove"})]})},oU=2*1024*1024,Cle=oU/(1024*1024),Ile=()=>{const t=mt(i=>i.setInteractionIcon),e=mt(i=>i.setInteractionIconPreview),n=mt(i=>i.interactionIconPreview),r=m.useRef(null),s=Pt(i=>i.admin);return f.jsxs("section",{className:"space-y-2",children:[f.jsx(hn,{htmlFor:"botName",className:"text-base font-medium",children:"Interaction Icon"}),f.jsxs("div",{className:"mt-1 flex items-center h-[4rem] space-x-4",children:[f.jsxs("div",{className:"size-[70px] rounded-full bg-gray-100 flex items-center justify-center overflow-hidden",children:[n&&f.jsx("img",{src:n,className:"size-full object-cover rounded-full"}),!n&&f.jsx("img",{src:us,className:"size-full object-cover rounded-full"})]}),(s==null?void 0:s.role)!=="viewer"&&f.jsxs("div",{className:"space-y-2",children:[f.jsx(iU,{iconRef:r,setIcon:t,setIconPreview:e,iconPreview:n,acceptedFormat:".png,.jpeg",maxIconSize:oU}),f.jsx("p",{className:"text-sm text-muted-foreground",children:`PNG or JPG only. Max file size: ${Cle.toFixed(0)} MB.`})]})]})]})},aU=6*1024*1024,Ale=aU/(1024*1024),Ple=()=>{const t=mt(i=>i.setWidgetIcon),e=mt(i=>i.widgetIconPreview),n=mt(i=>i.setWidgetIconPreview),r=m.useRef(null),s=Pt(i=>i.admin);return f.jsxs("section",{className:"space-y-2",children:[f.jsx(hn,{htmlFor:"botName",className:"text-base font-medium",children:"Widget Icon"}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("div",{className:"size-[70px] rounded-full bg-gray-100 flex items-center justify-center overflow-hidden",children:[e&&f.jsx("img",{src:e,className:"size-full object-cover rounded-full"}),!e&&f.jsx("img",{src:us,className:"size-full object-cover rounded-full"})]}),(s==null?void 0:s.role)!=="viewer"&&f.jsxs("div",{className:"space-y-2",children:[f.jsx(iU,{iconRef:r,setIcon:t,setIconPreview:n,iconPreview:e,acceptedFormat:".png,.jpg,.gif",maxIconSize:aU}),f.jsx("p",{className:"text-sm text-muted-foreground",children:`PNG, JPEG OR GIF only. Max file size: ${Ale.toFixed(0)} MB.`})]})]})]})},Rle=({botNameInputRef:t})=>f.jsxs("form",{className:"space-y-4",children:[f.jsx(Tle,{inputRef:t}),f.jsx(Ile,{}),f.jsx(Ple,{})]}),Nle=({handleCloseChatbox:t})=>{const e=mt(r=>r.botName),n=mt(r=>r.interactionIconPreview);return f.jsx("section",{children:f.jsxs("div",{className:"bg-white h-[24rem] rounded-lg shadow-lg p-4 max-w-sm mx-auto flex flex-col",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[n?f.jsx("img",{src:n,alt:"interaction-icon-preview",className:"w-11 h-11 object-cover rounded-full"}):f.jsx("img",{src:us,alt:"interaction-icon-preview",className:"w-11 h-11 object-cover rounded-full"}),f.jsx("span",{className:"text-sm font-medium text-gray-700",children:e||"Chatbot"})]}),f.jsx("div",{className:"cursor-pointer hover:scale-110 transition-transform",onClick:t,children:f.jsx(Bg,{className:"w-5 h-5 text-gray-500"})})]}),f.jsx("div",{className:"flex-1"}),f.jsx("div",{className:" rounded-lg py-3 mb-4",children:f.jsxs("div",{className:"flex items-center",children:[n?f.jsx("img",{src:n,alt:"interaction-icon-preview",className:"w-10 h-10 object-cover rounded-full"}):f.jsx("img",{src:us,alt:"interaction-icon-preview",className:"w-10 h-10 object-cover rounded-full"}),f.jsx("p",{className:"ml-2 text-sm text-gray-700 bg-gray-100 p-2.5 rounded-xl",children:"Hi! What can I help you with?"})]})}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{disabled:!0,type:"text",placeholder:"Message...",className:"flex-grow h-10 px-3 py-2 text-sm border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),f.jsx("div",{className:"h-10 px-3 py-2 bg-blue-500 text-white rounded-r-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 flex items-center justify-center",children:f.jsx(mk,{className:"w-5 h-5"})})]})]})})},Dle=()=>{const[t,e]=m.useState(!1),n=mt(r=>r.widgetIconPreview);return f.jsx("section",{children:f.jsx("div",{className:"border h-[28rem] border-gray-300 rounded-lg p-4 bg-gray-50 mb-2",style:{backgroundImage:"radial-gradient(#d1d5db 1px, transparent 1px)",backgroundSize:"20px 20px"},children:f.jsx("div",{className:"h-full flex justify-end items-end",children:t?f.jsx(Nle,{handleCloseChatbox:()=>e(!1)}):f.jsx("div",{className:"size-[14rem] flex items-center justify-center",onClick:()=>e(!0),children:n?f.jsx("img",{src:n,alt:"Widget icon preview",className:"cursor-pointer"}):f.jsx("img",{src:us,alt:"Widget icon preview",className:"cursor-pointer"})})})})})},kle=()=>{const t=mt(o=>o.metadata),e=mt(o=>o.setMetadata),n=Pt(o=>o.admin),r=()=>{const o={id:Date.now().toString(),key:"",value:""};e([...t,o])},s=(o,a,l)=>{const c=t.map(u=>u.id===o?{...u,[a]:l}:u);e(c)},i=o=>{const a=t.filter((l,c)=>c!==o);e(a)};return f.jsxs("div",{className:"space-y-4",children:[t.map((o,a)=>f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(on,{placeholder:"Key",value:o.key,onChange:l=>s(o.id,"key",l.target.value),className:"flex-1",readOnly:(n==null?void 0:n.role)==="viewer"}),f.jsx(on,{placeholder:"Value",value:o.value,onChange:l=>s(o.id,"value",l.target.value),className:"flex-1",readOnly:(n==null?void 0:n.role)==="viewer"}),(n==null?void 0:n.role)!=="viewer"&&f.jsx(ct,{type:"button",variant:"ghost",size:"icon",className:"hover:text-red-600",onClick:()=>i(a),children:f.jsx(Jx,{className:"size-5 transition-transform ease-in"})})]},a)),(n==null?void 0:n.role)!=="viewer"&&f.jsxs(ct,{type:"button",variant:"outline",size:"sm",onClick:r,className:"mt-2",children:[f.jsx(Wh,{className:"size-5 mr-2"}),"Add Field"]})]})},Mle=async()=>await Jie("profile","botProfile"),Ole=()=>{const t=na(),e=mt(E=>E.interactionIcon),n=mt(E=>E.setInteractionIconPreview),r=mt(E=>E.widgetIcon),s=mt(E=>E.setWidgetIconPreview),i=mt(E=>E.botName),o=mt(E=>E.setBotName),a=mt(E=>E.setErrors),l=mt(E=>E.metadata),c=mt(E=>E.setMetadata),[u,d]=m.useState(!1),[p,g]=m.useState(!0),w=m.useRef(null);return m.useEffect(()=>((async()=>{g(!0);const _=await Mle();if(!_)return;o(_.botName),n(_.interactionIconURL),s(_.widgetIconUrl);const y=tG(_.metadata);c(y),g(!1)})(),()=>{a("botName","")}),[]),{isLoading:u,handleSubmitForm:async()=>{var _;if(!i.trim()){a("botName","Bot name field is required"),(_=w.current)==null||_.scrollIntoView({behavior:"smooth",block:"center"});return}try{d(!0),await ble(e,r,i,l),d(!1),t({title:"Bot profile has been successfully updated",description:Nt()})}catch(y){y instanceof Error&&t({title:y.message,description:Nt(),variant:"destructive"}),console.error("Unexpected error occured ",y)}},isPageLoading:p,botNameInputRef:w}},Lle=()=>f.jsxs("section",{className:"flex-1 flex-col space-y-4 pb-8",children:[f.jsxs(fr,{children:[f.jsxs(ps,{children:[f.jsx(ms,{children:"Bot Profile"}),f.jsx(hl,{children:"View and update bot's profile details and icons."})]}),f.jsx(br,{children:f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx(et,{className:"h-4 w-16"}),f.jsx(et,{className:"h-10 w-full mb-3"}),f.jsx(et,{className:"h-4 w-24"}),f.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[f.jsx(et,{className:"size-[64px] rounded-full"}),f.jsx(et,{className:"h-9 w-36"}),f.jsx(et,{className:"h-9 w-36"})]}),f.jsx(et,{className:"h-4 w-24"}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx(et,{className:"size-[64px] rounded-full"}),f.jsx(et,{className:"h-9 w-36"}),f.jsx(et,{className:"h-9 w-36"})]})]})})]}),f.jsxs(fr,{children:[f.jsx(ps,{children:f.jsx(ms,{children:"Additional Information"})}),f.jsxs(br,{children:[f.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[f.jsx(et,{className:"flex-1 h-10"}),f.jsx(et,{className:"flex-1 h-10"}),f.jsx(et,{className:"w-10 h-10"})]}),f.jsx(et,{className:"h-9 w-36"})]})]}),f.jsxs(fr,{children:[f.jsx(ps,{children:f.jsx(ms,{children:"Preview"})}),f.jsx(br,{children:f.jsx(et,{className:"h-[28rem] w-full mb-2"})})]}),f.jsx(et,{className:"bg-blue-200 h-10 w-full"})]}),jle=()=>{const{isLoading:t,handleSubmitForm:e,isPageLoading:n,botNameInputRef:r}=Ole(),s=Pt(i=>i.admin);return n?f.jsx(Lle,{}):f.jsxs("section",{className:"flex-1 flex-col space-y-4 pb-8 relative",children:[f.jsxs(fr,{children:[f.jsxs(ps,{children:[f.jsx(ms,{children:"Bot Profile"}),f.jsx(hl,{children:"View and update bot's profile details and icons."})]}),f.jsx(br,{children:f.jsx(Rle,{botNameInputRef:r})})]}),f.jsxs(fr,{children:[f.jsx(ps,{children:f.jsx(ms,{children:"Additional Information"})}),f.jsx(br,{children:f.jsx(kle,{})})]}),f.jsxs(fr,{children:[f.jsx(ps,{children:f.jsx(ms,{children:"Preview"})}),f.jsx(br,{children:f.jsx(Dle,{})})]}),(s==null?void 0:s.role)!=="viewer"&&f.jsx("footer",{className:"mt-4",children:f.jsx(ct,{className:"w-full",disabled:t,onClick:e,children:t?f.jsx(ml,{}):"Save changes"})})]})},Vle=[{id:"team",icon:f.jsx(NW,{}),label:"Team",comingSoon:!1},{id:"botProfile",icon:f.jsx(fW,{}),label:"Bot Profile",comingSoon:!1},{id:"botModel",icon:f.jsx(dW,{}),label:"Bot Model",comingSoon:!1}],Fle=({onTabChange:t,activeTab:e})=>f.jsx("nav",{className:"w-[14rem] px-2 space-y-2 text-htext font-medium",children:Vle.map(n=>f.jsxs("div",{className:"relative group",children:[f.jsxs("li",{className:de("flex items-center gap-3 py-3 px-2  cursor-pointer rounded-md transition-colors hover:text-opacity-80",e===n.id?"bg-blue-500 text-white":"hover:bg-slate-100 text-opacity-100"),onClick:()=>t(n.id),children:[n.icon," ",n.label]}),n.comingSoon&&f.jsx(Zh,{variant:"secondary",className:"absolute -top-2 right-0 text-[10px] font-normal px-1 py-0.5 bg-blue-100 text-blue-800 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Coming Soon"})]},n.id))}),Ule=(t,e,n)=>Zie(t,e,n),Ble=()=>{const t=Pt(a=>a.admin),[e,n]=m.useState(!1),[r,s]=m.useState(null),i=na(),o=async()=>{n(!0),await cG(),n(!1),i({title:"Model Training Complete",description:"Your AI model is fully trained and ready for use. You can now run queries with the latest data."})};return m.useEffect(()=>{const a=Ule("profile","model",l=>{const{timeFinishedTraining:c}=l;s(c)});return()=>a()},[]),f.jsxs("section",{className:"flex-1 flex-col space-y-4",children:[f.jsxs(fr,{children:[f.jsxs(ps,{children:[f.jsx(ms,{children:"Bot Model"}),f.jsx(hl,{children:(t==null?void 0:t.role)!=="viewer"?"View current model status and initialize training process.":"View current model status."})]}),f.jsxs(br,{children:[f.jsxs("div",{className:"flex items-center mb-4",children:[f.jsx("p",{className:"font-medium flex-1",children:"Current Version"}),f.jsx("div",{className:"flex-1",children:f.jsx(Zh,{variant:"secondary",className:"text-lg",children:"v1.0.0"})})]}),f.jsx("div",{className:"grid grid-cols-2 gap-4",children:f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Trained"}),f.jsx("div",{className:"font-medium",children:r||f.jsx(et,{className:"w-48 h-6"})})]})})]})]}),f.jsx("footer",{className:"mt-4 pb-4",children:(t==null?void 0:t.role)!=="viewer"&&f.jsx(ct,{className:"w-full",disabled:e,onClick:o,children:e?f.jsx(ml,{}):f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(pW,{size:20})," Train Model"]})})})]})},$le=({adminRole:t,onDeleteAction:e,onResetPasswordAction:n,onUpdateRoleAction:r})=>f.jsxs(ty,{modal:!1,children:[f.jsx(ny,{asChild:!0,children:f.jsx(ct,{variant:"ghost",className:" hover:bg-gray-100 size-8 p-1 group",children:f.jsx(dk,{className:"text-zinc-400 size-5 group-hover:text-zinc-600 transition-colors"})})}),f.jsxs(Xh,{align:"end",className:"w-auto bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[t!=="editor"&&f.jsx(go,{className:"flex items-center p-2 hover:bg-zinc-100",onClick:async()=>{await r("editor")},children:"Set as Editor"}),t!=="viewer"&&f.jsx(go,{className:"flex items-center p-2 hover:bg-zinc-100",onClick:async()=>{await r("viewer")},children:"Set as Viewer"}),f.jsx(TE,{}),f.jsxs(go,{className:"flex items-center p-2 hover:bg-zinc-100",onClick:()=>{n()},children:[f.jsx(EW,{className:"mr-2 h-4 w-4"}),"Reset Password"]}),f.jsxs(go,{className:"flex items-center p-2 hover:bg-zinc-100 text-red-600",onClick:()=>{e()},children:[f.jsx(gk,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]}),lU=Yo(t=>({adminId:null,setAdminId:e=>t({adminId:e})})),zle=({adminInfo:t,onUpdateRole:e})=>{const n=Pt(u=>u.admin),{email:r,role:s,_id:i}=t,o=lU(u=>u.setAdminId),a=Ri(u=>u.openDialog),l=()=>{o(i),a("showConfirmDeleteDialog")},c=()=>{o(i),a("showResetPasswordDialog")};return f.jsxs("section",{className:"flex items-center w-full py-2 font-medium text-sm",children:[f.jsx("div",{className:"flex-1 max-w-[438px] text-zinc-700 truncate",title:r,children:r}),f.jsx("div",{className:"w-[14rem] text-zinc-500",children:"1d ago"}),f.jsx("div",{className:"w-[8rem]",children:f.jsx(Zh,{className:de("flex w-16 items-center justify-center pointer-events-none select-none",s==="admin"&&"bg-red-200 text-red-800",s==="editor"&&"bg-blue-200 text-blue-800",s==="viewer"&&"bg-green-200 text-green-800"),children:SE(s)})}),f.jsx("div",{className:`w-[6rem] ${(n==null?void 0:n.role)==="viewer"&&"py-3"} ${(n==null?void 0:n.role)==="editor"&&"py-3"}`,children:(n==null?void 0:n.role)!=="viewer"&&(n==null?void 0:n.role)!=="editor"&&f.jsx($le,{adminRole:s,onDeleteAction:l,onResetPasswordAction:c,onUpdateRoleAction:async u=>await e(u,i)})})]})},Rd=({id:t,field:e,placeholderText:n,register:r,message:s,isError:i,validate:o})=>{const[a,l]=m.useState(!1);return f.jsxs("div",{className:"relative",children:[f.jsx(on,{id:t??void 0,className:de(i&&"border-destructive"),type:a?"text":"password",placeholder:n,...r(e,{required:s,minLength:{value:9,message:"Password must be atleast 9 characters"},validate:o})}),f.jsx(ct,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(c=>!c),"aria-label":a?"Hide password":"Show password",children:a?f.jsx(hk,{className:"h-4 w-4 text-gray-500"}):f.jsx(Xx,{className:"h-4 w-4 text-gray-500"})})]})};function d1(t,[e,n]){return Math.min(n,Math.max(e,t))}function Kle(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var _;const{scope:p,children:g,...w}=d,v=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,E=m.useMemo(()=>w,Object.values(w));return f.jsx(v.Provider,{value:E,children:g})};c.displayName=i+"Provider";function u(d,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Wle(s,...e)]}function Wle(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Hle="DismissableLayer",M_="dismissableLayer.update",qle="dismissableLayer.pointerDownOutside",Gle="dismissableLayer.focusOutside",h1,cU=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),uU=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(cU),[u,d]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,C=>d(C)),v=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(E),y=u?v.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,A=y>=_,D=Xle(C=>{const T=C.target,I=[...c.branches].some(P=>P.contains(T));!A||I||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),O=Jle(C=>{const T=C.target;[...c.branches].some(P=>P.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return Hh(C=>{y===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(h1=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),f1(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=h1)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),f1())},[u,c]),m.useEffect(()=>{const C=()=>g({});return document.addEventListener(M_,C),()=>document.removeEventListener(M_,C)},[]),f.jsx(xe.div,{...l,ref:w,style:{pointerEvents:S?A?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,D.onPointerDownCapture)})});uU.displayName=Hle;var Qle="DismissableLayerBranch",Yle=m.forwardRef((t,e)=>{const n=m.useContext(cU),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(xe.div,{...t,ref:s})});Yle.displayName=Qle;function Xle(t,e=globalThis==null?void 0:globalThis.document){const n=kt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){dU(qle,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Jle(t,e=globalThis==null?void 0:globalThis.document){const n=kt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&dU(Gle,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function f1(){const t=new CustomEvent(M_);document.dispatchEvent(t)}function dU(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?cl(s,i):s.dispatchEvent(i)}var Zle="Portal",hU=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Rt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?jh.createPortal(f.jsx(xe.div,{...r,ref:e}),o):null});hU.displayName=Zle;function ece(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var tce=[" ","Enter","ArrowUp","ArrowDown"],nce=[" ","Enter"],vf="Select",[$y,zy,rce]=zg(vf),[mu,ode]=Kle(vf,[rce,su]),Ky=su(),[sce,ra]=mu(vf),[ice,oce]=mu(vf),fU=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:p,required:g,form:w}=t,v=Ky(e),[E,_]=m.useState(null),[y,S]=m.useState(null),[A,D]=m.useState(!1),O=Kg(c),[C=!1,T]=Oo({prop:r,defaultProp:s,onChange:i}),[I,P]=Oo({prop:o,defaultProp:a,onChange:l}),M=m.useRef(null),k=E?w||!!E.closest("form"):!0,[N,H]=m.useState(new Set),ae=Array.from(N).map(te=>te.props.value).join(";");return f.jsx(cE,{...v,children:f.jsxs(sce,{required:g,scope:e,trigger:E,onTriggerChange:_,valueNode:y,onValueNodeChange:S,valueNodeHasChildren:A,onValueNodeHasChildrenChange:D,contentId:fs(),value:I,onValueChange:P,open:C,onOpenChange:T,dir:O,triggerPointerDownPosRef:M,disabled:p,children:[f.jsx($y.Provider,{scope:e,children:f.jsx(ice,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(te=>{H(ne=>new Set(ne).add(te))},[]),onNativeOptionRemove:m.useCallback(te=>{H(ne=>{const z=new Set(ne);return z.delete(te),z})},[]),children:n})}),k?f.jsxs(FU,{"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:d,value:I,onChange:te=>P(te.target.value),disabled:p,form:w,children:[I===void 0?f.jsx("option",{value:""}):null,Array.from(N)]},ae):null]})})};fU.displayName=vf;var pU="SelectTrigger",mU=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Ky(n),o=ra(pU,n),a=o.disabled||r,l=ke(e,o.onTriggerChange),c=zy(n),u=m.useRef("touch"),[d,p,g]=UU(v=>{const E=c().filter(S=>!S.disabled),_=E.find(S=>S.value===o.value),y=BU(E,v,_);y!==void 0&&o.onValueChange(y.value)}),w=v=>{a||(o.onOpenChange(!0),g()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return f.jsx(uE,{asChild:!0,...i,children:f.jsx(xe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":VU(o.value)?"":void 0,...s,ref:l,onClick:ee(s.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&w(v)}),onPointerDown:ee(s.onPointerDown,v=>{u.current=v.pointerType;const E=v.target;E.hasPointerCapture(v.pointerId)&&E.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:ee(s.onKeyDown,v=>{const E=d.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&p(v.key),!(E&&v.key===" ")&&tce.includes(v.key)&&(w(),v.preventDefault())})})})});mU.displayName=pU;var gU="SelectValue",yU=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=ra(gU,n),{onValueNodeHasChildrenChange:c}=l,u=i!==void 0,d=ke(e,l.onValueNodeChange);return Rt(()=>{c(u)},[c,u]),f.jsx(xe.span,{...a,ref:d,style:{pointerEvents:"none"},children:VU(l.value)?f.jsx(f.Fragment,{children:o}):i})});yU.displayName=gU;var ace="SelectIcon",vU=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return f.jsx(xe.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});vU.displayName=ace;var lce="SelectPortal",wU=t=>f.jsx(hU,{asChild:!0,...t});wU.displayName=lce;var sl="SelectContent",_U=m.forwardRef((t,e)=>{const n=ra(sl,t.__scopeSelect),[r,s]=m.useState();if(Rt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Di.createPortal(f.jsx(xU,{scope:t.__scopeSelect,children:f.jsx($y.Slot,{scope:t.__scopeSelect,children:f.jsx("div",{children:t.children})})}),i):null}return f.jsx(EU,{...t,ref:e})});_U.displayName=sl;var ts=10,[xU,sa]=mu(sl),cce="SelectContentImpl",EU=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:g,sticky:w,hideWhenDetached:v,avoidCollisions:E,..._}=t,y=ra(sl,n),[S,A]=m.useState(null),[D,O]=m.useState(null),C=ke(e,ce=>A(ce)),[T,I]=m.useState(null),[P,M]=m.useState(null),k=zy(n),[N,H]=m.useState(!1),ae=m.useRef(!1);m.useEffect(()=>{if(S)return fE(S)},[S]),eE();const te=m.useCallback(ce=>{const[je,...rt]=k().map(Ge=>Ge.ref.current),[Ve]=rt.slice(-1),$e=document.activeElement;for(const Ge of ce)if(Ge===$e||(Ge==null||Ge.scrollIntoView({block:"nearest"}),Ge===je&&D&&(D.scrollTop=0),Ge===Ve&&D&&(D.scrollTop=D.scrollHeight),Ge==null||Ge.focus(),document.activeElement!==$e))return},[k,D]),ne=m.useCallback(()=>te([T,S]),[te,T,S]);m.useEffect(()=>{N&&ne()},[N,ne]);const{onOpenChange:z,triggerPointerDownPosRef:B}=y;m.useEffect(()=>{if(S){let ce={x:0,y:0};const je=Ve=>{var $e,Ge;ce={x:Math.abs(Math.round(Ve.pageX)-((($e=B.current)==null?void 0:$e.x)??0)),y:Math.abs(Math.round(Ve.pageY)-(((Ge=B.current)==null?void 0:Ge.y)??0))}},rt=Ve=>{ce.x<=10&&ce.y<=10?Ve.preventDefault():S.contains(Ve.target)||z(!1),document.removeEventListener("pointermove",je),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",je),document.addEventListener("pointerup",rt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",je),document.removeEventListener("pointerup",rt,{capture:!0})}}},[S,z,B]),m.useEffect(()=>{const ce=()=>z(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[z]);const[Z,pe]=UU(ce=>{const je=k().filter($e=>!$e.disabled),rt=je.find($e=>$e.ref.current===document.activeElement),Ve=BU(je,ce,rt);Ve&&setTimeout(()=>Ve.ref.current.focus())}),Te=m.useCallback((ce,je,rt)=>{const Ve=!ae.current&&!rt;(y.value!==void 0&&y.value===je||Ve)&&(I(ce),Ve&&(ae.current=!0))},[y.value]),Ae=m.useCallback(()=>S==null?void 0:S.focus(),[S]),Xe=m.useCallback((ce,je,rt)=>{const Ve=!ae.current&&!rt;(y.value!==void 0&&y.value===je||Ve)&&M(ce)},[y.value]),yt=r==="popper"?O_:TU,We=yt===O_?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:g,sticky:w,hideWhenDetached:v,avoidCollisions:E}:{};return f.jsx(xU,{scope:n,content:S,viewport:D,onViewportChange:O,itemRefCallback:Te,selectedItem:T,onItemLeave:Ae,itemTextRefCallback:Xe,focusSelectedItem:ne,selectedItemText:P,position:r,isPositioned:N,searchRef:Z,children:f.jsx(Jg,{as:Lo,allowPinchZoom:!0,children:f.jsx(Wg,{asChild:!0,trapped:y.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:ee(s,ce=>{var je;(je=y.trigger)==null||je.focus({preventScroll:!0}),ce.preventDefault()}),children:f.jsx(uU,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:f.jsx(yt,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ce=>ce.preventDefault(),..._,...We,onPlaced:()=>H(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:ee(_.onKeyDown,ce=>{const je=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!je&&ce.key.length===1&&pe(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let Ve=k().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(Ve=Ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const $e=ce.target,Ge=Ve.indexOf($e);Ve=Ve.slice(Ge+1)}setTimeout(()=>te(Ve)),ce.preventDefault()}})})})})})})});EU.displayName=cce;var uce="SelectItemAlignedPosition",TU=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=ra(sl,n),o=sa(sl,n),[a,l]=m.useState(null),[c,u]=m.useState(null),d=ke(e,C=>u(C)),p=zy(n),g=m.useRef(!1),w=m.useRef(!0),{viewport:v,selectedItem:E,selectedItemText:_,focusSelectedItem:y}=o,S=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&v&&E&&_){const C=i.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),P=_.getBoundingClientRect();if(i.dir!=="rtl"){const $e=P.left-T.left,Ge=I.left-$e,Ut=C.left-Ge,st=C.width+Ut,yn=Math.max(st,T.width),kr=window.innerWidth-ts,xs=d1(Ge,[ts,Math.max(ts,kr-yn)]);a.style.minWidth=st+"px",a.style.left=xs+"px"}else{const $e=T.right-P.right,Ge=window.innerWidth-I.right-$e,Ut=window.innerWidth-C.right-Ge,st=C.width+Ut,yn=Math.max(st,T.width),kr=window.innerWidth-ts,xs=d1(Ge,[ts,Math.max(ts,kr-yn)]);a.style.minWidth=st+"px",a.style.right=xs+"px"}const M=p(),k=window.innerHeight-ts*2,N=v.scrollHeight,H=window.getComputedStyle(c),ae=parseInt(H.borderTopWidth,10),te=parseInt(H.paddingTop,10),ne=parseInt(H.borderBottomWidth,10),z=parseInt(H.paddingBottom,10),B=ae+te+N+z+ne,Z=Math.min(E.offsetHeight*5,B),pe=window.getComputedStyle(v),Te=parseInt(pe.paddingTop,10),Ae=parseInt(pe.paddingBottom,10),Xe=C.top+C.height/2-ts,yt=k-Xe,We=E.offsetHeight/2,ce=E.offsetTop+We,je=ae+te+ce,rt=B-je;if(je<=Xe){const $e=M.length>0&&E===M[M.length-1].ref.current;a.style.bottom="0px";const Ge=c.clientHeight-v.offsetTop-v.offsetHeight,Ut=Math.max(yt,We+($e?Ae:0)+Ge+ne),st=je+Ut;a.style.height=st+"px"}else{const $e=M.length>0&&E===M[0].ref.current;a.style.top="0px";const Ut=Math.max(Xe,ae+v.offsetTop+($e?Te:0)+We)+rt;a.style.height=Ut+"px",v.scrollTop=je-Xe+v.offsetTop}a.style.margin=`${ts}px 0`,a.style.minHeight=Z+"px",a.style.maxHeight=k+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,a,c,v,E,_,i.dir,r]);Rt(()=>S(),[S]);const[A,D]=m.useState();Rt(()=>{c&&D(window.getComputedStyle(c).zIndex)},[c]);const O=m.useCallback(C=>{C&&w.current===!0&&(S(),y==null||y(),w.current=!1)},[S,y]);return f.jsx(hce,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:O,children:f.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:f.jsx(xe.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});TU.displayName=uce;var dce="SelectPopperPosition",O_=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ts,...i}=t,o=Ky(n);return f.jsx(dE,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});O_.displayName=dce;var[hce,vS]=mu(sl,{}),L_="SelectViewport",SU=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=sa(L_,n),o=vS(L_,n),a=ke(e,i.onViewportChange),l=m.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),f.jsx($y.Slot,{scope:n,children:f.jsx(xe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ee(s.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&d){const g=Math.abs(l.current-u.scrollTop);if(g>0){const w=window.innerHeight-ts*2,v=parseFloat(d.style.minHeight),E=parseFloat(d.style.height),_=Math.max(v,E);if(_<w){const y=_+g,S=Math.min(w,y),A=y-S;d.style.height=S+"px",d.style.bottom==="0px"&&(u.scrollTop=A>0?A:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});SU.displayName=L_;var bU="SelectGroup",[fce,pce]=mu(bU),CU=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=fs();return f.jsx(fce,{scope:n,id:s,children:f.jsx(xe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});CU.displayName=bU;var IU="SelectLabel",AU=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=pce(IU,n);return f.jsx(xe.div,{id:s.id,...r,ref:e})});AU.displayName=IU;var dg="SelectItem",[mce,PU]=mu(dg),RU=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=ra(dg,n),l=sa(dg,n),c=a.value===r,[u,d]=m.useState(i??""),[p,g]=m.useState(!1),w=ke(e,y=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,y,r,s)}),v=fs(),E=m.useRef("touch"),_=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(mce,{scope:n,value:r,disabled:s,textId:v,isSelected:c,onItemTextChange:m.useCallback(y=>{d(S=>S||((y==null?void 0:y.textContent)??"").trim())},[]),children:f.jsx($y.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:f.jsx(xe.div,{role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:ee(o.onFocus,()=>g(!0)),onBlur:ee(o.onBlur,()=>g(!1)),onClick:ee(o.onClick,()=>{E.current!=="mouse"&&_()}),onPointerUp:ee(o.onPointerUp,()=>{E.current==="mouse"&&_()}),onPointerDown:ee(o.onPointerDown,y=>{E.current=y.pointerType}),onPointerMove:ee(o.onPointerMove,y=>{var S;E.current=y.pointerType,s?(S=l.onItemLeave)==null||S.call(l):E.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ee(o.onPointerLeave,y=>{var S;y.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:ee(o.onKeyDown,y=>{var A;((A=l.searchRef)==null?void 0:A.current)!==""&&y.key===" "||(nce.includes(y.key)&&_(),y.key===" "&&y.preventDefault())})})})})});RU.displayName=dg;var id="SelectItemText",NU=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=ra(id,n),a=sa(id,n),l=PU(id,n),c=oce(id,n),[u,d]=m.useState(null),p=ke(e,_=>d(_),l.onItemTextChange,_=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,_,l.value,l.disabled)}),g=u==null?void 0:u.textContent,w=m.useMemo(()=>f.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:E}=c;return Rt(()=>(v(w),()=>E(w)),[v,E,w]),f.jsxs(f.Fragment,{children:[f.jsx(xe.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Di.createPortal(i.children,o.valueNode):null]})});NU.displayName=id;var DU="SelectItemIndicator",kU=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return PU(DU,n).isSelected?f.jsx(xe.span,{"aria-hidden":!0,...r,ref:e}):null});kU.displayName=DU;var j_="SelectScrollUpButton",MU=m.forwardRef((t,e)=>{const n=sa(j_,t.__scopeSelect),r=vS(j_,t.__scopeSelect),[s,i]=m.useState(!1),o=ke(e,r.onScrollButtonChange);return Rt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?f.jsx(LU,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});MU.displayName=j_;var V_="SelectScrollDownButton",OU=m.forwardRef((t,e)=>{const n=sa(V_,t.__scopeSelect),r=vS(V_,t.__scopeSelect),[s,i]=m.useState(!1),o=ke(e,r.onScrollButtonChange);return Rt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?f.jsx(LU,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});OU.displayName=V_;var LU=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=sa("SelectScrollButton",n),o=m.useRef(null),a=zy(n),l=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),Rt(()=>{var u;const c=a().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),f.jsx(xe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ee(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ee(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ee(s.onPointerLeave,()=>{l()})})}),gce="SelectSeparator",jU=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return f.jsx(xe.div,{"aria-hidden":!0,...r,ref:e})});jU.displayName=gce;var F_="SelectArrow",yce=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ky(n),i=ra(F_,n),o=sa(F_,n);return i.open&&o.position==="popper"?f.jsx(hE,{...s,...r,ref:e}):null});yce.displayName=F_;function VU(t){return t===""||t===void 0}var FU=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=m.useRef(null),i=ke(e,s),o=ece(n);return m.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&u){const d=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(d)}},[o,n]),f.jsx(sf,{asChild:!0,children:f.jsx("select",{...r,ref:i,defaultValue:n})})});FU.displayName="BubbleSelect";function UU(t){const e=kt(t),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function BU(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=vce(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function vce(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var wce=fU,$U=mU,_ce=yU,xce=vU,Ece=wU,zU=_U,Tce=SU,Sce=CU,KU=AU,WU=RU,bce=NU,Cce=kU,HU=MU,qU=OU,GU=jU;const Ice=wce,Ace=Sce,Pce=_ce,QU=m.forwardRef(({className:t,children:e,...n},r)=>f.jsxs($U,{ref:r,className:de("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,f.jsx(xce,{asChild:!0,children:f.jsx(lk,{className:"h-4 w-4 opacity-50"})})]}));QU.displayName=$U.displayName;const YU=m.forwardRef(({className:t,...e},n)=>f.jsx(HU,{ref:n,className:de("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(gW,{className:"h-4 w-4"})}));YU.displayName=HU.displayName;const XU=m.forwardRef(({className:t,...e},n)=>f.jsx(qU,{ref:n,className:de("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(lk,{className:"h-4 w-4"})}));XU.displayName=qU.displayName;const JU=m.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>f.jsx(Ece,{children:f.jsxs(zU,{ref:s,className:de("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[f.jsx(YU,{}),f.jsx(Tce,{className:de("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),f.jsx(XU,{})]})}));JU.displayName=zU.displayName;const Rce=m.forwardRef(({className:t,...e},n)=>f.jsx(KU,{ref:n,className:de("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Rce.displayName=KU.displayName;const ZU=m.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(WU,{ref:r,className:de("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(Cce,{children:f.jsx(ak,{className:"h-4 w-4"})})}),f.jsx(bce,{children:e})]}));ZU.displayName=WU.displayName;const Nce=m.forwardRef(({className:t,...e},n)=>f.jsx(GU,{ref:n,className:de("-mx-1 my-1 h-px bg-muted",t),...e}));Nce.displayName=GU.displayName;const Dce=["editor","viewer"],kce=({isOpen:t,setDialogState:e,onAddAdmin:n,isLoading:r})=>{const{register:s,watch:i,formState:{errors:o,isSubmitted:a},control:l,handleSubmit:c,reset:u}=yS(),d=i("password"),p=async w=>{const{confirmPassword:v,...E}=w;await n(E),g()},g=(w=void 0)=>{u({email:"",password:"",confirmPassword:""}),e("showAddAdminDialog",w??!1)};return f.jsx(Fy,{open:t,onOpenChange:w=>{g(w)},children:f.jsxs(ff,{className:"sm:max-w-[425px]",children:[f.jsxs(pf,{children:[f.jsx(mf,{className:"text-2xl font-bold",children:"Add Admin"}),f.jsx(gf,{children:"Create a new admin account."})]}),f.jsxs("form",{onSubmit:c(p),className:"text-sm space-y-2",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx(hn,{htmlFor:"current-password",children:"Email"}),f.jsx(on,{className:de(!!o.email&&"border-destructive"),type:"text",placeholder:"Enter your email",...s("email",{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Please enter a valid email address"}})}),a&&o.email&&f.jsx("p",{className:"text-red-500",children:o.email.message})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx(hn,{htmlFor:"current-password",children:"Password"}),f.jsx(Rd,{field:"password",placeholderText:"Enter your password",register:s,message:"Password is required",isError:!!o.password}),a&&o.password&&f.jsx("p",{className:"text-red-500",children:o.password.message})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx(hn,{htmlFor:"new-password",children:"Confirm Password"}),f.jsx(Rd,{field:"confirmPassword",placeholderText:"Re-enter your password",register:s,message:"Confirm password is required",isError:!!o.confirmPassword,validate:w=>w===d||"Password does not match"}),a&&o.confirmPassword&&f.jsx("p",{className:"text-red-500",children:o.confirmPassword.message})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx(hn,{children:"Role"}),f.jsx(Jae,{name:"role",control:l,rules:{required:"Role is required"},render:({field:w})=>f.jsxs(Ice,{onValueChange:w.onChange,value:w.value,children:[f.jsx(QU,{className:de("w-[180px]",!!o.role&&"border-destructive"),children:f.jsx(Pce,{placeholder:"Select a Role"})}),f.jsx(JU,{children:f.jsx(Ace,{children:f.jsx(iy,{items:Dce,renderItem:v=>f.jsx(ZU,{value:v,children:SE(v)})})})})]})}),a&&o.role&&f.jsx("p",{className:"text-red-500",children:o.role.message})]}),f.jsx(Uy,{children:f.jsx(ct,{disabled:r,type:"submit",className:"w-40",children:r?f.jsx(ml,{}):"Save changes"})})]})]})})},Mce=({isOpen:t,setDialogState:e,onResetPassword:n,isLoading:r})=>{const{register:s,formState:{errors:i,isSubmitted:o},setError:a,watch:l,handleSubmit:c,reset:u}=yS(),d=l("newPassword"),p=async w=>{const{confirmNewPassword:v,...E}=w,_=await n(E);if(_&&_===yo.passwordIncorrect){a("password",{type:"manual",message:_});return}if(_&&_===yo.passwordSameAsOld){a("newPassword",{type:"manual",message:_});return}g(!1)},g=(w=void 0)=>{e("showResetPasswordDialog",w??!1),u({})};return f.jsx(Fy,{open:t,onOpenChange:w=>{g(w),setTimeout(()=>{w||(document.body.style.pointerEvents="")},100)},children:f.jsxs(ff,{className:"sm:max-w-[425px]",children:[f.jsxs(pf,{children:[f.jsx(mf,{className:"text-2xl font-bold",children:"Reset Password"}),f.jsx(gf,{children:"Reset admin password and provide a new password."})]}),f.jsxs("form",{onSubmit:c(p),className:"text-sm space-y-2",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx(hn,{htmlFor:"current-password",children:"Current Password"}),f.jsx(Rd,{id:"current-password",field:"password",placeholderText:"Enter new password",register:s,message:"Password is required",isError:!!i.password}),o&&i.password&&f.jsx("p",{className:"text-red-500",children:i.password.message})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx(hn,{htmlFor:"newPassword",children:"New Password"}),f.jsx(Rd,{id:"newPassword",field:"newPassword",placeholderText:"Enter new password",register:s,message:"Password is required",isError:!!i.newPassword}),o&&i.newPassword&&f.jsx("p",{className:"text-red-500",children:i.newPassword.message})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx(hn,{htmlFor:"new-password",children:"Confirm New Password"}),f.jsx(Rd,{id:"new-password",field:"confirmNewPassword",placeholderText:"Re-enter your password",register:s,message:"Confirm password is required",isError:!!i.confirmNewPassword,validate:w=>w===d||"Password does not match"}),o&&i.confirmNewPassword&&f.jsx("p",{className:"text-red-500",children:i.confirmNewPassword.message})]}),f.jsx(Uy,{children:f.jsx(ct,{type:"submit",className:"w-40",children:r?f.jsx(ml,{}):"Reset Password"})})]})]})})},Oce=()=>f.jsx("section",{className:"flex-1 flex-col space-y-4 relative",children:f.jsxs(fr,{children:[f.jsxs(ps,{children:[f.jsx(ms,{children:"Team"}),f.jsx(hl,{children:f.jsx(et,{className:"w-36 h-[20px]"})})]}),f.jsx(br,{children:f.jsxs("div",{children:[f.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[f.jsx("h4",{className:"flex-1",children:f.jsx(et,{className:"w-16 h-[20px]"})}),f.jsx("h4",{className:"w-[14rem]",children:f.jsx(et,{className:"w-24 h-[20px]"})}),f.jsx("h4",{className:"w-[8rem]",children:f.jsx(et,{className:"w-12 h-[20px]"})}),f.jsx("h4",{className:"w-[6rem]"})]}),f.jsx("hr",{className:"border-customBorderColor"}),f.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[f.jsx("h4",{className:"flex-1",children:f.jsx(et,{className:"w-32 h-[20px]"})}),f.jsx("h4",{className:"w-[14rem]",children:f.jsx(et,{className:"w-12 h-[20px]"})}),f.jsx("h4",{className:"w-[8rem]",children:f.jsx(et,{className:"w-20 h-[20px]"})}),f.jsx("h4",{className:"w-[6rem]"})]}),f.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[f.jsx("h4",{className:"flex-1",children:f.jsx(et,{className:"w-40 h-[20px]"})}),f.jsx("h4",{className:"w-[14rem]",children:f.jsx(et,{className:"w-16 h-[20px]"})}),f.jsx("h4",{className:"w-[8rem]",children:f.jsx(et,{className:"w-12 h-[20px]"})}),f.jsx("h4",{className:"w-[6rem]"})]}),f.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[f.jsx("h4",{className:"flex-1",children:f.jsx(et,{className:"w-32 h-[20px]"})}),f.jsx("h4",{className:"w-[14rem]",children:f.jsx(et,{className:"w-12 h-[20px]"})}),f.jsx("h4",{className:"w-[8rem]",children:f.jsx(et,{className:"w-20 h-[20px]"})}),f.jsx("h4",{className:"w-[6rem]"})]})]})})]})}),Lce=async(t,e)=>{const n={email:t,password:e},{success:r,accessToken:s,admin:i}=await ou("/api/auth/login",{},n);if(!r)throw new Error("Error loggin in");return{accessToken:s,admin:i}},jce=async()=>{const{admins:t}=await bE("/api/auth/admins");return t},Vce=async t=>{const{message:e}=await ou("/api/auth/register",{},t);return e},Fce=async t=>{const{message:e}=await CE(`/api/auth/${t}`);return e},Uce=async t=>{const{message:e}=await sy("/api/auth/reset",{},t);if(e===yo.passwordIncorrect||e===yo.passwordSameAsOld)throw new Error(e);return e},Bce=async t=>{const{message:e}=await sy("/api/auth/role",{},t);return e},$ce=()=>{const t=pu(),e=tO(),n=na(),r=Ri(y=>y.dialogs),s=Ri(y=>y.setDialogState),i=lU(y=>y.adminId),{data:o,isLoading:a}=eS({queryFn:()=>jce(),queryKey:zu}),{mutateAsync:l}=li({mutationFn:Fce,onSuccess:y=>{t.invalidateQueries({queryKey:zu}),n({title:y,description:Nt()})},onError:y=>{n({title:y==null?void 0:y.message,description:Nt(),variant:"destructive"}),gt(y.message||"An Unexpected error occured while deleting admin account")}}),{mutateAsync:c,isPending:u}=li({mutationFn:Vce,onSuccess:y=>{t.invalidateQueries({queryKey:zu}),n({title:y,description:Nt()})},onError:y=>{n({title:y==null?void 0:y.message,description:Nt(),variant:"destructive"}),gt(y.message||"An Unexpected error occured while adding admin account")}}),{mutateAsync:d,isPending:p}=li({mutationFn:Uce,onSuccess:y=>{t.invalidateQueries({queryKey:zu}),n({title:y,description:Nt()})},onError:y=>{y.message===yo.passwordIncorrect||y.message===yo.passwordSameAsOld||(n({title:y==null?void 0:y.message,description:Nt(),variant:"destructive"}),gt(y.message??"An error occured while updating admin account"))}}),{mutateAsync:g}=li({mutationFn:Bce,onSuccess:async y=>{t.invalidateQueries({queryKey:zu}),await e(1e3),n({title:y,description:Nt()})},onError:y=>{n({title:y==null?void 0:y.message,description:Nt(),variant:"destructive"}),gt(y.message||"An Unexpected error occured while updating admin role")}});return{setDialogState:s,isAdminListLoading:a,adminList:o,handleAddAdmin:async y=>{try{await c(y)}catch(S){S instanceof Error&&gt(S.message??"An error occured adding admin account"),console.error("An unexpected error occured: ",S)}},handleDeleteAdmin:async()=>{try{if(!i)throw new Error("No admin selected cannot delete");await l(i)}catch(y){y instanceof Error&&gt(y.message??"An error occured deleting admin account"),console.error("An unexpected error occured: ",y)}},handleResetAdminPassword:async y=>{try{if(!i)throw new Error("Admin ID not found, cannot proceed");await d({...y,_id:i})}catch(S){if(S instanceof Error&&(gt(S.message??"An error occured deleting admin account"),S.message===yo.passwordIncorrect||S.message===yo.passwordSameAsOld))return S.message;console.error("An unexpected error occured: ",S)}},handleUpdateAdminRole:async(y,S)=>{try{if(!S)throw new Error("Admin is not available cannot update role");await g({role:y,_id:S})}catch(A){A instanceof Error&&gt(A.message??`An error occured: ${A}`),console.error("An unexpected error occured: ",A)}},dialogs:r,isPending:u,resetAdminPasswordIsPending:p}},zce=()=>{const t=Pt(d=>d.admin),{adminList:e,dialogs:n,isAdminListLoading:r,isPending:s,handleAddAdmin:i,handleDeleteAdmin:o,handleResetAdminPassword:a,handleUpdateAdminRole:l,resetAdminPasswordIsPending:c,setDialogState:u}=$ce();return r?f.jsx(Oce,{}):f.jsxs("section",{className:"flex-1 flex-col space-y-4 relative",children:[f.jsxs(fr,{children:[f.jsxs(ps,{children:[f.jsxs(ms,{children:["Team",f.jsx(_y,{tooltip:"Maximum of 5 admins can be created",children:f.jsx("p",{className:"ml-3 inline-block min-w-6 text-xs font-medium text-zinc-600",children:`${e==null?void 0:e.length}/${WZ}`})})]}),f.jsx(hl,{children:(t==null?void 0:t.role)==="admin"?"Manage admin accounts, including adding and removing admins.":"View the list of admin accounts."})]}),f.jsx(br,{children:f.jsxs("div",{children:[f.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[f.jsx("h4",{className:"flex-1",children:"User"}),f.jsx("h4",{className:"w-[14rem]",children:"Last Active"}),f.jsx("h4",{className:"w-[8rem]",children:"Role"}),f.jsx("h4",{className:"w-[6rem]"})]}),f.jsx("hr",{className:"border-customBorderColor"}),f.jsx(iy,{items:e,renderItem:d=>f.jsx(zle,{adminInfo:d,onUpdateRole:l})})]})})]}),f.jsx("footer",{className:"mt-4 pb-4",children:(t==null?void 0:t.role)!=="viewer"&&(t==null?void 0:t.role)!=="editor"&&f.jsxs(ct,{className:"w-full",onClick:()=>u("showAddAdminDialog",!0),disabled:(e==null?void 0:e.length)===5,children:[f.jsx(Wh,{className:"size-5 mr-2"}),"Add Admin"]})}),f.jsx(kce,{isOpen:n.showAddAdminDialog,setDialogState:u,onAddAdmin:i,isLoading:s}),(n==null?void 0:n.showConfirmDeleteDialog)&&f.jsx(uS,{isOpen:n.showConfirmDeleteDialog,setDialogState:d=>u("showConfirmDeleteDialog",d),onDelete:o,message:"This action cannot be undone. This will permanently delete the admin account"}),(n==null?void 0:n.showResetPasswordDialog)&&f.jsx(Mce,{isOpen:n.showResetPasswordDialog,setDialogState:u,onResetPassword:a,isLoading:c})]})},Kce=()=>{const{currentTab:t,setActiveTab:e}=zF("team");return f.jsxs("section",{className:"flex space-x-2",children:[f.jsx(Fle,{activeTab:t,onTabChange:e}),t==="team"&&f.jsx(zce,{}),t==="botProfile"&&f.jsx(jle,{}),t==="botModel"&&f.jsx(Ble,{})]})},Wce=()=>f.jsx("header",{className:"py-4 text-3xl font-semibold",children:"Settings"}),Hce=()=>f.jsxs("div",{className:"flex flex-col md:w-[84rem] w-[68rem] px-20 space-y-6",children:[f.jsx(Wce,{}),f.jsx(Kce,{})]}),qce=({id:t,text:e,onChange:n,checked:r})=>f.jsxs(f.Fragment,{children:[f.jsx("input",{type:"radio",id:t,name:"nav-btn",value:e,className:"hidden peer",checked:r,onChange:n}),f.jsx("label",{htmlFor:t,className:"flex-1 flex w-[190px] justify-center items-center py-3 px-4 cursor-pointer uppercase text-sm font-[500]",children:e})]}),Gce=({labels:t,selectedTab:e,setSelectedTab:n})=>{const r=s=>{n(s)};return f.jsx("nav",{className:"tabs relative flex after:absolute after:bottom-0 after:pointer-events-none after:border after:border-blue-500",children:t==null?void 0:t.map(s=>f.jsx(qce,{id:s,text:s,checked:e==s,onChange:()=>r(s)},s))})},Qce={siteName:"COB-CHATBOT",botName:"AI NLP Assistant"},Yce={chatbot:JJ,settings:Hce,knowledge:Ele},Xce=()=>{const[t,e]=m.useState("chatbot"),n=["chatbot","knowledge","settings"],r=Yce[t]||null;return f.jsxs("div",{className:"min-h-[100dvh] flex flex-col bg-[#F8F9FB] scrollbar-slim",children:[f.jsxs(iG,{text:Qce.siteName,children:[f.jsx(Gce,{labels:n,selectedTab:t,setSelectedTab:e}),f.jsx("hr",{className:"w-full border-neutral-300"})]}),r&&f.jsx(oG,{Component:r})]})};function Jce(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var _;const{scope:p,children:g,...w}=d,v=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,E=m.useMemo(()=>w,Object.values(w));return f.jsx(v.Provider,{value:E,children:g})};c.displayName=i+"Provider";function u(d,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Zce(s,...e)]}function Zce(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var eue="DismissableLayer",U_="dismissableLayer.update",tue="dismissableLayer.pointerDownOutside",nue="dismissableLayer.focusOutside",p1,e4=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),t4=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(e4),[u,d]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,C=>d(C)),v=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(E),y=u?v.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,A=y>=_,D=sue(C=>{const T=C.target,I=[...c.branches].some(P=>P.contains(T));!A||I||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),O=iue(C=>{const T=C.target;[...c.branches].some(P=>P.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return Hh(C=>{y===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(p1=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),m1(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=p1)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),m1())},[u,c]),m.useEffect(()=>{const C=()=>g({});return document.addEventListener(U_,C),()=>document.removeEventListener(U_,C)},[]),f.jsx(xe.div,{...l,ref:w,style:{pointerEvents:S?A?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,D.onPointerDownCapture)})});t4.displayName=eue;var rue="DismissableLayerBranch",n4=m.forwardRef((t,e)=>{const n=m.useContext(e4),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(xe.div,{...t,ref:s})});n4.displayName=rue;function sue(t,e=globalThis==null?void 0:globalThis.document){const n=kt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){r4(tue,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function iue(t,e=globalThis==null?void 0:globalThis.document){const n=kt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&r4(nue,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function m1(){const t=new CustomEvent(U_);document.dispatchEvent(t)}function r4(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?cl(s,i):s.dispatchEvent(i)}var oue=t4,aue=n4,lue="Portal",s4=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Rt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?jh.createPortal(f.jsx(xe.div,{...r,ref:e}),o):null});s4.displayName=lue;function cue(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var i4=t=>{const{present:e,children:n}=t,r=uue(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ke(r.ref,due(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};i4.displayName="Presence";function uue(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=cue(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=wp(r.current);i.current=a==="mounted"?c:"none"},[a]),Rt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=wp(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Rt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=g=>{const v=wp(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},p=g=>{g.target===e&&(i.current=wp(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function wp(t){return(t==null?void 0:t.animationName)||"none"}function due(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var wS="ToastProvider",[_S,hue,fue]=zg("Toast"),[o4,ade]=Jce("Toast",[fue]),[pue,Wy]=o4(wS),a4=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=m.useState(null),[c,u]=m.useState(0),d=m.useRef(!1),p=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${wS}\`. Expected non-empty \`string\`.`),f.jsx(_S.Provider,{scope:e,children:f.jsx(pue,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>u(g=>g+1),[]),onToastRemove:m.useCallback(()=>u(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:p,children:o})})};a4.displayName=wS;var l4="ToastViewport",mue=["F8"],B_="toast.viewportPause",$_="toast.viewportResume",c4=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=mue,label:s="Notifications ({hotkey})",...i}=t,o=Wy(l4,n),a=hue(n),l=m.useRef(null),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),p=ke(e,d,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;m.useEffect(()=>{const E=_=>{var S;r.length!==0&&r.every(A=>_[A]||_.code===A)&&((S=d.current)==null||S.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),m.useEffect(()=>{const E=l.current,_=d.current;if(w&&E&&_){const y=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(B_);_.dispatchEvent(O),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent($_);_.dispatchEvent(O),o.isClosePausedRef.current=!1}},A=O=>{!E.contains(O.relatedTarget)&&S()},D=()=>{E.contains(document.activeElement)||S()};return E.addEventListener("focusin",y),E.addEventListener("focusout",A),E.addEventListener("pointermove",y),E.addEventListener("pointerleave",D),window.addEventListener("blur",y),window.addEventListener("focus",S),()=>{E.removeEventListener("focusin",y),E.removeEventListener("focusout",A),E.removeEventListener("pointermove",y),E.removeEventListener("pointerleave",D),window.removeEventListener("blur",y),window.removeEventListener("focus",S)}}},[w,o.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:E})=>{const y=a().map(S=>{const A=S.ref.current,D=[A,...Aue(A)];return E==="forwards"?D:D.reverse()});return(E==="forwards"?y.reverse():y).flat()},[a]);return m.useEffect(()=>{const E=d.current;if(E){const _=y=>{var D,O,C;const S=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!S){const T=document.activeElement,I=y.shiftKey;if(y.target===E&&I){(D=c.current)==null||D.focus();return}const k=v({tabbingDirection:I?"backwards":"forwards"}),N=k.findIndex(H=>H===T);Sw(k.slice(N+1))?y.preventDefault():I?(O=c.current)==null||O.focus():(C=u.current)==null||C.focus()}};return E.addEventListener("keydown",_),()=>E.removeEventListener("keydown",_)}},[a,v]),f.jsxs(aue,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&f.jsx(z_,{ref:c,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"forwards"});Sw(E)}}),f.jsx(_S.Slot,{scope:n,children:f.jsx(xe.ol,{tabIndex:-1,...i,ref:p})}),w&&f.jsx(z_,{ref:u,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"backwards"});Sw(E)}})]})});c4.displayName=l4;var u4="ToastFocusProxy",z_=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Wy(u4,n);return f.jsx(sf,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});z_.displayName=u4;var Hy="Toast",gue="toast.swipeStart",yue="toast.swipeMove",vue="toast.swipeCancel",wue="toast.swipeEnd",d4=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=Oo({prop:r,defaultProp:s,onChange:i});return f.jsx(i4,{present:n||a,children:f.jsx(Eue,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:kt(t.onPause),onResume:kt(t.onResume),onSwipeStart:ee(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ee(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:ee(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ee(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});d4.displayName=Hy;var[_ue,xue]=o4(Hy,{onClose(){}}),Eue=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:p,onSwipeEnd:g,...w}=t,v=Wy(Hy,n),[E,_]=m.useState(null),y=ke(e,H=>_(H)),S=m.useRef(null),A=m.useRef(null),D=s||v.duration,O=m.useRef(0),C=m.useRef(D),T=m.useRef(0),{onToastAdd:I,onToastRemove:P}=v,M=kt(()=>{var ae;(E==null?void 0:E.contains(document.activeElement))&&((ae=v.viewport)==null||ae.focus()),o()}),k=m.useCallback(H=>{!H||H===1/0||(window.clearTimeout(T.current),O.current=new Date().getTime(),T.current=window.setTimeout(M,H))},[M]);m.useEffect(()=>{const H=v.viewport;if(H){const ae=()=>{k(C.current),c==null||c()},te=()=>{const ne=new Date().getTime()-O.current;C.current=C.current-ne,window.clearTimeout(T.current),l==null||l()};return H.addEventListener(B_,te),H.addEventListener($_,ae),()=>{H.removeEventListener(B_,te),H.removeEventListener($_,ae)}}},[v.viewport,D,l,c,k]),m.useEffect(()=>{i&&!v.isClosePausedRef.current&&k(D)},[i,D,v.isClosePausedRef,k]),m.useEffect(()=>(I(),()=>P()),[I,P]);const N=m.useMemo(()=>E?v4(E):null,[E]);return v.viewport?f.jsxs(f.Fragment,{children:[N&&f.jsx(Tue,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),f.jsx(_ue,{scope:n,onClose:M,children:Di.createPortal(f.jsx(_S.ItemSlot,{scope:n,children:f.jsx(oue,{asChild:!0,onEscapeKeyDown:ee(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||M(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ee(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:ee(t.onPointerDown,H=>{H.button===0&&(S.current={x:H.clientX,y:H.clientY})}),onPointerMove:ee(t.onPointerMove,H=>{if(!S.current)return;const ae=H.clientX-S.current.x,te=H.clientY-S.current.y,ne=!!A.current,z=["left","right"].includes(v.swipeDirection),B=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,Z=z?B(0,ae):0,pe=z?0:B(0,te),Te=H.pointerType==="touch"?10:2,Ae={x:Z,y:pe},Xe={originalEvent:H,delta:Ae};ne?(A.current=Ae,_p(yue,d,Xe,{discrete:!1})):g1(Ae,v.swipeDirection,Te)?(A.current=Ae,_p(gue,u,Xe,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(ae)>Te||Math.abs(te)>Te)&&(S.current=null)}),onPointerUp:ee(t.onPointerUp,H=>{const ae=A.current,te=H.target;if(te.hasPointerCapture(H.pointerId)&&te.releasePointerCapture(H.pointerId),A.current=null,S.current=null,ae){const ne=H.currentTarget,z={originalEvent:H,delta:ae};g1(ae,v.swipeDirection,v.swipeThreshold)?_p(wue,g,z,{discrete:!0}):_p(vue,p,z,{discrete:!0}),ne.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),Tue=t=>{const{__scopeToast:e,children:n,...r}=t,s=Wy(Hy,e),[i,o]=m.useState(!1),[a,l]=m.useState(!1);return Cue(()=>o(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:f.jsx(s4,{asChild:!0,children:f.jsx(sf,{...r,children:i&&f.jsxs(f.Fragment,{children:[s.label," ",n]})})})},Sue="ToastTitle",h4=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(xe.div,{...r,ref:e})});h4.displayName=Sue;var bue="ToastDescription",f4=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(xe.div,{...r,ref:e})});f4.displayName=bue;var p4="ToastAction",m4=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?f.jsx(y4,{altText:n,asChild:!0,children:f.jsx(xS,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${p4}\`. Expected non-empty \`string\`.`),null)});m4.displayName=p4;var g4="ToastClose",xS=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=xue(g4,n);return f.jsx(y4,{asChild:!0,children:f.jsx(xe.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,s.onClose)})})});xS.displayName=g4;var y4=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return f.jsx(xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function v4(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Iue(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...v4(r))}}),e}function _p(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?cl(s,i):s.dispatchEvent(i)}var g1=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function Cue(t=()=>{}){const e=kt(t);Rt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Iue(t){return t.nodeType===t.ELEMENT_NODE}function Aue(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Sw(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Pue=a4,w4=c4,_4=d4,x4=h4,E4=f4,T4=m4,S4=xS;const Rue=Pue,b4=m.forwardRef(({className:t,...e},n)=>f.jsx(w4,{ref:n,className:de("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));b4.displayName=w4.displayName;const Nue=Jh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),C4=m.forwardRef(({className:t,variant:e,...n},r)=>f.jsx(_4,{ref:r,className:de(Nue({variant:e}),t),...n}));C4.displayName=_4.displayName;const Due=m.forwardRef(({className:t,...e},n)=>f.jsx(T4,{ref:n,className:de("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Due.displayName=T4.displayName;const I4=m.forwardRef(({className:t,...e},n)=>f.jsx(S4,{ref:n,className:de("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:f.jsx(Bg,{className:"h-4 w-4"})}));I4.displayName=S4.displayName;const A4=m.forwardRef(({className:t,...e},n)=>f.jsx(x4,{ref:n,className:de("text-sm font-semibold",t),...e}));A4.displayName=x4.displayName;const P4=m.forwardRef(({className:t,...e},n)=>f.jsx(E4,{ref:n,className:de("text-sm opacity-90",t),...e}));P4.displayName=E4.displayName;function kue(){const{toasts:t}=AV();return f.jsxs(Rue,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return f.jsxs(C4,{...i,children:[f.jsxs("div",{className:"grid gap-1",children:[n&&f.jsx(A4,{children:n}),r&&f.jsx(P4,{children:r})]}),s,f.jsx(I4,{})]},e)}),f.jsx(b4,{})]})}const Mue=()=>{const t=eu();m.useEffect(()=>{SV(Gie,"page_view",{page_path:t.pathname})},[t])},Oue=()=>{const t=Pt(r=>r.isAuth),e=Pt(r=>r.admin),n=new Loe;return aW(),Mue(),!t&&!e?f.jsx(ik,{to:"/login"}):f.jsx(Boe,{client:n,children:f.jsxs("main",{children:[f.jsx(Xce,{}),f.jsx(kue,{})]})})},Lue=Jh("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),R4=m.forwardRef(({className:t,variant:e,...n},r)=>f.jsx("div",{ref:r,role:"alert",className:de(Lue({variant:e}),t),...n}));R4.displayName="Alert";const jue=m.forwardRef(({className:t,...e},n)=>f.jsx("h5",{ref:n,className:de("mb-1 font-medium leading-none tracking-tight",t),...e}));jue.displayName="AlertTitle";const N4=m.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:de("text-sm [&_p]:leading-relaxed",t),...e}));N4.displayName="AlertDescription";const Vue=({password:t,setPassword:e})=>{const[n,r]=m.useState(!1);return f.jsxs("div",{className:"relative",children:[f.jsx(on,{id:"password",type:n?"text":"password",placeholder:"",value:t,onChange:s=>e(s.target.value),required:!0}),f.jsx(ct,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>r(s=>!s),"aria-label":n?"Hide password":"Show password",children:n?f.jsx(hk,{className:"h-4 w-4 text-gray-500"}):f.jsx(Xx,{className:"h-4 w-4 text-gray-500"})})]})},Fue=()=>{const t=Kh(),[e,n]=m.useState(""),[r,s]=m.useState(""),[i,o]=m.useState(""),[a,l]=m.useState(!1),c=Pt(p=>p.login),u=Pt(p=>p.isAuth),d=async p=>{p.preventDefault(),o(""),l(!0);try{const{accessToken:g,admin:w}=await Lce(e,r);c(g,w),t("/")}catch{o("Invalid credentials, Please try again.")}finally{l(!1)}};return u?f.jsx(ik,{to:"/"}):f.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-r from-gray-100 to-gray-200 relative",children:[f.jsx("div",{className:"absolute inset-0 opacity-10 bg-cover bg-center z-0",style:{backgroundImage:"url('/placeholder.svg?height=1080&width=1920')",filter:"blur(3px)"},"aria-hidden":"true"}),f.jsxs(fr,{className:"w-full max-w-md z-10",children:[f.jsxs(ps,{children:[f.jsx(ms,{className:"text-2xl font-bold text-center",children:"Welcome Back"}),f.jsx(hl,{className:"text-center",children:"Please sign in to your account"})]}),f.jsx(br,{children:f.jsxs("form",{onSubmit:d,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(hn,{htmlFor:"email",children:"Email"}),f.jsx(on,{id:"email",type:"email",placeholder:"email@address.com",value:e,onChange:p=>n(p.target.value),required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(hn,{htmlFor:"password",children:"Password"}),f.jsx(Vue,{password:r,setPassword:s})]}),i&&f.jsxs(R4,{variant:"destructive",children:[f.jsx(uk,{className:"h-4 w-4"}),f.jsx(N4,{children:i})]}),f.jsx(ct,{type:"submit",className:"w-full",disabled:a,children:a?"Signing In...":"Sign In"})]})}),f.jsxs(lj,{className:"flex flex-col items-center justify-center space-y-2",children:[f.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Powered by cob-chatbot"}),f.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Intelligent conversations, seamless interactions"})]})]})]})};function Uue(){var n;const t=sk();let e;return zh(t)?e=t.statusText||((n=t.data)==null?void 0:n.message)||"An unexpected error occurred.":t instanceof Error?e=t.message:typeof t=="string"?e=t:(console.error(t),e="An unknown error occurred."),f.jsx("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center items-center px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"max-w-md w-full space-y-8 text-center",children:[f.jsx("div",{className:"flex justify-center",children:f.jsx(uk,{className:"h-24 w-24 text-red-600"})}),f.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Oops! Something went wrong"}),f.jsx("p",{className:"mt-2 text-sm text-gray-600",children:e}),f.jsx("div",{className:"mt-5",children:f.jsx(iW,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Go back home"})})]})})}const Bue=WK([{path:"/",element:f.jsx(Oue,{}),errorElement:f.jsx(Uue,{})},{path:"/login",element:f.jsx(Fue,{})}],{basename:"/admin"});bw.createRoot(document.getElementById("root")).render(f.jsx(ze.StrictMode,{children:f.jsx(eW,{router:Bue})}));
