var cv=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var V=(t,e,n)=>(cv(t,e,"read from private field"),n?n.call(t):e.get(t)),we=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},he=(t,e,n,r)=>(cv(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var Bf=(t,e,n,r)=>({set _(s){he(t,e,s,n)},get _(){return V(t,e,r)}}),$e=(t,e,n)=>(cv(t,e,"access private method"),n);function jR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Z_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var VR={exports:{}},Eg={},FR={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lh=Symbol.for("react.element"),uB=Symbol.for("react.portal"),dB=Symbol.for("react.fragment"),hB=Symbol.for("react.strict_mode"),fB=Symbol.for("react.profiler"),pB=Symbol.for("react.provider"),mB=Symbol.for("react.context"),gB=Symbol.for("react.forward_ref"),yB=Symbol.for("react.suspense"),vB=Symbol.for("react.memo"),wB=Symbol.for("react.lazy"),rb=Symbol.iterator;function _B(t){return t===null||typeof t!="object"?null:(t=rb&&t[rb]||t["@@iterator"],typeof t=="function"?t:null)}var UR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BR=Object.assign,$R={};function Zc(t,e,n){this.props=t,this.context=e,this.refs=$R,this.updater=n||UR}Zc.prototype.isReactComponent={};Zc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zR(){}zR.prototype=Zc.prototype;function ex(t,e,n){this.props=t,this.context=e,this.refs=$R,this.updater=n||UR}var tx=ex.prototype=new zR;tx.constructor=ex;BR(tx,Zc.prototype);tx.isPureReactComponent=!0;var sb=Array.isArray,KR=Object.prototype.hasOwnProperty,nx={current:null},WR={key:!0,ref:!0,__self:!0,__source:!0};function HR(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)KR.call(e,r)&&!WR.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Lh,type:t,key:i,ref:o,props:s,_owner:nx.current}}function xB(t,e){return{$$typeof:Lh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rx(t){return typeof t=="object"&&t!==null&&t.$$typeof===Lh}function EB(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ib=/\/+/g;function uv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?EB(""+t.key):e.toString(36)}function Rp(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Lh:case uB:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+uv(o,0):r,sb(s)?(n="",t!=null&&(n=t.replace(ib,"$&/")+"/"),Rp(s,e,n,"",function(c){return c})):s!=null&&(rx(s)&&(s=xB(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ib,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",sb(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+uv(i,a);o+=Rp(i,e,n,l,s)}else if(l=_B(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+uv(i,a++),o+=Rp(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function $f(t,e,n){if(t==null)return t;var r=[],s=0;return Rp(t,r,"","",function(i){return e.call(n,i,s++)}),r}function TB(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tr={current:null},Pp={transition:null},SB={ReactCurrentDispatcher:tr,ReactCurrentBatchConfig:Pp,ReactCurrentOwner:nx};function qR(){throw Error("act(...) is not supported in production builds of React.")}Ge.Children={map:$f,forEach:function(t,e,n){$f(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $f(t,function(){e++}),e},toArray:function(t){return $f(t,function(e){return e})||[]},only:function(t){if(!rx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ge.Component=Zc;Ge.Fragment=dB;Ge.Profiler=fB;Ge.PureComponent=ex;Ge.StrictMode=hB;Ge.Suspense=yB;Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SB;Ge.act=qR;Ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=BR({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=nx.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)KR.call(e,l)&&!WR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Lh,type:t.type,key:s,ref:i,props:r,_owner:o}};Ge.createContext=function(t){return t={$$typeof:mB,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pB,_context:t},t.Consumer=t};Ge.createElement=HR;Ge.createFactory=function(t){var e=HR.bind(null,t);return e.type=t,e};Ge.createRef=function(){return{current:null}};Ge.forwardRef=function(t){return{$$typeof:gB,render:t}};Ge.isValidElement=rx;Ge.lazy=function(t){return{$$typeof:wB,_payload:{_status:-1,_result:t},_init:TB}};Ge.memo=function(t,e){return{$$typeof:vB,type:t,compare:e===void 0?null:e}};Ge.startTransition=function(t){var e=Pp.transition;Pp.transition={};try{t()}finally{Pp.transition=e}};Ge.unstable_act=qR;Ge.useCallback=function(t,e){return tr.current.useCallback(t,e)};Ge.useContext=function(t){return tr.current.useContext(t)};Ge.useDebugValue=function(){};Ge.useDeferredValue=function(t){return tr.current.useDeferredValue(t)};Ge.useEffect=function(t,e){return tr.current.useEffect(t,e)};Ge.useId=function(){return tr.current.useId()};Ge.useImperativeHandle=function(t,e,n){return tr.current.useImperativeHandle(t,e,n)};Ge.useInsertionEffect=function(t,e){return tr.current.useInsertionEffect(t,e)};Ge.useLayoutEffect=function(t,e){return tr.current.useLayoutEffect(t,e)};Ge.useMemo=function(t,e){return tr.current.useMemo(t,e)};Ge.useReducer=function(t,e,n){return tr.current.useReducer(t,e,n)};Ge.useRef=function(t){return tr.current.useRef(t)};Ge.useState=function(t){return tr.current.useState(t)};Ge.useSyncExternalStore=function(t,e,n){return tr.current.useSyncExternalStore(t,e,n)};Ge.useTransition=function(){return tr.current.useTransition()};Ge.version="18.3.1";FR.exports=Ge;var m=FR.exports;const Ke=Z_(m),GR=jR({__proto__:null,default:Ke},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bB=m,IB=Symbol.for("react.element"),CB=Symbol.for("react.fragment"),AB=Object.prototype.hasOwnProperty,RB=bB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,PB={key:!0,ref:!0,__self:!0,__source:!0};function QR(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)AB.call(e,r)&&!PB.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:IB,type:t,key:i,ref:o,props:s,_owner:RB.current}}Eg.Fragment=CB;Eg.jsx=QR;Eg.jsxs=QR;VR.exports=Eg;var h=VR.exports,Ow={},YR={exports:{}},Pr={},XR={exports:{}},JR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,B){var Z=z.length;z.push(B);e:for(;0<Z;){var pe=Z-1>>>1,Te=z[pe];if(0<s(Te,B))z[pe]=B,z[Z]=Te,Z=pe;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var B=z[0],Z=z.pop();if(Z!==B){z[0]=Z;e:for(var pe=0,Te=z.length,Re=Te>>>1;pe<Re;){var Je=2*(pe+1)-1,wt=z[Je],qe=Je+1,ce=z[qe];if(0>s(wt,Z))qe<Te&&0>s(ce,wt)?(z[pe]=ce,z[qe]=Z,pe=qe):(z[pe]=wt,z[Je]=Z,pe=Je);else if(qe<Te&&0>s(ce,Z))z[pe]=ce,z[qe]=Z,pe=qe;else break e}}return B}function s(z,B){var Z=z.sortIndex-B.sortIndex;return Z!==0?Z:z.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,p=3,g=!1,w=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(z){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=z)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function A(z){if(v=!1,S(z),!w)if(n(l)!==null)w=!0,te(k);else{var B=n(c);B!==null&&ne(A,B.startTime-z)}}function k(z,B){w=!1,v&&(v=!1,_(T),T=-1),g=!0;var Z=p;try{for(S(B),d=n(l);d!==null&&(!(d.expirationTime>B)||z&&!M());){var pe=d.callback;if(typeof pe=="function"){d.callback=null,p=d.priorityLevel;var Te=pe(d.expirationTime<=B);B=t.unstable_now(),typeof Te=="function"?d.callback=Te:d===n(l)&&r(l),S(B)}else r(l);d=n(l)}if(d!==null)var Re=!0;else{var Je=n(c);Je!==null&&ne(A,Je.startTime-B),Re=!1}return Re}finally{d=null,p=Z,g=!1}}var O=!1,I=null,T=-1,C=5,R=-1;function M(){return!(t.unstable_now()-R<C)}function D(){if(I!==null){var z=t.unstable_now();R=z;var B=!0;try{B=I(!0,z)}finally{B?N():(O=!1,I=null)}}else O=!1}var N;if(typeof y=="function")N=function(){y(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ae=H.port2;H.port1.onmessage=D,N=function(){ae.postMessage(null)}}else N=function(){x(D,0)};function te(z){I=z,O||(O=!0,N())}function ne(z,B){T=x(function(){z(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,te(k))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var Z=p;p=B;try{return z()}finally{p=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,B){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Z=p;p=z;try{return B()}finally{p=Z}},t.unstable_scheduleCallback=function(z,B,Z){var pe=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?pe+Z:pe):Z=pe,z){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=Z+Te,z={id:u++,callback:B,priorityLevel:z,startTime:Z,expirationTime:Te,sortIndex:-1},Z>pe?(z.sortIndex=Z,e(c,z),n(l)===null&&z===n(c)&&(v?(_(T),T=-1):v=!0,ne(A,Z-pe))):(z.sortIndex=Te,e(l,z),w||g||(w=!0,te(k))),z},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(z){var B=p;return function(){var Z=p;p=B;try{return z.apply(this,arguments)}finally{p=Z}}}})(JR);XR.exports=JR;var NB=XR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kB=m,Ar=NB;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZR=new Set,jd={};function cl(t,e){Nc(t,e),Nc(t+"Capture",e)}function Nc(t,e){for(jd[t]=e,t=0;t<e.length;t++)ZR.add(e[t])}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lw=Object.prototype.hasOwnProperty,DB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ob={},ab={};function MB(t){return Lw.call(ab,t)?!0:Lw.call(ob,t)?!1:DB.test(t)?ab[t]=!0:(ob[t]=!0,!1)}function OB(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function LB(t,e,n,r){if(e===null||typeof e>"u"||OB(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nr(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var bn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bn[t]=new nr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bn[e]=new nr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bn[t]=new nr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bn[t]=new nr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bn[t]=new nr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bn[t]=new nr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bn[t]=new nr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bn[t]=new nr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bn[t]=new nr(t,5,!1,t.toLowerCase(),null,!1,!1)});var sx=/[\-:]([a-z])/g;function ix(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(sx,ix);bn[e]=new nr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(sx,ix);bn[e]=new nr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(sx,ix);bn[e]=new nr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bn[t]=new nr(t,1,!1,t.toLowerCase(),null,!1,!1)});bn.xlinkHref=new nr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bn[t]=new nr(t,1,!1,t.toLowerCase(),null,!0,!0)});function ox(t,e,n,r){var s=bn.hasOwnProperty(e)?bn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(LB(e,n,s,r)&&(n=null),r||s===null?MB(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Oi=kB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zf=Symbol.for("react.element"),jl=Symbol.for("react.portal"),Vl=Symbol.for("react.fragment"),ax=Symbol.for("react.strict_mode"),jw=Symbol.for("react.profiler"),eP=Symbol.for("react.provider"),tP=Symbol.for("react.context"),lx=Symbol.for("react.forward_ref"),Vw=Symbol.for("react.suspense"),Fw=Symbol.for("react.suspense_list"),cx=Symbol.for("react.memo"),eo=Symbol.for("react.lazy"),nP=Symbol.for("react.offscreen"),lb=Symbol.iterator;function ku(t){return t===null||typeof t!="object"?null:(t=lb&&t[lb]||t["@@iterator"],typeof t=="function"?t:null)}var Ft=Object.assign,dv;function Xu(t){if(dv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);dv=e&&e[1]||""}return`
`+dv+t}var hv=!1;function fv(t,e){if(!t||hv)return"";hv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{hv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xu(t):""}function jB(t){switch(t.tag){case 5:return Xu(t.type);case 16:return Xu("Lazy");case 13:return Xu("Suspense");case 19:return Xu("SuspenseList");case 0:case 2:case 15:return t=fv(t.type,!1),t;case 11:return t=fv(t.type.render,!1),t;case 1:return t=fv(t.type,!0),t;default:return""}}function Uw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vl:return"Fragment";case jl:return"Portal";case jw:return"Profiler";case ax:return"StrictMode";case Vw:return"Suspense";case Fw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tP:return(t.displayName||"Context")+".Consumer";case eP:return(t._context.displayName||"Context")+".Provider";case lx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cx:return e=t.displayName||null,e!==null?e:Uw(t.type)||"Memo";case eo:e=t._payload,t=t._init;try{return Uw(t(e))}catch{}}return null}function VB(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Uw(e);case 8:return e===ax?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function jo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function FB(t){var e=rP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Kf(t){t._valueTracker||(t._valueTracker=FB(t))}function sP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rP(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function cm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Bw(t,e){var n=e.checked;return Ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function cb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=jo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iP(t,e){e=e.checked,e!=null&&ox(t,"checked",e,!1)}function $w(t,e){iP(t,e);var n=jo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zw(t,e.type,n):e.hasOwnProperty("defaultValue")&&zw(t,e.type,jo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ub(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zw(t,e,n){(e!=="number"||cm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ju=Array.isArray;function nc(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+jo(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Kw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return Ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function db(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(Ju(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:jo(n)}}function oP(t,e){var n=jo(e.value),r=jo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function hb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function aP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ww(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?aP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wf,lP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wf=Wf||document.createElement("div"),Wf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Vd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var dd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UB=["Webkit","ms","Moz","O"];Object.keys(dd).forEach(function(t){UB.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dd[e]=dd[t]})});function cP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||dd.hasOwnProperty(t)&&dd[t]?(""+e).trim():e+"px"}function uP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=cP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var BB=Ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hw(t,e){if(e){if(BB[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function qw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gw=null;function ux(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qw=null,rc=null,sc=null;function fb(t){if(t=Fh(t)){if(typeof Qw!="function")throw Error(X(280));var e=t.stateNode;e&&(e=Cg(e),Qw(t.stateNode,t.type,e))}}function dP(t){rc?sc?sc.push(t):sc=[t]:rc=t}function hP(){if(rc){var t=rc,e=sc;if(sc=rc=null,fb(t),e)for(t=0;t<e.length;t++)fb(e[t])}}function fP(t,e){return t(e)}function pP(){}var pv=!1;function mP(t,e,n){if(pv)return t(e,n);pv=!0;try{return fP(t,e,n)}finally{pv=!1,(rc!==null||sc!==null)&&(pP(),hP())}}function Fd(t,e){var n=t.stateNode;if(n===null)return null;var r=Cg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var Yw=!1;if(Ei)try{var Du={};Object.defineProperty(Du,"passive",{get:function(){Yw=!0}}),window.addEventListener("test",Du,Du),window.removeEventListener("test",Du,Du)}catch{Yw=!1}function $B(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var hd=!1,um=null,dm=!1,Xw=null,zB={onError:function(t){hd=!0,um=t}};function KB(t,e,n,r,s,i,o,a,l){hd=!1,um=null,$B.apply(zB,arguments)}function WB(t,e,n,r,s,i,o,a,l){if(KB.apply(this,arguments),hd){if(hd){var c=um;hd=!1,um=null}else throw Error(X(198));dm||(dm=!0,Xw=c)}}function ul(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function pb(t){if(ul(t)!==t)throw Error(X(188))}function HB(t){var e=t.alternate;if(!e){if(e=ul(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return pb(s),t;if(i===r)return pb(s),e;i=i.sibling}throw Error(X(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function yP(t){return t=HB(t),t!==null?vP(t):null}function vP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vP(t);if(e!==null)return e;t=t.sibling}return null}var wP=Ar.unstable_scheduleCallback,mb=Ar.unstable_cancelCallback,qB=Ar.unstable_shouldYield,GB=Ar.unstable_requestPaint,Yt=Ar.unstable_now,QB=Ar.unstable_getCurrentPriorityLevel,dx=Ar.unstable_ImmediatePriority,_P=Ar.unstable_UserBlockingPriority,hm=Ar.unstable_NormalPriority,YB=Ar.unstable_LowPriority,xP=Ar.unstable_IdlePriority,Tg=null,js=null;function XB(t){if(js&&typeof js.onCommitFiberRoot=="function")try{js.onCommitFiberRoot(Tg,t,void 0,(t.current.flags&128)===128)}catch{}}var fs=Math.clz32?Math.clz32:e$,JB=Math.log,ZB=Math.LN2;function e$(t){return t>>>=0,t===0?32:31-(JB(t)/ZB|0)|0}var Hf=64,qf=4194304;function Zu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Zu(a):(i&=o,i!==0&&(r=Zu(i)))}else o=n&~s,o!==0?r=Zu(o):i!==0&&(r=Zu(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fs(e),s=1<<n,r|=t[n],e&=~s;return r}function t$(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n$(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-fs(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=t$(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Jw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function EP(){var t=Hf;return Hf<<=1,!(Hf&4194240)&&(Hf=64),t}function mv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function jh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fs(e),t[e]=n}function r$(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-fs(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function hx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fs(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ht=0;function TP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var SP,fx,bP,IP,CP,Zw=!1,Gf=[],bo=null,Io=null,Co=null,Ud=new Map,Bd=new Map,no=[],s$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gb(t,e){switch(t){case"focusin":case"focusout":bo=null;break;case"dragenter":case"dragleave":Io=null;break;case"mouseover":case"mouseout":Co=null;break;case"pointerover":case"pointerout":Ud.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bd.delete(e.pointerId)}}function Mu(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Fh(e),e!==null&&fx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function i$(t,e,n,r,s){switch(e){case"focusin":return bo=Mu(bo,t,e,n,r,s),!0;case"dragenter":return Io=Mu(Io,t,e,n,r,s),!0;case"mouseover":return Co=Mu(Co,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ud.set(i,Mu(Ud.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Bd.set(i,Mu(Bd.get(i)||null,t,e,n,r,s)),!0}return!1}function AP(t){var e=ba(t.target);if(e!==null){var n=ul(e);if(n!==null){if(e=n.tag,e===13){if(e=gP(n),e!==null){t.blockedOn=e,CP(t.priority,function(){bP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Np(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=e0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Gw=r,n.target.dispatchEvent(r),Gw=null}else return e=Fh(n),e!==null&&fx(e),t.blockedOn=n,!1;e.shift()}return!0}function yb(t,e,n){Np(t)&&n.delete(e)}function o$(){Zw=!1,bo!==null&&Np(bo)&&(bo=null),Io!==null&&Np(Io)&&(Io=null),Co!==null&&Np(Co)&&(Co=null),Ud.forEach(yb),Bd.forEach(yb)}function Ou(t,e){t.blockedOn===e&&(t.blockedOn=null,Zw||(Zw=!0,Ar.unstable_scheduleCallback(Ar.unstable_NormalPriority,o$)))}function $d(t){function e(s){return Ou(s,t)}if(0<Gf.length){Ou(Gf[0],t);for(var n=1;n<Gf.length;n++){var r=Gf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(bo!==null&&Ou(bo,t),Io!==null&&Ou(Io,t),Co!==null&&Ou(Co,t),Ud.forEach(e),Bd.forEach(e),n=0;n<no.length;n++)r=no[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<no.length&&(n=no[0],n.blockedOn===null);)AP(n),n.blockedOn===null&&no.shift()}var ic=Oi.ReactCurrentBatchConfig,pm=!0;function a$(t,e,n,r){var s=ht,i=ic.transition;ic.transition=null;try{ht=1,px(t,e,n,r)}finally{ht=s,ic.transition=i}}function l$(t,e,n,r){var s=ht,i=ic.transition;ic.transition=null;try{ht=4,px(t,e,n,r)}finally{ht=s,ic.transition=i}}function px(t,e,n,r){if(pm){var s=e0(t,e,n,r);if(s===null)bv(t,e,r,mm,n),gb(t,r);else if(i$(s,t,e,n,r))r.stopPropagation();else if(gb(t,r),e&4&&-1<s$.indexOf(t)){for(;s!==null;){var i=Fh(s);if(i!==null&&SP(i),i=e0(t,e,n,r),i===null&&bv(t,e,r,mm,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else bv(t,e,r,null,n)}}var mm=null;function e0(t,e,n,r){if(mm=null,t=ux(r),t=ba(t),t!==null)if(e=ul(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mm=t,null}function RP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QB()){case dx:return 1;case _P:return 4;case hm:case YB:return 16;case xP:return 536870912;default:return 16}default:return 16}}var _o=null,mx=null,kp=null;function PP(){if(kp)return kp;var t,e=mx,n=e.length,r,s="value"in _o?_o.value:_o.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return kp=s.slice(t,1<r?1-r:void 0)}function Dp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qf(){return!0}function vb(){return!1}function Nr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Qf:vb,this.isPropagationStopped=vb,this}return Ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qf)},persist:function(){},isPersistent:Qf}),e}var eu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gx=Nr(eu),Vh=Ft({},eu,{view:0,detail:0}),c$=Nr(Vh),gv,yv,Lu,Sg=Ft({},Vh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lu&&(Lu&&t.type==="mousemove"?(gv=t.screenX-Lu.screenX,yv=t.screenY-Lu.screenY):yv=gv=0,Lu=t),gv)},movementY:function(t){return"movementY"in t?t.movementY:yv}}),wb=Nr(Sg),u$=Ft({},Sg,{dataTransfer:0}),d$=Nr(u$),h$=Ft({},Vh,{relatedTarget:0}),vv=Nr(h$),f$=Ft({},eu,{animationName:0,elapsedTime:0,pseudoElement:0}),p$=Nr(f$),m$=Ft({},eu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),g$=Nr(m$),y$=Ft({},eu,{data:0}),_b=Nr(y$),v$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_$[t])?!!e[t]:!1}function yx(){return x$}var E$=Ft({},Vh,{key:function(t){if(t.key){var e=v$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Dp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?w$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yx,charCode:function(t){return t.type==="keypress"?Dp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),T$=Nr(E$),S$=Ft({},Sg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xb=Nr(S$),b$=Ft({},Vh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yx}),I$=Nr(b$),C$=Ft({},eu,{propertyName:0,elapsedTime:0,pseudoElement:0}),A$=Nr(C$),R$=Ft({},Sg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),P$=Nr(R$),N$=[9,13,27,32],vx=Ei&&"CompositionEvent"in window,fd=null;Ei&&"documentMode"in document&&(fd=document.documentMode);var k$=Ei&&"TextEvent"in window&&!fd,NP=Ei&&(!vx||fd&&8<fd&&11>=fd),Eb=" ",Tb=!1;function kP(t,e){switch(t){case"keyup":return N$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fl=!1;function D$(t,e){switch(t){case"compositionend":return DP(e);case"keypress":return e.which!==32?null:(Tb=!0,Eb);case"textInput":return t=e.data,t===Eb&&Tb?null:t;default:return null}}function M$(t,e){if(Fl)return t==="compositionend"||!vx&&kP(t,e)?(t=PP(),kp=mx=_o=null,Fl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return NP&&e.locale!=="ko"?null:e.data;default:return null}}var O$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!O$[t.type]:e==="textarea"}function MP(t,e,n,r){dP(r),e=gm(e,"onChange"),0<e.length&&(n=new gx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var pd=null,zd=null;function L$(t){WP(t,0)}function bg(t){var e=$l(t);if(sP(e))return t}function j$(t,e){if(t==="change")return e}var OP=!1;if(Ei){var wv;if(Ei){var _v="oninput"in document;if(!_v){var bb=document.createElement("div");bb.setAttribute("oninput","return;"),_v=typeof bb.oninput=="function"}wv=_v}else wv=!1;OP=wv&&(!document.documentMode||9<document.documentMode)}function Ib(){pd&&(pd.detachEvent("onpropertychange",LP),zd=pd=null)}function LP(t){if(t.propertyName==="value"&&bg(zd)){var e=[];MP(e,zd,t,ux(t)),mP(L$,e)}}function V$(t,e,n){t==="focusin"?(Ib(),pd=e,zd=n,pd.attachEvent("onpropertychange",LP)):t==="focusout"&&Ib()}function F$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bg(zd)}function U$(t,e){if(t==="click")return bg(e)}function B$(t,e){if(t==="input"||t==="change")return bg(e)}function $$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gs=typeof Object.is=="function"?Object.is:$$;function Kd(t,e){if(gs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Lw.call(e,s)||!gs(t[s],e[s]))return!1}return!0}function Cb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ab(t,e){var n=Cb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cb(n)}}function jP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function VP(){for(var t=window,e=cm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=cm(t.document)}return e}function wx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function z$(t){var e=VP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&jP(n.ownerDocument.documentElement,n)){if(r!==null&&wx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Ab(n,i);var o=Ab(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var K$=Ei&&"documentMode"in document&&11>=document.documentMode,Ul=null,t0=null,md=null,n0=!1;function Rb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;n0||Ul==null||Ul!==cm(r)||(r=Ul,"selectionStart"in r&&wx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),md&&Kd(md,r)||(md=r,r=gm(t0,"onSelect"),0<r.length&&(e=new gx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ul)))}function Yf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bl={animationend:Yf("Animation","AnimationEnd"),animationiteration:Yf("Animation","AnimationIteration"),animationstart:Yf("Animation","AnimationStart"),transitionend:Yf("Transition","TransitionEnd")},xv={},FP={};Ei&&(FP=document.createElement("div").style,"AnimationEvent"in window||(delete Bl.animationend.animation,delete Bl.animationiteration.animation,delete Bl.animationstart.animation),"TransitionEvent"in window||delete Bl.transitionend.transition);function Ig(t){if(xv[t])return xv[t];if(!Bl[t])return t;var e=Bl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in FP)return xv[t]=e[n];return t}var UP=Ig("animationend"),BP=Ig("animationiteration"),$P=Ig("animationstart"),zP=Ig("transitionend"),KP=new Map,Pb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xo(t,e){KP.set(t,e),cl(e,[t])}for(var Ev=0;Ev<Pb.length;Ev++){var Tv=Pb[Ev],W$=Tv.toLowerCase(),H$=Tv[0].toUpperCase()+Tv.slice(1);Xo(W$,"on"+H$)}Xo(UP,"onAnimationEnd");Xo(BP,"onAnimationIteration");Xo($P,"onAnimationStart");Xo("dblclick","onDoubleClick");Xo("focusin","onFocus");Xo("focusout","onBlur");Xo(zP,"onTransitionEnd");Nc("onMouseEnter",["mouseout","mouseover"]);Nc("onMouseLeave",["mouseout","mouseover"]);Nc("onPointerEnter",["pointerout","pointerover"]);Nc("onPointerLeave",["pointerout","pointerover"]);cl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cl("onBeforeInput",["compositionend","keypress","textInput","paste"]);cl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ed="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q$=new Set("cancel close invalid load scroll toggle".split(" ").concat(ed));function Nb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,WB(r,e,void 0,t),t.currentTarget=null}function WP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Nb(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Nb(s,a,c),i=l}}}if(dm)throw t=Xw,dm=!1,Xw=null,t}function At(t,e){var n=e[a0];n===void 0&&(n=e[a0]=new Set);var r=t+"__bubble";n.has(r)||(HP(e,t,2,!1),n.add(r))}function Sv(t,e,n){var r=0;e&&(r|=4),HP(n,t,r,e)}var Xf="_reactListening"+Math.random().toString(36).slice(2);function Wd(t){if(!t[Xf]){t[Xf]=!0,ZR.forEach(function(n){n!=="selectionchange"&&(q$.has(n)||Sv(n,!1,t),Sv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xf]||(e[Xf]=!0,Sv("selectionchange",!1,e))}}function HP(t,e,n,r){switch(RP(e)){case 1:var s=a$;break;case 4:s=l$;break;default:s=px}n=s.bind(null,e,n,t),s=void 0,!Yw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function bv(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ba(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}mP(function(){var c=i,u=ux(n),d=[];e:{var p=KP.get(t);if(p!==void 0){var g=gx,w=t;switch(t){case"keypress":if(Dp(n)===0)break e;case"keydown":case"keyup":g=T$;break;case"focusin":w="focus",g=vv;break;case"focusout":w="blur",g=vv;break;case"beforeblur":case"afterblur":g=vv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=wb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=d$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=I$;break;case UP:case BP:case $P:g=p$;break;case zP:g=A$;break;case"scroll":g=c$;break;case"wheel":g=P$;break;case"copy":case"cut":case"paste":g=g$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=xb}var v=(e&4)!==0,x=!v&&t==="scroll",_=v?p!==null?p+"Capture":null:p;v=[];for(var y=c,S;y!==null;){S=y;var A=S.stateNode;if(S.tag===5&&A!==null&&(S=A,_!==null&&(A=Fd(y,_),A!=null&&v.push(Hd(y,A,S)))),x)break;y=y.return}0<v.length&&(p=new g(p,w,null,n,u),d.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Gw&&(w=n.relatedTarget||n.fromElement)&&(ba(w)||w[Ti]))break e;if((g||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=c,w=w?ba(w):null,w!==null&&(x=ul(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=c),g!==w)){if(v=wb,A="onMouseLeave",_="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=xb,A="onPointerLeave",_="onPointerEnter",y="pointer"),x=g==null?p:$l(g),S=w==null?p:$l(w),p=new v(A,y+"leave",g,n,u),p.target=x,p.relatedTarget=S,A=null,ba(u)===c&&(v=new v(_,y+"enter",w,n,u),v.target=S,v.relatedTarget=x,A=v),x=A,g&&w)t:{for(v=g,_=w,y=0,S=v;S;S=Rl(S))y++;for(S=0,A=_;A;A=Rl(A))S++;for(;0<y-S;)v=Rl(v),y--;for(;0<S-y;)_=Rl(_),S--;for(;y--;){if(v===_||_!==null&&v===_.alternate)break t;v=Rl(v),_=Rl(_)}v=null}else v=null;g!==null&&kb(d,p,g,v,!1),w!==null&&x!==null&&kb(d,x,w,v,!0)}}e:{if(p=c?$l(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var k=j$;else if(Sb(p))if(OP)k=B$;else{k=F$;var O=V$}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=U$);if(k&&(k=k(t,c))){MP(d,k,n,u);break e}O&&O(t,p,c),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&zw(p,"number",p.value)}switch(O=c?$l(c):window,t){case"focusin":(Sb(O)||O.contentEditable==="true")&&(Ul=O,t0=c,md=null);break;case"focusout":md=t0=Ul=null;break;case"mousedown":n0=!0;break;case"contextmenu":case"mouseup":case"dragend":n0=!1,Rb(d,n,u);break;case"selectionchange":if(K$)break;case"keydown":case"keyup":Rb(d,n,u)}var I;if(vx)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Fl?kP(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(NP&&n.locale!=="ko"&&(Fl||T!=="onCompositionStart"?T==="onCompositionEnd"&&Fl&&(I=PP()):(_o=u,mx="value"in _o?_o.value:_o.textContent,Fl=!0)),O=gm(c,T),0<O.length&&(T=new _b(T,t,null,n,u),d.push({event:T,listeners:O}),I?T.data=I:(I=DP(n),I!==null&&(T.data=I)))),(I=k$?D$(t,n):M$(t,n))&&(c=gm(c,"onBeforeInput"),0<c.length&&(u=new _b("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=I))}WP(d,e)})}function Hd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gm(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Fd(t,n),i!=null&&r.unshift(Hd(t,i,s)),i=Fd(t,e),i!=null&&r.push(Hd(t,i,s))),t=t.return}return r}function Rl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kb(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Fd(n,i),l!=null&&o.unshift(Hd(n,l,a))):s||(l=Fd(n,i),l!=null&&o.push(Hd(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var G$=/\r\n?/g,Q$=/\u0000|\uFFFD/g;function Db(t){return(typeof t=="string"?t:""+t).replace(G$,`
`).replace(Q$,"")}function Jf(t,e,n){if(e=Db(e),Db(t)!==e&&n)throw Error(X(425))}function ym(){}var r0=null,s0=null;function i0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var o0=typeof setTimeout=="function"?setTimeout:void 0,Y$=typeof clearTimeout=="function"?clearTimeout:void 0,Mb=typeof Promise=="function"?Promise:void 0,X$=typeof queueMicrotask=="function"?queueMicrotask:typeof Mb<"u"?function(t){return Mb.resolve(null).then(t).catch(J$)}:o0;function J$(t){setTimeout(function(){throw t})}function Iv(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),$d(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);$d(e)}function Ao(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ob(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var tu=Math.random().toString(36).slice(2),Ns="__reactFiber$"+tu,qd="__reactProps$"+tu,Ti="__reactContainer$"+tu,a0="__reactEvents$"+tu,Z$="__reactListeners$"+tu,e5="__reactHandles$"+tu;function ba(t){var e=t[Ns];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ti]||n[Ns]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ob(t);t!==null;){if(n=t[Ns])return n;t=Ob(t)}return e}t=n,n=t.parentNode}return null}function Fh(t){return t=t[Ns]||t[Ti],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $l(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function Cg(t){return t[qd]||null}var l0=[],zl=-1;function Jo(t){return{current:t}}function Rt(t){0>zl||(t.current=l0[zl],l0[zl]=null,zl--)}function Tt(t,e){zl++,l0[zl]=t.current,t.current=e}var Vo={},Bn=Jo(Vo),ur=Jo(!1),Ha=Vo;function kc(t,e){var n=t.type.contextTypes;if(!n)return Vo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function dr(t){return t=t.childContextTypes,t!=null}function vm(){Rt(ur),Rt(Bn)}function Lb(t,e,n){if(Bn.current!==Vo)throw Error(X(168));Tt(Bn,e),Tt(ur,n)}function qP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(X(108,VB(t)||"Unknown",s));return Ft({},n,r)}function wm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vo,Ha=Bn.current,Tt(Bn,t),Tt(ur,ur.current),!0}function jb(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=qP(t,e,Ha),r.__reactInternalMemoizedMergedChildContext=t,Rt(ur),Rt(Bn),Tt(Bn,t)):Rt(ur),Tt(ur,n)}var ti=null,Ag=!1,Cv=!1;function GP(t){ti===null?ti=[t]:ti.push(t)}function t5(t){Ag=!0,GP(t)}function Zo(){if(!Cv&&ti!==null){Cv=!0;var t=0,e=ht;try{var n=ti;for(ht=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ti=null,Ag=!1}catch(s){throw ti!==null&&(ti=ti.slice(t+1)),wP(dx,Zo),s}finally{ht=e,Cv=!1}}return null}var Kl=[],Wl=0,_m=null,xm=0,Br=[],$r=0,qa=null,ri=1,si="";function wa(t,e){Kl[Wl++]=xm,Kl[Wl++]=_m,_m=t,xm=e}function QP(t,e,n){Br[$r++]=ri,Br[$r++]=si,Br[$r++]=qa,qa=t;var r=ri;t=si;var s=32-fs(r)-1;r&=~(1<<s),n+=1;var i=32-fs(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ri=1<<32-fs(e)+s|n<<s|r,si=i+t}else ri=1<<i|n<<s|r,si=t}function _x(t){t.return!==null&&(wa(t,1),QP(t,1,0))}function xx(t){for(;t===_m;)_m=Kl[--Wl],Kl[Wl]=null,xm=Kl[--Wl],Kl[Wl]=null;for(;t===qa;)qa=Br[--$r],Br[$r]=null,si=Br[--$r],Br[$r]=null,ri=Br[--$r],Br[$r]=null}var br=null,Tr=null,kt=!1,ls=null;function YP(t,e){var n=Kr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Vb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,br=t,Tr=Ao(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,br=t,Tr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=qa!==null?{id:ri,overflow:si}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,br=t,Tr=null,!0):!1;default:return!1}}function c0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function u0(t){if(kt){var e=Tr;if(e){var n=e;if(!Vb(t,e)){if(c0(t))throw Error(X(418));e=Ao(n.nextSibling);var r=br;e&&Vb(t,e)?YP(r,n):(t.flags=t.flags&-4097|2,kt=!1,br=t)}}else{if(c0(t))throw Error(X(418));t.flags=t.flags&-4097|2,kt=!1,br=t}}}function Fb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;br=t}function Zf(t){if(t!==br)return!1;if(!kt)return Fb(t),kt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!i0(t.type,t.memoizedProps)),e&&(e=Tr)){if(c0(t))throw XP(),Error(X(418));for(;e;)YP(t,e),e=Ao(e.nextSibling)}if(Fb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Tr=Ao(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Tr=null}}else Tr=br?Ao(t.stateNode.nextSibling):null;return!0}function XP(){for(var t=Tr;t;)t=Ao(t.nextSibling)}function Dc(){Tr=br=null,kt=!1}function Ex(t){ls===null?ls=[t]:ls.push(t)}var n5=Oi.ReactCurrentBatchConfig;function ju(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function ep(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ub(t){var e=t._init;return e(t._payload)}function JP(t){function e(_,y){if(t){var S=_.deletions;S===null?(_.deletions=[y],_.flags|=16):S.push(y)}}function n(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function r(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function s(_,y){return _=ko(_,y),_.index=0,_.sibling=null,_}function i(_,y,S){return _.index=S,t?(S=_.alternate,S!==null?(S=S.index,S<y?(_.flags|=2,y):S):(_.flags|=2,y)):(_.flags|=1048576,y)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,y,S,A){return y===null||y.tag!==6?(y=Mv(S,_.mode,A),y.return=_,y):(y=s(y,S),y.return=_,y)}function l(_,y,S,A){var k=S.type;return k===Vl?u(_,y,S.props.children,A,S.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===eo&&Ub(k)===y.type)?(A=s(y,S.props),A.ref=ju(_,y,S),A.return=_,A):(A=Up(S.type,S.key,S.props,null,_.mode,A),A.ref=ju(_,y,S),A.return=_,A)}function c(_,y,S,A){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=Ov(S,_.mode,A),y.return=_,y):(y=s(y,S.children||[]),y.return=_,y)}function u(_,y,S,A,k){return y===null||y.tag!==7?(y=$a(S,_.mode,A,k),y.return=_,y):(y=s(y,S),y.return=_,y)}function d(_,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Mv(""+y,_.mode,S),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case zf:return S=Up(y.type,y.key,y.props,null,_.mode,S),S.ref=ju(_,null,y),S.return=_,S;case jl:return y=Ov(y,_.mode,S),y.return=_,y;case eo:var A=y._init;return d(_,A(y._payload),S)}if(Ju(y)||ku(y))return y=$a(y,_.mode,S,null),y.return=_,y;ep(_,y)}return null}function p(_,y,S,A){var k=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return k!==null?null:a(_,y,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case zf:return S.key===k?l(_,y,S,A):null;case jl:return S.key===k?c(_,y,S,A):null;case eo:return k=S._init,p(_,y,k(S._payload),A)}if(Ju(S)||ku(S))return k!==null?null:u(_,y,S,A,null);ep(_,S)}return null}function g(_,y,S,A,k){if(typeof A=="string"&&A!==""||typeof A=="number")return _=_.get(S)||null,a(y,_,""+A,k);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case zf:return _=_.get(A.key===null?S:A.key)||null,l(y,_,A,k);case jl:return _=_.get(A.key===null?S:A.key)||null,c(y,_,A,k);case eo:var O=A._init;return g(_,y,S,O(A._payload),k)}if(Ju(A)||ku(A))return _=_.get(S)||null,u(y,_,A,k,null);ep(y,A)}return null}function w(_,y,S,A){for(var k=null,O=null,I=y,T=y=0,C=null;I!==null&&T<S.length;T++){I.index>T?(C=I,I=null):C=I.sibling;var R=p(_,I,S[T],A);if(R===null){I===null&&(I=C);break}t&&I&&R.alternate===null&&e(_,I),y=i(R,y,T),O===null?k=R:O.sibling=R,O=R,I=C}if(T===S.length)return n(_,I),kt&&wa(_,T),k;if(I===null){for(;T<S.length;T++)I=d(_,S[T],A),I!==null&&(y=i(I,y,T),O===null?k=I:O.sibling=I,O=I);return kt&&wa(_,T),k}for(I=r(_,I);T<S.length;T++)C=g(I,_,T,S[T],A),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?T:C.key),y=i(C,y,T),O===null?k=C:O.sibling=C,O=C);return t&&I.forEach(function(M){return e(_,M)}),kt&&wa(_,T),k}function v(_,y,S,A){var k=ku(S);if(typeof k!="function")throw Error(X(150));if(S=k.call(S),S==null)throw Error(X(151));for(var O=k=null,I=y,T=y=0,C=null,R=S.next();I!==null&&!R.done;T++,R=S.next()){I.index>T?(C=I,I=null):C=I.sibling;var M=p(_,I,R.value,A);if(M===null){I===null&&(I=C);break}t&&I&&M.alternate===null&&e(_,I),y=i(M,y,T),O===null?k=M:O.sibling=M,O=M,I=C}if(R.done)return n(_,I),kt&&wa(_,T),k;if(I===null){for(;!R.done;T++,R=S.next())R=d(_,R.value,A),R!==null&&(y=i(R,y,T),O===null?k=R:O.sibling=R,O=R);return kt&&wa(_,T),k}for(I=r(_,I);!R.done;T++,R=S.next())R=g(I,_,T,R.value,A),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?T:R.key),y=i(R,y,T),O===null?k=R:O.sibling=R,O=R);return t&&I.forEach(function(D){return e(_,D)}),kt&&wa(_,T),k}function x(_,y,S,A){if(typeof S=="object"&&S!==null&&S.type===Vl&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case zf:e:{for(var k=S.key,O=y;O!==null;){if(O.key===k){if(k=S.type,k===Vl){if(O.tag===7){n(_,O.sibling),y=s(O,S.props.children),y.return=_,_=y;break e}}else if(O.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===eo&&Ub(k)===O.type){n(_,O.sibling),y=s(O,S.props),y.ref=ju(_,O,S),y.return=_,_=y;break e}n(_,O);break}else e(_,O);O=O.sibling}S.type===Vl?(y=$a(S.props.children,_.mode,A,S.key),y.return=_,_=y):(A=Up(S.type,S.key,S.props,null,_.mode,A),A.ref=ju(_,y,S),A.return=_,_=A)}return o(_);case jl:e:{for(O=S.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){n(_,y.sibling),y=s(y,S.children||[]),y.return=_,_=y;break e}else{n(_,y);break}else e(_,y);y=y.sibling}y=Ov(S,_.mode,A),y.return=_,_=y}return o(_);case eo:return O=S._init,x(_,y,O(S._payload),A)}if(Ju(S))return w(_,y,S,A);if(ku(S))return v(_,y,S,A);ep(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(n(_,y.sibling),y=s(y,S),y.return=_,_=y):(n(_,y),y=Mv(S,_.mode,A),y.return=_,_=y),o(_)):n(_,y)}return x}var Mc=JP(!0),ZP=JP(!1),Em=Jo(null),Tm=null,Hl=null,Tx=null;function Sx(){Tx=Hl=Tm=null}function bx(t){var e=Em.current;Rt(Em),t._currentValue=e}function d0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function oc(t,e){Tm=t,Tx=Hl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(cr=!0),t.firstContext=null)}function Yr(t){var e=t._currentValue;if(Tx!==t)if(t={context:t,memoizedValue:e,next:null},Hl===null){if(Tm===null)throw Error(X(308));Hl=t,Tm.dependencies={lanes:0,firstContext:t}}else Hl=Hl.next=t;return e}var Ia=null;function Ix(t){Ia===null?Ia=[t]:Ia.push(t)}function eN(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ix(e)):(n.next=s.next,s.next=n),e.interleaved=n,Si(t,r)}function Si(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var to=!1;function Cx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ro(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ot&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Si(t,n)}return s=r.interleaved,s===null?(e.next=e,Ix(r)):(e.next=s.next,s.next=e),r.interleaved=e,Si(t,n)}function Mp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hx(t,n)}}function Bb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Sm(t,e,n,r){var s=t.updateQueue;to=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,v=a;switch(p=e,g=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){d=w.call(g,d,p);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,p=typeof w=="function"?w.call(g,d,p):w,p==null)break e;d=Ft({},d,p);break e;case 2:to=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,l=d):u=u.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Qa|=o,t.lanes=o,t.memoizedState=d}}function $b(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(X(191,s));s.call(r)}}}var Uh={},Vs=Jo(Uh),Gd=Jo(Uh),Qd=Jo(Uh);function Ca(t){if(t===Uh)throw Error(X(174));return t}function Ax(t,e){switch(Tt(Qd,e),Tt(Gd,t),Tt(Vs,Uh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ww(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ww(e,t)}Rt(Vs),Tt(Vs,e)}function Oc(){Rt(Vs),Rt(Gd),Rt(Qd)}function nN(t){Ca(Qd.current);var e=Ca(Vs.current),n=Ww(e,t.type);e!==n&&(Tt(Gd,t),Tt(Vs,n))}function Rx(t){Gd.current===t&&(Rt(Vs),Rt(Gd))}var Lt=Jo(0);function bm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Av=[];function Px(){for(var t=0;t<Av.length;t++)Av[t]._workInProgressVersionPrimary=null;Av.length=0}var Op=Oi.ReactCurrentDispatcher,Rv=Oi.ReactCurrentBatchConfig,Ga=0,Vt=null,an=null,mn=null,Im=!1,gd=!1,Yd=0,r5=0;function Nn(){throw Error(X(321))}function Nx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gs(t[n],e[n]))return!1;return!0}function kx(t,e,n,r,s,i){if(Ga=i,Vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Op.current=t===null||t.memoizedState===null?a5:l5,t=n(r,s),gd){i=0;do{if(gd=!1,Yd=0,25<=i)throw Error(X(301));i+=1,mn=an=null,e.updateQueue=null,Op.current=c5,t=n(r,s)}while(gd)}if(Op.current=Cm,e=an!==null&&an.next!==null,Ga=0,mn=an=Vt=null,Im=!1,e)throw Error(X(300));return t}function Dx(){var t=Yd!==0;return Yd=0,t}function Is(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Vt.memoizedState=mn=t:mn=mn.next=t,mn}function Xr(){if(an===null){var t=Vt.alternate;t=t!==null?t.memoizedState:null}else t=an.next;var e=mn===null?Vt.memoizedState:mn.next;if(e!==null)mn=e,an=t;else{if(t===null)throw Error(X(310));an=t,t={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},mn===null?Vt.memoizedState=mn=t:mn=mn.next=t}return mn}function Xd(t,e){return typeof e=="function"?e(t):e}function Pv(t){var e=Xr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=an,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Ga&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Vt.lanes|=u,Qa|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,gs(r,e.memoizedState)||(cr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Vt.lanes|=i,Qa|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Nv(t){var e=Xr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);gs(i,e.memoizedState)||(cr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function rN(){}function sN(t,e){var n=Vt,r=Xr(),s=e(),i=!gs(r.memoizedState,s);if(i&&(r.memoizedState=s,cr=!0),r=r.queue,Mx(aN.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||mn!==null&&mn.memoizedState.tag&1){if(n.flags|=2048,Jd(9,oN.bind(null,n,r,s,e),void 0,null),gn===null)throw Error(X(349));Ga&30||iN(n,e,s)}return s}function iN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Vt.updateQueue,e===null?(e={lastEffect:null,stores:null},Vt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function oN(t,e,n,r){e.value=n,e.getSnapshot=r,lN(e)&&cN(t)}function aN(t,e,n){return n(function(){lN(e)&&cN(t)})}function lN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gs(t,n)}catch{return!0}}function cN(t){var e=Si(t,1);e!==null&&ps(e,t,1,-1)}function zb(t){var e=Is();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xd,lastRenderedState:t},e.queue=t,t=t.dispatch=o5.bind(null,Vt,t),[e.memoizedState,t]}function Jd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Vt.updateQueue,e===null?(e={lastEffect:null,stores:null},Vt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function uN(){return Xr().memoizedState}function Lp(t,e,n,r){var s=Is();Vt.flags|=t,s.memoizedState=Jd(1|e,n,void 0,r===void 0?null:r)}function Rg(t,e,n,r){var s=Xr();r=r===void 0?null:r;var i=void 0;if(an!==null){var o=an.memoizedState;if(i=o.destroy,r!==null&&Nx(r,o.deps)){s.memoizedState=Jd(e,n,i,r);return}}Vt.flags|=t,s.memoizedState=Jd(1|e,n,i,r)}function Kb(t,e){return Lp(8390656,8,t,e)}function Mx(t,e){return Rg(2048,8,t,e)}function dN(t,e){return Rg(4,2,t,e)}function hN(t,e){return Rg(4,4,t,e)}function fN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pN(t,e,n){return n=n!=null?n.concat([t]):null,Rg(4,4,fN.bind(null,e,t),n)}function Ox(){}function mN(t,e){var n=Xr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Nx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function gN(t,e){var n=Xr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Nx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function yN(t,e,n){return Ga&21?(gs(n,e)||(n=EP(),Vt.lanes|=n,Qa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,cr=!0),t.memoizedState=n)}function s5(t,e){var n=ht;ht=n!==0&&4>n?n:4,t(!0);var r=Rv.transition;Rv.transition={};try{t(!1),e()}finally{ht=n,Rv.transition=r}}function vN(){return Xr().memoizedState}function i5(t,e,n){var r=No(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wN(t))_N(e,n);else if(n=eN(t,e,n,r),n!==null){var s=Zn();ps(n,t,r,s),xN(n,e,r)}}function o5(t,e,n){var r=No(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wN(t))_N(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,gs(a,o)){var l=e.interleaved;l===null?(s.next=s,Ix(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=eN(t,e,s,r),n!==null&&(s=Zn(),ps(n,t,r,s),xN(n,e,r))}}function wN(t){var e=t.alternate;return t===Vt||e!==null&&e===Vt}function _N(t,e){gd=Im=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function xN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hx(t,n)}}var Cm={readContext:Yr,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useInsertionEffect:Nn,useLayoutEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useMutableSource:Nn,useSyncExternalStore:Nn,useId:Nn,unstable_isNewReconciler:!1},a5={readContext:Yr,useCallback:function(t,e){return Is().memoizedState=[t,e===void 0?null:e],t},useContext:Yr,useEffect:Kb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Lp(4194308,4,fN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Lp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Lp(4,2,t,e)},useMemo:function(t,e){var n=Is();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Is();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=i5.bind(null,Vt,t),[r.memoizedState,t]},useRef:function(t){var e=Is();return t={current:t},e.memoizedState=t},useState:zb,useDebugValue:Ox,useDeferredValue:function(t){return Is().memoizedState=t},useTransition:function(){var t=zb(!1),e=t[0];return t=s5.bind(null,t[1]),Is().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Vt,s=Is();if(kt){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),gn===null)throw Error(X(349));Ga&30||iN(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Kb(aN.bind(null,r,i,t),[t]),r.flags|=2048,Jd(9,oN.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Is(),e=gn.identifierPrefix;if(kt){var n=si,r=ri;n=(r&~(1<<32-fs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Yd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=r5++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},l5={readContext:Yr,useCallback:mN,useContext:Yr,useEffect:Mx,useImperativeHandle:pN,useInsertionEffect:dN,useLayoutEffect:hN,useMemo:gN,useReducer:Pv,useRef:uN,useState:function(){return Pv(Xd)},useDebugValue:Ox,useDeferredValue:function(t){var e=Xr();return yN(e,an.memoizedState,t)},useTransition:function(){var t=Pv(Xd)[0],e=Xr().memoizedState;return[t,e]},useMutableSource:rN,useSyncExternalStore:sN,useId:vN,unstable_isNewReconciler:!1},c5={readContext:Yr,useCallback:mN,useContext:Yr,useEffect:Mx,useImperativeHandle:pN,useInsertionEffect:dN,useLayoutEffect:hN,useMemo:gN,useReducer:Nv,useRef:uN,useState:function(){return Nv(Xd)},useDebugValue:Ox,useDeferredValue:function(t){var e=Xr();return an===null?e.memoizedState=t:yN(e,an.memoizedState,t)},useTransition:function(){var t=Nv(Xd)[0],e=Xr().memoizedState;return[t,e]},useMutableSource:rN,useSyncExternalStore:sN,useId:vN,unstable_isNewReconciler:!1};function ss(t,e){if(t&&t.defaultProps){e=Ft({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function h0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ft({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Pg={isMounted:function(t){return(t=t._reactInternals)?ul(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zn(),s=No(t),i=hi(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ro(t,i,s),e!==null&&(ps(e,t,s,r),Mp(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zn(),s=No(t),i=hi(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ro(t,i,s),e!==null&&(ps(e,t,s,r),Mp(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zn(),r=No(t),s=hi(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ro(t,s,r),e!==null&&(ps(e,t,r,n),Mp(e,t,r))}};function Wb(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Kd(n,r)||!Kd(s,i):!0}function EN(t,e,n){var r=!1,s=Vo,i=e.contextType;return typeof i=="object"&&i!==null?i=Yr(i):(s=dr(e)?Ha:Bn.current,r=e.contextTypes,i=(r=r!=null)?kc(t,s):Vo),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Pg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Hb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Pg.enqueueReplaceState(e,e.state,null)}function f0(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Cx(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Yr(i):(i=dr(e)?Ha:Bn.current,s.context=kc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(h0(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Pg.enqueueReplaceState(s,s.state,null),Sm(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Lc(t,e){try{var n="",r=e;do n+=jB(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function kv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function p0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var u5=typeof WeakMap=="function"?WeakMap:Map;function TN(t,e,n){n=hi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Rm||(Rm=!0,S0=r),p0(t,e)},n}function SN(t,e,n){n=hi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){p0(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){p0(t,e),typeof r!="function"&&(Po===null?Po=new Set([this]):Po.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function qb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new u5;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=S5.bind(null,t,e,n),e.then(t,t))}function Gb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Qb(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=hi(-1,1),e.tag=2,Ro(n,e,1))),n.lanes|=1),t)}var d5=Oi.ReactCurrentOwner,cr=!1;function Xn(t,e,n,r){e.child=t===null?ZP(e,null,n,r):Mc(e,t.child,n,r)}function Yb(t,e,n,r,s){n=n.render;var i=e.ref;return oc(e,s),r=kx(t,e,n,r,i,s),n=Dx(),t!==null&&!cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,bi(t,e,s)):(kt&&n&&_x(e),e.flags|=1,Xn(t,e,r,s),e.child)}function Xb(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!zx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,bN(t,e,i,r,s)):(t=Up(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Kd,n(o,r)&&t.ref===e.ref)return bi(t,e,s)}return e.flags|=1,t=ko(i,r),t.ref=e.ref,t.return=e,e.child=t}function bN(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Kd(i,r)&&t.ref===e.ref)if(cr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(cr=!0);else return e.lanes=t.lanes,bi(t,e,s)}return m0(t,e,n,r,s)}function IN(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(Gl,_r),_r|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Tt(Gl,_r),_r|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Tt(Gl,_r),_r|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Tt(Gl,_r),_r|=r;return Xn(t,e,s,n),e.child}function CN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function m0(t,e,n,r,s){var i=dr(n)?Ha:Bn.current;return i=kc(e,i),oc(e,s),n=kx(t,e,n,r,i,s),r=Dx(),t!==null&&!cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,bi(t,e,s)):(kt&&r&&_x(e),e.flags|=1,Xn(t,e,n,s),e.child)}function Jb(t,e,n,r,s){if(dr(n)){var i=!0;wm(e)}else i=!1;if(oc(e,s),e.stateNode===null)jp(t,e),EN(e,n,r),f0(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Yr(c):(c=dr(n)?Ha:Bn.current,c=kc(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Hb(e,o,r,c),to=!1;var p=e.memoizedState;o.state=p,Sm(e,r,o,s),l=e.memoizedState,a!==r||p!==l||ur.current||to?(typeof u=="function"&&(h0(e,n,u,r),l=e.memoizedState),(a=to||Wb(e,n,a,r,p,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,tN(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ss(e.type,a),o.props=c,d=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Yr(l):(l=dr(n)?Ha:Bn.current,l=kc(e,l));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&Hb(e,o,r,l),to=!1,p=e.memoizedState,o.state=p,Sm(e,r,o,s);var w=e.memoizedState;a!==d||p!==w||ur.current||to?(typeof g=="function"&&(h0(e,n,g,r),w=e.memoizedState),(c=to||Wb(e,n,c,r,p,w,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return g0(t,e,n,r,i,s)}function g0(t,e,n,r,s,i){CN(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&jb(e,n,!1),bi(t,e,i);r=e.stateNode,d5.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Mc(e,t.child,null,i),e.child=Mc(e,null,a,i)):Xn(t,e,a,i),e.memoizedState=r.state,s&&jb(e,n,!0),e.child}function AN(t){var e=t.stateNode;e.pendingContext?Lb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Lb(t,e.context,!1),Ax(t,e.containerInfo)}function Zb(t,e,n,r,s){return Dc(),Ex(s),e.flags|=256,Xn(t,e,n,r),e.child}var y0={dehydrated:null,treeContext:null,retryLane:0};function v0(t){return{baseLanes:t,cachePool:null,transitions:null}}function RN(t,e,n){var r=e.pendingProps,s=Lt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Tt(Lt,s&1),t===null)return u0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Dg(o,r,0,null),t=$a(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=v0(n),e.memoizedState=y0,t):Lx(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return h5(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ko(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ko(a,i):(i=$a(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?v0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=y0,r}return i=t.child,t=i.sibling,r=ko(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Lx(t,e){return e=Dg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function tp(t,e,n,r){return r!==null&&Ex(r),Mc(e,t.child,null,n),t=Lx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function h5(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=kv(Error(X(422))),tp(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Dg({mode:"visible",children:r.children},s,0,null),i=$a(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Mc(e,t.child,null,o),e.child.memoizedState=v0(o),e.memoizedState=y0,i);if(!(e.mode&1))return tp(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(X(419)),r=kv(i,r,void 0),tp(t,e,o,r)}if(a=(o&t.childLanes)!==0,cr||a){if(r=gn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Si(t,s),ps(r,t,s,-1))}return $x(),r=kv(Error(X(421))),tp(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=b5.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Tr=Ao(s.nextSibling),br=e,kt=!0,ls=null,t!==null&&(Br[$r++]=ri,Br[$r++]=si,Br[$r++]=qa,ri=t.id,si=t.overflow,qa=e),e=Lx(e,r.children),e.flags|=4096,e)}function eI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),d0(t.return,e,n)}function Dv(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function PN(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Xn(t,e,r.children,n),r=Lt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&eI(t,n,e);else if(t.tag===19)eI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Tt(Lt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&bm(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Dv(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&bm(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Dv(e,!0,n,null,i);break;case"together":Dv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function bi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Qa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=ko(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ko(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function f5(t,e,n){switch(e.tag){case 3:AN(e),Dc();break;case 5:nN(e);break;case 1:dr(e.type)&&wm(e);break;case 4:Ax(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Tt(Em,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Tt(Lt,Lt.current&1),e.flags|=128,null):n&e.child.childLanes?RN(t,e,n):(Tt(Lt,Lt.current&1),t=bi(t,e,n),t!==null?t.sibling:null);Tt(Lt,Lt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return PN(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Tt(Lt,Lt.current),r)break;return null;case 22:case 23:return e.lanes=0,IN(t,e,n)}return bi(t,e,n)}var NN,w0,kN,DN;NN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};w0=function(){};kN=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ca(Vs.current);var i=null;switch(n){case"input":s=Bw(t,s),r=Bw(t,r),i=[];break;case"select":s=Ft({},s,{value:void 0}),r=Ft({},r,{value:void 0}),i=[];break;case"textarea":s=Kw(t,s),r=Kw(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ym)}Hw(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(jd.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(jd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&At("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};DN=function(t,e,n,r){n!==r&&(e.flags|=4)};function Vu(t,e){if(!kt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function p5(t,e,n){var r=e.pendingProps;switch(xx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(e),null;case 1:return dr(e.type)&&vm(),kn(e),null;case 3:return r=e.stateNode,Oc(),Rt(ur),Rt(Bn),Px(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ls!==null&&(C0(ls),ls=null))),w0(t,e),kn(e),null;case 5:Rx(e);var s=Ca(Qd.current);if(n=e.type,t!==null&&e.stateNode!=null)kN(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return kn(e),null}if(t=Ca(Vs.current),Zf(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ns]=e,r[qd]=i,t=(e.mode&1)!==0,n){case"dialog":At("cancel",r),At("close",r);break;case"iframe":case"object":case"embed":At("load",r);break;case"video":case"audio":for(s=0;s<ed.length;s++)At(ed[s],r);break;case"source":At("error",r);break;case"img":case"image":case"link":At("error",r),At("load",r);break;case"details":At("toggle",r);break;case"input":cb(r,i),At("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},At("invalid",r);break;case"textarea":db(r,i),At("invalid",r)}Hw(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Jf(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Jf(r.textContent,a,t),s=["children",""+a]):jd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&At("scroll",r)}switch(n){case"input":Kf(r),ub(r,i,!0);break;case"textarea":Kf(r),hb(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ym)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=aP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ns]=e,t[qd]=r,NN(t,e,!1,!1),e.stateNode=t;e:{switch(o=qw(n,r),n){case"dialog":At("cancel",t),At("close",t),s=r;break;case"iframe":case"object":case"embed":At("load",t),s=r;break;case"video":case"audio":for(s=0;s<ed.length;s++)At(ed[s],t);s=r;break;case"source":At("error",t),s=r;break;case"img":case"image":case"link":At("error",t),At("load",t),s=r;break;case"details":At("toggle",t),s=r;break;case"input":cb(t,r),s=Bw(t,r),At("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ft({},r,{value:void 0}),At("invalid",t);break;case"textarea":db(t,r),s=Kw(t,r),At("invalid",t);break;default:s=r}Hw(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?uP(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lP(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Vd(t,l):typeof l=="number"&&Vd(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(jd.hasOwnProperty(i)?l!=null&&i==="onScroll"&&At("scroll",t):l!=null&&ox(t,i,l,o))}switch(n){case"input":Kf(t),ub(t,r,!1);break;case"textarea":Kf(t),hb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+jo(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?nc(t,!!r.multiple,i,!1):r.defaultValue!=null&&nc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ym)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kn(e),null;case 6:if(t&&e.stateNode!=null)DN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=Ca(Qd.current),Ca(Vs.current),Zf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ns]=e,(i=r.nodeValue!==n)&&(t=br,t!==null))switch(t.tag){case 3:Jf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Jf(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ns]=e,e.stateNode=r}return kn(e),null;case 13:if(Rt(Lt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(kt&&Tr!==null&&e.mode&1&&!(e.flags&128))XP(),Dc(),e.flags|=98560,i=!1;else if(i=Zf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(X(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(X(317));i[Ns]=e}else Dc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kn(e),i=!1}else ls!==null&&(C0(ls),ls=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Lt.current&1?dn===0&&(dn=3):$x())),e.updateQueue!==null&&(e.flags|=4),kn(e),null);case 4:return Oc(),w0(t,e),t===null&&Wd(e.stateNode.containerInfo),kn(e),null;case 10:return bx(e.type._context),kn(e),null;case 17:return dr(e.type)&&vm(),kn(e),null;case 19:if(Rt(Lt),i=e.memoizedState,i===null)return kn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Vu(i,!1);else{if(dn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=bm(t),o!==null){for(e.flags|=128,Vu(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Tt(Lt,Lt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Yt()>jc&&(e.flags|=128,r=!0,Vu(i,!1),e.lanes=4194304)}else{if(!r)if(t=bm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Vu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!kt)return kn(e),null}else 2*Yt()-i.renderingStartTime>jc&&n!==1073741824&&(e.flags|=128,r=!0,Vu(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Yt(),e.sibling=null,n=Lt.current,Tt(Lt,r?n&1|2:n&1),e):(kn(e),null);case 22:case 23:return Bx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?_r&1073741824&&(kn(e),e.subtreeFlags&6&&(e.flags|=8192)):kn(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function m5(t,e){switch(xx(e),e.tag){case 1:return dr(e.type)&&vm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Oc(),Rt(ur),Rt(Bn),Px(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Rx(e),null;case 13:if(Rt(Lt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));Dc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Rt(Lt),null;case 4:return Oc(),null;case 10:return bx(e.type._context),null;case 22:case 23:return Bx(),null;case 24:return null;default:return null}}var np=!1,jn=!1,g5=typeof WeakSet=="function"?WeakSet:Set,fe=null;function ql(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Kt(t,e,r)}else n.current=null}function _0(t,e,n){try{n()}catch(r){Kt(t,e,r)}}var tI=!1;function y5(t,e){if(r0=pm,t=VP(),wx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,p=null;t:for(;;){for(var g;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)p=d,d=g;for(;;){if(d===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++u===r&&(l=o),(g=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(s0={focusedElem:t,selectionRange:n},pm=!1,fe=e;fe!==null;)if(e=fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fe=t;else for(;fe!==null;){e=fe;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,x=w.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?v:ss(e.type,v),x);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(A){Kt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}return w=tI,tI=!1,w}function yd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&_0(e,n,i)}s=s.next}while(s!==r)}}function Ng(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function x0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function MN(t){var e=t.alternate;e!==null&&(t.alternate=null,MN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ns],delete e[qd],delete e[a0],delete e[Z$],delete e[e5])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ON(t){return t.tag===5||t.tag===3||t.tag===4}function nI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ON(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function E0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ym));else if(r!==4&&(t=t.child,t!==null))for(E0(t,e,n),t=t.sibling;t!==null;)E0(t,e,n),t=t.sibling}function T0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(T0(t,e,n),t=t.sibling;t!==null;)T0(t,e,n),t=t.sibling}var wn=null,os=!1;function Hi(t,e,n){for(n=n.child;n!==null;)LN(t,e,n),n=n.sibling}function LN(t,e,n){if(js&&typeof js.onCommitFiberUnmount=="function")try{js.onCommitFiberUnmount(Tg,n)}catch{}switch(n.tag){case 5:jn||ql(n,e);case 6:var r=wn,s=os;wn=null,Hi(t,e,n),wn=r,os=s,wn!==null&&(os?(t=wn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):wn.removeChild(n.stateNode));break;case 18:wn!==null&&(os?(t=wn,n=n.stateNode,t.nodeType===8?Iv(t.parentNode,n):t.nodeType===1&&Iv(t,n),$d(t)):Iv(wn,n.stateNode));break;case 4:r=wn,s=os,wn=n.stateNode.containerInfo,os=!0,Hi(t,e,n),wn=r,os=s;break;case 0:case 11:case 14:case 15:if(!jn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&_0(n,e,o),s=s.next}while(s!==r)}Hi(t,e,n);break;case 1:if(!jn&&(ql(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Kt(n,e,a)}Hi(t,e,n);break;case 21:Hi(t,e,n);break;case 22:n.mode&1?(jn=(r=jn)||n.memoizedState!==null,Hi(t,e,n),jn=r):Hi(t,e,n);break;default:Hi(t,e,n)}}function rI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new g5),e.forEach(function(r){var s=I5.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ns(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:wn=a.stateNode,os=!1;break e;case 3:wn=a.stateNode.containerInfo,os=!0;break e;case 4:wn=a.stateNode.containerInfo,os=!0;break e}a=a.return}if(wn===null)throw Error(X(160));LN(i,o,s),wn=null,os=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Kt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jN(e,t),e=e.sibling}function jN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ns(e,t),bs(t),r&4){try{yd(3,t,t.return),Ng(3,t)}catch(v){Kt(t,t.return,v)}try{yd(5,t,t.return)}catch(v){Kt(t,t.return,v)}}break;case 1:ns(e,t),bs(t),r&512&&n!==null&&ql(n,n.return);break;case 5:if(ns(e,t),bs(t),r&512&&n!==null&&ql(n,n.return),t.flags&32){var s=t.stateNode;try{Vd(s,"")}catch(v){Kt(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&iP(s,i),qw(a,o);var c=qw(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?uP(s,d):u==="dangerouslySetInnerHTML"?lP(s,d):u==="children"?Vd(s,d):ox(s,u,d,c)}switch(a){case"input":$w(s,i);break;case"textarea":oP(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?nc(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?nc(s,!!i.multiple,i.defaultValue,!0):nc(s,!!i.multiple,i.multiple?[]:"",!1))}s[qd]=i}catch(v){Kt(t,t.return,v)}}break;case 6:if(ns(e,t),bs(t),r&4){if(t.stateNode===null)throw Error(X(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Kt(t,t.return,v)}}break;case 3:if(ns(e,t),bs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$d(e.containerInfo)}catch(v){Kt(t,t.return,v)}break;case 4:ns(e,t),bs(t);break;case 13:ns(e,t),bs(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Fx=Yt())),r&4&&rI(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(jn=(c=jn)||u,ns(e,t),jn=c):ns(e,t),bs(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(fe=t,u=t.child;u!==null;){for(d=fe=u;fe!==null;){switch(p=fe,g=p.child,p.tag){case 0:case 11:case 14:case 15:yd(4,p,p.return);break;case 1:ql(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){Kt(r,n,v)}}break;case 5:ql(p,p.return);break;case 22:if(p.memoizedState!==null){iI(d);continue}}g!==null?(g.return=p,fe=g):iI(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=cP("display",o))}catch(v){Kt(t,t.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){Kt(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ns(e,t),bs(t),r&4&&rI(t);break;case 21:break;default:ns(e,t),bs(t)}}function bs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ON(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Vd(s,""),r.flags&=-33);var i=nI(t);T0(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=nI(t);E0(t,a,o);break;default:throw Error(X(161))}}catch(l){Kt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function v5(t,e,n){fe=t,VN(t)}function VN(t,e,n){for(var r=(t.mode&1)!==0;fe!==null;){var s=fe,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||np;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||jn;a=np;var c=jn;if(np=o,(jn=l)&&!c)for(fe=s;fe!==null;)o=fe,l=o.child,o.tag===22&&o.memoizedState!==null?oI(s):l!==null?(l.return=o,fe=l):oI(s);for(;i!==null;)fe=i,VN(i),i=i.sibling;fe=s,np=a,jn=c}sI(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,fe=i):sI(t)}}function sI(t){for(;fe!==null;){var e=fe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jn||Ng(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!jn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ss(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&$b(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}$b(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&$d(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}jn||e.flags&512&&x0(e)}catch(p){Kt(e,e.return,p)}}if(e===t){fe=null;break}if(n=e.sibling,n!==null){n.return=e.return,fe=n;break}fe=e.return}}function iI(t){for(;fe!==null;){var e=fe;if(e===t){fe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,fe=n;break}fe=e.return}}function oI(t){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ng(4,e)}catch(l){Kt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Kt(e,s,l)}}var i=e.return;try{x0(e)}catch(l){Kt(e,i,l)}break;case 5:var o=e.return;try{x0(e)}catch(l){Kt(e,o,l)}}}catch(l){Kt(e,e.return,l)}if(e===t){fe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,fe=a;break}fe=e.return}}var w5=Math.ceil,Am=Oi.ReactCurrentDispatcher,jx=Oi.ReactCurrentOwner,Wr=Oi.ReactCurrentBatchConfig,ot=0,gn=null,rn=null,Tn=0,_r=0,Gl=Jo(0),dn=0,Zd=null,Qa=0,kg=0,Vx=0,vd=null,lr=null,Fx=0,jc=1/0,ei=null,Rm=!1,S0=null,Po=null,rp=!1,xo=null,Pm=0,wd=0,b0=null,Vp=-1,Fp=0;function Zn(){return ot&6?Yt():Vp!==-1?Vp:Vp=Yt()}function No(t){return t.mode&1?ot&2&&Tn!==0?Tn&-Tn:n5.transition!==null?(Fp===0&&(Fp=EP()),Fp):(t=ht,t!==0||(t=window.event,t=t===void 0?16:RP(t.type)),t):1}function ps(t,e,n,r){if(50<wd)throw wd=0,b0=null,Error(X(185));jh(t,n,r),(!(ot&2)||t!==gn)&&(t===gn&&(!(ot&2)&&(kg|=n),dn===4&&ro(t,Tn)),hr(t,r),n===1&&ot===0&&!(e.mode&1)&&(jc=Yt()+500,Ag&&Zo()))}function hr(t,e){var n=t.callbackNode;n$(t,e);var r=fm(t,t===gn?Tn:0);if(r===0)n!==null&&mb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&mb(n),e===1)t.tag===0?t5(aI.bind(null,t)):GP(aI.bind(null,t)),X$(function(){!(ot&6)&&Zo()}),n=null;else{switch(TP(r)){case 1:n=dx;break;case 4:n=_P;break;case 16:n=hm;break;case 536870912:n=xP;break;default:n=hm}n=HN(n,FN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function FN(t,e){if(Vp=-1,Fp=0,ot&6)throw Error(X(327));var n=t.callbackNode;if(ac()&&t.callbackNode!==n)return null;var r=fm(t,t===gn?Tn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Nm(t,r);else{e=r;var s=ot;ot|=2;var i=BN();(gn!==t||Tn!==e)&&(ei=null,jc=Yt()+500,Ba(t,e));do try{E5();break}catch(a){UN(t,a)}while(!0);Sx(),Am.current=i,ot=s,rn!==null?e=0:(gn=null,Tn=0,e=dn)}if(e!==0){if(e===2&&(s=Jw(t),s!==0&&(r=s,e=I0(t,s))),e===1)throw n=Zd,Ba(t,0),ro(t,r),hr(t,Yt()),n;if(e===6)ro(t,r);else{if(s=t.current.alternate,!(r&30)&&!_5(s)&&(e=Nm(t,r),e===2&&(i=Jw(t),i!==0&&(r=i,e=I0(t,i))),e===1))throw n=Zd,Ba(t,0),ro(t,r),hr(t,Yt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:_a(t,lr,ei);break;case 3:if(ro(t,r),(r&130023424)===r&&(e=Fx+500-Yt(),10<e)){if(fm(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Zn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=o0(_a.bind(null,t,lr,ei),e);break}_a(t,lr,ei);break;case 4:if(ro(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-fs(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Yt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*w5(r/1960))-r,10<r){t.timeoutHandle=o0(_a.bind(null,t,lr,ei),r);break}_a(t,lr,ei);break;case 5:_a(t,lr,ei);break;default:throw Error(X(329))}}}return hr(t,Yt()),t.callbackNode===n?FN.bind(null,t):null}function I0(t,e){var n=vd;return t.current.memoizedState.isDehydrated&&(Ba(t,e).flags|=256),t=Nm(t,e),t!==2&&(e=lr,lr=n,e!==null&&C0(e)),t}function C0(t){lr===null?lr=t:lr.push.apply(lr,t)}function _5(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!gs(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ro(t,e){for(e&=~Vx,e&=~kg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fs(e),r=1<<n;t[n]=-1,e&=~r}}function aI(t){if(ot&6)throw Error(X(327));ac();var e=fm(t,0);if(!(e&1))return hr(t,Yt()),null;var n=Nm(t,e);if(t.tag!==0&&n===2){var r=Jw(t);r!==0&&(e=r,n=I0(t,r))}if(n===1)throw n=Zd,Ba(t,0),ro(t,e),hr(t,Yt()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_a(t,lr,ei),hr(t,Yt()),null}function Ux(t,e){var n=ot;ot|=1;try{return t(e)}finally{ot=n,ot===0&&(jc=Yt()+500,Ag&&Zo())}}function Ya(t){xo!==null&&xo.tag===0&&!(ot&6)&&ac();var e=ot;ot|=1;var n=Wr.transition,r=ht;try{if(Wr.transition=null,ht=1,t)return t()}finally{ht=r,Wr.transition=n,ot=e,!(ot&6)&&Zo()}}function Bx(){_r=Gl.current,Rt(Gl)}function Ba(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Y$(n)),rn!==null)for(n=rn.return;n!==null;){var r=n;switch(xx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vm();break;case 3:Oc(),Rt(ur),Rt(Bn),Px();break;case 5:Rx(r);break;case 4:Oc();break;case 13:Rt(Lt);break;case 19:Rt(Lt);break;case 10:bx(r.type._context);break;case 22:case 23:Bx()}n=n.return}if(gn=t,rn=t=ko(t.current,null),Tn=_r=e,dn=0,Zd=null,Vx=kg=Qa=0,lr=vd=null,Ia!==null){for(e=0;e<Ia.length;e++)if(n=Ia[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ia=null}return t}function UN(t,e){do{var n=rn;try{if(Sx(),Op.current=Cm,Im){for(var r=Vt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Im=!1}if(Ga=0,mn=an=Vt=null,gd=!1,Yd=0,jx.current=null,n===null||n.return===null){dn=1,Zd=e,rn=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Tn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=Gb(o);if(g!==null){g.flags&=-257,Qb(g,o,a,i,e),g.mode&1&&qb(i,c,e),e=g,l=c;var w=e.updateQueue;if(w===null){var v=new Set;v.add(l),e.updateQueue=v}else w.add(l);break e}else{if(!(e&1)){qb(i,c,e),$x();break e}l=Error(X(426))}}else if(kt&&a.mode&1){var x=Gb(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Qb(x,o,a,i,e),Ex(Lc(l,a));break e}}i=l=Lc(l,a),dn!==4&&(dn=2),vd===null?vd=[i]:vd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=TN(i,l,e);Bb(i,_);break e;case 1:a=l;var y=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Po===null||!Po.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=SN(i,a,e);Bb(i,A);break e}}i=i.return}while(i!==null)}zN(n)}catch(k){e=k,rn===n&&n!==null&&(rn=n=n.return);continue}break}while(!0)}function BN(){var t=Am.current;return Am.current=Cm,t===null?Cm:t}function $x(){(dn===0||dn===3||dn===2)&&(dn=4),gn===null||!(Qa&268435455)&&!(kg&268435455)||ro(gn,Tn)}function Nm(t,e){var n=ot;ot|=2;var r=BN();(gn!==t||Tn!==e)&&(ei=null,Ba(t,e));do try{x5();break}catch(s){UN(t,s)}while(!0);if(Sx(),ot=n,Am.current=r,rn!==null)throw Error(X(261));return gn=null,Tn=0,dn}function x5(){for(;rn!==null;)$N(rn)}function E5(){for(;rn!==null&&!qB();)$N(rn)}function $N(t){var e=WN(t.alternate,t,_r);t.memoizedProps=t.pendingProps,e===null?zN(t):rn=e,jx.current=null}function zN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=m5(n,e),n!==null){n.flags&=32767,rn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dn=6,rn=null;return}}else if(n=p5(n,e,_r),n!==null){rn=n;return}if(e=e.sibling,e!==null){rn=e;return}rn=e=t}while(e!==null);dn===0&&(dn=5)}function _a(t,e,n){var r=ht,s=Wr.transition;try{Wr.transition=null,ht=1,T5(t,e,n,r)}finally{Wr.transition=s,ht=r}return null}function T5(t,e,n,r){do ac();while(xo!==null);if(ot&6)throw Error(X(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(r$(t,i),t===gn&&(rn=gn=null,Tn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rp||(rp=!0,HN(hm,function(){return ac(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Wr.transition,Wr.transition=null;var o=ht;ht=1;var a=ot;ot|=4,jx.current=null,y5(t,n),jN(n,t),z$(s0),pm=!!r0,s0=r0=null,t.current=n,v5(n),GB(),ot=a,ht=o,Wr.transition=i}else t.current=n;if(rp&&(rp=!1,xo=t,Pm=s),i=t.pendingLanes,i===0&&(Po=null),XB(n.stateNode),hr(t,Yt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Rm)throw Rm=!1,t=S0,S0=null,t;return Pm&1&&t.tag!==0&&ac(),i=t.pendingLanes,i&1?t===b0?wd++:(wd=0,b0=t):wd=0,Zo(),null}function ac(){if(xo!==null){var t=TP(Pm),e=Wr.transition,n=ht;try{if(Wr.transition=null,ht=16>t?16:t,xo===null)var r=!1;else{if(t=xo,xo=null,Pm=0,ot&6)throw Error(X(331));var s=ot;for(ot|=4,fe=t.current;fe!==null;){var i=fe,o=i.child;if(fe.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(fe=c;fe!==null;){var u=fe;switch(u.tag){case 0:case 11:case 15:yd(8,u,i)}var d=u.child;if(d!==null)d.return=u,fe=d;else for(;fe!==null;){u=fe;var p=u.sibling,g=u.return;if(MN(u),u===c){fe=null;break}if(p!==null){p.return=g,fe=p;break}fe=g}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}fe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,fe=o;else e:for(;fe!==null;){if(i=fe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:yd(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,fe=_;break e}fe=i.return}}var y=t.current;for(fe=y;fe!==null;){o=fe;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,fe=S;else e:for(o=y;fe!==null;){if(a=fe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ng(9,a)}}catch(k){Kt(a,a.return,k)}if(a===o){fe=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,fe=A;break e}fe=a.return}}if(ot=s,Zo(),js&&typeof js.onPostCommitFiberRoot=="function")try{js.onPostCommitFiberRoot(Tg,t)}catch{}r=!0}return r}finally{ht=n,Wr.transition=e}}return!1}function lI(t,e,n){e=Lc(n,e),e=TN(t,e,1),t=Ro(t,e,1),e=Zn(),t!==null&&(jh(t,1,e),hr(t,e))}function Kt(t,e,n){if(t.tag===3)lI(t,t,n);else for(;e!==null;){if(e.tag===3){lI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Po===null||!Po.has(r))){t=Lc(n,t),t=SN(e,t,1),e=Ro(e,t,1),t=Zn(),e!==null&&(jh(e,1,t),hr(e,t));break}}e=e.return}}function S5(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zn(),t.pingedLanes|=t.suspendedLanes&n,gn===t&&(Tn&n)===n&&(dn===4||dn===3&&(Tn&130023424)===Tn&&500>Yt()-Fx?Ba(t,0):Vx|=n),hr(t,e)}function KN(t,e){e===0&&(t.mode&1?(e=qf,qf<<=1,!(qf&130023424)&&(qf=4194304)):e=1);var n=Zn();t=Si(t,e),t!==null&&(jh(t,e,n),hr(t,n))}function b5(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),KN(t,n)}function I5(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),KN(t,n)}var WN;WN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ur.current)cr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return cr=!1,f5(t,e,n);cr=!!(t.flags&131072)}else cr=!1,kt&&e.flags&1048576&&QP(e,xm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;jp(t,e),t=e.pendingProps;var s=kc(e,Bn.current);oc(e,n),s=kx(null,e,r,t,s,n);var i=Dx();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dr(r)?(i=!0,wm(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Cx(e),s.updater=Pg,e.stateNode=s,s._reactInternals=e,f0(e,r,t,n),e=g0(null,e,r,!0,i,n)):(e.tag=0,kt&&i&&_x(e),Xn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(jp(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=A5(r),t=ss(r,t),s){case 0:e=m0(null,e,r,t,n);break e;case 1:e=Jb(null,e,r,t,n);break e;case 11:e=Yb(null,e,r,t,n);break e;case 14:e=Xb(null,e,r,ss(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ss(r,s),m0(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ss(r,s),Jb(t,e,r,s,n);case 3:e:{if(AN(e),t===null)throw Error(X(387));r=e.pendingProps,i=e.memoizedState,s=i.element,tN(t,e),Sm(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Lc(Error(X(423)),e),e=Zb(t,e,r,n,s);break e}else if(r!==s){s=Lc(Error(X(424)),e),e=Zb(t,e,r,n,s);break e}else for(Tr=Ao(e.stateNode.containerInfo.firstChild),br=e,kt=!0,ls=null,n=ZP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dc(),r===s){e=bi(t,e,n);break e}Xn(t,e,r,n)}e=e.child}return e;case 5:return nN(e),t===null&&u0(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,i0(r,s)?o=null:i!==null&&i0(r,i)&&(e.flags|=32),CN(t,e),Xn(t,e,o,n),e.child;case 6:return t===null&&u0(e),null;case 13:return RN(t,e,n);case 4:return Ax(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Mc(e,null,r,n):Xn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ss(r,s),Yb(t,e,r,s,n);case 7:return Xn(t,e,e.pendingProps,n),e.child;case 8:return Xn(t,e,e.pendingProps.children,n),e.child;case 12:return Xn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Tt(Em,r._currentValue),r._currentValue=o,i!==null)if(gs(i.value,o)){if(i.children===s.children&&!ur.current){e=bi(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=hi(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),d0(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(X(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),d0(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Xn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,oc(e,n),s=Yr(s),r=r(s),e.flags|=1,Xn(t,e,r,n),e.child;case 14:return r=e.type,s=ss(r,e.pendingProps),s=ss(r.type,s),Xb(t,e,r,s,n);case 15:return bN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ss(r,s),jp(t,e),e.tag=1,dr(r)?(t=!0,wm(e)):t=!1,oc(e,n),EN(e,r,s),f0(e,r,s,n),g0(null,e,r,!0,t,n);case 19:return PN(t,e,n);case 22:return IN(t,e,n)}throw Error(X(156,e.tag))};function HN(t,e){return wP(t,e)}function C5(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(t,e,n,r){return new C5(t,e,n,r)}function zx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function A5(t){if(typeof t=="function")return zx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===lx)return 11;if(t===cx)return 14}return 2}function ko(t,e){var n=t.alternate;return n===null?(n=Kr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Up(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")zx(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Vl:return $a(n.children,s,i,e);case ax:o=8,s|=8;break;case jw:return t=Kr(12,n,e,s|2),t.elementType=jw,t.lanes=i,t;case Vw:return t=Kr(13,n,e,s),t.elementType=Vw,t.lanes=i,t;case Fw:return t=Kr(19,n,e,s),t.elementType=Fw,t.lanes=i,t;case nP:return Dg(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eP:o=10;break e;case tP:o=9;break e;case lx:o=11;break e;case cx:o=14;break e;case eo:o=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=Kr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function $a(t,e,n,r){return t=Kr(7,t,r,e),t.lanes=n,t}function Dg(t,e,n,r){return t=Kr(22,t,r,e),t.elementType=nP,t.lanes=n,t.stateNode={isHidden:!1},t}function Mv(t,e,n){return t=Kr(6,t,null,e),t.lanes=n,t}function Ov(t,e,n){return e=Kr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function R5(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mv(0),this.expirationTimes=mv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mv(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Kx(t,e,n,r,s,i,o,a,l){return t=new R5(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Kr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cx(i),t}function P5(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function qN(t){if(!t)return Vo;t=t._reactInternals;e:{if(ul(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(dr(n))return qP(t,n,e)}return e}function GN(t,e,n,r,s,i,o,a,l){return t=Kx(n,r,!0,t,s,i,o,a,l),t.context=qN(null),n=t.current,r=Zn(),s=No(n),i=hi(r,s),i.callback=e??null,Ro(n,i,s),t.current.lanes=s,jh(t,s,r),hr(t,r),t}function Mg(t,e,n,r){var s=e.current,i=Zn(),o=No(s);return n=qN(n),e.context===null?e.context=n:e.pendingContext=n,e=hi(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ro(s,e,o),t!==null&&(ps(t,s,o,i),Mp(t,s,o)),o}function km(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Wx(t,e){cI(t,e),(t=t.alternate)&&cI(t,e)}function N5(){return null}var QN=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hx(t){this._internalRoot=t}Og.prototype.render=Hx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));Mg(t,e,null,null)};Og.prototype.unmount=Hx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ya(function(){Mg(null,t,null,null)}),e[Ti]=null}};function Og(t){this._internalRoot=t}Og.prototype.unstable_scheduleHydration=function(t){if(t){var e=IP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<no.length&&e!==0&&e<no[n].priority;n++);no.splice(n,0,t),n===0&&AP(t)}};function qx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Lg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function uI(){}function k5(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=km(o);i.call(c)}}var o=GN(e,r,t,0,null,!1,!1,"",uI);return t._reactRootContainer=o,t[Ti]=o.current,Wd(t.nodeType===8?t.parentNode:t),Ya(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=km(l);a.call(c)}}var l=Kx(t,0,!1,null,null,!1,!1,"",uI);return t._reactRootContainer=l,t[Ti]=l.current,Wd(t.nodeType===8?t.parentNode:t),Ya(function(){Mg(e,l,n,r)}),l}function jg(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=km(o);a.call(l)}}Mg(e,o,t,s)}else o=k5(n,e,t,s,r);return km(o)}SP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zu(e.pendingLanes);n!==0&&(hx(e,n|1),hr(e,Yt()),!(ot&6)&&(jc=Yt()+500,Zo()))}break;case 13:Ya(function(){var r=Si(t,1);if(r!==null){var s=Zn();ps(r,t,1,s)}}),Wx(t,1)}};fx=function(t){if(t.tag===13){var e=Si(t,134217728);if(e!==null){var n=Zn();ps(e,t,134217728,n)}Wx(t,134217728)}};bP=function(t){if(t.tag===13){var e=No(t),n=Si(t,e);if(n!==null){var r=Zn();ps(n,t,e,r)}Wx(t,e)}};IP=function(){return ht};CP=function(t,e){var n=ht;try{return ht=t,e()}finally{ht=n}};Qw=function(t,e,n){switch(e){case"input":if($w(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Cg(r);if(!s)throw Error(X(90));sP(r),$w(r,s)}}}break;case"textarea":oP(t,n);break;case"select":e=n.value,e!=null&&nc(t,!!n.multiple,e,!1)}};fP=Ux;pP=Ya;var D5={usingClientEntryPoint:!1,Events:[Fh,$l,Cg,dP,hP,Ux]},Fu={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},M5={bundleType:Fu.bundleType,version:Fu.version,rendererPackageName:Fu.rendererPackageName,rendererConfig:Fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yP(t),t===null?null:t.stateNode},findFiberByHostInstance:Fu.findFiberByHostInstance||N5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sp.isDisabled&&sp.supportsFiber)try{Tg=sp.inject(M5),js=sp}catch{}}Pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D5;Pr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qx(e))throw Error(X(200));return P5(t,e,null,n)};Pr.createRoot=function(t,e){if(!qx(t))throw Error(X(299));var n=!1,r="",s=QN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Kx(t,1,!1,null,null,n,!1,r,s),t[Ti]=e.current,Wd(t.nodeType===8?t.parentNode:t),new Hx(e)};Pr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=yP(e),t=t===null?null:t.stateNode,t};Pr.flushSync=function(t){return Ya(t)};Pr.hydrate=function(t,e,n){if(!Lg(e))throw Error(X(200));return jg(null,t,e,!0,n)};Pr.hydrateRoot=function(t,e,n){if(!qx(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=QN;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=GN(e,null,t,1,n??null,s,!1,i,o),t[Ti]=e.current,Wd(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Og(e)};Pr.render=function(t,e,n){if(!Lg(e))throw Error(X(200));return jg(null,t,e,!1,n)};Pr.unmountComponentAtNode=function(t){if(!Lg(t))throw Error(X(40));return t._reactRootContainer?(Ya(function(){jg(null,null,t,!1,function(){t._reactRootContainer=null,t[Ti]=null})}),!0):!1};Pr.unstable_batchedUpdates=Ux;Pr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Lg(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return jg(t,e,n,!1,r)};Pr.version="18.3.1-next-f1338f8080-20240426";function YN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YN)}catch(t){console.error(t)}}YN(),YR.exports=Pr;var Li=YR.exports;const Bh=Z_(Li),O5=jR({__proto__:null,default:Bh},[Li]);var dI=Li;Ow.createRoot=dI.createRoot,Ow.hydrateRoot=dI.hydrateRoot;var hI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},L5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},JN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,d=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[u],n[d],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):L5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||d==null)throw new j5;const p=i<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),d!==64){const w=c<<6&192|d;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class j5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V5=function(t){const e=XN(t);return JN.encodeByteArray(e,!0)},Dm=function(t){return V5(t).replace(/\./g,"")},ZN=function(t){try{return JN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5=()=>F5().__FIREBASE_DEFAULTS__,B5=()=>{if(typeof process>"u"||typeof hI>"u")return;const t=hI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ZN(t[1]);return e&&JSON.parse(e)},Vg=()=>{try{return U5()||B5()||$5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ek=t=>{var e,n;return(n=(e=Vg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},tk=t=>{const e=ek(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},nk=()=>{var t;return(t=Vg())===null||t===void 0?void 0:t.config},rk=t=>{var e;return(e=Vg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z5=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Dm(JSON.stringify(n)),Dm(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function K5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($n())}function W5(){var t;const e=(t=Vg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function H5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ik(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function q5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function G5(){const t=$n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Q5(){return!W5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ok(){try{return typeof indexedDB=="object"}catch{return!1}}function ak(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function Y5(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5="FirebaseError";class kr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=X5,Object.setPrototypeOf(this,kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dl.prototype.create)}}class dl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?J5(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new kr(s,a,r)}}function J5(t,e){return t.replace(Z5,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Z5=/\{\$([^}]+)}/g;function e3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function eh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(fI(i)&&fI(o)){if(!eh(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function fI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function t3(t,e){const n=new n3(t,e);return n.subscribe.bind(n)}class n3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");r3(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Lv),s.error===void 0&&(s.error=Lv),s.complete===void 0&&(s.complete=Lv);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function r3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Lv(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=1e3,i3=2,o3=4*60*60*1e3,a3=.5;function pI(t,e=s3,n=i3){const r=e*Math.pow(n,t),s=Math.round(a3*r*(Math.random()-.5)*2);return Math.min(o3,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t){return t&&t._delegate?t._delegate:t}class Jr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l3=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new z5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(u3(e))try{this.getOrInitializeService({instanceIdentifier:xa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=xa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xa){return this.instances.has(e)}getOptions(e=xa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:c3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xa){return this.component?this.component.multipleInstances?e:xa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function c3(t){return t===xa?void 0:t}function u3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new l3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tt||(tt={}));const h3={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},f3=tt.INFO,p3={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},m3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=p3[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fg{constructor(e){this.name=e,this._logLevel=f3,this._logHandler=m3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?h3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const g3=(t,e)=>e.some(n=>t instanceof n);let mI,gI;function y3(){return mI||(mI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v3(){return gI||(gI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lk=new WeakMap,A0=new WeakMap,ck=new WeakMap,jv=new WeakMap,Gx=new WeakMap;function w3(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Do(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&lk.set(n,t)}).catch(()=>{}),Gx.set(e,t),e}function _3(t){if(A0.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});A0.set(t,e)}let R0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return A0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ck.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Do(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function x3(t){R0=t(R0)}function E3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Vv(this),e,...n);return ck.set(r,e.sort?e.sort():[e]),Do(r)}:v3().includes(t)?function(...e){return t.apply(Vv(this),e),Do(lk.get(this))}:function(...e){return Do(t.apply(Vv(this),e))}}function T3(t){return typeof t=="function"?E3(t):(t instanceof IDBTransaction&&_3(t),g3(t,y3())?new Proxy(t,R0):t)}function Do(t){if(t instanceof IDBRequest)return w3(t);if(jv.has(t))return jv.get(t);const e=T3(t);return e!==t&&(jv.set(t,e),Gx.set(e,t)),e}const Vv=t=>Gx.get(t);function uk(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Do(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Do(o.result),l.oldVersion,l.newVersion,Do(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const S3=["get","getKey","getAll","getAllKeys","count"],b3=["put","add","delete","clear"],Fv=new Map;function yI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fv.get(e))return Fv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=b3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||S3.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Fv.set(e,i),i}x3(t=>({...t,get:(e,n,r)=>yI(e,n)||t.get(e,n,r),has:(e,n)=>!!yI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(C3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function C3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const P0="@firebase/app",vI="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new Fg("@firebase/app"),A3="@firebase/app-compat",R3="@firebase/analytics-compat",P3="@firebase/analytics",N3="@firebase/app-check-compat",k3="@firebase/app-check",D3="@firebase/auth",M3="@firebase/auth-compat",O3="@firebase/database",L3="@firebase/database-compat",j3="@firebase/functions",V3="@firebase/functions-compat",F3="@firebase/installations",U3="@firebase/installations-compat",B3="@firebase/messaging",$3="@firebase/messaging-compat",z3="@firebase/performance",K3="@firebase/performance-compat",W3="@firebase/remote-config",H3="@firebase/remote-config-compat",q3="@firebase/storage",G3="@firebase/storage-compat",Q3="@firebase/firestore",Y3="@firebase/vertexai-preview",X3="@firebase/firestore-compat",J3="firebase",Z3="10.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="[DEFAULT]",ez={[P0]:"fire-core",[A3]:"fire-core-compat",[P3]:"fire-analytics",[R3]:"fire-analytics-compat",[k3]:"fire-app-check",[N3]:"fire-app-check-compat",[D3]:"fire-auth",[M3]:"fire-auth-compat",[O3]:"fire-rtdb",[L3]:"fire-rtdb-compat",[j3]:"fire-fn",[V3]:"fire-fn-compat",[F3]:"fire-iid",[U3]:"fire-iid-compat",[B3]:"fire-fcm",[$3]:"fire-fcm-compat",[z3]:"fire-perf",[K3]:"fire-perf-compat",[W3]:"fire-rc",[H3]:"fire-rc-compat",[q3]:"fire-gcs",[G3]:"fire-gcs-compat",[Q3]:"fire-fst",[X3]:"fire-fst-compat",[Y3]:"fire-vertex","fire-js":"fire-js",[J3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm=new Map,tz=new Map,k0=new Map;function wI(t,e){try{t.container.addComponent(e)}catch(n){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ys(t){const e=t.name;if(k0.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;k0.set(e,t);for(const n of Mm.values())wI(n,t);for(const n of tz.values())wI(n,t);return!0}function ea(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ii(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mo=new dl("app","Firebase",nz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=Z3;function dk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:N0,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Mo.create("bad-app-name",{appName:String(s)});if(n||(n=nk()),!n)throw Mo.create("no-options");const i=Mm.get(s);if(i){if(eh(n,i.options)&&eh(r,i.config))return i;throw Mo.create("duplicate-app",{appName:s})}const o=new d3(s);for(const l of k0.values())o.addComponent(l);const a=new rz(n,r,o);return Mm.set(s,a),a}function Ug(t=N0){const e=Mm.get(t);if(!e&&t===N0&&nk())return dk();if(!e)throw Mo.create("no-app",{appName:t});return e}function fr(t,e,n){var r;let s=(r=ez[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(a.join(" "));return}ys(new Jr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz="firebase-heartbeat-database",iz=1,th="firebase-heartbeat-store";let Uv=null;function hk(){return Uv||(Uv=uk(sz,iz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(th)}catch(n){console.warn(n)}}}}).catch(t=>{throw Mo.create("idb-open",{originalErrorMessage:t.message})})),Uv}async function oz(t){try{const n=(await hk()).transaction(th),r=await n.objectStore(th).get(fk(t));return await n.done,r}catch(e){if(e instanceof kr)Ii.warn(e.message);else{const n=Mo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ii.warn(n.message)}}}async function _I(t,e){try{const r=(await hk()).transaction(th,"readwrite");await r.objectStore(th).put(e,fk(t)),await r.done}catch(n){if(n instanceof kr)Ii.warn(n.message);else{const r=Mo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ii.warn(r.message)}}}function fk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const az=1024,lz=30*24*60*60*1e3;class cz{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dz(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=xI();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=lz}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ii.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xI(),{heartbeatsToSend:r,unsentEntries:s}=uz(this._heartbeatsCache.heartbeats),i=Dm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ii.warn(n),""}}}function xI(){return new Date().toISOString().substring(0,10)}function uz(t,e=az){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),EI(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),EI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ok()?ak().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oz(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return _I(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return _I(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function EI(t){return Dm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hz(t){ys(new Jr("platform-logger",e=>new I3(e),"PRIVATE")),ys(new Jr("heartbeat",e=>new cz(e),"PRIVATE")),fr(P0,vI,t),fr(P0,vI,"esm2017"),fr("fire-js","")}hz("");var ks=function(){return ks=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ks.apply(this,arguments)};function zh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function fz(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function pk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pz=pk,mk=new dl("auth","Firebase",pk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=new Fg("@firebase/auth");function mz(t,...e){Om.logLevel<=tt.WARN&&Om.warn(`Auth (${hl}): ${t}`,...e)}function Bp(t,...e){Om.logLevel<=tt.ERROR&&Om.error(`Auth (${hl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(t,...e){throw Qx(t,...e)}function Fs(t,...e){return Qx(t,...e)}function gk(t,e,n){const r=Object.assign(Object.assign({},pz()),{[e]:n});return new dl("auth","Firebase",r).create(e,{appName:t.name})}function Oo(t){return gk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return mk.create(t,...e)}function Pe(t,e,...n){if(!t)throw Qx(e,...n)}function oi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bp(e),new Error(e)}function Ai(t,e){t||oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function gz(){return TI()==="http:"||TI()==="https:"}function TI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gz()||ik()||"connection"in navigator)?navigator.onLine:!0}function vz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ai(n>e,"Short delay should be less than long delay!"),this.isMobile=K5()||q5()}get(){return yz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(t,e){Ai(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _z=new Kh(3e4,6e4);function Bg(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function nu(t,e,n,r,s={}){return vk(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=$h(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return H5()||(c.referrerPolicy="no-referrer"),yk.fetch()(_k(t,t.config.apiHost,n,a),c)})}async function vk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},wz),e);try{const s=new xz(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ip(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ip(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ip(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ip(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw gk(t,u,c);Ci(t,u)}}catch(s){if(s instanceof kr)throw s;Ci(t,"network-request-failed",{message:String(s)})}}async function wk(t,e,n,r,s={}){const i=await nu(t,e,n,r,s);return"mfaPendingCredential"in i&&Ci(t,"multi-factor-auth-required",{_serverResponse:i}),i}function _k(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Yx(t.config,s):`${t.config.apiScheme}://${s}`}class xz{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fs(this.auth,"network-request-failed")),_z.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ip(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Fs(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ez(t,e){return nu(t,"POST","/v1/accounts:delete",e)}async function xk(t,e){return nu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Tz(t,e=!1){const n=Jt(t),r=await n.getIdToken(e),s=Xx(r);Pe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:_d(Bv(s.auth_time)),issuedAtTime:_d(Bv(s.iat)),expirationTime:_d(Bv(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Bv(t){return Number(t)*1e3}function Xx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Bp("JWT malformed, contained fewer than 3 sections"),null;try{const s=ZN(n);return s?JSON.parse(s):(Bp("Failed to decode base64 JWT payload"),null)}catch(s){return Bp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function SI(t){const e=Xx(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof kr&&Sz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Sz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_d(this.lastLoginAt),this.creationTime=_d(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lm(t){var e;const n=t.auth,r=await t.getIdToken(),s=await nh(t,xk(n,{idToken:r}));Pe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Ek(i.providerUserInfo):[],a=Cz(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new M0(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function Iz(t){const e=Jt(t);await Lm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Cz(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Ek(t){return t.map(e=>{var{providerId:n}=e,r=zh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Az(t,e){const n=await vk(t,{},async()=>{const r=$h({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=_k(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",yk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Rz(t,e){return nu(t,"POST","/v2/accounts:revokeToken",Bg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=SI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Az(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new lc;return r&&(Pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Pe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Pe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lc,this.toJSON())}_performRefresh(){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ai{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=zh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new M0(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await nh(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Tz(this,e)}reload(){return Iz(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ai(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Lm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(Oo(this.auth));const e=await this.getIdToken();return await nh(this,Ez(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:S,emailVerified:A,isAnonymous:k,providerData:O,stsTokenManager:I}=n;Pe(S&&I,e,"internal-error");const T=lc.fromJSON(this.name,I);Pe(typeof S=="string",e,"internal-error"),qi(d,e.name),qi(p,e.name),Pe(typeof A=="boolean",e,"internal-error"),Pe(typeof k=="boolean",e,"internal-error"),qi(g,e.name),qi(w,e.name),qi(v,e.name),qi(x,e.name),qi(_,e.name),qi(y,e.name);const C=new ai({uid:S,auth:e,email:p,emailVerified:A,displayName:d,isAnonymous:k,photoURL:w,phoneNumber:g,tenantId:v,stsTokenManager:T,createdAt:_,lastLoginAt:y});return O&&Array.isArray(O)&&(C.providerData=O.map(R=>Object.assign({},R))),x&&(C._redirectEventId=x),C}static async _fromIdTokenResponse(e,n,r=!1){const s=new lc;s.updateFromServerResponse(n);const i=new ai({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Lm(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Pe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Ek(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new lc;a.updateFromIdToken(r);const l=new ai({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new M0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=new Map;function li(t){Ai(t instanceof Function,"Expected a class definition");let e=bI.get(t);return e?(Ai(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Tk.type="NONE";const II=Tk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(t,e,n){return`firebase:${t}:${e}:${n}`}class cc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=$p(this.userKey,s.apiKey,i),this.fullPersistenceKey=$p("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ai._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new cc(li(II),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||li(II);const o=$p(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=ai._fromJSON(e,u);c!==i&&(a=d),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new cc(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new cc(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ck(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Sk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Rk(e))return"Blackberry";if(Pk(e))return"Webos";if(bk(e))return"Safari";if((e.includes("chrome/")||Ik(e))&&!e.includes("edge/"))return"Chrome";if(Ak(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Sk(t=$n()){return/firefox\//i.test(t)}function bk(t=$n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ik(t=$n()){return/crios\//i.test(t)}function Ck(t=$n()){return/iemobile/i.test(t)}function Ak(t=$n()){return/android/i.test(t)}function Rk(t=$n()){return/blackberry/i.test(t)}function Pk(t=$n()){return/webos/i.test(t)}function Jx(t=$n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Pz(t=$n()){var e;return Jx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Nz(){return G5()&&document.documentMode===10}function Nk(t=$n()){return Jx(t)||Ak(t)||Pk(t)||Rk(t)||/windows phone/i.test(t)||Ck(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t,e=[]){let n;switch(t){case"Browser":n=CI($n());break;case"Worker":n=`${CI($n())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${hl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dz(t,e={}){return nu(t,"GET","/v2/passwordPolicy",Bg(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz=6;class Oz{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Mz,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AI(this),this.idTokenSubscription=new AI(this),this.beforeStateQueue=new kz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=li(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await cc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xk(this,{idToken:e}),r=await ai._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ii(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(Oo(this));const n=e?Jt(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(Oo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(Oo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Dz(this),n=new Oz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new dl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Rz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&li(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await cc.create(this,[li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&mz(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $g(t){return Jt(t)}class AI{constructor(e){this.auth=e,this.observer=null,this.addObserver=t3(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jz(t){Zx=t}function Vz(t){return Zx.loadJS(t)}function Fz(){return Zx.gapiScript}function Uz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bz(t,e){const n=ea(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(eh(i,e??{}))return s;Ci(s,"already-initialized")}return n.initialize({options:e})}function $z(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(li);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function zz(t,e,n){const r=$g(t);Pe(r._canInitEmulator,r,"emulator-config-failed"),Pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=Dk(e),{host:o,port:a}=Kz(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),Wz()}function Dk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Kz(t){const e=Dk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:RI(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:RI(o)}}}function RI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Wz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return oi("not implemented")}_getIdTokenResponse(e){return oi("not implemented")}_linkToIdToken(e,n){return oi("not implemented")}_getReauthenticationResolver(e){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(t,e){return wk(t,"POST","/v1/accounts:signInWithIdp",Bg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz="http://localhost";class Xa extends Mk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=zh(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Xa(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return uc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,uc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uc(e,n)}buildRequest(){const e={requestUri:Hz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$h(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh extends Ok{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends Wh{constructor(){super("facebook.com")}static credential(e){return Xa._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return so.credential(e.oauthAccessToken)}catch{return null}}}so.FACEBOOK_SIGN_IN_METHOD="facebook.com";so.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends Wh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xa._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return io.credential(n,r)}catch{return null}}}io.GOOGLE_SIGN_IN_METHOD="google.com";io.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends Wh{constructor(){super("github.com")}static credential(e){return Xa._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.GITHUB_SIGN_IN_METHOD="github.com";oo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends Wh{constructor(){super("twitter.com")}static credential(e,n){return Xa._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ao.credential(n,r)}catch{return null}}}ao.TWITTER_SIGN_IN_METHOD="twitter.com";ao.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qz(t,e){return wk(t,"POST","/v1/accounts:signUp",Bg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ai._fromIdTokenResponse(e,r,s),o=PI(r);return new Fo({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=PI(r);return new Fo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function PI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gz(t){var e;if(ii(t.app))return Promise.reject(Oo(t));const n=$g(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Fo({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await qz(n,{returnSecureToken:!0}),s=await Fo._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm extends kr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,jm.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new jm(e,n,r,s)}}function Lk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?jm._fromErrorAndOperation(t,i,e,r):i})}async function Qz(t,e,n=!1){const r=await nh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yz(t,e,n=!1){const{auth:r}=t;if(ii(r.app))return Promise.reject(Oo(r));const s="reauthenticate";try{const i=await nh(t,Lk(r,s,e,t),n);Pe(i.idToken,r,"internal-error");const o=Xx(i.idToken);Pe(o,r,"internal-error");const{sub:a}=o;return Pe(t.uid===a,r,"user-mismatch"),Fo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Ci(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xz(t,e,n=!1){if(ii(t.app))return Promise.reject(Oo(t));const r="signIn",s=await Lk(t,r,e),i=await Fo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function Jz(t,e,n,r){return Jt(t).onIdTokenChanged(e,n,r)}function Zz(t,e,n){return Jt(t).beforeAuthStateChanged(e,n)}const Vm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vm,"1"),this.storage.removeItem(Vm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=1e3,t6=10;class Vk extends jk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Nk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Nz()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,t6):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},e6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Vk.type="LOCAL";const n6=Vk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk extends jk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Fk.type="SESSION";const Uk=Fk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new zg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await r6(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=eE("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const p=d;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(){return window}function i6(t){Us().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(){return typeof Us().WorkerGlobalScope<"u"&&typeof Us().importScripts=="function"}async function o6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function a6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function l6(){return Bk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k="firebaseLocalStorageDb",c6=1,Fm="firebaseLocalStorage",zk="fbase_key";class Hh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kg(t,e){return t.transaction([Fm],e?"readwrite":"readonly").objectStore(Fm)}function u6(){const t=indexedDB.deleteDatabase($k);return new Hh(t).toPromise()}function O0(){const t=indexedDB.open($k,c6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Fm,{keyPath:zk})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Fm)?e(r):(r.close(),await u6(),e(await O0()))})})}async function NI(t,e,n){const r=Kg(t,!0).put({[zk]:e,value:n});return new Hh(r).toPromise()}async function d6(t,e){const n=Kg(t,!1).get(e),r=await new Hh(n).toPromise();return r===void 0?null:r.value}function kI(t,e){const n=Kg(t,!0).delete(e);return new Hh(n).toPromise()}const h6=800,f6=3;class Kk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await O0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>f6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Bk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zg._getInstance(l6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await o6(),!this.activeServiceWorker)return;this.sender=new s6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||a6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await O0();return await NI(e,Vm,"1"),await kI(e,Vm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>NI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>d6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Kg(s,!1).getAll();return new Hh(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),h6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Kk.type="LOCAL";const p6=Kk;new Kh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(t,e){return e?li(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE extends Mk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function g6(t){return Xz(t.auth,new tE(t),t.bypassAuthState)}function y6(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),Yz(n,new tE(t),t.bypassAuthState)}async function v6(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),Qz(n,new tE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return g6;case"linkViaPopup":case"linkViaRedirect":return v6;case"reauthViaPopup":case"reauthViaRedirect":return y6;default:Ci(this.auth,"internal-error")}}resolve(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=new Kh(2e3,1e4);class Ql extends Wk{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ql.currentPopupAction&&Ql.currentPopupAction.cancel(),Ql.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){Ai(this.filter.length===1,"Popup operations only handle one event");const e=eE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ql.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,w6.get())};e()}}Ql.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6="pendingRedirect",zp=new Map;class x6 extends Wk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zp.get(this.auth._key());if(!e){try{const r=await E6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zp.set(this.auth._key(),e)}return this.bypassAuthState||zp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function E6(t,e){const n=b6(e),r=S6(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function T6(t,e){zp.set(t._key(),e)}function S6(t){return li(t._redirectPersistence)}function b6(t){return $p(_6,t.config.apiKey,t.name)}async function I6(t,e,n=!1){if(ii(t.app))return Promise.reject(Oo(t));const r=$g(t),s=m6(r,e),o=await new x6(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=10*60*1e3;class A6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!R6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Hk(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=C6&&this.cachedEventUids.clear(),this.cachedEventUids.has(DI(e))}saveEventToCache(e){this.cachedEventUids.add(DI(e)),this.lastProcessedEventTime=Date.now()}}function DI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Hk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function R6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P6(t,e={}){return nu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,k6=/^https?/;async function D6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await P6(t);for(const n of e)try{if(M6(n))return}catch{}Ci(t,"unauthorized-domain")}function M6(t){const e=D0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!k6.test(n))return!1;if(N6.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6=new Kh(3e4,6e4);function MI(){const t=Us().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function L6(t){return new Promise((e,n)=>{var r,s,i;function o(){MI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{MI(),n(Fs(t,"network-request-failed"))},timeout:O6.get()})}if(!((s=(r=Us().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Us().gapi)===null||i===void 0)&&i.load)o();else{const a=Uz("iframefcb");return Us()[a]=()=>{gapi.load?o():n(Fs(t,"network-request-failed"))},Vz(`${Fz()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Kp=null,e})}let Kp=null;function j6(t){return Kp=Kp||L6(t),Kp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6=new Kh(5e3,15e3),F6="__/auth/iframe",U6="emulator/auth/iframe",B6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function z6(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Yx(e,U6):`https://${t.config.authDomain}/${F6}`,r={apiKey:e.apiKey,appName:t.name,v:hl},s=$6.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${$h(r).slice(1)}`}async function K6(t){const e=await j6(t),n=Us().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:z6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:B6,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Fs(t,"network-request-failed"),a=Us().setTimeout(()=>{i(o)},V6.get());function l(){Us().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},H6=500,q6=600,G6="_blank",Q6="http://localhost";class OI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Y6(t,e,n,r=H6,s=q6){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},W6),{width:r.toString(),height:s.toString(),top:i,left:o}),c=$n().toLowerCase();n&&(a=Ik(c)?G6:n),Sk(c)&&(e=e||Q6,l.scrollbars="yes");const u=Object.entries(l).reduce((p,[g,w])=>`${p}${g}=${w},`,"");if(Pz(c)&&a!=="_self")return X6(e||"",a),new OI(null);const d=window.open(e||"",a,u);Pe(d,t,"popup-blocked");try{d.focus()}catch{}return new OI(d)}function X6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6="__/auth/handler",Z6="emulator/auth/handler",e9=encodeURIComponent("fac");async function LI(t,e,n,r,s,i){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:hl,eventId:s};if(e instanceof Ok){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",e3(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof Wh){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${e9}=${encodeURIComponent(l)}`:"";return`${t9(t)}?${$h(a).slice(1)}${c}`}function t9({config:t}){return t.emulator?Yx(t,Z6):`https://${t.authDomain}/${J6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="webStorageSupport";class n9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Uk,this._completeRedirectFn=I6,this._overrideRedirectResult=T6}async _openPopup(e,n,r,s){var i;Ai((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await LI(e,n,r,D0(),s);return Y6(e,o,eE())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await LI(e,n,r,D0(),s);return i6(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ai(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await K6(e),r=new A6(e);return n.register("authEvent",s=>(Pe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($v,{type:$v},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[$v];o!==void 0&&n(!!o),Ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=D6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Nk()||bk()||Jx()}}const r9=n9;var jI="@firebase/auth",VI="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function o9(t){ys(new Jr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kk(t)},c=new Lz(r,s,i,l);return $z(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ys(new Jr("auth-internal",e=>{const n=$g(e.getProvider("auth").getImmediate());return(r=>new s9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fr(jI,VI,i9(t)),fr(jI,VI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9=5*60,l9=rk("authIdTokenMaxAge")||a9;let FI=null;const c9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>l9)return;const s=n==null?void 0:n.token;FI!==s&&(FI=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function u9(t=Ug()){const e=ea(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Bz(t,{popupRedirectResolver:r9,persistence:[p6,n6,Uk]}),r=rk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=c9(i.toString());Zz(n,o,()=>o(n.currentUser)),Jz(n,a=>o(a))}}const s=ek("auth");return s&&zz(n,`http://${s}`),n}function d9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}jz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Fs("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",d9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});o9("Browser");const gt=(t,e=!1)=>{};var h9={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",VITE_FIREBASE_MEASUREMENT_ID:"G-65F7KP2KRQ",VITE_SUPER_ADMIN_ID:"672ca434f2191d3bb7606f0d",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const UI=t=>{let e;const n=new Set,r=(u,d)=>{const p=typeof u=="function"?u(e):u;if(!Object.is(p,e)){const g=e;e=d??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(w=>w(e,g))}},s=()=>e,l={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(h9?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,s,l);return l},f9=t=>t?UI(t):UI;var qk={exports:{}},Gk={},Qk={exports:{}},Yk={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vc=m;function p9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var m9=typeof Object.is=="function"?Object.is:p9,g9=Vc.useState,y9=Vc.useEffect,v9=Vc.useLayoutEffect,w9=Vc.useDebugValue;function _9(t,e){var n=e(),r=g9({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return v9(function(){s.value=n,s.getSnapshot=e,zv(s)&&i({inst:s})},[t,n,e]),y9(function(){return zv(s)&&i({inst:s}),t(function(){zv(s)&&i({inst:s})})},[t]),w9(n),n}function zv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!m9(t,n)}catch{return!0}}function x9(t,e){return e()}var E9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?x9:_9;Yk.useSyncExternalStore=Vc.useSyncExternalStore!==void 0?Vc.useSyncExternalStore:E9;Qk.exports=Yk;var T9=Qk.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg=m,S9=T9;function b9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var I9=typeof Object.is=="function"?Object.is:b9,C9=S9.useSyncExternalStore,A9=Wg.useRef,R9=Wg.useEffect,P9=Wg.useMemo,N9=Wg.useDebugValue;Gk.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=A9(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=P9(function(){function l(g){if(!c){if(c=!0,u=g,g=r(g),s!==void 0&&o.hasValue){var w=o.value;if(s(w,g))return d=w}return d=g}if(w=d,I9(u,g))return w;var v=r(g);return s!==void 0&&s(w,v)?w:(u=g,d=v)}var c=!1,u,d,p=n===void 0?null:n;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,n,r,s]);var a=C9(t,i[0],i[1]);return R9(function(){o.hasValue=!0,o.value=a},[a]),N9(a),a};qk.exports=Gk;var k9=qk.exports;const D9=Z_(k9);var Xk={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",VITE_FIREBASE_MEASUREMENT_ID:"G-65F7KP2KRQ",VITE_SUPER_ADMIN_ID:"672ca434f2191d3bb7606f0d",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:M9}=Ke,{useSyncExternalStoreWithSelector:O9}=D9;let BI=!1;const L9=t=>t;function j9(t,e=L9,n){(Xk?"production":void 0)!=="production"&&n&&!BI&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),BI=!0);const r=O9(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return M9(r),r}const $I=t=>{(Xk?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?f9(t):t,n=(r,s)=>j9(e,r,s);return Object.assign(n,e),n},ji=t=>t?$I(t):$I;var V9={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",VITE_FIREBASE_MEASUREMENT_ID:"G-65F7KP2KRQ",VITE_SUPER_ADMIN_ID:"672ca434f2191d3bb7606f0d",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function nE(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=l=>l===null?null:JSON.parse(l,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const rh=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return rh(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return rh(r)(n)}}}},F9=(t,e)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:x=>x,version:0,merge:(x,_)=>({..._,...x}),...e},o=!1;const a=new Set,l=new Set;let c;try{c=i.getStorage()}catch{}if(!c)return t((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...x)},r,s);const u=rh(i.serialize),d=()=>{const x=i.partialize({...r()});let _;const y=u({state:x,version:i.version}).then(S=>c.setItem(i.name,S)).catch(S=>{_=S});if(_)throw _;return y},p=s.setState;s.setState=(x,_)=>{p(x,_),d()};const g=t((...x)=>{n(...x),d()},r,s);let w;const v=()=>{var x;if(!c)return;o=!1,a.forEach(y=>y(r()));const _=((x=i.onRehydrateStorage)==null?void 0:x.call(i,r()))||void 0;return rh(c.getItem.bind(c))(i.name).then(y=>{if(y)return i.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return i.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var S;return w=i.merge(y,(S=r())!=null?S:g),n(w,!0),d()}).then(()=>{_==null||_(w,void 0),o=!0,l.forEach(y=>y(w))}).catch(y=>{_==null||_(void 0,y)})};return s.persist={setOptions:x=>{i={...i,...x},x.getStorage&&(c=x.getStorage())},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:x=>(a.add(x),()=>{a.delete(x)}),onFinishHydration:x=>(l.add(x),()=>{l.delete(x)})},v(),w||g},U9=(t,e)=>(n,r,s)=>{let i={storage:nE(()=>localStorage),partialize:v=>v,version:0,merge:(v,x)=>({...x,...v}),...e},o=!1;const a=new Set,l=new Set;let c=i.storage;if(!c)return t((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...v)},r,s);const u=()=>{const v=i.partialize({...r()});return c.setItem(i.name,{state:v,version:i.version})},d=s.setState;s.setState=(v,x)=>{d(v,x),u()};const p=t((...v)=>{n(...v),u()},r,s);s.getInitialState=()=>p;let g;const w=()=>{var v,x;if(!c)return;o=!1,a.forEach(y=>{var S;return y((S=r())!=null?S:p)});const _=((x=i.onRehydrateStorage)==null?void 0:x.call(i,(v=r())!=null?v:p))||void 0;return rh(c.getItem.bind(c))(i.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return[!0,i.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var S;const[A,k]=y;if(g=i.merge(k,(S=r())!=null?S:p),n(g,!0),A)return u()}).then(()=>{_==null||_(g,void 0),g=r(),o=!0,l.forEach(y=>y(g))}).catch(y=>{_==null||_(void 0,y)})};return s.persist={setOptions:v=>{i={...i,...v},v.storage&&(c=v.storage)},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:v=>(a.add(v),()=>{a.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},i.skipHydration||w(),g||p},B9=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((V9?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),F9(t,e)):U9(t,e),Jk=B9,Pt=ji()(Jk(t=>({admin:null,isAuth:!1,accessToken:null,setAccessToken:e=>t({accessToken:e}),login:(e,n)=>t({isAuth:!0,accessToken:e,admin:n}),logout:()=>t({isAuth:!1,accessToken:null,admin:null})}),{name:"auth-storage",storage:nE(()=>localStorage)}));/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ot(){return Ot=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ot.apply(this,arguments)}var nn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(nn||(nn={}));const zI="popstate";function $9(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return sh("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ja(s)}return K9(e,n,null,t)}function We(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function z9(){return Math.random().toString(36).substr(2,8)}function KI(t,e){return{usr:t.state,key:t.key,idx:e}}function sh(t,e,n,r){return n===void 0&&(n=null),Ot({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ta(e):e,{state:n,key:e&&e.key||r||z9()})}function Ja(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ta(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function K9(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=nn.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Ot({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=nn.Pop;let x=u(),_=x==null?null:x-c;c=x,l&&l({action:a,location:v.location,delta:_})}function p(x,_){a=nn.Push;let y=sh(v.location,x,_);c=u()+1;let S=KI(y,c),A=v.createHref(y);try{o.pushState(S,"",A)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(A)}i&&l&&l({action:a,location:v.location,delta:1})}function g(x,_){a=nn.Replace;let y=sh(v.location,x,_);c=u();let S=KI(y,c),A=v.createHref(y);o.replaceState(S,"",A),i&&l&&l({action:a,location:v.location,delta:0})}function w(x){let _=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof x=="string"?x:Ja(x);return y=y.replace(/ $/,"%20"),We(_,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,_)}let v={get action(){return a},get location(){return t(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(zI,d),l=x,()=>{s.removeEventListener(zI,d),l=null}},createHref(x){return e(s,x)},createURL:w,encodeLocation(x){let _=w(x);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:g,go(x){return o.go(x)}};return v}var pt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(pt||(pt={}));const W9=new Set(["lazy","caseSensitive","path","id","index","children"]);function H9(t){return t.index===!0}function ih(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((s,i)=>{let o=[...n,String(i)],a=typeof s.id=="string"?s.id:o.join("-");if(We(s.index!==!0||!s.children,"Cannot specify children on an index route"),We(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),H9(s)){let l=Ot({},s,e(s),{id:a});return r[a]=l,l}else{let l=Ot({},s,e(s),{id:a,children:void 0});return r[a]=l,s.children&&(l.children=ih(s.children,e,o,r)),l}})}function Sa(t,e,n){return n===void 0&&(n="/"),Wp(t,e,n,!1)}function Wp(t,e,n,r){let s=typeof e=="string"?ta(e):e,i=ru(s.pathname||"/",n);if(i==null)return null;let o=Zk(t);G9(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=iK(i);a=rK(o[l],c,r)}return a}function q9(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function Zk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(We(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=fi([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(We(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Zk(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:tK(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of eD(i.path))s(i,o,l)}),e}function eD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=eD(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function G9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:nK(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Q9=/^:[\w-]+$/,Y9=3,X9=2,J9=1,Z9=10,eK=-2,WI=t=>t==="*";function tK(t,e){let n=t.split("/"),r=n.length;return n.some(WI)&&(r+=eK),e&&(r+=X9),n.filter(s=>!WI(s)).reduce((s,i)=>s+(Q9.test(i)?Y9:i===""?J9:Z9),r)}function nK(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function rK(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=HI({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=HI({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:fi([i,d.pathname]),pathnameBase:lK(fi([i,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(i=fi([i,d.pathnameBase]))}return o}function HI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=sK(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:p,isOptional:g}=u;if(p==="*"){let v=a[d]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const w=a[d];return g&&!w?c[p]=void 0:c[p]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function sK(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Fc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function iK(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ru(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function oK(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ta(t):t;return{pathname:n?n.startsWith("/")?n:aK(n,e):e,search:cK(r),hash:uK(s)}}function aK(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Kv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hg(t,e){let n=tD(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function qg(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ta(t):(s=Ot({},t),We(!s.pathname||!s.pathname.includes("?"),Kv("?","pathname","search",s)),We(!s.pathname||!s.pathname.includes("#"),Kv("#","pathname","hash",s)),We(!s.search||!s.search.includes("#"),Kv("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;s.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=oK(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const fi=t=>t.join("/").replace(/\/\/+/g,"/"),lK=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cK=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uK=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Um{constructor(e,n,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function qh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const nD=["post","put","patch","delete"],dK=new Set(nD),hK=["get",...nD],fK=new Set(hK),pK=new Set([301,302,303,307,308]),mK=new Set([307,308]),Wv={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},gK={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Uu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},rE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yK=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),rD="remix-router-transitions";function vK(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;We(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let j=t.detectErrorBoundary;s=F=>({hasErrorBoundary:j(F)})}else s=yK;let i={},o=ih(t.routes,s,void 0,i),a,l=t.basename||"/",c=t.unstable_dataStrategy||SK,u=t.unstable_patchRoutesOnNavigation,d=Ot({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),p=null,g=new Set,w=1e3,v=new Set,x=null,_=null,y=null,S=t.hydrationData!=null,A=Sa(o,t.history.location,l),k=null;if(A==null&&!u){let j=Yn(404,{pathname:t.history.location.pathname}),{matches:F,route:K}=tC(o);A=F,k={[K.id]:j}}A&&!t.hydrationData&&Zt(A,o,t.history.location.pathname).active&&(A=null);let O;if(A)if(A.some(j=>j.route.lazy))O=!1;else if(!A.some(j=>j.route.loader))O=!0;else if(d.v7_partialHydration){let j=t.hydrationData?t.hydrationData.loaderData:null,F=t.hydrationData?t.hydrationData.errors:null,K=G=>G.route.loader?typeof G.route.loader=="function"&&G.route.loader.hydrate===!0?!1:j&&j[G.route.id]!==void 0||F&&F[G.route.id]!==void 0:!0;if(F){let G=A.findIndex(ue=>F[ue.route.id]!==void 0);O=A.slice(0,G+1).every(K)}else O=A.every(K)}else O=t.hydrationData!=null;else if(O=!1,A=[],d.v7_partialHydration){let j=Zt(null,o,t.history.location.pathname);j.active&&j.matches&&(A=j.matches)}let I,T={historyAction:t.history.action,location:t.history.location,matches:A,initialized:O,navigation:Wv,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||k,fetchers:new Map,blockers:new Map},C=nn.Pop,R=!1,M,D=!1,N=new Map,H=null,ae=!1,te=!1,ne=[],z=new Set,B=new Map,Z=0,pe=-1,Te=new Map,Re=new Set,Je=new Map,wt=new Map,qe=new Set,ce=new Map,Ve=new Map,rt=new Map,Fe;function ze(){if(p=t.history.listen(j=>{let{action:F,location:K,delta:G}=j;if(Fe){Fe(),Fe=void 0;return}Fc(Ve.size===0||G!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ue=Tl({currentLocation:T.location,nextLocation:K,historyAction:F});if(ue&&G!=null){let xe=new Promise(Ce=>{Fe=Ce});t.history.go(G*-1),Ss(ue,{state:"blocked",location:K,proceed(){Ss(ue,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),xe.then(()=>t.history.go(G))},reset(){let Ce=new Map(T.blockers);Ce.set(ue,Uu),st({blockers:Ce})}});return}return L(F,K)}),n){FK(e,N);let j=()=>UK(e,N);e.addEventListener("pagehide",j),H=()=>e.removeEventListener("pagehide",j)}return T.initialized||L(nn.Pop,T.location,{initialHydration:!0}),I}function Qe(){p&&p(),H&&H(),g.clear(),M&&M.abort(),T.fetchers.forEach((j,F)=>Ts(F)),T.blockers.forEach((j,F)=>xu(F))}function Bt(j){return g.add(j),()=>g.delete(j)}function st(j,F){F===void 0&&(F={}),T=Ot({},T,j);let K=[],G=[];d.v7_fetcherPersist&&T.fetchers.forEach((ue,xe)=>{ue.state==="idle"&&(qe.has(xe)?G.push(xe):K.push(xe))}),[...g].forEach(ue=>ue(T,{deletedFetchers:G,unstable_viewTransitionOpts:F.viewTransitionOpts,unstable_flushSync:F.flushSync===!0})),d.v7_fetcherPersist&&(K.forEach(ue=>T.fetchers.delete(ue)),G.forEach(ue=>Ts(ue)))}function yn(j,F,K){var G,ue;let{flushSync:xe}=K===void 0?{}:K,Ce=T.actionData!=null&&T.navigation.formMethod!=null&&as(T.navigation.formMethod)&&T.navigation.state==="loading"&&((G=j.state)==null?void 0:G._isRedirect)!==!0,se;F.actionData?Object.keys(F.actionData).length>0?se=F.actionData:se=null:Ce?se=T.actionData:se=null;let ve=F.loaderData?ZI(T.loaderData,F.loaderData,F.matches||[],F.errors):T.loaderData,me=T.blockers;me.size>0&&(me=new Map(me),me.forEach((it,ft)=>me.set(ft,Uu)));let ye=R===!0||T.navigation.formMethod!=null&&as(T.navigation.formMethod)&&((ue=j.state)==null?void 0:ue._isRedirect)!==!0;a&&(o=a,a=void 0),ae||C===nn.Pop||(C===nn.Push?t.history.push(j,j.state):C===nn.Replace&&t.history.replace(j,j.state));let Ze;if(C===nn.Pop){let it=N.get(T.location.pathname);it&&it.has(j.pathname)?Ze={currentLocation:T.location,nextLocation:j}:N.has(j.pathname)&&(Ze={currentLocation:j,nextLocation:T.location})}else if(D){let it=N.get(T.location.pathname);it?it.add(j.pathname):(it=new Set([j.pathname]),N.set(T.location.pathname,it)),Ze={currentLocation:T.location,nextLocation:j}}st(Ot({},F,{actionData:se,loaderData:ve,historyAction:C,location:j,initialized:!0,navigation:Wv,revalidation:"idle",restoreScrollPosition:Tu(j,F.matches||T.matches),preventScrollReset:ye,blockers:me}),{viewTransitionOpts:Ze,flushSync:xe===!0}),C=nn.Pop,R=!1,D=!1,ae=!1,te=!1,ne=[]}async function Dr(j,F){if(typeof j=="number"){t.history.go(j);return}let K=L0(T.location,T.matches,l,d.v7_prependBasename,j,d.v7_relativeSplatPath,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:G,submission:ue,error:xe}=qI(d.v7_normalizeFormMethod,!1,K,F),Ce=T.location,se=sh(T.location,G,F&&F.state);se=Ot({},se,t.history.encodeLocation(se));let ve=F&&F.replace!=null?F.replace:void 0,me=nn.Push;ve===!0?me=nn.Replace:ve===!1||ue!=null&&as(ue.formMethod)&&ue.formAction===T.location.pathname+T.location.search&&(me=nn.Replace);let ye=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,Ze=(F&&F.unstable_flushSync)===!0,it=Tl({currentLocation:Ce,nextLocation:se,historyAction:me});if(it){Ss(it,{state:"blocked",location:se,proceed(){Ss(it,{state:"proceeding",proceed:void 0,reset:void 0,location:se}),Dr(j,F)},reset(){let ft=new Map(T.blockers);ft.set(it,Uu),st({blockers:ft})}});return}return await L(me,se,{submission:ue,pendingError:xe,preventScrollReset:ye,replace:F&&F.replace,enableViewTransition:F&&F.unstable_viewTransition,flushSync:Ze})}function xs(){if(Ui(),st({revalidation:"loading"}),T.navigation.state!=="submitting"){if(T.navigation.state==="idle"){L(T.historyAction,T.location,{startUninterruptedRevalidation:!0});return}L(C||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation,enableViewTransition:D===!0})}}async function L(j,F,K){M&&M.abort(),M=null,C=j,ae=(K&&K.startUninterruptedRevalidation)===!0,ua(T.location,T.matches),R=(K&&K.preventScrollReset)===!0,D=(K&&K.enableViewTransition)===!0;let G=a||o,ue=K&&K.overrideNavigation,xe=Sa(G,F,l),Ce=(K&&K.flushSync)===!0,se=Zt(xe,G,F.pathname);if(se.active&&se.matches&&(xe=se.matches),!xe){let{error:Ye,notFoundMatches:en,route:St}=ca(F.pathname);yn(F,{matches:en,loaderData:{},errors:{[St.id]:Ye}},{flushSync:Ce});return}if(T.initialized&&!te&&PK(T.location,F)&&!(K&&K.submission&&as(K.submission.formMethod))){yn(F,{matches:xe},{flushSync:Ce});return}M=new AbortController;let ve=Pl(t.history,F,M.signal,K&&K.submission),me;if(K&&K.pendingError)me=[Yl(xe).route.id,{type:pt.error,error:K.pendingError}];else if(K&&K.submission&&as(K.submission.formMethod)){let Ye=await $(ve,F,K.submission,xe,se.active,{replace:K.replace,flushSync:Ce});if(Ye.shortCircuited)return;if(Ye.pendingActionResult){let[en,St]=Ye.pendingActionResult;if(xr(St)&&qh(St.error)&&St.error.status===404){M=null,yn(F,{matches:Ye.matches,loaderData:{},errors:{[en]:St.error}});return}}xe=Ye.matches||xe,me=Ye.pendingActionResult,ue=Hv(F,K.submission),Ce=!1,se.active=!1,ve=Pl(t.history,ve.url,ve.signal)}let{shortCircuited:ye,matches:Ze,loaderData:it,errors:ft}=await q(ve,F,xe,se.active,ue,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,K&&K.initialHydration===!0,Ce,me);ye||(M=null,yn(F,Ot({matches:Ze||xe},eC(me),{loaderData:it,errors:ft})))}async function $(j,F,K,G,ue,xe){xe===void 0&&(xe={}),Ui();let Ce=jK(F,K);if(st({navigation:Ce},{flushSync:xe.flushSync===!0}),ue){let me=await da(G,F.pathname,j.signal);if(me.type==="aborted")return{shortCircuited:!0};if(me.type==="error"){let{boundaryId:ye,error:Ze}=Mr(F.pathname,me);return{matches:me.partialMatches,pendingActionResult:[ye,{type:pt.error,error:Ze}]}}else if(me.matches)G=me.matches;else{let{notFoundMatches:ye,error:Ze,route:it}=ca(F.pathname);return{matches:ye,pendingActionResult:[it.id,{type:pt.error,error:Ze}]}}}let se,ve=td(G,F);if(!ve.route.action&&!ve.route.lazy)se={type:pt.error,error:Yn(405,{method:j.method,pathname:F.pathname,routeId:ve.route.id})};else if(se=(await Be("action",T,j,[ve],G,null))[ve.route.id],j.signal.aborted)return{shortCircuited:!0};if(Aa(se)){let me;return xe&&xe.replace!=null?me=xe.replace:me=YI(se.response.headers.get("Location"),new URL(j.url),l)===T.location.pathname+T.location.search,await je(j,se,!0,{submission:K,replace:me}),{shortCircuited:!0}}if(Eo(se))throw Yn(400,{type:"defer-action"});if(xr(se)){let me=Yl(G,ve.route.id);return(xe&&xe.replace)!==!0&&(C=nn.Push),{matches:G,pendingActionResult:[me.route.id,se]}}return{matches:G,pendingActionResult:[ve.route.id,se]}}async function q(j,F,K,G,ue,xe,Ce,se,ve,me,ye){let Ze=ue||Hv(F,xe),it=xe||Ce||rC(Ze),ft=!ae&&(!d.v7_partialHydration||!ve);if(G){if(ft){let Et=le(ye);st(Ot({navigation:Ze},Et!==void 0?{actionData:Et}:{}),{flushSync:me})}let De=await da(K,F.pathname,j.signal);if(De.type==="aborted")return{shortCircuited:!0};if(De.type==="error"){let{boundaryId:Et,error:An}=Mr(F.pathname,De);return{matches:De.partialMatches,loaderData:{},errors:{[Et]:An}}}else if(De.matches)K=De.matches;else{let{error:Et,notFoundMatches:An,route:bt}=ca(F.pathname);return{matches:An,loaderData:{},errors:{[bt.id]:Et}}}}let Ye=a||o,[en,St]=GI(t.history,T,K,it,F,d.v7_partialHydration&&ve===!0,d.v7_skipActionErrorRevalidation,te,ne,z,qe,Je,Re,Ye,l,ye);if(Sl(De=>!(K&&K.some(Et=>Et.route.id===De))||en&&en.some(Et=>Et.route.id===De)),pe=++Z,en.length===0&&St.length===0){let De=Cf();return yn(F,Ot({matches:K,loaderData:{},errors:ye&&xr(ye[1])?{[ye[0]]:ye[1].error}:null},eC(ye),De?{fetchers:new Map(T.fetchers)}:{}),{flushSync:me}),{shortCircuited:!0}}if(ft){let De={};if(!G){De.navigation=Ze;let Et=le(ye);Et!==void 0&&(De.actionData=Et)}St.length>0&&(De.fetchers=re(St)),st(De,{flushSync:me})}St.forEach(De=>{B.has(De.key)&&Hn(De.key),De.controller&&B.set(De.key,De.controller)});let $i=()=>St.forEach(De=>Hn(De.key));M&&M.signal.addEventListener("abort",$i);let{loaderResults:yr,fetcherResults:Or}=await zn(T,K,en,St,j);if(j.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",$i),St.forEach(De=>B.delete(De.key));let Cn=op(yr);if(Cn)return await je(j,Cn.result,!0,{replace:se}),{shortCircuited:!0};if(Cn=op(Or),Cn)return Re.add(Cn.key),await je(j,Cn.result,!0,{replace:se}),{shortCircuited:!0};let{loaderData:zi,errors:Zr}=JI(T,K,en,yr,ye,St,Or,ce);ce.forEach((De,Et)=>{De.subscribe(An=>{(An||De.done)&&ce.delete(Et)})}),d.v7_partialHydration&&ve&&T.errors&&Object.entries(T.errors).filter(De=>{let[Et]=De;return!en.some(An=>An.route.id===Et)}).forEach(De=>{let[Et,An]=De;Zr=Object.assign(Zr||{},{[Et]:An})});let fa=Cf(),pa=El(pe),ma=fa||pa||St.length>0;return Ot({matches:K,loaderData:zi,errors:Zr},ma?{fetchers:new Map(T.fetchers)}:{})}function le(j){if(j&&!xr(j[1]))return{[j[0]]:j[1].data};if(T.actionData)return Object.keys(T.actionData).length===0?null:T.actionData}function re(j){return j.forEach(F=>{let K=T.fetchers.get(F.key),G=Bu(void 0,K?K.data:void 0);T.fetchers.set(F.key,G)}),new Map(T.fetchers)}function J(j,F,K,G){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");B.has(j)&&Hn(j);let ue=(G&&G.unstable_flushSync)===!0,xe=a||o,Ce=L0(T.location,T.matches,l,d.v7_prependBasename,K,d.v7_relativeSplatPath,F,G==null?void 0:G.relative),se=Sa(xe,Ce,l),ve=Zt(se,xe,Ce);if(ve.active&&ve.matches&&(se=ve.matches),!se){Wn(j,F,Yn(404,{pathname:Ce}),{flushSync:ue});return}let{path:me,submission:ye,error:Ze}=qI(d.v7_normalizeFormMethod,!0,Ce,G);if(Ze){Wn(j,F,Ze,{flushSync:ue});return}let it=td(se,me);if(R=(G&&G.preventScrollReset)===!0,ye&&as(ye.formMethod)){Ee(j,F,me,it,se,ve.active,ue,ye);return}Je.set(j,{routeId:F,path:me}),Le(j,F,me,it,se,ve.active,ue,ye)}async function Ee(j,F,K,G,ue,xe,Ce,se){Ui(),Je.delete(j);function ve(bt){if(!bt.route.action&&!bt.route.lazy){let es=Yn(405,{method:se.formMethod,pathname:K,routeId:F});return Wn(j,F,es,{flushSync:Ce}),!0}return!1}if(!xe&&ve(G))return;let me=T.fetchers.get(j);Kn(j,VK(se,me),{flushSync:Ce});let ye=new AbortController,Ze=Pl(t.history,K,ye.signal,se);if(xe){let bt=await da(ue,K,Ze.signal);if(bt.type==="aborted")return;if(bt.type==="error"){let{error:es}=Mr(K,bt);Wn(j,F,es,{flushSync:Ce});return}else if(bt.matches){if(ue=bt.matches,G=td(ue,K),ve(G))return}else{Wn(j,F,Yn(404,{pathname:K}),{flushSync:Ce});return}}B.set(j,ye);let it=Z,Ye=(await Be("action",T,Ze,[G],ue,j))[G.route.id];if(Ze.signal.aborted){B.get(j)===ye&&B.delete(j);return}if(d.v7_fetcherPersist&&qe.has(j)){if(Aa(Ye)||xr(Ye)){Kn(j,Yi(void 0));return}}else{if(Aa(Ye))if(B.delete(j),pe>it){Kn(j,Yi(void 0));return}else return Re.add(j),Kn(j,Bu(se)),je(Ze,Ye,!1,{fetcherSubmission:se});if(xr(Ye)){Wn(j,F,Ye.error);return}}if(Eo(Ye))throw Yn(400,{type:"defer-action"});let en=T.navigation.location||T.location,St=Pl(t.history,en,ye.signal),$i=a||o,yr=T.navigation.state!=="idle"?Sa($i,T.navigation.location,l):T.matches;We(yr,"Didn't find any matches after fetcher action");let Or=++Z;Te.set(j,Or);let Cn=Bu(se,Ye.data);T.fetchers.set(j,Cn);let[zi,Zr]=GI(t.history,T,yr,se,en,!1,d.v7_skipActionErrorRevalidation,te,ne,z,qe,Je,Re,$i,l,[G.route.id,Ye]);Zr.filter(bt=>bt.key!==j).forEach(bt=>{let es=bt.key,Rf=T.fetchers.get(es),Pf=Bu(void 0,Rf?Rf.data:void 0);T.fetchers.set(es,Pf),B.has(es)&&Hn(es),bt.controller&&B.set(es,bt.controller)}),st({fetchers:new Map(T.fetchers)});let fa=()=>Zr.forEach(bt=>Hn(bt.key));ye.signal.addEventListener("abort",fa);let{loaderResults:pa,fetcherResults:ma}=await zn(T,yr,zi,Zr,St);if(ye.signal.aborted)return;ye.signal.removeEventListener("abort",fa),Te.delete(j),B.delete(j),Zr.forEach(bt=>B.delete(bt.key));let De=op(pa);if(De)return je(St,De.result,!1);if(De=op(ma),De)return Re.add(De.key),je(St,De.result,!1);let{loaderData:Et,errors:An}=JI(T,yr,zi,pa,void 0,Zr,ma,ce);if(T.fetchers.has(j)){let bt=Yi(Ye.data);T.fetchers.set(j,bt)}El(Or),T.navigation.state==="loading"&&Or>pe?(We(C,"Expected pending action"),M&&M.abort(),yn(T.navigation.location,{matches:yr,loaderData:Et,errors:An,fetchers:new Map(T.fetchers)})):(st({errors:An,loaderData:ZI(T.loaderData,Et,yr,An),fetchers:new Map(T.fetchers)}),te=!1)}async function Le(j,F,K,G,ue,xe,Ce,se){let ve=T.fetchers.get(j);Kn(j,Bu(se,ve?ve.data:void 0),{flushSync:Ce});let me=new AbortController,ye=Pl(t.history,K,me.signal);if(xe){let Ye=await da(ue,K,ye.signal);if(Ye.type==="aborted")return;if(Ye.type==="error"){let{error:en}=Mr(K,Ye);Wn(j,F,en,{flushSync:Ce});return}else if(Ye.matches)ue=Ye.matches,G=td(ue,K);else{Wn(j,F,Yn(404,{pathname:K}),{flushSync:Ce});return}}B.set(j,me);let Ze=Z,ft=(await Be("loader",T,ye,[G],ue,j))[G.route.id];if(Eo(ft)&&(ft=await sE(ft,ye.signal,!0)||ft),B.get(j)===me&&B.delete(j),!ye.signal.aborted){if(qe.has(j)){Kn(j,Yi(void 0));return}if(Aa(ft))if(pe>Ze){Kn(j,Yi(void 0));return}else{Re.add(j),await je(ye,ft,!1);return}if(xr(ft)){Wn(j,F,ft.error);return}We(!Eo(ft),"Unhandled fetcher deferred data"),Kn(j,Yi(ft.data))}}async function je(j,F,K,G){let{submission:ue,fetcherSubmission:xe,replace:Ce}=G===void 0?{}:G;F.response.headers.has("X-Remix-Revalidate")&&(te=!0);let se=F.response.headers.get("Location");We(se,"Expected a Location header on the redirect Response"),se=YI(se,new URL(j.url),l);let ve=sh(T.location,se,{_isRedirect:!0});if(n){let Ye=!1;if(F.response.headers.has("X-Remix-Reload-Document"))Ye=!0;else if(rE.test(se)){const en=t.history.createURL(se);Ye=en.origin!==e.location.origin||ru(en.pathname,l)==null}if(Ye){Ce?e.location.replace(se):e.location.assign(se);return}}M=null;let me=Ce===!0||F.response.headers.has("X-Remix-Replace")?nn.Replace:nn.Push,{formMethod:ye,formAction:Ze,formEncType:it}=T.navigation;!ue&&!xe&&ye&&Ze&&it&&(ue=rC(T.navigation));let ft=ue||xe;if(mK.has(F.response.status)&&ft&&as(ft.formMethod))await L(me,ve,{submission:Ot({},ft,{formAction:se}),preventScrollReset:R,enableViewTransition:K?D:void 0});else{let Ye=Hv(ve,ue);await L(me,ve,{overrideNavigation:Ye,fetcherSubmission:xe,preventScrollReset:R,enableViewTransition:K?D:void 0})}}async function Be(j,F,K,G,ue,xe){let Ce,se={};try{Ce=await bK(c,j,F,K,G,ue,xe,i,s)}catch(ve){return G.forEach(me=>{se[me.route.id]={type:pt.error,error:ve}}),se}for(let[ve,me]of Object.entries(Ce))if(kK(me)){let ye=me.result;se[ve]={type:pt.redirect,response:AK(ye,K,ve,ue,l,d.v7_relativeSplatPath)}}else se[ve]=await CK(me);return se}async function zn(j,F,K,G,ue){let xe=j.matches,Ce=Be("loader",j,ue,K,F,null),se=Promise.all(G.map(async ye=>{if(ye.matches&&ye.match&&ye.controller){let it=(await Be("loader",j,Pl(t.history,ye.path,ye.controller.signal),[ye.match],ye.matches,ye.key))[ye.match.route.id];return{[ye.key]:it}}else return Promise.resolve({[ye.key]:{type:pt.error,error:Yn(404,{pathname:ye.path})}})})),ve=await Ce,me=(await se).reduce((ye,Ze)=>Object.assign(ye,Ze),{});return await Promise.all([OK(F,ve,ue.signal,xe,j.loaderData),LK(F,me,G)]),{loaderResults:ve,fetcherResults:me}}function Ui(){te=!0,ne.push(...Sl()),Je.forEach((j,F)=>{B.has(F)&&(z.add(F),Hn(F))})}function Kn(j,F,K){K===void 0&&(K={}),T.fetchers.set(j,F),st({fetchers:new Map(T.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function Wn(j,F,K,G){G===void 0&&(G={});let ue=Yl(T.matches,F);Ts(j),st({errors:{[ue.route.id]:K},fetchers:new Map(T.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function Es(j){return d.v7_fetcherPersist&&(wt.set(j,(wt.get(j)||0)+1),qe.has(j)&&qe.delete(j)),T.fetchers.get(j)||gK}function Ts(j){let F=T.fetchers.get(j);B.has(j)&&!(F&&F.state==="loading"&&Te.has(j))&&Hn(j),Je.delete(j),Te.delete(j),Re.delete(j),qe.delete(j),z.delete(j),T.fetchers.delete(j)}function xl(j){if(d.v7_fetcherPersist){let F=(wt.get(j)||0)-1;F<=0?(wt.delete(j),qe.add(j)):wt.set(j,F)}else Ts(j);st({fetchers:new Map(T.fetchers)})}function Hn(j){let F=B.get(j);We(F,"Expected fetch controller: "+j),F.abort(),B.delete(j)}function If(j){for(let F of j){let K=Es(F),G=Yi(K.data);T.fetchers.set(F,G)}}function Cf(){let j=[],F=!1;for(let K of Re){let G=T.fetchers.get(K);We(G,"Expected fetcher: "+K),G.state==="loading"&&(Re.delete(K),j.push(K),F=!0)}return If(j),F}function El(j){let F=[];for(let[K,G]of Te)if(G<j){let ue=T.fetchers.get(K);We(ue,"Expected fetcher: "+K),ue.state==="loading"&&(Hn(K),Te.delete(K),F.push(K))}return If(F),F.length>0}function Af(j,F){let K=T.blockers.get(j)||Uu;return Ve.get(j)!==F&&Ve.set(j,F),K}function xu(j){T.blockers.delete(j),Ve.delete(j)}function Ss(j,F){let K=T.blockers.get(j)||Uu;We(K.state==="unblocked"&&F.state==="blocked"||K.state==="blocked"&&F.state==="blocked"||K.state==="blocked"&&F.state==="proceeding"||K.state==="blocked"&&F.state==="unblocked"||K.state==="proceeding"&&F.state==="unblocked","Invalid blocker state transition: "+K.state+" -> "+F.state);let G=new Map(T.blockers);G.set(j,F),st({blockers:G})}function Tl(j){let{currentLocation:F,nextLocation:K,historyAction:G}=j;if(Ve.size===0)return;Ve.size>1&&Fc(!1,"A router only supports one blocker at a time");let ue=Array.from(Ve.entries()),[xe,Ce]=ue[ue.length-1],se=T.blockers.get(xe);if(!(se&&se.state==="proceeding")&&Ce({currentLocation:F,nextLocation:K,historyAction:G}))return xe}function ca(j){let F=Yn(404,{pathname:j}),K=a||o,{matches:G,route:ue}=tC(K);return Sl(),{notFoundMatches:G,route:ue,error:F}}function Mr(j,F){return{boundaryId:Yl(F.partialMatches).route.id,error:Yn(400,{type:"route-discovery",pathname:j,message:F.error!=null&&"message"in F.error?F.error:String(F.error)})}}function Sl(j){let F=[];return ce.forEach((K,G)=>{(!j||j(G))&&(K.cancel(),F.push(G),ce.delete(G))}),F}function bl(j,F,K){if(x=j,y=F,_=K||null,!S&&T.navigation===Wv){S=!0;let G=Tu(T.location,T.matches);G!=null&&st({restoreScrollPosition:G})}return()=>{x=null,y=null,_=null}}function Eu(j,F){return _&&_(j,F.map(G=>q9(G,T.loaderData)))||j.key}function ua(j,F){if(x&&y){let K=Eu(j,F);x[K]=y()}}function Tu(j,F){if(x){let K=Eu(j,F),G=x[K];if(typeof G=="number")return G}return null}function Zt(j,F,K){if(u){if(v.has(K))return{active:!1,matches:j};if(j){if(Object.keys(j[0].params).length>0)return{active:!0,matches:Wp(F,K,l,!0)}}else return{active:!0,matches:Wp(F,K,l,!0)||[]}}return{active:!1,matches:null}}async function da(j,F,K){let G=j;for(;;){let ue=a==null,xe=a||o;try{await EK(u,F,G,xe,i,s,rt,K)}catch(ve){return{type:"error",error:ve,partialMatches:G}}finally{ue&&(o=[...o])}if(K.aborted)return{type:"aborted"};let Ce=Sa(xe,F,l);if(Ce)return Bi(F,v),{type:"success",matches:Ce};let se=Wp(xe,F,l,!0);if(!se||G.length===se.length&&G.every((ve,me)=>ve.route.id===se[me].route.id))return Bi(F,v),{type:"success",matches:null};G=se}}function Bi(j,F){if(F.size>=w){let K=F.values().next().value;F.delete(K)}F.add(j)}function ha(j){i={},a=ih(j,s,void 0,i)}function rv(j,F){let K=a==null;iD(j,F,a||o,i,s),K&&(o=[...o],st({}))}return I={get basename(){return l},get future(){return d},get state(){return T},get routes(){return o},get window(){return e},initialize:ze,subscribe:Bt,enableScrollRestoration:bl,navigate:Dr,fetch:J,revalidate:xs,createHref:j=>t.history.createHref(j),encodeLocation:j=>t.history.encodeLocation(j),getFetcher:Es,deleteFetcher:xl,dispose:Qe,getBlocker:Af,deleteBlocker:xu,patchRoutes:rv,_internalFetchControllers:B,_internalActiveDeferreds:ce,_internalSetRoutes:ha},I}function wK(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function L0(t,e,n,r,s,i,o,a){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let u=qg(s||".",Hg(l,i),ru(t.pathname,n)||t.pathname,a==="path");return s==null&&(u.search=t.search,u.hash=t.hash),(s==null||s===""||s===".")&&c&&c.route.index&&!iE(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:fi([n,u.pathname])),Ja(u)}function qI(t,e,n,r){if(!r||!wK(r))return{path:n};if(r.formMethod&&!MK(r.formMethod))return{path:n,error:Yn(405,{method:r.formMethod})};let s=()=>({path:n,error:Yn(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=t?i.toUpperCase():i.toLowerCase(),a=oD(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!as(o))return s();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((g,w)=>{let[v,x]=w;return""+g+v+"="+x+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!as(o))return s();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return s()}}}We(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=j0(r.formData),c=r.formData;else if(r.body instanceof FormData)l=j0(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=XI(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=XI(l)}catch{return s()}let u={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(as(u.formMethod))return{path:n,submission:u};let d=ta(n);return e&&d.search&&iE(d.search)&&l.append("index",""),d.search="?"+l,{path:Ja(d),submission:u}}function _K(t,e){let n=t;if(e){let r=t.findIndex(s=>s.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function GI(t,e,n,r,s,i,o,a,l,c,u,d,p,g,w,v){let x=v?xr(v[1])?v[1].error:v[1].data:void 0,_=t.createURL(e.location),y=t.createURL(s),S=v&&xr(v[1])?v[0]:void 0,A=S?_K(n,S):n,k=v?v[1].statusCode:void 0,O=o&&k&&k>=400,I=A.filter((C,R)=>{let{route:M}=C;if(M.lazy)return!0;if(M.loader==null)return!1;if(i)return typeof M.loader!="function"||M.loader.hydrate?!0:e.loaderData[M.id]===void 0&&(!e.errors||e.errors[M.id]===void 0);if(xK(e.loaderData,e.matches[R],C)||l.some(H=>H===C.route.id))return!0;let D=e.matches[R],N=C;return QI(C,Ot({currentUrl:_,currentParams:D.params,nextUrl:y,nextParams:N.params},r,{actionResult:x,actionStatus:k,defaultShouldRevalidate:O?!1:a||_.pathname+_.search===y.pathname+y.search||_.search!==y.search||sD(D,N)}))}),T=[];return d.forEach((C,R)=>{if(i||!n.some(ae=>ae.route.id===C.routeId)||u.has(R))return;let M=Sa(g,C.path,w);if(!M){T.push({key:R,routeId:C.routeId,path:C.path,matches:null,match:null,controller:null});return}let D=e.fetchers.get(R),N=td(M,C.path),H=!1;p.has(R)?H=!1:c.has(R)?(c.delete(R),H=!0):D&&D.state!=="idle"&&D.data===void 0?H=a:H=QI(N,Ot({currentUrl:_,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:x,actionStatus:k,defaultShouldRevalidate:O?!1:a})),H&&T.push({key:R,routeId:C.routeId,path:C.path,matches:M,match:N,controller:new AbortController})}),[I,T]}function xK(t,e,n){let r=!e||n.route.id!==e.route.id,s=t[n.route.id]===void 0;return r||s}function sD(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function QI(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function EK(t,e,n,r,s,i,o,a){let l=[e,...n.map(c=>c.route.id)].join("-");try{let c=o.get(l);c||(c=t({path:e,matches:n,patch:(u,d)=>{a.aborted||iD(u,d,r,s,i)}}),o.set(l,c)),c&&NK(c)&&await c}finally{o.delete(l)}}function iD(t,e,n,r,s){if(t){var i;let o=r[t];We(o,"No route found to patch children into: routeId = "+t);let a=ih(e,s,[t,"patch",String(((i=o.children)==null?void 0:i.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=ih(e,s,["patch",String(n.length||"0")],r);n.push(...o)}}async function TK(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let s=n[t.id];We(s,"No route found in manifest");let i={};for(let o in r){let l=s[o]!==void 0&&o!=="hasErrorBoundary";Fc(!l,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!W9.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,Ot({},e(s),{lazy:void 0}))}async function SK(t){let{matches:e}=t,n=e.filter(s=>s.shouldLoad);return(await Promise.all(n.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[n[o].route.id]:i}),{})}async function bK(t,e,n,r,s,i,o,a,l,c){let u=i.map(g=>g.route.lazy?TK(g.route,l,a):void 0),d=i.map((g,w)=>{let v=u[w],x=s.some(y=>y.route.id===g.route.id);return Ot({},g,{shouldLoad:x,resolve:async y=>(y&&r.method==="GET"&&(g.route.lazy||g.route.loader)&&(x=!0),x?IK(e,r,g,v,y,c):Promise.resolve({type:pt.data,result:void 0}))})}),p=await t({matches:d,request:r,params:i[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return p}async function IK(t,e,n,r,s,i){let o,a,l=c=>{let u,d=new Promise((w,v)=>u=v);a=()=>u(),e.signal.addEventListener("abort",a);let p=w=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:i},...w!==void 0?[w]:[]),g=(async()=>{try{return{type:"data",result:await(s?s(v=>p(v)):p())}}catch(w){return{type:"error",result:w}}})();return Promise.race([g,d])};try{let c=n.route[t];if(r)if(c){let u,[d]=await Promise.all([l(c).catch(p=>{u=p}),r]);if(u!==void 0)throw u;o=d}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),d=u.pathname+u.search;throw Yn(405,{method:e.method,pathname:d,routeId:n.route.id})}else return{type:pt.data,result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),d=u.pathname+u.search;throw Yn(404,{pathname:d})}We(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:pt.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function CK(t){let{result:e,type:n}=t;if(aD(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:pt.error,error:u}}return n===pt.error?{type:pt.error,error:new Um(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:pt.data,data:c,statusCode:e.status,headers:e.headers}}if(n===pt.error){if(nC(e)){var r;if(e.data instanceof Error){var s;return{type:pt.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status}}e=new Um(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:pt.error,error:e,statusCode:qh(e)?e.status:void 0}}if(DK(e)){var i,o;return{type:pt.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(nC(e)){var a,l;return{type:pt.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:pt.data,data:e}}function AK(t,e,n,r,s,i){let o=t.headers.get("Location");if(We(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!rE.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=L0(new URL(e.url),a,s,!0,o,i),t.headers.set("Location",o)}return t}function YI(t,e,n){if(rE.test(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=ru(s.pathname,n)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function Pl(t,e,n,r){let s=t.createURL(oD(e)).toString(),i={signal:n};if(r&&as(r.formMethod)){let{formMethod:o,formEncType:a}=r;i.method=o.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(r.json)):a==="text/plain"?i.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?i.body=j0(r.formData):i.body=r.formData}return new Request(s,i)}function j0(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function XI(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function RK(t,e,n,r,s){let i={},o=null,a,l=!1,c={},u=n&&xr(n[1])?n[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let p=d.route.id,g=e[p];if(We(!Aa(g),"Cannot handle redirect results in processLoaderData"),xr(g)){let w=g.error;u!==void 0&&(w=u,u=void 0),o=o||{};{let v=Yl(t,p);o[v.route.id]==null&&(o[v.route.id]=w)}i[p]=void 0,l||(l=!0,a=qh(g.error)?g.error.status:500),g.headers&&(c[p]=g.headers)}else Eo(g)?(r.set(p,g.deferredData),i[p]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[p]=g.headers)):(i[p]=g.data,g.statusCode&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[p]=g.headers))}),u!==void 0&&n&&(o={[n[0]]:u},i[n[0]]=void 0),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:c}}function JI(t,e,n,r,s,i,o,a){let{loaderData:l,errors:c}=RK(e,r,s,a);return i.forEach(u=>{let{key:d,match:p,controller:g}=u,w=o[d];if(We(w,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(xr(w)){let v=Yl(t.matches,p==null?void 0:p.route.id);c&&c[v.route.id]||(c=Ot({},c,{[v.route.id]:w.error})),t.fetchers.delete(d)}else if(Aa(w))We(!1,"Unhandled fetcher revalidation redirect");else if(Eo(w))We(!1,"Unhandled fetcher deferred data");else{let v=Yi(w.data);t.fetchers.set(d,v)}}),{loaderData:l,errors:c}}function ZI(t,e,n,r){let s=Ot({},e);for(let i of n){let o=i.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&i.route.loader&&(s[o]=t[o]),r&&r.hasOwnProperty(o))break}return s}function eC(t){return t?xr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Yl(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function tC(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Yn(t,e){let{pathname:n,routeId:r,method:s,type:i,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):s&&n&&r?l="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",s&&n&&r?l="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new Um(t||500,a,new Error(l),!0)}function op(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(Aa(s))return{key:r,result:s}}}function oD(t){let e=typeof t=="string"?ta(t):t;return Ja(Ot({},e,{hash:""}))}function PK(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function NK(t){return typeof t=="object"&&t!=null&&"then"in t}function kK(t){return aD(t.result)&&pK.has(t.result.status)}function Eo(t){return t.type===pt.deferred}function xr(t){return t.type===pt.error}function Aa(t){return(t&&t.type)===pt.redirect}function nC(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function DK(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function aD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function MK(t){return fK.has(t.toLowerCase())}function as(t){return dK.has(t.toLowerCase())}async function OK(t,e,n,r,s){let i=Object.entries(e);for(let o=0;o<i.length;o++){let[a,l]=i[o],c=t.find(p=>(p==null?void 0:p.route.id)===a);if(!c)continue;let u=r.find(p=>p.route.id===c.route.id),d=u!=null&&!sD(u,c)&&(s&&s[c.route.id])!==void 0;Eo(l)&&d&&await sE(l,n,!1).then(p=>{p&&(e[a]=p)})}}async function LK(t,e,n){for(let r=0;r<n.length;r++){let{key:s,routeId:i,controller:o}=n[r],a=e[s];t.find(c=>(c==null?void 0:c.route.id)===i)&&Eo(a)&&(We(o,"Expected an AbortController for revalidating fetcher deferred result"),await sE(a,o.signal,!0).then(c=>{c&&(e[s]=c)}))}}async function sE(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:pt.data,data:t.deferredData.unwrappedData}}catch(s){return{type:pt.error,error:s}}return{type:pt.data,data:t.deferredData.data}}}function iE(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function td(t,e){let n=typeof e=="string"?ta(e).search:e.search;if(t[t.length-1].route.index&&iE(n||""))return t[t.length-1];let r=tD(t);return r[r.length-1]}function rC(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:i,json:o}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Hv(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function jK(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Bu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function VK(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Yi(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function FK(t,e){try{let n=t.sessionStorage.getItem(rD);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function UK(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(rD,JSON.stringify(n))}catch(r){Fc(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bm(){return Bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bm.apply(this,arguments)}const Gg=m.createContext(null),lD=m.createContext(null),na=m.createContext(null),oE=m.createContext(null),ra=m.createContext({outlet:null,matches:[],isDataRoute:!1}),cD=m.createContext(null);function BK(t,e){let{relative:n}=e===void 0?{}:e;su()||We(!1);let{basename:r,navigator:s}=m.useContext(na),{hash:i,pathname:o,search:a}=dD(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:fi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function su(){return m.useContext(oE)!=null}function iu(){return su()||We(!1),m.useContext(oE).location}function uD(t){m.useContext(na).static||m.useLayoutEffect(t)}function Gh(){let{isDataRoute:t}=m.useContext(ra);return t?JK():$K()}function $K(){su()||We(!1);let t=m.useContext(Gg),{basename:e,future:n,navigator:r}=m.useContext(na),{matches:s}=m.useContext(ra),{pathname:i}=iu(),o=JSON.stringify(Hg(s,n.v7_relativeSplatPath)),a=m.useRef(!1);return uD(()=>{a.current=!0}),m.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=qg(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:fi([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,i,t])}function dD(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(na),{matches:s}=m.useContext(ra),{pathname:i}=iu(),o=JSON.stringify(Hg(s,r.v7_relativeSplatPath));return m.useMemo(()=>qg(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function zK(t,e,n,r){su()||We(!1);let{navigator:s}=m.useContext(na),{matches:i}=m.useContext(ra),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=iu(),u;u=c;let d=u.pathname||"/",p=d;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=Sa(t,{pathname:p});return GK(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:fi([l,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:fi([l,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,r)}function KK(){let t=pD(),e=qh(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:s},n):null,null)}const WK=m.createElement(KK,null);class HK extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(ra.Provider,{value:this.props.routeContext},m.createElement(cD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qK(t){let{routeContext:e,match:n,children:r}=t,s=m.useContext(Gg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(ra.Provider,{value:e},r)}function GK(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||We(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:p,errors:g}=n,w=d.route.loader&&p[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,p)=>{let g,w=!1,v=null,x=null;n&&(g=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||WK,l&&(c<0&&p===0?(ZK("route-fallback"),w=!0,x=null):c===p&&(w=!0,x=d.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,p+1)),y=()=>{let S;return g?S=v:w?S=x:d.route.Component?S=m.createElement(d.route.Component,null):d.route.element?S=d.route.element:S=u,m.createElement(qK,{match:d,routeContext:{outlet:u,matches:_,isDataRoute:n!=null},children:S})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?m.createElement(HK,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:y(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):y()},null)}var hD=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(hD||{}),$m=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}($m||{});function QK(t){let e=m.useContext(Gg);return e||We(!1),e}function YK(t){let e=m.useContext(lD);return e||We(!1),e}function XK(t){let e=m.useContext(ra);return e||We(!1),e}function fD(t){let e=XK(),n=e.matches[e.matches.length-1];return n.route.id||We(!1),n.route.id}function pD(){var t;let e=m.useContext(cD),n=YK($m.UseRouteError),r=fD($m.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function JK(){let{router:t}=QK(hD.UseNavigateStable),e=fD($m.UseNavigateStable),n=m.useRef(!1);return uD(()=>{n.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Bm({fromRouteId:e},i)))},[t,e])}const sC={};function ZK(t,e,n){sC[t]||(sC[t]=!0)}function mD(t){let{to:e,replace:n,state:r,relative:s}=t;su()||We(!1);let{future:i,static:o}=m.useContext(na),{matches:a}=m.useContext(ra),{pathname:l}=iu(),c=Gh(),u=qg(e,Hg(a,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(u);return m.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:s}),[c,d,s,n,r]),null}function eW(t){let{basename:e="/",children:n=null,location:r,navigationType:s=nn.Pop,navigator:i,static:o=!1,future:a}=t;su()&&We(!1);let l=e.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:i,static:o,future:Bm({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=ta(r));let{pathname:u="/",search:d="",hash:p="",state:g=null,key:w="default"}=r,v=m.useMemo(()=>{let x=ru(u,l);return x==null?null:{location:{pathname:x,search:d,hash:p,state:g,key:w},navigationType:s}},[l,u,d,p,g,w,s]);return v==null?null:m.createElement(na.Provider,{value:c},m.createElement(oE.Provider,{children:n,value:v}))}new Promise(()=>{});function tW(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:m.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:m.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:m.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oh(){return oh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oh.apply(this,arguments)}function nW(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function rW(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sW(t,e){return t.button===0&&(!e||e==="_self")&&!rW(t)}const iW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],oW="6";try{window.__reactRouterVersion=oW}catch{}function aW(t,e){return vK({basename:e==null?void 0:e.basename,future:oh({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:$9({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||lW(),routes:t,mapRouteProperties:tW,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,unstable_patchRoutesOnNavigation:e==null?void 0:e.unstable_patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function lW(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=oh({},e,{errors:cW(e.errors)})),e}function cW(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new Um(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}const uW=m.createContext({isTransitioning:!1}),dW=m.createContext(new Map),hW="startTransition",iC=GR[hW],fW="flushSync",oC=O5[fW];function pW(t){iC?iC(t):t()}function $u(t){oC?oC(t):t()}class mW{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function gW(t){let{fallbackElement:e,router:n,future:r}=t,[s,i]=m.useState(n.state),[o,a]=m.useState(),[l,c]=m.useState({isTransitioning:!1}),[u,d]=m.useState(),[p,g]=m.useState(),[w,v]=m.useState(),x=m.useRef(new Map),{v7_startTransition:_}=r||{},y=m.useCallback(T=>{_?pW(T):T()},[_]),S=m.useCallback((T,C)=>{let{deletedFetchers:R,unstable_flushSync:M,unstable_viewTransitionOpts:D}=C;R.forEach(H=>x.current.delete(H)),T.fetchers.forEach((H,ae)=>{H.data!==void 0&&x.current.set(ae,H.data)});let N=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!D||N){M?$u(()=>i(T)):y(()=>i(T));return}if(M){$u(()=>{p&&(u&&u.resolve(),p.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let H=n.window.document.startViewTransition(()=>{$u(()=>i(T))});H.finished.finally(()=>{$u(()=>{d(void 0),g(void 0),a(void 0),c({isTransitioning:!1})})}),$u(()=>g(H));return}p?(u&&u.resolve(),p.skipTransition(),v({state:T,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(a(T),c({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[n.window,p,u,x,y]);m.useLayoutEffect(()=>n.subscribe(S),[n,S]),m.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new mW)},[l]),m.useEffect(()=>{if(u&&o&&n.window){let T=o,C=u.promise,R=n.window.document.startViewTransition(async()=>{y(()=>i(T)),await C});R.finished.finally(()=>{d(void 0),g(void 0),a(void 0),c({isTransitioning:!1})}),g(R)}},[y,o,u,n.window]),m.useEffect(()=>{u&&o&&s.location.key===o.location.key&&u.resolve()},[u,p,s.location,o]),m.useEffect(()=>{!l.isTransitioning&&w&&(a(w.state),c({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),v(void 0))},[l.isTransitioning,w]),m.useEffect(()=>{},[]);let A=m.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:T=>n.navigate(T),push:(T,C,R)=>n.navigate(T,{state:C,preventScrollReset:R==null?void 0:R.preventScrollReset}),replace:(T,C,R)=>n.navigate(T,{replace:!0,state:C,preventScrollReset:R==null?void 0:R.preventScrollReset})}),[n]),k=n.basename||"/",O=m.useMemo(()=>({router:n,navigator:A,static:!1,basename:k}),[n,A,k]),I=m.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return m.createElement(m.Fragment,null,m.createElement(Gg.Provider,{value:O},m.createElement(lD.Provider,{value:s},m.createElement(dW.Provider,{value:x.current},m.createElement(uW.Provider,{value:l},m.createElement(eW,{basename:k,location:s.location,navigationType:s.historyAction,navigator:A,future:I},s.initialized||n.future.v7_partialHydration?m.createElement(yW,{routes:n.routes,future:n.future,state:s}):e))))),null)}const yW=m.memo(vW);function vW(t){let{routes:e,future:n,state:r}=t;return zK(e,void 0,r,n)}const wW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_W=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xW=m.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,p=nW(e,iW),{basename:g}=m.useContext(na),w,v=!1;if(typeof c=="string"&&_W.test(c)&&(w=c,wW))try{let S=new URL(window.location.href),A=c.startsWith("//")?new URL(S.protocol+c):new URL(c),k=ru(A.pathname,g);A.origin===S.origin&&k!=null?c=k+A.search+A.hash:v=!0}catch{}let x=BK(c,{relative:s}),_=EW(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,unstable_viewTransition:d});function y(S){r&&r(S),S.defaultPrevented||_(S)}return m.createElement("a",oh({},p,{href:w||x,onClick:v||i?r:y,ref:n,target:l}))});var aC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(aC||(aC={}));var lC;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(lC||(lC={}));function EW(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Gh(),c=iu(),u=dD(t,{relative:o});return m.useCallback(d=>{if(sW(d,n)){d.preventDefault();let p=r!==void 0?r:Ja(c)===Ja(u);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}const TW=()=>{const t=Pt(n=>n.isAuth),e=Gh();m.useEffect(()=>{(async()=>{try{const r=u9();await Gz(r),gt("Sign in success")}catch{}})()},[]),m.useEffect(()=>{if(!t)return e("/login")},[t])};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gD=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>m.createElement("svg",{ref:l,...bW,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:gD("lucide",s),...a},[...o.map(([c,u])=>m.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=(t,e)=>{const n=m.forwardRef(({className:r,...s},i)=>m.createElement(IW,{ref:i,iconNode:e,className:gD(`lucide-${SW(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=He("Blocks",[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",key:"1fpvtg"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=He("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=He("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=He("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=He("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=He("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=He("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=He("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=He("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=He("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DW=He("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MW=He("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OW=He("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=He("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=He("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=He("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=He("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=He("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LW=He("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=He("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=He("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FW=He("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UW=He("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BW=He("PanelRight",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=He("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=He("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=He("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=He("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zW=He("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KW=He("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=He("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=He("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=He("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=He("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=He("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=He("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HW=He("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=He("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ee(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function qW(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Xg(...t){return e=>t.forEach(n=>qW(n,e))}function Oe(...t){return m.useCallback(Xg(...t),t)}function GW(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var _;const{scope:p,children:g,...w}=d,v=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,x=m.useMemo(()=>w,Object.values(w));return h.jsx(v.Provider,{value:x,children:g})};c.displayName=i+"Provider";function u(d,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,QW(s,...e)]}function QW(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Mt(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Uo({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=YW({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Mt(n),l=m.useCallback(c=>{if(i){const d=typeof c=="function"?c(t):c;d!==t&&a(d)}else s(c)},[i,t,s,a]);return[o,l]}function YW({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,s=m.useRef(r),i=Mt(e);return m.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var Bo=m.forwardRef((t,e)=>{const{children:n,...r}=t,s=m.Children.toArray(n),i=s.find(XW);if(i){const o=i.props.children,a=s.map(l=>l===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return h.jsx(V0,{...r,ref:e,children:m.isValidElement(o)?m.cloneElement(o,void 0,a):null})}return h.jsx(V0,{...r,ref:e,children:n})});Bo.displayName="Slot";var V0=m.forwardRef((t,e)=>{const{children:n,...r}=t;if(m.isValidElement(n)){const s=ZW(n);return m.cloneElement(n,{...JW(r,n.props),ref:e?Xg(e,s):s})}return m.Children.count(n)>1?m.Children.only(null):null});V0.displayName="SlotClone";var cE=({children:t})=>h.jsx(h.Fragment,{children:t});function XW(t){return m.isValidElement(t)&&t.type===cE}function JW(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function ZW(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var eH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],_e=eH.reduce((t,e)=>{const n=m.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Bo:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function fl(t,e){t&&Li.flushSync(()=>t.dispatchEvent(e))}function ou(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function c(d){const{scope:p,children:g,...w}=d,v=(p==null?void 0:p[t][l])||a,x=m.useMemo(()=>w,Object.values(w));return h.jsx(v.Provider,{value:x,children:g})}function u(d,p){const g=(p==null?void 0:p[t][l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,tH(s,...e)]}function tH(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Jg(t){const e=t+"CollectionProvider",[n,r]=ou(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:w,children:v}=g,x=Ke.useRef(null),_=Ke.useRef(new Map).current;return h.jsx(s,{scope:w,itemMap:_,collectionRef:x,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=Ke.forwardRef((g,w)=>{const{scope:v,children:x}=g,_=i(a,v),y=Oe(w,_.collectionRef);return h.jsx(Bo,{ref:y,children:x})});l.displayName=a;const c=t+"CollectionItemSlot",u="data-radix-collection-item",d=Ke.forwardRef((g,w)=>{const{scope:v,children:x,..._}=g,y=Ke.useRef(null),S=Oe(w,y),A=i(c,v);return Ke.useEffect(()=>(A.itemMap.set(y,{ref:y,..._}),()=>void A.itemMap.delete(y))),h.jsx(Bo,{[u]:"",ref:S,children:x})});d.displayName=c;function p(g){const w=i(t+"CollectionConsumer",g);return Ke.useCallback(()=>{const x=w.collectionRef.current;if(!x)return[];const _=Array.from(x.querySelectorAll(`[${u}]`));return Array.from(w.itemMap.values()).sort((A,k)=>_.indexOf(A.ref.current)-_.indexOf(k.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:l,ItemSlot:d},p,r]}function nH(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var _;const{scope:p,children:g,...w}=d,v=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,x=m.useMemo(()=>w,Object.values(w));return h.jsx(v.Provider,{value:x,children:g})};c.displayName=i+"Provider";function u(d,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,rH(s,...e)]}function rH(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var sH=m.createContext(void 0);function Zg(t){const e=m.useContext(sH);return t||e||"ltr"}function Xh(t,e=globalThis==null?void 0:globalThis.document){const n=Mt(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var iH="DismissableLayer",F0="dismissableLayer.update",oH="dismissableLayer.pointerDownOutside",aH="dismissableLayer.focusOutside",uC,AD=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),RD=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(AD),[u,d]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=Oe(e,I=>d(I)),v=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(x),y=u?v.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,A=y>=_,k=uH(I=>{const T=I.target,C=[...c.branches].some(R=>R.contains(T));!A||C||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},p),O=dH(I=>{const T=I.target;[...c.branches].some(R=>R.contains(T))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},p);return Xh(I=>{y===c.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(uC=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),dC(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=uC)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),dC())},[u,c]),m.useEffect(()=>{const I=()=>g({});return document.addEventListener(F0,I),()=>document.removeEventListener(F0,I)},[]),h.jsx(_e.div,{...l,ref:w,style:{pointerEvents:S?A?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,k.onPointerDownCapture)})});RD.displayName=iH;var lH="DismissableLayerBranch",cH=m.forwardRef((t,e)=>{const n=m.useContext(AD),r=m.useRef(null),s=Oe(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),h.jsx(_e.div,{...t,ref:s})});cH.displayName=lH;function uH(t,e=globalThis==null?void 0:globalThis.document){const n=Mt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){PD(oH,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function dH(t,e=globalThis==null?void 0:globalThis.document){const n=Mt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&PD(aH,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function dC(){const t=new CustomEvent(F0);document.dispatchEvent(t)}function PD(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?fl(s,i):s.dispatchEvent(i)}var qv=0;function uE(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??hC()),document.body.insertAdjacentElement("beforeend",t[1]??hC()),qv++,()=>{qv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),qv--}},[])}function hC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Gv="focusScope.autoFocusOnMount",Qv="focusScope.autoFocusOnUnmount",fC={bubbles:!1,cancelable:!0},hH="FocusScope",ey=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=m.useState(null),c=Mt(s),u=Mt(i),d=m.useRef(null),p=Oe(e,v=>l(v)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let v=function(S){if(g.paused||!a)return;const A=S.target;a.contains(A)?d.current=A:Xi(d.current,{select:!0})},x=function(S){if(g.paused||!a)return;const A=S.relatedTarget;A!==null&&(a.contains(A)||Xi(d.current,{select:!0}))},_=function(S){if(document.activeElement===document.body)for(const k of S)k.removedNodes.length>0&&Xi(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",x);const y=new MutationObserver(_);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",x),y.disconnect()}}},[r,a,g.paused]),m.useEffect(()=>{if(a){mC.add(g);const v=document.activeElement;if(!a.contains(v)){const _=new CustomEvent(Gv,fC);a.addEventListener(Gv,c),a.dispatchEvent(_),_.defaultPrevented||(fH(vH(ND(a)),{select:!0}),document.activeElement===v&&Xi(a))}return()=>{a.removeEventListener(Gv,c),setTimeout(()=>{const _=new CustomEvent(Qv,fC);a.addEventListener(Qv,u),a.dispatchEvent(_),_.defaultPrevented||Xi(v??document.body,{select:!0}),a.removeEventListener(Qv,u),mC.remove(g)},0)}}},[a,c,u,g]);const w=m.useCallback(v=>{if(!n&&!r||g.paused)return;const x=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,_=document.activeElement;if(x&&_){const y=v.currentTarget,[S,A]=pH(y);S&&A?!v.shiftKey&&_===A?(v.preventDefault(),n&&Xi(S,{select:!0})):v.shiftKey&&_===S&&(v.preventDefault(),n&&Xi(A,{select:!0})):_===y&&v.preventDefault()}},[n,r,g.paused]);return h.jsx(_e.div,{tabIndex:-1,...o,ref:p,onKeyDown:w})});ey.displayName=hH;function fH(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Xi(r,{select:e}),document.activeElement!==n)return}function pH(t){const e=ND(t),n=pC(e,t),r=pC(e.reverse(),t);return[n,r]}function ND(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function pC(t,e){for(const n of t)if(!mH(n,{upTo:e}))return n}function mH(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function gH(t){return t instanceof HTMLInputElement&&"select"in t}function Xi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&gH(t)&&e&&t.select()}}var mC=yH();function yH(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=gC(t,e),t.unshift(e)},remove(e){var n;t=gC(t,e),(n=t[0])==null||n.resume()}}}function gC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function vH(t){return t.filter(e=>e.tagName!=="A")}var Nt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},wH=GR.useId||(()=>{}),_H=0;function ms(t){const[e,n]=m.useState(wH());return Nt(()=>{t||n(r=>r??String(_H++))},[t]),t||(e?`radix-${e}`:"")}const xH=["top","right","bottom","left"],$o=Math.min,Er=Math.max,zm=Math.round,ap=Math.floor,zo=t=>({x:t,y:t}),EH={left:"right",right:"left",bottom:"top",top:"bottom"},TH={start:"end",end:"start"};function U0(t,e,n){return Er(t,$o(e,n))}function Ri(t,e){return typeof t=="function"?t(e):t}function Pi(t){return t.split("-")[0]}function au(t){return t.split("-")[1]}function dE(t){return t==="x"?"y":"x"}function hE(t){return t==="y"?"height":"width"}function Ko(t){return["top","bottom"].includes(Pi(t))?"y":"x"}function fE(t){return dE(Ko(t))}function SH(t,e,n){n===void 0&&(n=!1);const r=au(t),s=fE(t),i=hE(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Km(o)),[o,Km(o)]}function bH(t){const e=Km(t);return[B0(t),e,B0(e)]}function B0(t){return t.replace(/start|end/g,e=>TH[e])}function IH(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function CH(t,e,n,r){const s=au(t);let i=IH(Pi(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(B0)))),i}function Km(t){return t.replace(/left|right|bottom|top/g,e=>EH[e])}function AH(t){return{top:0,right:0,bottom:0,left:0,...t}}function kD(t){return typeof t!="number"?AH(t):{top:t,right:t,bottom:t,left:t}}function Wm(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function yC(t,e,n){let{reference:r,floating:s}=t;const i=Ko(e),o=fE(e),a=hE(o),l=Pi(e),c=i==="y",u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:u,y:r.y-s.height};break;case"bottom":g={x:u,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:d};break;case"left":g={x:r.x-s.width,y:d};break;default:g={x:r.x,y:r.y}}switch(au(e)){case"start":g[o]-=p*(n&&c?-1:1);break;case"end":g[o]+=p*(n&&c?-1:1);break}return g}const RH=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:d}=yC(c,r,l),p=r,g={},w=0;for(let v=0;v<a.length;v++){const{name:x,fn:_}=a[v],{x:y,y:S,data:A,reset:k}=await _({x:u,y:d,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});u=y??u,d=S??d,g={...g,[x]:{...g[x],...A}},k&&w<=50&&(w++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(c=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):k.rects),{x:u,y:d}=yC(c,p,l)),v=-1)}return{x:u,y:d,placement:p,strategy:s,middlewareData:g}};async function ah(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:g=0}=Ri(e,t),w=kD(g),x=a[p?d==="floating"?"reference":"floating":d],_=Wm(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),A=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},k=Wm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:S,strategy:l}):y);return{top:(_.top-k.top+w.top)/A.y,bottom:(k.bottom-_.bottom+w.bottom)/A.y,left:(_.left-k.left+w.left)/A.x,right:(k.right-_.right+w.right)/A.x}}const PH=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Ri(t,e)||{};if(c==null)return{};const d=kD(u),p={x:n,y:r},g=fE(s),w=hE(g),v=await o.getDimensions(c),x=g==="y",_=x?"top":"left",y=x?"bottom":"right",S=x?"clientHeight":"clientWidth",A=i.reference[w]+i.reference[g]-p[g]-i.floating[w],k=p[g]-i.reference[g],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let I=O?O[S]:0;(!I||!await(o.isElement==null?void 0:o.isElement(O)))&&(I=a.floating[S]||i.floating[w]);const T=A/2-k/2,C=I/2-v[w]/2-1,R=$o(d[_],C),M=$o(d[y],C),D=R,N=I-v[w]-M,H=I/2-v[w]/2+T,ae=U0(D,H,N),te=!l.arrow&&au(s)!=null&&H!==ae&&i.reference[w]/2-(H<D?R:M)-v[w]/2<0,ne=te?H<D?H-D:H-N:0;return{[g]:p[g]+ne,data:{[g]:ae,centerOffset:H-ae-ne,...te&&{alignmentOffset:ne}},reset:te}}}),NH=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...x}=Ri(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=Pi(s),y=Ko(a),S=Pi(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),k=p||(S||!v?[Km(a)]:bH(a)),O=w!=="none";!p&&O&&k.push(...CH(a,v,w,A));const I=[a,...k],T=await ah(e,x),C=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&C.push(T[_]),d){const H=SH(s,o,A);C.push(T[H[0]],T[H[1]])}if(R=[...R,{placement:s,overflows:C}],!C.every(H=>H<=0)){var M,D;const H=(((M=i.flip)==null?void 0:M.index)||0)+1,ae=I[H];if(ae)return{data:{index:H,overflows:R},reset:{placement:ae}};let te=(D=R.filter(ne=>ne.overflows[0]<=0).sort((ne,z)=>ne.overflows[1]-z.overflows[1])[0])==null?void 0:D.placement;if(!te)switch(g){case"bestFit":{var N;const ne=(N=R.filter(z=>{if(O){const B=Ko(z.placement);return B===y||B==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(B=>B>0).reduce((B,Z)=>B+Z,0)]).sort((z,B)=>z[1]-B[1])[0])==null?void 0:N[0];ne&&(te=ne);break}case"initialPlacement":te=a;break}if(s!==te)return{reset:{placement:te}}}return{}}}};function vC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function wC(t){return xH.some(e=>t[e]>=0)}const kH=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ri(t,e);switch(r){case"referenceHidden":{const i=await ah(e,{...s,elementContext:"reference"}),o=vC(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:wC(o)}}}case"escaped":{const i=await ah(e,{...s,altBoundary:!0}),o=vC(i,n.floating);return{data:{escapedOffsets:o,escaped:wC(o)}}}default:return{}}}}};async function DH(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Pi(n),a=au(n),l=Ko(n)==="y",c=["left","top"].includes(o)?-1:1,u=i&&l?-1:1,d=Ri(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:w}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof w=="number"&&(g=a==="end"?w*-1:w),l?{x:g*u,y:p*c}:{x:p*c,y:g*u}}const MH=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await DH(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},OH=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:_,y}=x;return{x:_,y}}},...l}=Ri(t,e),c={x:n,y:r},u=await ah(e,l),d=Ko(Pi(s)),p=dE(d);let g=c[p],w=c[d];if(i){const x=p==="y"?"top":"left",_=p==="y"?"bottom":"right",y=g+u[x],S=g-u[_];g=U0(y,g,S)}if(o){const x=d==="y"?"top":"left",_=d==="y"?"bottom":"right",y=w+u[x],S=w-u[_];w=U0(y,w,S)}const v=a.fn({...e,[p]:g,[d]:w});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[p]:i,[d]:o}}}}}},LH=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Ri(t,e),u={x:n,y:r},d=Ko(s),p=dE(d);let g=u[p],w=u[d];const v=Ri(a,e),x=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const S=p==="y"?"height":"width",A=i.reference[p]-i.floating[S]+x.mainAxis,k=i.reference[p]+i.reference[S]-x.mainAxis;g<A?g=A:g>k&&(g=k)}if(c){var _,y;const S=p==="y"?"width":"height",A=["top","left"].includes(Pi(s)),k=i.reference[d]-i.floating[S]+(A&&((_=o.offset)==null?void 0:_[d])||0)+(A?0:x.crossAxis),O=i.reference[d]+i.reference[S]+(A?0:((y=o.offset)==null?void 0:y[d])||0)-(A?x.crossAxis:0);w<k?w=k:w>O&&(w=O)}return{[p]:g,[d]:w}}}},jH=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Ri(t,e),u=await ah(e,c),d=Pi(s),p=au(s),g=Ko(s)==="y",{width:w,height:v}=i.floating;let x,_;d==="top"||d==="bottom"?(x=d,_=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=d,x=p==="end"?"top":"bottom");const y=v-u.top-u.bottom,S=w-u.left-u.right,A=$o(v-u[x],y),k=$o(w-u[_],S),O=!e.middlewareData.shift;let I=A,T=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=y),O&&!p){const R=Er(u.left,0),M=Er(u.right,0),D=Er(u.top,0),N=Er(u.bottom,0);g?T=w-2*(R!==0||M!==0?R+M:Er(u.left,u.right)):I=v-2*(D!==0||N!==0?D+N:Er(u.top,u.bottom))}await l({...e,availableWidth:T,availableHeight:I});const C=await o.getDimensions(a.floating);return w!==C.width||v!==C.height?{reset:{rects:!0}}:{}}}};function ty(){return typeof window<"u"}function lu(t){return DD(t)?(t.nodeName||"").toLowerCase():"#document"}function Ir(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Gs(t){var e;return(e=(DD(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function DD(t){return ty()?t instanceof Node||t instanceof Ir(t).Node:!1}function vs(t){return ty()?t instanceof Element||t instanceof Ir(t).Element:!1}function Ws(t){return ty()?t instanceof HTMLElement||t instanceof Ir(t).HTMLElement:!1}function _C(t){return!ty()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ir(t).ShadowRoot}function Jh(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ws(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function VH(t){return["table","td","th"].includes(lu(t))}function ny(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function pE(t){const e=mE(),n=vs(t)?ws(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function FH(t){let e=Wo(t);for(;Ws(e)&&!Uc(e);){if(pE(e))return e;if(ny(e))return null;e=Wo(e)}return null}function mE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Uc(t){return["html","body","#document"].includes(lu(t))}function ws(t){return Ir(t).getComputedStyle(t)}function ry(t){return vs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Wo(t){if(lu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||_C(t)&&t.host||Gs(t);return _C(e)?e.host:e}function MD(t){const e=Wo(t);return Uc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ws(e)&&Jh(e)?e:MD(e)}function lh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=MD(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Ir(s);if(i){const a=$0(o);return e.concat(o,o.visualViewport||[],Jh(s)?s:[],a&&n?lh(a):[])}return e.concat(s,lh(s,[],n))}function $0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function OD(t){const e=ws(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ws(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=zm(n)!==i||zm(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function gE(t){return vs(t)?t:t.contextElement}function dc(t){const e=gE(t);if(!Ws(e))return zo(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=OD(e);let o=(i?zm(n.width):n.width)/r,a=(i?zm(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const UH=zo(0);function LD(t){const e=Ir(t);return!mE()||!e.visualViewport?UH:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function BH(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ir(t)?!1:e}function Za(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=gE(t);let o=zo(1);e&&(r?vs(r)&&(o=dc(r)):o=dc(t));const a=BH(i,n,r)?LD(i):zo(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,d=s.height/o.y;if(i){const p=Ir(i),g=r&&vs(r)?Ir(r):r;let w=p,v=$0(w);for(;v&&r&&g!==w;){const x=dc(v),_=v.getBoundingClientRect(),y=ws(v),S=_.left+(v.clientLeft+parseFloat(y.paddingLeft))*x.x,A=_.top+(v.clientTop+parseFloat(y.paddingTop))*x.y;l*=x.x,c*=x.y,u*=x.x,d*=x.y,l+=S,c+=A,w=Ir(v),v=$0(w)}}return Wm({width:u,height:d,x:l,y:c})}function $H(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Gs(r),a=e?ny(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=zo(1);const u=zo(0),d=Ws(r);if((d||!d&&!i)&&((lu(r)!=="body"||Jh(o))&&(l=ry(r)),Ws(r))){const p=Za(r);c=dc(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function zH(t){return Array.from(t.getClientRects())}function z0(t,e){const n=ry(t).scrollLeft;return e?e.left+n:Za(Gs(t)).left+n}function KH(t){const e=Gs(t),n=ry(t),r=t.ownerDocument.body,s=Er(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Er(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+z0(t);const a=-n.scrollTop;return ws(r).direction==="rtl"&&(o+=Er(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function WH(t,e){const n=Ir(t),r=Gs(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=mE();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function HH(t,e){const n=Za(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Ws(t)?dc(t):zo(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function xC(t,e,n){let r;if(e==="viewport")r=WH(t,n);else if(e==="document")r=KH(Gs(t));else if(vs(e))r=HH(e,n);else{const s=LD(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Wm(r)}function jD(t,e){const n=Wo(t);return n===e||!vs(n)||Uc(n)?!1:ws(n).position==="fixed"||jD(n,e)}function qH(t,e){const n=e.get(t);if(n)return n;let r=lh(t,[],!1).filter(a=>vs(a)&&lu(a)!=="body"),s=null;const i=ws(t).position==="fixed";let o=i?Wo(t):t;for(;vs(o)&&!Uc(o);){const a=ws(o),l=pE(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Jh(o)&&!l&&jD(t,o))?r=r.filter(u=>u!==o):s=a,o=Wo(o)}return e.set(t,r),r}function GH(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?ny(e)?[]:qH(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=xC(e,u,s);return c.top=Er(d.top,c.top),c.right=$o(d.right,c.right),c.bottom=$o(d.bottom,c.bottom),c.left=Er(d.left,c.left),c},xC(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function QH(t){const{width:e,height:n}=OD(t);return{width:e,height:n}}function YH(t,e,n){const r=Ws(e),s=Gs(e),i=n==="fixed",o=Za(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=zo(0);if(r||!r&&!i)if((lu(e)!=="body"||Jh(s))&&(a=ry(e)),r){const g=Za(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&(l.x=z0(s));let c=0,u=0;if(s&&!r&&!i){const g=s.getBoundingClientRect();u=g.top+a.scrollTop,c=g.left+a.scrollLeft-z0(s,g)}const d=o.left+a.scrollLeft-l.x-c,p=o.top+a.scrollTop-l.y-u;return{x:d,y:p,width:o.width,height:o.height}}function Yv(t){return ws(t).position==="static"}function EC(t,e){if(!Ws(t)||ws(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Gs(t)===n&&(n=n.ownerDocument.body),n}function VD(t,e){const n=Ir(t);if(ny(t))return n;if(!Ws(t)){let s=Wo(t);for(;s&&!Uc(s);){if(vs(s)&&!Yv(s))return s;s=Wo(s)}return n}let r=EC(t,e);for(;r&&VH(r)&&Yv(r);)r=EC(r,e);return r&&Uc(r)&&Yv(r)&&!pE(r)?n:r||FH(t)||n}const XH=async function(t){const e=this.getOffsetParent||VD,n=this.getDimensions,r=await n(t.floating);return{reference:YH(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function JH(t){return ws(t).direction==="rtl"}const ZH={convertOffsetParentRelativeRectToViewportRelativeRect:$H,getDocumentElement:Gs,getClippingRect:GH,getOffsetParent:VD,getElementRects:XH,getClientRects:zH,getDimensions:QH,getScale:dc,isElement:vs,isRTL:JH};function e8(t,e){let n=null,r;const s=Gs(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:u,width:d,height:p}=t.getBoundingClientRect();if(a||e(),!d||!p)return;const g=ap(u),w=ap(s.clientWidth-(c+d)),v=ap(s.clientHeight-(u+p)),x=ap(c),y={rootMargin:-g+"px "+-w+"px "+-v+"px "+-x+"px",threshold:Er(0,$o(1,l))||1};let S=!0;function A(k){const O=k[0].intersectionRatio;if(O!==l){if(!S)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(A,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(A,y)}n.observe(t)}return o(!0),i}function t8(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=gE(t),u=s||i?[...c?lh(c):[],...lh(e)]:[];u.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const d=c&&a?e8(c,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(_=>{let[y]=_;y&&y.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=g)==null||S.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let w,v=l?Za(t):null;l&&x();function x(){const _=Za(t);v&&(_.x!==v.x||_.y!==v.y||_.width!==v.width||_.height!==v.height)&&n(),v=_,w=requestAnimationFrame(x)}return n(),()=>{var _;u.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),d==null||d(),(_=g)==null||_.disconnect(),g=null,l&&cancelAnimationFrame(w)}}const n8=MH,r8=OH,s8=NH,i8=jH,o8=kH,TC=PH,a8=LH,l8=(t,e,n)=>{const r=new Map,s={platform:ZH,...n},i={...s.platform,_c:r};return RH(t,e,{...s,platform:i})};var Hp=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Hm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Hm(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Hm(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function FD(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function SC(t,e){const n=FD(t);return Math.round(e*n)/n}function Xv(t){const e=m.useRef(t);return Hp(()=>{e.current=t}),e}function c8(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=m.useState(r);Hm(p,r)||g(r);const[w,v]=m.useState(null),[x,_]=m.useState(null),y=m.useCallback(z=>{z!==O.current&&(O.current=z,v(z))},[]),S=m.useCallback(z=>{z!==I.current&&(I.current=z,_(z))},[]),A=i||w,k=o||x,O=m.useRef(null),I=m.useRef(null),T=m.useRef(u),C=l!=null,R=Xv(l),M=Xv(s),D=Xv(c),N=m.useCallback(()=>{if(!O.current||!I.current)return;const z={placement:e,strategy:n,middleware:p};M.current&&(z.platform=M.current),l8(O.current,I.current,z).then(B=>{const Z={...B,isPositioned:D.current!==!1};H.current&&!Hm(T.current,Z)&&(T.current=Z,Li.flushSync(()=>{d(Z)}))})},[p,e,n,M,D]);Hp(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(z=>({...z,isPositioned:!1})))},[c]);const H=m.useRef(!1);Hp(()=>(H.current=!0,()=>{H.current=!1}),[]),Hp(()=>{if(A&&(O.current=A),k&&(I.current=k),A&&k){if(R.current)return R.current(A,k,N);N()}},[A,k,N,R,C]);const ae=m.useMemo(()=>({reference:O,floating:I,setReference:y,setFloating:S}),[y,S]),te=m.useMemo(()=>({reference:A,floating:k}),[A,k]),ne=m.useMemo(()=>{const z={position:n,left:0,top:0};if(!te.floating)return z;const B=SC(te.floating,u.x),Z=SC(te.floating,u.y);return a?{...z,transform:"translate("+B+"px, "+Z+"px)",...FD(te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:Z}},[n,a,te.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:N,refs:ae,elements:te,floatingStyles:ne}),[u,N,ae,te,ne])}const u8=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?TC({element:r.current,padding:s}).fn(n):{}:r?TC({element:r,padding:s}).fn(n):{}}}},d8=(t,e)=>({...n8(t),options:[t,e]}),h8=(t,e)=>({...r8(t),options:[t,e]}),f8=(t,e)=>({...a8(t),options:[t,e]}),p8=(t,e)=>({...s8(t),options:[t,e]}),m8=(t,e)=>({...i8(t),options:[t,e]}),g8=(t,e)=>({...o8(t),options:[t,e]}),y8=(t,e)=>({...u8(t),options:[t,e]});var v8="Arrow",UD=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return h.jsx(_e.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});UD.displayName=v8;var w8=UD;function _8(t){const[e,n]=m.useState(void 0);return Nt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var yE="Popper",[BD,cu]=ou(yE),[x8,$D]=BD(yE),zD=t=>{const{__scopePopper:e,children:n}=t,[r,s]=m.useState(null);return h.jsx(x8,{scope:e,anchor:r,onAnchorChange:s,children:n})};zD.displayName=yE;var KD="PopperAnchor",WD=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=$D(KD,n),o=m.useRef(null),a=Oe(e,o);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:h.jsx(_e.div,{...s,ref:a})});WD.displayName=KD;var vE="PopperContent",[E8,T8]=BD(vE),HD=m.forwardRef((t,e)=>{var ce,Ve,rt,Fe,ze,Qe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:w,...v}=t,x=$D(vE,n),[_,y]=m.useState(null),S=Oe(e,Bt=>y(Bt)),[A,k]=m.useState(null),O=_8(A),I=(O==null?void 0:O.width)??0,T=(O==null?void 0:O.height)??0,C=r+(i!=="center"?"-"+i:""),R=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},M=Array.isArray(c)?c:[c],D=M.length>0,N={padding:R,boundary:M.filter(b8),altBoundary:D},{refs:H,floatingStyles:ae,placement:te,isPositioned:ne,middlewareData:z}=c8({strategy:"fixed",placement:C,whileElementsMounted:(...Bt)=>t8(...Bt,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[d8({mainAxis:s+T,alignmentAxis:o}),l&&h8({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?f8():void 0,...N}),l&&p8({...N}),m8({...N,apply:({elements:Bt,rects:st,availableWidth:yn,availableHeight:Dr})=>{const{width:xs,height:L}=st.reference,$=Bt.floating.style;$.setProperty("--radix-popper-available-width",`${yn}px`),$.setProperty("--radix-popper-available-height",`${Dr}px`),$.setProperty("--radix-popper-anchor-width",`${xs}px`),$.setProperty("--radix-popper-anchor-height",`${L}px`)}}),A&&y8({element:A,padding:a}),I8({arrowWidth:I,arrowHeight:T}),p&&g8({strategy:"referenceHidden",...N})]}),[B,Z]=QD(te),pe=Mt(w);Nt(()=>{ne&&(pe==null||pe())},[ne,pe]);const Te=(ce=z.arrow)==null?void 0:ce.x,Re=(Ve=z.arrow)==null?void 0:Ve.y,Je=((rt=z.arrow)==null?void 0:rt.centerOffset)!==0,[wt,qe]=m.useState();return Nt(()=>{_&&qe(window.getComputedStyle(_).zIndex)},[_]),h.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:ne?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:wt,"--radix-popper-transform-origin":[(Fe=z.transformOrigin)==null?void 0:Fe.x,(ze=z.transformOrigin)==null?void 0:ze.y].join(" "),...((Qe=z.hide)==null?void 0:Qe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx(E8,{scope:n,placedSide:B,onArrowChange:k,arrowX:Te,arrowY:Re,shouldHideArrow:Je,children:h.jsx(_e.div,{"data-side":B,"data-align":Z,...v,ref:S,style:{...v.style,animation:ne?void 0:"none"}})})})});HD.displayName=vE;var qD="PopperArrow",S8={top:"bottom",right:"left",bottom:"top",left:"right"},GD=m.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=T8(qD,r),o=S8[i.placedSide];return h.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:h.jsx(w8,{...s,ref:n,style:{...s.style,display:"block"}})})});GD.displayName=qD;function b8(t){return t!==null}var I8=t=>({name:"transformOrigin",options:t,fn(e){var x,_,y;const{placement:n,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=QD(n),d={start:"0%",center:"50%",end:"100%"}[u],p=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,g=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let w="",v="";return c==="bottom"?(w=o?d:`${p}px`,v=`${-l}px`):c==="top"?(w=o?d:`${p}px`,v=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,v=o?d:`${g}px`):c==="left"&&(w=`${r.floating.width+l}px`,v=o?d:`${g}px`),{data:{x:w,y:v}}}});function QD(t){const[e,n="center"]=t.split("-");return[e,n]}var wE=zD,_E=WD,xE=HD,EE=GD,C8="Portal",YD=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Nt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Bh.createPortal(h.jsx(_e.div,{...r,ref:e}),o):null});YD.displayName=C8;function A8(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var Zh=t=>{const{present:e,children:n}=t,r=R8(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=Oe(r.ref,P8(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};Zh.displayName="Presence";function R8(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=A8(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=lp(r.current);i.current=a==="mounted"?c:"none"},[a]),Nt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=lp(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Nt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=g=>{const v=lp(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=g=>{g.target===e&&(i.current=lp(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function lp(t){return(t==null?void 0:t.animationName)||"none"}function P8(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Jv="rovingFocusGroup.onEntryFocus",N8={bubbles:!1,cancelable:!0},sy="RovingFocusGroup",[K0,XD,k8]=Jg(sy),[D8,iy]=ou(sy,[k8]),[M8,O8]=D8(sy),JD=m.forwardRef((t,e)=>h.jsx(K0.Provider,{scope:t.__scopeRovingFocusGroup,children:h.jsx(K0.Slot,{scope:t.__scopeRovingFocusGroup,children:h.jsx(L8,{...t,ref:e})})}));JD.displayName=sy;var L8=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,p=m.useRef(null),g=Oe(e,p),w=Zg(i),[v=null,x]=Uo({prop:o,defaultProp:a,onChange:l}),[_,y]=m.useState(!1),S=Mt(c),A=XD(n),k=m.useRef(!1),[O,I]=m.useState(0);return m.useEffect(()=>{const T=p.current;if(T)return T.addEventListener(Jv,S),()=>T.removeEventListener(Jv,S)},[S]),h.jsx(M8,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:v,onItemFocus:m.useCallback(T=>x(T),[x]),onItemShiftTab:m.useCallback(()=>y(!0),[]),onFocusableItemAdd:m.useCallback(()=>I(T=>T+1),[]),onFocusableItemRemove:m.useCallback(()=>I(T=>T-1),[]),children:h.jsx(_e.div,{tabIndex:_||O===0?-1:0,"data-orientation":r,...d,ref:g,style:{outline:"none",...t.style},onMouseDown:ee(t.onMouseDown,()=>{k.current=!0}),onFocus:ee(t.onFocus,T=>{const C=!k.current;if(T.target===T.currentTarget&&C&&!_){const R=new CustomEvent(Jv,N8);if(T.currentTarget.dispatchEvent(R),!R.defaultPrevented){const M=A().filter(te=>te.focusable),D=M.find(te=>te.active),N=M.find(te=>te.id===v),ae=[D,N,...M].filter(Boolean).map(te=>te.ref.current);tM(ae,u)}}k.current=!1}),onBlur:ee(t.onBlur,()=>y(!1))})})}),ZD="RovingFocusGroupItem",eM=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=ms(),l=i||a,c=O8(ZD,n),u=c.currentTabStopId===l,d=XD(n),{onFocusableItemAdd:p,onFocusableItemRemove:g}=c;return m.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),h.jsx(K0.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:h.jsx(_e.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:ee(t.onMouseDown,w=>{r?c.onItemFocus(l):w.preventDefault()}),onFocus:ee(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:ee(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){c.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const v=F8(w,c.orientation,c.dir);if(v!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let _=d().filter(y=>y.focusable).map(y=>y.ref.current);if(v==="last")_.reverse();else if(v==="prev"||v==="next"){v==="prev"&&_.reverse();const y=_.indexOf(w.currentTarget);_=c.loop?U8(_,y+1):_.slice(y+1)}setTimeout(()=>tM(_))}})})})});eM.displayName=ZD;var j8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function V8(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function F8(t,e,n){const r=V8(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return j8[r]}function tM(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function U8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var nM=JD,rM=eM,B8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Nl=new WeakMap,cp=new WeakMap,up={},Zv=0,sM=function(t){return t&&(t.host||sM(t.parentNode))},$8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=sM(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},z8=function(t,e,n,r){var s=$8(e,Array.isArray(t)?t:[t]);up[n]||(up[n]=new WeakMap);var i=up[n],o=[],a=new Set,l=new Set(s),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};s.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(p){if(a.has(p))u(p);else try{var g=p.getAttribute(r),w=g!==null&&g!=="false",v=(Nl.get(p)||0)+1,x=(i.get(p)||0)+1;Nl.set(p,v),i.set(p,x),o.push(p),v===1&&w&&cp.set(p,!0),x===1&&p.setAttribute(n,"true"),w||p.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",p,_)}})};return u(e),a.clear(),Zv++,function(){o.forEach(function(d){var p=Nl.get(d)-1,g=i.get(d)-1;Nl.set(d,p),i.set(d,g),p||(cp.has(d)||d.removeAttribute(r),cp.delete(d)),g||d.removeAttribute(n)}),Zv--,Zv||(Nl=new WeakMap,Nl=new WeakMap,cp=new WeakMap,up={})}},TE=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=B8(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),z8(r,s,n,"aria-hidden")):function(){return null}},qp="right-scroll-bar-position",Gp="width-before-scroll-bar",K8="with-scroll-bars-hidden",W8="--removed-body-scroll-bar-size";function ew(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function H8(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var q8=typeof window<"u"?m.useLayoutEffect:m.useEffect,bC=new WeakMap;function G8(t,e){var n=H8(null,function(r){return t.forEach(function(s){return ew(s,r)})});return q8(function(){var r=bC.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||ew(a,null)}),i.forEach(function(a){s.has(a)||ew(a,o)})}bC.set(n,t)},[t]),n}function Q8(t){return t}function Y8(t,e){e===void 0&&(e=Q8);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return s}function X8(t){t===void 0&&(t={});var e=Y8(null);return e.options=ks({async:!0,ssr:!1},t),e}var iM=function(t){var e=t.sideCar,n=zh(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,ks({},n))};iM.isSideCarExport=!0;function J8(t,e){return t.useMedium(e),iM}var oM=X8(),tw=function(){},oy=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:tw,onWheelCapture:tw,onTouchMoveCapture:tw}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,p=t.sideCar,g=t.noIsolation,w=t.inert,v=t.allowPinchZoom,x=t.as,_=x===void 0?"div":x,y=t.gapMode,S=zh(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=p,k=G8([n,e]),O=ks(ks({},S),s);return m.createElement(m.Fragment,null,u&&m.createElement(A,{sideCar:oM,removeScrollBar:c,shards:d,noIsolation:g,inert:w,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:y}),o?m.cloneElement(m.Children.only(a),ks(ks({},O),{ref:k})):m.createElement(_,ks({},O,{className:l,ref:k}),a))});oy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};oy.classNames={fullWidth:Gp,zeroRight:qp};var Z8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function e7(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Z8();return e&&t.setAttribute("nonce",e),t}function t7(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function n7(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var r7=function(){var t=0,e=null;return{add:function(n){t==0&&(e=e7())&&(t7(e,n),n7(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},s7=function(){var t=r7();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},aM=function(){var t=s7(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},i7={left:0,top:0,right:0,gap:0},nw=function(t){return parseInt(t||"",10)||0},o7=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[nw(n),nw(r),nw(s)]},a7=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return i7;var e=o7(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},l7=aM(),hc="data-scroll-locked",c7=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(K8,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(hc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qp,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Gp,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(qp," .").concat(qp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Gp," .").concat(Gp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(hc,`] {
    `).concat(W8,": ").concat(a,`px;
  }
`)},IC=function(){var t=parseInt(document.body.getAttribute(hc)||"0",10);return isFinite(t)?t:0},u7=function(){m.useEffect(function(){return document.body.setAttribute(hc,(IC()+1).toString()),function(){var t=IC()-1;t<=0?document.body.removeAttribute(hc):document.body.setAttribute(hc,t.toString())}},[])},d7=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;u7();var i=m.useMemo(function(){return a7(s)},[s]);return m.createElement(l7,{styles:c7(i,!e,s,n?"":"!important")})},W0=!1;if(typeof window<"u")try{var dp=Object.defineProperty({},"passive",{get:function(){return W0=!0,!0}});window.addEventListener("test",dp,dp),window.removeEventListener("test",dp,dp)}catch{W0=!1}var kl=W0?{passive:!1}:!1,h7=function(t){return t.tagName==="TEXTAREA"},lM=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!h7(t)&&n[e]==="visible")},f7=function(t){return lM(t,"overflowY")},p7=function(t){return lM(t,"overflowX")},CC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=cM(t,r);if(s){var i=uM(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},m7=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},g7=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},cM=function(t,e){return t==="v"?f7(e):p7(e)},uM=function(t,e){return t==="v"?m7(e):g7(e)},y7=function(t,e){return t==="h"&&e==="rtl"?-1:1},v7=function(t,e,n,r,s){var i=y7(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,p=0;do{var g=uM(t,a),w=g[0],v=g[1],x=g[2],_=v-x-i*w;(w||_)&&cM(t,a)&&(d+=_,p+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(d)<1||!s)||!u&&(Math.abs(p)<1||!s))&&(c=!0),c},hp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},AC=function(t){return[t.deltaX,t.deltaY]},RC=function(t){return t&&"current"in t?t.current:t},w7=function(t,e){return t[0]===e[0]&&t[1]===e[1]},_7=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},x7=0,Dl=[];function E7(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(x7++)[0],i=m.useState(aM)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=fz([t.lockRef.current],(t.shards||[]).map(RC),!0).filter(Boolean);return v.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(v,x){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var _=hp(v),y=n.current,S="deltaX"in v?v.deltaX:y[0]-_[0],A="deltaY"in v?v.deltaY:y[1]-_[1],k,O=v.target,I=Math.abs(S)>Math.abs(A)?"h":"v";if("touches"in v&&I==="h"&&O.type==="range")return!1;var T=CC(I,O);if(!T)return!0;if(T?k=I:(k=I==="v"?"h":"v",T=CC(I,O)),!T)return!1;if(!r.current&&"changedTouches"in v&&(S||A)&&(r.current=k),!k)return!0;var C=r.current||k;return v7(C,x,v,C==="h"?S:A,!0)},[]),l=m.useCallback(function(v){var x=v;if(!(!Dl.length||Dl[Dl.length-1]!==i)){var _="deltaY"in x?AC(x):hp(x),y=e.current.filter(function(k){return k.name===x.type&&(k.target===x.target||x.target===k.shadowParent)&&w7(k.delta,_)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var S=(o.current.shards||[]).map(RC).filter(Boolean).filter(function(k){return k.contains(x.target)}),A=S.length>0?a(x,S[0]):!o.current.noIsolation;A&&x.cancelable&&x.preventDefault()}}},[]),c=m.useCallback(function(v,x,_,y){var S={name:v,delta:x,target:_,should:y,shadowParent:T7(_)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(A){return A!==S})},1)},[]),u=m.useCallback(function(v){n.current=hp(v),r.current=void 0},[]),d=m.useCallback(function(v){c(v.type,AC(v),v.target,a(v,t.lockRef.current))},[]),p=m.useCallback(function(v){c(v.type,hp(v),v.target,a(v,t.lockRef.current))},[]);m.useEffect(function(){return Dl.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",l,kl),document.addEventListener("touchmove",l,kl),document.addEventListener("touchstart",u,kl),function(){Dl=Dl.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,kl),document.removeEventListener("touchmove",l,kl),document.removeEventListener("touchstart",u,kl)}},[]);var g=t.removeScrollBar,w=t.inert;return m.createElement(m.Fragment,null,w?m.createElement(i,{styles:_7(s)}):null,g?m.createElement(d7,{gapMode:t.gapMode}):null)}function T7(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const S7=J8(oM,E7);var ay=m.forwardRef(function(t,e){return m.createElement(oy,ks({},t,{ref:e,sideCar:S7}))});ay.classNames=oy.classNames;var H0=["Enter"," "],b7=["ArrowDown","PageUp","Home"],dM=["ArrowUp","PageDown","End"],I7=[...b7,...dM],C7={ltr:[...H0,"ArrowRight"],rtl:[...H0,"ArrowLeft"]},A7={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ef="Menu",[ch,R7,P7]=Jg(ef),[pl,hM]=nH(ef,[P7,cu,iy]),ly=cu(),fM=iy(),[N7,ml]=pl(ef),[k7,tf]=pl(ef),pM=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=ly(e),[l,c]=m.useState(null),u=m.useRef(!1),d=Mt(i),p=Zg(s);return m.useEffect(()=>{const g=()=>{u.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>u.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),h.jsx(wE,{...a,children:h.jsx(N7,{scope:e,open:n,onOpenChange:d,content:l,onContentChange:c,children:h.jsx(k7,{scope:e,onClose:m.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:p,modal:o,children:r})})})};pM.displayName=ef;var D7="MenuAnchor",SE=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=ly(n);return h.jsx(_E,{...s,...r,ref:e})});SE.displayName=D7;var bE="MenuPortal",[M7,mM]=pl(bE,{forceMount:void 0}),gM=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=ml(bE,e);return h.jsx(M7,{scope:e,forceMount:n,children:h.jsx(Zh,{present:n||i.open,children:h.jsx(YD,{asChild:!0,container:s,children:r})})})};gM.displayName=bE;var Hr="MenuContent",[O7,IE]=pl(Hr),yM=m.forwardRef((t,e)=>{const n=mM(Hr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=ml(Hr,t.__scopeMenu),o=tf(Hr,t.__scopeMenu);return h.jsx(ch.Provider,{scope:t.__scopeMenu,children:h.jsx(Zh,{present:r||i.open,children:h.jsx(ch.Slot,{scope:t.__scopeMenu,children:o.modal?h.jsx(L7,{...s,ref:e}):h.jsx(j7,{...s,ref:e})})})})}),L7=m.forwardRef((t,e)=>{const n=ml(Hr,t.__scopeMenu),r=m.useRef(null),s=Oe(e,r);return m.useEffect(()=>{const i=r.current;if(i)return TE(i)},[]),h.jsx(CE,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ee(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),j7=m.forwardRef((t,e)=>{const n=ml(Hr,t.__scopeMenu);return h.jsx(CE,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),CE=m.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:p,onDismiss:g,disableOutsideScroll:w,...v}=t,x=ml(Hr,n),_=tf(Hr,n),y=ly(n),S=fM(n),A=R7(n),[k,O]=m.useState(null),I=m.useRef(null),T=Oe(e,I,x.onContentChange),C=m.useRef(0),R=m.useRef(""),M=m.useRef(0),D=m.useRef(null),N=m.useRef("right"),H=m.useRef(0),ae=w?ay:m.Fragment,te=w?{as:Bo,allowPinchZoom:!0}:void 0,ne=B=>{var ce,Ve;const Z=R.current+B,pe=A().filter(rt=>!rt.disabled),Te=document.activeElement,Re=(ce=pe.find(rt=>rt.ref.current===Te))==null?void 0:ce.textValue,Je=pe.map(rt=>rt.textValue),wt=Q7(Je,Z,Re),qe=(Ve=pe.find(rt=>rt.textValue===wt))==null?void 0:Ve.ref.current;(function rt(Fe){R.current=Fe,window.clearTimeout(C.current),Fe!==""&&(C.current=window.setTimeout(()=>rt(""),1e3))})(Z),qe&&setTimeout(()=>qe.focus())};m.useEffect(()=>()=>window.clearTimeout(C.current),[]),uE();const z=m.useCallback(B=>{var pe,Te;return N.current===((pe=D.current)==null?void 0:pe.side)&&X7(B,(Te=D.current)==null?void 0:Te.area)},[]);return h.jsx(O7,{scope:n,searchRef:R,onItemEnter:m.useCallback(B=>{z(B)&&B.preventDefault()},[z]),onItemLeave:m.useCallback(B=>{var Z;z(B)||((Z=I.current)==null||Z.focus(),O(null))},[z]),onTriggerLeave:m.useCallback(B=>{z(B)&&B.preventDefault()},[z]),pointerGraceTimerRef:M,onPointerGraceIntentChange:m.useCallback(B=>{D.current=B},[]),children:h.jsx(ae,{...te,children:h.jsx(ey,{asChild:!0,trapped:s,onMountAutoFocus:ee(i,B=>{var Z;B.preventDefault(),(Z=I.current)==null||Z.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:h.jsx(RD,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:p,onDismiss:g,children:h.jsx(nM,{asChild:!0,...S,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:k,onCurrentTabStopIdChange:O,onEntryFocus:ee(l,B=>{_.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:h.jsx(xE,{role:"menu","aria-orientation":"vertical","data-state":DM(x.open),"data-radix-menu-content":"",dir:_.dir,...y,...v,ref:T,style:{outline:"none",...v.style},onKeyDown:ee(v.onKeyDown,B=>{const pe=B.target.closest("[data-radix-menu-content]")===B.currentTarget,Te=B.ctrlKey||B.altKey||B.metaKey,Re=B.key.length===1;pe&&(B.key==="Tab"&&B.preventDefault(),!Te&&Re&&ne(B.key));const Je=I.current;if(B.target!==Je||!I7.includes(B.key))return;B.preventDefault();const qe=A().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);dM.includes(B.key)&&qe.reverse(),q7(qe)}),onBlur:ee(t.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(C.current),R.current="")}),onPointerMove:ee(t.onPointerMove,uh(B=>{const Z=B.target,pe=H.current!==B.clientX;if(B.currentTarget.contains(Z)&&pe){const Te=B.clientX>H.current?"right":"left";N.current=Te,H.current=B.clientX}}))})})})})})})});yM.displayName=Hr;var V7="MenuGroup",AE=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(_e.div,{role:"group",...r,ref:e})});AE.displayName=V7;var F7="MenuLabel",vM=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(_e.div,{...r,ref:e})});vM.displayName=F7;var qm="MenuItem",PC="menu.itemSelect",cy=m.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=m.useRef(null),o=tf(qm,t.__scopeMenu),a=IE(qm,t.__scopeMenu),l=Oe(e,i),c=m.useRef(!1),u=()=>{const d=i.current;if(!n&&d){const p=new CustomEvent(PC,{bubbles:!0,cancelable:!0});d.addEventListener(PC,g=>r==null?void 0:r(g),{once:!0}),fl(d,p),p.defaultPrevented?c.current=!1:o.onClose()}};return h.jsx(wM,{...s,ref:l,disabled:n,onClick:ee(t.onClick,u),onPointerDown:d=>{var p;(p=t.onPointerDown)==null||p.call(t,d),c.current=!0},onPointerUp:ee(t.onPointerUp,d=>{var p;c.current||(p=d.currentTarget)==null||p.click()}),onKeyDown:ee(t.onKeyDown,d=>{const p=a.searchRef.current!=="";n||p&&d.key===" "||H0.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});cy.displayName=qm;var wM=m.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=IE(qm,n),a=fM(n),l=m.useRef(null),c=Oe(e,l),[u,d]=m.useState(!1),[p,g]=m.useState("");return m.useEffect(()=>{const w=l.current;w&&g((w.textContent??"").trim())},[i.children]),h.jsx(ch.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:h.jsx(rM,{asChild:!0,...a,focusable:!r,children:h.jsx(_e.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:ee(t.onPointerMove,uh(w=>{r?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ee(t.onPointerLeave,uh(w=>o.onItemLeave(w))),onFocus:ee(t.onFocus,()=>d(!0)),onBlur:ee(t.onBlur,()=>d(!1))})})})}),U7="MenuCheckboxItem",_M=m.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return h.jsx(bM,{scope:t.__scopeMenu,checked:n,children:h.jsx(cy,{role:"menuitemcheckbox","aria-checked":Gm(n)?"mixed":n,...s,ref:e,"data-state":PE(n),onSelect:ee(s.onSelect,()=>r==null?void 0:r(Gm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});_M.displayName=U7;var xM="MenuRadioGroup",[B7,$7]=pl(xM,{value:void 0,onValueChange:()=>{}}),EM=m.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Mt(r);return h.jsx(B7,{scope:t.__scopeMenu,value:n,onValueChange:i,children:h.jsx(AE,{...s,ref:e})})});EM.displayName=xM;var TM="MenuRadioItem",SM=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=$7(TM,t.__scopeMenu),i=n===s.value;return h.jsx(bM,{scope:t.__scopeMenu,checked:i,children:h.jsx(cy,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":PE(i),onSelect:ee(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});SM.displayName=TM;var RE="MenuItemIndicator",[bM,z7]=pl(RE,{checked:!1}),IM=m.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=z7(RE,n);return h.jsx(Zh,{present:r||Gm(i.checked)||i.checked===!0,children:h.jsx(_e.span,{...s,ref:e,"data-state":PE(i.checked)})})});IM.displayName=RE;var K7="MenuSeparator",CM=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(_e.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});CM.displayName=K7;var W7="MenuArrow",AM=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=ly(n);return h.jsx(EE,{...s,...r,ref:e})});AM.displayName=W7;var H7="MenuSub",[Cde,RM]=pl(H7),nd="MenuSubTrigger",PM=m.forwardRef((t,e)=>{const n=ml(nd,t.__scopeMenu),r=tf(nd,t.__scopeMenu),s=RM(nd,t.__scopeMenu),i=IE(nd,t.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},u=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>u,[u]),m.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),h.jsx(SE,{asChild:!0,...c,children:h.jsx(wM,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":DM(n.open),...t,ref:Xg(e,s.onTriggerChange),onClick:d=>{var p;(p=t.onClick)==null||p.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ee(t.onPointerMove,uh(d=>{i.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:ee(t.onPointerLeave,uh(d=>{var g,w;u();const p=(g=n.content)==null?void 0:g.getBoundingClientRect();if(p){const v=(w=n.content)==null?void 0:w.dataset.side,x=v==="right",_=x?-5:5,y=p[x?"left":"right"],S=p[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:d.clientX+_,y:d.clientY},{x:y,y:p.top},{x:S,y:p.top},{x:S,y:p.bottom},{x:y,y:p.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(d),d.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ee(t.onKeyDown,d=>{var g;const p=i.searchRef.current!=="";t.disabled||p&&d.key===" "||C7[r.dir].includes(d.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),d.preventDefault())})})})});PM.displayName=nd;var NM="MenuSubContent",kM=m.forwardRef((t,e)=>{const n=mM(Hr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=ml(Hr,t.__scopeMenu),o=tf(Hr,t.__scopeMenu),a=RM(NM,t.__scopeMenu),l=m.useRef(null),c=Oe(e,l);return h.jsx(ch.Provider,{scope:t.__scopeMenu,children:h.jsx(Zh,{present:r||i.open,children:h.jsx(ch.Slot,{scope:t.__scopeMenu,children:h.jsx(CE,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;o.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:ee(t.onFocusOutside,u=>{u.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ee(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:ee(t.onKeyDown,u=>{var g;const d=u.currentTarget.contains(u.target),p=A7[o.dir].includes(u.key);d&&p&&(i.onOpenChange(!1),(g=a.trigger)==null||g.focus(),u.preventDefault())})})})})})});kM.displayName=NM;function DM(t){return t?"open":"closed"}function Gm(t){return t==="indeterminate"}function PE(t){return Gm(t)?"indeterminate":t?"checked":"unchecked"}function q7(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function G7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Q7(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=G7(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function Y7(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function X7(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Y7(n,e)}function uh(t){return e=>e.pointerType==="mouse"?t(e):void 0}var J7=pM,Z7=SE,eq=gM,tq=yM,nq=AE,rq=vM,sq=cy,iq=_M,oq=EM,aq=SM,lq=IM,cq=CM,uq=AM,dq=PM,hq=kM,NE="DropdownMenu",[fq,Ade]=GW(NE,[hM]),rr=hM(),[pq,MM]=fq(NE),OM=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=rr(e),c=m.useRef(null),[u=!1,d]=Uo({prop:s,defaultProp:i,onChange:o});return h.jsx(pq,{scope:e,triggerId:ms(),triggerRef:c,contentId:ms(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(p=>!p),[d]),modal:a,children:h.jsx(J7,{...l,open:u,onOpenChange:d,dir:r,modal:a,children:n})})};OM.displayName=NE;var LM="DropdownMenuTrigger",jM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=MM(LM,n),o=rr(n);return h.jsx(Z7,{asChild:!0,...o,children:h.jsx(_e.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Xg(e,i.triggerRef),onPointerDown:ee(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:ee(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});jM.displayName=LM;var mq="DropdownMenuPortal",VM=t=>{const{__scopeDropdownMenu:e,...n}=t,r=rr(e);return h.jsx(eq,{...r,...n})};VM.displayName=mq;var FM="DropdownMenuContent",UM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=MM(FM,n),i=rr(n),o=m.useRef(!1);return h.jsx(tq,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:ee(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ee(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!s.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});UM.displayName=FM;var gq="DropdownMenuGroup",yq=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rr(n);return h.jsx(nq,{...s,...r,ref:e})});yq.displayName=gq;var vq="DropdownMenuLabel",BM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rr(n);return h.jsx(rq,{...s,...r,ref:e})});BM.displayName=vq;var wq="DropdownMenuItem",$M=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rr(n);return h.jsx(sq,{...s,...r,ref:e})});$M.displayName=wq;var _q="DropdownMenuCheckboxItem",zM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rr(n);return h.jsx(iq,{...s,...r,ref:e})});zM.displayName=_q;var xq="DropdownMenuRadioGroup",Eq=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rr(n);return h.jsx(oq,{...s,...r,ref:e})});Eq.displayName=xq;var Tq="DropdownMenuRadioItem",KM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rr(n);return h.jsx(aq,{...s,...r,ref:e})});KM.displayName=Tq;var Sq="DropdownMenuItemIndicator",WM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rr(n);return h.jsx(lq,{...s,...r,ref:e})});WM.displayName=Sq;var bq="DropdownMenuSeparator",HM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rr(n);return h.jsx(cq,{...s,...r,ref:e})});HM.displayName=bq;var Iq="DropdownMenuArrow",Cq=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rr(n);return h.jsx(uq,{...s,...r,ref:e})});Cq.displayName=Iq;var Aq="DropdownMenuSubTrigger",qM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rr(n);return h.jsx(dq,{...s,...r,ref:e})});qM.displayName=Aq;var Rq="DropdownMenuSubContent",GM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rr(n);return h.jsx(hq,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});GM.displayName=Rq;var Pq=OM,Nq=jM,kq=VM,QM=UM,YM=BM,XM=$M,JM=zM,ZM=KM,eO=WM,tO=HM,nO=qM,rO=GM;function sO(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=sO(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Dq(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=sO(t))&&(r&&(r+=" "),r+=e);return r}const kE="-",Mq=t=>{const e=Lq(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(kE);return a[0]===""&&a.length!==1&&a.shift(),iO(a,e)||Oq(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},iO=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?iO(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(kE);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},NC=/^\[(.+)\]$/,Oq=t=>{if(NC.test(t)){const e=NC.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Lq=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Vq(Object.entries(t.classGroups),n).forEach(([i,o])=>{q0(o,r,i,e)}),r},q0=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:kC(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(jq(s)){q0(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{q0(o,kC(e,i),n,r)})})},kC=(t,e)=>{let n=t;return e.split(kE).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},jq=t=>t.isThemeGetter,Vq=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,Fq=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},oO="!",Uq=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let x=0;x<a.length;x++){let _=a[x];if(c===0){if(_===s&&(r||a.slice(x,x+i)===e)){l.push(a.slice(u,x)),u=x+i;continue}if(_==="/"){d=x;continue}}_==="["?c++:_==="]"&&c--}const p=l.length===0?a:a.substring(u),g=p.startsWith(oO),w=g?p.substring(1):p,v=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:w,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},Bq=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},$q=t=>({cache:Fq(t.cacheSize),parseClassName:Uq(t),...Mq(t)}),zq=/\s+/,Kq=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(zq);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:g}=n(c);let w=!!g,v=r(w?p.substring(0,g):p);if(!v){if(!w){a=c+(a.length>0?" "+a:a);continue}if(v=r(p),!v){a=c+(a.length>0?" "+a:a);continue}w=!1}const x=Bq(u).join(":"),_=d?x+oO:x,y=_+v;if(i.includes(y))continue;i.push(y);const S=s(v,w);for(let A=0;A<S.length;++A){const k=S[A];i.push(_+k)}a=c+(a.length>0?" "+a:a)}return a};function Wq(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=aO(e))&&(r&&(r+=" "),r+=n);return r}const aO=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=aO(t[r]))&&(n&&(n+=" "),n+=e);return n};function Hq(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=$q(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=Kq(l,n);return s(l,u),u}return function(){return i(Wq.apply(null,arguments))}}const Ct=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},lO=/^\[(?:([a-z-]+):)?(.+)\]$/i,qq=/^\d+\/\d+$/,Gq=new Set(["px","full","screen"]),Qq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Yq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Xq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Jq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Zq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xs=t=>fc(t)||Gq.has(t)||qq.test(t),Gi=t=>uu(t,"length",aG),fc=t=>!!t&&!Number.isNaN(Number(t)),rw=t=>uu(t,"number",fc),zu=t=>!!t&&Number.isInteger(Number(t)),eG=t=>t.endsWith("%")&&fc(t.slice(0,-1)),Ue=t=>lO.test(t),Qi=t=>Qq.test(t),tG=new Set(["length","size","percentage"]),nG=t=>uu(t,tG,cO),rG=t=>uu(t,"position",cO),sG=new Set(["image","url"]),iG=t=>uu(t,sG,cG),oG=t=>uu(t,"",lG),Ku=()=>!0,uu=(t,e,n)=>{const r=lO.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},aG=t=>Yq.test(t)&&!Xq.test(t),cO=()=>!1,lG=t=>Jq.test(t),cG=t=>Zq.test(t),uG=()=>{const t=Ct("colors"),e=Ct("spacing"),n=Ct("blur"),r=Ct("brightness"),s=Ct("borderColor"),i=Ct("borderRadius"),o=Ct("borderSpacing"),a=Ct("borderWidth"),l=Ct("contrast"),c=Ct("grayscale"),u=Ct("hueRotate"),d=Ct("invert"),p=Ct("gap"),g=Ct("gradientColorStops"),w=Ct("gradientColorStopPositions"),v=Ct("inset"),x=Ct("margin"),_=Ct("opacity"),y=Ct("padding"),S=Ct("saturate"),A=Ct("scale"),k=Ct("sepia"),O=Ct("skew"),I=Ct("space"),T=Ct("translate"),C=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Ue,e],D=()=>[Ue,e],N=()=>["",Xs,Gi],H=()=>["auto",fc,Ue],ae=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",Ue],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],pe=()=>[fc,Ue];return{cacheSize:500,separator:":",theme:{colors:[Ku],spacing:[Xs,Gi],blur:["none","",Qi,Ue],brightness:pe(),borderColor:[t],borderRadius:["none","","full",Qi,Ue],borderSpacing:D(),borderWidth:N(),contrast:pe(),grayscale:B(),hueRotate:pe(),invert:B(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[eG,Gi],inset:M(),margin:M(),opacity:pe(),padding:D(),saturate:pe(),scale:pe(),sepia:B(),skew:pe(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Ue]}],container:["container"],columns:[{columns:[Qi]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ae(),Ue]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zu,Ue]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ue]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",zu,Ue]}],"grid-cols":[{"grid-cols":[Ku]}],"col-start-end":[{col:["auto",{span:["full",zu,Ue]},Ue]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Ku]}],"row-start-end":[{row:["auto",{span:[zu,Ue]},Ue]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ue]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ue,e]}],"min-w":[{"min-w":[Ue,e,"min","max","fit"]}],"max-w":[{"max-w":[Ue,e,"none","full","min","max","fit","prose",{screen:[Qi]},Qi]}],h:[{h:[Ue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Qi,Gi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",rw]}],"font-family":[{font:[Ku]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ue]}],"line-clamp":[{"line-clamp":["none",fc,rw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xs,Ue]}],"list-image":[{"list-image":["none",Ue]}],"list-style-type":[{list:["none","disc","decimal",Ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xs,Gi]}],"underline-offset":[{"underline-offset":["auto",Xs,Ue]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ae(),rG]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",nG]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},iG]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:te()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[Xs,Ue]}],"outline-w":[{outline:[Xs,Gi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Xs,Gi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Qi,oG]}],"shadow-color":[{shadow:[Ku]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Qi,Ue]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[S]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ue]}],duration:[{duration:pe()}],ease:[{ease:["linear","in","out","in-out",Ue]}],delay:[{delay:pe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[zu,Ue]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ue]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Xs,Gi,rw]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},dG=Hq(uG);function de(...t){return dG(Dq(t))}const nf=Pq,rf=Nq,hG=m.forwardRef(({className:t,inset:e,children:n,...r},s)=>h.jsxs(nO,{ref:s,className:de("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,h.jsx(wD,{className:"ml-auto h-4 w-4"})]}));hG.displayName=nO.displayName;const fG=m.forwardRef(({className:t,...e},n)=>h.jsx(rO,{ref:n,className:de("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));fG.displayName=rO.displayName;const du=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(kq,{children:h.jsx(QM,{ref:r,sideOffset:e,className:de("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));du.displayName=QM.displayName;const Ds=m.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(XM,{ref:r,className:de("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Ds.displayName=XM.displayName;const pG=m.forwardRef(({className:t,children:e,checked:n,...r},s)=>h.jsxs(JM,{ref:s,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(eO,{children:h.jsx(yD,{className:"h-4 w-4"})})}),e]}));pG.displayName=JM.displayName;const mG=m.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(ZM,{ref:r,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(eO,{children:h.jsx(MW,{className:"h-2 w-2 fill-current"})})}),e]}));mG.displayName=ZM.displayName;const uO=m.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(YM,{ref:r,className:de("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));uO.displayName=YM.displayName;const DE=m.forwardRef(({className:t,...e},n)=>h.jsx(tO,{ref:n,className:de("-mx-1 my-1 h-px bg-muted",t),...e}));DE.displayName=tO.displayName;const gG=t=>Object.entries(t).map(([e,n])=>({id:Date.now().toString(),key:e,value:n})),yG=t=>t<1024?t+" bytes":t<1048576?(t/1024).toFixed(1)+" KB":(t/1048576).toFixed(1)+" MB",dh=t=>{try{const e=decodeURIComponent(t),n=e.lastIndexOf("/")+1,r=e.indexOf("?alt=");return n!==-1&&r!==-1?e.substring(n,r):null}catch(e){return console.error("Failed to extract filename:",e),null}},ME=t=>t&&t.charAt(0).toUpperCase()+t.slice(1);function dO(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=dO(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function vG(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=dO(t))&&(r&&(r+=" "),r+=e);return r}const DC=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,MC=vG,sf=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return MC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],d=i==null?void 0:i[c];if(u===null)return null;const p=DC(u)||DC(d);return s[c][p]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,p]=u;return p===void 0||(c[d]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:p,...g}=u;return Object.entries(g).every(w=>{let[v,x]=w;return Array.isArray(x)?x.includes({...i,...a}[v]):{...i,...a}[v]===x})?[...c,d,p]:c},[]);return MC(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},wG=sf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function uy({className:t,variant:e,...n}){return h.jsx("div",{className:de(wG({variant:e}),t),...n})}const _G=({text:t,children:e})=>{const n=Gh(),r=Pt(o=>o.admin),s=Pt(o=>o.logout),i=o=>{switch(o){case"admin":return h.jsx(zW,{className:"mr-2 h-4 w-4"});case"editor":return h.jsx(KW,{className:"mr-2 h-4 w-4"});case"viewer":return h.jsx(lE,{className:"mr-2 h-4 w-4"})}};return r?h.jsxs("header",{className:"w-full flex flex-col items-center ",children:[h.jsxs("div",{className:"w-full px-8 h-14 flex items-center justify-between",children:[h.jsx("p",{children:t}),h.jsxs(nf,{children:[h.jsx(rf,{asChild:!0,children:h.jsx("div",{className:"hover:bg-slate-200 rounded-lg p-2 cursor-pointer",children:h.jsx(WW,{})})}),h.jsxs(du,{align:"end",className:"w-64 bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[h.jsx(uO,{className:"font-normal",children:h.jsxs("div",{className:"flex flex-col space-y-1",children:[h.jsx("p",{className:"text-sm font-medium truncate leading-tight",title:r.email,children:r.email}),h.jsxs("div",{className:"flex items-center pt-1",children:[i(r.role),h.jsx(uy,{variant:"secondary",className:de("flex w-16 items-center justify-center pointer-events-none select-none",r.role==="admin"&&"bg-red-200 text-red-800",r.role==="editor"&&"bg-blue-200 text-blue-800",r.role==="viewer"&&"bg-green-200 text-green-800"),children:ME(r.role)})]})]})}),h.jsx(DE,{}),h.jsxs(Ds,{onClick:s,className:"flex items-center",children:[h.jsx(UW,{className:"mr-2 h-4 w-4"}),h.jsx("span",{children:"Log out"})]})]})]})]}),e]}):(n("/login"),null)},xG=({Component:t})=>h.jsx("div",{className:"flex-1 flex justify-center =py-3",children:h.jsx(t,{})}),EG=({headerText:t})=>h.jsx("header",{className:"py-4 text-3xl font-semibold w-full",children:t});function sw(){return Date.now().toString()}const yt=()=>{const t=new Date,e={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};return t.toLocaleDateString("en-US",e)},iw="https://chatbot-api-0zup.onrender.com",dy=async(t,e)=>{const{method:n="GET",headers:r={},body:s}=e,{accessToken:i,setAccessToken:o,logout:a}=Pt.getState(),l={method:n,credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer ${i}`,...r},...s&&{body:JSON.stringify(s)}};try{let c=await fetch(`${iw}${t}`,l);if(c.status===401){gt("Fetching new access token");const d=await fetch(`${iw}/api/auth/refresh-token`,{method:"POST",credentials:"include"});d.status===404&&a();const{accessToken:p}=await d.json();o(p),l.headers={...l.headers,authorization:`Bearer ${p}`},c=await fetch(`${iw}${t}`,l)}return await c.json()}catch(c){throw console.error("Request failed:",c),c}},of=(t,e)=>dy(t,{method:"GET",headers:e}),gl=(t,e,n)=>dy(t,{method:"POST",headers:e,body:n}),hy=(t,e,n)=>dy(t,{method:"PUT",headers:e,body:n}),OE=(t,e,n)=>dy(t,{method:"DELETE",headers:e,body:n}),TG=async t=>{const e={userQuery:t},{success:n,response:r}=await gl("/api/chatbot/query-admin",{},e);if(!n)throw new Error(`Sending query to chatbot was unsuccessful: ${r}`);return r},SG=async()=>{const{success:t,response:e}=await gl("/api/chatbot/train",{});if(!t)throw new Error(`Training model is unsuccessful: ${e}`)},hO=()=>e=>new Promise(n=>{setTimeout(n,e)}),pi=ji()(Jk((t,e)=>({currentSelectedTabInSettingsTab:"team",currentSelectedTabInArchiveTab:"knowledgeBases",currentSelectedKnowledgeTab:"knowledgeBase",messageHistory:[],setCurrentSelectedTabInSettingsTab:n=>t({currentSelectedTabInSettingsTab:n}),setCurrentSelectedTabInArchiveTab:n=>t({currentSelectedTabInArchiveTab:n}),setCurrentSelectedKnowledgeTab:n=>t({currentSelectedKnowledgeTab:n}),setMessageHistory:n=>t(r=>({messageHistory:r.messageHistory.length>=100?[...r.messageHistory.slice(1),n]:[...r.messageHistory,n]})),clearMessageHistory:()=>{e().messageHistory.length!==0&&t({messageHistory:[]})}}),{name:"auth-storage",storage:nE(()=>sessionStorage)})),bG=()=>{const t=hO(),e=pi(x=>x.messageHistory),n=pi(x=>x.setMessageHistory),r=pi(x=>x.clearMessageHistory),[s,i]=m.useState(null),[o,a]=m.useState(!1),l=m.useRef(null),c=()=>{var x;(x=l.current)==null||x.scrollIntoView({behavior:"smooth"})};m.useEffect(()=>{c()},[e]);const u=x=>x.replace(/\[=[^\]]+=\]/g,"").trim(),d=x=>{var y;const _=/\[\=([^\]]+)\=\]/;if(_.test(x)){const S=x.match(_);if(S){const A=(y=dh(S[1]))==null?void 0:y.split(".")[1];return{type:"file",source:S[1],fileType:A??"unknown"}}}},p=x=>{const _={uuid:sw(),text:x,sender:"user"};n(_)},g=x=>{const _={uuid:sw(),text:x.answer,sender:"bot",response:x};i(x),o||a(!0),n(_)},w=(x,_)=>{const y={uuid:sw(),sender:"bot",fileData:{source:x,type:_}};n(y)};return{messageHistory:e,clearMessageHistory:r,handleSubmitMessage:async x=>{try{if(!x)throw new Error("Message is empty");p(x);const _=await TG(x),y=d(_.answer);if(!y){g(_);return}const S=u(_.answer),A={..._,answer:S};g(A),await t(1e3),y.type==="file"&&w(y.source,y.fileType)}catch(_){if(_ instanceof Error){gt(_.message,!0);return}console.error("Unknown error occured: ",_)}},endOfMessagesRef:l,selectedResponse:s,setSelectedResponse:i,isInfoPanelOpen:o,setIsInfoPanelOpen:a}};var LE="Progress",jE=100,[IG,Rde]=ou(LE),[CG,AG]=IG(LE),fO=m.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=RG,...o}=t;(s||s===0)&&!OC(s)&&console.error(PG(`${s}`,"Progress"));const a=OC(s)?s:jE;r!==null&&!LC(r,a)&&console.error(NG(`${r}`,"Progress"));const l=LC(r,a)?r:null,c=Qm(l)?i(l,a):void 0;return h.jsx(CG,{scope:n,value:l,max:a,children:h.jsx(_e.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Qm(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":gO(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});fO.displayName=LE;var pO="ProgressIndicator",mO=m.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=AG(pO,n);return h.jsx(_e.div,{"data-state":gO(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});mO.displayName=pO;function RG(t,e){return`${Math.round(t/e*100)}%`}function gO(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Qm(t){return typeof t=="number"}function OC(t){return Qm(t)&&!isNaN(t)&&t>0}function LC(t,e){return Qm(t)&&!isNaN(t)&&t<=e&&t>=0}function PG(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${jE}\`.`}function NG(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${jE} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var yO=fO,kG=mO;const vO=m.forwardRef(({className:t,value:e,...n},r)=>h.jsx(yO,{ref:r,className:de("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:h.jsx(kG,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));vO.displayName=yO.displayName;const DG=({responseData:t,showPanel:e})=>{var r,s,i;const n=()=>t==null?void 0:t.classifications.slice(0,3).filter(a=>a.intent!=="None"&&a.score>0);return h.jsx("div",{className:`bg-gray-50  transition-all duration-300 ease-in-out overflow-hidden ${e?"w-64 border-l border-neutral-200":"w-0"}`,children:h.jsx("div",{className:"w-64 h-full",children:h.jsxs("div",{className:de(`p-4 h-full flex flex-col transition-opacity duration-300,
            showPanel ? "opacity-100" : "opacity-0"
            }`),children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-700 mb-4 flex items-center",children:[h.jsx(LW,{className:"w-5 h-5 mr-2"}),"Bot Response Info"]}),t?h.jsxs("div",{className:"space-y-4 flex-grow",children:[h.jsxs("div",{children:[h.jsxs("h3",{className:"flex items-center justify-between space-x-2 text-sm font-medium text-gray-700 mb-1",children:[h.jsx("p",{children:"Confidence Score "}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(bD,{className:"size-4 mr-1 text-yellow-400 fill-yellow-400"}),h.jsx("span",{className:"text-sm font-medium text-gray-600",children:t.score.toFixed(2)})]})]}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsx(vO,{value:t.score*100,className:"w-full"})})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Detected Intent"}),h.jsx(uy,{variant:"outline",children:t==null?void 0:t.intent})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Other Possible Intents"}),h.jsx("ul",{className:de("list-disc space-y-1",((r=n())==null?void 0:r.length)&&"pl-5"),children:(s=n())!=null&&s.length?(i=n())==null?void 0:i.map((o,a)=>h.jsx("li",{className:"text-sm ",children:h.jsxs("div",{className:"line-clamp-3",children:[h.jsx("span",{children:o.intent}),h.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",o.score.toFixed(2),")"]})]})},a)):h.jsx("span",{className:"text-sm text-muted-foreground",children:"No other intents detected"})})]})]}):h.jsx("div",{className:"text-center text-gray-500",children:"No bot response yet. Start a conversation to see details."})]})})})},sn=m.forwardRef(({className:t,type:e,...n},r)=>h.jsx("input",{type:e,className:de("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));sn.displayName="Input";const VE=sf("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),at=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Bo:"button";return h.jsx(o,{className:de(VE({variant:e,size:n,className:t})),ref:i,...s})});at.displayName="Button";const MG=({onSendMessage:t})=>{const[e,n]=m.useState(""),[r,s]=m.useState([]),[i,o]=m.useState(-1),a=d=>{s(p=>{const g=[...p,d];return g.length>3?g.slice(1):g})},l=d=>{n(d.target.value),o(-1)},c=async()=>{const d=e;a(d),n(""),await t(d)},u=async d=>{d.key==="Enter"&&e.trim()!==""&&await c(),d.key==="ArrowUp"&&(i>0?(o(i-1),n(r[i-1])):i===-1&&r.length>0&&(o(r.length-1),n(r[r.length-1]))),d.key==="ArrowDown"&&(i<r.length-1?(o(i+1),n(r[i+1])):(o(-1),n("")))};return h.jsxs("div",{className:"w-full h-[5rem] border-t border-t-customBorderColor flex items-center justify-between px-4 space-x-2",children:[h.jsx(sn,{placeholder:"Type message here",value:e,onChange:l,onKeyDown:u}),h.jsxs(at,{onClick:async()=>await c(),children:[h.jsx(SD,{className:"size-4 mr-2"}),"Send"]})]})},OG=["png","jpg","jpeg","jfif"],LG=["mp4"],jG=["pdf"],VG=({message:t,onItemClick:e})=>{const n=s=>/{=([^{}]+)=}/.test(s),r=s=>{const i=/\[=(.*?)=]/,o=s.match(i),a=/{=([^{}]+)=}/,l=s.match(a),c=/<([^<>]+)>/,u=s.match(c);if(o){const d=o[1],p=s.replace(i,"").trim();return{link:d,text:p}}else if(l&&u){const d=l[1],p=u[1];return{link:s.replace(a,`<a href="${d}" class="font-semibold text-primary dark:text-secondary hover:underline" target="_blank">${p}</a>`).replace(c,"").trim()}}else if(l){const d=l[1];return{link:s.replace(a,`<a href="${d}" class="font-semibold text-primary dark:text-secondary hover:underline" target="_blank">Click here</a>`).trim()}}return{link:"",linkMessage:null,text:s.trim()}};if("fileData"in t){const{source:s,type:i}=t.fileData,o=a=>{if(OG.includes(a))return h.jsx("img",{className:"w-72 rounded-2xl",src:s});if(LG.includes(a))return h.jsx("video",{width:"288",height:"360",className:"rounded-2xl",controls:!0,children:h.jsx("source",{src:s,type:"video/mp4"})});if(jG.includes(a))return h.jsxs("div",{className:"flex space-x-1.5 items-center w-fit rounded-tl-2xl rounded-tr-2xl py-2.5 px-4 text-blue-600 rounded-br-2xl rounded-bl-[2px] bg-gray-100 cursor-pointer",children:[h.jsx(ED,{className:"size-5"}),h.jsx("a",{href:s,target:"_blank",className:"hover:underline underline-offset-2",children:dh(s)??"click here"})]})};return h.jsx(h.Fragment,{children:o(i)})}if(n(t.text)){const{link:s}=r(t.text);return h.jsx("div",{className:"max-w-[80%] rounded-tl-2xl rounded-tr-2xl transition-colors ease-out whitespace-pre-wrap leading-relaxed py-2.5 px-4 rounded-br-2xl rounded-bl-[2px] bg-gray-100 cursor-pointer",dangerouslySetInnerHTML:{__html:s}})}if("text"in t&&"sender"in t||"response"in t){const{text:s,sender:i,response:o}=t;return h.jsx("div",{className:de("flex",i==="user"?"justify-end":"justify-start"),onClick:o?()=>e(o):void 0,children:h.jsx("div",{className:de("max-w-[80%] rounded-tl-2xl rounded-tr-2xl transition-colors ease-out whitespace-pre-wrap leading-relaxed",i==="user"?"text-white py-1.5 px-3.5 rounded-bl-2xl rounded-br-[4px] bg-blue-500":"py-2.5 px-4 rounded-br-2xl rounded-bl-[2px] bg-gray-100 cursor-pointer",o?"hover:bg-gray-200":""),children:s})})}return null},hu=({items:t,renderItem:e,listStyle:n})=>h.jsx("div",{className:n,children:t==null?void 0:t.map((r,s)=>h.jsx(m.Fragment,{children:e(r)},s))});function FG(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}function hh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const G0=t=>Array.isArray(t);function wO(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function fh(t){return typeof t=="string"||Array.isArray(t)}function jC(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function FE(t,e,n,r){if(typeof e=="function"){const[s,i]=jC(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=jC(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function fy(t,e,n){const r=t.getProps();return FE(r,e,n!==void 0?n:r.custom,t)}const UE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],BE=["initial",...UE],af=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sa=new Set(af),mi=t=>t*1e3,gi=t=>t/1e3,UG={type:"spring",stiffness:500,damping:25,restSpeed:10},BG=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),$G={type:"keyframes",duration:.8},zG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},KG=(t,{keyframes:e})=>e.length>2?$G:sa.has(t)?t.startsWith("scale")?BG(e[1]):UG:zG;function WG({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function $E(t,e){return t[e]||t.default||t}const HG={skipAnimations:!1,useManualTiming:!1},qG=t=>t!==null;function py(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(qG),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const Un=t=>t;function GG(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){i.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,u=!1,d=!1)=>{const g=d&&r?e:n;return u&&i.add(c),g.has(c)||g.add(c),c},cancel:c=>{n.delete(c),i.delete(c)},process:c=>{if(o=c,r){s=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,s&&(s=!1,l.process(c))}};return l}const fp=["read","resolveKeyframes","update","preRender","render","postRender"],QG=40;function _O(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=fp.reduce((_,y)=>(_[y]=GG(i),_),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:p}=o,g=()=>{const _=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(_-s.timestamp,QG),1),s.timestamp=_,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),u.process(s),d.process(s),p.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(g))},w=()=>{n=!0,r=!0,s.isProcessing||t(g)};return{schedule:fp.reduce((_,y)=>{const S=o[y];return _[y]=(A,k=!1,O=!1)=>(n||w(),S.schedule(A,k,O)),_},{}),cancel:_=>{for(let y=0;y<fp.length;y++)o[fp[y]].cancel(_)},state:s,steps:o}}const{schedule:dt,cancel:Ni,state:_n,steps:ow}=_O(typeof requestAnimationFrame<"u"?requestAnimationFrame:Un,!0),xO=t=>/^0[^.\s]+$/u.test(t);function YG(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||xO(t):!0}let Q0=Un;const EO=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),TO=t=>e=>typeof e=="string"&&e.startsWith(t),SO=TO("--"),XG=TO("var(--"),zE=t=>XG(t)?JG.test(t.split("/*")[0].trim()):!1,JG=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ZG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function eQ(t){const e=ZG.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function bO(t,e,n=1){const[r,s]=eQ(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return EO(o)?parseFloat(o):o}return zE(s)?bO(s,e,n+1):s}const Ho=(t,e,n)=>n>e?e:n<t?t:n,fu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},xd={...fu,transform:t=>Ho(0,1,t)},pp={...fu,default:1},Ed=t=>Math.round(t*1e5)/1e5,KE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,tQ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,nQ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function lf(t){return typeof t=="string"}function rQ(t){return t==null}const cf=t=>({test:e=>lf(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ji=cf("deg"),Bs=cf("%"),Ie=cf("px"),sQ=cf("vh"),iQ=cf("vw"),VC={...Bs,parse:t=>Bs.parse(t)/100,transform:t=>Bs.transform(t*100)},oQ=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),FC=t=>t===fu||t===Ie,UC=(t,e)=>parseFloat(t.split(", ")[e]),BC=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return UC(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?UC(i[1],t):0}},aQ=new Set(["x","y","z"]),lQ=af.filter(t=>!aQ.has(t));function cQ(t){const e=[];return lQ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Bc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:BC(4,13),y:BC(5,14)};Bc.translateX=Bc.x;Bc.translateY=Bc.y;const IO=t=>e=>e.test(t),uQ={test:t=>t==="auto",parse:t=>t},CO=[fu,Ie,Bs,Ji,iQ,sQ,uQ],$C=t=>CO.find(IO(t)),za=new Set;let Y0=!1,X0=!1;function AO(){if(X0){const t=Array.from(za).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=cQ(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}X0=!1,Y0=!1,za.forEach(t=>t.complete()),za.clear()}function RO(){za.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(X0=!0)})}function dQ(){RO(),AO()}class WE{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(za.add(this),Y0||(Y0=!0,dt.read(RO),dt.resolveKeyframes(AO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),za.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,za.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const HE=(t,e)=>n=>!!(lf(n)&&nQ.test(n)&&n.startsWith(t)||e&&!rQ(n)&&Object.prototype.hasOwnProperty.call(n,e)),PO=(t,e,n)=>r=>{if(!lf(r))return r;const[s,i,o,a]=r.match(KE);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},hQ=t=>Ho(0,255,t),aw={...fu,transform:t=>Math.round(hQ(t))},Ra={test:HE("rgb","red"),parse:PO("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+aw.transform(t)+", "+aw.transform(e)+", "+aw.transform(n)+", "+Ed(xd.transform(r))+")"};function fQ(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const J0={test:HE("#"),parse:fQ,transform:Ra.transform},Xl={test:HE("hsl","hue"),parse:PO("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Bs.transform(Ed(e))+", "+Bs.transform(Ed(n))+", "+Ed(xd.transform(r))+")"},On={test:t=>Ra.test(t)||J0.test(t)||Xl.test(t),parse:t=>Ra.test(t)?Ra.parse(t):Xl.test(t)?Xl.parse(t):J0.parse(t),transform:t=>lf(t)?t:t.hasOwnProperty("red")?Ra.transform(t):Xl.transform(t)};function pQ(t){var e,n;return isNaN(t)&&lf(t)&&(((e=t.match(KE))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(tQ))===null||n===void 0?void 0:n.length)||0)>0}const NO="number",kO="color",mQ="var",gQ="var(",zC="${}",yQ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ph(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(yQ,l=>(On.test(l)?(r.color.push(i),s.push(kO),n.push(On.parse(l))):l.startsWith(gQ)?(r.var.push(i),s.push(mQ),n.push(l)):(r.number.push(i),s.push(NO),n.push(parseFloat(l))),++i,zC)).split(zC);return{values:n,split:a,indexes:r,types:s}}function DO(t){return ph(t).values}function MO(t){const{split:e,types:n}=ph(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===NO?i+=Ed(s[o]):a===kO?i+=On.transform(s[o]):i+=s[o]}return i}}const vQ=t=>typeof t=="number"?0:t;function wQ(t){const e=DO(t);return MO(t)(e.map(vQ))}const qo={test:pQ,parse:DO,createTransformer:MO,getAnimatableNone:wQ},_Q=new Set(["brightness","contrast","saturate","opacity"]);function xQ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(KE)||[];if(!r)return t;const s=n.replace(r,"");let i=_Q.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const EQ=/\b([a-z-]*)\(.*?\)/gu,Z0={...qo,getAnimatableNone:t=>{const e=t.match(EQ);return e?e.map(xQ).join(" "):t}},KC={...fu,transform:Math.round},qE={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,size:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,rotate:Ji,rotateX:Ji,rotateY:Ji,rotateZ:Ji,scale:pp,scaleX:pp,scaleY:pp,scaleZ:pp,skew:Ji,skewX:Ji,skewY:Ji,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:xd,originX:VC,originY:VC,originZ:Ie,zIndex:KC,backgroundPositionX:Ie,backgroundPositionY:Ie,fillOpacity:xd,strokeOpacity:xd,numOctaves:KC},TQ={...qE,color:On,backgroundColor:On,outlineColor:On,fill:On,stroke:On,borderColor:On,borderTopColor:On,borderRightColor:On,borderBottomColor:On,borderLeftColor:On,filter:Z0,WebkitFilter:Z0},GE=t=>TQ[t];function OO(t,e){let n=GE(t);return n!==Z0&&(n=qo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const SQ=new Set(["auto","none","0"]);function bQ(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!SQ.has(i)&&ph(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=OO(n,s)}class LO extends WE{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),zE(c))){const u=bO(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!oQ.has(r)||e.length!==2)return;const[s,i]=e,o=$C(s),a=$C(i);if(o!==a)if(FC(o)&&FC(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)YG(e[s])&&r.push(s);r.length&&bQ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=Bc[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function jO(t){let e;return()=>(e===void 0&&(e=t()),e)}let Qp;function IQ(){Qp=void 0}const $s={now:()=>(Qp===void 0&&$s.set(_n.isProcessing||HG.useManualTiming?_n.timestamp:performance.now()),Qp),set:t=>{Qp=t,queueMicrotask(IQ)}},WC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(qo.test(t)||t==="0")&&!t.startsWith("url("));function CQ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function AQ(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=WC(s,e),a=WC(i,e);return!o||!a?!1:CQ(t)||n==="spring"&&r}const RQ=40;class VO{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=$s.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>RQ?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&dQ(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=$s.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!AQ(e,r,s,i))if(o)this.options.duration=0;else{l==null||l(py(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function FO(t,e){return e?t*(1e3/e):0}const PQ=5;function UO(t,e,n){const r=Math.max(e-PQ,0);return FO(n-t(r),e-r)}const lw=.001,NQ=.01,kQ=10,DQ=.05,MQ=1;function OQ({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=Ho(DQ,MQ,o),t=Ho(NQ,kQ,gi(t)),o<1?(s=c=>{const u=c*o,d=u*t,p=u-n,g=e_(c,o),w=Math.exp(-d);return lw-p/g*w},i=c=>{const d=c*o*t,p=d*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,w=Math.exp(-d),v=e_(Math.pow(c,2),o);return(-s(c)+lw>0?-1:1)*((p-g)*w)/v}):(s=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-lw+u*d},i=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=jQ(s,i,a);if(t=mi(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const LQ=12;function jQ(t,e,n){let r=n;for(let s=1;s<LQ;s++)r=r-t(r)/e(r);return r}function e_(t,e){return t*Math.sqrt(1-e*e)}const VQ=["duration","bounce"],FQ=["stiffness","damping","mass"];function HC(t,e){return e.some(n=>t[n]!==void 0)}function UQ(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!HC(t,FQ)&&HC(t,VQ)){const n=OQ(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function BO({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:c,duration:u,velocity:d,isResolvedFromDuration:p}=UQ({...r,velocity:-gi(r.velocity||0)}),g=d||0,w=l/(2*Math.sqrt(a*c)),v=i-s,x=gi(Math.sqrt(a/c)),_=Math.abs(v)<5;n||(n=_?.01:2),e||(e=_?.005:.5);let y;if(w<1){const S=e_(x,w);y=A=>{const k=Math.exp(-w*x*A);return i-k*((g+w*x*v)/S*Math.sin(S*A)+v*Math.cos(S*A))}}else if(w===1)y=S=>i-Math.exp(-x*S)*(v+(g+x*v)*S);else{const S=x*Math.sqrt(w*w-1);y=A=>{const k=Math.exp(-w*x*A),O=Math.min(S*A,300);return i-k*((g+w*x*v)*Math.sinh(O)+S*v*Math.cosh(O))/S}}return{calculatedDuration:p&&u||null,next:S=>{const A=y(S);if(p)o.done=S>=u;else{let k=0;w<1&&(k=S===0?mi(g):UO(y,S,A));const O=Math.abs(k)<=n,I=Math.abs(i-A)<=e;o.done=O&&I}return o.value=o.done?i:A,o}}}function qC({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],p={done:!1,value:d},g=T=>a!==void 0&&T<a||l!==void 0&&T>l,w=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let v=n*e;const x=d+v,_=o===void 0?x:o(x);_!==x&&(v=_-d);const y=T=>-v*Math.exp(-T/r),S=T=>_+y(T),A=T=>{const C=y(T),R=S(T);p.done=Math.abs(C)<=c,p.value=p.done?_:R};let k,O;const I=T=>{g(p.value)&&(k=T,O=BO({keyframes:[p.value,w(p.value)],velocity:UO(S,T,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return I(0),{calculatedDuration:null,next:T=>{let C=!1;return!O&&k===void 0&&(C=!0,A(T),I(T)),k!==void 0&&T>=k?O.next(T-k):(!C&&A(T),p)}}}const $O=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,BQ=1e-7,$Q=12;function zQ(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=$O(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>BQ&&++a<$Q);return o}function uf(t,e,n,r){if(t===e&&n===r)return Un;const s=i=>zQ(i,0,1,t,n);return i=>i===0||i===1?i:$O(s(i),e,r)}const KQ=uf(.42,0,1,1),WQ=uf(0,0,.58,1),zO=uf(.42,0,.58,1),HQ=t=>Array.isArray(t)&&typeof t[0]!="number",KO=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,WO=t=>e=>1-t(1-e),QE=t=>1-Math.sin(Math.acos(t)),HO=WO(QE),qQ=KO(QE),qO=uf(.33,1.53,.69,.99),YE=WO(qO),GQ=KO(YE),QQ=t=>(t*=2)<1?.5*YE(t):.5*(2-Math.pow(2,-10*(t-1))),GC={linear:Un,easeIn:KQ,easeInOut:zO,easeOut:WQ,circIn:QE,circInOut:qQ,circOut:HO,backIn:YE,backInOut:GQ,backOut:qO,anticipate:QQ},QC=t=>{if(Array.isArray(t)){Q0(t.length===4);const[e,n,r,s]=t;return uf(e,n,r,s)}else if(typeof t=="string")return Q0(GC[t]!==void 0),GC[t];return t},YQ=(t,e)=>n=>e(t(n)),yi=(...t)=>t.reduce(YQ),mh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},jt=(t,e,n)=>t+(e-t)*n;function cw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function XQ({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=cw(l,a,t+1/3),i=cw(l,a,t),o=cw(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Ym(t,e){return n=>n>0?e:t}const uw=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},JQ=[J0,Ra,Xl],ZQ=t=>JQ.find(e=>e.test(t));function YC(t){const e=ZQ(t);if(!e)return!1;let n=e.parse(t);return e===Xl&&(n=XQ(n)),n}const XC=(t,e)=>{const n=YC(t),r=YC(e);if(!n||!r)return Ym(t,e);const s={...n};return i=>(s.red=uw(n.red,r.red,i),s.green=uw(n.green,r.green,i),s.blue=uw(n.blue,r.blue,i),s.alpha=jt(n.alpha,r.alpha,i),Ra.transform(s))},t_=new Set(["none","hidden"]);function eY(t,e){return t_.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function tY(t,e){return n=>jt(t,e,n)}function XE(t){return typeof t=="number"?tY:typeof t=="string"?zE(t)?Ym:On.test(t)?XC:sY:Array.isArray(t)?GO:typeof t=="object"?On.test(t)?XC:nY:Ym}function GO(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>XE(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function nY(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=XE(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function rY(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][s[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const sY=(t,e)=>{const n=qo.createTransformer(e),r=ph(t),s=ph(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?t_.has(t)&&!s.values.length||t_.has(e)&&!r.values.length?eY(t,e):yi(GO(rY(r,s),s.values),n):Ym(t,e)};function QO(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?jt(t,e,n):XE(t)(t,e)}function iY(t,e,n){const r=[],s=n||QO,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Un:e;a=yi(l,a)}r.push(a)}return r}function oY(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Q0(i===e.length),i===1)return()=>e[0];if(i===2&&t[0]===t[1])return()=>e[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=iY(e,r,s),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const d=mh(t[u],t[u+1],c);return o[u](d)};return n?c=>l(Ho(t[0],t[i-1],c)):l}function aY(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=mh(0,e,r);t.push(jt(n,1,s))}}function lY(t){const e=[0];return aY(e,t.length-1),e}function cY(t,e){return t.map(n=>n*e)}function uY(t,e){return t.map(()=>e||zO).splice(0,t.length-1)}function Xm({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=HQ(r)?r.map(QC):QC(r),i={done:!1,value:e[0]},o=cY(n&&n.length===e.length?n:lY(e),t),a=oY(o,e,{ease:Array.isArray(s)?s:uY(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const JC=2e4;function dY(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<JC;)e+=n,r=t.next(e);return e>=JC?1/0:e}const hY=t=>{const e=({timestamp:n})=>t(n);return{start:()=>dt.update(e,!0),stop:()=>Ni(e),now:()=>_n.isProcessing?_n.timestamp:$s.now()}},fY={decay:qC,inertia:qC,tween:Xm,keyframes:Xm,spring:BO},pY=t=>t/100;class JE extends VO{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||WE,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=fY[n]||Xm;let l,c;a!==Xm&&typeof e[0]!="number"&&(l=yi(pY,QO(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});i==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=dY(u));const{calculatedDuration:d}=u,p=d+s,g=p*(r+1)-s;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:p,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=r;if(this.startTime===null)return i.next(0);const{delay:p,repeat:g,repeatType:w,repeatDelay:v,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const _=this.currentTime-p*(this.speed>=0?1:-1),y=this.speed>=0?_<0:_>u;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let S=this.currentTime,A=i;if(g){const T=Math.min(this.currentTime,u)/d;let C=Math.floor(T),R=T%1;!R&&T>=1&&(R=1),R===1&&C--,C=Math.min(C,g+1),!!(C%2)&&(w==="reverse"?(R=1-R,v&&(R-=v/d)):w==="mirror"&&(A=o)),S=Ho(0,1,R)*d}const k=y?{done:!1,value:l[0]}:A.next(S);a&&(k.value=a(k.value));let{done:O}=k;!y&&c!==null&&(O=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return I&&s!==void 0&&(k.value=py(l,this.options,s)),x&&x(k.value),I&&this.finish(),k}get duration(){const{resolved:e}=this;return e?gi(e.calculatedDuration):0}get time(){return gi(this.currentTime)}set time(e){e=mi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=gi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=hY,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const YO=new Set(["opacity","clipPath","filter","transform"]),XO=t=>Array.isArray(t)&&typeof t[0]=="number";function JO(t){return!!(!t||typeof t=="string"&&t in ZE||XO(t)||Array.isArray(t)&&t.every(JO))}const rd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,ZE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:rd([0,.65,.55,1]),circOut:rd([.55,0,1,.45]),backIn:rd([.31,.01,.66,-.59]),backOut:rd([.33,1.53,.69,.99])};function mY(t){return ZO(t)||ZE.easeOut}function ZO(t){if(t)return XO(t)?rd(t):Array.isArray(t)?t.map(mY):ZE[t]}function gY(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=ZO(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const yY=jO(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Jm=10,vY=2e4;function wY(t){return t.type==="spring"||!JO(t.ease)}function _Y(t,e){const n=new JE({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<vY;)r=n.sample(i),s.push(r.value),i+=Jm;return{times:void 0,keyframes:s,duration:i-Jm,ease:"linear"}}class ZC extends VO{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new LO(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:s=300,times:i,ease:o,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(wY(this.options)){const{onComplete:p,onUpdate:g,motionValue:w,element:v,...x}=this.options,_=_Y(e,x);e=_.keyframes,e.length===1&&(e[1]=e[0]),s=_.duration,i=_.times,o=_.ease,a="keyframes"}const d=gY(l.owner.current,c,e,{...this.options,duration:s,times:i,ease:o});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(d.timeline=this.pendingTimeline,this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:p}=this.options;l.set(py(e,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:s,times:i,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return gi(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return gi(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=mi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Un;const{animation:r}=n;r.timeline=e,r.onfinish=null}return Un}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:p,...g}=this.options,w=new JE({...g,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),v=mi(this.time);c.setWithVelocity(w.sample(v-Jm).value,w.sample(v).value,Jm)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=e;return yY()&&r&&YO.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}function xY(t,e){let n;const r=()=>{const{currentTime:s}=e,o=(s===null?0:s.value)/100;n!==o&&t(o),n=o};return dt.update(r,!0),()=>Ni(r)}const EY=jO(()=>window.ScrollTimeline!==void 0);class TY{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(EY()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),xY(s=>{r.time=r.duration*s},e)});return()=>{n.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const eT=(t,e,n,r={},s,i,o)=>a=>{const l=$E(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-mi(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{a(),l.onComplete&&l.onComplete(),o&&o()},onStop:o,name:t,motionValue:e,element:i?void 0:s};WG(l)||(d={...d,...KG(t,d)}),d.duration&&(d.duration=mi(d.duration)),d.repeatDelay&&(d.repeatDelay=mi(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(p=!0)),p&&!i&&e.get()!==void 0){const g=py(d.keyframes,l);if(g!==void 0)return dt.update(()=>{d.onUpdate(g),d.onComplete()}),new TY([])}return!i&&ZC.supports(d)?new ZC(d):new JE(d)},SY=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),bY=t=>G0(t)?t[t.length-1]||0:t;function my(t,e){t.indexOf(e)===-1&&t.push(e)}function gy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class tT{constructor(){this.subscriptions=[]}add(e){return my(this.subscriptions,e),()=>gy(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const eA=30,IY=t=>!isNaN(parseFloat(t));class eL{constructor(e,n={}){this.version="11.5.6",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=$s.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=$s.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=IY(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new tT);const r=this.events[e].add(n);return e==="change"?()=>{r(),dt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=$s.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>eA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,eA);return FO(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gh(t,e){return new eL(t,e)}function CY(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,gh(n))}function AY(t,e){const n=fy(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=bY(i[o]);CY(t,o,a)}}const yy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),RY="framerAppearId",tL="data-"+yy(RY);function nL(t){return t.props[tL]}function rL(t){if(sa.has(t))return"transform";if(YO.has(t))return yy(t)}class PY extends eL{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(e){const n=rL(e);if(!n)return;const r=this.counts.get(n)||0;this.counts.set(n,r+1),r===0&&(this.output.push(n),this.update());let s=!1;return()=>{if(s)return;s=!0;const i=this.counts.get(n)-1;this.counts.set(n,i),i===0&&(gy(this.output,n),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}const Fn=t=>!!(t&&t.getVelocity);function NY(t){return!!(Fn(t)&&t.add)}function n_(t,e){var n;if(!t.applyWillChange)return;let r=t.getValue("willChange");if(!r&&!(!((n=t.props.style)===null||n===void 0)&&n.willChange)&&(r=new PY("auto"),t.addValue("willChange",r)),NY(r))return r.add(e)}function kY({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function sL(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const d in l){const p=t.getValue(d,(i=t.latestValues[d])!==null&&i!==void 0?i:null),g=l[d];if(g===void 0||u&&kY(u,d))continue;const w={delay:n,...$E(o||{},d)};let v=!1;if(window.MotionHandoffAnimation){const _=nL(t);if(_){const y=window.MotionHandoffAnimation(_,d,dt);y!==null&&(w.startTime=y,v=!0)}}p.start(eT(d,p,g,t.shouldReduceMotion&&sa.has(d)?{type:!1}:w,t,v,n_(t,d)));const x=p.animation;x&&c.push(x)}return a&&Promise.all(c).then(()=>{dt.update(()=>{a&&AY(t,a)})}),c}function r_(t,e,n={}){var r;const s=fy(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(sL(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:p}=i;return DY(t,e,u+c,d,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function DY(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(MY).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(r_(c,e,{...i,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function MY(t,e){return t.sortNodePosition(e)}function OY(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>r_(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=r_(t,e,n);else{const s=typeof e=="function"?fy(t,e,n.custom):e;r=Promise.all(sL(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const LY=BE.length;function iL(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?iL(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<LY;n++){const r=BE[n],s=t.props[r];(fh(s)||s===!1)&&(e[r]=s)}return e}const jY=[...UE].reverse(),VY=UE.length;function FY(t){return e=>Promise.all(e.map(({animation:n,options:r})=>OY(t,n,r)))}function UY(t){let e=FY(t),n=tA(),r=!0;const s=l=>(c,u)=>{var d;const p=fy(t,u,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(p){const{transition:g,transitionEnd:w,...v}=p;c={...c,...v,...w}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,u=iL(t.parent)||{},d=[],p=new Set;let g={},w=1/0;for(let x=0;x<VY;x++){const _=jY[x],y=n[_],S=c[_]!==void 0?c[_]:u[_],A=fh(S),k=_===l?y.isActive:null;k===!1&&(w=x);let O=S===u[_]&&S!==c[_]&&A;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),y.protectedKeys={...g},!y.isActive&&k===null||!S&&!y.prevProp||hh(S)||typeof S=="boolean")continue;const I=BY(y.prevProp,S);let T=I||_===l&&y.isActive&&!O&&A||x>w&&A,C=!1;const R=Array.isArray(S)?S:[S];let M=R.reduce(s(_),{});k===!1&&(M={});const{prevResolvedValues:D={}}=y,N={...D,...M},H=ne=>{T=!0,p.has(ne)&&(C=!0,p.delete(ne)),y.needsAnimating[ne]=!0;const z=t.getValue(ne);z&&(z.liveStyle=!1)};for(const ne in N){const z=M[ne],B=D[ne];if(g.hasOwnProperty(ne))continue;let Z=!1;G0(z)&&G0(B)?Z=!wO(z,B):Z=z!==B,Z?z!=null?H(ne):p.add(ne):z!==void 0&&p.has(ne)?H(ne):y.protectedKeys[ne]=!0}y.prevProp=S,y.prevResolvedValues=M,y.isActive&&(g={...g,...M}),r&&t.blockInitialAnimation&&(T=!1),T&&(!(O&&I)||C)&&d.push(...R.map(ne=>({animation:ne,options:{type:_}})))}if(p.size){const x={};p.forEach(_=>{const y=t.getBaseTarget(_),S=t.getValue(_);S&&(S.liveStyle=!0),x[_]=y??null}),d.push({animation:x})}let v=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(d):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=tA(),r=!0}}}function BY(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!wO(e,t):!1}function va(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tA(){return{animate:va(!0),whileInView:va(),whileHover:va(),whileTap:va(),whileDrag:va(),whileFocus:va(),exit:va()}}class ia{constructor(e){this.isMounted=!1,this.node=e}update(){}}class $Y extends ia{constructor(e){super(e),e.animationState||(e.animationState=UY(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();hh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let zY=0;class KY extends ia{constructor(){super(...arguments),this.id=zY++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const WY={animation:{Feature:$Y},exit:{Feature:KY}},oL=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function vy(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const HY=t=>e=>oL(e)&&t(e,vy(e));function ci(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function vi(t,e,n,r){return ci(t,e,HY(n),r)}const nA=(t,e)=>Math.abs(t-e);function qY(t,e){const n=nA(t.x,e.x),r=nA(t.y,e.y);return Math.sqrt(n**2+r**2)}class aL{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=hw(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=qY(d.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:w}=d,{timestamp:v}=_n;this.history.push({...w,timestamp:v});const{onStart:x,onMove:_}=this.handlers;p||(x&&x(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=dw(p,this.transformPagePoint),dt.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:g,onSessionEnd:w,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=hw(d.type==="pointercancel"?this.lastMoveEventInfo:dw(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(d,x),w&&w(d,x)},!oL(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=vy(e),a=dw(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=_n;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,hw(a,this.history)),this.removeListeners=yi(vi(this.contextWindow,"pointermove",this.handlePointerMove),vi(this.contextWindow,"pointerup",this.handlePointerUp),vi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ni(this.updatePoint)}}function dw(t,e){return e?{point:e(t.point)}:t}function rA(t,e){return{x:t.x-e.x,y:t.y-e.y}}function hw({point:t},e){return{point:t,delta:rA(t,lL(e)),offset:rA(t,GY(e)),velocity:QY(e,.1)}}function GY(t){return t[0]}function lL(t){return t[t.length-1]}function QY(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=lL(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>mi(e)));)n--;if(!r)return{x:0,y:0};const i=gi(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function cL(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const sA=cL("dragHorizontal"),iA=cL("dragVertical");function uL(t){let e=!1;if(t==="y")e=iA();else if(t==="x")e=sA();else{const n=sA(),r=iA();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function dL(){const t=uL(!0);return t?(t(),!1):!0}function Jl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const hL=1e-4,YY=1-hL,XY=1+hL,fL=.01,JY=0-fL,ZY=0+fL;function Rr(t){return t.max-t.min}function eX(t,e,n){return Math.abs(t-e)<=n}function oA(t,e,n,r=.5){t.origin=r,t.originPoint=jt(e.min,e.max,t.origin),t.scale=Rr(n)/Rr(e),t.translate=jt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=YY&&t.scale<=XY||isNaN(t.scale))&&(t.scale=1),(t.translate>=JY&&t.translate<=ZY||isNaN(t.translate))&&(t.translate=0)}function Td(t,e,n,r){oA(t.x,e.x,n.x,r?r.originX:void 0),oA(t.y,e.y,n.y,r?r.originY:void 0)}function aA(t,e,n){t.min=n.min+e.min,t.max=t.min+Rr(e)}function tX(t,e,n){aA(t.x,e.x,n.x),aA(t.y,e.y,n.y)}function lA(t,e,n){t.min=e.min-n.min,t.max=t.min+Rr(e)}function Sd(t,e,n){lA(t.x,e.x,n.x),lA(t.y,e.y,n.y)}function nX(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?jt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?jt(n,t,r.max):Math.min(t,n)),t}function cA(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function rX(t,{top:e,left:n,bottom:r,right:s}){return{x:cA(t.x,n,s),y:cA(t.y,e,r)}}function uA(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function sX(t,e){return{x:uA(t.x,e.x),y:uA(t.y,e.y)}}function iX(t,e){let n=.5;const r=Rr(t),s=Rr(e);return s>r?n=mh(e.min,e.max-r,t.min):r>s&&(n=mh(t.min,t.max-s,e.min)),Ho(0,1,n)}function oX(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const s_=.35;function aX(t=s_){return t===!1?t=0:t===!0&&(t=s_),{x:dA(t,"left","right"),y:dA(t,"top","bottom")}}function dA(t,e,n){return{min:hA(t,e),max:hA(t,n)}}function hA(t,e){return typeof t=="number"?t:t[e]||0}const fA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zl=()=>({x:fA(),y:fA()}),pA=()=>({min:0,max:0}),Gt=()=>({x:pA(),y:pA()});function jr(t){return[t("x"),t("y")]}function pL({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function lX({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function cX(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function fw(t){return t===void 0||t===1}function i_({scale:t,scaleX:e,scaleY:n}){return!fw(t)||!fw(e)||!fw(n)}function Ea(t){return i_(t)||mL(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function mL(t){return mA(t.x)||mA(t.y)}function mA(t){return t&&t!=="0%"}function Zm(t,e,n){const r=t-n,s=e*r;return n+s}function gA(t,e,n,r,s){return s!==void 0&&(t=Zm(t,s,r)),Zm(t,n,r)+e}function o_(t,e=0,n=1,r,s){t.min=gA(t.min,e,n,r,s),t.max=gA(t.max,e,n,r,s)}function gL(t,{x:e,y:n}){o_(t.x,e.translate,e.scale,e.originPoint),o_(t.y,n.translate,n.scale,n.originPoint)}const yA=.999999999999,vA=1.0000000000001;function uX(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&tc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,gL(t,o)),r&&Ea(i.latestValues)&&tc(t,i.latestValues))}e.x<vA&&e.x>yA&&(e.x=1),e.y<vA&&e.y>yA&&(e.y=1)}function ec(t,e){t.min=t.min+e,t.max=t.max+e}function wA(t,e,n,r,s=.5){const i=jt(t.min,t.max,s);o_(t,e,n,i,r)}function tc(t,e){wA(t.x,e.x,e.scaleX,e.scale,e.originX),wA(t.y,e.y,e.scaleY,e.scale,e.originY)}function yL(t,e){return pL(cX(t.getBoundingClientRect(),e))}function dX(t,e,n){const r=yL(t,n),{scroll:s}=e;return s&&(ec(r.x,s.offset.x),ec(r.y,s.offset.y)),r}const vL=({current:t})=>t?t.ownerDocument.defaultView:null,hX=new WeakMap;class fX{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Gt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(vy(u,"page").point)},i=(u,d)=>{var p;const{drag:g,dragPropagation:w,onDragStart:v}=this.getProps();if(g&&!w&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=uL(g),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jr(_=>{let y=this.getAxisMotionValue(_).get()||0;if(Bs.test(y)){const{projection:S}=this.visualElement;if(S&&S.layout){const A=S.layout.layoutBox[_];A&&(y=Rr(A)*(parseFloat(y)/100))}}this.originPoint[_]=y}),v&&dt.postRender(()=>v(u,d)),(p=this.removeWillChange)===null||p===void 0||p.call(this),this.removeWillChange=n_(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:w,onDrag:v}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:x}=d;if(g&&this.currentDirection===null){this.currentDirection=pX(x),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",d.point,x),this.updateAxis("y",d.point,x),this.visualElement.render(),v&&v(u,d)},a=(u,d)=>this.stop(u,d),l=()=>jr(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new aL(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:vL(this.visualElement)})}stop(e,n){var r;(r=this.removeWillChange)===null||r===void 0||r.call(this);const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&dt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!mp(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=nX(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Jl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=rX(s.layoutBox,n):this.constraints=!1,this.elastic=aX(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&jr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=oX(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Jl(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=dX(r,s.root,this.visualElement.getTransformPagePoint());let o=sX(s.layout.layoutBox,i);if(n){const a=n(lX(o));this.hasMutatedConstraints=!!a,a&&(o=pL(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=jr(u=>{if(!mp(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const p=s?200:1e6,g=s?40:1e7,w={type:"inertia",velocity:r?e[u]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(u,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(eT(e,r,0,n,this.visualElement,!1,n_(this.visualElement,e)))}stopAnimation(){jr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){jr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){jr(n=>{const{drag:r}=this.getProps();if(!mp(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-jt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Jl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};jr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=iX({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),jr(o=>{if(!mp(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(jt(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;hX.set(this.visualElement,this);const e=this.visualElement.current,n=vi(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Jl(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),dt.read(r);const o=ci(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(jr(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=s_,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function mp(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function pX(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class mX extends ia{constructor(e){super(e),this.removeGroupControls=Un,this.removeListeners=Un,this.controls=new fX(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Un}unmount(){this.removeGroupControls(),this.removeListeners()}}const _A=t=>(e,n)=>{t&&dt.postRender(()=>t(e,n))};class gX extends ia{constructor(){super(...arguments),this.removePointerDownListener=Un}onPointerDown(e){this.session=new aL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vL(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:_A(e),onStart:_A(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&dt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=vi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wy=m.createContext(null);function yX(){const t=m.useContext(wy);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=m.useId();m.useEffect(()=>r(s),[]);const i=m.useCallback(()=>n&&n(s),[s,n]);return!e&&n?[!1,i]:[!0]}const nT=m.createContext({}),wL=m.createContext({}),Yp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function xA(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Wu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ie.test(t))t=parseFloat(t);else return t;const n=xA(t,e.target.x),r=xA(t,e.target.y);return`${n}% ${r}%`}},vX={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=qo.parse(t);if(s.length>5)return r;const i=qo.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=jt(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}},eg={};function wX(t){Object.assign(eg,t)}const{schedule:rT,cancel:Pde}=_O(queueMicrotask,!1);class _X extends m.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;wX(xX),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Yp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||dt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),rT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function _L(t){const[e,n]=yX(),r=m.useContext(nT);return h.jsx(_X,{...t,layoutGroup:r,switchLayoutGroup:m.useContext(wL),isPresent:e,safeToRemove:n})}const xX={borderRadius:{...Wu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wu,borderTopRightRadius:Wu,borderBottomLeftRadius:Wu,borderBottomRightRadius:Wu,boxShadow:vX},xL=["TopLeft","TopRight","BottomLeft","BottomRight"],EX=xL.length,EA=t=>typeof t=="string"?parseFloat(t):t,TA=t=>typeof t=="number"||Ie.test(t);function TX(t,e,n,r,s,i){s?(t.opacity=jt(0,n.opacity!==void 0?n.opacity:1,SX(r)),t.opacityExit=jt(e.opacity!==void 0?e.opacity:1,0,bX(r))):i&&(t.opacity=jt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<EX;o++){const a=`border${xL[o]}Radius`;let l=SA(e,a),c=SA(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||TA(l)===TA(c)?(t[a]=Math.max(jt(EA(l),EA(c),r),0),(Bs.test(c)||Bs.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=jt(e.rotate||0,n.rotate||0,r))}function SA(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const SX=EL(0,.5,HO),bX=EL(.5,.95,Un);function EL(t,e,n){return r=>r<t?0:r>e?1:n(mh(t,e,r))}function bA(t,e){t.min=e.min,t.max=e.max}function Lr(t,e){bA(t.x,e.x),bA(t.y,e.y)}function IA(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function CA(t,e,n,r,s){return t-=e,t=Zm(t,1/n,r),s!==void 0&&(t=Zm(t,1/s,r)),t}function IX(t,e=0,n=1,r=.5,s,i=t,o=t){if(Bs.test(e)&&(e=parseFloat(e),e=jt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=jt(i.min,i.max,r);t===i&&(a-=e),t.min=CA(t.min,e,n,a,s),t.max=CA(t.max,e,n,a,s)}function AA(t,e,[n,r,s],i,o){IX(t,e[n],e[r],e[s],e.scale,i,o)}const CX=["x","scaleX","originX"],AX=["y","scaleY","originY"];function RA(t,e,n,r){AA(t.x,e,CX,n?n.x:void 0,r?r.x:void 0),AA(t.y,e,AX,n?n.y:void 0,r?r.y:void 0)}function PA(t){return t.translate===0&&t.scale===1}function TL(t){return PA(t.x)&&PA(t.y)}function NA(t,e){return t.min===e.min&&t.max===e.max}function RX(t,e){return NA(t.x,e.x)&&NA(t.y,e.y)}function kA(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function SL(t,e){return kA(t.x,e.x)&&kA(t.y,e.y)}function DA(t){return Rr(t.x)/Rr(t.y)}function MA(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class PX{constructor(){this.members=[]}add(e){my(this.members,e),e.scheduleRender()}remove(e){if(gy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function NX(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:p,skewX:g,skewY:w}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const kX=(t,e)=>t.depth-e.depth;class DX{constructor(){this.children=[],this.isDirty=!1}add(e){my(this.children,e),this.isDirty=!0}remove(e){gy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(kX),this.isDirty=!1,this.children.forEach(e)}}function Xp(t){const e=Fn(t)?t.get():t;return SY(e)?e.toValue():e}function MX(t,e){const n=$s.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Ni(r),t(i-e))};return dt.read(r,!0),()=>Ni(r)}function OX(t){return t instanceof SVGElement&&t.tagName!=="svg"}function LX(t,e,n){const r=Fn(t)?t:gh(t);return r.start(eT("",r,e,n)),r.animation}const Ta={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},sd=typeof window<"u"&&window.MotionDebug!==void 0,pw=["","X","Y","Z"],jX={visibility:"hidden"},OA=1e3;let VX=0;function mw(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function bL(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=nL(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",dt,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&bL(r)}function IL({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=VX++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,sd&&(Ta.totalNodes=Ta.resolvedTargetDeltas=Ta.recalculatedProjection=0),this.nodes.forEach(BX),this.nodes.forEach(HX),this.nodes.forEach(qX),this.nodes.forEach($X),sd&&window.MotionDebug.record(Ta)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new DX)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new tT),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=OX(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=MX(p,250),Yp.hasAnimatedSinceResize&&(Yp.hasAnimatedSinceResize=!1,this.nodes.forEach(jA))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:g,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||JX,{onLayoutAnimationStart:x,onLayoutAnimationComplete:_}=u.getProps(),y=!this.targetLayout||!SL(this.targetLayout,w)||g,S=!p&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||p&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,S);const A={...$E(v,"layout"),onPlay:x,onComplete:_};(u.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else p||jA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ni(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(GX),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(LA);return}this.isUpdating||this.nodes.forEach(KX),this.isUpdating=!1,this.nodes.forEach(WX),this.nodes.forEach(FX),this.nodes.forEach(UX),this.clearAllSnapshots();const a=$s.now();_n.delta=Ho(0,1e3/60,a-_n.timestamp),_n.timestamp=a,_n.isProcessing=!0,ow.update.process(_n),ow.preRender.process(_n),ow.render.process(_n),_n.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(zX),this.sharedNodes.forEach(QX)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!TL(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Ea(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),ZX(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Gt();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(eJ))){const{scroll:u}=this.root;u&&(ec(l.x,u.offset.x),ec(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=Gt();if(Lr(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:p}=u;u!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&Lr(l,o),ec(l.x,d.offset.x),ec(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=Gt();Lr(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&tc(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ea(u.latestValues)&&tc(l,u.latestValues)}return Ea(this.latestValues)&&tc(l,this.latestValues),l}removeTransform(o){const a=Gt();Lr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ea(c.latestValues))continue;i_(c.latestValues)&&c.updateSnapshot();const u=Gt(),d=c.measurePageBox();Lr(u,d),RA(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Ea(this.latestValues)&&RA(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_n.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=_n.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gt(),this.relativeTargetOrigin=Gt(),Sd(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Lr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Gt(),this.targetWithTransforms=Gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),tX(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Lr(this.target,this.layout.layoutBox),gL(this.target,this.targetDelta)):Lr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gt(),this.relativeTargetOrigin=Gt(),Sd(this.relativeTargetOrigin,this.target,g.target),Lr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}sd&&Ta.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||i_(this.parent.latestValues)||mL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===_n.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Lr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;uX(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Gt());const{target:w}=a;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(IA(this.prevProjectionDelta.x,this.projectionDelta.x),IA(this.prevProjectionDelta.y,this.projectionDelta.y)),Td(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!MA(this.projectionDelta.x,this.prevProjectionDelta.x)||!MA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),sd&&Ta.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Zl(),this.projectionDelta=Zl(),this.projectionDeltaWithTransform=Zl()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Zl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Gt(),g=l?l.source:void 0,w=this.layout?this.layout.source:void 0,v=g!==w,x=this.getStack(),_=!x||x.members.length<=1,y=!!(v&&!_&&this.options.crossfade===!0&&!this.path.some(XX));this.animationProgress=0;let S;this.mixTargetDelta=A=>{const k=A/1e3;VA(d.x,o.x,k),VA(d.y,o.y,k),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sd(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),YX(this.relativeTarget,this.relativeTargetOrigin,p,k),S&&RX(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Gt()),Lr(S,this.relativeTarget)),v&&(this.animationValues=u,TX(u,c,this.latestValues,k,y,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ni(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update(()=>{Yp.hasAnimatedSinceResize=!0,this.currentAnimation=LX(0,OA,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(OA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&CL(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Gt();const d=Rr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=Rr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Lr(a,l),tc(a,u),Td(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new PX),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&mw("z",o,c,this.animationValues);for(let u=0;u<pw.length;u++)mw(`rotate${pw[u]}`,o,c,this.animationValues),mw(`skew${pw[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return jX;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Xp(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Xp(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ea(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=NX(this.projectionDeltaWithTransform,this.treeScale,p),u&&(c.transform=u(p,c.transform));const{x:g,y:w}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${w.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in eg){if(p[v]===void 0)continue;const{correct:x,applyTo:_}=eg[v],y=c.transform==="none"?p[v]:x(p[v],d);if(_){const S=_.length;for(let A=0;A<S;A++)c[_[A]]=y}else c[v]=y}return this.options.layoutId&&(c.pointerEvents=d===this?Xp(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(LA),this.root.sharedNodes.clear()}}}function FX(t){t.updateLayout()}function UX(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?jr(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],g=Rr(p);p.min=r[d].min,p.max=p.min+g}):CL(i,n.layoutBox,r)&&jr(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],g=Rr(r[d]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+g)});const a=Zl();Td(a,r,n.layoutBox);const l=Zl();o?Td(l,t.applyTransform(s,!0),n.measuredBox):Td(l,r,n.layoutBox);const c=!TL(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:g}=d;if(p&&g){const w=Gt();Sd(w,n.layoutBox,p.layoutBox);const v=Gt();Sd(v,r,g.layoutBox),SL(w,v)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=w,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function BX(t){sd&&Ta.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function $X(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function zX(t){t.clearSnapshot()}function LA(t){t.clearMeasurements()}function KX(t){t.isLayoutDirty=!1}function WX(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function jA(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function HX(t){t.resolveTargetDelta()}function qX(t){t.calcProjection()}function GX(t){t.resetSkewAndRotation()}function QX(t){t.removeLeadSnapshot()}function VA(t,e,n){t.translate=jt(e.translate,0,n),t.scale=jt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function FA(t,e,n,r){t.min=jt(e.min,n.min,r),t.max=jt(e.max,n.max,r)}function YX(t,e,n,r){FA(t.x,e.x,n.x,r),FA(t.y,e.y,n.y,r)}function XX(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const JX={duration:.45,ease:[.4,0,.1,1]},UA=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),BA=UA("applewebkit/")&&!UA("chrome/")?Math.round:Un;function $A(t){t.min=BA(t.min),t.max=BA(t.max)}function ZX(t){$A(t.x),$A(t.y)}function CL(t,e,n){return t==="position"||t==="preserve-aspect"&&!eX(DA(e),DA(n),.2)}function eJ(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const tJ=IL({attachResizeListener:(t,e)=>ci(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gw={current:void 0},AL=IL({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!gw.current){const t=new tJ({});t.mount(window),t.setOptions({layoutScroll:!0}),gw.current=t}return gw.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),nJ={pan:{Feature:gX},drag:{Feature:mX,ProjectionNode:AL,MeasureLayout:_L}};function zA(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",s=(i,o)=>{if(i.pointerType==="touch"||dL())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&dt.postRender(()=>l(i,o))};return vi(t.current,n,s,{passive:!t.getProps()[r]})}class rJ extends ia{mount(){this.unmount=yi(zA(this.node,!0),zA(this.node,!1))}unmount(){}}class sJ extends ia{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yi(ci(this.node.current,"focus",()=>this.onFocus()),ci(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const RL=(t,e)=>e?t===e?!0:RL(t,e.parentElement):!1;function yw(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,vy(n))}class iJ extends ia{constructor(){super(...arguments),this.removeStartListeners=Un,this.removeEndListeners=Un,this.removeAccessibleListeners=Un,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=vi(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:d}=this.node.getProps(),p=!d&&!RL(this.node.current,a.target)?u:c;p&&dt.update(()=>p(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=vi(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=yi(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||yw("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&dt.postRender(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=ci(this.node.current,"keyup",o),yw("down",(a,l)=>{this.startPress(a,l)})},n=ci(this.node.current,"keydown",e),r=()=>{this.isPressing&&yw("cancel",(i,o)=>this.cancelPress(i,o))},s=ci(this.node.current,"blur",r);this.removeAccessibleListeners=yi(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&dt.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!dL()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&dt.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=vi(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ci(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=yi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const a_=new WeakMap,vw=new WeakMap,oJ=t=>{const e=a_.get(t.target);e&&e(t)},aJ=t=>{t.forEach(oJ)};function lJ({root:t,...e}){const n=t||document;vw.has(n)||vw.set(n,{});const r=vw.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(aJ,{root:t,...e})),r[s]}function cJ(t,e,n){const r=lJ(e);return a_.set(t,n),r.observe(t),()=>{a_.delete(t),r.unobserve(t)}}const uJ={some:0,all:1};class dJ extends ia{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:uJ[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),p=c?u:d;p&&p(l)};return cJ(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(hJ(e,n))&&this.startObserver()}unmount(){}}function hJ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const fJ={inView:{Feature:dJ},tap:{Feature:iJ},focus:{Feature:sJ},hover:{Feature:rJ}},pJ={layout:{ProjectionNode:AL,MeasureLayout:_L}},sT=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),_y=m.createContext({}),iT=typeof window<"u",PL=iT?m.useLayoutEffect:m.useEffect,NL=m.createContext({strict:!1});let KA=!1;function mJ(t,e,n,r,s){var i;const{visualElement:o}=m.useContext(_y),a=m.useContext(NL),l=m.useContext(wy),c=m.useContext(sT).reducedMotion,u=m.useRef();r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,p=m.useContext(wL);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&yJ(u.current,n,s,p),m.useInsertionEffect(()=>{d&&d.update(n,l)});const g=n[tL],w=m.useRef(!!g&&!window.MotionHandoffIsComplete&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,g)));return PL(()=>{d&&(d.updateFeatures(),rT.render(d.render),w.current&&d.animationState&&d.animationState.animateChanges())}),m.useEffect(()=>{d&&(!w.current&&d.animationState&&d.animationState.animateChanges(),w.current=!1,KA||(KA=!0,queueMicrotask(gJ)))}),d}function gJ(){window.MotionHandoffIsComplete=!0}function yJ(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:kL(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Jl(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function kL(t){if(t)return t.options.allowProjection!==!1?t.projection:kL(t.parent)}function vJ(t,e,n){return m.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Jl(n)&&(n.current=r))},[e])}function xy(t){return hh(t.animate)||BE.some(e=>fh(t[e]))}function DL(t){return!!(xy(t)||t.variants)}function wJ(t,e){if(xy(t)){const{initial:n,animate:r}=t;return{initial:n===!1||fh(n)?n:void 0,animate:fh(r)?r:void 0}}return t.inherit!==!1?e:{}}function _J(t){const{initial:e,animate:n}=wJ(t,m.useContext(_y));return m.useMemo(()=>({initial:e,animate:n}),[WA(e),WA(n)])}function WA(t){return Array.isArray(t)?t.join(" "):t}const HA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$c={};for(const t in HA)$c[t]={isEnabled:e=>HA[t].some(n=>!!e[n])};function xJ(t){for(const e in t)$c[e]={...$c[e],...t[e]}}const EJ=Symbol.for("motionComponentSymbol");function TJ({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&xJ(t);function i(a,l){let c;const u={...m.useContext(sT),...a,layoutId:SJ(a)},{isStatic:d}=u,p=_J(a),g=r(a,d);if(!d&&iT){bJ();const w=IJ(u);c=w.MeasureLayout,p.visualElement=mJ(s,g,u,e,w.ProjectionNode)}return h.jsxs(_y.Provider,{value:p,children:[c&&p.visualElement?h.jsx(c,{visualElement:p.visualElement,...u}):null,n(s,a,vJ(g,p.visualElement,l),g,d,p.visualElement)]})}const o=m.forwardRef(i);return o[EJ]=s,o}function SJ({layoutId:t}){const e=m.useContext(nT).id;return e&&t!==void 0?e+"-"+t:t}function bJ(t,e){m.useContext(NL).strict}function IJ(t){const{drag:e,layout:n}=$c;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const CJ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function oT(t){return typeof t!="string"||t.includes("-")?!1:!!(CJ.indexOf(t)>-1||/[A-Z]/u.test(t))}function ML(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const OL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function LL(t,e,n,r){ML(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(OL.has(s)?s:yy(s),e.attrs[s])}function jL(t,{layout:e,layoutId:n}){return sa.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!eg[t]||t==="opacity")}function aT(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(Fn(s[o])||e.style&&Fn(e.style[o])||jL(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return n&&s&&typeof s.willChange=="string"&&(n.applyWillChange=!1),i}function VL(t,e,n){const r=aT(t,e,n);for(const s in t)if(Fn(t[s])||Fn(e[s])){const i=af.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function lT(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}function AJ({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:r},s,i,o,a){const l={latestValues:PJ(s,i,o,a?!1:t,e),renderState:n()};return r&&(l.mount=c=>r(s,c,l)),l}const FL=t=>(e,n)=>{const r=m.useContext(_y),s=m.useContext(wy),i=()=>AJ(t,e,r,s,n);return n?i():lT(i)};function RJ(t,e){const n=rL(e);n&&my(t,n)}function qA(t,e,n){const r=Array.isArray(e)?e:[e];for(let s=0;s<r.length;s++){const i=FE(t,r[s]);if(i){const{transitionEnd:o,transition:a,...l}=i;n(l,o)}}}function PJ(t,e,n,r,s){var i;const o={},a=[],l=r&&((i=t.style)===null||i===void 0?void 0:i.willChange)===void 0,c=s(t,{});for(const x in c)o[x]=Xp(c[x]);let{initial:u,animate:d}=t;const p=xy(t),g=DL(t);e&&g&&!p&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let w=n?n.initial===!1:!1;w=w||u===!1;const v=w?d:u;return v&&typeof v!="boolean"&&!hh(v)&&qA(t,v,(x,_)=>{for(const y in x){let S=x[y];if(Array.isArray(S)){const A=w?S.length-1:0;S=S[A]}S!==null&&(o[y]=S)}for(const y in _)o[y]=_[y]}),l&&(d&&u!==!1&&!hh(d)&&qA(t,d,x=>{for(const _ in x)RJ(a,_)}),a.length&&(o.willChange=a.join(","))),o}const cT=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),UL=()=>({...cT(),attrs:{}}),BL=(t,e)=>e&&typeof t=="number"?e.transform(t):t,NJ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},kJ=af.length;function DJ(t,e,n){let r="",s=!0;for(let i=0;i<kJ;i++){const o=af[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=BL(a,qE[o]);if(!l){s=!1;const u=NJ[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function uT(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(sa.has(l)){o=!0;continue}else if(SO(l)){s[l]=c;continue}else{const u=BL(c,qE[l]);l.startsWith("origin")?(a=!0,i[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=DJ(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;r.transformOrigin=`${l} ${c} ${u}`}}function GA(t,e,n){return typeof t=="string"?t:Ie.transform(e+n*t)}function MJ(t,e,n){const r=GA(e,t.x,t.width),s=GA(n,t.y,t.height);return`${r} ${s}`}const OJ={offset:"stroke-dashoffset",array:"stroke-dasharray"},LJ={offset:"strokeDashoffset",array:"strokeDasharray"};function jJ(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?OJ:LJ;t[i.offset]=Ie.transform(-r);const o=Ie.transform(e),a=Ie.transform(n);t[i.array]=`${o} ${a}`}function dT(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d){if(uT(t,c,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g,dimensions:w}=t;p.transform&&(w&&(g.transform=p.transform),delete p.transform),w&&(s!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=MJ(w,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&jJ(p,o,a,l,!1)}const hT=t=>typeof t=="string"&&t.toLowerCase()==="svg",VJ={useVisualState:FL({scrapeMotionValuesFromProps:VL,createRenderState:UL,onMount:(t,e,{renderState:n,latestValues:r})=>{dt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),dt.render(()=>{dT(n,r,hT(e.tagName),t.transformTemplate),LL(e,n)})}})},FJ={useVisualState:FL({applyWillChange:!0,scrapeMotionValuesFromProps:aT,createRenderState:cT})};function $L(t,e,n){for(const r in e)!Fn(e[r])&&!jL(r,n)&&(t[r]=e[r])}function UJ({transformTemplate:t},e){return m.useMemo(()=>{const n=cT();return uT(n,e,t),Object.assign({},n.vars,n.style)},[e])}function BJ(t,e){const n=t.style||{},r={};return $L(r,n,t),Object.assign(r,UJ(t,e)),r}function $J(t,e){const n={},r=BJ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const zJ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function tg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||zJ.has(t)}let zL=t=>!tg(t);function KJ(t){t&&(zL=e=>e.startsWith("on")?!tg(e):t(e))}try{KJ(require("@emotion/is-prop-valid").default)}catch{}function WJ(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(zL(s)||n===!0&&tg(s)||!e&&!tg(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function HJ(t,e,n,r){const s=m.useMemo(()=>{const i=UL();return dT(i,e,hT(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};$L(i,t.style,t),s.style={...i,...s.style}}return s}function qJ(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(oT(n)?HJ:$J)(r,i,o,n),c=WJ(r,typeof n=="string",t),u=n!==m.Fragment?{...c,...l,ref:s}:{},{children:d}=r,p=m.useMemo(()=>Fn(d)?d.get():d,[d]);return m.createElement(n,{...u,children:p})}}function GJ(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...oT(r)?VJ:FJ,preloadedFeatures:t,useRender:qJ(s),createVisualElement:e,Component:r};return TJ(o)}}const l_={current:null},KL={current:!1};function QJ(){if(KL.current=!0,!!iT)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>l_.current=t.matches;t.addListener(e),e()}else l_.current=!1}function YJ(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Fn(s))t.addValue(r,s);else if(Fn(i))t.addValue(r,gh(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,gh(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const QA=new WeakMap,XJ=[...CO,On,qo],JJ=t=>XJ.find(IO(t)),YA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ZJ{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=WE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=$s.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,dt.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=xy(n),this.isVariantNode=DL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in d){const g=d[p];l[p]!==void 0&&Fn(g)&&g.set(l[p],!1)}}mount(e){this.current=e,QA.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),KL.current||QJ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:l_.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){QA.delete(this.current),this.projection&&this.projection.unmount(),Ni(this.notifyUpdate),Ni(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=sa.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&dt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in $c){const n=$c[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<YA.length;r++){const s=YA[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=YJ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=gh(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(EO(s)||xO(s))?s=parseFloat(s):!JJ(s)&&qo.test(n)&&(s=OO(e,n)),this.setBaseTarget(e,Fn(s)?s.get():s)),Fn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=FE(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Fn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new tT),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class WL extends ZJ{constructor(){super(...arguments),this.KeyframeResolver=LO}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function eZ(t){return window.getComputedStyle(t)}class tZ extends WL{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=ML}readValueFromInstance(e,n){if(sa.has(n)){const r=GE(n);return r&&r.default||0}else{const r=eZ(e),s=(SO(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return yL(e,n)}build(e,n,r){uT(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return aT(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Fn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class nZ extends WL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Gt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(sa.has(n)){const r=GE(n);return r&&r.default||0}return n=OL.has(n)?n:yy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return VL(e,n,r)}build(e,n,r){dT(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){LL(e,n,r,s)}mount(e){this.isSVGTag=hT(e.tagName),super.mount(e)}}const rZ=(t,e)=>oT(t)?new nZ(e):new tZ(e,{allowProjection:t!==m.Fragment}),sZ=GJ({...WY,...fJ,...nJ,...pJ},rZ),iZ=FG(sZ);class oZ extends m.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function aZ({children:t,isPresent:e}){const n=m.useId(),r=m.useRef(null),s=m.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=m.useContext(sT);return m.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=s.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return i&&(u.nonce=i),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),h.jsx(oZ,{isPresent:e,childRef:r,sizeRef:s,children:m.cloneElement(t,{ref:r})})}const lZ=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=lT(cZ),l=m.useId(),c=m.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:u=>{a.set(u,!0);for(const d of a.values())if(!d)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),i?[Math.random()]:[n]);return m.useMemo(()=>{a.forEach((u,d)=>a.set(d,!1))},[n]),m.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=h.jsx(aZ,{isPresent:n,children:t})),h.jsx(wy.Provider,{value:c,children:t})};function cZ(){return new Map}const gp=t=>t.key||"";function XA(t){const e=[];return m.Children.forEach(t,n=>{m.isValidElement(n)&&e.push(n)}),e}const uZ=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=m.useMemo(()=>XA(t),[t]),l=a.map(gp),c=m.useRef(!0),u=m.useRef(a),d=lT(()=>new Map),[p,g]=m.useState(a),[w,v]=m.useState(a);PL(()=>{c.current=!1,u.current=a;for(let y=0;y<w.length;y++){const S=gp(w[y]);l.includes(S)?d.delete(S):d.get(S)!==!0&&d.set(S,!1)}},[w,l.length,l.join("-")]);const x=[];if(a!==p){let y=[...a];for(let S=0;S<w.length;S++){const A=w[S],k=gp(A);l.includes(k)||(y.splice(S,0,A),x.push(A))}o==="wait"&&x.length&&(y=x),v(XA(y)),g(a);return}const{forceRender:_}=m.useContext(nT);return h.jsx(h.Fragment,{children:w.map(y=>{const S=gp(y),A=a===w||l.includes(S),k=()=>{if(d.has(S))d.set(S,!0);else return;let O=!0;d.forEach(I=>{I||(O=!1)}),O&&(_==null||_(),v(u.current),s&&s())};return h.jsx(lZ,{isPresent:A,initial:!c.current||r?void 0:!1,custom:A?void 0:n,presenceAffectsLayout:i,mode:o,onExitComplete:A?void 0:k,children:y},S)})})},dZ=({messageHistory:t,endOfMessagesRef:e,handleMessageClick:n})=>h.jsxs("div",{className:"flex-1 py-4 overflow-y-auto",children:[h.jsx(uZ,{children:h.jsx(hu,{items:t,renderItem:r=>h.jsx(iZ.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`mb-4 ${r.sender==="user"?"text-right":"text-left"}`,children:h.jsx(VG,{message:r,onItemClick:n})},r.uuid),listStyle:"px-4 flex flex-col space-y-4"})}),h.jsx("div",{ref:e})]}),hZ=()=>{const{messageHistory:t,clearMessageHistory:e,handleSubmitMessage:n,endOfMessagesRef:r,selectedResponse:s,setSelectedResponse:i,isInfoPanelOpen:o,setIsInfoPanelOpen:a}=bG();return h.jsxs("div",{className:"flex flex-col w-full max-w-4xl h-[44rem] border border-neutral-200 bg-white rounded-md",children:[h.jsxs("header",{className:"w-full h-[4rem] text-xl font-medium flex items-center justify-between px-4 border-b border-customBorderColor",children:["Admin Chat Interface",h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsxs(at,{size:"sm",variant:"outline",className:"space-x-1 rounded-md",onClick:e,children:[h.jsx(Yh,{className:"size-4 text-zinc-500"}),h.jsx("p",{className:"text-sm text-zinc-500",children:"Clear Chat"})]}),h.jsx("button",{onClick:()=>a(l=>!l),children:h.jsx("div",{className:"text-zinc-500 p-1.5 rounded-md hover:bg-zinc-100",children:h.jsx(BW,{})})})]})]}),h.jsxs("div",{className:"flex-1 flex overflow-y-auto",children:[h.jsxs("section",{className:"flex-1 flex flex-col",children:[h.jsx(dZ,{messageHistory:t,endOfMessagesRef:r,handleMessageClick:i}),h.jsx(MG,{onSendMessage:n})]}),h.jsx(DG,{showPanel:o,responseData:s})]})]})},fZ=()=>h.jsxs("div",{className:"flex items-center flex-col w-[84rem] px-20 space-y-6 pb-8",children:[h.jsx(EG,{headerText:"Chatbot"}),h.jsx(hZ,{})]}),pZ=()=>h.jsx("header",{className:"py-4 text-3xl font-semibold w-full",children:"Knowledge"});function mZ(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var fT=t=>{const{present:e,children:n}=t,r=gZ(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=Oe(r.ref,yZ(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};fT.displayName="Presence";function gZ(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=mZ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=yp(r.current);i.current=a==="mounted"?c:"none"},[a]),Nt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=yp(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Nt(()=>{if(e){const c=d=>{const g=yp(r.current).includes(d.animationName);d.target===e&&g&&Li.flushSync(()=>l("ANIMATION_END"))},u=d=>{d.target===e&&(i.current=yp(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function yp(t){return(t==null?void 0:t.animationName)||"none"}function yZ(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var pT="Tabs",[vZ,kde]=ou(pT,[iy]),HL=iy(),[wZ,mT]=vZ(pT),qL=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=Zg(a),[d,p]=Uo({prop:r,onChange:s,defaultProp:i});return h.jsx(wZ,{scope:n,baseId:ms(),value:d,onValueChange:p,orientation:o,dir:u,activationMode:l,children:h.jsx(_e.div,{dir:u,"data-orientation":o,...c,ref:e})})});qL.displayName=pT;var GL="TabsList",QL=m.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=mT(GL,n),o=HL(n);return h.jsx(nM,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:h.jsx(_e.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});QL.displayName=GL;var YL="TabsTrigger",XL=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=mT(YL,n),a=HL(n),l=ZL(o.baseId,r),c=ej(o.baseId,r),u=r===o.value;return h.jsx(rM,{asChild:!0,...a,focusable:!s,active:u,children:h.jsx(_e.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:ee(t.onMouseDown,d=>{!s&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:ee(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:ee(t.onFocus,()=>{const d=o.activationMode!=="manual";!u&&!s&&d&&o.onValueChange(r)})})})});XL.displayName=YL;var JL="TabsContent",Ey=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=mT(JL,n),l=ZL(a.baseId,r),c=ej(a.baseId,r),u=r===a.value,d=m.useRef(u);return m.useEffect(()=>{const p=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(p)},[]),h.jsx(fT,{present:s||u,children:({present:p})=>h.jsx(_e.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:p&&i})})});Ey.displayName=JL;function ZL(t,e){return`${t}-trigger-${e}`}function ej(t,e){return`${t}-content-${e}`}var _Z=qL,tj=QL,nj=XL,rj=Ey;const sj=_Z,gT=m.forwardRef(({className:t,...e},n)=>h.jsx(tj,{ref:n,className:de("inline-flex min-h-10 items-center justify-center rounded-tl-md rounded-tr-md bg-muted text-muted-foreground",t),...e}));gT.displayName=tj.displayName;const ng=m.forwardRef(({className:t,...e},n)=>h.jsx(nj,{ref:n,className:de("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-2 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));ng.displayName=nj.displayName;const ij=m.forwardRef(({className:t,...e},n)=>h.jsx(rj,{ref:n,className:de("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ij.displayName=rj.displayName;const xZ=[{tabValue:"knowledgeBase",tabName:"Knowledge Base"},{tabValue:"knowledgeEntry",tabName:"Knowledge Entry"},{tabValue:"entryDetails",tabName:"Entry Details"}],EZ={knowledgeBase:OW,knowledgeEntry:AW,entryDetails:ED},TZ=({tabs:t})=>h.jsx(gT,{className:"grid w-full grid-cols-3 bg-heading px-4 py-3",children:t.map(({tabName:e,tabValue:n})=>{const r=EZ[n];return h.jsxs(ng,{value:n,className:"data-[state=active]:bg-primary data-[state=active]:text-white",children:[h.jsx(r,{className:"size-5 mr-2"}),h.jsx("p",{className:"hidden md:block",children:e})]},e)})});var SZ="DismissableLayer",c_="dismissableLayer.update",bZ="dismissableLayer.pointerDownOutside",IZ="dismissableLayer.focusOutside",JA,oj=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),aj=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(oj),[u,d]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=Oe(e,I=>d(I)),v=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(x),y=u?v.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,A=y>=_,k=RZ(I=>{const T=I.target,C=[...c.branches].some(R=>R.contains(T));!A||C||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},p),O=PZ(I=>{const T=I.target;[...c.branches].some(R=>R.contains(T))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},p);return Xh(I=>{y===c.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(JA=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),ZA(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=JA)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),ZA())},[u,c]),m.useEffect(()=>{const I=()=>g({});return document.addEventListener(c_,I),()=>document.removeEventListener(c_,I)},[]),h.jsx(_e.div,{...l,ref:w,style:{pointerEvents:S?A?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,k.onPointerDownCapture)})});aj.displayName=SZ;var CZ="DismissableLayerBranch",AZ=m.forwardRef((t,e)=>{const n=m.useContext(oj),r=m.useRef(null),s=Oe(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),h.jsx(_e.div,{...t,ref:s})});AZ.displayName=CZ;function RZ(t,e=globalThis==null?void 0:globalThis.document){const n=Mt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){lj(bZ,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function PZ(t,e=globalThis==null?void 0:globalThis.document){const n=Mt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&lj(IZ,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ZA(){const t=new CustomEvent(c_);document.dispatchEvent(t)}function lj(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?fl(s,i):s.dispatchEvent(i)}var NZ="VisuallyHidden",df=m.forwardRef((t,e)=>h.jsx(_e.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));df.displayName=NZ;var kZ=df,[Ty,Dde]=ou("Tooltip",[cu]),Sy=cu(),cj="TooltipProvider",DZ=700,u_="tooltip.open",[MZ,yT]=Ty(cj),uj=t=>{const{__scopeTooltip:e,delayDuration:n=DZ,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=m.useState(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),h.jsx(MZ,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};uj.displayName=cj;var by="Tooltip",[OZ,Iy]=Ty(by),dj=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=yT(by,t.__scopeTooltip),c=Sy(e),[u,d]=m.useState(null),p=ms(),g=m.useRef(0),w=o??l.disableHoverableContent,v=a??l.delayDuration,x=m.useRef(!1),[_=!1,y]=Uo({prop:r,defaultProp:s,onChange:I=>{I?(l.onOpen(),document.dispatchEvent(new CustomEvent(u_))):l.onClose(),i==null||i(I)}}),S=m.useMemo(()=>_?x.current?"delayed-open":"instant-open":"closed",[_]),A=m.useCallback(()=>{window.clearTimeout(g.current),x.current=!1,y(!0)},[y]),k=m.useCallback(()=>{window.clearTimeout(g.current),y(!1)},[y]),O=m.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{x.current=!0,y(!0)},v)},[v,y]);return m.useEffect(()=>()=>window.clearTimeout(g.current),[]),h.jsx(wE,{...c,children:h.jsx(OZ,{scope:e,contentId:p,open:_,stateAttribute:S,trigger:u,onTriggerChange:d,onTriggerEnter:m.useCallback(()=>{l.isOpenDelayed?O():A()},[l.isOpenDelayed,O,A]),onTriggerLeave:m.useCallback(()=>{w?k():window.clearTimeout(g.current)},[k,w]),onOpen:A,onClose:k,disableHoverableContent:w,children:n})})};dj.displayName=by;var d_="TooltipTrigger",hj=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Iy(d_,n),i=yT(d_,n),o=Sy(n),a=m.useRef(null),l=Oe(e,a,s.onTriggerChange),c=m.useRef(!1),u=m.useRef(!1),d=m.useCallback(()=>c.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),h.jsx(_E,{asChild:!0,...o,children:h.jsx(_e.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ee(t.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:ee(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:ee(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:ee(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:ee(t.onBlur,s.onClose),onClick:ee(t.onClick,s.onClose)})})});hj.displayName=d_;var LZ="TooltipPortal",[Mde,jZ]=Ty(LZ,{forceMount:void 0}),zc="TooltipContent",fj=m.forwardRef((t,e)=>{const n=jZ(zc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Iy(zc,t.__scopeTooltip);return h.jsx(fT,{present:r||o.open,children:o.disableHoverableContent?h.jsx(pj,{side:s,...i,ref:e}):h.jsx(VZ,{side:s,...i,ref:e})})}),VZ=m.forwardRef((t,e)=>{const n=Iy(zc,t.__scopeTooltip),r=yT(zc,t.__scopeTooltip),s=m.useRef(null),i=Oe(e,s),[o,a]=m.useState(null),{trigger:l,onClose:c}=n,u=s.current,{onPointerInTransitChange:d}=r,p=m.useCallback(()=>{a(null),d(!1)},[d]),g=m.useCallback((w,v)=>{const x=w.currentTarget,_={x:w.clientX,y:w.clientY},y=$Z(_,x.getBoundingClientRect()),S=zZ(_,y),A=KZ(v.getBoundingClientRect()),k=HZ([...S,...A]);a(k),d(!0)},[d]);return m.useEffect(()=>()=>p(),[p]),m.useEffect(()=>{if(l&&u){const w=x=>g(x,u),v=x=>g(x,l);return l.addEventListener("pointerleave",w),u.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",w),u.removeEventListener("pointerleave",v)}}},[l,u,g,p]),m.useEffect(()=>{if(o){const w=v=>{const x=v.target,_={x:v.clientX,y:v.clientY},y=(l==null?void 0:l.contains(x))||(u==null?void 0:u.contains(x)),S=!WZ(_,o);y?p():S&&(p(),c())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,u,o,c,p]),h.jsx(pj,{...t,ref:i})}),[FZ,UZ]=Ty(by,{isInside:!1}),pj=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Iy(zc,n),c=Sy(n),{onClose:u}=l;return m.useEffect(()=>(document.addEventListener(u_,u),()=>document.removeEventListener(u_,u)),[u]),m.useEffect(()=>{if(l.trigger){const d=p=>{const g=p.target;g!=null&&g.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),h.jsx(aj,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:h.jsxs(xE,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx(cE,{children:r}),h.jsx(FZ,{scope:n,isInside:!0,children:h.jsx(kZ,{id:l.contentId,role:"tooltip",children:s||r})})]})})});fj.displayName=zc;var mj="TooltipArrow",BZ=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Sy(n);return UZ(mj,n).isInside?null:h.jsx(EE,{...s,...r,ref:e})});BZ.displayName=mj;function $Z(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function zZ(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function KZ(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function WZ(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function HZ(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),qZ(e)}function qZ(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var GZ=uj,QZ=dj,YZ=hj,gj=fj;const XZ=GZ,JZ=QZ,ZZ=YZ,yj=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(gj,{ref:r,sideOffset:e,className:de("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));yj.displayName=gj.displayName;const Cy=({tooltip:t,children:e})=>h.jsx(XZ,{children:h.jsxs(JZ,{children:[h.jsx(ZZ,{asChild:!0,children:e}),h.jsx(yj,{className:"max-w-xs",children:h.jsx("p",{className:"text-zinc-800",children:t})})]})}),eee={entry:"ENTRY",base:"BASE"},tee="A unique action or purpose the user wants to achieve",nee="Example phrases the bot associates with the intent during training",ree="The bot's response to the query",To={passwordIncorrect:"Admin password is incorrect",passwordSameAsOld:"New password must be different from the old one"},see=8,iee=5,ut=ji((t,e)=>({formData:{knowledgeBaseName:"",intent:"",documents:[""],answer:"",fileUrl:"",file:null},formDataErrors:{},setFormData:(n,r)=>{t(s=>({formData:{...s.formData,[n]:r}}))},setFile:n=>{t(r=>({formData:{...r.formData,file:n}}))},setFormDataErrors:n=>{t({formDataErrors:n})},setDocuments:(n,r)=>{const s=e().formData.documents;s[r]=n,t(i=>({formData:{...i.formData,documents:s}}))},addDocument:()=>{e().formData.documents.length>=see||t(n=>({formData:{...n.formData,documents:[...n.formData.documents,""]}}))},removeDocument:n=>{const r=e().formData.documents;if(r.length===1)throw new Error("Documents cannot be empty");r.splice(n,1),t(s=>({formData:{...s.formData,documents:r}}))},clearFormData:()=>{t(()=>({formData:{knowledgeBaseName:"",intent:"",documents:[""],answer:"",fileUrl:"",file:null},formDataErrors:{knowledgeBaseName:"",intent:"",documents:"",answer:""}}))}})),oee=()=>{const{intent:t}=ut(r=>r.formData),e=ut(r=>r.setFormData),n=Pt(r=>r.admin);return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-fit",children:h.jsx(Cy,{tooltip:tee,children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("label",{htmlFor:"intent",className:"cursor-pointer font-medium ",children:"Intent"}),h.jsx(Qg,{className:"size-4 text-[#64748b] cursor-pointer"})]})})}),h.jsx(sn,{id:"intent",placeholder:"Enter intent",value:t,className:"mt-1",readOnly:(n==null?void 0:n.role)==="viewer",onChange:r=>e("intent",r.target.value)})]})},er=m.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:de("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));er.displayName="Card";const qr=m.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:de("flex flex-col space-y-1.5 p-6",t),...e}));qr.displayName="CardHeader";const Gr=m.forwardRef(({className:t,...e},n)=>h.jsx("h3",{ref:n,className:de("text-2xl font-semibold leading-none tracking-tight",t),...e}));Gr.displayName="CardTitle";const oa=m.forwardRef(({className:t,...e},n)=>h.jsx("p",{ref:n,className:de("text-sm text-muted-foreground",t),...e}));oa.displayName="CardDescription";const pr=m.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:de("p-6 pt-0",t),...e}));pr.displayName="CardContent";const vj=m.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:de("flex items-center p-6 pt-0",t),...e}));vj.displayName="CardFooter";const aee=()=>{var o;const t=ut(a=>a.formData),e=ut(a=>a.setDocuments),n=ut(a=>a.addDocument),r=ut(a=>a.removeDocument),s=Pt(a=>a.admin),i=async a=>{try{if(!t.intent)return;if(t.documents.length===1)return window.alert("Documents cannot be empty");r(a)}catch(l){console.error(l)}};return h.jsxs("div",{children:[h.jsx("div",{className:"w-fit",children:h.jsx(Cy,{tooltip:nee,children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("label",{className:"cursor-pointer font-medium ",children:"Document"}),h.jsx(Qg,{className:"size-4 text-[#64748b] cursor-pointer"})]})})}),h.jsx("div",{className:"space-y-2 mt-1",children:(o=t.documents)==null?void 0:o.map((a,l)=>h.jsx(er,{className:"w-full hover:bg-lightGray transition-colors",children:h.jsxs(pr,{className:"p-4 w-full flex items-center justify-between-",children:[h.jsx("div",{className:"flex w-full items-center space-x-4",children:h.jsx("input",{value:a,id:"document",className:"text-sm bg-transparent outline-none w-full py-2",placeholder:"Enter document",readOnly:(s==null?void 0:s.role)==="viewer",onChange:c=>e(c.target.value,l)})}),h.jsx("div",{className:"flex space-x-2",children:(s==null?void 0:s.role)!=="viewer"&&h.jsxs(at,{variant:"ghost",size:"icon",className:"hover:bg-transparent",onClick:async()=>{await i(l)},children:[h.jsx(Yh,{className:"size-5 font-bold hover:text-red-600 ease-in",strokeWidth:2}),h.jsx("span",{className:"sr-only",children:"Delete"})]})})]})},l))}),(s==null?void 0:s.role)!=="viewer"&&h.jsxs(at,{variant:"outline",size:"sm",className:"mt-2",onClick:n,disabled:!t.intent,children:[h.jsx(Qh,{className:"w-4 h-4 mr-2"})," Add Document"]})]})},wj=m.forwardRef(({className:t,...e},n)=>h.jsx("textarea",{className:de("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));wj.displayName="Textarea";const lee=".png,.jpg,.mp4,.pdf",cee=({fileRef:t,changeFile:e})=>h.jsxs("div",{children:[h.jsx(sn,{id:"file-upload",type:"file",className:"hidden",ref:t,accept:lee,onChange:e}),h.jsx(at,{variant:"ghost",size:"icon",className:"size-8 rounded-full hover:bg-neutral-100 p-1.5",onClick:()=>{var n;return(n=t.current)==null?void 0:n.click()},children:h.jsx(TD,{className:"size-4"})})]});var uee="Label",_j=m.forwardRef((t,e)=>h.jsx(_e.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));_j.displayName=uee;var xj=_j;const dee=sf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),hn=m.forwardRef(({className:t,...e},n)=>h.jsx(xj,{ref:n,className:de(dee(),t),...e}));hn.displayName=xj.displayName;const hee=({isLinkDropdownOpen:t,setIsLinkDropdownOpen:e,onInsertLink:n})=>{const[r,s]=m.useState(""),[i,o]=m.useState(""),a=()=>{e(!1),n(r,i),s(""),o("")};return h.jsxs(nf,{open:t,onOpenChange:e,children:[h.jsx(rf,{asChild:!0,children:h.jsx(at,{variant:"ghost",size:"icon",className:"size-8 rounded-full hover:bg-neutral-100 p-1.5",onClick:()=>e(!0),children:h.jsx(jW,{className:"size-4"})})}),h.jsx(du,{side:"top",className:"w-56",children:h.jsxs("form",{onSubmit:l=>{l.preventDefault(),a()},className:"flex flex-col p-4 space-y-4",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx(hn,{htmlFor:"link-url",className:"mb-1",children:"URL"}),h.jsx(sn,{id:"link-url",value:r,onChange:l=>s(l.target.value),className:"col-span-3",placeholder:"Enter link URL",required:!0})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx(hn,{htmlFor:"link-text",className:"mb-1",children:"Text"}),h.jsx(sn,{id:"link-text",value:i,onChange:l=>o(l.target.value),className:"col-span-3",placeholder:"Enter link Text",required:!0})]}),h.jsx(at,{type:"submit",children:"Insert Link"})]})})]})},Ej=({answer:t,handleTextChange:e,onFileChange:n,fileRef:r,textAreaRef:s,isError:i,isLinkDropDownVisible:o,setIsLinkDropDownVisible:a,onInsertLink:l})=>{const c=Pt(d=>d.admin),u=d=>{const p=d.target;p.style.height="auto",p.style.height=`${p.scrollHeight}px`,e("answer",p.value)};return m.useEffect(()=>{s.current&&(s.current.style.height="auto",s.current.style.height=`${s.current.scrollHeight}px`)},[s,t]),h.jsxs("div",{className:"relative mb-4 ",children:[h.jsx(wj,{spellCheck:!1,name:"answer",ref:s,placeholder:"Enter the answer",className:de("min-h-[100px] pb-12 overflow-hidden resize-none outline-none focus:outline-none",i&&"border-destructive"),readOnly:(c==null?void 0:c.role)==="viewer",value:t,onChange:u}),(c==null?void 0:c.role)!=="viewer"&&h.jsxs("div",{className:"absolute bottom-2 left-2 flex space-x-2",children:[h.jsx(hee,{isLinkDropdownOpen:o,setIsLinkDropdownOpen:a,onInsertLink:l}),h.jsx(cee,{fileRef:r,changeFile:n})]})]})},Tj=({file:t,removeFile:e})=>{const n=Pt(r=>r.admin);return h.jsx("div",{className:"mt-4 p-4 border rounded-md bg-muted",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-2 py-2 overflow-hidden",children:[h.jsx(TD,{className:"h-4 w-4 text-muted-foreground"}),h.jsx("div",{className:"font-medium truncate max-w-[250px]",children:t.name}),h.jsxs("div",{className:"text-sm text-center text-muted-foreground w-20",children:["(",yG(t.size),")"]})]}),(n==null?void 0:n.role)!=="viewer"&&h.jsx(at,{variant:"ghost",size:"icon",onClick:e,className:"h-8 w-8 min-w-8",children:h.jsx(Yg,{className:"h-4 w-4"})})]})})};function Ae({className:t,...e}){return h.jsx("div",{className:de("animate-pulse rounded-md bg-muted",t),...e})}var fee="firebase",pee="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr(fee,pee,"app");var e1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ka,Sj;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,T){function C(){}C.prototype=T.prototype,I.D=T.prototype,I.prototype=new C,I.prototype.constructor=I,I.C=function(R,M,D){for(var N=Array(arguments.length-2),H=2;H<arguments.length;H++)N[H-2]=arguments[H];return T.prototype[M].apply(R,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,T,C){C||(C=0);var R=Array(16);if(typeof T=="string")for(var M=0;16>M;++M)R[M]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(M=0;16>M;++M)R[M]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=I.g[0],C=I.g[1],M=I.g[2];var D=I.g[3],N=T+(D^C&(M^D))+R[0]+3614090360&4294967295;T=C+(N<<7&4294967295|N>>>25),N=D+(M^T&(C^M))+R[1]+3905402710&4294967295,D=T+(N<<12&4294967295|N>>>20),N=M+(C^D&(T^C))+R[2]+606105819&4294967295,M=D+(N<<17&4294967295|N>>>15),N=C+(T^M&(D^T))+R[3]+3250441966&4294967295,C=M+(N<<22&4294967295|N>>>10),N=T+(D^C&(M^D))+R[4]+4118548399&4294967295,T=C+(N<<7&4294967295|N>>>25),N=D+(M^T&(C^M))+R[5]+1200080426&4294967295,D=T+(N<<12&4294967295|N>>>20),N=M+(C^D&(T^C))+R[6]+2821735955&4294967295,M=D+(N<<17&4294967295|N>>>15),N=C+(T^M&(D^T))+R[7]+4249261313&4294967295,C=M+(N<<22&4294967295|N>>>10),N=T+(D^C&(M^D))+R[8]+1770035416&4294967295,T=C+(N<<7&4294967295|N>>>25),N=D+(M^T&(C^M))+R[9]+2336552879&4294967295,D=T+(N<<12&4294967295|N>>>20),N=M+(C^D&(T^C))+R[10]+4294925233&4294967295,M=D+(N<<17&4294967295|N>>>15),N=C+(T^M&(D^T))+R[11]+2304563134&4294967295,C=M+(N<<22&4294967295|N>>>10),N=T+(D^C&(M^D))+R[12]+1804603682&4294967295,T=C+(N<<7&4294967295|N>>>25),N=D+(M^T&(C^M))+R[13]+4254626195&4294967295,D=T+(N<<12&4294967295|N>>>20),N=M+(C^D&(T^C))+R[14]+2792965006&4294967295,M=D+(N<<17&4294967295|N>>>15),N=C+(T^M&(D^T))+R[15]+1236535329&4294967295,C=M+(N<<22&4294967295|N>>>10),N=T+(M^D&(C^M))+R[1]+4129170786&4294967295,T=C+(N<<5&4294967295|N>>>27),N=D+(C^M&(T^C))+R[6]+3225465664&4294967295,D=T+(N<<9&4294967295|N>>>23),N=M+(T^C&(D^T))+R[11]+643717713&4294967295,M=D+(N<<14&4294967295|N>>>18),N=C+(D^T&(M^D))+R[0]+3921069994&4294967295,C=M+(N<<20&4294967295|N>>>12),N=T+(M^D&(C^M))+R[5]+3593408605&4294967295,T=C+(N<<5&4294967295|N>>>27),N=D+(C^M&(T^C))+R[10]+38016083&4294967295,D=T+(N<<9&4294967295|N>>>23),N=M+(T^C&(D^T))+R[15]+3634488961&4294967295,M=D+(N<<14&4294967295|N>>>18),N=C+(D^T&(M^D))+R[4]+3889429448&4294967295,C=M+(N<<20&4294967295|N>>>12),N=T+(M^D&(C^M))+R[9]+568446438&4294967295,T=C+(N<<5&4294967295|N>>>27),N=D+(C^M&(T^C))+R[14]+3275163606&4294967295,D=T+(N<<9&4294967295|N>>>23),N=M+(T^C&(D^T))+R[3]+4107603335&4294967295,M=D+(N<<14&4294967295|N>>>18),N=C+(D^T&(M^D))+R[8]+1163531501&4294967295,C=M+(N<<20&4294967295|N>>>12),N=T+(M^D&(C^M))+R[13]+2850285829&4294967295,T=C+(N<<5&4294967295|N>>>27),N=D+(C^M&(T^C))+R[2]+4243563512&4294967295,D=T+(N<<9&4294967295|N>>>23),N=M+(T^C&(D^T))+R[7]+1735328473&4294967295,M=D+(N<<14&4294967295|N>>>18),N=C+(D^T&(M^D))+R[12]+2368359562&4294967295,C=M+(N<<20&4294967295|N>>>12),N=T+(C^M^D)+R[5]+4294588738&4294967295,T=C+(N<<4&4294967295|N>>>28),N=D+(T^C^M)+R[8]+2272392833&4294967295,D=T+(N<<11&4294967295|N>>>21),N=M+(D^T^C)+R[11]+1839030562&4294967295,M=D+(N<<16&4294967295|N>>>16),N=C+(M^D^T)+R[14]+4259657740&4294967295,C=M+(N<<23&4294967295|N>>>9),N=T+(C^M^D)+R[1]+2763975236&4294967295,T=C+(N<<4&4294967295|N>>>28),N=D+(T^C^M)+R[4]+1272893353&4294967295,D=T+(N<<11&4294967295|N>>>21),N=M+(D^T^C)+R[7]+4139469664&4294967295,M=D+(N<<16&4294967295|N>>>16),N=C+(M^D^T)+R[10]+3200236656&4294967295,C=M+(N<<23&4294967295|N>>>9),N=T+(C^M^D)+R[13]+681279174&4294967295,T=C+(N<<4&4294967295|N>>>28),N=D+(T^C^M)+R[0]+3936430074&4294967295,D=T+(N<<11&4294967295|N>>>21),N=M+(D^T^C)+R[3]+3572445317&4294967295,M=D+(N<<16&4294967295|N>>>16),N=C+(M^D^T)+R[6]+76029189&4294967295,C=M+(N<<23&4294967295|N>>>9),N=T+(C^M^D)+R[9]+3654602809&4294967295,T=C+(N<<4&4294967295|N>>>28),N=D+(T^C^M)+R[12]+3873151461&4294967295,D=T+(N<<11&4294967295|N>>>21),N=M+(D^T^C)+R[15]+530742520&4294967295,M=D+(N<<16&4294967295|N>>>16),N=C+(M^D^T)+R[2]+3299628645&4294967295,C=M+(N<<23&4294967295|N>>>9),N=T+(M^(C|~D))+R[0]+4096336452&4294967295,T=C+(N<<6&4294967295|N>>>26),N=D+(C^(T|~M))+R[7]+1126891415&4294967295,D=T+(N<<10&4294967295|N>>>22),N=M+(T^(D|~C))+R[14]+2878612391&4294967295,M=D+(N<<15&4294967295|N>>>17),N=C+(D^(M|~T))+R[5]+4237533241&4294967295,C=M+(N<<21&4294967295|N>>>11),N=T+(M^(C|~D))+R[12]+1700485571&4294967295,T=C+(N<<6&4294967295|N>>>26),N=D+(C^(T|~M))+R[3]+2399980690&4294967295,D=T+(N<<10&4294967295|N>>>22),N=M+(T^(D|~C))+R[10]+4293915773&4294967295,M=D+(N<<15&4294967295|N>>>17),N=C+(D^(M|~T))+R[1]+2240044497&4294967295,C=M+(N<<21&4294967295|N>>>11),N=T+(M^(C|~D))+R[8]+1873313359&4294967295,T=C+(N<<6&4294967295|N>>>26),N=D+(C^(T|~M))+R[15]+4264355552&4294967295,D=T+(N<<10&4294967295|N>>>22),N=M+(T^(D|~C))+R[6]+2734768916&4294967295,M=D+(N<<15&4294967295|N>>>17),N=C+(D^(M|~T))+R[13]+1309151649&4294967295,C=M+(N<<21&4294967295|N>>>11),N=T+(M^(C|~D))+R[4]+4149444226&4294967295,T=C+(N<<6&4294967295|N>>>26),N=D+(C^(T|~M))+R[11]+3174756917&4294967295,D=T+(N<<10&4294967295|N>>>22),N=M+(T^(D|~C))+R[2]+718787259&4294967295,M=D+(N<<15&4294967295|N>>>17),N=C+(D^(M|~T))+R[9]+3951481745&4294967295,I.g[0]=I.g[0]+T&4294967295,I.g[1]=I.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+D&4294967295}r.prototype.u=function(I,T){T===void 0&&(T=I.length);for(var C=T-this.blockSize,R=this.B,M=this.h,D=0;D<T;){if(M==0)for(;D<=C;)s(this,I,D),D+=this.blockSize;if(typeof I=="string"){for(;D<T;)if(R[M++]=I.charCodeAt(D++),M==this.blockSize){s(this,R),M=0;break}}else for(;D<T;)if(R[M++]=I[D++],M==this.blockSize){s(this,R),M=0;break}}this.h=M,this.o+=T},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var T=1;T<I.length-8;++T)I[T]=0;var C=8*this.o;for(T=I.length-8;T<I.length;++T)I[T]=C&255,C/=256;for(this.u(I),I=Array(16),T=C=0;4>T;++T)for(var R=0;32>R;R+=8)I[C++]=this.g[T]>>>R&255;return I};function i(I,T){var C=a;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=T(I)}function o(I,T){this.h=T;for(var C=[],R=!0,M=I.length-1;0<=M;M--){var D=I[M]|0;R&&D==T||(C[M]=D,R=!1)}this.g=C}var a={};function l(I){return-128<=I&&128>I?i(I,function(T){return new o([T|0],0>T?-1:0)}):new o([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return d;if(0>I)return x(c(-I));for(var T=[],C=1,R=0;I>=C;R++)T[R]=I/C|0,C*=4294967296;return new o(T,0)}function u(I,T){if(I.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(I.charAt(0)=="-")return x(u(I.substring(1),T));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=c(Math.pow(T,8)),R=d,M=0;M<I.length;M+=8){var D=Math.min(8,I.length-M),N=parseInt(I.substring(M,M+D),T);8>D?(D=c(Math.pow(T,D)),R=R.j(D).add(c(N))):(R=R.j(C),R=R.add(c(N)))}return R}var d=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-x(this).m();for(var I=0,T=1,C=0;C<this.g.length;C++){var R=this.i(C);I+=(0<=R?R:4294967296+R)*T,T*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(w(this))return"0";if(v(this))return"-"+x(this).toString(I);for(var T=c(Math.pow(I,6)),C=this,R="";;){var M=A(C,T).g;C=_(C,M.j(T));var D=((0<C.g.length?C.g[0]:C.h)>>>0).toString(I);if(C=M,w(C))return D+R;for(;6>D.length;)D="0"+D;R=D+R}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function w(I){if(I.h!=0)return!1;for(var T=0;T<I.g.length;T++)if(I.g[T]!=0)return!1;return!0}function v(I){return I.h==-1}t.l=function(I){return I=_(this,I),v(I)?-1:w(I)?0:1};function x(I){for(var T=I.g.length,C=[],R=0;R<T;R++)C[R]=~I.g[R];return new o(C,~I.h).add(p)}t.abs=function(){return v(this)?x(this):this},t.add=function(I){for(var T=Math.max(this.g.length,I.g.length),C=[],R=0,M=0;M<=T;M++){var D=R+(this.i(M)&65535)+(I.i(M)&65535),N=(D>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);R=N>>>16,D&=65535,N&=65535,C[M]=N<<16|D}return new o(C,C[C.length-1]&-2147483648?-1:0)};function _(I,T){return I.add(x(T))}t.j=function(I){if(w(this)||w(I))return d;if(v(this))return v(I)?x(this).j(x(I)):x(x(this).j(I));if(v(I))return x(this.j(x(I)));if(0>this.l(g)&&0>I.l(g))return c(this.m()*I.m());for(var T=this.g.length+I.g.length,C=[],R=0;R<2*T;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(var M=0;M<I.g.length;M++){var D=this.i(R)>>>16,N=this.i(R)&65535,H=I.i(M)>>>16,ae=I.i(M)&65535;C[2*R+2*M]+=N*ae,y(C,2*R+2*M),C[2*R+2*M+1]+=D*ae,y(C,2*R+2*M+1),C[2*R+2*M+1]+=N*H,y(C,2*R+2*M+1),C[2*R+2*M+2]+=D*H,y(C,2*R+2*M+2)}for(R=0;R<T;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=T;R<2*T;R++)C[R]=0;return new o(C,0)};function y(I,T){for(;(I[T]&65535)!=I[T];)I[T+1]+=I[T]>>>16,I[T]&=65535,T++}function S(I,T){this.g=I,this.h=T}function A(I,T){if(w(T))throw Error("division by zero");if(w(I))return new S(d,d);if(v(I))return T=A(x(I),T),new S(x(T.g),x(T.h));if(v(T))return T=A(I,x(T)),new S(x(T.g),T.h);if(30<I.g.length){if(v(I)||v(T))throw Error("slowDivide_ only works with positive integers.");for(var C=p,R=T;0>=R.l(I);)C=k(C),R=k(R);var M=O(C,1),D=O(R,1);for(R=O(R,2),C=O(C,2);!w(R);){var N=D.add(R);0>=N.l(I)&&(M=M.add(C),D=N),R=O(R,1),C=O(C,1)}return T=_(I,M.j(T)),new S(M,T)}for(M=d;0<=I.l(T);){for(C=Math.max(1,Math.floor(I.m()/T.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),D=c(C),N=D.j(T);v(N)||0<N.l(I);)C-=R,D=c(C),N=D.j(T);w(D)&&(D=p),M=M.add(D),I=_(I,N)}return new S(M,I)}t.A=function(I){return A(this,I).h},t.and=function(I){for(var T=Math.max(this.g.length,I.g.length),C=[],R=0;R<T;R++)C[R]=this.i(R)&I.i(R);return new o(C,this.h&I.h)},t.or=function(I){for(var T=Math.max(this.g.length,I.g.length),C=[],R=0;R<T;R++)C[R]=this.i(R)|I.i(R);return new o(C,this.h|I.h)},t.xor=function(I){for(var T=Math.max(this.g.length,I.g.length),C=[],R=0;R<T;R++)C[R]=this.i(R)^I.i(R);return new o(C,this.h^I.h)};function k(I){for(var T=I.g.length+1,C=[],R=0;R<T;R++)C[R]=I.i(R)<<1|I.i(R-1)>>>31;return new o(C,I.h)}function O(I,T){var C=T>>5;T%=32;for(var R=I.g.length-C,M=[],D=0;D<R;D++)M[D]=0<T?I.i(D+C)>>>T|I.i(D+C+1)<<32-T:I.i(D+C);return new o(M,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Sj=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Ka=o}).apply(typeof e1<"u"?e1:typeof self<"u"?self:typeof window<"u"?window:{});var vp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bj,Ij,id,Cj,Jp,h_,Aj,Rj,Pj;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,E,b){return f==Array.prototype||f==Object.prototype||(f[E]=b.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof vp=="object"&&vp];for(var E=0;E<f.length;++E){var b=f[E];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function s(f,E){if(E)e:{var b=r;f=f.split(".");for(var P=0;P<f.length-1;P++){var U=f[P];if(!(U in b))break e;b=b[U]}f=f[f.length-1],P=b[f],E=E(P),E!=P&&E!=null&&e(b,f,{configurable:!0,writable:!0,value:E})}}function i(f,E){f instanceof String&&(f+="");var b=0,P=!1,U={next:function(){if(!P&&b<f.length){var W=b++;return{value:E(W,f[W]),done:!1}}return P=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}s("Array.prototype.values",function(f){return f||function(){return i(this,function(E,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(f){var E=typeof f;return E=E!="object"?E:f?Array.isArray(f)?"array":E:"null",E=="array"||E=="object"&&typeof f.length=="number"}function c(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function u(f,E,b){return f.call.apply(f.bind,arguments)}function d(f,E,b){if(!f)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,P),f.apply(E,U)}}return function(){return f.apply(E,arguments)}}function p(f,E,b){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,p.apply(null,arguments)}function g(f,E){var b=Array.prototype.slice.call(arguments,1);return function(){var P=b.slice();return P.push.apply(P,arguments),f.apply(this,P)}}function w(f,E){function b(){}b.prototype=E.prototype,f.aa=E.prototype,f.prototype=new b,f.prototype.constructor=f,f.Qb=function(P,U,W){for(var ie=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)ie[_t-2]=arguments[_t];return E.prototype[U].apply(P,ie)}}function v(f){const E=f.length;if(0<E){const b=Array(E);for(let P=0;P<E;P++)b[P]=f[P];return b}return[]}function x(f,E){for(let b=1;b<arguments.length;b++){const P=arguments[b];if(l(P)){const U=f.length||0,W=P.length||0;f.length=U+W;for(let ie=0;ie<W;ie++)f[U+ie]=P[ie]}else f.push(P)}}class _{constructor(E,b){this.i=E,this.j=b,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function y(f){return/^[\s\xa0]*$/.test(f)}function S(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function A(f){return A[" "](f),f}A[" "]=function(){};var k=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function O(f,E,b){for(const P in f)E.call(b,f[P],P,f)}function I(f,E){for(const b in f)E.call(void 0,f[b],b,f)}function T(f){const E={};for(const b in f)E[b]=f[b];return E}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(f,E){let b,P;for(let U=1;U<arguments.length;U++){P=arguments[U];for(b in P)f[b]=P[b];for(let W=0;W<C.length;W++)b=C[W],Object.prototype.hasOwnProperty.call(P,b)&&(f[b]=P[b])}}function M(f){var E=1;f=f.split(":");const b=[];for(;0<E&&f.length;)b.push(f.shift()),E--;return f.length&&b.push(f.join(":")),b}function D(f){a.setTimeout(()=>{throw f},0)}function N(){var f=B;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class H{constructor(){this.h=this.g=null}add(E,b){const P=ae.get();P.set(E,b),this.h?this.h.next=P:this.g=P,this.h=P}}var ae=new _(()=>new te,f=>f.reset());class te{constructor(){this.next=this.g=this.h=null}set(E,b){this.h=E,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,z=!1,B=new H,Z=()=>{const f=a.Promise.resolve(void 0);ne=()=>{f.then(pe)}};var pe=()=>{for(var f;f=N();){try{f.h.call(f.g)}catch(b){D(b)}var E=ae;E.j(f),100>E.h&&(E.h++,f.next=E.g,E.g=f)}z=!1};function Te(){this.s=this.s,this.C=this.C}Te.prototype.s=!1,Te.prototype.ma=function(){this.s||(this.s=!0,this.N())},Te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Re(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}Re.prototype.h=function(){this.defaultPrevented=!0};var Je=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};a.addEventListener("test",b,E),a.removeEventListener("test",b,E)}catch{}return f}();function wt(f,E){if(Re.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var b=this.type=f.type,P=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget){if(k){e:{try{A(E.nodeName);var U=!0;break e}catch{}U=!1}U||(E=null)}}else b=="mouseover"?E=f.fromElement:b=="mouseout"&&(E=f.toElement);this.relatedTarget=E,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:qe[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&wt.aa.h.call(this)}}w(wt,Re);var qe={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function rt(f,E,b,P,U){this.listener=f,this.proxy=null,this.src=E,this.type=b,this.capture=!!P,this.ha=U,this.key=++Ve,this.da=this.fa=!1}function Fe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ze(f){this.src=f,this.g={},this.h=0}ze.prototype.add=function(f,E,b,P,U){var W=f.toString();f=this.g[W],f||(f=this.g[W]=[],this.h++);var ie=Bt(f,E,P,U);return-1<ie?(E=f[ie],b||(E.fa=!1)):(E=new rt(E,this.src,W,!!P,U),E.fa=b,f.push(E)),E};function Qe(f,E){var b=E.type;if(b in f.g){var P=f.g[b],U=Array.prototype.indexOf.call(P,E,void 0),W;(W=0<=U)&&Array.prototype.splice.call(P,U,1),W&&(Fe(E),f.g[b].length==0&&(delete f.g[b],f.h--))}}function Bt(f,E,b,P){for(var U=0;U<f.length;++U){var W=f[U];if(!W.da&&W.listener==E&&W.capture==!!b&&W.ha==P)return U}return-1}var st="closure_lm_"+(1e6*Math.random()|0),yn={};function Dr(f,E,b,P,U){if(Array.isArray(E)){for(var W=0;W<E.length;W++)Dr(f,E[W],b,P,U);return null}return b=Le(b),f&&f[ce]?f.K(E,b,c(P)?!!P.capture:!!P,U):xs(f,E,b,!1,P,U)}function xs(f,E,b,P,U,W){if(!E)throw Error("Invalid event type");var ie=c(U)?!!U.capture:!!U,_t=J(f);if(_t||(f[st]=_t=new ze(f)),b=_t.add(E,b,P,ie,W),b.proxy)return b;if(P=L(),b.proxy=P,P.src=f,P.listener=b,f.addEventListener)Je||(U=ie),U===void 0&&(U=!1),f.addEventListener(E.toString(),P,U);else if(f.attachEvent)f.attachEvent(le(E.toString()),P);else if(f.addListener&&f.removeListener)f.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return b}function L(){function f(b){return E.call(f.src,f.listener,b)}const E=re;return f}function $(f,E,b,P,U){if(Array.isArray(E))for(var W=0;W<E.length;W++)$(f,E[W],b,P,U);else P=c(P)?!!P.capture:!!P,b=Le(b),f&&f[ce]?(f=f.i,E=String(E).toString(),E in f.g&&(W=f.g[E],b=Bt(W,b,P,U),-1<b&&(Fe(W[b]),Array.prototype.splice.call(W,b,1),W.length==0&&(delete f.g[E],f.h--)))):f&&(f=J(f))&&(E=f.g[E.toString()],f=-1,E&&(f=Bt(E,b,P,U)),(b=-1<f?E[f]:null)&&q(b))}function q(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[ce])Qe(E.i,f);else{var b=f.type,P=f.proxy;E.removeEventListener?E.removeEventListener(b,P,f.capture):E.detachEvent?E.detachEvent(le(b),P):E.addListener&&E.removeListener&&E.removeListener(P),(b=J(E))?(Qe(b,f),b.h==0&&(b.src=null,E[st]=null)):Fe(f)}}}function le(f){return f in yn?yn[f]:yn[f]="on"+f}function re(f,E){if(f.da)f=!0;else{E=new wt(E,this);var b=f.listener,P=f.ha||f.src;f.fa&&q(f),f=b.call(P,E)}return f}function J(f){return f=f[st],f instanceof ze?f:null}var Ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function Le(f){return typeof f=="function"?f:(f[Ee]||(f[Ee]=function(E){return f.handleEvent(E)}),f[Ee])}function je(){Te.call(this),this.i=new ze(this),this.M=this,this.F=null}w(je,Te),je.prototype[ce]=!0,je.prototype.removeEventListener=function(f,E,b,P){$(this,f,E,b,P)};function Be(f,E){var b,P=f.F;if(P)for(b=[];P;P=P.F)b.push(P);if(f=f.M,P=E.type||E,typeof E=="string")E=new Re(E,f);else if(E instanceof Re)E.target=E.target||f;else{var U=E;E=new Re(P,f),R(E,U)}if(U=!0,b)for(var W=b.length-1;0<=W;W--){var ie=E.g=b[W];U=zn(ie,P,!0,E)&&U}if(ie=E.g=f,U=zn(ie,P,!0,E)&&U,U=zn(ie,P,!1,E)&&U,b)for(W=0;W<b.length;W++)ie=E.g=b[W],U=zn(ie,P,!1,E)&&U}je.prototype.N=function(){if(je.aa.N.call(this),this.i){var f=this.i,E;for(E in f.g){for(var b=f.g[E],P=0;P<b.length;P++)Fe(b[P]);delete f.g[E],f.h--}}this.F=null},je.prototype.K=function(f,E,b,P){return this.i.add(String(f),E,!1,b,P)},je.prototype.L=function(f,E,b,P){return this.i.add(String(f),E,!0,b,P)};function zn(f,E,b,P){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();for(var U=!0,W=0;W<E.length;++W){var ie=E[W];if(ie&&!ie.da&&ie.capture==b){var _t=ie.listener,vn=ie.ha||ie.src;ie.fa&&Qe(f.i,ie),U=_t.call(vn,P)!==!1&&U}}return U&&!P.defaultPrevented}function Ui(f,E,b){if(typeof f=="function")b&&(f=p(f,b));else if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:a.setTimeout(f,E||0)}function Kn(f){f.g=Ui(()=>{f.g=null,f.i&&(f.i=!1,Kn(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class Wn extends Te{constructor(E,b){super(),this.m=E,this.l=b,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Kn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(f){Te.call(this),this.h=f,this.g={}}w(Es,Te);var Ts=[];function xl(f){O(f.g,function(E,b){this.g.hasOwnProperty(b)&&q(E)},f),f.g={}}Es.prototype.N=function(){Es.aa.N.call(this),xl(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hn=a.JSON.stringify,If=a.JSON.parse,Cf=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function El(){}El.prototype.h=null;function Af(f){return f.h||(f.h=f.i())}function xu(){}var Ss={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tl(){Re.call(this,"d")}w(Tl,Re);function ca(){Re.call(this,"c")}w(ca,Re);var Mr={},Sl=null;function bl(){return Sl=Sl||new je}Mr.La="serverreachability";function Eu(f){Re.call(this,Mr.La,f)}w(Eu,Re);function ua(f){const E=bl();Be(E,new Eu(E))}Mr.STAT_EVENT="statevent";function Tu(f,E){Re.call(this,Mr.STAT_EVENT,f),this.stat=E}w(Tu,Re);function Zt(f){const E=bl();Be(E,new Tu(E,f))}Mr.Ma="timingevent";function da(f,E){Re.call(this,Mr.Ma,f),this.size=E}w(da,Re);function Bi(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},E)}function ha(){this.g=!0}ha.prototype.xa=function(){this.g=!1};function rv(f,E,b,P,U,W){f.info(function(){if(f.g)if(W)for(var ie="",_t=W.split("&"),vn=0;vn<_t.length;vn++){var lt=_t[vn].split("=");if(1<lt.length){var Rn=lt[0];lt=lt[1];var Pn=Rn.split("_");ie=2<=Pn.length&&Pn[1]=="type"?ie+(Rn+"="+lt+"&"):ie+(Rn+"=redacted&")}}else ie=null;else ie=W;return"XMLHTTP REQ ("+P+") [attempt "+U+"]: "+E+`
`+b+`
`+ie})}function j(f,E,b,P,U,W,ie){f.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+U+"]: "+E+`
`+b+`
`+W+" "+ie})}function F(f,E,b,P){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+G(f,b)+(P?" "+P:"")})}function K(f,E){f.info(function(){return"TIMEOUT: "+E})}ha.prototype.info=function(){};function G(f,E){if(!f.g)return E;if(!E)return null;try{var b=JSON.parse(E);if(b){for(f=0;f<b.length;f++)if(Array.isArray(b[f])){var P=b[f];if(!(2>P.length)){var U=P[1];if(Array.isArray(U)&&!(1>U.length)){var W=U[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ie=1;ie<U.length;ie++)U[ie]=""}}}}return Hn(b)}catch{return E}}var ue={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ce;function se(){}w(se,El),se.prototype.g=function(){return new XMLHttpRequest},se.prototype.i=function(){return{}},Ce=new se;function ve(f,E,b,P){this.j=f,this.i=E,this.l=b,this.R=P||1,this.U=new Es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}var ye={},Ze={};function it(f,E,b){f.L=1,f.v=Df(Qs(E)),f.m=b,f.P=!0,ft(f,null)}function ft(f,E){f.F=Date.now(),St(f),f.A=Qs(f.v);var b=f.A,P=f.R;Array.isArray(P)||(P=[String(P)]),OS(b.i,"t",P),f.C=0,b=f.j.J,f.h=new me,f.g=ZS(f.j,b?E:null,!f.m),0<f.O&&(f.M=new Wn(p(f.Y,f,f.g),f.O)),E=f.U,b=f.g,P=f.ca;var U="readystatechange";Array.isArray(U)||(U&&(Ts[0]=U.toString()),U=Ts);for(var W=0;W<U.length;W++){var ie=Dr(b,U[W],P||E.handleEvent,!1,E.h||E);if(!ie)break;E.g[ie.key]=ie}E=f.H?T(f.H):{},f.m?(f.u||(f.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,E)):(f.u="GET",f.g.ea(f.A,f.u,null,E)),ua(),rv(f.i,f.u,f.A,f.l,f.R,f.m)}ve.prototype.ca=function(f){f=f.target;const E=this.M;E&&Ys(f)==3?E.j():this.Y(f)},ve.prototype.Y=function(f){try{if(f==this.g)e:{const Pn=Ys(this.g);var E=this.g.Ba();const Al=this.g.Z();if(!(3>Pn)&&(Pn!=3||this.g&&(this.h.h||this.g.oa()||$S(this.g)))){this.J||Pn!=4||E==7||(E==8||0>=Al?ua(3):ua(2)),yr(this);var b=this.g.Z();this.X=b;t:if(Ye(this)){var P=$S(this.g);f="";var U=P.length,W=Ys(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cn(this),Or(this);var ie="";break t}this.h.i=new a.TextDecoder}for(E=0;E<U;E++)this.h.h=!0,f+=this.h.i.decode(P[E],{stream:!(W&&E==U-1)});P.length=0,this.h.g+=f,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=b==200,j(this.i,this.u,this.A,this.l,this.R,Pn,b),this.o){if(this.T&&!this.K){t:{if(this.g){var _t,vn=this.g;if((_t=vn.g?vn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(_t)){var lt=_t;break t}}lt=null}if(b=lt)F(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zi(this,b);else{this.o=!1,this.s=3,Zt(12),Cn(this),Or(this);break e}}if(this.P){b=!0;let ts;for(;!this.J&&this.C<ie.length;)if(ts=en(this,ie),ts==Ze){Pn==4&&(this.s=4,Zt(14),b=!1),F(this.i,this.l,null,"[Incomplete Response]");break}else if(ts==ye){this.s=4,Zt(15),F(this.i,this.l,ie,"[Invalid Chunk]"),b=!1;break}else F(this.i,this.l,ts,null),zi(this,ts);if(Ye(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pn!=4||ie.length!=0||this.h.h||(this.s=1,Zt(16),b=!1),this.o=this.o&&b,!b)F(this.i,this.l,ie,"[Invalid Chunked Response]"),Cn(this),Or(this);else if(0<ie.length&&!this.W){this.W=!0;var Rn=this.j;Rn.g==this&&Rn.ba&&!Rn.M&&(Rn.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),av(Rn),Rn.M=!0,Zt(11))}}else F(this.i,this.l,ie,null),zi(this,ie);Pn==4&&Cn(this),this.o&&!this.J&&(Pn==4?QS(this.j,this):(this.o=!1,St(this)))}else lB(this.g),b==400&&0<ie.indexOf("Unknown SID")?(this.s=3,Zt(12)):(this.s=0,Zt(13)),Cn(this),Or(this)}}}catch{}finally{}};function Ye(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function en(f,E){var b=f.C,P=E.indexOf(`
`,b);return P==-1?Ze:(b=Number(E.substring(b,P)),isNaN(b)?ye:(P+=1,P+b>E.length?Ze:(E=E.slice(P,P+b),f.C=P+b,E)))}ve.prototype.cancel=function(){this.J=!0,Cn(this)};function St(f){f.S=Date.now()+f.I,$i(f,f.I)}function $i(f,E){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Bi(p(f.ba,f),E)}function yr(f){f.B&&(a.clearTimeout(f.B),f.B=null)}ve.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(K(this.i,this.A),this.L!=2&&(ua(),Zt(17)),Cn(this),this.s=2,Or(this)):$i(this,this.S-f)};function Or(f){f.j.G==0||f.J||QS(f.j,f)}function Cn(f){yr(f);var E=f.M;E&&typeof E.ma=="function"&&E.ma(),f.M=null,xl(f.U),f.g&&(E=f.g,f.g=null,E.abort(),E.ma())}function zi(f,E){try{var b=f.j;if(b.G!=0&&(b.g==f||De(b.h,f))){if(!f.K&&De(b.h,f)&&b.G==3){try{var P=b.Da.g.parse(E)}catch{P=null}if(Array.isArray(P)&&P.length==3){var U=P;if(U[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<f.F)Vf(b),Lf(b);else break e;ov(b),Zt(18)}}else b.za=U[1],0<b.za-b.T&&37500>U[2]&&b.F&&b.v==0&&!b.C&&(b.C=Bi(p(b.Za,b),6e3));if(1>=ma(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else ya(b,11)}else if((f.K||b.g==f)&&Vf(b),!y(E))for(U=b.Da.g.parse(E),E=0;E<U.length;E++){let lt=U[E];if(b.T=lt[0],lt=lt[1],b.G==2)if(lt[0]=="c"){b.K=lt[1],b.ia=lt[2];const Rn=lt[3];Rn!=null&&(b.la=Rn,b.j.info("VER="+b.la));const Pn=lt[4];Pn!=null&&(b.Aa=Pn,b.j.info("SVER="+b.Aa));const Al=lt[5];Al!=null&&typeof Al=="number"&&0<Al&&(P=1.5*Al,b.L=P,b.j.info("backChannelRequestTimeoutMs_="+P)),P=b;const ts=f.g;if(ts){const Uf=ts.g?ts.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Uf){var W=P.h;W.g||Uf.indexOf("spdy")==-1&&Uf.indexOf("quic")==-1&&Uf.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Et(W,W.h),W.h=null))}if(P.D){const lv=ts.g?ts.g.getResponseHeader("X-HTTP-Session-Id"):null;lv&&(P.ya=lv,It(P.I,P.D,lv))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-f.F,b.j.info("Handshake RTT: "+b.R+"ms")),P=b;var ie=f;if(P.qa=JS(P,P.J?P.ia:null,P.W),ie.K){An(P.h,ie);var _t=ie,vn=P.L;vn&&(_t.I=vn),_t.B&&(yr(_t),St(_t)),P.g=ie}else qS(P);0<b.i.length&&jf(b)}else lt[0]!="stop"&&lt[0]!="close"||ya(b,7);else b.G==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?ya(b,7):iv(b):lt[0]!="noop"&&b.l&&b.l.ta(lt),b.v=0)}}ua(4)}catch{}}var Zr=class{constructor(f,E){this.g=f,this.map=E}};function fa(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pa(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ma(f){return f.h?1:f.g?f.g.size:0}function De(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function Et(f,E){f.g?f.g.add(E):f.h=E}function An(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}fa.prototype.cancel=function(){if(this.i=bt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function bt(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const b of f.g.values())E=E.concat(b.D);return E}return v(f.i)}function es(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var E=[],b=f.length,P=0;P<b;P++)E.push(f[P]);return E}E=[],b=0;for(P in f)E[b++]=f[P];return E}function Rf(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var E=[];f=f.length;for(var b=0;b<f;b++)E.push(b);return E}E=[],b=0;for(const P in f)E[b++]=P;return E}}}function Pf(f,E){if(f.forEach&&typeof f.forEach=="function")f.forEach(E,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,E,void 0);else for(var b=Rf(f),P=es(f),U=P.length,W=0;W<U;W++)E.call(void 0,P[W],b&&b[W],f)}var PS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function QU(f,E){if(f){f=f.split("&");for(var b=0;b<f.length;b++){var P=f[b].indexOf("="),U=null;if(0<=P){var W=f[b].substring(0,P);U=f[b].substring(P+1)}else W=f[b];E(W,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function ga(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof ga){this.h=f.h,Nf(this,f.j),this.o=f.o,this.g=f.g,kf(this,f.s),this.l=f.l;var E=f.i,b=new Iu;b.i=E.i,E.g&&(b.g=new Map(E.g),b.h=E.h),NS(this,b),this.m=f.m}else f&&(E=String(f).match(PS))?(this.h=!1,Nf(this,E[1]||"",!0),this.o=Su(E[2]||""),this.g=Su(E[3]||"",!0),kf(this,E[4]),this.l=Su(E[5]||"",!0),NS(this,E[6]||"",!0),this.m=Su(E[7]||"")):(this.h=!1,this.i=new Iu(null,this.h))}ga.prototype.toString=function(){var f=[],E=this.j;E&&f.push(bu(E,kS,!0),":");var b=this.g;return(b||E=="file")&&(f.push("//"),(E=this.o)&&f.push(bu(E,kS,!0),"@"),f.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&f.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(bu(b,b.charAt(0)=="/"?JU:XU,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",bu(b,eB)),f.join("")};function Qs(f){return new ga(f)}function Nf(f,E,b){f.j=b?Su(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function kf(f,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);f.s=E}else f.s=null}function NS(f,E,b){E instanceof Iu?(f.i=E,tB(f.i,f.h)):(b||(E=bu(E,ZU)),f.i=new Iu(E,f.h))}function It(f,E,b){f.i.set(E,b)}function Df(f){return It(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Su(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function bu(f,E,b){return typeof f=="string"?(f=encodeURI(f).replace(E,YU),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function YU(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var kS=/[#\/\?@]/g,XU=/[#\?:]/g,JU=/[#\?]/g,ZU=/[#\?@]/g,eB=/#/g;function Iu(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function Ki(f){f.g||(f.g=new Map,f.h=0,f.i&&QU(f.i,function(E,b){f.add(decodeURIComponent(E.replace(/\+/g," ")),b)}))}t=Iu.prototype,t.add=function(f,E){Ki(this),this.i=null,f=Il(this,f);var b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(E),this.h+=1,this};function DS(f,E){Ki(f),E=Il(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function MS(f,E){return Ki(f),E=Il(f,E),f.g.has(E)}t.forEach=function(f,E){Ki(this),this.g.forEach(function(b,P){b.forEach(function(U){f.call(E,U,P,this)},this)},this)},t.na=function(){Ki(this);const f=Array.from(this.g.values()),E=Array.from(this.g.keys()),b=[];for(let P=0;P<E.length;P++){const U=f[P];for(let W=0;W<U.length;W++)b.push(E[P])}return b},t.V=function(f){Ki(this);let E=[];if(typeof f=="string")MS(this,f)&&(E=E.concat(this.g.get(Il(this,f))));else{f=Array.from(this.g.values());for(let b=0;b<f.length;b++)E=E.concat(f[b])}return E},t.set=function(f,E){return Ki(this),this.i=null,f=Il(this,f),MS(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},t.get=function(f,E){return f?(f=this.V(f),0<f.length?String(f[0]):E):E};function OS(f,E,b){DS(f,E),0<b.length&&(f.i=null,f.g.set(Il(f,E),v(b)),f.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(var b=0;b<E.length;b++){var P=E[b];const W=encodeURIComponent(String(P)),ie=this.V(P);for(P=0;P<ie.length;P++){var U=W;ie[P]!==""&&(U+="="+encodeURIComponent(String(ie[P]))),f.push(U)}}return this.i=f.join("&")};function Il(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function tB(f,E){E&&!f.j&&(Ki(f),f.i=null,f.g.forEach(function(b,P){var U=P.toLowerCase();P!=U&&(DS(this,P),OS(this,U,b))},f)),f.j=E}function nB(f,E){const b=new ha;if(a.Image){const P=new Image;P.onload=g(Wi,b,"TestLoadImage: loaded",!0,E,P),P.onerror=g(Wi,b,"TestLoadImage: error",!1,E,P),P.onabort=g(Wi,b,"TestLoadImage: abort",!1,E,P),P.ontimeout=g(Wi,b,"TestLoadImage: timeout",!1,E,P),a.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=f}else E(!1)}function rB(f,E){const b=new ha,P=new AbortController,U=setTimeout(()=>{P.abort(),Wi(b,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:P.signal}).then(W=>{clearTimeout(U),W.ok?Wi(b,"TestPingServer: ok",!0,E):Wi(b,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(U),Wi(b,"TestPingServer: error",!1,E)})}function Wi(f,E,b,P,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),P(b)}catch{}}function sB(){this.g=new Cf}function iB(f,E,b){const P=b||"";try{Pf(f,function(U,W){let ie=U;c(U)&&(ie=Hn(U)),E.push(P+W+"="+encodeURIComponent(ie))})}catch(U){throw E.push(P+"type="+encodeURIComponent("_badmap")),U}}function Cu(f){this.l=f.Ub||null,this.j=f.eb||!1}w(Cu,El),Cu.prototype.g=function(){return new Mf(this.l,this.j)},Cu.prototype.i=function(f){return function(){return f}}({});function Mf(f,E){je.call(this),this.D=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Mf,je),t=Mf.prototype,t.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=E,this.readyState=1,Ru(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(E.body=f),(this.D||a).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Au(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ru(this)),this.g&&(this.readyState=3,Ru(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;LS(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function LS(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?Au(this):Ru(this),this.readyState==3&&LS(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Au(this))},t.Qa=function(f){this.g&&(this.response=f,Au(this))},t.ga=function(){this.g&&Au(this)};function Au(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Ru(f)}t.setRequestHeader=function(f,E){this.u.append(f,E)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var b=E.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=E.next();return f.join(`\r
`)};function Ru(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Mf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function jS(f){let E="";return O(f,function(b,P){E+=P,E+=":",E+=b,E+=`\r
`}),E}function sv(f,E,b){e:{for(P in b){var P=!1;break e}P=!0}P||(b=jS(b),typeof f=="string"?b!=null&&encodeURIComponent(String(b)):It(f,E,b))}function $t(f){je.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w($t,je);var oB=/^https?$/i,aB=["POST","PUT"];t=$t.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,E,b,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ce.g(),this.v=this.o?Af(this.o):Af(Ce),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(W){VS(this,W);return}if(f=b||"",b=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var U in P)b.set(U,P[U]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const W of P.keys())b.set(W,P.get(W));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(b.keys()).find(W=>W.toLowerCase()=="content-type"),U=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(aB,E,void 0))||P||U||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ie]of b)this.g.setRequestHeader(W,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{BS(this),this.u=!0,this.g.send(f),this.u=!1}catch(W){VS(this,W)}};function VS(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.m=5,FS(f),Of(f)}function FS(f){f.A||(f.A=!0,Be(f,"complete"),Be(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Be(this,"complete"),Be(this,"abort"),Of(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Of(this,!0)),$t.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?US(this):this.bb())},t.bb=function(){US(this)};function US(f){if(f.h&&typeof o<"u"&&(!f.v[1]||Ys(f)!=4||f.Z()!=2)){if(f.u&&Ys(f)==4)Ui(f.Ea,0,f);else if(Be(f,"readystatechange"),Ys(f)==4){f.h=!1;try{const ie=f.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var b;if(!(b=E)){var P;if(P=ie===0){var U=String(f.D).match(PS)[1]||null;!U&&a.self&&a.self.location&&(U=a.self.location.protocol.slice(0,-1)),P=!oB.test(U?U.toLowerCase():"")}b=P}if(b)Be(f,"complete"),Be(f,"success");else{f.m=6;try{var W=2<Ys(f)?f.g.statusText:""}catch{W=""}f.l=W+" ["+f.Z()+"]",FS(f)}}finally{Of(f)}}}}function Of(f,E){if(f.g){BS(f);const b=f.g,P=f.v[0]?()=>{}:null;f.g=null,f.v=null,E||Be(f,"ready");try{b.onreadystatechange=P}catch{}}}function BS(f){f.I&&(a.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Ys(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Ys(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),If(E)}};function $S(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function lB(f){const E={};f=(f.g&&2<=Ys(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<f.length;P++){if(y(f[P]))continue;var b=M(f[P]);const U=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const W=E[U]||[];E[U]=W,W.push(b)}I(E,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pu(f,E,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||E}function zS(f){this.Aa=0,this.i=[],this.j=new ha,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pu("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pu("baseRetryDelayMs",5e3,f),this.cb=Pu("retryDelaySeedMs",1e4,f),this.Wa=Pu("forwardChannelMaxRetries",2,f),this.wa=Pu("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new fa(f&&f.concurrentRequestLimit),this.Da=new sB,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=zS.prototype,t.la=8,t.G=1,t.connect=function(f,E,b,P){Zt(0),this.W=f,this.H=E||{},b&&P!==void 0&&(this.H.OSID=b,this.H.OAID=P),this.F=this.X,this.I=JS(this,null,this.W),jf(this)};function iv(f){if(KS(f),f.G==3){var E=f.U++,b=Qs(f.I);if(It(b,"SID",f.K),It(b,"RID",E),It(b,"TYPE","terminate"),Nu(f,b),E=new ve(f,f.j,E),E.L=2,E.v=Df(Qs(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(E.v.toString(),"")}catch{}!b&&a.Image&&(new Image().src=E.v,b=!0),b||(E.g=ZS(E.j,null),E.g.ea(E.v)),E.F=Date.now(),St(E)}XS(f)}function Lf(f){f.g&&(av(f),f.g.cancel(),f.g=null)}function KS(f){Lf(f),f.u&&(a.clearTimeout(f.u),f.u=null),Vf(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&a.clearTimeout(f.s),f.s=null)}function jf(f){if(!pa(f.h)&&!f.s){f.s=!0;var E=f.Ga;ne||Z(),z||(ne(),z=!0),B.add(E,f),f.B=0}}function cB(f,E){return ma(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=E.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Bi(p(f.Ga,f,E),YS(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const U=new ve(this,this.j,f);let W=this.o;if(this.S&&(W?(W=T(W),R(W,this.S)):W=this.S),this.m!==null||this.O||(U.H=W,W=null),this.P)e:{for(var E=0,b=0;b<this.i.length;b++){t:{var P=this.i[b];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(E+=P,4096<E){E=b;break e}if(E===4096||b===this.i.length-1){E=b+1;break e}}E=1e3}else E=1e3;E=HS(this,U,E),b=Qs(this.I),It(b,"RID",f),It(b,"CVER",22),this.D&&It(b,"X-HTTP-Session-Id",this.D),Nu(this,b),W&&(this.O?E="headers="+encodeURIComponent(String(jS(W)))+"&"+E:this.m&&sv(b,this.m,W)),Et(this.h,U),this.Ua&&It(b,"TYPE","init"),this.P?(It(b,"$req",E),It(b,"SID","null"),U.T=!0,it(U,b,null)):it(U,b,E),this.G=2}}else this.G==3&&(f?WS(this,f):this.i.length==0||pa(this.h)||WS(this))};function WS(f,E){var b;E?b=E.l:b=f.U++;const P=Qs(f.I);It(P,"SID",f.K),It(P,"RID",b),It(P,"AID",f.T),Nu(f,P),f.m&&f.o&&sv(P,f.m,f.o),b=new ve(f,f.j,b,f.B+1),f.m===null&&(b.H=f.o),E&&(f.i=E.D.concat(f.i)),E=HS(f,b,1e3),b.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Et(f.h,b),it(b,P,E)}function Nu(f,E){f.H&&O(f.H,function(b,P){It(E,P,b)}),f.l&&Pf({},function(b,P){It(E,P,b)})}function HS(f,E,b){b=Math.min(f.i.length,b);var P=f.l?p(f.l.Na,f.l,f):null;e:{var U=f.i;let W=-1;for(;;){const ie=["count="+b];W==-1?0<b?(W=U[0].g,ie.push("ofs="+W)):W=0:ie.push("ofs="+W);let _t=!0;for(let vn=0;vn<b;vn++){let lt=U[vn].g;const Rn=U[vn].map;if(lt-=W,0>lt)W=Math.max(0,U[vn].g-100),_t=!1;else try{iB(Rn,ie,"req"+lt+"_")}catch{P&&P(Rn)}}if(_t){P=ie.join("&");break e}}}return f=f.i.splice(0,b),E.D=f,P}function qS(f){if(!f.g&&!f.u){f.Y=1;var E=f.Fa;ne||Z(),z||(ne(),z=!0),B.add(E,f),f.v=0}}function ov(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Bi(p(f.Fa,f),YS(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,GS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Bi(p(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Zt(10),Lf(this),GS(this))};function av(f){f.A!=null&&(a.clearTimeout(f.A),f.A=null)}function GS(f){f.g=new ve(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var E=Qs(f.qa);It(E,"RID","rpc"),It(E,"SID",f.K),It(E,"AID",f.T),It(E,"CI",f.F?"0":"1"),!f.F&&f.ja&&It(E,"TO",f.ja),It(E,"TYPE","xmlhttp"),Nu(f,E),f.m&&f.o&&sv(E,f.m,f.o),f.L&&(f.g.I=f.L);var b=f.g;f=f.ia,b.L=1,b.v=Df(Qs(E)),b.m=null,b.P=!0,ft(b,f)}t.Za=function(){this.C!=null&&(this.C=null,Lf(this),ov(this),Zt(19))};function Vf(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function QS(f,E){var b=null;if(f.g==E){Vf(f),av(f),f.g=null;var P=2}else if(De(f.h,E))b=E.D,An(f.h,E),P=1;else return;if(f.G!=0){if(E.o)if(P==1){b=E.m?E.m.length:0,E=Date.now()-E.F;var U=f.B;P=bl(),Be(P,new da(P,b)),jf(f)}else qS(f);else if(U=E.s,U==3||U==0&&0<E.X||!(P==1&&cB(f,E)||P==2&&ov(f)))switch(b&&0<b.length&&(E=f.h,E.i=E.i.concat(b)),U){case 1:ya(f,5);break;case 4:ya(f,10);break;case 3:ya(f,6);break;default:ya(f,2)}}}function YS(f,E){let b=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(b*=2),b*E}function ya(f,E){if(f.j.info("Error code "+E),E==2){var b=p(f.fb,f),P=f.Xa;const U=!P;P=new ga(P||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Nf(P,"https"),Df(P),U?nB(P.toString(),b):rB(P.toString(),b)}else Zt(2);f.G=0,f.l&&f.l.sa(E),XS(f),KS(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Zt(2)):(this.j.info("Failed to ping google.com"),Zt(1))};function XS(f){if(f.G=0,f.ka=[],f.l){const E=bt(f.h);(E.length!=0||f.i.length!=0)&&(x(f.ka,E),x(f.ka,f.i),f.h.i.length=0,v(f.i),f.i.length=0),f.l.ra()}}function JS(f,E,b){var P=b instanceof ga?Qs(b):new ga(b);if(P.g!="")E&&(P.g=E+"."+P.g),kf(P,P.s);else{var U=a.location;P=U.protocol,E=E?E+"."+U.hostname:U.hostname,U=+U.port;var W=new ga(null);P&&Nf(W,P),E&&(W.g=E),U&&kf(W,U),b&&(W.l=b),P=W}return b=f.D,E=f.ya,b&&E&&It(P,b,E),It(P,"VER",f.la),Nu(f,P),P}function ZS(f,E,b){if(E&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Ca&&!f.pa?new $t(new Cu({eb:b})):new $t(f.pa),E.Ha(f.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function eb(){}t=eb.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ff(){}Ff.prototype.g=function(f,E){return new vr(f,E)};function vr(f,E){je.call(this),this.g=new zS(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(f?f["X-WebChannel-Client-Profile"]=E.va:f={"X-WebChannel-Client-Profile":E.va}),this.g.S=f,(f=E&&E.Sb)&&!y(f)&&(this.g.m=f),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!y(E)&&(this.g.D=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new Cl(this)}w(vr,je),vr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vr.prototype.close=function(){iv(this.g)},vr.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.u&&(b={},b.__data__=Hn(f),f=b);E.i.push(new Zr(E.Ya++,f)),E.G==3&&jf(E)},vr.prototype.N=function(){this.g.l=null,delete this.j,iv(this.g),delete this.g,vr.aa.N.call(this)};function tb(f){Tl.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){e:{for(const b in E){f=b;break e}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}w(tb,Tl);function nb(){ca.call(this),this.status=1}w(nb,ca);function Cl(f){this.g=f}w(Cl,eb),Cl.prototype.ua=function(){Be(this.g,"a")},Cl.prototype.ta=function(f){Be(this.g,new tb(f))},Cl.prototype.sa=function(f){Be(this.g,new nb)},Cl.prototype.ra=function(){Be(this.g,"b")},Ff.prototype.createWebChannel=Ff.prototype.g,vr.prototype.send=vr.prototype.o,vr.prototype.open=vr.prototype.m,vr.prototype.close=vr.prototype.close,Pj=function(){return new Ff},Rj=function(){return bl()},Aj=Mr,h_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ue.NO_ERROR=0,ue.TIMEOUT=8,ue.HTTP_ERROR=6,Jp=ue,xe.COMPLETE="complete",Cj=xe,xu.EventType=Ss,Ss.OPEN="a",Ss.CLOSE="b",Ss.ERROR="c",Ss.MESSAGE="d",je.prototype.listen=je.prototype.K,id=xu,Ij=Cu,$t.prototype.listenOnce=$t.prototype.L,$t.prototype.getLastError=$t.prototype.Ka,$t.prototype.getLastErrorCode=$t.prototype.Ba,$t.prototype.getStatus=$t.prototype.Z,$t.prototype.getResponseJson=$t.prototype.Oa,$t.prototype.getResponseText=$t.prototype.oa,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Ha,bj=$t}).apply(typeof vp<"u"?vp:typeof self<"u"?self:typeof window<"u"?window:{});const t1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pu="10.13.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=new Fg("@firebase/firestore");function Hu(){return el.logLevel}function ge(t,...e){if(el.logLevel<=tt.DEBUG){const n=e.map(vT);el.debug(`Firestore (${pu}): ${t}`,...n)}}function ki(t,...e){if(el.logLevel<=tt.ERROR){const n=e.map(vT);el.error(`Firestore (${pu}): ${t}`,...n)}}function Kc(t,...e){if(el.logLevel<=tt.WARN){const n=e.map(vT);el.warn(`Firestore (${pu}): ${t}`,...n)}}function vT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t="Unexpected state"){const e=`FIRESTORE (${pu}) INTERNAL ASSERTION FAILED: `+t;throw ki(e),new Error(e)}function vt(t,e){t||Ne()}function ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends kr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ln.UNAUTHENTICATED))}shutdown(){}}class gee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yee{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new wi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new wi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(vt(typeof r.accessToken=="string"),new Nj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return vt(e===null||typeof e=="string"),new Ln(e)}}class vee{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class wee{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new vee(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _ee{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xee{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,ge("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(vt(typeof n.token=="string"),this.R=n.token,new _ee(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eee(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=Eee(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function ct(t,e){return t<e?-1:t>e?1:0}function Wc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Se(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return fn.fromMillis(Date.now())}static fromDate(e){return fn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new fn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Me(e)}static min(){return new Me(new fn(0,0))}static max(){return new Me(new fn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ne(),r===void 0?r=e.length-n:r>e.length-n&&Ne(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return yh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Dt extends yh{construct(e,n,r){return new Dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Dt(n)}static emptyPath(){return new Dt([])}}const Tee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class En extends yh{construct(e,n,r){return new En(e,n,r)}static isValidIdentifier(e){return Tee.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),En.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new En(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Se(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Se(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Se(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Se(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new En(n)}static emptyPath(){return new En([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(Dt.fromString(e))}static fromName(e){return new be(Dt.fromString(e).popFirst(5))}static empty(){return new be(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new Dt(e.slice()))}}function See(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Me.fromTimestamp(r===1e9?new fn(n+1,0):new fn(n,r));return new Go(s,be.empty(),e)}function bee(t){return new Go(t.readTime,t.key,-1)}class Go{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Go(Me.min(),be.empty(),-1)}static max(){return new Go(Me.max(),be.empty(),-1)}}function Iee(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cee="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Aee{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hf(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==Cee)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(s=>s?Q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new Q((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Ree(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ff(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}wT.oe=-1;function Ay(t){return t==null}function rg(t){return t===0&&1/t==-1/0}function Pee(t){return typeof t=="number"&&Number.isInteger(t)&&!rg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Nee(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function Dj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){this.comparator=e,this.root=n||xn.EMPTY}insert(e,n){return new Ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new Ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wp(this.root,e,this.comparator,!1)}getReverseIterator(){return new wp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wp(this.root,e,this.comparator,!0)}}class wp{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??xn.RED,this.left=s??xn.EMPTY,this.right=i??xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new xn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return xn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ne();const e=this.left.check();if(e!==this.right.check())throw Ne();return e+(this.isRed()?0:1)}}xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne()}get value(){throw Ne()}get color(){throw Ne()}get left(){throw Ne()}get right(){throw Ne()}copy(e,n,r,s,i){return this}insert(e,n,r){return new xn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.comparator=e,this.data=new Ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new r1(this.data.getIterator())}getIteratorFrom(e){return new r1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Sn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Sn(this.comparator);return n.data=e,n}}class r1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.fields=e,e.sort(En.comparator)}static empty(){return new ds([])}unionWith(e){let n=new Sn(En.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ds(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Mj("Invalid base64 string: "+i):i}}(e);return new In(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new In(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}In.EMPTY_BYTE_STRING=new In("");const kee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qo(t){if(vt(!!t),typeof t=="string"){let e=0;const n=kee.exec(t);if(vt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qt(t.seconds),nanos:Qt(t.nanos)}}function Qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function tl(t){return typeof t=="string"?In.fromBase64String(t):In.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function xT(t){const e=t.mapValue.fields.__previous_value__;return _T(e)?xT(e):e}function vh(t){const e=Qo(t.mapValue.fields.__local_write_time__.timestampValue);return new fn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dee{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class wh{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new wh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof wh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function nl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_T(t)?4:Oee(t)?9007199254740991:Mee(t)?10:11:Ne()}function Hs(t,e){if(t===e)return!0;const n=nl(t);if(n!==nl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vh(t).isEqual(vh(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Qo(s.timestampValue),a=Qo(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return tl(s.bytesValue).isEqual(tl(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Qt(s.geoPointValue.latitude)===Qt(i.geoPointValue.latitude)&&Qt(s.geoPointValue.longitude)===Qt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Qt(s.integerValue)===Qt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Qt(s.doubleValue),a=Qt(i.doubleValue);return o===a?rg(o)===rg(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Wc(t.arrayValue.values||[],e.arrayValue.values||[],Hs);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(n1(o)!==n1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Hs(o[l],a[l])))return!1;return!0}(t,e);default:return Ne()}}function _h(t,e){return(t.values||[]).find(n=>Hs(n,e))!==void 0}function Hc(t,e){if(t===e)return 0;const n=nl(t),r=nl(e);if(n!==r)return ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Qt(i.integerValue||i.doubleValue),l=Qt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return s1(t.timestampValue,e.timestampValue);case 4:return s1(vh(t),vh(e));case 5:return ct(t.stringValue,e.stringValue);case 6:return function(i,o){const a=tl(i),l=tl(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=ct(a[c],l[c]);if(u!==0)return u}return ct(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ct(Qt(i.latitude),Qt(o.latitude));return a!==0?a:ct(Qt(i.longitude),Qt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return i1(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,u;const d=i.fields||{},p=o.fields||{},g=(a=d.value)===null||a===void 0?void 0:a.arrayValue,w=(l=p.value)===null||l===void 0?void 0:l.arrayValue,v=ct(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((u=w==null?void 0:w.values)===null||u===void 0?void 0:u.length)||0);return v!==0?v:i1(g,w)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===_p.mapValue&&o===_p.mapValue)return 0;if(i===_p.mapValue)return 1;if(o===_p.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const p=ct(l[d],u[d]);if(p!==0)return p;const g=Hc(a[l[d]],c[u[d]]);if(g!==0)return g}return ct(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Ne()}}function s1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const n=Qo(t),r=Qo(e),s=ct(n.seconds,r.seconds);return s!==0?s:ct(n.nanos,r.nanos)}function i1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Hc(n[s],r[s]);if(i)return i}return ct(n.length,r.length)}function qc(t){return f_(t)}function f_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Qo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return tl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=f_(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${f_(n.fields[o])}`;return s+"}"}(t.mapValue):Ne()}function p_(t){return!!t&&"integerValue"in t}function ET(t){return!!t&&"arrayValue"in t}function o1(t){return!!t&&"nullValue"in t}function a1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zp(t){return!!t&&"mapValue"in t}function Mee(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function bd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return mu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=bd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Oee(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.value=e}static empty(){return new zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bd(n)}setAll(e){let n=En.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=bd(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Zp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Zp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){mu(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new zr(bd(this.value))}}function Oj(t){const e=[];return mu(t.fields,(n,r)=>{const s=new En([n]);if(Zp(r)){const i=Oj(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new ds(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Vn(e,0,Me.min(),Me.min(),Me.min(),zr.empty(),0)}static newFoundDocument(e,n,r,s){return new Vn(e,1,n,Me.min(),r,s,0)}static newNoDocument(e,n){return new Vn(e,2,n,Me.min(),Me.min(),zr.empty(),0)}static newUnknownDocument(e,n){return new Vn(e,3,n,Me.min(),Me.min(),zr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n){this.position=e,this.inclusive=n}}function l1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=be.comparator(be.fromName(o.referenceValue),n.key):r=Hc(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function c1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Hs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n="asc"){this.field=e,this.dir=n}}function Lee(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{}class cn extends Lj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Vee(e,n,r):n==="array-contains"?new Bee(e,r):n==="in"?new $ee(e,r):n==="not-in"?new zee(e,r):n==="array-contains-any"?new Kee(e,r):new cn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Fee(e,r):new Uee(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Hc(n,this.value)):n!==null&&nl(this.value)===nl(n)&&this.matchesComparison(Hc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qs extends Lj{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new qs(e,n)}matches(e){return jj(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function jj(t){return t.op==="and"}function Vj(t){return jee(t)&&jj(t)}function jee(t){for(const e of t.filters)if(e instanceof qs)return!1;return!0}function m_(t){if(t instanceof cn)return t.field.canonicalString()+t.op.toString()+qc(t.value);if(Vj(t))return t.filters.map(e=>m_(e)).join(",");{const e=t.filters.map(n=>m_(n)).join(",");return`${t.op}(${e})`}}function Fj(t,e){return t instanceof cn?function(r,s){return s instanceof cn&&r.op===s.op&&r.field.isEqual(s.field)&&Hs(r.value,s.value)}(t,e):t instanceof qs?function(r,s){return s instanceof qs&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&Fj(o,s.filters[a]),!0):!1}(t,e):void Ne()}function Uj(t){return t instanceof cn?function(n){return`${n.field.canonicalString()} ${n.op} ${qc(n.value)}`}(t):t instanceof qs?function(n){return n.op.toString()+" {"+n.getFilters().map(Uj).join(" ,")+"}"}(t):"Filter"}class Vee extends cn{constructor(e,n,r){super(e,n,r),this.key=be.fromName(r.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class Fee extends cn{constructor(e,n){super(e,"in",n),this.keys=Bj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Uee extends cn{constructor(e,n){super(e,"not-in",n),this.keys=Bj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Bj(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>be.fromName(r.referenceValue))}class Bee extends cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ET(n)&&_h(n.arrayValue,this.value)}}class $ee extends cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_h(this.value.arrayValue,n)}}class zee extends cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(_h(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!_h(this.value.arrayValue,n)}}class Kee extends cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ET(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_h(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wee{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function u1(t,e=null,n=[],r=[],s=null,i=null,o=null){return new Wee(t,e,n,r,s,i,o)}function TT(t){const e=ke(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>m_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Ay(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>qc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>qc(r)).join(",")),e.ue=n}return e.ue}function ST(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Lee(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Fj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!c1(t.startAt,e.startAt)&&c1(t.endAt,e.endAt)}function g_(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Hee(t,e,n,r,s,i,o,a){return new Ry(t,e,n,r,s,i,o,a)}function Py(t){return new Ry(t)}function d1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function qee(t){return t.collectionGroup!==null}function Id(t){const e=ke(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Sn(En.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new ig(i,r))}),n.has(En.keyField().canonicalString())||e.ce.push(new ig(En.keyField(),r))}return e.ce}function zs(t){const e=ke(t);return e.le||(e.le=$j(e,Id(t))),e.le}function Gee(t){const e=ke(t);return e.he||(e.he=$j(e,t.explicitOrderBy)),e.he}function $j(t,e){if(t.limitType==="F")return u1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ig(s.field,i)});const n=t.endAt?new sg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new sg(t.startAt.position,t.startAt.inclusive):null;return u1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function y_(t,e,n){return new Ry(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ny(t,e){return ST(zs(t),zs(e))&&t.limitType===e.limitType}function zj(t){return`${TT(zs(t))}|lt:${t.limitType}`}function Ol(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Uj(s)).join(", ")}]`),Ay(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>qc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>qc(s)).join(",")),`Target(${r})`}(zs(t))}; limitType=${t.limitType})`}function ky(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):be.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Id(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=l1(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Id(r),s)||r.endAt&&!function(o,a,l){const c=l1(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Id(r),s))}(t,e)}function Qee(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Kj(t){return(e,n)=>{let r=!1;for(const s of Id(t)){const i=Yee(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Yee(t,e,n){const r=t.field.isKeyField()?be.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Hc(l,c):Ne()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){mu(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Dj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xee=new Ut(be.comparator);function Di(){return Xee}const Wj=new Ut(be.comparator);function od(...t){let e=Wj;for(const n of t)e=e.insert(n.key,n);return e}function Hj(t){let e=Wj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Pa(){return Cd()}function qj(){return Cd()}function Cd(){return new gu(t=>t.toString(),(t,e)=>t.isEqual(e))}const Jee=new Ut(be.comparator),Zee=new Sn(be.comparator);function Xe(...t){let e=Zee;for(const n of t)e=e.add(n);return e}const ete=new Sn(ct);function tte(){return ete}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rg(e)?"-0":e}}function Gj(t){return{integerValue:""+t}}function nte(t,e){return Pee(e)?Gj(e):bT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(){this._=void 0}}function rte(t,e,n){return t instanceof og?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&_T(i)&&(i=xT(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof xh?Yj(t,e):t instanceof Eh?Xj(t,e):function(s,i){const o=Qj(s,i),a=h1(o)+h1(s.Pe);return p_(o)&&p_(s.Pe)?Gj(a):bT(s.serializer,a)}(t,e)}function ste(t,e,n){return t instanceof xh?Yj(t,e):t instanceof Eh?Xj(t,e):n}function Qj(t,e){return t instanceof ag?function(r){return p_(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class og extends Dy{}class xh extends Dy{constructor(e){super(),this.elements=e}}function Yj(t,e){const n=Jj(e);for(const r of t.elements)n.some(s=>Hs(s,r))||n.push(r);return{arrayValue:{values:n}}}class Eh extends Dy{constructor(e){super(),this.elements=e}}function Xj(t,e){let n=Jj(e);for(const r of t.elements)n=n.filter(s=>!Hs(s,r));return{arrayValue:{values:n}}}class ag extends Dy{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function h1(t){return Qt(t.integerValue||t.doubleValue)}function Jj(t){return ET(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ite(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof xh&&s instanceof xh||r instanceof Eh&&s instanceof Eh?Wc(r.elements,s.elements,Hs):r instanceof ag&&s instanceof ag?Hs(r.Pe,s.Pe):r instanceof og&&s instanceof og}(t.transform,e.transform)}class ote{constructor(e,n){this.version=e,this.transformResults=n}}class _i{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _i}static exists(e){return new _i(void 0,e)}static updateTime(e){return new _i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function em(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let My=class{};function Zj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new t2(t.key,_i.none()):new pf(t.key,t.data,_i.none());{const n=t.data,r=zr.empty();let s=new Sn(En.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new yl(t.key,r,new ds(s.toArray()),_i.none())}}function ate(t,e,n){t instanceof pf?function(s,i,o){const a=s.value.clone(),l=p1(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof yl?function(s,i,o){if(!em(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=p1(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(e2(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ad(t,e,n,r){return t instanceof pf?function(i,o,a,l){if(!em(i.precondition,o))return a;const c=i.value.clone(),u=m1(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof yl?function(i,o,a,l){if(!em(i.precondition,o))return a;const c=m1(i.fieldTransforms,l,o),u=o.data;return u.setAll(e2(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,o,a){return em(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function lte(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Qj(r.transform,s||null);i!=null&&(n===null&&(n=zr.empty()),n.set(r.field,i))}return n||null}function f1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Wc(r,s,(i,o)=>ite(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pf extends My{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class yl extends My{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function e2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function p1(t,e,n){const r=new Map;vt(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,ste(o,a,n[s]))}return r}function m1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,rte(i,o,e))}return r}class t2 extends My{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cte extends My{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ute{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&ate(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ad(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ad(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=qj();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=Zj(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Xe())}isEqual(e){return this.batchId===e.batchId&&Wc(this.mutations,e.mutations,(n,r)=>f1(n,r))&&Wc(this.baseMutations,e.baseMutations,(n,r)=>f1(n,r))}}class IT{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){vt(e.mutations.length===r.length);let s=function(){return Jee}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new IT(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dte=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hte{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fte{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,nt;function pte(t){switch(t){default:return Ne();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function n2(t){if(t===void 0)return ki("GRPC error has no .code"),Y.UNKNOWN;switch(t){case tn.OK:return Y.OK;case tn.CANCELLED:return Y.CANCELLED;case tn.UNKNOWN:return Y.UNKNOWN;case tn.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case tn.INTERNAL:return Y.INTERNAL;case tn.UNAVAILABLE:return Y.UNAVAILABLE;case tn.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case tn.NOT_FOUND:return Y.NOT_FOUND;case tn.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case tn.ABORTED:return Y.ABORTED;case tn.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case tn.DATA_LOSS:return Y.DATA_LOSS;default:return Ne()}}(nt=tn||(tn={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mte(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gte=new Ka([4294967295,4294967295],0);function g1(t){const e=mte().encode(t),n=new Sj;return n.update(e),new Uint8Array(n.digest())}function y1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ka([n,r],0),new Ka([s,i],0)]}class CT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ad(`Invalid padding: ${n}`);if(r<0)throw new ad(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ad(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ad(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ka.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Ka.fromNumber(r)));return s.compare(gte)===1&&(s=new Ka([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=g1(e),[r,s]=y1(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new CT(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=g1(e),[r,s]=y1(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ad extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,mf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Oy(Me.min(),s,new Ut(ct),Di(),Xe())}}class mf{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new mf(r,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class r2{constructor(e,n){this.targetId=e,this.me=n}}class s2{constructor(e,n,r=In.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class v1{constructor(){this.fe=0,this.ge=_1(),this.pe=In.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Xe(),n=Xe(),r=Xe();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ne()}}),new mf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=_1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,vt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class yte{constructor(e){this.Le=e,this.Be=new Map,this.ke=Di(),this.qe=w1(),this.Qe=new Ut(ct)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(g_(i))if(r===0){const o=new be(i.path);this.Ue(n,o,Vn.newNoDocument(o,Me.min()))}else vt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=tl(r).toUint8Array()}catch(l){if(l instanceof Mj)return Kc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new CT(o,s,i)}catch(l){return Kc(l instanceof ad?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&g_(a.target)){const l=new be(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Vn.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=Xe();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Oy(e,n,this.Qe,this.ke,r);return this.ke=Di(),this.qe=w1(),this.Qe=new Ut(ct),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new v1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Sn(ct),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new v1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function w1(){return new Ut(be.comparator)}function _1(){return new Ut(be.comparator)}const vte={asc:"ASCENDING",desc:"DESCENDING"},wte={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_te={and:"AND",or:"OR"};class xte{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function v_(t,e){return t.useProto3Json||Ay(e)?e:{value:e}}function lg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function i2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ete(t,e){return lg(t,e.toTimestamp())}function Ks(t){return vt(!!t),Me.fromTimestamp(function(n){const r=Qo(n);return new fn(r.seconds,r.nanos)}(t))}function AT(t,e){return w_(t,e).canonicalString()}function w_(t,e){const n=function(s){return new Dt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function o2(t){const e=Dt.fromString(t);return vt(h2(e)),e}function __(t,e){return AT(t.databaseId,e.path)}function ww(t,e){const n=o2(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(l2(n))}function a2(t,e){return AT(t.databaseId,e)}function Tte(t){const e=o2(t);return e.length===4?Dt.emptyPath():l2(e)}function x_(t){return new Dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function l2(t){return vt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function x1(t,e,n){return{name:__(t,e),fields:n.value.mapValue.fields}}function Ste(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(vt(u===void 0||typeof u=="string"),In.fromBase64String(u||"")):(vt(u===void 0||u instanceof Buffer||u instanceof Uint8Array),In.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?Y.UNKNOWN:n2(c.code);return new Se(u,c.message||"")}(o);n=new s2(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ww(t,r.document.name),i=Ks(r.document.updateTime),o=r.document.createTime?Ks(r.document.createTime):Me.min(),a=new zr({mapValue:{fields:r.document.fields}}),l=Vn.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new tm(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ww(t,r.document),i=r.readTime?Ks(r.readTime):Me.min(),o=Vn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new tm([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ww(t,r.document),i=r.removedTargetIds||[];n=new tm([],i,s,null)}else{if(!("filter"in e))return Ne();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new fte(s,i),a=r.targetId;n=new r2(a,o)}}return n}function bte(t,e){let n;if(e instanceof pf)n={update:x1(t,e.key,e.value)};else if(e instanceof t2)n={delete:__(t,e.key)};else if(e instanceof yl)n={update:x1(t,e.key,e.data),updateMask:Mte(e.fieldMask)};else{if(!(e instanceof cte))return Ne();n={verify:__(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof og)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Eh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ag)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Ne()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Ete(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ne()}(t,e.precondition)),n}function Ite(t,e){return t&&t.length>0?(vt(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Ks(s.updateTime):Ks(i);return o.isEqual(Me.min())&&(o=Ks(i)),new ote(o,s.transformResults||[])}(n,e))):[]}function Cte(t,e){return{documents:[a2(t,e.path)]}}function c2(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=a2(t,s);const i=function(c){if(c.length!==0)return d2(qs.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(u=>function(p){return{field:lo(p.field),direction:Nte(p.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=v_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function Ate(t,e,n,r){const{_t:s,parent:i}=c2(t,e),o={},a=[];let l=0;return n.forEach(c=>{const u="aggregate_"+l++;o[u]=c.alias,c.aggregateType==="count"?a.push({alias:u,count:{}}):c.aggregateType==="avg"?a.push({alias:u,avg:{field:lo(c.fieldPath)}}):c.aggregateType==="sum"&&a.push({alias:u,sum:{field:lo(c.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:a,structuredQuery:s.structuredQuery},parent:s.parent},ut:o,parent:i}}function Rte(t){let e=Tte(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){vt(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(d){const p=u2(d);return p instanceof qs&&Vj(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(p=>function(w){return new ig(Ll(w.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(d){let p;return p=typeof d=="object"?d.value:d,Ay(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(d){const p=!!d.before,g=d.values||[];return new sg(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const p=!d.before,g=d.values||[];return new sg(g,p)}(n.endAt)),Hee(e,s,o,i,a,"F",l,c)}function Pte(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function u2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ll(n.unaryFilter.field);return cn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ll(n.unaryFilter.field);return cn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ll(n.unaryFilter.field);return cn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ll(n.unaryFilter.field);return cn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ne()}}(t):t.fieldFilter!==void 0?function(n){return cn.create(Ll(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return qs.create(n.compositeFilter.filters.map(r=>u2(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ne()}}(n.compositeFilter.op))}(t):Ne()}function Nte(t){return vte[t]}function kte(t){return wte[t]}function Dte(t){return _te[t]}function lo(t){return{fieldPath:t.canonicalString()}}function Ll(t){return En.fromServerFormat(t.fieldPath)}function d2(t){return t instanceof cn?function(n){if(n.op==="=="){if(a1(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NAN"}};if(o1(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(a1(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NAN"}};if(o1(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(n.field),op:kte(n.op),value:n.value}}}(t):t instanceof qs?function(n){const r=n.getFilters().map(s=>d2(s));return r.length===1?r[0]:{compositeFilter:{op:Dte(n.op),filters:r}}}(t):Ne()}function Mte(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function h2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n,r,s,i=Me.min(),o=Me.min(),a=In.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new So(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new So(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new So(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new So(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ote{constructor(e){this.ct=e}}function Lte(t){const e=Rte({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?y_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jte{constructor(){this.un=new Vte}addToCollectionParentIndex(e,n){return this.un.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Go.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Go.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class Vte{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Sn(Dt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Sn(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Gc(0)}static kn(){return new Gc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fte{constructor(){this.changes=new gu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ute{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bte{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ad(r.mutation,s,ds.empty(),fn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Xe()){const s=Pa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=od();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Pa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Xe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Di();const o=Cd(),a=function(){return Cd()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof yl)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Ad(u.mutation,c,u.mutation.getFieldMask(),fn.now())):o.set(c.key,ds.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new Ute(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Cd();let s=new Ut((o,a)=>o-a),i=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||ds.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(s.get(a.batchId)||Xe()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=qj();u.forEach(p=>{if(!i.has(p)){const g=Zj(n.get(p),r.get(p));g!==null&&d.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return be.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qee(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Q.resolve(Pa());let a=-1,l=i;return o.next(c=>Q.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(u)?Q.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Xe())).next(u=>({batchId:a,changes:Hj(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next(r=>{let s=od();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=od();return this.indexManager.getCollectionParents(e,i).next(a=>Q.forEach(a,l=>{const c=function(d,p){return new Ry(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((d,p)=>{o=o.insert(d,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Vn.newInvalidDocument(u)))});let a=od();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&Ad(u.mutation,c,ds.empty(),fn.now()),ky(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $te{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ks(s.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:Lte(s.bundledQuery),readTime:Ks(s.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zte{constructor(){this.overlays=new Ut(be.comparator),this.Ir=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Pa();return Q.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=Pa(),i=n.length+1,o=new be(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ut((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=Pa(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Pa(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return Q.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new dte(n,r));let i=this.Ir.get(n);i===void 0&&(i=Xe(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kte{constructor(){this.sessionToken=In.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(){this.Tr=new Sn(pn.Er),this.dr=new Sn(pn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new pn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new pn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new be(new Dt([])),r=new pn(n,e),s=new pn(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new be(new Dt([])),r=new pn(n,e),s=new pn(n,e+1);let i=Xe();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new pn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class pn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return be.comparator(e.key,n.key)||ct(e.wr,n.wr)}static Ar(e,n){return ct(e.wr,n.wr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wte{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Sn(pn.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ute(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new pn(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new pn(n,0),s=new pn(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Sn(ct);return n.forEach(s=>{const i=new pn(s,0),o=new pn(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;be.isDocumentKey(i)||(i=i.child(""));const o=new pn(new be(i),0);let a=new Sn(ct);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.wr)),!0)},o),Q.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){vt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Q.forEach(n.mutations,s=>{const i=new pn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new pn(n,0),s=this.br.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hte{constructor(e){this.Mr=e,this.docs=function(){return new Ut(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():Vn.newInvalidDocument(n))}getEntries(e,n){let r=Di();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Vn.newInvalidDocument(s))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Di();const o=n.path,a=new be(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Iee(bee(u),r)<=0||(s.has(u.key)||ky(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ne()}Or(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new qte(this)}getSize(e){return Q.resolve(this.size)}}class qte extends Fte{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gte{constructor(e){this.persistence=e,this.Nr=new gu(n=>TT(n),ST),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new RT,this.targetCount=0,this.kr=Gc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Gc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Kn(n),Q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),Q.waitFor(i).next(()=>s)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),Q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qte{constructor(e,n){this.qr={},this.overlays={},this.Qr=new wT(0),this.Kr=!1,this.Kr=!0,this.$r=new Kte,this.referenceDelegate=e(this),this.Ur=new Gte(this),this.indexManager=new jte,this.remoteDocumentCache=function(s){return new Hte(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Ote(n),this.Gr=new $te(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zte,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Wte(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const s=new Yte(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return Q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Yte extends Aee{constructor(e){super(),this.currentSequenceNumber=e}}class PT{constructor(e){this.persistence=e,this.Jr=new RT,this.Yr=null}static Zr(e){return new PT(e)}get Xr(){if(this.Yr)return this.Yr;throw Ne()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,r=>{const s=be.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,Me.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Q.or([()=>Q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Xe(),s=Xe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new NT(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xte{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jte{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Q5()?8:Ree($n())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Xte;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Hu()<=tt.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Ol(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(Hu()<=tt.DEBUG&&ge("QueryEngine","Query:",Ol(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Hu()<=tt.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Ol(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zs(n))):Q.resolve())}Yi(e,n){if(d1(n))return Q.resolve(null);let r=zs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=y_(n,null,"F"),r=zs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Xe(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,y_(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,s){return d1(n)||s.isEqual(Me.min())?Q.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?Q.resolve(null):(Hu()<=tt.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ol(n)),this.rs(e,o,n,See(s,-1)).next(a=>a))})}ts(e,n){let r=new Sn(Kj(e));return n.forEach((s,i)=>{ky(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Hu()<=tt.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Ol(n)),this.Ji.getDocumentsMatchingQuery(e,n,Go.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zte{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Ut(ct),this._s=new gu(i=>TT(i),ST),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bte(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function ene(t,e,n,r){return new Zte(t,e,n,r)}async function f2(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Xe();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function tne(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,p=d.keys();let g=Q.resolve();return p.forEach(w=>{g=g.next(()=>u.getEntry(l,w)).next(v=>{const x=c.docVersions.get(w);vt(x!==null),v.version.compareTo(x)<0&&(d.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Xe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function p2(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function nne(t,e){const n=ke(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((u,d)=>{const p=s.get(d);if(!p)return;a.push(n.Ur.removeMatchingKeys(i,u.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(i,u.addedDocuments,d)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(In.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,r)),s=s.insert(d,g),function(v,x,_){return v.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,g,u)&&a.push(n.Ur.updateTargetData(i,g))});let l=Di(),c=Xe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(rne(i,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(Me.min())){const u=n.Ur.getLastRemoteSnapshotVersion(i).next(d=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return Q.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.os=s,i))}function rne(t,e,n){let r=Xe(),s=Xe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Di();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Me.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ge("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function sne(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ine(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,Q.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new So(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function E_(t,e,n){const r=ke(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ff(o))throw o;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function E1(t,e,n){const r=ke(t);let s=Me.min(),i=Xe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=ke(l),p=d._s.get(u);return p!==void 0?Q.resolve(d.os.get(p)):d.Ur.getTargetData(c,u)}(r,o,zs(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:Me.min(),n?i:Xe())).next(a=>(one(r,Qee(e),a),{documents:a,Ts:i})))}function one(t,e,n){let r=t.us.get(e)||Me.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class T1{constructor(){this.activeTargetIds=tte()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ane{constructor(){this.so=new T1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new T1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lne{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xp=null;function _w(){return xp===null?xp=function(){return 268435456+Math.round(2147483648*Math.random())}():xp++,"0x"+xp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class une{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="WebChannelConnection";class dne extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=_w(),l=this.xo(n,r.toUriEncodedString());ge("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,l,c,s).then(u=>(ge("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Kc("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=cne[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=_w();return new Promise((o,a)=>{const l=new bj;l.setWithCredentials(!0),l.listenOnce(Cj.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Jp.NO_ERROR:const u=l.getResponseJson();ge(Dn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Jp.TIMEOUT:ge(Dn,`RPC '${e}' ${i} timed out`),a(new Se(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Jp.HTTP_ERROR:const d=l.getStatus();if(ge(Dn,`RPC '${e}' ${i} failed with status:`,d,"response text:",l.getResponseText()),d>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const w=function(x){const _=x.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(_)>=0?_:Y.UNKNOWN}(g.status);a(new Se(w,g.message))}else a(new Se(Y.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Se(Y.UNAVAILABLE,"Connection failed."));break;default:Ne()}}finally{ge(Dn,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);ge(Dn,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=_w(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Pj(),a=Rj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new Ij({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");ge(Dn,`Creating RPC '${e}' stream ${s}: ${u}`,l);const d=o.createWebChannel(u,l);let p=!1,g=!1;const w=new une({Io:x=>{g?ge(Dn,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(p||(ge(Dn,`Opening RPC '${e}' stream ${s} transport.`),d.open(),p=!0),ge(Dn,`RPC '${e}' stream ${s} sending:`,x),d.send(x))},To:()=>d.close()}),v=(x,_,y)=>{x.listen(_,S=>{try{y(S)}catch(A){setTimeout(()=>{throw A},0)}})};return v(d,id.EventType.OPEN,()=>{g||(ge(Dn,`RPC '${e}' stream ${s} transport opened.`),w.yo())}),v(d,id.EventType.CLOSE,()=>{g||(g=!0,ge(Dn,`RPC '${e}' stream ${s} transport closed`),w.So())}),v(d,id.EventType.ERROR,x=>{g||(g=!0,Kc(Dn,`RPC '${e}' stream ${s} transport errored:`,x),w.So(new Se(Y.UNAVAILABLE,"The operation could not be completed")))}),v(d,id.EventType.MESSAGE,x=>{var _;if(!g){const y=x.data[0];vt(!!y);const S=y,A=S.error||((_=S[0])===null||_===void 0?void 0:_.error);if(A){ge(Dn,`RPC '${e}' stream ${s} received error:`,A);const k=A.status;let O=function(C){const R=tn[C];if(R!==void 0)return n2(R)}(k),I=A.message;O===void 0&&(O=Y.INTERNAL,I="Unknown error status: "+k+" with message "+A.message),g=!0,w.So(new Se(O,I)),d.close()}else ge(Dn,`RPC '${e}' stream ${s} received:`,y),w.bo(y)}}),v(a,Aj.STAT_EVENT,x=>{x.stat===h_.PROXY?ge(Dn,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===h_.NOPROXY&&ge(Dn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function xw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(t){return new xte(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&ge("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new m2(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(ki(n.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new Se(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hne extends g2{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Ste(this.serializer,e),r=function(i){if(!("targetChange"in i))return Me.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Me.min():o.readTime?Ks(o.readTime):Me.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=x_(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=g_(l)?{documents:Cte(i,l)}:{query:c2(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=i2(i,o.resumeToken);const c=v_(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Me.min())>0){a.readTime=lg(i,o.snapshotVersion.toTimestamp());const c=v_(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Pte(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=x_(this.serializer),n.removeTarget=e,this.a_(n)}}class fne extends g2{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return vt(!!e.streamToken),this.lastStreamToken=e.streamToken,vt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Ite(e.writeResults,e.commitTime),r=Ks(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=x_(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>bte(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pne extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new Se(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,w_(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Se(Y.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,w_(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(Y.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class mne{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ki(n),this.D_=!1):ge("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gne{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{vl(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ke(l);c.L_.add(4),await gf(c),c.q_.set("Unknown"),c.L_.delete(4),await jy(c)}(this))})}),this.q_=new mne(r,s)}}async function jy(t){if(vl(t))for(const e of t.B_)await e(!0)}async function gf(t){for(const e of t.B_)await e(!1)}function y2(t,e){const n=ke(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),OT(n)?MT(n):yu(n).r_()&&DT(n,e))}function kT(t,e){const n=ke(t),r=yu(n);n.N_.delete(e),r.r_()&&v2(n,e),n.N_.size===0&&(r.r_()?r.o_():vl(n)&&n.q_.set("Unknown"))}function DT(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yu(t).A_(e)}function v2(t,e){t.Q_.xe(e),yu(t).R_(e)}function MT(t){t.Q_=new yte({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),yu(t).start(),t.q_.v_()}function OT(t){return vl(t)&&!yu(t).n_()&&t.N_.size>0}function vl(t){return ke(t).L_.size===0}function w2(t){t.Q_=void 0}async function yne(t){t.q_.set("Online")}async function vne(t){t.N_.forEach((e,n)=>{DT(t,e)})}async function wne(t,e){w2(t),OT(t)?(t.q_.M_(e),MT(t)):t.q_.set("Unknown")}async function _ne(t,e,n){if(t.q_.set("Online"),e instanceof s2&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cg(t,r)}else if(e instanceof tm?t.Q_.Ke(e):e instanceof r2?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Me.min()))try{const r=await p2(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.N_.get(c);u&&i.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.N_.get(l);if(!u)return;i.N_.set(l,u.withResumeToken(In.EMPTY_BYTE_STRING,u.snapshotVersion)),v2(i,l);const d=new So(u.target,l,c,u.sequenceNumber);DT(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ge("RemoteStore","Failed to raise snapshot:",r),await cg(t,r)}}async function cg(t,e,n){if(!ff(e))throw e;t.L_.add(1),await gf(t),t.q_.set("Offline"),n||(n=()=>p2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await jy(t)})}function _2(t,e){return e().catch(n=>cg(t,n,e))}async function Vy(t){const e=ke(t),n=Yo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;xne(e);)try{const s=await sne(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,Ene(e,s)}catch(s){await cg(e,s)}x2(e)&&E2(e)}function xne(t){return vl(t)&&t.O_.length<10}function Ene(t,e){t.O_.push(e);const n=Yo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function x2(t){return vl(t)&&!Yo(t).n_()&&t.O_.length>0}function E2(t){Yo(t).start()}async function Tne(t){Yo(t).p_()}async function Sne(t){const e=Yo(t);for(const n of t.O_)e.m_(n.mutations)}async function bne(t,e,n){const r=t.O_.shift(),s=IT.from(r,e,n);await _2(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Vy(t)}async function Ine(t,e){e&&Yo(t).V_&&await async function(r,s){if(function(o){return pte(o)&&o!==Y.ABORTED}(s.code)){const i=r.O_.shift();Yo(r).s_(),await _2(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Vy(r)}}(t,e),x2(t)&&E2(t)}async function b1(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const r=vl(n);n.L_.add(3),await gf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await jy(n)}async function Cne(t,e){const n=ke(t);e?(n.L_.delete(2),await jy(n)):e||(n.L_.add(2),await gf(n),n.q_.set("Unknown"))}function yu(t){return t.K_||(t.K_=function(n,r,s){const i=ke(n);return i.w_(),new hne(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:yne.bind(null,t),Ro:vne.bind(null,t),mo:wne.bind(null,t),d_:_ne.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),OT(t)?MT(t):t.q_.set("Unknown")):(await t.K_.stop(),w2(t))})),t.K_}function Yo(t){return t.U_||(t.U_=function(n,r,s){const i=ke(n);return i.w_(),new fne(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Tne.bind(null,t),mo:Ine.bind(null,t),f_:Sne.bind(null,t),g_:bne.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Vy(t)):(await t.U_.stop(),t.O_.length>0&&(ge("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new LT(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jT(t,e){if(ki("AsyncQueue",`${e}: ${t}`),ff(t))return new Se(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=od(),this.sortedSet=new Ut(this.comparator)}static emptySet(e){return new pc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new pc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(){this.W_=new Ut(be.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ne():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Qc{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Qc(e,n,pc.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ny(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ane{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Rne{constructor(){this.queries=C1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=ke(n),i=s.queries;s.queries=C1(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Se(Y.ABORTED,"Firestore shutting down"))}}function C1(){return new gu(t=>zj(t),Ny)}async function T2(t,e){const n=ke(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new Ane,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=jT(o,`Initialization of query '${Ol(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&VT(n)}async function S2(t,e){const n=ke(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Pne(t,e){const n=ke(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&VT(n)}function Nne(t,e,n){const r=ke(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function VT(t){t.Y_.forEach(e=>{e.next()})}var T_,A1;(A1=T_||(T_={})).ea="default",A1.Cache="cache";class b2{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Qc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Qc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==T_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.key=e}}class C2{constructor(e){this.key=e}}class kne{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Xe(),this.mutatedKeys=Xe(),this.Aa=Kj(e),this.Ra=new pc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new I1,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,d)=>{const p=s.get(u),g=ky(this.query,d)?d:null,w=!!p&&this.mutatedKeys.has(p.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;p&&g?p.data.isEqual(g.data)?w!==v&&(r.track({type:3,doc:g}),x=!0):this.ga(p,g)||(r.track({type:2,doc:g}),x=!0,(l&&this.Aa(g,l)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),x=!0):p&&!g&&(r.track({type:1,doc:p}),x=!0,(l||c)&&(a=!0)),x&&(g?(o=o.add(g),i=v?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,d)=>function(g,w){const v=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne()}};return v(g)-v(w)}(u.type,d.type)||this.Aa(u.doc,d.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Qc(this.query,e.Ra,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new I1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Xe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new C2(r))}),this.da.forEach(r=>{e.has(r)||n.push(new I2(r))}),n}ba(e){this.Ta=e.Ts,this.da=Xe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Qc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Dne{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Mne{constructor(e){this.key=e,this.va=!1}}class One{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new gu(a=>zj(a),Ny),this.Ma=new Map,this.xa=new Set,this.Oa=new Ut(be.comparator),this.Na=new Map,this.La=new RT,this.Ba={},this.ka=new Map,this.qa=Gc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Lne(t,e,n=!0){const r=D2(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await A2(r,e,n,!0),s}async function jne(t,e){const n=D2(t);await A2(n,e,!0,!1)}async function A2(t,e,n,r){const s=await ine(t.localStore,zs(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await Vne(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&y2(t.remoteStore,s),a}async function Vne(t,e,n,r,s){t.Ka=(d,p,g)=>async function(v,x,_,y){let S=x.view.ma(_);S.ns&&(S=await E1(v.localStore,x.query,!1).then(({documents:I})=>x.view.ma(I,S)));const A=y&&y.targetChanges.get(x.targetId),k=y&&y.targetMismatches.get(x.targetId)!=null,O=x.view.applyChanges(S,v.isPrimaryClient,A,k);return P1(v,x.targetId,O.wa),O.snapshot}(t,d,p,g);const i=await E1(t.localStore,e,!0),o=new kne(e,i.Ts),a=o.ma(i.documents),l=mf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);P1(t,n,c.wa);const u=new Dne(e,n,o);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function Fne(t,e,n){const r=ke(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!Ny(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await E_(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&kT(r.remoteStore,s.targetId),S_(r,s.targetId)}).catch(hf)):(S_(r,s.targetId),await E_(r.localStore,s.targetId,!0))}async function Une(t,e){const n=ke(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),kT(n.remoteStore,r.targetId))}async function Bne(t,e,n){const r=Gne(t);try{const s=await function(o,a){const l=ke(o),c=fn.now(),u=a.reduce((g,w)=>g.add(w.key),Xe());let d,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=Di(),v=Xe();return l.cs.getEntries(g,u).next(x=>{w=x,w.forEach((_,y)=>{y.isValidDocument()||(v=v.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,w)).next(x=>{d=x;const _=[];for(const y of a){const S=lte(y,d.get(y.key).overlayedDocument);S!=null&&_.push(new yl(y.key,S,Oj(S.value.mapValue),_i.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,_,a)}).next(x=>{p=x;const _=x.applyToLocalDocumentSet(d,v);return l.documentOverlayCache.saveOverlays(g,x.batchId,_)})}).then(()=>({batchId:p.batchId,changes:Hj(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Ut(ct)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await yf(r,s.changes),await Vy(r.remoteStore)}catch(s){const i=jT(s,"Failed to persist write");n.reject(i)}}async function R2(t,e){const n=ke(t);try{const r=await nne(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(vt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?vt(o.va):s.removedDocuments.size>0&&(vt(o.va),o.va=!1))}),await yf(n,r,e)}catch(r){await hf(r)}}function R1(t,e,n){const r=ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ke(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const p of d.j_)p.Z_(a)&&(c=!0)}),c&&VT(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $ne(t,e,n){const r=ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Ut(be.comparator);o=o.insert(i,Vn.newNoDocument(i,Me.min()));const a=Xe().add(i),l=new Oy(Me.min(),new Map,new Ut(ct),o,a);await R2(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),FT(r)}else await E_(r.localStore,e,!1).then(()=>S_(r,e,n)).catch(hf)}async function zne(t,e){const n=ke(t),r=e.batch.batchId;try{const s=await tne(n.localStore,e);N2(n,r,null),P2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yf(n,s)}catch(s){await hf(s)}}async function Kne(t,e,n){const r=ke(t);try{const s=await function(o,a){const l=ke(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(vt(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);N2(r,e,n),P2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yf(r,s)}catch(s){await hf(s)}}function P2(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function N2(t,e,n){const r=ke(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function S_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||k2(t,r)})}function k2(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(kT(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),FT(t))}function P1(t,e,n){for(const r of n)r instanceof I2?(t.La.addReference(r.key,e),Wne(t,r)):r instanceof C2?(ge("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||k2(t,r.key)):Ne()}function Wne(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ge("SyncEngine","New document in limbo: "+n),t.xa.add(r),FT(t))}function FT(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new be(Dt.fromString(e)),r=t.qa.next();t.Na.set(r,new Mne(n)),t.Oa=t.Oa.insert(n,r),y2(t.remoteStore,new So(zs(Py(n.path)),r,"TargetPurposeLimboResolution",wT.oe))}}async function yf(t,e,n){const r=ke(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){s.push(c);const d=NT.Wi(l.targetId,c);i.push(d)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,c){const u=ke(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Q.forEach(c,p=>Q.forEach(p.$i,g=>u.persistence.referenceDelegate.addReference(d,p.targetId,g)).next(()=>Q.forEach(p.Ui,g=>u.persistence.referenceDelegate.removeReference(d,p.targetId,g)))))}catch(d){if(!ff(d))throw d;ge("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const p=d.targetId;if(!d.fromCache){const g=u.os.get(p),w=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(w);u.os=u.os.insert(p,v)}}}(r.localStore,i))}async function Hne(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const r=await f2(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new Se(Y.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yf(n,r.hs)}}function qne(t,e){const n=ke(t),r=n.Na.get(e);if(r&&r.va)return Xe().add(r.key);{let s=Xe();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function D2(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=R2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qne.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$ne.bind(null,e),e.Ca.d_=Pne.bind(null,e.eventManager),e.Ca.$a=Nne.bind(null,e.eventManager),e}function Gne(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zne.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Kne.bind(null,e),e}class N1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ly(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return ene(this.persistence,new Jte,e.initialUser,this.serializer)}createPersistence(e){return new Qte(PT.Zr,this.serializer)}createSharedClientState(e){return new ane}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Qne{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>R1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Hne.bind(null,this.syncEngine),await Cne(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Rne}()}createDatastore(e){const n=Ly(e.databaseInfo.databaseId),r=function(i){return new dne(i)}(e.databaseInfo);return function(i,o,a,l){return new pne(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new gne(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>R1(this.syncEngine,n,0),function(){return S1.D()?new S1:new lne}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const d=new One(s,i,o,a,l,c);return u&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ke(s);ge("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await gf(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):ki("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yne{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ln.UNAUTHENTICATED,this.clientId=kj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{ge("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(ge("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Se(Y.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=jT(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ew(t,e){t.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await f2(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function k1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Jne(t);ge("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>b1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>b1(e.remoteStore,s)),t._onlineComponents=e}function Xne(t){return t.name==="FirebaseError"?t.code===Y.FAILED_PRECONDITION||t.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Jne(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ew(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Xne(n))throw n;Kc("Error using user provided cache. Falling back to memory cache: "+n),await Ew(t,new N1)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await Ew(t,new N1);return t._offlineComponents}async function UT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await k1(t,t._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await k1(t,new Qne))),t._onlineComponents}function Zne(t){return UT(t).then(e=>e.syncEngine)}function ere(t){return UT(t).then(e=>e.datastore)}async function b_(t){const e=await UT(t),n=e.eventManager;return n.onListen=Lne.bind(null,e.syncEngine),n.onUnlisten=Fne.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jne.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Une.bind(null,e.syncEngine),n}function tre(t,e,n={}){const r=new wi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new M2({next:p=>{o.enqueueAndForget(()=>S2(i,d));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new Se(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new Se(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),d=new b2(Py(a.path),u,{includeMetadataChanges:!0,_a:!0});return T2(i,d)}(await b_(t),t.asyncQueue,e,n,r)),r.promise}function nre(t,e,n){const r=new wi;return t.asyncQueue.enqueueAndForget(async()=>{try{const s=await ere(t);r.resolve(async function(o,a,l){var c;const u=ke(o),{request:d,ut:p,parent:g}=Ate(u.serializer,Gee(a),l);u.connection.Fo||delete d.parent;const w=(await u.Lo("RunAggregationQuery",u.serializer.databaseId,g,d,1)).filter(x=>!!x.result);vt(w.length===1);const v=(c=w[0].result)===null||c===void 0?void 0:c.aggregateFields;return Object.keys(v).reduce((x,_)=>(x[p[_]]=v[_],x),{})}(s,e,n))}catch(s){r.reject(s)}}),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(t,e,n){if(!n)throw new Se(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rre(t,e,n,r){if(e===!0&&r===!0)throw new Se(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function M1(t){if(!be.isDocumentKey(t))throw new Se(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function O1(t){if(be.isDocumentKey(t))throw new Se(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function BT(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne()}function xi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=BT(t);throw new Se(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Se(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rre("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=O2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Se(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Se(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Se(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fy{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Se(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Se(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new mee;switch(r.type){case"firstParty":return new wee(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=D1.get(n);r&&(ge("ComponentProvider","Removing Datastore"),D1.delete(n),r.terminate())}(this),Promise.resolve()}}function sre(t,e,n,r={}){var s;const i=(t=xi(t,Fy))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Kc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ln.MOCK_USER;else{a=sk(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Se(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ln(c)}t._authCredentials=new gee(new Nj(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let j2=class V2{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new V2(this.firestore,e,this._query)}};class mr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mr(this.firestore,e,this._key)}}class Lo extends j2{constructor(e,n,r){super(e,n,Py(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mr(this.firestore,null,new be(e))}withConverter(e){return new Lo(this.firestore,e,this._path)}}function ire(t,e,...n){if(t=Jt(t),L2("collection","path",e),t instanceof Fy){const r=Dt.fromString(e,...n);return O1(r),new Lo(t,null,r)}{if(!(t instanceof mr||t instanceof Lo))throw new Se(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return O1(r),new Lo(t.firestore,null,r)}}function $T(t,e,...n){if(t=Jt(t),arguments.length===1&&(e=kj.newId()),L2("doc","path",e),t instanceof Fy){const r=Dt.fromString(e,...n);return M1(r),new mr(t,null,new be(r))}{if(!(t instanceof mr||t instanceof Lo))throw new Se(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return M1(r),new mr(t.firestore,t instanceof Lo?t.converter:null,new be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ore{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new m2(this,"async_queue_retry"),this.Eu=()=>{const n=xw();n&&ge("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=xw();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=xw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new wi;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!ff(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ki("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const s=LT.createAndSchedule(this,e,n,r,i=>this.Vu(i));return this.lu.push(s),s}du(){this.hu&&Ne()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}function j1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Yc extends Fy{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new ore}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||F2(this),this._firestoreClient.terminate()}}function are(t,e){const n=typeof t=="object"?t:Ug(),r=typeof t=="string"?t:"(default)",s=ea(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=tk("firestore");i&&sre(s,...i)}return s}function Uy(t){return t._firestoreClient||F2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function F2(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new Dee(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,O2(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new Yne(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lre{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class cre{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xc(In.fromBase64String(e))}catch(n){throw new Se(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xc(In.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new En(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ure=/^__.*__$/;class dre{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new yl(e,this.data,this.fieldMask,n,this.fieldTransforms):new pf(e,this.data,n,this.fieldTransforms)}}function B2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne()}}class HT{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.yu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new HT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.vu(e),s}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.yu(),s}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return ug(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(B2(this.wu)&&ure.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class hre{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ly(e)}Nu(e,n,r,s=!1){return new HT({wu:e,methodName:n,Ou:r,path:En.emptyPath(),Du:!1,xu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fre(t){const e=t._freezeSettings(),n=Ly(t._databaseId);return new hre(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pre(t,e,n,r,s,i={}){const o=t.Nu(i.merge||i.mergeFields?2:0,e,n,s);W2("Data must be an object, but it was:",o,r);const a=z2(r,o);let l,c;if(i.merge)l=new ds(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const d of i.mergeFields){const p=H2(e,d,n);if(!o.contains(p))throw new Se(Y.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);gre(u,p)||u.push(p)}l=new ds(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new dre(new zr(a),l,c)}function $2(t,e){if(K2(t=Jt(t)))return W2("Unsupported field value:",e,t),z2(t,e);if(t instanceof U2)return function(r,s){if(!B2(s.wu))throw s.Mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=$2(a,s.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return nte(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=fn.fromDate(r);return{timestampValue:lg(s.serializer,i)}}if(r instanceof fn){const i=new fn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lg(s.serializer,i)}}if(r instanceof KT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xc)return{bytesValue:i2(s.serializer,r._byteString)};if(r instanceof mr){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:AT(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof WT)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return bT(a.serializer,l)})}}}}}}(r,s);throw s.Mu(`Unsupported field value: ${BT(r)}`)}(t,e)}function z2(t,e){const n={};return Dj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mu(t,(r,s)=>{const i=$2(s,e.bu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function K2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof fn||t instanceof KT||t instanceof Xc||t instanceof mr||t instanceof U2||t instanceof WT)}function W2(t,e,n){if(!K2(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=BT(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function H2(t,e,n){if((e=Jt(e))instanceof zT)return e._internalPath;if(typeof e=="string")return q2(t,e);throw ug("Field path arguments must be of type string or ",t,!1,void 0,n)}const mre=new RegExp("[~\\*/\\[\\]]");function q2(t,e,n){if(e.search(mre)>=0)throw ug(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zT(...e.split("."))._internalPath}catch{throw ug(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ug(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Se(Y.INVALID_ARGUMENT,a+t+l)}function gre(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new mr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yre(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Q2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yre extends G2{data(){return super.data()}}function Q2(t,e){return typeof e=="string"?q2(t,e):e instanceof zT?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vre(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wre{convertValue(e,n="none"){switch(nl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(tl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return mu(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Qt(o.doubleValue));return new WT(i)}convertGeoPoint(e){return new KT(Qt(e.latitude),Qt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=xT(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vh(e));default:return null}}convertTimestamp(e){const n=Qo(e);return new fn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Dt.fromString(e);vt(h2(r));const s=new wh(r.get(1),r.get(3)),i=new be(r.popFirst(5));return s.isEqual(n)||ki(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _re(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function xre(t){return new lre("avg",H2("average",t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Y2 extends G2{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Q2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class nm extends Y2{data(e={}){return super.data(e)}}class Ere{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ld(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new nm(this._firestore,this._userDataWriter,r.key,r,new ld(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new nm(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ld(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new nm(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ld(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Tre(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Tre(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sre(t){t=xi(t,mr);const e=xi(t.firestore,Yc);return tre(Uy(e),t._key).then(n=>X2(e,t,n))}class qT extends wre{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mr(this.firestore,null,n)}}function bre(t,e,n){t=xi(t,mr);const r=xi(t.firestore,Yc),s=_re(t.converter,e,n);return Cre(r,[pre(fre(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,_i.none())])}function Ire(t,...e){var n,r,s;t=Jt(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||j1(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(j1(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(s=d.complete)===null||s===void 0?void 0:s.bind(d)}let l,c,u;if(t instanceof mr)c=xi(t.firestore,Yc),u=Py(t._key.path),l={next:d=>{e[o]&&e[o](X2(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=xi(t,j2);c=xi(d.firestore,Yc),u=d._query;const p=new qT(c);l={next:g=>{e[o]&&e[o](new Ere(c,p,d,g))},error:e[o+1],complete:e[o+2]},vre(t._query)}return function(p,g,w,v){const x=new M2(v),_=new b2(g,x,w);return p.asyncQueue.enqueueAndForget(async()=>T2(await b_(p),_)),()=>{x.za(),p.asyncQueue.enqueueAndForget(async()=>S2(await b_(p),_))}}(Uy(c),u,a,l)}function Cre(t,e){return function(r,s){const i=new wi;return r.asyncQueue.enqueueAndForget(async()=>Bne(await Zne(r),s,i)),i.promise}(Uy(t),e)}function X2(t,e,n){const r=n.docs.get(e._key),s=new qT(t);return new Y2(t,s,e._key,r,new ld(n.hasPendingWrites,n.fromCache),e.converter)}function Are(t,e){const n=xi(t.firestore,Yc),r=Uy(n),s=Nee(e,(i,o)=>new hte(o,i.aggregateType,i._internalFieldPath));return nre(r,t._query,s).then(i=>function(a,l,c){const u=new qT(a);return new cre(l,u,c)}(n,t,i))}(function(e,n=!0){(function(s){pu=s})(hl),ys(new Jr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Yc(new yee(r.getProvider("auth-internal")),new xee(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Se(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wh(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),fr(t1,"4.7.2",e),fr(t1,"4.7.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="firebasestorage.googleapis.com",Z2="storageBucket",Rre=2*60*1e3,Pre=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt extends kr{constructor(e,n,r=0){super(Tw(e),`Firebase Storage: ${n} (${Tw(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Tw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ht;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ht||(Ht={}));function Tw(t){return"storage/"+t}function GT(){const t="An unknown error occurred, please check the error payload for server response.";return new qt(Ht.UNKNOWN,t)}function Nre(t){return new qt(Ht.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function kre(t){return new qt(Ht.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Dre(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new qt(Ht.UNAUTHENTICATED,t)}function Mre(){return new qt(Ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Ore(t){return new qt(Ht.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Lre(){return new qt(Ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jre(){return new qt(Ht.CANCELED,"User canceled the upload/download.")}function Vre(t){return new qt(Ht.INVALID_URL,"Invalid URL '"+t+"'.")}function Fre(t){return new qt(Ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Ure(){return new qt(Ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Z2+"' property when initializing the app?")}function Bre(){return new qt(Ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $re(){return new qt(Ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function zre(t){return new qt(Ht.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function I_(t){return new qt(Ht.INVALID_ARGUMENT,t)}function eV(){return new qt(Ht.APP_DELETED,"The Firebase app was deleted.")}function Kre(t){return new qt(Ht.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rd(t,e){return new qt(Ht.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function qu(t){throw new qt(Ht.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Sr.makeFromUrl(e,n)}catch{return new Sr(e,"")}if(r.path==="")return r;throw Fre(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(A){A.path_=decodeURIComponent(A.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${d}/${u}/b/${s}/o${p}`,"i"),w={bucket:1,path:3},v=n===J2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",_=new RegExp(`^https?://${v}/${s}/${x}`,"i"),S=[{regex:a,indices:l,postModify:i},{regex:g,indices:w,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let A=0;A<S.length;A++){const k=S[A],O=k.regex.exec(e);if(O){const I=O[k.indices.bucket];let T=O[k.indices.path];T||(T=""),r=new Sr(I,T),k.postModify(r);break}}if(r==null)throw Vre(e);return r}}class Wre{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hre(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...x){c||(c=!0,e.apply(null,x))}function d(x){s=setTimeout(()=>{s=null,t(g,l())},x)}function p(){i&&clearTimeout(i)}function g(x,..._){if(c){p();return}if(x){p(),u.call(null,x,..._);return}if(l()||o){p(),u.call(null,x,..._);return}r<64&&(r*=2);let S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,d(S)}let w=!1;function v(x){w||(w=!0,p(),!c&&(s!==null?(x||(a=2),clearTimeout(s),d(0)):x||(a=1)))}return d(0),i=setTimeout(()=>{o=!0,v(!0)},n),v}function qre(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gre(t){return t!==void 0}function Qre(t){return typeof t=="object"&&!Array.isArray(t)}function QT(t){return typeof t=="string"||t instanceof String}function V1(t){return YT()&&t instanceof Blob}function YT(){return typeof Blob<"u"}function F1(t,e,n,r){if(r<e)throw I_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw I_(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function tV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Wa;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Wa||(Wa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yre(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xre{constructor(e,n,r,s,i,o,a,l,c,u,d,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,w)=>{this.resolve_=g,this.reject_=w,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Ep(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Wa.NO_ERROR,l=i.getStatus();if(!a||Yre(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===Wa.ABORT;r(!1,new Ep(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Ep(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Gre(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=GT();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?eV():jre();o(l)}else{const l=Lre();o(l)}};this.canceled_?n(!1,new Ep(!1,null,!0)):this.backoffId_=Hre(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&qre(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ep{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Jre(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Zre(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ese(t,e){e&&(t["X-Firebase-GMPID"]=e)}function tse(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function nse(t,e,n,r,s,i,o=!0){const a=tV(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return ese(c,e),Jre(c,n),Zre(c,i),tse(c,r),new Xre(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rse(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function sse(...t){const e=rse();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(YT())return new Blob(t);throw new qt(Ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function ise(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ose(t){if(typeof atob>"u")throw zre("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Sw{constructor(e,n){this.data=e,this.contentType=n||null}}function ase(t,e){switch(t){case Ms.RAW:return new Sw(nV(e));case Ms.BASE64:case Ms.BASE64URL:return new Sw(rV(t,e));case Ms.DATA_URL:return new Sw(cse(e),use(e))}throw GT()}function nV(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function lse(t){let e;try{e=decodeURIComponent(t)}catch{throw Rd(Ms.DATA_URL,"Malformed data URL.")}return nV(e)}function rV(t,e){switch(t){case Ms.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Rd(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Ms.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Rd(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=ose(e)}catch(s){throw s.message.includes("polyfill")?s:Rd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class sV{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Rd(Ms.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=dse(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function cse(t){const e=new sV(t);return e.base64?rV(Ms.BASE64,e.rest):lse(e.rest)}function use(t){return new sV(t).contentType}function dse(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n){let r=0,s="";V1(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(V1(this.data_)){const r=this.data_,s=ise(r,e,n);return s===null?null:new co(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new co(r,!0)}}static getBlob(...e){if(YT()){const n=e.map(r=>r instanceof co?r.data_:r);return new co(sse.apply(null,n))}else{const n=e.map(o=>QT(o)?ase(Ms.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new co(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(t){let e;try{e=JSON.parse(t)}catch{return null}return Qre(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hse(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function fse(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function oV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pse(t,e){return e}class qn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||pse}}let Tp=null;function mse(t){return!QT(t)||t.length<2?t:oV(t)}function XT(){if(Tp)return Tp;const t=[];t.push(new qn("bucket")),t.push(new qn("generation")),t.push(new qn("metageneration")),t.push(new qn("name","fullPath",!0));function e(i,o){return mse(o)}const n=new qn("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new qn("size");return s.xform=r,t.push(s),t.push(new qn("timeCreated")),t.push(new qn("updated")),t.push(new qn("md5Hash",null,!0)),t.push(new qn("cacheControl",null,!0)),t.push(new qn("contentDisposition",null,!0)),t.push(new qn("contentEncoding",null,!0)),t.push(new qn("contentLanguage",null,!0)),t.push(new qn("contentType",null,!0)),t.push(new qn("metadata","customMetadata",!0)),Tp=t,Tp}function gse(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Sr(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function yse(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return gse(r,t),r}function aV(t,e,n){const r=iV(e);return r===null?null:yse(t,r,n)}function vse(t,e,n,r){const s=iV(e);if(s===null||!QT(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const u=t.bucket,d=t.fullPath,p="/b/"+o(u)+"/o/"+o(d),g=vu(p,n,r),w=tV({alt:"media",token:c});return g+w})[0]}function wse(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class vf{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(t){if(!t)throw GT()}function cV(t,e){function n(r,s){const i=aV(t,s,e);return lV(i!==null),i}return n}function _se(t,e){function n(r,s){const i=aV(t,s,e);return lV(i!==null),vse(i,s,t.host,t._protocol)}return n}function uV(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=Mre():s=Dre():n.getStatus()===402?s=kre(t.bucket):n.getStatus()===403?s=Ore(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function By(t){const e=uV(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=Nre(t.path)),i.serverResponse=s.serverResponse,i}return n}function xse(t,e,n){const r=e.fullServerUrl(),s=vu(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new vf(s,i,cV(t,n),o);return a.errorHandler=By(e),a}function Ese(t,e,n){const r=e.fullServerUrl(),s=vu(r,t.host,t._protocol)+"?alt=media",i="GET",o=t.maxOperationRetryTime,a=new vf(s,i,(l,c)=>c,o);return a.errorHandler=By(e),a}function Tse(t,e,n){const r=e.fullServerUrl(),s=vu(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new vf(s,i,_se(t,n),o);return a.errorHandler=By(e),a}function Sse(t,e){const n=e.fullServerUrl(),r=vu(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(l,c){}const a=new vf(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=By(e),a}function bse(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Ise(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=bse(null,e)),r}function Cse(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let S="";for(let A=0;A<2;A++)S=S+Math.random().toString().slice(2);return S}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=Ise(e,r,s),u=wse(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+l+"--",g=co.getBlob(d,r,p);if(g===null)throw Bre();const w={name:c.fullPath},v=vu(i,t.host,t._protocol),x="POST",_=t.maxUploadRetryTime,y=new vf(v,x,cV(t,n),_);return y.urlParams=w,y.headers=o,y.body=g.uploadData(),y.errorHandler=uV(e),y}class dV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Wa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Wa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Wa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw qu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw qu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw qu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw qu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw qu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Ase extends dV{initXhr(){this.xhr_.responseType="text"}}function $y(){return new Ase}class Rse extends dV{initXhr(){this.xhr_.responseType="blob"}}function Pse(){return new Rse}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n){this._service=e,n instanceof Sr?this._location=n:this._location=Sr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new rl(e,n)}get root(){const e=new Sr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return oV(this._location.path)}get storage(){return this._service}get parent(){const e=hse(this._location.path);if(e===null)return null;const n=new Sr(this._location.bucket,e);return new rl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Kre(e)}}function Nse(t,e){t._throwIfRoot("getBlob");const n=Ese(t.storage,t._location);return t.storage.makeRequestWithTokens(n,Pse).then(r=>r)}function kse(t,e,n){t._throwIfRoot("uploadBytes");const r=Cse(t.storage,t._location,XT(),new co(e,!0),n);return t.storage.makeRequestWithTokens(r,$y).then(s=>({metadata:s,ref:t}))}function Dse(t){t._throwIfRoot("getMetadata");const e=xse(t.storage,t._location,XT());return t.storage.makeRequestWithTokens(e,$y)}function Mse(t){t._throwIfRoot("getDownloadURL");const e=Tse(t.storage,t._location,XT());return t.storage.makeRequestWithTokens(e,$y).then(n=>{if(n===null)throw $re();return n})}function Ose(t){t._throwIfRoot("deleteObject");const e=Sse(t.storage,t._location);return t.storage.makeRequestWithTokens(e,$y)}function Lse(t,e){const n=fse(t._location.path,e),r=new Sr(t._location.bucket,n);return new rl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jse(t){return/^[A-Za-z]+:\/\//.test(t)}function Vse(t,e){return new rl(t,e)}function hV(t,e){if(t instanceof JT){const n=t;if(n._bucket==null)throw Ure();const r=new rl(n,n._bucket);return e!=null?hV(r,e):r}else return e!==void 0?Lse(t,e):t}function Fse(t,e){if(e&&jse(e)){if(t instanceof JT)return Vse(t,e);throw I_("To use ref(service, url), the first argument must be a Storage instance.")}else return hV(t,e)}function U1(t,e){const n=e==null?void 0:e[Z2];return n==null?null:Sr.makeFromBucketSpec(n,t)}function Use(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:sk(s,t.app.options.projectId))}class JT{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=J2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Rre,this._maxUploadRetryTime=Pre,this._requests=new Set,s!=null?this._bucket=Sr.makeFromBucketSpec(s,this._host):this._bucket=U1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Sr.makeFromBucketSpec(this._url,e):this._bucket=U1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){F1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){F1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rl(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new Wre(eV());{const o=nse(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const B1="@firebase/storage",$1="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV="storage";function Bse(t,e,n){return t=Jt(t),kse(t,e,n)}function $se(t){return t=Jt(t),Dse(t)}function zse(t){return t=Jt(t),Mse(t)}function Kse(t){return t=Jt(t),Ose(t)}function zy(t,e){return t=Jt(t),Fse(t,e)}function Wse(t=Ug(),e){t=Jt(t);const r=ea(t,fV).getImmediate({identifier:e}),s=tk("storage");return s&&Hse(r,...s),r}function Hse(t,e,n,r={}){Use(t,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qse(t,e){return t=Jt(t),Nse(t)}function Gse(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new JT(n,r,s,e,hl)}function Qse(){ys(new Jr(fV,Gse,"PUBLIC").setMultipleInstances(!0)),fr(B1,$1,""),fr(B1,$1,"esm2017")}Qse();const pV="@firebase/installations",ZT="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=1e4,gV=`w:${ZT}`,yV="FIS_v2",Yse="https://firebaseinstallations.googleapis.com/v1",Xse=60*60*1e3,Jse="installations",Zse="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eie={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},sl=new dl(Jse,Zse,eie);function vV(t){return t instanceof kr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV({projectId:t}){return`${Yse}/projects/${t}/installations`}function _V(t){return{token:t.token,requestStatus:2,expiresIn:nie(t.expiresIn),creationTime:Date.now()}}async function xV(t,e){const r=(await e.json()).error;return sl.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function EV({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function tie(t,{refreshToken:e}){const n=EV(t);return n.append("Authorization",rie(e)),n}async function TV(t){const e=await t();return e.status>=500&&e.status<600?t():e}function nie(t){return Number(t.replace("s","000"))}function rie(t){return`${yV} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sie({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=wV(t),s=EV(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:yV,appId:t.appId,sdkVersion:gV},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await TV(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:_V(c.authToken)}}else throw await xV("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iie(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oie=/^[cdef][\w-]{21}$/,C_="";function aie(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=lie(t);return oie.test(n)?n:C_}catch{return C_}}function lie(t){return iie(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV=new Map;function IV(t,e){const n=Ky(t);CV(n,e),cie(n,e)}function CV(t,e){const n=bV.get(t);if(n)for(const r of n)r(e)}function cie(t,e){const n=uie();n&&n.postMessage({key:t,fid:e}),die()}let Na=null;function uie(){return!Na&&"BroadcastChannel"in self&&(Na=new BroadcastChannel("[Firebase] FID Change"),Na.onmessage=t=>{CV(t.data.key,t.data.fid)}),Na}function die(){bV.size===0&&Na&&(Na.close(),Na=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hie="firebase-installations-database",fie=1,il="firebase-installations-store";let bw=null;function eS(){return bw||(bw=uk(hie,fie,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(il)}}})),bw}async function dg(t,e){const n=Ky(t),s=(await eS()).transaction(il,"readwrite"),i=s.objectStore(il),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&IV(t,e.fid),e}async function AV(t){const e=Ky(t),r=(await eS()).transaction(il,"readwrite");await r.objectStore(il).delete(e),await r.done}async function Wy(t,e){const n=Ky(t),s=(await eS()).transaction(il,"readwrite"),i=s.objectStore(il),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&IV(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tS(t){let e;const n=await Wy(t.appConfig,r=>{const s=pie(r),i=mie(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===C_?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function pie(t){const e=t||{fid:aie(),registrationStatus:0};return RV(e)}function mie(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(sl.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=gie(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:yie(t)}:{installationEntry:e}}async function gie(t,e){try{const n=await sie(t,e);return dg(t.appConfig,n)}catch(n){throw vV(n)&&n.customData.serverCode===409?await AV(t.appConfig):await dg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function yie(t){let e=await z1(t.appConfig);for(;e.registrationStatus===1;)await SV(100),e=await z1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await tS(t);return r||n}return e}function z1(t){return Wy(t,e=>{if(!e)throw sl.create("installation-not-found");return RV(e)})}function RV(t){return vie(t)?{fid:t.fid,registrationStatus:0}:t}function vie(t){return t.registrationStatus===1&&t.registrationTime+mV<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wie({appConfig:t,heartbeatServiceProvider:e},n){const r=_ie(t,n),s=tie(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:gV,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await TV(()=>fetch(r,a));if(l.ok){const c=await l.json();return _V(c)}else throw await xV("Generate Auth Token",l)}function _ie(t,{fid:e}){return`${wV(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nS(t,e=!1){let n;const r=await Wy(t.appConfig,i=>{if(!PV(i))throw sl.create("not-registered");const o=i.authToken;if(!e&&Tie(o))return i;if(o.requestStatus===1)return n=xie(t,e),i;{if(!navigator.onLine)throw sl.create("app-offline");const a=bie(i);return n=Eie(t,a),a}});return n?await n:r.authToken}async function xie(t,e){let n=await K1(t.appConfig);for(;n.authToken.requestStatus===1;)await SV(100),n=await K1(t.appConfig);const r=n.authToken;return r.requestStatus===0?nS(t,e):r}function K1(t){return Wy(t,e=>{if(!PV(e))throw sl.create("not-registered");const n=e.authToken;return Iie(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Eie(t,e){try{const n=await wie(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await dg(t.appConfig,r),n}catch(n){if(vV(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await AV(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await dg(t.appConfig,r)}throw n}}function PV(t){return t!==void 0&&t.registrationStatus===2}function Tie(t){return t.requestStatus===2&&!Sie(t)}function Sie(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Xse}function bie(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Iie(t){return t.requestStatus===1&&t.requestTime+mV<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cie(t){const e=t,{installationEntry:n,registrationPromise:r}=await tS(e);return r?r.catch(console.error):nS(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aie(t,e=!1){const n=t;return await Rie(n),(await nS(n,e)).token}async function Rie(t){const{registrationPromise:e}=await tS(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pie(t){if(!t||!t.options)throw Iw("App Configuration");if(!t.name)throw Iw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Iw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Iw(t){return sl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV="installations",Nie="installations-internal",kie=t=>{const e=t.getProvider("app").getImmediate(),n=Pie(e),r=ea(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Die=t=>{const e=t.getProvider("app").getImmediate(),n=ea(e,NV).getImmediate();return{getId:()=>Cie(n),getToken:s=>Aie(n,s)}};function Mie(){ys(new Jr(NV,kie,"PUBLIC")),ys(new Jr(Nie,Die,"PRIVATE"))}Mie();fr(pV,ZT);fr(pV,ZT,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="analytics",Oie="firebase_id",Lie="origin",jie=60*1e3,Vie="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rS="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new Fg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fie={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Cr=new dl("analytics","Analytics",Fie);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uie(t){if(!t.startsWith(rS)){const e=Cr.create("invalid-gtag-resource",{gtagURL:t});return gr.warn(e.message),""}return t}function kV(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Bie(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function $ie(t,e){const n=Bie("firebase-js-sdk-policy",{createScriptURL:Uie}),r=document.createElement("script"),s=`${rS}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function zie(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Kie(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await kV(n)).find(c=>c.measurementId===s);l&&await e[l.appId]}}catch(a){gr.error(a)}t("config",s,i)}async function Wie(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await kV(n);for(const l of o){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){gr.error(i)}}function Hie(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await Wie(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await Kie(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){gr.error(a)}}return s}function qie(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=Hie(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function Gie(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(rS)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qie=30,Yie=1e3;class Xie{constructor(e={},n=Yie){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const DV=new Xie;function Jie(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Zie(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:Jie(r)},i=Vie.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Cr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function eoe(t,e=DV,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Cr.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Cr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new roe;return setTimeout(async()=>{a.abort()},jie),MV({appId:r,apiKey:s,measurementId:i},o,a,e)}async function MV(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=DV){var i;const{appId:o,measurementId:a}=t;try{await toe(r,e)}catch(l){if(a)return gr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await Zie(t);return s.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!noe(c)){if(s.deleteThrottleMetadata(o),a)return gr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?pI(n,s.intervalMillis,Qie):pI(n,s.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return s.setThrottleMetadata(o,d),gr.debug(`Calling attemptFetch again in ${u} millis`),MV(t,d,r,s)}}function toe(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Cr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function noe(t){if(!(t instanceof kr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class roe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function soe(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ioe(){if(ok())try{await ak()}catch(t){return gr.warn(Cr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return gr.warn(Cr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ooe(t,e,n,r,s,i,o){var a;const l=eoe(t);l.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&gr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>gr.error(g)),e.push(l);const c=ioe().then(g=>{if(g)return r.getId()}),[u,d]=await Promise.all([l,c]);Gie(i)||$ie(i,u.measurementId),s("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[Lie]="firebase",p.update=!0,d!=null&&(p[Oie]=d),s("config",u.measurementId,p),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aoe{constructor(e){this.app=e}_delete(){return delete Pd[this.app.options.appId],Promise.resolve()}}let Pd={},W1=[];const H1={};let Cw="dataLayer",loe="gtag",q1,OV,G1=!1;function coe(){const t=[];if(ik()&&t.push("This is a browser extension environment."),Y5()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Cr.create("invalid-analytics-context",{errorInfo:e});gr.warn(n.message)}}function uoe(t,e,n){coe();const r=t.options.appId;if(!r)throw Cr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)gr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Cr.create("no-api-key");if(Pd[r]!=null)throw Cr.create("already-exists",{id:r});if(!G1){zie(Cw);const{wrappedGtag:i,gtagCore:o}=qie(Pd,W1,H1,Cw,loe);OV=i,q1=o,G1=!0}return Pd[r]=ooe(t,W1,H1,e,q1,Cw,n),new aoe(t)}function doe(t=Ug()){t=Jt(t);const e=ea(t,hg);return e.isInitialized()?e.getImmediate():hoe(t)}function hoe(t,e={}){const n=ea(t,hg);if(n.isInitialized()){const s=n.getImmediate();if(eh(e,n.getOptions()))return s;throw Cr.create("already-initialized")}return n.initialize({options:e})}function LV(t,e,n,r){t=Jt(t),soe(OV,Pd[t.app.options.appId],e,n,r).catch(s=>gr.error(s))}const Q1="@firebase/analytics",Y1="0.10.8";function foe(){ys(new Jr(hg,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return uoe(r,s,n)},"PUBLIC")),ys(new Jr("analytics-internal",t,"PRIVATE")),fr(Q1,Y1),fr(Q1,Y1,"esm2017");function t(e){try{const n=e.getProvider(hg).getImmediate();return{logEvent:(r,s,i)=>LV(n,r,s,i)}}catch(n){throw Cr.create("interop-component-reg-failed",{reason:n})}}}foe();const poe={apiKey:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",authDomain:"cob-chatbot.firebaseapp.com",projectId:"cob-chatbot",storageBucket:"cob-chatbot.appspot.com",messagingSenderId:"275602489097",appId:"1:275602489097:web:5c490d86e9f69e1314ddd8",measurementId:"G-65F7KP2KRQ"},sS=dk(poe),moe=doe(sS),Hy=are(sS),qy=Wse(sS),A_=async(t,e,n)=>{const r=zy(qy,`${e}/${n}`),s=await Bse(r,t);if(!s.metadata||s.metadata.fullPath!==r.fullPath)throw new Error(`Error uploading file ${t.name}, metadata does not exist or path does not match`);return await zse(s.ref)},jV=async t=>{const e=zy(qy,t),n=await qse(e),r=t.split("/").pop()||"unknown_file";return new File([n],r,{type:n.type})},goe=async(t,e)=>{const n=zy(qy,`${t}/${e}`);return await $se(n)},yoe=async t=>{try{const e=zy(qy,t);await Kse(e),gt("File deleted successfully!")}catch(e){e instanceof Error&&gt(e.message)}},voe=async(t,e,n,r=!1)=>{try{const s=$T(Hy,t,e);await bre(s,n,{merge:r})}catch(s){s instanceof Error&&gt(s.message)}},woe=async(t,e)=>{const n=$T(Hy,t,e),r=await Sre(n);return r.exists()?r.data():null},_oe=(t,e,n)=>{try{const r=$T(Hy,t,e);return Ire(r,i=>{i.exists()?n(i.data()):(gt("No such document!"),n(null))})}catch(r){throw r}},xoe=async()=>{var t;try{const e=ire(Hy,"users"),r=(t=(await Are(e,{averageRating:xre("rating")})).data().averageRating)==null?void 0:t.toFixed(2);if(!r)throw new Error("Failed to retrieve average rating from users collection");return r}catch(e){return console.error(e),null}},VV=t=>{const{file:e}=ut(w=>w.formData),n=ut(w=>w.setFormData),r=ut(w=>w.setFile),[s,i]=m.useState(!1),[o,a]=m.useState(!1),l=m.useRef(null),c=m.useRef(null);return{file:e,setFile:r,isLinkDialogOpen:o,setIsLinkDialogOpen:a,handleInsertLink:(w,v)=>{const x=c.current;if(x){const _=x.selectionStart,y=x.selectionEnd,S=t.substring(0,_)+`<${v}>{=${w}=}`+t.substring(y);n("answer",S),x.focus(),x.setSelectionRange(_+w.length+4,_+v.length+4)}},handleFileChange:async w=>{w.target.files&&w.target.files[0]&&r(w.target.files[0])},handleRemoveFile:async()=>{e&&(n("fileUrl",null),r(null),l.current&&(l.current.value=""))},fileInputRef:l,answerTextAreaRef:c,getFileData:async w=>{try{i(!0);const v=dh(w);if(!v)return;const x=await jV(`knowledge-files/${v}`);r(x)}catch(v){v instanceof Error&&gt(v.message??"An error occured while getting file data",!0),console.error(v)}finally{i(!1)}},isFetchingFileData:s}},Eoe=()=>{const t=ut(d=>d.formData),e=ut(d=>d.setFormData),{isLinkDialogOpen:n,setIsLinkDialogOpen:r,handleFileChange:s,handleInsertLink:i,handleRemoveFile:o,fileInputRef:a,answerTextAreaRef:l,getFileData:c,isFetchingFileData:u}=VV(t.answer);return m.useEffect(()=>{(async()=>{await c(t.fileUrl)})()},[t.fileUrl]),h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-fit",children:h.jsx(Cy,{tooltip:ree,children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("label",{className:"cursor-pointer font-medium ",children:"Answer"}),h.jsx(Qg,{className:"size-4 text-[#64748b] cursor-pointer"})]})})}),h.jsx(Ej,{answer:t.answer,handleTextChange:e,onFileChange:s,fileRef:a,textAreaRef:l,isLinkDropDownVisible:n,setIsLinkDropDownVisible:r,onInsertLink:i}),u?h.jsx(Ae,{className:"w-full h-[70px]"}):t.file?h.jsx(Tj,{file:t.file,removeFile:o}):null]})},FV=t=>{const{knowledgeBaseName:e,...n}=t;return{knowledgeBaseName:e,knowledgeEntry:n}},Toe=async()=>{const{success:t,knowledgeBase:e}=await of("/api/knowledge/base");if(!t)throw new Error("Failed to fetch knowledge collection");return e},Soe=async t=>{const{success:e,knowledgeEntry:n}=await of(`/api/knowledge/${t}`);if(!e)throw new Error(`Failed to fetch knowledge base ${t} entry`);return n},boe=async t=>{const e=FV(t),{success:n,message:r}=await gl("/api/knowledge",{},e);if(!n)throw new Error(r);return r},Ioe=async t=>{const e=FV(t),{success:n,message:r}=await gl("/api/knowledge/entry",{},e);if(!n)throw new Error(r)},Coe=async(t,e)=>{const n={knowledgeEntryIntent:t,knowledgeEntry:e},{success:r,message:s}=await hy("/api/knowledge/entry",{},n);if(!r)throw new Error(s)},Aoe=async t=>{const{knowledgeBaseName:e,newKnowledgeBaseName:n}=t,r={knowledgeBaseName:e,newKnowledgeBaseName:n},{success:s,message:i}=await hy("/api/knowledge/base",{},r);if(!s)throw new Error(i);return i},Roe=async t=>{const{success:e,message:n}=await OE(`/api/knowledge/${t}`);if(!e)throw new Error(n)},Poe=async t=>{const{success:e,message:n}=await OE(`/api/knowledge/entry/${t}`);if(!e)throw new Error(n)},Noe=async t=>{const{success:e,message:n}=await gl("/api/knowledge",{},t);if(!e)throw new Error(n);return`Knowledge base ${t.knowledgeBaseName} has been restored.`},un=ji(t=>({knowledgeCollection:{},knowledgeBaseNameList:null,selectedKnowledgeBaseEntryList:null,selectedKnowledgeBaseName:"",selectedKnowledgeBaseItem:"",selectedKnowledgeEntry:null,selectedKnowledgeEntryIntentItem:"",updateKnowledgeCollection:e=>{t(()=>({knowledgeCollection:e}))},setKnowledgeBaseNameList:e=>{t(()=>({knowledgeBaseNameList:e}))},setSelectedKnowledgeBaseEntryList:e=>{t(()=>({selectedKnowledgeBaseEntryList:e}))},setSelectedKnowledgeBaseName:e=>{t(()=>({selectedKnowledgeBaseName:e}))},setSelectedKnowledgeBaseItem:e=>{t(()=>({selectedKnowledgeBaseItem:e}))},setSelectedKnowledgeEntry:e=>{t(()=>({selectedKnowledgeEntry:e}))},setSelectedKnowledgeEntryIntentItem:e=>t({selectedKnowledgeEntryIntentItem:e})})),koe="knowledge-files",X1="image",Doe=async t=>{const e=`${koe}/${t}`;await yoe(e)},Moe=(t,e)=>{const n=new Set([...Object.keys(t),...Object.keys(e)]);return Array.from(n).reduce((r,s)=>{if(t[s]instanceof Array&&e[s]instanceof Array){t[s].forEach((a,l)=>{if(a!==e[s][l]){r[s]||(r[s]=[]);const c={index:l,value:e[s][l]};r[s].push(c)}});const i=t[s].length,o=e[s].length;if(i<o){r.newDocuments=[];for(let a=i;a<o;a++)e[s][a]&&r.newDocuments.push(e[s][a])}return r}return t[s]!==e[s]&&(r[s]=e[s]),r},{})},Ooe=1,Loe=1e6;let Aw=0;function joe(){return Aw=(Aw+1)%Number.MAX_SAFE_INTEGER,Aw.toString()}const Rw=new Map,J1=t=>{if(Rw.has(t))return;const e=setTimeout(()=>{Rw.delete(t),Nd({type:"REMOVE_TOAST",toastId:t})},Loe);Rw.set(t,e)},Voe=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Ooe)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?J1(n):t.toasts.forEach(r=>{J1(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},rm=[];let sm={toasts:[]};function Nd(t){sm=Voe(sm,t),rm.forEach(e=>{e(sm)})}function Foe({...t}){const e=joe(),n=s=>Nd({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Nd({type:"DISMISS_TOAST",toastId:e});return Nd({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function UV(){const[t,e]=m.useState(sm);return m.useEffect(()=>(rm.push(e),()=>{const n=rm.indexOf(e);n>-1&&rm.splice(n,1)}),[t]),{...t,toast:Foe,dismiss:n=>Nd({type:"DISMISS_TOAST",toastId:n})}}const Vi=()=>{const{toast:t}=UV();return t},Z1="knowledge-files",im=async t=>{try{const n=(await goe(Z1,t.name)).size||0,r=t.size;if(n===r)throw gt(`Knowledge file ${t.name} already exists with the same size, skipping upload`),new Error(`Knowledge file ${t.name} already exist`);gt(`File ${t.name} exists but with a different size. Uploading new file.`)}catch(e){if(e instanceof kr&&e.code==="storage/object-not-found")return gt(`No exiting file found, uploading the file: ${t.name}`),await A_(t,Z1,t.name);throw e}},Uoe=()=>{const t=Vi(),e=un(g=>g.selectedKnowledgeEntry),n=un(g=>g.setSelectedKnowledgeEntry),r=ut(g=>g.setFormData),s=ut(g=>g.formData),i=ut(g=>g.setDocuments),o=ut(g=>g.clearFormData),[a,l]=m.useState(!1);m.useEffect(()=>{if(!e)return;const{intent:g,documents:w,answer:v,fileUrl:x}=e;return r("intent",g),w.forEach((_,y)=>{i(_,y)}),r("answer",v),r("fileUrl",x),()=>{o()}},[]);const c=async g=>{const w=dh(g);return await jV(`knowledge-files/${w}`)},u=async(g,w)=>{if(!w)return await im(g);const v=await c(w);if(v.name===g.name&&v.size===g.size)return w;if(v.name!==g.name){const _=await im(g);return await d(w),_}return await im(g)},d=async g=>{const w=dh(g);if(!w)return gt("Unable to extract filename from the file url",!0);await Doe(w)};return{handleSubmitForm:async()=>{if(e)try{l(!0);const{knowledgeBaseName:g,file:w,...v}=s,x=Moe(e,v);"fileUrl"in x&&x.fileUrl===null&&(gt("Detected file removal, deleting from storage"),await d(e.fileUrl));let _;w&&(gt("Updating knowledge file"),_=await u(w,e.fileUrl),r("fileUrl",_??null));const y={...v,..._&&{fileUrl:_}};await Coe(e.intent,y),gt("Knowledge Entry updated successfully."),n(y),t({title:"Knowledge Entry Updated Successfully",description:yt()})}catch(g){const w=g instanceof Error?g.message:"Unknown error occurred";t({title:w,description:yt(),variant:"destructive"})}finally{l(!1)}},selectedKnowledgeEntry:e,isLoading:a}},iS=({heading:t,description:e})=>h.jsx("div",{className:"h-[450px] md:h-[600px] w-full flex justify-center items-center mt-2 pb-10",children:h.jsxs("section",{className:"flex flex-col justify-center items-center",children:[h.jsx(Qg,{className:"w-12 h-12 text-blue-500 mb-4"}),h.jsx("h2",{className:"text-2xl font-semibold mb-2",children:t}),h.jsx("p",{className:"text-gray-600 mb-4",children:e})]})}),wl=()=>h.jsx(VW,{className:"mr-2 size-5 animate-spin"}),Boe=()=>{const{handleSubmitForm:t,selectedKnowledgeEntry:e,isLoading:n}=Uoe(),r=Pt(s=>s.admin);return e?h.jsx(ij,{value:"entryDetails",className:"mt-2",children:h.jsx("div",{className:"h-[450px] md:h-[600px] w-full overflow-y-auto text-sm scrollbar-slim",children:h.jsxs("div",{className:"space-y-3 px-4 pb-4",children:[h.jsx(oee,{}),h.jsx(aee,{}),h.jsx(Eoe,{}),(r==null?void 0:r.role)!=="viewer"&&h.jsx(at,{variant:"default",disabled:n,onClick:async()=>await t(),className:"w-20",children:n?h.jsx(wl,{}):"Save"})]})})}):h.jsx(iS,{heading:"No Knowledge Entry Selected",description:"Select a knowledge entry to view its contents here."})},BV=({onRenameKnowledge:t,onDeleteKnowledge:e})=>h.jsxs(nf,{children:[h.jsx(rf,{asChild:!0,children:h.jsx(aE,{className:"text-zinc-400 size-6 hover:text-zinc-500 transition-colors"})}),h.jsxs(du,{align:"end",className:"w-[8rem] text-sm bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[t&&h.jsxs(Ds,{className:"flex items-center p-1.5 hover:bg-zinc-100 rounded-sm",onClick:n=>{n.stopPropagation(),t()},children:[h.jsx($W,{className:"mr-2 h-4 w-4"}),h.jsx("p",{children:"Rename"})]}),h.jsxs(Ds,{className:"flex items-center p-1.5 hover:bg-zinc-100 rounded-sm text-red-500",onClick:n=>{n.stopPropagation(),e()},children:[h.jsx(ID,{className:"mr-2 h-4 w-4"}),h.jsx("p",{children:"Delete"})]})]})]}),Mi=ji(t=>({dialogs:{},openDialog:e=>t(n=>({dialogs:{...n.dialogs,[e]:!0}})),closeDialog:e=>t(n=>({dialogs:{...n.dialogs,[e]:!1}})),toggleDialog:e=>t(n=>({dialogs:{...n.dialogs,[e]:!n.dialogs[e]}})),setDialogState:(e,n)=>t(r=>({dialogs:{...r.dialogs,[e]:n}}))})),$oe=({intent:t,onItemClick:e})=>{const n=Pt(a=>a.admin),r=un(a=>a.selectedKnowledgeEntry),s=un(a=>a.setSelectedKnowledgeEntryIntentItem),i=Mi(a=>a.openDialog),o=()=>{s(t),i("showConfirmDeleteKnowledgeEntryDialog")};return h.jsxs("div",{className:`flex justify-between p-2 rounded-md cursor-pointer ${(r==null?void 0:r.intent)===t?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,onClick:e,children:[t,(n==null?void 0:n.role)!=="viewer"&&h.jsx(at,{className:"bg-transparent hover:bg-transparent size-8 p-0 h-fit ",children:h.jsx(BV,{onDeleteKnowledge:o})})]})},zoe=({knowledgeEntries:t,handleTabChange:e})=>{const n=un(s=>s.setSelectedKnowledgeEntry),r=s=>{n(s),e("entryDetails")};return h.jsx("div",{className:"space-y-1",children:t==null?void 0:t.map((s,i)=>h.jsx($oe,{intent:s.intent,onItemClick:()=>r(s)},i))})},kd=["knowledgeBaseList"],om=["knowledgeEntry"],Gu=["adminList"],Koe=["knowledgeBaseArhives"],Woe=["knowledgeEntriesArchive"];var wu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Jc=typeof window>"u"||"Deno"in globalThis;function Fr(){}function Hoe(t,e){return typeof t=="function"?t(e):t}function R_(t){return typeof t=="number"&&t>=0&&t!==1/0}function $V(t,e){return Math.max(t+(e||0)-Date.now(),0)}function mc(t,e){return typeof t=="function"?t(e):t}function cs(t,e){return typeof t=="function"?t(e):t}function eR(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==oS(o,e.options))return!1}else if(!Th(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function tR(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(ol(e.options.mutationKey)!==ol(i))return!1}else if(!Th(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function oS(t,e){return((e==null?void 0:e.queryKeyHashFn)||ol)(t)}function ol(t){return JSON.stringify(t,(e,n)=>P_(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Th(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Th(t[n],e[n])):!1}function zV(t,e){if(t===e)return t;const n=nR(t)&&nR(e);if(n||P_(t)&&P_(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const u=n?c:i[c];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=zV(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function fg(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function nR(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function P_(t){if(!rR(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!rR(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function rR(t){return Object.prototype.toString.call(t)==="[object Object]"}function qoe(t){return new Promise(e=>{setTimeout(e,t)})}function N_(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?zV(t,e):e}function Goe(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Qoe(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var KV=Symbol();function WV(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===KV?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Da,ho,yc,CR,Yoe=(CR=class extends wu{constructor(){super();we(this,Da,void 0);we(this,ho,void 0);we(this,yc,void 0);he(this,yc,e=>{if(!Jc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){V(this,ho)||this.setEventListener(V(this,yc))}onUnsubscribe(){var e;this.hasListeners()||((e=V(this,ho))==null||e.call(this),he(this,ho,void 0))}setEventListener(e){var n;he(this,yc,e),(n=V(this,ho))==null||n.call(this),he(this,ho,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){V(this,Da)!==e&&(he(this,Da,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof V(this,Da)=="boolean"?V(this,Da):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Da=new WeakMap,ho=new WeakMap,yc=new WeakMap,CR),aS=new Yoe,vc,fo,wc,AR,Xoe=(AR=class extends wu{constructor(){super();we(this,vc,!0);we(this,fo,void 0);we(this,wc,void 0);he(this,wc,e=>{if(!Jc&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){V(this,fo)||this.setEventListener(V(this,wc))}onUnsubscribe(){var e;this.hasListeners()||((e=V(this,fo))==null||e.call(this),he(this,fo,void 0))}setEventListener(e){var n;he(this,wc,e),(n=V(this,fo))==null||n.call(this),he(this,fo,e(this.setOnline.bind(this)))}setOnline(e){V(this,vc)!==e&&(he(this,vc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return V(this,vc)}},vc=new WeakMap,fo=new WeakMap,wc=new WeakMap,AR),pg=new Xoe;function Joe(t){return Math.min(1e3*2**t,3e4)}function HV(t){return(t??"online")==="online"?pg.isOnline():!0}var qV=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Pw(t){return t instanceof qV}function GV(t){let e=!1,n=0,r=!1,s,i,o;const a=new Promise((_,y)=>{i=_,o=y}),l=_=>{var y;r||(w(new qV(_)),(y=t.abort)==null||y.call(t))},c=()=>{e=!0},u=()=>{e=!1},d=()=>aS.isFocused()&&(t.networkMode==="always"||pg.isOnline())&&t.canRun(),p=()=>HV(t.networkMode)&&t.canRun(),g=_=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,_),s==null||s(),i(_))},w=_=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,_),s==null||s(),o(_))},v=()=>new Promise(_=>{var y;s=S=>{(r||d())&&_(S)},(y=t.onPause)==null||y.call(t)}).then(()=>{var _;s=void 0,r||(_=t.onContinue)==null||_.call(t)}),x=()=>{if(r)return;let _;const y=n===0?t.initialPromise:void 0;try{_=y??t.fn()}catch(S){_=Promise.reject(S)}Promise.resolve(_).then(g).catch(S=>{var T;if(r)return;const A=t.retry??(Jc?0:3),k=t.retryDelay??Joe,O=typeof k=="function"?k(n,S):k,I=A===!0||typeof A=="number"&&n<A||typeof A=="function"&&A(n,S);if(e||!I){w(S);return}n++,(T=t.onFail)==null||T.call(t,n,S),qoe(O).then(()=>d()?void 0:v()).then(()=>{e?w(S):x()})})};return{promise:a,cancel:l,continue:()=>(s==null||s(),a),cancelRetry:c,continueRetry:u,canStart:p,start:()=>(p()?x():v().then(x),a)}}function Zoe(){let t=[],e=0,n=p=>{p()},r=p=>{p()},s=p=>setTimeout(p,0);const i=p=>{s=p},o=p=>{let g;e++;try{g=p()}finally{e--,e||c()}return g},a=p=>{e?t.push(p):s(()=>{n(p)})},l=p=>(...g)=>{a(()=>{p(...g)})},c=()=>{const p=t;t=[],p.length&&s(()=>{r(()=>{p.forEach(g=>{n(g)})})})};return{batch:o,batchCalls:l,schedule:a,setNotifyFunction:p=>{n=p},setBatchNotifyFunction:p=>{r=p},setScheduler:i}}var ln=Zoe(),Ma,RR,QV=(RR=class{constructor(){we(this,Ma,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),R_(this.gcTime)&&he(this,Ma,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Jc?1/0:5*60*1e3))}clearGcTimeout(){V(this,Ma)&&(clearTimeout(V(this,Ma)),he(this,Ma,void 0))}},Ma=new WeakMap,RR),_c,xc,Vr,Mn,Sh,Oa,is,Zs,PR,eae=(PR=class extends QV{constructor(e){super();we(this,is);we(this,_c,void 0);we(this,xc,void 0);we(this,Vr,void 0);we(this,Mn,void 0);we(this,Sh,void 0);we(this,Oa,void 0);he(this,Oa,!1),he(this,Sh,e.defaultOptions),this.setOptions(e.options),this.observers=[],he(this,Vr,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,he(this,_c,tae(this.options)),this.state=e.state??V(this,_c),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=V(this,Mn))==null?void 0:e.promise}setOptions(e){this.options={...V(this,Sh),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,Vr).remove(this)}setData(e,n){const r=N_(this.state.data,e,this.options);return $e(this,is,Zs).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){$e(this,is,Zs).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=V(this,Mn))==null?void 0:r.promise;return(s=V(this,Mn))==null||s.cancel(e),n?n.then(Fr).catch(Fr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,_c))}isActive(){return this.observers.some(e=>cs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!$V(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=V(this,Mn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=V(this,Mn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),V(this,Vr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(V(this,Mn)&&(V(this,Oa)?V(this,Mn).cancel({revert:!0}):V(this,Mn).cancelRetry()),this.scheduleGc()),V(this,Vr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||$e(this,is,Zs).call(this,{type:"invalidate"})}fetch(e,n){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(V(this,Mn))return V(this,Mn).continueRetry(),V(this,Mn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(p=>p.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(he(this,Oa,!0),r.signal)})},i=()=>{const d=WV(this.options,n),p={queryKey:this.queryKey,meta:this.meta};return s(p),he(this,Oa,!1),this.options.persister?this.options.persister(d,p,this):d(p)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),he(this,xc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&$e(this,is,Zs).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=d=>{var p,g,w,v;Pw(d)&&d.silent||$e(this,is,Zs).call(this,{type:"error",error:d}),Pw(d)||((g=(p=V(this,Vr).config).onError)==null||g.call(p,d,this),(v=(w=V(this,Vr).config).onSettled)==null||v.call(w,this.state.data,d,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return he(this,Mn,GV({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var p,g,w,v;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}this.setData(d),(g=(p=V(this,Vr).config).onSuccess)==null||g.call(p,d,this),(v=(w=V(this,Vr).config).onSettled)==null||v.call(w,d,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(d,p)=>{$e(this,is,Zs).call(this,{type:"failed",failureCount:d,error:p})},onPause:()=>{$e(this,is,Zs).call(this,{type:"pause"})},onContinue:()=>{$e(this,is,Zs).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),V(this,Mn).start()}},_c=new WeakMap,xc=new WeakMap,Vr=new WeakMap,Mn=new WeakMap,Sh=new WeakMap,Oa=new WeakMap,is=new WeakSet,Zs=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...YV(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Pw(s)&&s.revert&&V(this,xc)?{...V(this,xc),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),ln.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),V(this,Vr).notify({query:this,type:"updated",action:e})})},PR);function YV(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:HV(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function tae(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Cs,NR,nae=(NR=class extends wu{constructor(e={}){super();we(this,Cs,void 0);this.config=e,he(this,Cs,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??oS(s,n);let o=this.get(i);return o||(o=new eae({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){V(this,Cs).has(e.queryHash)||(V(this,Cs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=V(this,Cs).get(e.queryHash);n&&(e.destroy(),n===e&&V(this,Cs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ln.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return V(this,Cs).get(e)}getAll(){return[...V(this,Cs).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>eR(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>eR(e,r)):n}notify(e){ln.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){ln.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ln.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Cs=new WeakMap,NR),As,Gn,La,Rs,Zi,kR,rae=(kR=class extends QV{constructor(e){super();we(this,Rs);we(this,As,void 0);we(this,Gn,void 0);we(this,La,void 0);this.mutationId=e.mutationId,he(this,Gn,e.mutationCache),he(this,As,[]),this.state=e.state||XV(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){V(this,As).includes(e)||(V(this,As).push(e),this.clearGcTimeout(),V(this,Gn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){he(this,As,V(this,As).filter(n=>n!==e)),this.scheduleGc(),V(this,Gn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){V(this,As).length||(this.state.status==="pending"?this.scheduleGc():V(this,Gn).remove(this))}continue(){var e;return((e=V(this,La))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,l,c,u,d,p,g,w,v,x,_,y,S,A,k,O,I;he(this,La,GV({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(T,C)=>{$e(this,Rs,Zi).call(this,{type:"failed",failureCount:T,error:C})},onPause:()=>{$e(this,Rs,Zi).call(this,{type:"pause"})},onContinue:()=>{$e(this,Rs,Zi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,Gn).canRun(this)}));const n=this.state.status==="pending",r=!V(this,La).canStart();try{if(!n){$e(this,Rs,Zi).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=V(this,Gn).config).onMutate)==null?void 0:i.call(s,e,this));const C=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));C!==this.state.context&&$e(this,Rs,Zi).call(this,{type:"pending",context:C,variables:e,isPaused:r})}const T=await V(this,La).start();return await((c=(l=V(this,Gn).config).onSuccess)==null?void 0:c.call(l,T,e,this.state.context,this)),await((d=(u=this.options).onSuccess)==null?void 0:d.call(u,T,e,this.state.context)),await((g=(p=V(this,Gn).config).onSettled)==null?void 0:g.call(p,T,null,this.state.variables,this.state.context,this)),await((v=(w=this.options).onSettled)==null?void 0:v.call(w,T,null,e,this.state.context)),$e(this,Rs,Zi).call(this,{type:"success",data:T}),T}catch(T){try{throw await((_=(x=V(this,Gn).config).onError)==null?void 0:_.call(x,T,e,this.state.context,this)),await((S=(y=this.options).onError)==null?void 0:S.call(y,T,e,this.state.context)),await((k=(A=V(this,Gn).config).onSettled)==null?void 0:k.call(A,void 0,T,this.state.variables,this.state.context,this)),await((I=(O=this.options).onSettled)==null?void 0:I.call(O,void 0,T,e,this.state.context)),T}finally{$e(this,Rs,Zi).call(this,{type:"error",error:T})}}finally{V(this,Gn).runNext(this)}}},As=new WeakMap,Gn=new WeakMap,La=new WeakMap,Rs=new WeakSet,Zi=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ln.batch(()=>{V(this,As).forEach(r=>{r.onMutationUpdate(e)}),V(this,Gn).notify({mutation:this,type:"updated",action:e})})},kR);function XV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wr,bh,DR,sae=(DR=class extends wu{constructor(e={}){super();we(this,wr,void 0);we(this,bh,void 0);this.config=e,he(this,wr,new Map),he(this,bh,Date.now())}build(e,n,r){const s=new rae({mutationCache:this,mutationId:++Bf(this,bh)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Sp(e),r=V(this,wr).get(n)??[];r.push(e),V(this,wr).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Sp(e);if(V(this,wr).has(n)){const s=(r=V(this,wr).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?V(this,wr).delete(n):V(this,wr).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=V(this,wr).get(Sp(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=V(this,wr).get(Sp(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){ln.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...V(this,wr).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>tR(n,r))}findAll(e={}){return this.getAll().filter(n=>tR(e,n))}notify(e){ln.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return ln.batch(()=>Promise.all(e.map(n=>n.continue().catch(Fr))))}},wr=new WeakMap,bh=new WeakMap,DR);function Sp(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function iae(t){return{onFetch:(e,n)=>{const r=async()=>{var w,v,x,_,y;const s=e.options,i=(x=(v=(w=e.fetchOptions)==null?void 0:w.meta)==null?void 0:v.fetchMore)==null?void 0:x.direction,o=((_=e.state.data)==null?void 0:_.pages)||[],a=((y=e.state.data)==null?void 0:y.pageParams)||[],l={pages:[],pageParams:[]};let c=!1;const u=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?c=!0:e.signal.addEventListener("abort",()=>{c=!0}),e.signal)})},d=WV(e.options,e.fetchOptions),p=async(S,A,k)=>{if(c)return Promise.reject();if(A==null&&S.pages.length)return Promise.resolve(S);const O={queryKey:e.queryKey,pageParam:A,direction:k?"backward":"forward",meta:e.options.meta};u(O);const I=await d(O),{maxPages:T}=e.options,C=k?Qoe:Goe;return{pages:C(S.pages,I,T),pageParams:C(S.pageParams,A,T)}};let g;if(i&&o.length){const S=i==="backward",A=S?oae:sR,k={pages:o,pageParams:a},O=A(s,k);g=await p(k,O,S)}else{g=await p(l,a[0]??s.initialPageParam);const S=t??o.length;for(let A=1;A<S;A++){const k=sR(s,g);if(k==null)break;g=await p(g,k)}}return g};e.options.persister?e.fetchFn=()=>{var s,i;return(i=(s=e.options).persister)==null?void 0:i.call(s,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=r}}}function sR(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function oae(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var zt,po,mo,Ec,Tc,go,Sc,bc,MR,aae=(MR=class{constructor(t={}){we(this,zt,void 0);we(this,po,void 0);we(this,mo,void 0);we(this,Ec,void 0);we(this,Tc,void 0);we(this,go,void 0);we(this,Sc,void 0);we(this,bc,void 0);he(this,zt,t.queryCache||new nae),he(this,po,t.mutationCache||new sae),he(this,mo,t.defaultOptions||{}),he(this,Ec,new Map),he(this,Tc,new Map),he(this,go,0)}mount(){Bf(this,go)._++,V(this,go)===1&&(he(this,Sc,aS.subscribe(async t=>{t&&(await this.resumePausedMutations(),V(this,zt).onFocus())})),he(this,bc,pg.subscribe(async t=>{t&&(await this.resumePausedMutations(),V(this,zt).onOnline())})))}unmount(){var t,e;Bf(this,go)._--,V(this,go)===0&&((t=V(this,Sc))==null||t.call(this),he(this,Sc,void 0),(e=V(this,bc))==null||e.call(this),he(this,bc,void 0))}isFetching(t){return V(this,zt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return V(this,po).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=V(this,zt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=V(this,zt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(mc(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return V(this,zt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=V(this,zt).get(r.queryHash),i=s==null?void 0:s.state.data,o=Hoe(e,i);if(o!==void 0)return V(this,zt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return ln.batch(()=>V(this,zt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=V(this,zt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=V(this,zt);ln.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=V(this,zt),r={type:"active",...t};return ln.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=ln.batch(()=>V(this,zt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Fr).catch(Fr)}invalidateQueries(t={},e={}){return ln.batch(()=>{if(V(this,zt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=ln.batch(()=>V(this,zt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Fr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Fr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=V(this,zt).build(this,e);return n.isStaleByTime(mc(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Fr).catch(Fr)}fetchInfiniteQuery(t){return t.behavior=iae(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Fr).catch(Fr)}resumePausedMutations(){return pg.isOnline()?V(this,po).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,zt)}getMutationCache(){return V(this,po)}getDefaultOptions(){return V(this,mo)}setDefaultOptions(t){he(this,mo,t)}setQueryDefaults(t,e){V(this,Ec).set(ol(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...V(this,Ec).values()];let n={};return e.forEach(r=>{Th(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){V(this,Tc).set(ol(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...V(this,Tc).values()];let n={};return e.forEach(r=>{Th(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...V(this,mo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=oS(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===KV&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...V(this,mo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){V(this,zt).clear(),V(this,po).clear()}},zt=new WeakMap,po=new WeakMap,mo=new WeakMap,Ec=new WeakMap,Tc=new WeakMap,go=new WeakMap,Sc=new WeakMap,bc=new WeakMap,MR),ir,et,Ih,Qn,ja,Ic,Ps,Ch,Cc,Ac,Va,Fa,yo,Rc,Ua,cd,Ah,k_,Rh,D_,Ph,M_,Nh,O_,kh,L_,Dh,j_,Mh,V_,xg,JV,OR,lae=(OR=class extends wu{constructor(e,n){super();we(this,Ua);we(this,Ah);we(this,Rh);we(this,Ph);we(this,Nh);we(this,kh);we(this,Dh);we(this,Mh);we(this,xg);we(this,ir,void 0);we(this,et,void 0);we(this,Ih,void 0);we(this,Qn,void 0);we(this,ja,void 0);we(this,Ic,void 0);we(this,Ps,void 0);we(this,Ch,void 0);we(this,Cc,void 0);we(this,Ac,void 0);we(this,Va,void 0);we(this,Fa,void 0);we(this,yo,void 0);we(this,Rc,new Set);this.options=n,he(this,ir,e),he(this,Ps,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(V(this,et).addObserver(this),iR(V(this,et),this.options)?$e(this,Ua,cd).call(this):this.updateResult(),$e(this,Nh,O_).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return F_(V(this,et),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return F_(V(this,et),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,$e(this,kh,L_).call(this),$e(this,Dh,j_).call(this),V(this,et).removeObserver(this)}setOptions(e,n){const r=this.options,s=V(this,et);if(this.options=V(this,ir).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof cs(this.options.enabled,V(this,et))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");$e(this,Mh,V_).call(this),V(this,et).setOptions(this.options),r._defaulted&&!fg(this.options,r)&&V(this,ir).getQueryCache().notify({type:"observerOptionsUpdated",query:V(this,et),observer:this});const i=this.hasListeners();i&&oR(V(this,et),s,this.options,r)&&$e(this,Ua,cd).call(this),this.updateResult(n),i&&(V(this,et)!==s||cs(this.options.enabled,V(this,et))!==cs(r.enabled,V(this,et))||mc(this.options.staleTime,V(this,et))!==mc(r.staleTime,V(this,et)))&&$e(this,Ah,k_).call(this);const o=$e(this,Rh,D_).call(this);i&&(V(this,et)!==s||cs(this.options.enabled,V(this,et))!==cs(r.enabled,V(this,et))||o!==V(this,yo))&&$e(this,Ph,M_).call(this,o)}getOptimisticResult(e){const n=V(this,ir).getQueryCache().build(V(this,ir),e),r=this.createResult(n,e);return uae(this,r)&&(he(this,Qn,r),he(this,Ic,this.options),he(this,ja,V(this,et).state)),r}getCurrentResult(){return V(this,Qn)}trackResult(e,n){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),e[s])})}),r}trackProp(e){V(this,Rc).add(e)}getCurrentQuery(){return V(this,et)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=V(this,ir).defaultQueryOptions(e),r=V(this,ir).getQueryCache().build(V(this,ir),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){return $e(this,Ua,cd).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),V(this,Qn)))}createResult(e,n){var I;const r=V(this,et),s=this.options,i=V(this,Qn),o=V(this,ja),a=V(this,Ic),c=e!==r?e.state:V(this,Ih),{state:u}=e;let d={...u},p=!1,g;if(n._optimisticResults){const T=this.hasListeners(),C=!T&&iR(e,n),R=T&&oR(e,r,n,s);(C||R)&&(d={...d,...YV(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:w,errorUpdatedAt:v,status:x}=d;if(n.select&&d.data!==void 0)if(i&&d.data===(o==null?void 0:o.data)&&n.select===V(this,Ch))g=V(this,Cc);else try{he(this,Ch,n.select),g=n.select(d.data),g=N_(i==null?void 0:i.data,g,n),he(this,Cc,g),he(this,Ps,null)}catch(T){he(this,Ps,T)}else g=d.data;if(n.placeholderData!==void 0&&g===void 0&&x==="pending"){let T;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))T=i.data;else if(T=typeof n.placeholderData=="function"?n.placeholderData((I=V(this,Ac))==null?void 0:I.state.data,V(this,Ac)):n.placeholderData,n.select&&T!==void 0)try{T=n.select(T),he(this,Ps,null)}catch(C){he(this,Ps,C)}T!==void 0&&(x="success",g=N_(i==null?void 0:i.data,T,n),p=!0)}V(this,Ps)&&(w=V(this,Ps),g=V(this,Cc),v=Date.now(),x="error");const _=d.fetchStatus==="fetching",y=x==="pending",S=x==="error",A=y&&_,k=g!==void 0;return{status:x,fetchStatus:d.fetchStatus,isPending:y,isSuccess:x==="success",isError:S,isInitialLoading:A,isLoading:A,data:g,dataUpdatedAt:d.dataUpdatedAt,error:w,errorUpdatedAt:v,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:_,isRefetching:_&&!y,isLoadingError:S&&!k,isPaused:d.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:S&&k,isStale:lS(e,n),refetch:this.refetch}}updateResult(e){const n=V(this,Qn),r=this.createResult(V(this,et),this.options);if(he(this,ja,V(this,et).state),he(this,Ic,this.options),V(this,ja).data!==void 0&&he(this,Ac,V(this,et)),fg(r,n))return;he(this,Qn,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!V(this,Rc).size)return!0;const l=new Set(a??V(this,Rc));return this.options.throwOnError&&l.add("error"),Object.keys(V(this,Qn)).some(c=>{const u=c;return V(this,Qn)[u]!==n[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),$e(this,xg,JV).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&$e(this,Nh,O_).call(this)}},ir=new WeakMap,et=new WeakMap,Ih=new WeakMap,Qn=new WeakMap,ja=new WeakMap,Ic=new WeakMap,Ps=new WeakMap,Ch=new WeakMap,Cc=new WeakMap,Ac=new WeakMap,Va=new WeakMap,Fa=new WeakMap,yo=new WeakMap,Rc=new WeakMap,Ua=new WeakSet,cd=function(e){$e(this,Mh,V_).call(this);let n=V(this,et).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Fr)),n},Ah=new WeakSet,k_=function(){$e(this,kh,L_).call(this);const e=mc(this.options.staleTime,V(this,et));if(Jc||V(this,Qn).isStale||!R_(e))return;const r=$V(V(this,Qn).dataUpdatedAt,e)+1;he(this,Va,setTimeout(()=>{V(this,Qn).isStale||this.updateResult()},r))},Rh=new WeakSet,D_=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(V(this,et)):this.options.refetchInterval)??!1},Ph=new WeakSet,M_=function(e){$e(this,Dh,j_).call(this),he(this,yo,e),!(Jc||cs(this.options.enabled,V(this,et))===!1||!R_(V(this,yo))||V(this,yo)===0)&&he(this,Fa,setInterval(()=>{(this.options.refetchIntervalInBackground||aS.isFocused())&&$e(this,Ua,cd).call(this)},V(this,yo)))},Nh=new WeakSet,O_=function(){$e(this,Ah,k_).call(this),$e(this,Ph,M_).call(this,$e(this,Rh,D_).call(this))},kh=new WeakSet,L_=function(){V(this,Va)&&(clearTimeout(V(this,Va)),he(this,Va,void 0))},Dh=new WeakSet,j_=function(){V(this,Fa)&&(clearInterval(V(this,Fa)),he(this,Fa,void 0))},Mh=new WeakSet,V_=function(){const e=V(this,ir).getQueryCache().build(V(this,ir),this.options);if(e===V(this,et))return;const n=V(this,et);he(this,et,e),he(this,Ih,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},xg=new WeakSet,JV=function(e){ln.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(V(this,Qn))}),V(this,ir).getQueryCache().notify({query:V(this,et),type:"observerResultsUpdated"})})},OR);function cae(t,e){return cs(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function iR(t,e){return cae(t,e)||t.state.data!==void 0&&F_(t,e,e.refetchOnMount)}function F_(t,e,n){if(cs(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&lS(t,e)}return!1}function oR(t,e,n,r){return(t!==e||cs(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&lS(t,n)}function lS(t,e){return cs(e.enabled,t)!==!1&&t.isStaleByTime(mc(e.staleTime,t))}function uae(t,e){return!fg(t.getCurrentResult(),e)}var vo,wo,or,ni,Pc,am,Oh,U_,LR,dae=(LR=class extends wu{constructor(n,r){super();we(this,Pc);we(this,Oh);we(this,vo,void 0);we(this,wo,void 0);we(this,or,void 0);we(this,ni,void 0);he(this,vo,n),this.setOptions(r),this.bindMethods(),$e(this,Pc,am).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=V(this,vo).defaultMutationOptions(n),fg(this.options,r)||V(this,vo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:V(this,or),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ol(r.mutationKey)!==ol(this.options.mutationKey)?this.reset():((s=V(this,or))==null?void 0:s.state.status)==="pending"&&V(this,or).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=V(this,or))==null||n.removeObserver(this)}onMutationUpdate(n){$e(this,Pc,am).call(this),$e(this,Oh,U_).call(this,n)}getCurrentResult(){return V(this,wo)}reset(){var n;(n=V(this,or))==null||n.removeObserver(this),he(this,or,void 0),$e(this,Pc,am).call(this),$e(this,Oh,U_).call(this)}mutate(n,r){var s;return he(this,ni,r),(s=V(this,or))==null||s.removeObserver(this),he(this,or,V(this,vo).getMutationCache().build(V(this,vo),this.options)),V(this,or).addObserver(this),V(this,or).execute(n)}},vo=new WeakMap,wo=new WeakMap,or=new WeakMap,ni=new WeakMap,Pc=new WeakSet,am=function(){var r;const n=((r=V(this,or))==null?void 0:r.state)??XV();he(this,wo,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Oh=new WeakSet,U_=function(n){ln.batch(()=>{var r,s,i,o,a,l,c,u;if(V(this,ni)&&this.hasListeners()){const d=V(this,wo).variables,p=V(this,wo).context;(n==null?void 0:n.type)==="success"?((s=(r=V(this,ni)).onSuccess)==null||s.call(r,n.data,d,p),(o=(i=V(this,ni)).onSettled)==null||o.call(i,n.data,null,d,p)):(n==null?void 0:n.type)==="error"&&((l=(a=V(this,ni)).onError)==null||l.call(a,n.error,d,p),(u=(c=V(this,ni)).onSettled)==null||u.call(c,void 0,n.error,d,p))}this.listeners.forEach(d=>{d(V(this,wo))})})},LR),ZV=m.createContext(void 0),_l=t=>{const e=m.useContext(ZV);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},hae=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),h.jsx(ZV.Provider,{value:t,children:e})),eF=m.createContext(!1),fae=()=>m.useContext(eF);eF.Provider;function pae(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var mae=m.createContext(pae()),gae=()=>m.useContext(mae);function tF(t,e){return typeof t=="function"?t(...e):!!t}function yae(){}var vae=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},wae=t=>{m.useEffect(()=>{t.clearReset()},[t])},_ae=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&tF(n,[t.error,r]),xae=t=>{t.suspense&&(typeof t.staleTime!="number"&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Eae=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Tae=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Sae(t,e,n){var c,u,d,p;const r=_l(),s=fae(),i=gae(),o=r.defaultQueryOptions(t);(u=(c=r.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||u.call(c,o),o._optimisticResults=s?"isRestoring":"optimistic",xae(o),vae(o,i),wae(i);const[a]=m.useState(()=>new e(r,o)),l=a.getOptimisticResult(o);if(m.useSyncExternalStore(m.useCallback(g=>{const w=s?()=>{}:a.subscribe(ln.batchCalls(g));return a.updateResult(),w},[a,s]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),m.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),Eae(o,l))throw Tae(o,a,i);if(_ae({result:l,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw l.error;return(p=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_afterQuery)==null||p.call(d,o,l),o.notifyOnChangeProps?l:a.trackResult(l)}function wf(t,e){return Sae(t,lae)}function Os(t,e){const n=_l(),[r]=m.useState(()=>new dae(n,t));m.useEffect(()=>{r.setOptions(t)},[r,t]);const s=m.useSyncExternalStore(m.useCallback(o=>r.subscribe(ln.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=m.useCallback((o,a)=>{r.mutate(o,a).catch(yae)},[r]);if(s.error&&tF(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const nF=({label:t,onButtonClick:e})=>h.jsxs(at,{variant:"outline",size:"sm",className:"mb-2 hover:bg-gray-100 h-10",onClick:e,children:[h.jsx(Qh,{className:"w-4 h-4 mr-0 md:mr-2"}),h.jsx("p",{className:"hidden md:block",children:t})]}),rF=()=>h.jsxs("div",{className:"h-[450px] md:h-[600px] w-full px-4 flex flex-col pb-4 mt-2",children:[h.jsxs("div",{className:"flex mb-7 space-x-4",children:[h.jsx(Ae,{className:"flex-grow h-10 bg-lightGray-darker"}),h.jsx(Ae,{className:"h-10 w-[42px] md:w-[198.85px] bg-lightGray-darker"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx(Ae,{className:"h-[20px] w-[20rem] bg-lightGray-darker"}),h.jsx(Ae,{className:"h-[20px] w-[10rem] bg-lightGray-darker"})]})]}),Qr=ji(t=>({isModalVisible:!1,modalMode:"BASE",openModal:()=>{t(()=>({isModalVisible:!0}))},closeModal:()=>{t(()=>({isModalVisible:!1}))},setMode:e=>{t(()=>({modalMode:e}))}})),bae=()=>{const t=Qr(i=>i.openModal),e=Qr(i=>i.setMode),n=ut(i=>i.clearFormData),r=un(i=>i.selectedKnowledgeBaseName);return{handleOpenKnowledgeForm:async i=>{if(!r)return window.alert("No Knowledge Base Selected cannot add a knowledge entry");n(),e(i),t()},openModal:t,setMode:e,clearFormData:n}},sF=()=>{const[t,e]=m.useState("");return{filter:t,handleFilterChange:r=>{e(r)}}};function Iae(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var _;const{scope:p,children:g,...w}=d,v=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,x=m.useMemo(()=>w,Object.values(w));return h.jsx(v.Provider,{value:x,children:g})};c.displayName=i+"Provider";function u(d,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Cae(s,...e)]}function Cae(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Aae(t,e){const n=m.createContext(e),r=i=>{const{children:o,...a}=i,l=m.useMemo(()=>a,Object.values(a));return h.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=m.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Rae(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var _;const{scope:p,children:g,...w}=d,v=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,x=m.useMemo(()=>w,Object.values(w));return h.jsx(v.Provider,{value:x,children:g})};c.displayName=i+"Provider";function u(d,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Pae(s,...e)]}function Pae(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Nae="DismissableLayer",B_="dismissableLayer.update",kae="dismissableLayer.pointerDownOutside",Dae="dismissableLayer.focusOutside",aR,iF=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),oF=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(iF),[u,d]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=Oe(e,I=>d(I)),v=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(x),y=u?v.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,A=y>=_,k=Lae(I=>{const T=I.target,C=[...c.branches].some(R=>R.contains(T));!A||C||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},p),O=jae(I=>{const T=I.target;[...c.branches].some(R=>R.contains(T))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},p);return Xh(I=>{y===c.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(aR=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),lR(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=aR)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),lR())},[u,c]),m.useEffect(()=>{const I=()=>g({});return document.addEventListener(B_,I),()=>document.removeEventListener(B_,I)},[]),h.jsx(_e.div,{...l,ref:w,style:{pointerEvents:S?A?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,k.onPointerDownCapture)})});oF.displayName=Nae;var Mae="DismissableLayerBranch",Oae=m.forwardRef((t,e)=>{const n=m.useContext(iF),r=m.useRef(null),s=Oe(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),h.jsx(_e.div,{...t,ref:s})});Oae.displayName=Mae;function Lae(t,e=globalThis==null?void 0:globalThis.document){const n=Mt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){aF(kae,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function jae(t,e=globalThis==null?void 0:globalThis.document){const n=Mt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&aF(Dae,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function lR(){const t=new CustomEvent(B_);document.dispatchEvent(t)}function aF(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?fl(s,i):s.dispatchEvent(i)}var Vae="Portal",lF=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Nt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Bh.createPortal(h.jsx(_e.div,{...r,ref:e}),o):null});lF.displayName=Vae;function Fae(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var Gy=t=>{const{present:e,children:n}=t,r=Uae(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=Oe(r.ref,Bae(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};Gy.displayName="Presence";function Uae(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Fae(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=bp(r.current);i.current=a==="mounted"?c:"none"},[a]),Nt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=bp(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Nt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=g=>{const v=bp(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=g=>{g.target===e&&(i.current=bp(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function bp(t){return(t==null?void 0:t.animationName)||"none"}function Bae(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var cS="Dialog",[cF,uF]=Rae(cS),[$ae,_s]=cF(cS),dF=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=m.useRef(null),l=m.useRef(null),[c=!1,u]=Uo({prop:r,defaultProp:s,onChange:i});return h.jsx($ae,{scope:e,triggerRef:a,contentRef:l,contentId:ms(),titleId:ms(),descriptionId:ms(),open:c,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(d=>!d),[u]),modal:o,children:n})};dF.displayName=cS;var hF="DialogTrigger",fF=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=_s(hF,n),i=Oe(e,s.triggerRef);return h.jsx(_e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":hS(s.open),...r,ref:i,onClick:ee(t.onClick,s.onOpenToggle)})});fF.displayName=hF;var uS="DialogPortal",[zae,pF]=cF(uS,{forceMount:void 0}),mF=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=_s(uS,e);return h.jsx(zae,{scope:e,forceMount:n,children:m.Children.map(r,o=>h.jsx(Gy,{present:n||i.open,children:h.jsx(lF,{asChild:!0,container:s,children:o})}))})};mF.displayName=uS;var mg="DialogOverlay",gF=m.forwardRef((t,e)=>{const n=pF(mg,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=_s(mg,t.__scopeDialog);return i.modal?h.jsx(Gy,{present:r||i.open,children:h.jsx(Kae,{...s,ref:e})}):null});gF.displayName=mg;var Kae=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=_s(mg,n);return h.jsx(ay,{as:Bo,allowPinchZoom:!0,shards:[s.contentRef],children:h.jsx(_e.div,{"data-state":hS(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),al="DialogContent",yF=m.forwardRef((t,e)=>{const n=pF(al,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=_s(al,t.__scopeDialog);return h.jsx(Gy,{present:r||i.open,children:i.modal?h.jsx(Wae,{...s,ref:e}):h.jsx(Hae,{...s,ref:e})})});yF.displayName=al;var Wae=m.forwardRef((t,e)=>{const n=_s(al,t.__scopeDialog),r=m.useRef(null),s=Oe(e,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return TE(i)},[]),h.jsx(vF,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ee(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ee(t.onFocusOutside,i=>i.preventDefault())})}),Hae=m.forwardRef((t,e)=>{const n=_s(al,t.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return h.jsx(vF,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),vF=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=_s(al,n),l=m.useRef(null),c=Oe(e,l);return uE(),h.jsxs(h.Fragment,{children:[h.jsx(ey,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:h.jsx(oF,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":hS(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(Gae,{titleId:a.titleId}),h.jsx(Yae,{contentRef:l,descriptionId:a.descriptionId})]})]})}),dS="DialogTitle",wF=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=_s(dS,n);return h.jsx(_e.h2,{id:s.titleId,...r,ref:e})});wF.displayName=dS;var _F="DialogDescription",xF=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=_s(_F,n);return h.jsx(_e.p,{id:s.descriptionId,...r,ref:e})});xF.displayName=_F;var EF="DialogClose",TF=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=_s(EF,n);return h.jsx(_e.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,()=>s.onOpenChange(!1))})});TF.displayName=EF;function hS(t){return t?"open":"closed"}var SF="DialogTitleWarning",[qae,bF]=Aae(SF,{contentName:al,titleName:dS,docsSlug:"dialog"}),Gae=({titleId:t})=>{const e=bF(SF),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Qae="DialogDescriptionWarning",Yae=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${bF(Qae).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},IF=dF,Xae=fF,CF=mF,fS=gF,pS=yF,mS=wF,gS=xF,yS=TF,AF="AlertDialog",[Jae,Bde]=Iae(AF,[uF]),Fi=uF(),RF=t=>{const{__scopeAlertDialog:e,...n}=t,r=Fi(e);return h.jsx(IF,{...r,...n,modal:!0})};RF.displayName=AF;var Zae="AlertDialogTrigger",ele=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Fi(n);return h.jsx(Xae,{...s,...r,ref:e})});ele.displayName=Zae;var tle="AlertDialogPortal",PF=t=>{const{__scopeAlertDialog:e,...n}=t,r=Fi(e);return h.jsx(CF,{...r,...n})};PF.displayName=tle;var nle="AlertDialogOverlay",NF=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Fi(n);return h.jsx(fS,{...s,...r,ref:e})});NF.displayName=nle;var gc="AlertDialogContent",[rle,sle]=Jae(gc),kF=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=Fi(n),o=m.useRef(null),a=Oe(e,o),l=m.useRef(null);return h.jsx(qae,{contentName:gc,titleName:DF,docsSlug:"alert-dialog",children:h.jsx(rle,{scope:n,cancelRef:l,children:h.jsxs(pS,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:ee(s.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[h.jsx(cE,{children:r}),h.jsx(ole,{contentRef:o})]})})})});kF.displayName=gc;var DF="AlertDialogTitle",MF=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Fi(n);return h.jsx(mS,{...s,...r,ref:e})});MF.displayName=DF;var OF="AlertDialogDescription",LF=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Fi(n);return h.jsx(gS,{...s,...r,ref:e})});LF.displayName=OF;var ile="AlertDialogAction",jF=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Fi(n);return h.jsx(yS,{...s,...r,ref:e})});jF.displayName=ile;var VF="AlertDialogCancel",FF=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=sle(VF,n),i=Fi(n),o=Oe(e,s);return h.jsx(yS,{...i,...r,ref:o})});FF.displayName=VF;var ole=({contentRef:t})=>{const e=`\`${gc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${gc}\` by passing a \`${OF}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${gc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},ale=RF,lle=PF,UF=NF,BF=kF,$F=jF,zF=FF,KF=MF,WF=LF;const cle=ale,ule=lle,HF=m.forwardRef(({className:t,...e},n)=>h.jsx(UF,{className:de("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));HF.displayName=UF.displayName;const qF=m.forwardRef(({className:t,...e},n)=>h.jsxs(ule,{children:[h.jsx(HF,{}),h.jsx(BF,{ref:n,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));qF.displayName=BF.displayName;const GF=({className:t,...e})=>h.jsx("div",{className:de("flex flex-col space-y-2 text-center sm:text-left",t),...e});GF.displayName="AlertDialogHeader";const QF=({className:t,...e})=>h.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});QF.displayName="AlertDialogFooter";const YF=m.forwardRef(({className:t,...e},n)=>h.jsx(KF,{ref:n,className:de("text-lg font-semibold",t),...e}));YF.displayName=KF.displayName;const XF=m.forwardRef(({className:t,...e},n)=>h.jsx(WF,{ref:n,className:de("text-sm text-muted-foreground",t),...e}));XF.displayName=WF.displayName;const JF=m.forwardRef(({className:t,...e},n)=>h.jsx($F,{ref:n,className:de(VE(),t),...e}));JF.displayName=$F.displayName;const ZF=m.forwardRef(({className:t,...e},n)=>h.jsx(zF,{ref:n,className:de(VE({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));ZF.displayName=zF.displayName;const vS=({itemName:t,isOpen:e,setDialogState:n,onDelete:r,message:s})=>{const i=async()=>{n(!1),await r()},o=()=>{n(!1)};return h.jsx(cle,{open:e,onOpenChange:a=>{n(a),setTimeout(()=>{a||(document.body.style.pointerEvents="")},100)},children:h.jsxs(qF,{children:[h.jsxs(GF,{children:[h.jsx(YF,{children:`Are you sure you want to delete the ${t}`}),h.jsx(XF,{children:s})]}),h.jsxs(QF,{children:[h.jsx(ZF,{onClick:o,children:"Cancel"}),h.jsx(JF,{onClick:i,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})},dle={1:"Base",2:"Entry",3:"Verify"},hle={1:"Entry",2:"Verify"},e4={base:"This action cannot be undone. This will permanently delete the knowledge base.",entry:"This action cannot be undone. This will permanently delete the knowledge entry."},fle=({onTabChange:t})=>{const{handleOpenKnowledgeForm:e}=bae(),n=Vi(),r=_l(),{filter:s,handleFilterChange:i}=sF(),o=Pt(_=>_.admin),a=un(_=>_.selectedKnowledgeBaseName),l=un(_=>_.selectedKnowledgeEntryIntentItem),c=un(_=>_.setSelectedKnowledgeEntryIntentItem),u=Mi(_=>_.dialogs),d=Mi(_=>_.setDialogState),{data:p,isLoading:g}=wf({queryFn:()=>Soe(a),queryKey:om,enabled:!!a}),{mutateAsync:w}=Os({mutationFn:Poe,onSuccess:()=>{r.invalidateQueries({queryKey:om}),n({title:`Knowledge Entry with intent ${l} deleted`,description:yt()})},onError:_=>{n({title:_==null?void 0:_.message,description:yt(),variant:"destructive"}),gt(_.message||"An Unexpected error occured while deleting knowledge base")}}),v=async()=>{if(!l)throw new Error("No knowledge entry intent selected cannot delete");await w(`${a}&${l}`),c("")},x=m.useMemo(()=>p==null?void 0:p.filter(_=>_.intent.toLowerCase().includes(s.toLowerCase())),[p,s]);return m.useEffect(()=>()=>{r.resetQueries({queryKey:om})},[]),g?h.jsx(rF,{}):p?h.jsxs(Ey,{value:"knowledgeEntry",className:"mt-2",children:[h.jsxs("div",{className:"h-[450px] md:h-[600px] w-full px-4 flex flex-col pb-4 overflow-y-auto scrollbar-slim",children:[h.jsxs("div",{className:"flex mb-2 space-x-4 sticky top-0",children:[h.jsx(sn,{className:"flex-grow outline-none focus:outline-none",placeholder:"Search knowledge base...",onChange:_=>i(_.target.value)}),(o==null?void 0:o.role)!=="viewer"&&h.jsx(nF,{label:"Add Knowledge Entry",onButtonClick:()=>e(eee.entry)})]}),h.jsx(zoe,{knowledgeEntries:x,handleTabChange:t})]}),u.showConfirmDeleteKnowledgeEntryDialog&&h.jsx(vS,{itemName:`${l} knowledge entry?`,isOpen:u.showConfirmDeleteKnowledgeEntryDialog,setDialogState:_=>d("showConfirmDeleteKnowledgeEntryDialog",_),onDelete:v,message:e4.entry})]}):h.jsx(iS,{heading:"No Knowledge Base Selected",description:"Select a knowledge base category to view its contents here."})},ple=({base:t,onItemClick:e})=>{const n=Pt(l=>l.admin),r=un(l=>l.selectedKnowledgeBaseName),s=un(l=>l.setSelectedKnowledgeBaseItem),i=Mi(l=>l.openDialog),o=()=>{s(t),i("showRenameKnowledgeBaseDialog")},a=()=>{s(t),i("showConfirmDeleteKnowledgeBaseDialog")};return h.jsxs("div",{className:`flex justify-between p-2 rounded-md cursor-pointer transition-colors ${r===t?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,onClick:()=>e(t),children:[t,(n==null?void 0:n.role)!=="viewer"&&h.jsx(at,{className:"bg-transparent hover:bg-transparent size-8 p-0 h-fit",children:h.jsx(BV,{onRenameKnowledge:o,onDeleteKnowledge:a})})]})},mle=({knowledgeBaseNameList:t,handleTabChange:e})=>{const n=un(i=>i.setSelectedKnowledgeBaseName),r=un(i=>i.selectedKnowledgeBaseName),s=i=>{e("knowledgeEntry"),r!==i&&n(i)};return h.jsx("div",{children:h.jsx(hu,{listStyle:"space-y-2",items:t,renderItem:i=>h.jsx(ple,{base:i,onItemClick:s})})})},Qy=IF,gle=CF,t4=m.forwardRef(({className:t,...e},n)=>h.jsx(fS,{ref:n,className:de("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));t4.displayName=fS.displayName;const _f=m.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(gle,{children:[h.jsx(t4,{}),h.jsxs(pS,{ref:r,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,h.jsxs(yS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(Yg,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));_f.displayName=pS.displayName;const xf=({className:t,...e})=>h.jsx("div",{className:de("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});xf.displayName="DialogHeader";const Yy=({className:t,...e})=>h.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Yy.displayName="DialogFooter";const Ef=m.forwardRef(({className:t,...e},n)=>h.jsx(mS,{ref:n,className:de("text-lg font-semibold leading-none tracking-tight",t),...e}));Ef.displayName=mS.displayName;const Tf=m.forwardRef(({className:t,...e},n)=>h.jsx(gS,{ref:n,className:de("text-sm text-muted-foreground",t),...e}));Tf.displayName=gS.displayName;var Sf=t=>t.type==="checkbox",ka=t=>t instanceof Date,Jn=t=>t==null;const n4=t=>typeof t=="object";var Xt=t=>!Jn(t)&&!Array.isArray(t)&&n4(t)&&!ka(t),r4=t=>Xt(t)&&t.target?Sf(t.target)?t.target.checked:t.target.value:t,yle=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,s4=(t,e)=>t.has(yle(e)),vle=t=>{const e=t.constructor&&t.constructor.prototype;return Xt(e)&&e.hasOwnProperty("isPrototypeOf")},wS=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function sr(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(wS&&(t instanceof Blob||t instanceof FileList))&&(n||Xt(t)))if(e=n?[]:{},!n&&!vle(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=sr(t[r]));else return t;return e}var Xy=t=>Array.isArray(t)?t.filter(Boolean):[],Wt=t=>t===void 0,oe=(t,e,n)=>{if(!e||!Xt(t))return n;const r=Xy(e.split(/[,[\].]+?/)).reduce((s,i)=>Jn(s)?s:s[i],t);return Wt(r)||r===t?Wt(t[e])?n:t[e]:r},Ur=t=>typeof t=="boolean",_S=t=>/^\w*$/.test(t),i4=t=>Xy(t.replace(/["|']|\]/g,"").split(/\.|\[/)),xt=(t,e,n)=>{let r=-1;const s=_S(e)?[e]:i4(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const c=t[a];l=Xt(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const gg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},us={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Js={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},wle=Ke.createContext(null),xS=()=>Ke.useContext(wle);var o4=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==us.all&&(e._proxyFormState[o]=!r||us.all),n&&(n[o]=!0),t[o]}});return s},ar=t=>Xt(t)&&!Object.keys(t).length,a4=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return ar(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||us.all))},Dd=t=>Array.isArray(t)?t:[t],l4=(t,e,n)=>!t||!e||t===e||Dd(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function ES(t){const e=Ke.useRef(t);e.current=t,Ke.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function _le(t){const e=xS(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,a]=Ke.useState(n._formState),l=Ke.useRef(!0),c=Ke.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=Ke.useRef(s);return u.current=s,ES({disabled:r,next:d=>l.current&&l4(u.current,d.name,i)&&a4(d,c.current,n._updateFormState)&&a({...n._formState,...d}),subject:n._subjects.state}),Ke.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),o4(o,n,c.current,!1)}var Ls=t=>typeof t=="string",c4=(t,e,n,r,s)=>Ls(t)?(r&&e.watch.add(t),oe(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),oe(n,i))):(r&&(e.watchAll=!0),n);function xle(t){const e=xS(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o}=t||{},a=Ke.useRef(r);a.current=r,ES({disabled:i,subject:n._subjects.values,next:u=>{l4(a.current,u.name,o)&&c(sr(c4(a.current,n._names,u.values||n._formValues,!1,s)))}});const[l,c]=Ke.useState(n._getWatch(r,s));return Ke.useEffect(()=>n._removeUnmounted()),l}function Ele(t){const e=xS(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,o=s4(s._names.array,n),a=xle({control:s,name:n,defaultValue:oe(s._formValues,n,oe(s._defaultValues,n,t.defaultValue)),exact:!0}),l=_le({control:s,name:n,exact:!0}),c=Ke.useRef(s.register(n,{...t.rules,value:a,...Ur(t.disabled)?{disabled:t.disabled}:{}}));return Ke.useEffect(()=>{const u=s._options.shouldUnregister||i,d=(p,g)=>{const w=oe(s._fields,p);w&&w._f&&(w._f.mount=g)};if(d(n,!0),u){const p=sr(oe(s._options.defaultValues,n));xt(s._defaultValues,n,p),Wt(oe(s._formValues,n))&&xt(s._formValues,n,p)}return()=>{(o?u&&!s._state.action:u)?s.unregister(n):d(n,!1)}},[n,s,o,i]),Ke.useEffect(()=>{oe(s._fields,n)&&s._updateDisabledField({disabled:r,fields:s._fields,name:n,value:oe(s._fields,n)._f.value})},[r,n,s]),{field:{name:n,value:a,...Ur(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:Ke.useCallback(u=>c.current.onChange({target:{value:r4(u),name:n},type:gg.CHANGE}),[n]),onBlur:Ke.useCallback(()=>c.current.onBlur({target:{value:oe(s._formValues,n),name:n},type:gg.BLUR}),[n,s]),ref:Ke.useCallback(u=>{const d=oe(s._fields,n);d&&u&&(d._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:p=>u.setCustomValidity(p),reportValidity:()=>u.reportValidity()})},[s._fields,n])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!oe(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!oe(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!oe(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!oe(l.validatingFields,n)},error:{enumerable:!0,get:()=>oe(l.errors,n)}})}}const Tle=t=>t.render(Ele(t));var Sle=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},cR=t=>({isOnSubmit:!t||t===us.onSubmit,isOnBlur:t===us.onBlur,isOnChange:t===us.onChange,isOnAll:t===us.all,isOnTouch:t===us.onTouched}),uR=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Md=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=oe(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Md(a,e))break}else if(Xt(a)&&Md(a,e))break}}};var ble=(t,e,n)=>{const r=Dd(oe(t,n));return xt(r,"root",e[n]),xt(t,n,r),t},TS=t=>t.type==="file",ui=t=>typeof t=="function",yg=t=>{if(!wS)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},lm=t=>Ls(t),SS=t=>t.type==="radio",vg=t=>t instanceof RegExp;const dR={value:!1,isValid:!1},hR={value:!0,isValid:!0};var u4=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Wt(t[0].attributes.value)?Wt(t[0].value)||t[0].value===""?hR:{value:t[0].value,isValid:!0}:hR:dR}return dR};const fR={isValid:!1,value:null};var d4=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,fR):fR;function pR(t,e,n="validate"){if(lm(t)||Array.isArray(t)&&t.every(lm)||Ur(t)&&!t)return{type:n,message:lm(t)?t:"",ref:e}}var Ml=t=>Xt(t)&&!vg(t)?t:{value:t,message:""},mR=async(t,e,n,r,s)=>{const{ref:i,refs:o,required:a,maxLength:l,minLength:c,min:u,max:d,pattern:p,validate:g,name:w,valueAsNumber:v,mount:x,disabled:_}=t._f,y=oe(e,w);if(!x||_)return{};const S=o?o[0]:i,A=D=>{r&&S.reportValidity&&(S.setCustomValidity(Ur(D)?"":D||""),S.reportValidity())},k={},O=SS(i),I=Sf(i),T=O||I,C=(v||TS(i))&&Wt(i.value)&&Wt(y)||yg(i)&&i.value===""||y===""||Array.isArray(y)&&!y.length,R=Sle.bind(null,w,n,k),M=(D,N,H,ae=Js.maxLength,te=Js.minLength)=>{const ne=D?N:H;k[w]={type:D?ae:te,message:ne,ref:i,...R(D?ae:te,ne)}};if(s?!Array.isArray(y)||!y.length:a&&(!T&&(C||Jn(y))||Ur(y)&&!y||I&&!u4(o).isValid||O&&!d4(o).isValid)){const{value:D,message:N}=lm(a)?{value:!!a,message:a}:Ml(a);if(D&&(k[w]={type:Js.required,message:N,ref:S,...R(Js.required,N)},!n))return A(N),k}if(!C&&(!Jn(u)||!Jn(d))){let D,N;const H=Ml(d),ae=Ml(u);if(!Jn(y)&&!isNaN(y)){const te=i.valueAsNumber||y&&+y;Jn(H.value)||(D=te>H.value),Jn(ae.value)||(N=te<ae.value)}else{const te=i.valueAsDate||new Date(y),ne=Z=>new Date(new Date().toDateString()+" "+Z),z=i.type=="time",B=i.type=="week";Ls(H.value)&&y&&(D=z?ne(y)>ne(H.value):B?y>H.value:te>new Date(H.value)),Ls(ae.value)&&y&&(N=z?ne(y)<ne(ae.value):B?y<ae.value:te<new Date(ae.value))}if((D||N)&&(M(!!D,H.message,ae.message,Js.max,Js.min),!n))return A(k[w].message),k}if((l||c)&&!C&&(Ls(y)||s&&Array.isArray(y))){const D=Ml(l),N=Ml(c),H=!Jn(D.value)&&y.length>+D.value,ae=!Jn(N.value)&&y.length<+N.value;if((H||ae)&&(M(H,D.message,N.message),!n))return A(k[w].message),k}if(p&&!C&&Ls(y)){const{value:D,message:N}=Ml(p);if(vg(D)&&!y.match(D)&&(k[w]={type:Js.pattern,message:N,ref:i,...R(Js.pattern,N)},!n))return A(N),k}if(g){if(ui(g)){const D=await g(y,e),N=pR(D,S);if(N&&(k[w]={...N,...R(Js.validate,N.message)},!n))return A(N.message),k}else if(Xt(g)){let D={};for(const N in g){if(!ar(D)&&!n)break;const H=pR(await g[N](y,e),S,N);H&&(D={...H,...R(N,H.message)},A(H.message),n&&(k[w]=D))}if(!ar(D)&&(k[w]={ref:S,...D},!n))return k}}return A(!0),k};function Ile(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Wt(t)?r++:t[e[r++]];return t}function Cle(t){for(const e in t)if(t.hasOwnProperty(e)&&!Wt(t[e]))return!1;return!0}function on(t,e){const n=Array.isArray(e)?e:_S(e)?[e]:i4(e),r=n.length===1?t:Ile(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Xt(r)&&ar(r)||Array.isArray(r)&&Cle(r))&&on(t,n.slice(0,-1)),t}var Nw=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},$_=t=>Jn(t)||!n4(t);function uo(t,e){if($_(t)||$_(e))return t===e;if(ka(t)&&ka(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(ka(i)&&ka(o)||Xt(i)&&Xt(o)||Array.isArray(i)&&Array.isArray(o)?!uo(i,o):i!==o)return!1}}return!0}var h4=t=>t.type==="select-multiple",Ale=t=>SS(t)||Sf(t),kw=t=>yg(t)&&t.isConnected,f4=t=>{for(const e in t)if(ui(t[e]))return!0;return!1};function wg(t,e={}){const n=Array.isArray(t);if(Xt(t)||n)for(const r in t)Array.isArray(t[r])||Xt(t[r])&&!f4(t[r])?(e[r]=Array.isArray(t[r])?[]:{},wg(t[r],e[r])):Jn(t[r])||(e[r]=!0);return e}function p4(t,e,n){const r=Array.isArray(t);if(Xt(t)||r)for(const s in t)Array.isArray(t[s])||Xt(t[s])&&!f4(t[s])?Wt(e)||$_(n[s])?n[s]=Array.isArray(t[s])?wg(t[s],[]):{...wg(t[s])}:p4(t[s],Jn(e)?{}:e[s],n[s]):n[s]=!uo(t[s],e[s]);return n}var Qu=(t,e)=>p4(t,e,wg(e)),m4=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Wt(t)?t:e?t===""?NaN:t&&+t:n&&Ls(t)?new Date(t):r?r(t):t;function Dw(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return TS(e)?e.files:SS(e)?d4(t.refs).value:h4(e)?[...e.selectedOptions].map(({value:n})=>n):Sf(e)?u4(t.refs).value:m4(Wt(e.value)?t.ref.value:e.value,t)}var Rle=(t,e,n,r)=>{const s={};for(const i of t){const o=oe(e,i);o&&xt(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Yu=t=>Wt(t)?t:vg(t)?t.source:Xt(t)?vg(t.value)?t.value.source:t.value:t;const gR="AsyncFunction";var Ple=t=>(!t||!t.validate)&&!!(ui(t.validate)&&t.validate.constructor.name===gR||Xt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===gR)),Nle=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function yR(t,e,n){const r=oe(t,n);if(r||_S(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=oe(e,i),a=oe(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var kle=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,Dle=(t,e)=>!Xy(oe(t,e)).length&&on(t,e);const Mle={mode:us.onSubmit,reValidateMode:us.onChange,shouldFocusError:!0};function Ole(t={}){let e={...Mle,...t},n={submitCount:0,isDirty:!1,isLoading:ui(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=Xt(e.defaultValues)||Xt(e.values)?sr(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:sr(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:Nw(),array:Nw(),state:Nw()},p=cR(e.mode),g=cR(e.reValidateMode),w=e.criteriaMode===us.all,v=L=>$=>{clearTimeout(c),c=setTimeout(L,$)},x=async L=>{if(!t.disabled&&(u.isValid||L)){const $=e.resolver?ar((await T()).errors):await R(r,!0);$!==n.isValid&&d.state.next({isValid:$})}},_=(L,$)=>{!t.disabled&&(u.isValidating||u.validatingFields)&&((L||Array.from(a.mount)).forEach(q=>{q&&($?xt(n.validatingFields,q,$):on(n.validatingFields,q))}),d.state.next({validatingFields:n.validatingFields,isValidating:!ar(n.validatingFields)}))},y=(L,$=[],q,le,re=!0,J=!0)=>{if(le&&q&&!t.disabled){if(o.action=!0,J&&Array.isArray(oe(r,L))){const Ee=q(oe(r,L),le.argA,le.argB);re&&xt(r,L,Ee)}if(J&&Array.isArray(oe(n.errors,L))){const Ee=q(oe(n.errors,L),le.argA,le.argB);re&&xt(n.errors,L,Ee),Dle(n.errors,L)}if(u.touchedFields&&J&&Array.isArray(oe(n.touchedFields,L))){const Ee=q(oe(n.touchedFields,L),le.argA,le.argB);re&&xt(n.touchedFields,L,Ee)}u.dirtyFields&&(n.dirtyFields=Qu(s,i)),d.state.next({name:L,isDirty:D(L,$),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else xt(i,L,$)},S=(L,$)=>{xt(n.errors,L,$),d.state.next({errors:n.errors})},A=L=>{n.errors=L,d.state.next({errors:n.errors,isValid:!1})},k=(L,$,q,le)=>{const re=oe(r,L);if(re){const J=oe(i,L,Wt(q)?oe(s,L):q);Wt(J)||le&&le.defaultChecked||$?xt(i,L,$?J:Dw(re._f)):ae(L,J),o.mount&&x()}},O=(L,$,q,le,re)=>{let J=!1,Ee=!1;const Le={name:L};if(!t.disabled){const je=!!(oe(r,L)&&oe(r,L)._f&&oe(r,L)._f.disabled);if(!q||le){u.isDirty&&(Ee=n.isDirty,n.isDirty=Le.isDirty=D(),J=Ee!==Le.isDirty);const Be=je||uo(oe(s,L),$);Ee=!!(!je&&oe(n.dirtyFields,L)),Be||je?on(n.dirtyFields,L):xt(n.dirtyFields,L,!0),Le.dirtyFields=n.dirtyFields,J=J||u.dirtyFields&&Ee!==!Be}if(q){const Be=oe(n.touchedFields,L);Be||(xt(n.touchedFields,L,q),Le.touchedFields=n.touchedFields,J=J||u.touchedFields&&Be!==q)}J&&re&&d.state.next(Le)}return J?Le:{}},I=(L,$,q,le)=>{const re=oe(n.errors,L),J=u.isValid&&Ur($)&&n.isValid!==$;if(t.delayError&&q?(l=v(()=>S(L,q)),l(t.delayError)):(clearTimeout(c),l=null,q?xt(n.errors,L,q):on(n.errors,L)),(q?!uo(re,q):re)||!ar(le)||J){const Ee={...le,...J&&Ur($)?{isValid:$}:{},errors:n.errors,name:L};n={...n,...Ee},d.state.next(Ee)}},T=async L=>{_(L,!0);const $=await e.resolver(i,e.context,Rle(L||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return _(L),$},C=async L=>{const{errors:$}=await T(L);if(L)for(const q of L){const le=oe($,q);le?xt(n.errors,q,le):on(n.errors,q)}else n.errors=$;return $},R=async(L,$,q={valid:!0})=>{for(const le in L){const re=L[le];if(re){const{_f:J,...Ee}=re;if(J){const Le=a.array.has(J.name),je=re._f&&Ple(re._f);je&&u.validatingFields&&_([le],!0);const Be=await mR(re,i,w,e.shouldUseNativeValidation&&!$,Le);if(je&&u.validatingFields&&_([le]),Be[J.name]&&(q.valid=!1,$))break;!$&&(oe(Be,J.name)?Le?ble(n.errors,Be,J.name):xt(n.errors,J.name,Be[J.name]):on(n.errors,J.name))}!ar(Ee)&&await R(Ee,$,q)}}return q.valid},M=()=>{for(const L of a.unMount){const $=oe(r,L);$&&($._f.refs?$._f.refs.every(q=>!kw(q)):!kw($._f.ref))&&qe(L)}a.unMount=new Set},D=(L,$)=>!t.disabled&&(L&&$&&xt(i,L,$),!uo(pe(),s)),N=(L,$,q)=>c4(L,a,{...o.mount?i:Wt($)?s:Ls(L)?{[L]:$}:$},q,$),H=L=>Xy(oe(o.mount?i:s,L,t.shouldUnregister?oe(s,L,[]):[])),ae=(L,$,q={})=>{const le=oe(r,L);let re=$;if(le){const J=le._f;J&&(!J.disabled&&xt(i,L,m4($,J)),re=yg(J.ref)&&Jn($)?"":$,h4(J.ref)?[...J.ref.options].forEach(Ee=>Ee.selected=re.includes(Ee.value)):J.refs?Sf(J.ref)?J.refs.length>1?J.refs.forEach(Ee=>(!Ee.defaultChecked||!Ee.disabled)&&(Ee.checked=Array.isArray(re)?!!re.find(Le=>Le===Ee.value):re===Ee.value)):J.refs[0]&&(J.refs[0].checked=!!re):J.refs.forEach(Ee=>Ee.checked=Ee.value===re):TS(J.ref)?J.ref.value="":(J.ref.value=re,J.ref.type||d.values.next({name:L,values:{...i}})))}(q.shouldDirty||q.shouldTouch)&&O(L,re,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&Z(L)},te=(L,$,q)=>{for(const le in $){const re=$[le],J=`${L}.${le}`,Ee=oe(r,J);(a.array.has(L)||Xt(re)||Ee&&!Ee._f)&&!ka(re)?te(J,re,q):ae(J,re,q)}},ne=(L,$,q={})=>{const le=oe(r,L),re=a.array.has(L),J=sr($);xt(i,L,J),re?(d.array.next({name:L,values:{...i}}),(u.isDirty||u.dirtyFields)&&q.shouldDirty&&d.state.next({name:L,dirtyFields:Qu(s,i),isDirty:D(L,J)})):le&&!le._f&&!Jn(J)?te(L,J,q):ae(L,J,q),uR(L,a)&&d.state.next({...n}),d.values.next({name:o.mount?L:void 0,values:{...i}})},z=async L=>{o.mount=!0;const $=L.target;let q=$.name,le=!0;const re=oe(r,q),J=()=>$.type?Dw(re._f):r4(L),Ee=Le=>{le=Number.isNaN(Le)||ka(Le)&&isNaN(Le.getTime())||uo(Le,oe(i,q,Le))};if(re){let Le,je;const Be=J(),zn=L.type===gg.BLUR||L.type===gg.FOCUS_OUT,Ui=!Nle(re._f)&&!e.resolver&&!oe(n.errors,q)&&!re._f.deps||kle(zn,oe(n.touchedFields,q),n.isSubmitted,g,p),Kn=uR(q,a,zn);xt(i,q,Be),zn?(re._f.onBlur&&re._f.onBlur(L),l&&l(0)):re._f.onChange&&re._f.onChange(L);const Wn=O(q,Be,zn,!1),Es=!ar(Wn)||Kn;if(!zn&&d.values.next({name:q,type:L.type,values:{...i}}),Ui)return u.isValid&&(t.mode==="onBlur"?zn&&x():x()),Es&&d.state.next({name:q,...Kn?{}:Wn});if(!zn&&Kn&&d.state.next({...n}),e.resolver){const{errors:Ts}=await T([q]);if(Ee(Be),le){const xl=yR(n.errors,r,q),Hn=yR(Ts,r,xl.name||q);Le=Hn.error,q=Hn.name,je=ar(Ts)}}else _([q],!0),Le=(await mR(re,i,w,e.shouldUseNativeValidation))[q],_([q]),Ee(Be),le&&(Le?je=!1:u.isValid&&(je=await R(r,!0)));le&&(re._f.deps&&Z(re._f.deps),I(q,je,Le,Wn))}},B=(L,$)=>{if(oe(n.errors,$)&&L.focus)return L.focus(),1},Z=async(L,$={})=>{let q,le;const re=Dd(L);if(e.resolver){const J=await C(Wt(L)?L:re);q=ar(J),le=L?!re.some(Ee=>oe(J,Ee)):q}else L?(le=(await Promise.all(re.map(async J=>{const Ee=oe(r,J);return await R(Ee&&Ee._f?{[J]:Ee}:Ee)}))).every(Boolean),!(!le&&!n.isValid)&&x()):le=q=await R(r);return d.state.next({...!Ls(L)||u.isValid&&q!==n.isValid?{}:{name:L},...e.resolver||!L?{isValid:q}:{},errors:n.errors}),$.shouldFocus&&!le&&Md(r,B,L?re:a.mount),le},pe=L=>{const $={...o.mount?i:s};return Wt(L)?$:Ls(L)?oe($,L):L.map(q=>oe($,q))},Te=(L,$)=>({invalid:!!oe(($||n).errors,L),isDirty:!!oe(($||n).dirtyFields,L),error:oe(($||n).errors,L),isValidating:!!oe(n.validatingFields,L),isTouched:!!oe(($||n).touchedFields,L)}),Re=L=>{L&&Dd(L).forEach($=>on(n.errors,$)),d.state.next({errors:L?n.errors:{}})},Je=(L,$,q)=>{const le=(oe(r,L,{_f:{}})._f||{}).ref,re=oe(n.errors,L)||{},{ref:J,message:Ee,type:Le,...je}=re;xt(n.errors,L,{...je,...$,ref:le}),d.state.next({name:L,errors:n.errors,isValid:!1}),q&&q.shouldFocus&&le&&le.focus&&le.focus()},wt=(L,$)=>ui(L)?d.values.subscribe({next:q=>L(N(void 0,$),q)}):N(L,$,!0),qe=(L,$={})=>{for(const q of L?Dd(L):a.mount)a.mount.delete(q),a.array.delete(q),$.keepValue||(on(r,q),on(i,q)),!$.keepError&&on(n.errors,q),!$.keepDirty&&on(n.dirtyFields,q),!$.keepTouched&&on(n.touchedFields,q),!$.keepIsValidating&&on(n.validatingFields,q),!e.shouldUnregister&&!$.keepDefaultValue&&on(s,q);d.values.next({values:{...i}}),d.state.next({...n,...$.keepDirty?{isDirty:D()}:{}}),!$.keepIsValid&&x()},ce=({disabled:L,name:$,field:q,fields:le,value:re})=>{if(Ur(L)&&o.mount||L){const J=L?void 0:Wt(re)?Dw(q?q._f:oe(le,$)._f):re;xt(i,$,J),O($,J,!1,!1,!0)}},Ve=(L,$={})=>{let q=oe(r,L);const le=Ur($.disabled)||Ur(t.disabled);return xt(r,L,{...q||{},_f:{...q&&q._f?q._f:{ref:{name:L}},name:L,mount:!0,...$}}),a.mount.add(L),q?ce({field:q,disabled:Ur($.disabled)?$.disabled:t.disabled,name:L,value:$.value}):k(L,!0,$.value),{...le?{disabled:$.disabled||t.disabled}:{},...e.progressive?{required:!!$.required,min:Yu($.min),max:Yu($.max),minLength:Yu($.minLength),maxLength:Yu($.maxLength),pattern:Yu($.pattern)}:{},name:L,onChange:z,onBlur:z,ref:re=>{if(re){Ve(L,$),q=oe(r,L);const J=Wt(re.value)&&re.querySelectorAll&&re.querySelectorAll("input,select,textarea")[0]||re,Ee=Ale(J),Le=q._f.refs||[];if(Ee?Le.find(je=>je===J):J===q._f.ref)return;xt(r,L,{_f:{...q._f,...Ee?{refs:[...Le.filter(kw),J,...Array.isArray(oe(s,L))?[{}]:[]],ref:{type:J.type,name:L}}:{ref:J}}}),k(L,!1,void 0,J)}else q=oe(r,L,{}),q._f&&(q._f.mount=!1),(e.shouldUnregister||$.shouldUnregister)&&!(s4(a.array,L)&&o.action)&&a.unMount.add(L)}}},rt=()=>e.shouldFocusError&&Md(r,B,a.mount),Fe=L=>{Ur(L)&&(d.state.next({disabled:L}),Md(r,($,q)=>{const le=oe(r,q);le&&($.disabled=le._f.disabled||L,Array.isArray(le._f.refs)&&le._f.refs.forEach(re=>{re.disabled=le._f.disabled||L}))},0,!1))},ze=(L,$)=>async q=>{let le;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let re=sr(i);if(d.state.next({isSubmitting:!0}),e.resolver){const{errors:J,values:Ee}=await T();n.errors=J,re=Ee}else await R(r);if(on(n.errors,"root"),ar(n.errors)){d.state.next({errors:{}});try{await L(re,q)}catch(J){le=J}}else $&&await $({...n.errors},q),rt(),setTimeout(rt);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ar(n.errors)&&!le,submitCount:n.submitCount+1,errors:n.errors}),le)throw le},Qe=(L,$={})=>{oe(r,L)&&(Wt($.defaultValue)?ne(L,sr(oe(s,L))):(ne(L,$.defaultValue),xt(s,L,sr($.defaultValue))),$.keepTouched||on(n.touchedFields,L),$.keepDirty||(on(n.dirtyFields,L),n.isDirty=$.defaultValue?D(L,sr(oe(s,L))):D()),$.keepError||(on(n.errors,L),u.isValid&&x()),d.state.next({...n}))},Bt=(L,$={})=>{const q=L?sr(L):s,le=sr(q),re=ar(L),J=re?s:le;if($.keepDefaultValues||(s=q),!$.keepValues){if($.keepDirtyValues){const Ee=new Set([...a.mount,...Object.keys(Qu(s,i))]);for(const Le of Array.from(Ee))oe(n.dirtyFields,Le)?xt(J,Le,oe(i,Le)):ne(Le,oe(J,Le))}else{if(wS&&Wt(L))for(const Ee of a.mount){const Le=oe(r,Ee);if(Le&&Le._f){const je=Array.isArray(Le._f.refs)?Le._f.refs[0]:Le._f.ref;if(yg(je)){const Be=je.closest("form");if(Be){Be.reset();break}}}}r={}}i=t.shouldUnregister?$.keepDefaultValues?sr(s):{}:sr(J),d.array.next({values:{...J}}),d.values.next({values:{...J}})}a={mount:$.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!$.keepIsValid||!!$.keepDirtyValues,o.watch=!!t.shouldUnregister,d.state.next({submitCount:$.keepSubmitCount?n.submitCount:0,isDirty:re?!1:$.keepDirty?n.isDirty:!!($.keepDefaultValues&&!uo(L,s)),isSubmitted:$.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:re?{}:$.keepDirtyValues?$.keepDefaultValues&&i?Qu(s,i):n.dirtyFields:$.keepDefaultValues&&L?Qu(s,L):$.keepDirty?n.dirtyFields:{},touchedFields:$.keepTouched?n.touchedFields:{},errors:$.keepErrors?n.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},st=(L,$)=>Bt(ui(L)?L(i):L,$);return{control:{register:Ve,unregister:qe,getFieldState:Te,handleSubmit:ze,setError:Je,_executeSchema:T,_getWatch:N,_getDirty:D,_updateValid:x,_removeUnmounted:M,_updateFieldArray:y,_updateDisabledField:ce,_getFieldArray:H,_reset:Bt,_resetDefaultValues:()=>ui(e.defaultValues)&&e.defaultValues().then(L=>{st(L,e.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:L=>{n={...n,...L}},_disableForm:Fe,_subjects:d,_proxyFormState:u,_setErrors:A,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(L){o=L},get _defaultValues(){return s},get _names(){return a},set _names(L){a=L},get _formState(){return n},set _formState(L){n=L},get _options(){return e},set _options(L){e={...e,...L}}},trigger:Z,register:Ve,handleSubmit:ze,watch:wt,setValue:ne,getValues:pe,reset:st,resetField:Qe,clearErrors:Re,unregister:qe,setError:Je,setFocus:(L,$={})=>{const q=oe(r,L),le=q&&q._f;if(le){const re=le.refs?le.refs[0]:le.ref;re.focus&&(re.focus(),$.shouldSelect&&re.select())}},getFieldState:Te}}function bS(t={}){const e=Ke.useRef(),n=Ke.useRef(),[r,s]=Ke.useState({isDirty:!1,isValidating:!1,isLoading:ui(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:ui(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Ole(t),formState:r});const i=e.current.control;return i._options=t,ES({subject:i._subjects.state,next:o=>{a4(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),Ke.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Ke.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),Ke.useEffect(()=>{t.values&&!uo(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),Ke.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),Ke.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),Ke.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),Ke.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=o4(r,i),e.current}const Lle=({currentName:t,isOpen:e,setDialogState:n,onRenameKnowledge:r,isLoading:s})=>{const{register:i,reset:o,handleSubmit:a,formState:{errors:l,isSubmitted:c}}=bS({defaultValues:{newKnowledgeBaseName:t}}),u=async p=>{await r(p.newKnowledgeBaseName),d()},d=(p=void 0)=>{n(p??!1),o({}),setTimeout(()=>{p||(document.body.style.pointerEvents="")},100)};return h.jsx(Qy,{open:e,onOpenChange:p=>{d(p)},children:h.jsxs(_f,{className:"sm:max-w-[425px]",children:[h.jsxs(xf,{children:[h.jsx(Ef,{className:"text-2xl font-bold",children:"Rename Knowledge Base"}),h.jsx(Tf,{children:"Enter a new name for the knowledge base to update its name."})]}),h.jsxs("form",{onSubmit:a(u),className:"text-sm space-y-2",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx(hn,{htmlFor:"current-password",children:"Knowledge Base Name"}),h.jsx(sn,{placeholder:"Enter new knowledge base name",...i("newKnowledgeBaseName",{required:"Please enter a new Knowledge Base name",minLength:{value:4,message:"Knowledge base name must be atleast 4 characters"}})}),c&&l.newKnowledgeBaseName&&h.jsx("p",{className:"text-red-500",children:l.newKnowledgeBaseName.message})]}),h.jsx(Yy,{children:h.jsx(at,{type:"submit",className:"w-40",children:s?h.jsx(wl,{}):"Rename"})})]})]})})},jle=({onTabChange:t})=>{const e=_l(),n=Vi(),{handleFilterChange:r,filter:s}=sF(),i=Pt(C=>C.admin),o=un(C=>C.selectedKnowledgeBaseItem),a=un(C=>C.setSelectedKnowledgeBaseItem),l=un(C=>C.selectedKnowledgeBaseName),c=un(C=>C.setSelectedKnowledgeBaseName),u=un(C=>C.setSelectedKnowledgeEntry),d=Qr(C=>C.openModal),p=Qr(C=>C.setMode),g=ut(C=>C.clearFormData),w=Mi(C=>C.dialogs),v=Mi(C=>C.setDialogState),{data:x,isLoading:_}=wf({queryFn:()=>Toe(),queryKey:kd}),{mutateAsync:y}=Os({mutationFn:Roe,onSuccess:()=>{e.invalidateQueries({queryKey:kd}),n({title:`Knowledge Base ${o} deleted`,description:yt()})},onError:C=>{n({title:C==null?void 0:C.message,description:yt(),variant:"destructive"}),gt(C.message||"An Unexpected error occured while deleting knowledge base")}}),{mutateAsync:S,isPending:A}=Os({mutationFn:Aoe,onSuccess:C=>{e.invalidateQueries({queryKey:kd}),n({title:C,description:yt()})},onError:C=>{n({title:C==null?void 0:C.message,description:yt(),variant:"destructive"}),gt(C.message||"An Unexpected error occured while deleting knowledge base")}}),k=m.useMemo(()=>x==null?void 0:x.filter(C=>C.toLowerCase().includes(s.toLowerCase())),[x,s]),O=async()=>{if(!o)throw new Error("No knowledge base selected cannot delete");await y(o),a(""),l&&l===o&&(c(""),u(null))},I=async C=>{try{if(!o)throw new Error("No selected knowledge base");await S({knowledgeBaseName:o,newKnowledgeBaseName:C}),l&&l===o&&c(C)}catch(R){if(R instanceof Error){gt(R.message,!0);return}console.error("Am umexpected error occured: ",R)}},T=C=>{g(),p(C),d()};return _?h.jsx(rF,{}):x?h.jsxs(Ey,{value:"knowledgeBase",className:"mt-2",children:[h.jsxs("div",{className:"h-[450px] md:h-[600px] w-full px-4 pb-4 flex flex-col overflow-y-auto scrollbar-slim",children:[h.jsxs("div",{className:"flex mb-2 space-x-4 sticky top-0",children:[h.jsx(sn,{className:"flex-grow outline-none focus:outline-none",placeholder:"Search knowledge base...",onChange:C=>r(C.target.value)}),(i==null?void 0:i.role)!=="viewer"&&h.jsx(nF,{label:"Add Knowledge Base",onButtonClick:()=>T("BASE")})]}),h.jsx(mle,{knowledgeBaseNameList:k,handleTabChange:t})]}),w.showConfirmDeleteKnowledgeBaseDialog&&h.jsx(vS,{itemName:`${o} knowledge base?`,isOpen:w.showConfirmDeleteKnowledgeBaseDialog,setDialogState:C=>v("showConfirmDeleteKnowledgeBaseDialog",C),onDelete:O,message:e4.base}),w.showRenameKnowledgeBaseDialog&&h.jsx(Lle,{currentName:o,isOpen:w.showRenameKnowledgeBaseDialog,setDialogState:C=>v("showRenameKnowledgeBaseDialog",C),onRenameKnowledge:I,isLoading:A})]}):h.jsx(iS,{heading:"Empty Knowledge Base",description:"No knowledge base found"})},Vle=()=>{const t=pi(n=>n.currentSelectedKnowledgeTab),e=pi(n=>n.setCurrentSelectedKnowledgeTab);return h.jsxs(sj,{value:t,onValueChange:n=>e(n),className:"w-full p-0 border-neutral-200 bg-white border shadow-sm text-sm md:text-base rounded-md overflow-hidden box-border",children:[h.jsx(TZ,{tabs:xZ}),t==="knowledgeBase"&&h.jsx(jle,{onTabChange:e}),t==="knowledgeEntry"&&h.jsx(fle,{onTabChange:e}),t==="entryDetails"&&h.jsx(Boe,{})]})},di=ji((t,e)=>({currentStep:1,totalStep:3,nextStep:()=>{e().currentStep!==e().totalStep&&t(n=>({currentStep:n.currentStep+1}))},prevStep:()=>{e().currentStep!==1&&t(n=>({currentStep:n.currentStep-1}))},setTotalStep:n=>{if(n==="BASE")return t(()=>({totalStep:3}));t(()=>({totalStep:2}))},resetCurrentStep:()=>{t(()=>({currentStep:1}))}})),Fle=({progressData:t})=>{const e=di(s=>s.totalStep),n=di(s=>s.currentStep),r=(n-1)/(e-1)*100;return h.jsxs("div",{className:"mt-4 mb-8",children:[h.jsx("div",{className:"flex justify-between mb-2",children:[...Array(e)].map((s,i)=>h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${n>=i+1?"bg-lightGray text-htext":"bg-lightGray-darker text-muted-foreground"}`,children:i+1}),h.jsx("span",{className:"text-xs mt-1",children:t[i+1]})]},i))}),h.jsx("div",{className:"h-2 bg-muted rounded-full",children:h.jsx("div",{className:"h-full bg-blue-600 rounded-full transition-all duration-300 ease-in-out",style:{width:`${r}%`}})})]})},Od=({errorMessage:t})=>h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(CD,{className:"text-destructive size-5",strokeWidth:1.5}),h.jsx("div",{className:"text-destructive text-sm",children:t})]}),Ule=()=>{const{knowledgeBaseName:t}=ut(r=>r.formData),{knowledgeBaseName:e}=ut(r=>r.formDataErrors),n=ut(r=>r.setFormData);return h.jsx("div",{className:"space-y-1",children:h.jsxs(h.Fragment,{children:[h.jsx("label",{htmlFor:"knowledgeBaseName",className:"block text-sm font-medium",children:"Knowledge Base Name"}),h.jsx(sn,{name:"knowledgeBaseName",placeholder:"Enter knowledge base name",value:t,className:de(e&&"border-destructive"),onChange:r=>n(r.target.name,r.target.value)}),e&&h.jsx(Od,{errorMessage:e})]})})},vR=()=>{const{intent:t,documents:e,answer:n}=ut(A=>A.formData),{intent:r,documents:s,answer:i}=ut(A=>A.formDataErrors),o=ut(A=>A.setDocuments),a=ut(A=>A.removeDocument),l=ut(A=>A.setFormData),c=ut(A=>A.addDocument),u=un(A=>A.selectedKnowledgeBaseName),d=Qr(A=>A.modalMode),{file:p,isLinkDialogOpen:g,setIsLinkDialogOpen:w,handleFileChange:v,handleInsertLink:x,handleRemoveFile:_,fileInputRef:y,answerTextAreaRef:S}=VV(n);return m.useEffect(()=>{d==="ENTRY"&&l("knowledgeBaseName",u)},[]),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-1.5",children:[h.jsx(hn,{children:"Intent"}),h.jsx(sn,{placeholder:"Enter the intent",value:t,className:de(r&&"border-destructive"),onChange:A=>l("intent",A.target.value)}),r&&h.jsx(Od,{errorMessage:r})]}),h.jsxs("div",{className:"space-y-1.5",children:[h.jsx(hn,{children:"Documents"}),e.map((A,k)=>h.jsxs("div",{className:"flex",children:[h.jsx(sn,{placeholder:`Enter document ${k+1}`,className:de("rounded-none border-r-0",s&&"border-destructive"),value:A,onChange:O=>o(O.target.value,k)},k),h.jsx(er,{className:"rounded-none h-[40px] border-l-0",children:h.jsxs(at,{type:"button",variant:"ghost",size:"icon",onClick:()=>a(k),className:"hover:bg-transparent border-none",children:[h.jsx(Yh,{className:"h-4 w-4 text-gray-500 hover:text-gray-700"}),h.jsx("span",{className:"sr-only",children:"Remove document"})]})})]},k)),s&&h.jsx(Od,{errorMessage:s}),h.jsxs(at,{variant:"outline",onClick:c,className:"w-full",children:[h.jsx(Qh,{className:"mr-2 h-4 w-4"})," Add Document"]})]}),h.jsxs("div",{className:"space-y-1.5",children:[h.jsx(hn,{children:"Answer"}),h.jsx(Ej,{answer:n,handleTextChange:l,onFileChange:v,fileRef:y,textAreaRef:S,isError:!!i,isLinkDropDownVisible:g,setIsLinkDropDownVisible:w,onInsertLink:x}),i&&h.jsx(Od,{errorMessage:i})]}),p&&h.jsx(Tj,{file:p,removeFile:_})]})},Ble=({file:t})=>h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium",children:"File Details:"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:t.name})]}),wR=()=>{const{knowledgeBaseName:t,intent:e,documents:n,answer:r,file:s}=ut(i=>i.formData);return h.jsxs("div",{className:"space-y-4 break-words",children:[h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Review Your Entry"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium",children:"Knowledge Base Name:"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium",children:"Intent:"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:e})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium",children:"Documents:"}),h.jsx("ul",{className:"list-disc pl-5 text-sm text-muted-foreground",children:n.map((i,o)=>h.jsx("li",{children:i},o))})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium",children:"Answer:"}),h.jsx("p",{className:"text-sm text-muted-foreground line-clamp-4",children:r})]}),s&&h.jsx(Ble,{file:s})]})},$le=()=>{const t=di(r=>r.currentStep),e=Qr(r=>r.modalMode),n=()=>({1:{BASE:h.jsx(Ule,{}),ENTRY:h.jsx(vR,{})},2:{BASE:h.jsx(vR,{}),ENTRY:h.jsx(wR,{})},3:{BASE:h.jsx(wR,{})}})[t][e]||h.jsx(h.Fragment,{children:"No Modal Section"});return h.jsx(h.Fragment,{children:n()})},zle=()=>{const t=Vi(),e=_l(),n=Qr(l=>l.closeModal),[r,s]=m.useState(!1),{mutateAsync:i}=Os({mutationFn:l=>boe(l),onSuccess:()=>{e.invalidateQueries({queryKey:kd}),t({title:"Knowledge Base saved successfully.",description:yt()})},onError:l=>{t({title:l.message,description:yt(),variant:"destructive"})}}),{mutateAsync:o}=Os({mutationFn:l=>Ioe(l),onSuccess:()=>{e.invalidateQueries({queryKey:om}),t({title:"Knowledge Entry saved successfully.",description:yt()})},onError:l=>{t({title:l.message,description:yt(),variant:"destructive"})}});return{handleSubmitForm:async(l,c)=>{try{s(!0);let u=null;l.file&&(u=await im(l.file)),c==="BASE"?await i(u?{...l,fileUrl:u}:l):await o(u?{...l,fileUrl:u}:l)}catch(u){if(u instanceof Error){if(u.message.includes("E11000"))return;t({title:u.message,description:yt(),variant:"destructive"})}else console.error("Unknown error type:",u),t({title:"An unknown error occurred",description:yt(),variant:"destructive"})}finally{s(!1),n()}},isLoading:r}},Kle=(t,e)=>{const n={};return t===1&&(e.knowledgeBaseName.trim()||(n.knowledgeBaseName="Knowledge Base Name is required")),t===2&&(e.intent.trim()||(n.intent="Intent is required"),e.documents.some(s=>s.trim()==="")&&(n.documents="Document is required"),e.answer.trim()||(n.answer="Answer is required")),{isValid:Object.keys(n).length===0,errors:n}},Wle=()=>{const{handleSubmitForm:t,isLoading:e}=zle(),n=Qr(u=>u.modalMode),r=ut(u=>u.formData),s=di(u=>u.currentStep),i=di(u=>u.totalStep),o=di(u=>u.nextStep),a=di(u=>u.prevStep),l=ut(u=>u.setFormDataErrors),c=()=>{const{isValid:u,errors:d}=Kle(n==="BASE"?s:s+1,r);if(!u){l(d);return}l({}),o()};return h.jsxs("div",{className:"flex justify-between items-center mt-6",children:[h.jsx("div",{}),h.jsxs("div",{className:"flex ",children:[s>1&&h.jsxs(at,{variant:"outline",onClick:a,className:"mr-2",children:[h.jsx(NW,{className:"mr-2 h-4 w-4"})," Back"]}),s<i?h.jsxs(at,{onClick:c,children:["Next ",h.jsx(wD,{className:"ml-2 h-4 w-4"})]}):h.jsx(at,{className:"w-52",onClick:async()=>{t(r,n)},children:e?h.jsx(wl,{}):"Save Knowledge Base"})]})]})},Hle=()=>{const t=ut(a=>a.clearFormData),e=Qr(a=>a.isModalVisible),n=Qr(a=>a.modalMode),r=Qr(a=>a.closeModal),s=di(a=>a.setTotalStep),i=di(a=>a.resetCurrentStep),o=n==="BASE"?dle:hle;return m.useEffect(()=>(s(n),()=>{t(),i()}),[s]),h.jsx(Qy,{open:e,onOpenChange:r,children:h.jsxs(_f,{className:"sm:max-w-[550px] ",children:[h.jsxs(xf,{children:[h.jsx(Ef,{className:"text-2xl font-bold",children:"Create New Knowledge Base"}),h.jsx(Tf,{children:"Fill in the details to create a new knowledge base."})]}),h.jsx(Fle,{progressData:o}),h.jsx(er,{children:h.jsx(pr,{className:"pt-6 max-h-[30rem] max-w-[498px] overflow-y-scroll",children:h.jsx($le,{})})}),h.jsx(Wle,{})]})})},qle=()=>{const t=Qr(e=>e.isModalVisible);return h.jsxs("div",{className:"flex items-center flex-col w-[84rem] px-20 space-y-6 pb-8",children:[h.jsx(pZ,{}),h.jsx(Vle,{}),t&&h.jsx(Hle,{})]})},mt=ji(t=>({botName:"",errors:{botName:""},interactionIcon:null,interactionIconPreview:"",widgetIcon:null,widgetIconPreview:"",metadata:[],setBotName:e=>{t(()=>({botName:e}))},setErrors:(e,n)=>{t(r=>({errors:{...r.errors,[e]:n}}))},setInteractionIcon:e=>{t(()=>({interactionIcon:e}))},setInteractionIconPreview:e=>{t(()=>({interactionIconPreview:e}))},setWidgetIcon:e=>{t(()=>({widgetIcon:e}))},setWidgetIconPreview:e=>{t(()=>({widgetIconPreview:e}))},setMetadata:e=>{t(()=>({metadata:e}))}})),Gle=({inputRef:t})=>{const e=Pt(a=>a.admin),n=mt(a=>a.botName),r=mt(a=>a.setBotName),s=mt(a=>a.errors),i=mt(a=>a.setErrors),o=a=>{r(a),a?i("botName",""):i("botName","Bot name field is required")};return h.jsxs("section",{className:"space-y-2",children:[h.jsx(hn,{htmlFor:"botName",className:"text-base font-medium",children:"Bot Name"}),h.jsx(sn,{id:"botName",ref:t,type:"text",value:n,onChange:a=>o(a.target.value),className:de("w-full",s.botName&&"border-destructive"),readOnly:(e==null?void 0:e.role)==="viewer"}),s.botName&&h.jsx(Od,{errorMessage:s.botName})]})},Qle=()=>{const t=Vi();return{handleIconChange:(r,s,i,o,a=0)=>{if(r.target.files&&r.target.files[0]){const l=r.target.files[0];if(!o.includes(l.type)){const u=o.map(d=>d.split("/")[1]);t({title:`Only the following file formats are supported: ${u.join(", ")}.`,description:yt(),variant:"destructive"}),r.target.value="";return}if(a>0&&l.size>a){const u=a/1048576;t({title:`File size exceeds the maximum limit of ${u.toFixed(0)} MB.`,description:yt(),variant:"destructive"}),r.target.value="";return}s(l);const c=new FileReader;c.onload=u=>{var d;i((d=u.target)==null?void 0:d.result)},c.readAsDataURL(l)}},handleRemoveIcon:(r,s,i)=>{s(null),i(null),r.current&&(r.current.value="")}}},hs="https://firebasestorage.googleapis.com/v0/b/cob-chatbot.appspot.com/o/image%2Fdefault-icon.png?alt=media&token=7d708bba-dcf2-47a0-b81b-3ac8d0e02648",Yle=async(t,e,n,r=[])=>{try{const s=mt.getState().interactionIconPreview,i=mt.getState().widgetIconPreview,o=mt.getState().setInteractionIcon,a=mt.getState().setWidgetIcon,l=r.reduce((d,p)=>({...d,[p.key]:p.value}),{}),c={botName:n,metadata:l,interactionIconURL:s??hs,widgetIconUrl:i??hs};t&&(c.interactionIconURL=await A_(t,X1,"interaction-icon")??hs,o(null)),e&&(console.time("Upload Time"),c.widgetIconUrl=await A_(e,X1,"widget-icon")??hs,a(null),console.timeEnd("Upload Time")),await voe("profile","botProfile",c,!1),gt("Upload bot profile success")}catch(s){console.error(s)}},g4=({iconRef:t,setIcon:e,setIconPreview:n,iconPreview:r,acceptedFormat:s,maxIconSize:i=0})=>{const o=s.split(",").map(c=>`image/${c.slice(1)}`),{handleIconChange:a,handleRemoveIcon:l}=Qle();return h.jsxs("div",{className:"flex items-center ",children:[h.jsx(sn,{id:"widget-icon-upload",type:"file",className:"hidden",ref:t,accept:s,onChange:c=>a(c,e,n,o,i)}),h.jsx(at,{type:"button",variant:"outline",size:"sm",onClick:()=>{var c;return(c=t.current)==null?void 0:c.click()},children:r&&r!==hs?h.jsxs("span",{className:"flex items-center text-sm gap-2",children:[h.jsx(cC,{className:"size-5"}),"Change Icon"]}):h.jsxs("span",{className:"flex items-center text-sm gap-2",children:[h.jsx(cC,{className:"size-5"}),"Upload Icon"]})}),r&&r!==hs&&h.jsx(at,{type:"button",variant:"ghost",size:"sm",className:"ml-2",onClick:()=>l(t,e,n),children:"Remove"})]})},y4=2*1024*1024,Xle=y4/(1024*1024),Jle=()=>{const t=mt(i=>i.setInteractionIcon),e=mt(i=>i.setInteractionIconPreview),n=mt(i=>i.interactionIconPreview),r=m.useRef(null),s=Pt(i=>i.admin);return h.jsxs("section",{className:"space-y-2",children:[h.jsx(hn,{htmlFor:"botName",className:"text-base font-medium",children:"Interaction Icon"}),h.jsxs("div",{className:"mt-1 flex items-center h-[4rem] space-x-4",children:[h.jsxs("div",{className:"size-[70px] rounded-full bg-gray-100 flex items-center justify-center overflow-hidden",children:[n&&h.jsx("img",{src:n,className:"size-full object-cover rounded-full"}),!n&&h.jsx("img",{src:hs,className:"size-full object-cover rounded-full"})]}),(s==null?void 0:s.role)!=="viewer"&&h.jsxs("div",{className:"space-y-2",children:[h.jsx(g4,{iconRef:r,setIcon:t,setIconPreview:e,iconPreview:n,acceptedFormat:".png,.jpeg",maxIconSize:y4}),h.jsx("p",{className:"text-sm text-muted-foreground",children:`PNG or JPG only. Max file size: ${Xle.toFixed(0)} MB.`})]})]})]})},v4=6*1024*1024,Zle=v4/(1024*1024),ece=()=>{const t=mt(i=>i.setWidgetIcon),e=mt(i=>i.widgetIconPreview),n=mt(i=>i.setWidgetIconPreview),r=m.useRef(null),s=Pt(i=>i.admin);return h.jsxs("section",{className:"space-y-2",children:[h.jsx(hn,{htmlFor:"botName",className:"text-base font-medium",children:"Widget Icon"}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("div",{className:"size-[70px] rounded-full bg-gray-100 flex items-center justify-center overflow-hidden",children:[e&&h.jsx("img",{src:e,className:"size-full object-cover rounded-full"}),!e&&h.jsx("img",{src:hs,className:"size-full object-cover rounded-full"})]}),(s==null?void 0:s.role)!=="viewer"&&h.jsxs("div",{className:"space-y-2",children:[h.jsx(g4,{iconRef:r,setIcon:t,setIconPreview:n,iconPreview:e,acceptedFormat:".png,.jpg,.gif",maxIconSize:v4}),h.jsx("p",{className:"text-sm text-muted-foreground",children:`PNG, JPEG OR GIF only. Max file size: ${Zle.toFixed(0)} MB.`})]})]})]})},tce=({botNameInputRef:t})=>h.jsxs("form",{className:"space-y-4",children:[h.jsx(Gle,{inputRef:t}),h.jsx(Jle,{}),h.jsx(ece,{})]}),nce=({handleCloseChatbox:t})=>{const e=mt(r=>r.botName),n=mt(r=>r.interactionIconPreview);return h.jsx("section",{children:h.jsxs("div",{className:"bg-white h-[24rem] rounded-lg shadow-lg p-4 max-w-sm mx-auto flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[n?h.jsx("img",{src:n,alt:"interaction-icon-preview",className:"w-11 h-11 object-cover rounded-full"}):h.jsx("img",{src:hs,alt:"interaction-icon-preview",className:"w-11 h-11 object-cover rounded-full"}),h.jsx("span",{className:"text-sm font-medium text-gray-700",children:e||"Chatbot"})]}),h.jsx("div",{className:"cursor-pointer hover:scale-110 transition-transform",onClick:t,children:h.jsx(Yg,{className:"w-5 h-5 text-gray-500"})})]}),h.jsx("div",{className:"flex-1"}),h.jsx("div",{className:" rounded-lg py-3 mb-4",children:h.jsxs("div",{className:"flex items-center",children:[n?h.jsx("img",{src:n,alt:"interaction-icon-preview",className:"w-10 h-10 object-cover rounded-full"}):h.jsx("img",{src:hs,alt:"interaction-icon-preview",className:"w-10 h-10 object-cover rounded-full"}),h.jsx("p",{className:"ml-2 text-sm text-gray-700 bg-gray-100 p-2.5 rounded-xl",children:"Hi! What can I help you with?"})]})}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{disabled:!0,type:"text",placeholder:"Message...",className:"flex-grow h-10 px-3 py-2 text-sm border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),h.jsx("div",{className:"h-10 px-3 py-2 bg-blue-500 text-white rounded-r-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 flex items-center justify-center",children:h.jsx(SD,{className:"w-5 h-5"})})]})]})})},rce=()=>{const[t,e]=m.useState(!1),n=mt(r=>r.widgetIconPreview);return h.jsx("section",{children:h.jsx("div",{className:"border h-[28rem] border-gray-300 rounded-lg p-4 bg-gray-50 mb-2",style:{backgroundImage:"radial-gradient(#d1d5db 1px, transparent 1px)",backgroundSize:"20px 20px"},children:h.jsx("div",{className:"h-full flex justify-end items-end",children:t?h.jsx(nce,{handleCloseChatbox:()=>e(!1)}):h.jsx("div",{className:"size-[14rem] flex items-center justify-center",onClick:()=>e(!0),children:n?h.jsx("img",{src:n,alt:"Widget icon preview",className:"cursor-pointer"}):h.jsx("img",{src:hs,alt:"Widget icon preview",className:"cursor-pointer"})})})})})},sce=()=>{const t=mt(o=>o.metadata),e=mt(o=>o.setMetadata),n=Pt(o=>o.admin),r=()=>{const o={id:Date.now().toString(),key:"",value:""};e([...t,o])},s=(o,a,l)=>{const c=t.map(u=>u.id===o?{...u,[a]:l}:u);e(c)},i=o=>{const a=t.filter((l,c)=>c!==o);e(a)};return h.jsxs("div",{className:"space-y-4",children:[t.map((o,a)=>h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(sn,{placeholder:"Key",value:o.key,onChange:l=>s(o.id,"key",l.target.value),className:"flex-1",readOnly:(n==null?void 0:n.role)==="viewer"}),h.jsx(sn,{placeholder:"Value",value:o.value,onChange:l=>s(o.id,"value",l.target.value),className:"flex-1",readOnly:(n==null?void 0:n.role)==="viewer"}),(n==null?void 0:n.role)!=="viewer"&&h.jsx(at,{type:"button",variant:"ghost",size:"icon",className:"hover:text-red-600",onClick:()=>i(a),children:h.jsx(Yh,{className:"size-5 transition-transform ease-in"})})]},a)),(n==null?void 0:n.role)!=="viewer"&&h.jsxs(at,{type:"button",variant:"outline",size:"sm",onClick:r,className:"mt-2",children:[h.jsx(Qh,{className:"size-5 mr-2"}),"Add Field"]})]})},ice=async()=>await woe("profile","botProfile"),oce=()=>{const t=Vi(),e=mt(x=>x.interactionIcon),n=mt(x=>x.setInteractionIconPreview),r=mt(x=>x.widgetIcon),s=mt(x=>x.setWidgetIconPreview),i=mt(x=>x.botName),o=mt(x=>x.setBotName),a=mt(x=>x.setErrors),l=mt(x=>x.metadata),c=mt(x=>x.setMetadata),[u,d]=m.useState(!1),[p,g]=m.useState(!0),w=m.useRef(null);return m.useEffect(()=>((async()=>{g(!0);const _=await ice();if(!_)return;o(_.botName),n(_.interactionIconURL),s(_.widgetIconUrl);const y=gG(_.metadata);c(y),g(!1)})(),()=>{a("botName","")}),[]),{isLoading:u,handleSubmitForm:async()=>{var _;if(!i.trim()){a("botName","Bot name field is required"),(_=w.current)==null||_.scrollIntoView({behavior:"smooth",block:"center"});return}try{d(!0),await Yle(e,r,i,l),d(!1),t({title:"Bot profile has been successfully updated",description:yt()})}catch(y){y instanceof Error&&t({title:y.message,description:yt(),variant:"destructive"}),console.error("Unexpected error occured ",y)}},isPageLoading:p,botNameInputRef:w}},ace=()=>h.jsxs("section",{className:"flex-1 flex-col space-y-4 pb-8",children:[h.jsxs(er,{children:[h.jsxs(qr,{children:[h.jsx(Gr,{children:"Bot Profile"}),h.jsx(oa,{children:"View and update bot's profile details and icons."})]}),h.jsx(pr,{children:h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx(Ae,{className:"h-4 w-16"}),h.jsx(Ae,{className:"h-10 w-full mb-3"}),h.jsx(Ae,{className:"h-4 w-24"}),h.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[h.jsx(Ae,{className:"size-[64px] rounded-full"}),h.jsx(Ae,{className:"h-9 w-36"}),h.jsx(Ae,{className:"h-9 w-36"})]}),h.jsx(Ae,{className:"h-4 w-24"}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx(Ae,{className:"size-[64px] rounded-full"}),h.jsx(Ae,{className:"h-9 w-36"}),h.jsx(Ae,{className:"h-9 w-36"})]})]})})]}),h.jsxs(er,{children:[h.jsx(qr,{children:h.jsx(Gr,{children:"Additional Information"})}),h.jsxs(pr,{children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[h.jsx(Ae,{className:"flex-1 h-10"}),h.jsx(Ae,{className:"flex-1 h-10"}),h.jsx(Ae,{className:"w-10 h-10"})]}),h.jsx(Ae,{className:"h-9 w-36"})]})]}),h.jsxs(er,{children:[h.jsx(qr,{children:h.jsx(Gr,{children:"Preview"})}),h.jsx(pr,{children:h.jsx(Ae,{className:"h-[28rem] w-full mb-2"})})]}),h.jsx(Ae,{className:"bg-blue-200 h-10 w-full"})]}),lce=()=>{const{isLoading:t,handleSubmitForm:e,isPageLoading:n,botNameInputRef:r}=oce(),s=Pt(i=>i.admin);return n?h.jsx(ace,{}):h.jsxs("section",{className:"flex-1 flex-col space-y-4 pb-8 relative",children:[h.jsxs(er,{children:[h.jsxs(qr,{children:[h.jsx(Gr,{children:"Bot Profile"}),h.jsx(oa,{children:"View and update bot's profile details and icons."})]}),h.jsx(pr,{children:h.jsx(tce,{botNameInputRef:r})})]}),h.jsxs(er,{children:[h.jsx(qr,{children:h.jsx(Gr,{children:"Additional Information"})}),h.jsx(pr,{children:h.jsx(sce,{})})]}),h.jsxs(er,{children:[h.jsx(qr,{children:h.jsx(Gr,{children:"Preview"})}),h.jsx(pr,{children:h.jsx(rce,{})})]}),(s==null?void 0:s.role)!=="viewer"&&h.jsx("footer",{className:"mt-4",children:h.jsx(at,{className:"w-full",disabled:t,onClick:e,children:t?h.jsx(wl,{}):"Save changes"})})]})},cce=[{id:"team",icon:h.jsx(HW,{}),label:"Team",comingSoon:!1},{id:"botProfile",icon:h.jsx(RW,{}),label:"Bot Profile",comingSoon:!1},{id:"botModel",icon:h.jsx(CW,{}),label:"Bot Model",comingSoon:!1}],uce=({onTabChange:t,activeTab:e})=>h.jsx("nav",{className:"w-[14rem] px-2 space-y-2 text-htext font-medium",children:cce.map(n=>h.jsxs("div",{className:"relative group",children:[h.jsxs("li",{className:de("flex items-center gap-3 py-3 px-2  cursor-pointer rounded-md transition-colors hover:text-opacity-80",e===n.id?"bg-blue-500 text-white":"hover:bg-slate-100 text-opacity-100"),onClick:()=>t(n.id),children:[n.icon," ",n.label]}),n.comingSoon&&h.jsx(uy,{variant:"secondary",className:"absolute -top-2 right-0 text-[10px] font-normal px-1 py-0.5 bg-blue-100 text-blue-800 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Coming Soon"})]},n.id))});var dce="Separator",_R="horizontal",hce=["horizontal","vertical"],w4=m.forwardRef((t,e)=>{const{decorative:n,orientation:r=_R,...s}=t,i=fce(r)?r:_R,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return h.jsx(_e.div,{"data-orientation":i,...a,...s,ref:e})});w4.displayName=dce;function fce(t){return hce.includes(t)}var _4=w4;const x4=m.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>h.jsx(_4,{ref:s,decorative:n,orientation:e,className:de("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));x4.displayName=_4.displayName;const pce=(t,e,n)=>_oe(t,e,n),mce=()=>{const t=Pt(u=>u.admin),[e,n]=m.useState(!1),[r,s]=m.useState(null),[i,o]=m.useState(null),a=Vi(),l=async()=>{n(!0),await SG(),n(!1),a({title:"Model Training Complete",description:"Your AI model is fully trained and ready for use. You can now run queries with the latest data."})},c=u=>{const p=[{min:5,label:"(Excellent)"},{min:4,label:"(Good)"},{min:3,label:"(Decent)"},{min:0,label:"(Poor)"}].find(g=>u>=g.min);return p?p.label:"(Unknown)"};return m.useEffect(()=>{const u=async()=>{const p=await xoe();s(p)},d=pce("profile","model",p=>{const{timeFinishedTraining:g}=p;o(g)});return u(),()=>d()},[]),h.jsxs("section",{className:"flex-1 flex-col space-y-4",children:[h.jsxs(er,{children:[h.jsxs(qr,{children:[h.jsx(Gr,{children:"Bot Model"}),h.jsx(oa,{children:(t==null?void 0:t.role)!=="viewer"?"View current model status and initialize training process.":"View current model status."})]}),h.jsxs(pr,{children:[h.jsxs("section",{className:"flex items-center",children:[h.jsxs("div",{className:"w-[15rem]",children:[h.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Version"}),h.jsx("p",{className:"font-bold text-xl",children:"v1.0.0"})]}),h.jsxs("div",{className:"",children:[h.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Trained"}),h.jsx("p",{className:"font-bold text-xl",children:i||h.jsx(Ae,{className:"w-48 h-6"})})]})]}),h.jsx(x4,{className:"my-4"}),h.jsxs("div",{className:"flex ",children:[h.jsxs("div",{className:"flex space-x-2 w-[15rem]",children:[h.jsx(bD,{fill:"yellow",className:"text-yellow-300"})," ",h.jsx("p",{children:"Average Rating"})]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx("p",{className:"text-green-400 font-bold text-xl",children:r??h.jsx(Ae,{className:"h-7 w-11"})}),h.jsx("p",{className:"text-muted-foreground text-xs space-x-1",children:r?c(Number(r)):h.jsx(Ae,{className:"h-4 w-14"})})]})]})]})]}),h.jsx("footer",{className:"mt-4 pb-4",children:(t==null?void 0:t.role)!=="viewer"&&h.jsx(at,{className:"w-full",disabled:e,onClick:l,children:e?h.jsx(wl,{}):h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(PW,{size:20})," Train Model"]})})})]})},Ip="672ca434f2191d3bb7606f0d",gce=({id:t,adminRole:e,onDeleteAction:n,onResetPasswordAction:r,onUpdateRoleAction:s})=>h.jsxs(nf,{modal:!1,children:[h.jsx(rf,{asChild:!0,children:h.jsx(at,{variant:"ghost",className:" hover:bg-gray-100 size-8 p-1 group",children:h.jsx(aE,{className:"text-zinc-400 size-5 group-hover:text-zinc-600 transition-colors"})})}),h.jsxs(du,{align:"end",className:"w-auto bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[e!=="editor"||t!==Ip&&h.jsx(Ds,{className:"flex items-center p-2 hover:bg-zinc-100",onClick:async()=>{await s("editor")},children:"Set as Editor"}),e!=="viewer"||t!==Ip&&h.jsx(Ds,{className:"flex items-center p-2 hover:bg-zinc-100",onClick:async()=>{await s("viewer")},children:"Set as Viewer"}),t!==Ip&&h.jsx(DE,{}),h.jsxs(Ds,{className:"flex items-center p-2 hover:bg-zinc-100",onClick:()=>{r()},children:[h.jsx(FW,{className:"mr-2 h-4 w-4"}),"Reset Password"]}),t!==Ip&&h.jsxs(Ds,{className:"flex items-center p-2 hover:bg-zinc-100 text-red-600",onClick:()=>{n()},children:[h.jsx(ID,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]}),E4=ji(t=>({adminId:null,setAdminId:e=>t({adminId:e})})),yce=({adminInfo:t,onUpdateRole:e})=>{const n=Pt(d=>d.admin),{email:r,role:s,_id:i}=t,o=E4(d=>d.setAdminId),a=Mi(d=>d.openDialog),l=()=>{o(i),a("showConfirmDeleteDialog")},c=()=>{o(i),a("showResetPasswordDialog")},u=d=>{const p=new Date(d),w=new Date().getTime()-p.getTime(),v=Math.floor(w/(1e3*60)),x=Math.floor(v/60),_=Math.floor(x/24);return _>0?`${_}d`:x>0?`${x}h`:`${v}m`};return h.jsxs("section",{className:"flex items-center w-full py-2 font-medium text-sm",children:[h.jsx("div",{className:"flex-1 text-zinc-700 truncate",title:r,children:r}),h.jsx("div",{className:"w-[12rem] text-zinc-500",children:t!=null&&t.lastLoginAt?u(t.lastLoginAt):"Never Logged In"}),h.jsx("div",{className:"w-[12rem]",children:h.jsx(uy,{className:de("flex w-16 items-center justify-center pointer-events-none select-none",s==="admin"&&"bg-red-200 text-red-800",s==="editor"&&"bg-blue-200 text-blue-800",s==="viewer"&&"bg-green-200 text-green-800"),children:ME(s)})}),h.jsx("div",{className:`w-[10rem] ${(n==null?void 0:n.role)==="viewer"&&"py-3"} ${(n==null?void 0:n.role)==="editor"&&"py-3"}`,children:(n==null?void 0:n.role)!=="viewer"&&(n==null?void 0:n.role)!=="editor"&&h.jsx(gce,{id:i,adminRole:s,onDeleteAction:l,onResetPasswordAction:c,onUpdateRoleAction:async d=>await e(d,i)})})]})},Ld=({id:t,field:e,placeholderText:n,register:r,message:s,isError:i,validate:o})=>{const[a,l]=m.useState(!1);return h.jsxs("div",{className:"relative",children:[h.jsx(sn,{id:t??void 0,className:de(i&&"border-destructive"),type:a?"text":"password",placeholder:n,...r(e,{required:s,minLength:{value:9,message:"Password must be atleast 9 characters"},validate:o})}),h.jsx(at,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(c=>!c),"aria-label":a?"Hide password":"Show password",children:a?h.jsx(xD,{className:"h-4 w-4 text-gray-500"}):h.jsx(lE,{className:"h-4 w-4 text-gray-500"})})]})};function xR(t,[e,n]){return Math.min(n,Math.max(e,t))}function vce(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var _;const{scope:p,children:g,...w}=d,v=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,x=m.useMemo(()=>w,Object.values(w));return h.jsx(v.Provider,{value:x,children:g})};c.displayName=i+"Provider";function u(d,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,wce(s,...e)]}function wce(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var _ce="DismissableLayer",z_="dismissableLayer.update",xce="dismissableLayer.pointerDownOutside",Ece="dismissableLayer.focusOutside",ER,T4=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),S4=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(T4),[u,d]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=Oe(e,I=>d(I)),v=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(x),y=u?v.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,A=y>=_,k=bce(I=>{const T=I.target,C=[...c.branches].some(R=>R.contains(T));!A||C||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},p),O=Ice(I=>{const T=I.target;[...c.branches].some(R=>R.contains(T))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},p);return Xh(I=>{y===c.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(ER=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),TR(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=ER)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),TR())},[u,c]),m.useEffect(()=>{const I=()=>g({});return document.addEventListener(z_,I),()=>document.removeEventListener(z_,I)},[]),h.jsx(_e.div,{...l,ref:w,style:{pointerEvents:S?A?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,k.onPointerDownCapture)})});S4.displayName=_ce;var Tce="DismissableLayerBranch",Sce=m.forwardRef((t,e)=>{const n=m.useContext(T4),r=m.useRef(null),s=Oe(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),h.jsx(_e.div,{...t,ref:s})});Sce.displayName=Tce;function bce(t,e=globalThis==null?void 0:globalThis.document){const n=Mt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){b4(xce,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Ice(t,e=globalThis==null?void 0:globalThis.document){const n=Mt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&b4(Ece,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function TR(){const t=new CustomEvent(z_);document.dispatchEvent(t)}function b4(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?fl(s,i):s.dispatchEvent(i)}var Cce="Portal",I4=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Nt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Bh.createPortal(h.jsx(_e.div,{...r,ref:e}),o):null});I4.displayName=Cce;function Ace(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Rce=[" ","Enter","ArrowUp","ArrowDown"],Pce=[" ","Enter"],bf="Select",[Jy,Zy,Nce]=Jg(bf),[_u,$de]=vce(bf,[Nce,cu]),ev=cu(),[kce,aa]=_u(bf),[Dce,Mce]=_u(bf),C4=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:p,required:g,form:w}=t,v=ev(e),[x,_]=m.useState(null),[y,S]=m.useState(null),[A,k]=m.useState(!1),O=Zg(c),[I=!1,T]=Uo({prop:r,defaultProp:s,onChange:i}),[C,R]=Uo({prop:o,defaultProp:a,onChange:l}),M=m.useRef(null),D=x?w||!!x.closest("form"):!0,[N,H]=m.useState(new Set),ae=Array.from(N).map(te=>te.props.value).join(";");return h.jsx(wE,{...v,children:h.jsxs(kce,{required:g,scope:e,trigger:x,onTriggerChange:_,valueNode:y,onValueNodeChange:S,valueNodeHasChildren:A,onValueNodeHasChildrenChange:k,contentId:ms(),value:C,onValueChange:R,open:I,onOpenChange:T,dir:O,triggerPointerDownPosRef:M,disabled:p,children:[h.jsx(Jy.Provider,{scope:e,children:h.jsx(Dce,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(te=>{H(ne=>new Set(ne).add(te))},[]),onNativeOptionRemove:m.useCallback(te=>{H(ne=>{const z=new Set(ne);return z.delete(te),z})},[]),children:n})}),D?h.jsxs(Z4,{"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:d,value:C,onChange:te=>R(te.target.value),disabled:p,form:w,children:[C===void 0?h.jsx("option",{value:""}):null,Array.from(N)]},ae):null]})})};C4.displayName=bf;var A4="SelectTrigger",R4=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=ev(n),o=aa(A4,n),a=o.disabled||r,l=Oe(e,o.onTriggerChange),c=Zy(n),u=m.useRef("touch"),[d,p,g]=eU(v=>{const x=c().filter(S=>!S.disabled),_=x.find(S=>S.value===o.value),y=tU(x,v,_);y!==void 0&&o.onValueChange(y.value)}),w=v=>{a||(o.onOpenChange(!0),g()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return h.jsx(_E,{asChild:!0,...i,children:h.jsx(_e.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":J4(o.value)?"":void 0,...s,ref:l,onClick:ee(s.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&w(v)}),onPointerDown:ee(s.onPointerDown,v=>{u.current=v.pointerType;const x=v.target;x.hasPointerCapture(v.pointerId)&&x.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:ee(s.onKeyDown,v=>{const x=d.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&p(v.key),!(x&&v.key===" ")&&Rce.includes(v.key)&&(w(),v.preventDefault())})})})});R4.displayName=A4;var P4="SelectValue",N4=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=aa(P4,n),{onValueNodeHasChildrenChange:c}=l,u=i!==void 0,d=Oe(e,l.onValueNodeChange);return Nt(()=>{c(u)},[c,u]),h.jsx(_e.span,{...a,ref:d,style:{pointerEvents:"none"},children:J4(l.value)?h.jsx(h.Fragment,{children:o}):i})});N4.displayName=P4;var Oce="SelectIcon",k4=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return h.jsx(_e.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});k4.displayName=Oce;var Lce="SelectPortal",D4=t=>h.jsx(I4,{asChild:!0,...t});D4.displayName=Lce;var ll="SelectContent",M4=m.forwardRef((t,e)=>{const n=aa(ll,t.__scopeSelect),[r,s]=m.useState();if(Nt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Li.createPortal(h.jsx(O4,{scope:t.__scopeSelect,children:h.jsx(Jy.Slot,{scope:t.__scopeSelect,children:h.jsx("div",{children:t.children})})}),i):null}return h.jsx(L4,{...t,ref:e})});M4.displayName=ll;var rs=10,[O4,la]=_u(ll),jce="SelectContentImpl",L4=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:g,sticky:w,hideWhenDetached:v,avoidCollisions:x,..._}=t,y=aa(ll,n),[S,A]=m.useState(null),[k,O]=m.useState(null),I=Oe(e,ce=>A(ce)),[T,C]=m.useState(null),[R,M]=m.useState(null),D=Zy(n),[N,H]=m.useState(!1),ae=m.useRef(!1);m.useEffect(()=>{if(S)return TE(S)},[S]),uE();const te=m.useCallback(ce=>{const[Ve,...rt]=D().map(Qe=>Qe.ref.current),[Fe]=rt.slice(-1),ze=document.activeElement;for(const Qe of ce)if(Qe===ze||(Qe==null||Qe.scrollIntoView({block:"nearest"}),Qe===Ve&&k&&(k.scrollTop=0),Qe===Fe&&k&&(k.scrollTop=k.scrollHeight),Qe==null||Qe.focus(),document.activeElement!==ze))return},[D,k]),ne=m.useCallback(()=>te([T,S]),[te,T,S]);m.useEffect(()=>{N&&ne()},[N,ne]);const{onOpenChange:z,triggerPointerDownPosRef:B}=y;m.useEffect(()=>{if(S){let ce={x:0,y:0};const Ve=Fe=>{var ze,Qe;ce={x:Math.abs(Math.round(Fe.pageX)-(((ze=B.current)==null?void 0:ze.x)??0)),y:Math.abs(Math.round(Fe.pageY)-(((Qe=B.current)==null?void 0:Qe.y)??0))}},rt=Fe=>{ce.x<=10&&ce.y<=10?Fe.preventDefault():S.contains(Fe.target)||z(!1),document.removeEventListener("pointermove",Ve),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",Ve),document.addEventListener("pointerup",rt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ve),document.removeEventListener("pointerup",rt,{capture:!0})}}},[S,z,B]),m.useEffect(()=>{const ce=()=>z(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[z]);const[Z,pe]=eU(ce=>{const Ve=D().filter(ze=>!ze.disabled),rt=Ve.find(ze=>ze.ref.current===document.activeElement),Fe=tU(Ve,ce,rt);Fe&&setTimeout(()=>Fe.ref.current.focus())}),Te=m.useCallback((ce,Ve,rt)=>{const Fe=!ae.current&&!rt;(y.value!==void 0&&y.value===Ve||Fe)&&(C(ce),Fe&&(ae.current=!0))},[y.value]),Re=m.useCallback(()=>S==null?void 0:S.focus(),[S]),Je=m.useCallback((ce,Ve,rt)=>{const Fe=!ae.current&&!rt;(y.value!==void 0&&y.value===Ve||Fe)&&M(ce)},[y.value]),wt=r==="popper"?K_:j4,qe=wt===K_?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:g,sticky:w,hideWhenDetached:v,avoidCollisions:x}:{};return h.jsx(O4,{scope:n,content:S,viewport:k,onViewportChange:O,itemRefCallback:Te,selectedItem:T,onItemLeave:Re,itemTextRefCallback:Je,focusSelectedItem:ne,selectedItemText:R,position:r,isPositioned:N,searchRef:Z,children:h.jsx(ay,{as:Bo,allowPinchZoom:!0,children:h.jsx(ey,{asChild:!0,trapped:y.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:ee(s,ce=>{var Ve;(Ve=y.trigger)==null||Ve.focus({preventScroll:!0}),ce.preventDefault()}),children:h.jsx(S4,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:h.jsx(wt,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ce=>ce.preventDefault(),..._,...qe,onPlaced:()=>H(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:ee(_.onKeyDown,ce=>{const Ve=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!Ve&&ce.key.length===1&&pe(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let Fe=D().filter(ze=>!ze.disabled).map(ze=>ze.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(Fe=Fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const ze=ce.target,Qe=Fe.indexOf(ze);Fe=Fe.slice(Qe+1)}setTimeout(()=>te(Fe)),ce.preventDefault()}})})})})})})});L4.displayName=jce;var Vce="SelectItemAlignedPosition",j4=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=aa(ll,n),o=la(ll,n),[a,l]=m.useState(null),[c,u]=m.useState(null),d=Oe(e,I=>u(I)),p=Zy(n),g=m.useRef(!1),w=m.useRef(!0),{viewport:v,selectedItem:x,selectedItemText:_,focusSelectedItem:y}=o,S=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&v&&x&&_){const I=i.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),R=_.getBoundingClientRect();if(i.dir!=="rtl"){const ze=R.left-T.left,Qe=C.left-ze,Bt=I.left-Qe,st=I.width+Bt,yn=Math.max(st,T.width),Dr=window.innerWidth-rs,xs=xR(Qe,[rs,Math.max(rs,Dr-yn)]);a.style.minWidth=st+"px",a.style.left=xs+"px"}else{const ze=T.right-R.right,Qe=window.innerWidth-C.right-ze,Bt=window.innerWidth-I.right-Qe,st=I.width+Bt,yn=Math.max(st,T.width),Dr=window.innerWidth-rs,xs=xR(Qe,[rs,Math.max(rs,Dr-yn)]);a.style.minWidth=st+"px",a.style.right=xs+"px"}const M=p(),D=window.innerHeight-rs*2,N=v.scrollHeight,H=window.getComputedStyle(c),ae=parseInt(H.borderTopWidth,10),te=parseInt(H.paddingTop,10),ne=parseInt(H.borderBottomWidth,10),z=parseInt(H.paddingBottom,10),B=ae+te+N+z+ne,Z=Math.min(x.offsetHeight*5,B),pe=window.getComputedStyle(v),Te=parseInt(pe.paddingTop,10),Re=parseInt(pe.paddingBottom,10),Je=I.top+I.height/2-rs,wt=D-Je,qe=x.offsetHeight/2,ce=x.offsetTop+qe,Ve=ae+te+ce,rt=B-Ve;if(Ve<=Je){const ze=M.length>0&&x===M[M.length-1].ref.current;a.style.bottom="0px";const Qe=c.clientHeight-v.offsetTop-v.offsetHeight,Bt=Math.max(wt,qe+(ze?Re:0)+Qe+ne),st=Ve+Bt;a.style.height=st+"px"}else{const ze=M.length>0&&x===M[0].ref.current;a.style.top="0px";const Bt=Math.max(Je,ae+v.offsetTop+(ze?Te:0)+qe)+rt;a.style.height=Bt+"px",v.scrollTop=Ve-Je+v.offsetTop}a.style.margin=`${rs}px 0`,a.style.minHeight=Z+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,a,c,v,x,_,i.dir,r]);Nt(()=>S(),[S]);const[A,k]=m.useState();Nt(()=>{c&&k(window.getComputedStyle(c).zIndex)},[c]);const O=m.useCallback(I=>{I&&w.current===!0&&(S(),y==null||y(),w.current=!1)},[S,y]);return h.jsx(Uce,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:O,children:h.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:h.jsx(_e.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});j4.displayName=Vce;var Fce="SelectPopperPosition",K_=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=rs,...i}=t,o=ev(n);return h.jsx(xE,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});K_.displayName=Fce;var[Uce,IS]=_u(ll,{}),W_="SelectViewport",V4=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=la(W_,n),o=IS(W_,n),a=Oe(e,i.onViewportChange),l=m.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),h.jsx(Jy.Slot,{scope:n,children:h.jsx(_e.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ee(s.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&d){const g=Math.abs(l.current-u.scrollTop);if(g>0){const w=window.innerHeight-rs*2,v=parseFloat(d.style.minHeight),x=parseFloat(d.style.height),_=Math.max(v,x);if(_<w){const y=_+g,S=Math.min(w,y),A=y-S;d.style.height=S+"px",d.style.bottom==="0px"&&(u.scrollTop=A>0?A:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});V4.displayName=W_;var F4="SelectGroup",[Bce,$ce]=_u(F4),U4=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ms();return h.jsx(Bce,{scope:n,id:s,children:h.jsx(_e.div,{role:"group","aria-labelledby":s,...r,ref:e})})});U4.displayName=F4;var B4="SelectLabel",$4=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=$ce(B4,n);return h.jsx(_e.div,{id:s.id,...r,ref:e})});$4.displayName=B4;var _g="SelectItem",[zce,z4]=_u(_g),K4=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=aa(_g,n),l=la(_g,n),c=a.value===r,[u,d]=m.useState(i??""),[p,g]=m.useState(!1),w=Oe(e,y=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,y,r,s)}),v=ms(),x=m.useRef("touch"),_=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(zce,{scope:n,value:r,disabled:s,textId:v,isSelected:c,onItemTextChange:m.useCallback(y=>{d(S=>S||((y==null?void 0:y.textContent)??"").trim())},[]),children:h.jsx(Jy.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:h.jsx(_e.div,{role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:ee(o.onFocus,()=>g(!0)),onBlur:ee(o.onBlur,()=>g(!1)),onClick:ee(o.onClick,()=>{x.current!=="mouse"&&_()}),onPointerUp:ee(o.onPointerUp,()=>{x.current==="mouse"&&_()}),onPointerDown:ee(o.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:ee(o.onPointerMove,y=>{var S;x.current=y.pointerType,s?(S=l.onItemLeave)==null||S.call(l):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ee(o.onPointerLeave,y=>{var S;y.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:ee(o.onKeyDown,y=>{var A;((A=l.searchRef)==null?void 0:A.current)!==""&&y.key===" "||(Pce.includes(y.key)&&_(),y.key===" "&&y.preventDefault())})})})})});K4.displayName=_g;var ud="SelectItemText",W4=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=aa(ud,n),a=la(ud,n),l=z4(ud,n),c=Mce(ud,n),[u,d]=m.useState(null),p=Oe(e,_=>d(_),l.onItemTextChange,_=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,_,l.value,l.disabled)}),g=u==null?void 0:u.textContent,w=m.useMemo(()=>h.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:x}=c;return Nt(()=>(v(w),()=>x(w)),[v,x,w]),h.jsxs(h.Fragment,{children:[h.jsx(_e.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Li.createPortal(i.children,o.valueNode):null]})});W4.displayName=ud;var H4="SelectItemIndicator",q4=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return z4(H4,n).isSelected?h.jsx(_e.span,{"aria-hidden":!0,...r,ref:e}):null});q4.displayName=H4;var H_="SelectScrollUpButton",G4=m.forwardRef((t,e)=>{const n=la(H_,t.__scopeSelect),r=IS(H_,t.__scopeSelect),[s,i]=m.useState(!1),o=Oe(e,r.onScrollButtonChange);return Nt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?h.jsx(Y4,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});G4.displayName=H_;var q_="SelectScrollDownButton",Q4=m.forwardRef((t,e)=>{const n=la(q_,t.__scopeSelect),r=IS(q_,t.__scopeSelect),[s,i]=m.useState(!1),o=Oe(e,r.onScrollButtonChange);return Nt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?h.jsx(Y4,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});Q4.displayName=q_;var Y4=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=la("SelectScrollButton",n),o=m.useRef(null),a=Zy(n),l=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),Nt(()=>{var u;const c=a().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),h.jsx(_e.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ee(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ee(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ee(s.onPointerLeave,()=>{l()})})}),Kce="SelectSeparator",X4=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return h.jsx(_e.div,{"aria-hidden":!0,...r,ref:e})});X4.displayName=Kce;var G_="SelectArrow",Wce=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ev(n),i=aa(G_,n),o=la(G_,n);return i.open&&o.position==="popper"?h.jsx(EE,{...s,...r,ref:e}):null});Wce.displayName=G_;function J4(t){return t===""||t===void 0}var Z4=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=m.useRef(null),i=Oe(e,s),o=Ace(n);return m.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&u){const d=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(d)}},[o,n]),h.jsx(df,{asChild:!0,children:h.jsx("select",{...r,ref:i,defaultValue:n})})});Z4.displayName="BubbleSelect";function eU(t){const e=Mt(t),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function tU(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Hce(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function Hce(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var qce=C4,nU=R4,Gce=N4,Qce=k4,Yce=D4,rU=M4,Xce=V4,Jce=U4,sU=$4,iU=K4,Zce=W4,eue=q4,oU=G4,aU=Q4,lU=X4;const tue=qce,nue=Jce,rue=Gce,cU=m.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(nU,{ref:r,className:de("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,h.jsx(Qce,{asChild:!0,children:h.jsx(vD,{className:"h-4 w-4 opacity-50"})})]}));cU.displayName=nU.displayName;const uU=m.forwardRef(({className:t,...e},n)=>h.jsx(oU,{ref:n,className:de("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(kW,{className:"h-4 w-4"})}));uU.displayName=oU.displayName;const dU=m.forwardRef(({className:t,...e},n)=>h.jsx(aU,{ref:n,className:de("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(vD,{className:"h-4 w-4"})}));dU.displayName=aU.displayName;const hU=m.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>h.jsx(Yce,{children:h.jsxs(rU,{ref:s,className:de("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[h.jsx(uU,{}),h.jsx(Xce,{className:de("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),h.jsx(dU,{})]})}));hU.displayName=rU.displayName;const sue=m.forwardRef(({className:t,...e},n)=>h.jsx(sU,{ref:n,className:de("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));sue.displayName=sU.displayName;const fU=m.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(iU,{ref:r,className:de("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(eue,{children:h.jsx(yD,{className:"h-4 w-4"})})}),h.jsx(Zce,{children:e})]}));fU.displayName=iU.displayName;const iue=m.forwardRef(({className:t,...e},n)=>h.jsx(lU,{ref:n,className:de("-mx-1 my-1 h-px bg-muted",t),...e}));iue.displayName=lU.displayName;const oue=["editor","viewer"],aue=({isOpen:t,setDialogState:e,onAddAdmin:n,isLoading:r})=>{const{register:s,watch:i,formState:{errors:o,isSubmitted:a},control:l,handleSubmit:c,reset:u}=bS(),d=i("password"),p=async w=>{const{confirmPassword:v,...x}=w;await n(x),g()},g=(w=void 0)=>{u({email:"",password:"",confirmPassword:""}),e("showAddAdminDialog",w??!1)};return h.jsx(Qy,{open:t,onOpenChange:w=>{g(w)},children:h.jsxs(_f,{className:"sm:max-w-[425px]",children:[h.jsxs(xf,{children:[h.jsx(Ef,{className:"text-2xl font-bold",children:"Add Admin"}),h.jsx(Tf,{children:"Create a new admin account."})]}),h.jsxs("form",{onSubmit:c(p),className:"text-sm space-y-2",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx(hn,{htmlFor:"current-password",children:"Email"}),h.jsx(sn,{className:de(!!o.email&&"border-destructive"),type:"text",placeholder:"Enter your email",...s("email",{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Please enter a valid email address"}})}),a&&o.email&&h.jsx("p",{className:"text-red-500",children:o.email.message})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx(hn,{htmlFor:"current-password",children:"Password"}),h.jsx(Ld,{field:"password",placeholderText:"Enter your password",register:s,message:"Password is required",isError:!!o.password}),a&&o.password&&h.jsx("p",{className:"text-red-500",children:o.password.message})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx(hn,{htmlFor:"new-password",children:"Confirm Password"}),h.jsx(Ld,{field:"confirmPassword",placeholderText:"Re-enter your password",register:s,message:"Confirm password is required",isError:!!o.confirmPassword,validate:w=>w===d||"Password does not match"}),a&&o.confirmPassword&&h.jsx("p",{className:"text-red-500",children:o.confirmPassword.message})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx(hn,{children:"Role"}),h.jsx(Tle,{name:"role",control:l,rules:{required:"Role is required"},render:({field:w})=>h.jsxs(tue,{onValueChange:w.onChange,value:w.value,children:[h.jsx(cU,{className:de("w-[180px]",!!o.role&&"border-destructive"),children:h.jsx(rue,{placeholder:"Select a Role"})}),h.jsx(hU,{children:h.jsx(nue,{children:h.jsx(hu,{items:oue,renderItem:v=>h.jsx(fU,{value:v,children:ME(v)})})})})]})}),a&&o.role&&h.jsx("p",{className:"text-red-500",children:o.role.message})]}),h.jsx(Yy,{children:h.jsx(at,{disabled:r,type:"submit",className:"w-40",children:r?h.jsx(wl,{}):"Save changes"})})]})]})})},lue=({isOpen:t,setDialogState:e,onResetPassword:n,isLoading:r})=>{const{register:s,formState:{errors:i,isSubmitted:o},setError:a,watch:l,handleSubmit:c,reset:u}=bS(),d=l("newPassword"),p=async w=>{const{confirmNewPassword:v,...x}=w,_=await n(x);if(_&&_===To.passwordIncorrect){a("password",{type:"manual",message:_});return}if(_&&_===To.passwordSameAsOld){a("newPassword",{type:"manual",message:_});return}g(!1)},g=(w=void 0)=>{e("showResetPasswordDialog",w??!1),u({})};return h.jsx(Qy,{open:t,onOpenChange:w=>{g(w),setTimeout(()=>{w||(document.body.style.pointerEvents="")},100)},children:h.jsxs(_f,{className:"sm:max-w-[425px]",children:[h.jsxs(xf,{children:[h.jsx(Ef,{className:"text-2xl font-bold",children:"Reset Password"}),h.jsx(Tf,{children:"Reset admin password and provide a new password."})]}),h.jsxs("form",{onSubmit:c(p),className:"text-sm space-y-2",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx(hn,{htmlFor:"current-password",children:"Current Password"}),h.jsx(Ld,{id:"current-password",field:"password",placeholderText:"Enter new password",register:s,message:"Password is required",isError:!!i.password}),o&&i.password&&h.jsx("p",{className:"text-red-500",children:i.password.message})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx(hn,{htmlFor:"newPassword",children:"New Password"}),h.jsx(Ld,{id:"newPassword",field:"newPassword",placeholderText:"Enter new password",register:s,message:"Password is required",isError:!!i.newPassword}),o&&i.newPassword&&h.jsx("p",{className:"text-red-500",children:i.newPassword.message})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx(hn,{htmlFor:"new-password",children:"Confirm New Password"}),h.jsx(Ld,{id:"new-password",field:"confirmNewPassword",placeholderText:"Re-enter your password",register:s,message:"Confirm password is required",isError:!!i.confirmNewPassword,validate:w=>w===d||"Password does not match"}),o&&i.confirmNewPassword&&h.jsx("p",{className:"text-red-500",children:i.confirmNewPassword.message})]}),h.jsx(Yy,{children:h.jsx(at,{type:"submit",className:"w-40",children:r?h.jsx(wl,{}):"Reset Password"})})]})]})})},cue=()=>h.jsx("section",{className:"flex-1 flex-col space-y-4 relative",children:h.jsxs(er,{children:[h.jsxs(qr,{children:[h.jsx(Gr,{children:"Team"}),h.jsx(oa,{children:h.jsx(Ae,{className:"w-36 h-[20px]"})})]}),h.jsx(pr,{children:h.jsxs("div",{children:[h.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[h.jsx("h4",{className:"flex-1",children:h.jsx(Ae,{className:"w-16 h-[20px]"})}),h.jsx("h4",{className:"w-[14rem]",children:h.jsx(Ae,{className:"w-24 h-[20px]"})}),h.jsx("h4",{className:"w-[8rem]",children:h.jsx(Ae,{className:"w-12 h-[20px]"})}),h.jsx("h4",{className:"w-[6rem]"})]}),h.jsx("hr",{className:"border-customBorderColor"}),h.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[h.jsx("h4",{className:"flex-1",children:h.jsx(Ae,{className:"w-32 h-[20px]"})}),h.jsx("h4",{className:"w-[14rem]",children:h.jsx(Ae,{className:"w-12 h-[20px]"})}),h.jsx("h4",{className:"w-[8rem]",children:h.jsx(Ae,{className:"w-20 h-[20px]"})}),h.jsx("h4",{className:"w-[6rem]"})]}),h.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[h.jsx("h4",{className:"flex-1",children:h.jsx(Ae,{className:"w-40 h-[20px]"})}),h.jsx("h4",{className:"w-[14rem]",children:h.jsx(Ae,{className:"w-16 h-[20px]"})}),h.jsx("h4",{className:"w-[8rem]",children:h.jsx(Ae,{className:"w-12 h-[20px]"})}),h.jsx("h4",{className:"w-[6rem]"})]}),h.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[h.jsx("h4",{className:"flex-1",children:h.jsx(Ae,{className:"w-32 h-[20px]"})}),h.jsx("h4",{className:"w-[14rem]",children:h.jsx(Ae,{className:"w-12 h-[20px]"})}),h.jsx("h4",{className:"w-[8rem]",children:h.jsx(Ae,{className:"w-20 h-[20px]"})}),h.jsx("h4",{className:"w-[6rem]"})]})]})})]})}),uue=async(t,e)=>{const n={email:t,password:e},{success:r,accessToken:s,admin:i}=await gl("/api/auth/login",{},n);if(!r)throw new Error("Error loggin in");return{accessToken:s,admin:i}},due=async()=>{const{admins:t}=await of("/api/auth/admins");return t},hue=async t=>{const{message:e}=await gl("/api/auth/register",{},t);return e},fue=async t=>{const{message:e}=await OE(`/api/auth/${t}`);return e},pue=async t=>{const{message:e}=await hy("/api/auth/reset",{},t);if(e===To.passwordIncorrect||e===To.passwordSameAsOld)throw new Error(e);return e},mue=async t=>{const{message:e}=await hy("/api/auth/role",{},t);return e},gue=()=>{const t=_l(),e=hO(),n=Vi(),r=Mi(y=>y.dialogs),s=Mi(y=>y.setDialogState),i=E4(y=>y.adminId),{data:o,isLoading:a}=wf({queryFn:()=>due(),queryKey:Gu}),{mutateAsync:l}=Os({mutationFn:fue,onSuccess:y=>{t.invalidateQueries({queryKey:Gu}),n({title:y,description:yt()})},onError:y=>{n({title:y==null?void 0:y.message,description:yt(),variant:"destructive"}),gt(y.message||"An Unexpected error occured while deleting admin account")}}),{mutateAsync:c,isPending:u}=Os({mutationFn:hue,onSuccess:y=>{t.invalidateQueries({queryKey:Gu}),n({title:y,description:yt()})},onError:y=>{n({title:y==null?void 0:y.message,description:yt(),variant:"destructive"}),gt(y.message||"An Unexpected error occured while adding admin account")}}),{mutateAsync:d,isPending:p}=Os({mutationFn:pue,onSuccess:y=>{t.invalidateQueries({queryKey:Gu}),n({title:y,description:yt()})},onError:y=>{y.message===To.passwordIncorrect||y.message===To.passwordSameAsOld||(n({title:y==null?void 0:y.message,description:yt(),variant:"destructive"}),gt(y.message??"An error occured while updating admin account"))}}),{mutateAsync:g}=Os({mutationFn:mue,onSuccess:async y=>{t.invalidateQueries({queryKey:Gu}),await e(1e3),n({title:y,description:yt()})},onError:y=>{n({title:y==null?void 0:y.message,description:yt(),variant:"destructive"}),gt(y.message||"An Unexpected error occured while updating admin role")}});return{setDialogState:s,isAdminListLoading:a,adminList:o,handleAddAdmin:async y=>{try{await c(y)}catch(S){S instanceof Error&&gt(S.message??"An error occured adding admin account"),console.error("An unexpected error occured: ",S)}},handleDeleteAdmin:async()=>{try{if(!i)throw new Error("No admin selected cannot delete");await l(i)}catch(y){y instanceof Error&&gt(y.message??"An error occured deleting admin account"),console.error("An unexpected error occured: ",y)}},handleResetAdminPassword:async y=>{try{if(!i)throw new Error("Admin ID not found, cannot proceed");await d({...y,_id:i})}catch(S){if(S instanceof Error&&(gt(S.message??"An error occured deleting admin account"),S.message===To.passwordIncorrect||S.message===To.passwordSameAsOld))return S.message;console.error("An unexpected error occured: ",S)}},handleUpdateAdminRole:async(y,S)=>{try{if(!S)throw new Error("Admin is not available cannot update role");await g({role:y,_id:S})}catch(A){A instanceof Error&&gt(A.message??`An error occured: ${A}`),console.error("An unexpected error occured: ",A)}},dialogs:r,isPending:u,resetAdminPasswordIsPending:p}},yue=()=>{const t=Pt(d=>d.admin),{adminList:e,dialogs:n,isAdminListLoading:r,isPending:s,handleAddAdmin:i,handleDeleteAdmin:o,handleResetAdminPassword:a,handleUpdateAdminRole:l,resetAdminPasswordIsPending:c,setDialogState:u}=gue();return r?h.jsx(cue,{}):h.jsxs("section",{className:"flex-1 flex-col space-y-4 relative",children:[h.jsxs(er,{children:[h.jsxs(qr,{children:[h.jsxs(Gr,{children:["Team",h.jsx(Cy,{tooltip:"Maximum of 5 admins can be created",children:h.jsx("p",{className:"ml-3 inline-block min-w-6 text-xs font-medium text-zinc-600",children:`${e==null?void 0:e.length}/${iee}`})})]}),h.jsx(oa,{children:(t==null?void 0:t.role)==="admin"?"Manage admin accounts, including adding and removing admins.":"View the list of admin accounts."})]}),h.jsx(pr,{children:h.jsxs("div",{children:[h.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[h.jsx("h4",{className:"flex-1",children:"User"}),h.jsx("h4",{className:"w-[12rem]",children:"Last Active"}),h.jsx("h4",{className:"w-[12rem]",children:"Role"}),h.jsx("h4",{className:"w-[10rem]"})]}),h.jsx("hr",{className:"border-customBorderColor"}),h.jsx(hu,{items:e,renderItem:d=>h.jsx(yce,{adminInfo:d,onUpdateRole:l})})]})})]}),h.jsx("footer",{className:"mt-4 pb-4",children:(t==null?void 0:t.role)!=="viewer"&&(t==null?void 0:t.role)!=="editor"&&h.jsxs(at,{className:"w-full",onClick:()=>u("showAddAdminDialog",!0),disabled:(e==null?void 0:e.length)===5,children:[h.jsx(Qh,{className:"size-5 mr-2"}),"Add Admin"]})}),h.jsx(aue,{isOpen:n.showAddAdminDialog,setDialogState:u,onAddAdmin:i,isLoading:s}),(n==null?void 0:n.showConfirmDeleteDialog)&&h.jsx(vS,{itemName:"this admin account?",isOpen:n.showConfirmDeleteDialog,setDialogState:d=>u("showConfirmDeleteDialog",d),onDelete:o,message:"This action cannot be undone. This will permanently delete the admin account"}),(n==null?void 0:n.showResetPasswordDialog)&&h.jsx(lue,{isOpen:n.showResetPasswordDialog,setDialogState:u,onResetPassword:a,isLoading:c})]})},vue=async()=>{const t="knowledgeBases",{success:e,document:n}=await of(`/api/archive/data/${t}`);if(!e&&!n)throw new Error("Error fetching archive ");return n},wue=async()=>{const t="knowledgeEntries",{success:e,document:n}=await of(`/api/archive/data/${t}`);if(!e&&!n)throw new Error("Error fetching archive ");return n},pU=({onRestore:t})=>h.jsx("div",{children:h.jsxs(nf,{children:[h.jsx(rf,{asChild:!0,children:h.jsx(at,{variant:"ghost",className:" hover:bg-gray-100 size-8 p-1 group",children:h.jsx(aE,{className:"text-zinc-400 size-5 group-hover:text-zinc-600 transition-colors"})})}),h.jsxs(du,{align:"end",className:"w-auto text-sm bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[h.jsxs(Ds,{className:"flex items-center p-1.5 hover:bg-zinc-100 rounded-sm",onClick:t,children:[h.jsx(DW,{className:"mr-2 h-4 w-4"}),h.jsx("p",{children:"Restore"})]}),h.jsxs(Ds,{className:"flex items-center p-1.5 hover:bg-zinc-100 rounded-sm text-red-500",children:[h.jsx(Yh,{className:"mr-2 h-4 w-4"}),h.jsx("p",{children:"Delete Permanently"})]})]})]})}),_ue=({item:t})=>{const e=Vi(),n=_l(),{mutateAsync:r}=Os({mutationFn:i=>Noe(i),onSuccess:i=>{n.invalidateQueries({queryKey:kd}),e({title:i,description:yt()})},onError:i=>{e({title:i.message,description:yt(),variant:"destructive"})}}),s=async()=>{try{const{knowledgeBase:i,knowledgeEntry:o}=t;await r({knowledgeBaseName:i,knowledgeEntries:[...o]})}catch(i){console.error("An unexpected error occured: ",i)}};return h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("section",{children:[h.jsx("p",{className:"font-medium",children:t.knowledgeBase}),h.jsx("p",{className:"text-muted-foreground text-sm",children:`Archived on ${new Date(t.archivedAt).toLocaleDateString()}  ${t.knowledgeEntry.length} ${t.knowledgeEntry.length===1?"entry":"entries"}`})]}),h.jsx(pU,{onRestore:s})]})},mU=()=>h.jsxs("div",{className:"h-[500px] overflow-y-auto p-2 botder border-t space-y-3",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ae,{className:"w-24 h-5"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Ae,{className:"w-40 h-4"}),h.jsx(Ae,{className:"w-20 h-4"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ae,{className:"w-10 h-5"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Ae,{className:"w-40 h-4"}),h.jsx(Ae,{className:"w-20 h-4"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ae,{className:"w-14 h-5"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Ae,{className:"w-40 h-4"}),h.jsx(Ae,{className:"w-20 h-4"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ae,{className:"w-28 h-5"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Ae,{className:"w-40 h-4"}),h.jsx(Ae,{className:"w-20 h-4"})]})]})]}),gU=()=>h.jsx("div",{className:"h-[500px] flex items-center justify-center p-2 botder border-t space-y-3",children:h.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 w-full max-w-lg my-4",role:"alert",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(CD,{className:"size-[5rem] text-red-400 mr-4"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-bold text-yellow-700",children:"Error Fetching Archive List"}),h.jsx("p",{className:"text-yellow-700 mt-1",children:"We encountered an issue while trying to retrieve the archive list. This might be due to a network problem or a temporary issue with the server. Please check your internet connection and try again."})]})]})})}),xue=()=>{const{data:t,isLoading:e,isError:n}=wf({queryFn:()=>vue(),queryKey:Koe});return e?h.jsx(mU,{}):!t||n?h.jsx(gU,{}):h.jsx("div",{className:"h-[500px] overflow-y-auto p-2 botder border-t",children:h.jsx(hu,{listStyle:"space-y-3",items:t.items,renderItem:r=>h.jsx(_ue,{item:r})})})},Eue=({item:t})=>h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("section",{children:[h.jsx("p",{className:"font-medium",children:t.knowledgeEntry.intent}),h.jsx("p",{className:"text-muted-foreground text-sm",children:`From: ${t.knowledgeBase}  Archived on ${new Date(t.archivedAt).toLocaleDateString()}`})]}),h.jsx(pU,{})]}),Tue=()=>{const{data:t,isLoading:e,isError:n}=wf({queryFn:()=>wue(),queryKey:Woe});return e?h.jsx(mU,{}):!t||n?h.jsx(gU,{}):h.jsx("div",{className:"h-[500px] overflow-y-auto p-2 botder border-t",children:h.jsx(hu,{listStyle:"space-y-3",items:t.items,renderItem:r=>h.jsx(Eue,{item:r})})})},Sue=()=>{const t=pi(n=>n.currentSelectedTabInArchiveTab),e=pi(n=>n.setCurrentSelectedTabInArchiveTab);return h.jsxs(sj,{value:t,onValueChange:n=>e(n),className:"space-y-4",children:[h.jsxs(gT,{className:"p-1",children:[h.jsx(ng,{value:"knowledgeBases",children:"Knowledge Bases"}),h.jsx(ng,{value:"knowledgeEntries",children:"Knowledge Entries"})]}),t==="knowledgeBases"&&h.jsx(xue,{}),t==="knowledgeEntries"&&h.jsx(Tue,{})]})},bue=()=>h.jsx("section",{className:"flex-1 flex-col space-y-4",children:h.jsxs(er,{children:[h.jsxs(qr,{children:[h.jsx(Gr,{children:"Archives"}),h.jsx(oa,{children:"View and manage archived knowledge bases and entries"})]}),h.jsx(pr,{children:h.jsx(Sue,{})})]})}),Iue=()=>{const t=pi(n=>n.currentSelectedTabInSettingsTab),e=pi(n=>n.setCurrentSelectedTabInSettingsTab);return h.jsxs("section",{className:"flex space-x-2",children:[h.jsx(uce,{activeTab:t,onTabChange:e}),t==="team"&&h.jsx(yue,{}),t==="botProfile"&&h.jsx(lce,{}),t==="botModel"&&h.jsx(mce,{}),t==="archives"&&h.jsx(bue,{})]})},Cue=()=>h.jsx("header",{className:"py-4 text-3xl font-semibold",children:"Settings"}),Aue=()=>h.jsxs("div",{className:"flex flex-col md:w-[84rem] w-[68rem] px-20 space-y-6",children:[h.jsx(Cue,{}),h.jsx(Iue,{})]}),Rue=({id:t,text:e,onChange:n,checked:r})=>h.jsxs(h.Fragment,{children:[h.jsx("input",{type:"radio",id:t,name:"nav-btn",value:e,className:"hidden peer",checked:r,onChange:n}),h.jsx("label",{htmlFor:t,className:"flex-1 flex w-[190px] justify-center items-center py-3 px-4 cursor-pointer uppercase text-sm font-[500]",children:e})]}),Pue=({labels:t,selectedTab:e,setSelectedTab:n})=>{const r=s=>{n(s)};return h.jsx("nav",{className:"tabs relative flex after:absolute after:bottom-0 after:pointer-events-none after:border after:border-blue-500",children:t==null?void 0:t.map(s=>h.jsx(Rue,{id:s,text:s,checked:e==s,onChange:()=>r(s)},s))})},Nue={siteName:"COB-CHATBOT",botName:"AI NLP Assistant"},kue={chatbot:fZ,settings:Aue,knowledge:qle},Due=()=>{const[t,e]=m.useState("chatbot"),n=["chatbot","knowledge","settings"],r=kue[t]||null;return h.jsxs("div",{className:"min-h-[100dvh] flex flex-col bg-[#F8F9FB] scrollbar-slim",children:[h.jsxs(_G,{text:Nue.siteName,children:[h.jsx(Pue,{labels:n,selectedTab:t,setSelectedTab:e}),h.jsx("hr",{className:"w-full border-neutral-300"})]}),r&&h.jsx(xG,{Component:r})]})};function Mue(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var _;const{scope:p,children:g,...w}=d,v=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,x=m.useMemo(()=>w,Object.values(w));return h.jsx(v.Provider,{value:x,children:g})};c.displayName=i+"Provider";function u(d,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Oue(s,...e)]}function Oue(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Lue="DismissableLayer",Q_="dismissableLayer.update",jue="dismissableLayer.pointerDownOutside",Vue="dismissableLayer.focusOutside",SR,yU=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vU=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(yU),[u,d]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=Oe(e,I=>d(I)),v=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(x),y=u?v.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,A=y>=_,k=Uue(I=>{const T=I.target,C=[...c.branches].some(R=>R.contains(T));!A||C||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},p),O=Bue(I=>{const T=I.target;[...c.branches].some(R=>R.contains(T))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},p);return Xh(I=>{y===c.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(SR=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),bR(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=SR)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),bR())},[u,c]),m.useEffect(()=>{const I=()=>g({});return document.addEventListener(Q_,I),()=>document.removeEventListener(Q_,I)},[]),h.jsx(_e.div,{...l,ref:w,style:{pointerEvents:S?A?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,k.onPointerDownCapture)})});vU.displayName=Lue;var Fue="DismissableLayerBranch",wU=m.forwardRef((t,e)=>{const n=m.useContext(yU),r=m.useRef(null),s=Oe(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),h.jsx(_e.div,{...t,ref:s})});wU.displayName=Fue;function Uue(t,e=globalThis==null?void 0:globalThis.document){const n=Mt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){_U(jue,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Bue(t,e=globalThis==null?void 0:globalThis.document){const n=Mt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&_U(Vue,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function bR(){const t=new CustomEvent(Q_);document.dispatchEvent(t)}function _U(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?fl(s,i):s.dispatchEvent(i)}var $ue=vU,zue=wU,Kue="Portal",xU=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Nt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Bh.createPortal(h.jsx(_e.div,{...r,ref:e}),o):null});xU.displayName=Kue;function Wue(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var EU=t=>{const{present:e,children:n}=t,r=Hue(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=Oe(r.ref,que(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};EU.displayName="Presence";function Hue(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Wue(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Cp(r.current);i.current=a==="mounted"?c:"none"},[a]),Nt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=Cp(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Nt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=g=>{const v=Cp(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=g=>{g.target===e&&(i.current=Cp(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Cp(t){return(t==null?void 0:t.animationName)||"none"}function que(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var CS="ToastProvider",[AS,Gue,Que]=Jg("Toast"),[TU,zde]=Mue("Toast",[Que]),[Yue,tv]=TU(CS),SU=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=m.useState(null),[c,u]=m.useState(0),d=m.useRef(!1),p=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${CS}\`. Expected non-empty \`string\`.`),h.jsx(AS.Provider,{scope:e,children:h.jsx(Yue,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>u(g=>g+1),[]),onToastRemove:m.useCallback(()=>u(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:p,children:o})})};SU.displayName=CS;var bU="ToastViewport",Xue=["F8"],Y_="toast.viewportPause",X_="toast.viewportResume",IU=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Xue,label:s="Notifications ({hotkey})",...i}=t,o=tv(bU,n),a=Gue(n),l=m.useRef(null),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),p=Oe(e,d,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;m.useEffect(()=>{const x=_=>{var S;r.length!==0&&r.every(A=>_[A]||_.code===A)&&((S=d.current)==null||S.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),m.useEffect(()=>{const x=l.current,_=d.current;if(w&&x&&_){const y=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(Y_);_.dispatchEvent(O),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(X_);_.dispatchEvent(O),o.isClosePausedRef.current=!1}},A=O=>{!x.contains(O.relatedTarget)&&S()},k=()=>{x.contains(document.activeElement)||S()};return x.addEventListener("focusin",y),x.addEventListener("focusout",A),x.addEventListener("pointermove",y),x.addEventListener("pointerleave",k),window.addEventListener("blur",y),window.addEventListener("focus",S),()=>{x.removeEventListener("focusin",y),x.removeEventListener("focusout",A),x.removeEventListener("pointermove",y),x.removeEventListener("pointerleave",k),window.removeEventListener("blur",y),window.removeEventListener("focus",S)}}},[w,o.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:x})=>{const y=a().map(S=>{const A=S.ref.current,k=[A,...ude(A)];return x==="forwards"?k:k.reverse()});return(x==="forwards"?y.reverse():y).flat()},[a]);return m.useEffect(()=>{const x=d.current;if(x){const _=y=>{var k,O,I;const S=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!S){const T=document.activeElement,C=y.shiftKey;if(y.target===x&&C){(k=c.current)==null||k.focus();return}const D=v({tabbingDirection:C?"backwards":"forwards"}),N=D.findIndex(H=>H===T);Mw(D.slice(N+1))?y.preventDefault():C?(O=c.current)==null||O.focus():(I=u.current)==null||I.focus()}};return x.addEventListener("keydown",_),()=>x.removeEventListener("keydown",_)}},[a,v]),h.jsxs(zue,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&h.jsx(J_,{ref:c,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"forwards"});Mw(x)}}),h.jsx(AS.Slot,{scope:n,children:h.jsx(_e.ol,{tabIndex:-1,...i,ref:p})}),w&&h.jsx(J_,{ref:u,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"backwards"});Mw(x)}})]})});IU.displayName=bU;var CU="ToastFocusProxy",J_=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=tv(CU,n);return h.jsx(df,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});J_.displayName=CU;var nv="Toast",Jue="toast.swipeStart",Zue="toast.swipeMove",ede="toast.swipeCancel",tde="toast.swipeEnd",AU=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=Uo({prop:r,defaultProp:s,onChange:i});return h.jsx(EU,{present:n||a,children:h.jsx(sde,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Mt(t.onPause),onResume:Mt(t.onResume),onSwipeStart:ee(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ee(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:ee(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ee(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});AU.displayName=nv;var[nde,rde]=TU(nv,{onClose(){}}),sde=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:p,onSwipeEnd:g,...w}=t,v=tv(nv,n),[x,_]=m.useState(null),y=Oe(e,H=>_(H)),S=m.useRef(null),A=m.useRef(null),k=s||v.duration,O=m.useRef(0),I=m.useRef(k),T=m.useRef(0),{onToastAdd:C,onToastRemove:R}=v,M=Mt(()=>{var ae;(x==null?void 0:x.contains(document.activeElement))&&((ae=v.viewport)==null||ae.focus()),o()}),D=m.useCallback(H=>{!H||H===1/0||(window.clearTimeout(T.current),O.current=new Date().getTime(),T.current=window.setTimeout(M,H))},[M]);m.useEffect(()=>{const H=v.viewport;if(H){const ae=()=>{D(I.current),c==null||c()},te=()=>{const ne=new Date().getTime()-O.current;I.current=I.current-ne,window.clearTimeout(T.current),l==null||l()};return H.addEventListener(Y_,te),H.addEventListener(X_,ae),()=>{H.removeEventListener(Y_,te),H.removeEventListener(X_,ae)}}},[v.viewport,k,l,c,D]),m.useEffect(()=>{i&&!v.isClosePausedRef.current&&D(k)},[i,k,v.isClosePausedRef,D]),m.useEffect(()=>(C(),()=>R()),[C,R]);const N=m.useMemo(()=>x?OU(x):null,[x]);return v.viewport?h.jsxs(h.Fragment,{children:[N&&h.jsx(ide,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),h.jsx(nde,{scope:n,onClose:M,children:Li.createPortal(h.jsx(AS.ItemSlot,{scope:n,children:h.jsx($ue,{asChild:!0,onEscapeKeyDown:ee(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||M(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:h.jsx(_e.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ee(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:ee(t.onPointerDown,H=>{H.button===0&&(S.current={x:H.clientX,y:H.clientY})}),onPointerMove:ee(t.onPointerMove,H=>{if(!S.current)return;const ae=H.clientX-S.current.x,te=H.clientY-S.current.y,ne=!!A.current,z=["left","right"].includes(v.swipeDirection),B=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,Z=z?B(0,ae):0,pe=z?0:B(0,te),Te=H.pointerType==="touch"?10:2,Re={x:Z,y:pe},Je={originalEvent:H,delta:Re};ne?(A.current=Re,Ap(Zue,d,Je,{discrete:!1})):IR(Re,v.swipeDirection,Te)?(A.current=Re,Ap(Jue,u,Je,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(ae)>Te||Math.abs(te)>Te)&&(S.current=null)}),onPointerUp:ee(t.onPointerUp,H=>{const ae=A.current,te=H.target;if(te.hasPointerCapture(H.pointerId)&&te.releasePointerCapture(H.pointerId),A.current=null,S.current=null,ae){const ne=H.currentTarget,z={originalEvent:H,delta:ae};IR(ae,v.swipeDirection,v.swipeThreshold)?Ap(tde,g,z,{discrete:!0}):Ap(ede,p,z,{discrete:!0}),ne.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),ide=t=>{const{__scopeToast:e,children:n,...r}=t,s=tv(nv,e),[i,o]=m.useState(!1),[a,l]=m.useState(!1);return lde(()=>o(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:h.jsx(xU,{asChild:!0,children:h.jsx(df,{...r,children:i&&h.jsxs(h.Fragment,{children:[s.label," ",n]})})})},ode="ToastTitle",RU=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(_e.div,{...r,ref:e})});RU.displayName=ode;var ade="ToastDescription",PU=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(_e.div,{...r,ref:e})});PU.displayName=ade;var NU="ToastAction",kU=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?h.jsx(MU,{altText:n,asChild:!0,children:h.jsx(RS,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${NU}\`. Expected non-empty \`string\`.`),null)});kU.displayName=NU;var DU="ToastClose",RS=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=rde(DU,n);return h.jsx(MU,{asChild:!0,children:h.jsx(_e.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,s.onClose)})})});RS.displayName=DU;var MU=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return h.jsx(_e.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function OU(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),cde(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...OU(r))}}),e}function Ap(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?fl(s,i):s.dispatchEvent(i)}var IR=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function lde(t=()=>{}){const e=Mt(t);Nt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function cde(t){return t.nodeType===t.ELEMENT_NODE}function ude(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Mw(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var dde=SU,LU=IU,jU=AU,VU=RU,FU=PU,UU=kU,BU=RS;const hde=dde,$U=m.forwardRef(({className:t,...e},n)=>h.jsx(LU,{ref:n,className:de("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));$U.displayName=LU.displayName;const fde=sf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),zU=m.forwardRef(({className:t,variant:e,...n},r)=>h.jsx(jU,{ref:r,className:de(fde({variant:e}),t),...n}));zU.displayName=jU.displayName;const pde=m.forwardRef(({className:t,...e},n)=>h.jsx(UU,{ref:n,className:de("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));pde.displayName=UU.displayName;const KU=m.forwardRef(({className:t,...e},n)=>h.jsx(BU,{ref:n,className:de("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:h.jsx(Yg,{className:"h-4 w-4"})}));KU.displayName=BU.displayName;const WU=m.forwardRef(({className:t,...e},n)=>h.jsx(VU,{ref:n,className:de("text-sm font-semibold",t),...e}));WU.displayName=VU.displayName;const HU=m.forwardRef(({className:t,...e},n)=>h.jsx(FU,{ref:n,className:de("text-sm opacity-90",t),...e}));HU.displayName=FU.displayName;function mde(){const{toasts:t}=UV();return h.jsxs(hde,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return h.jsxs(zU,{...i,children:[h.jsxs("div",{className:"grid gap-1",children:[n&&h.jsx(WU,{children:n}),r&&h.jsx(HU,{children:r})]}),s,h.jsx(KU,{})]},e)}),h.jsx($U,{})]})}const gde=()=>{const t=iu();m.useEffect(()=>{LV(moe,"page_view",{page_path:t.pathname})},[t])},yde=()=>{const t=Pt(r=>r.isAuth),e=Pt(r=>r.admin),n=new aae;return TW(),gde(),!t&&!e?h.jsx(mD,{to:"/login"}):h.jsx(hae,{client:n,children:h.jsxs("main",{children:[h.jsx(Due,{}),h.jsx(mde,{})]})})},vde=sf("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),qU=m.forwardRef(({className:t,variant:e,...n},r)=>h.jsx("div",{ref:r,role:"alert",className:de(vde({variant:e}),t),...n}));qU.displayName="Alert";const wde=m.forwardRef(({className:t,...e},n)=>h.jsx("h5",{ref:n,className:de("mb-1 font-medium leading-none tracking-tight",t),...e}));wde.displayName="AlertTitle";const GU=m.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:de("text-sm [&_p]:leading-relaxed",t),...e}));GU.displayName="AlertDescription";const _de=({password:t,setPassword:e})=>{const[n,r]=m.useState(!1);return h.jsxs("div",{className:"relative",children:[h.jsx(sn,{id:"password",type:n?"text":"password",placeholder:"",value:t,onChange:s=>e(s.target.value),required:!0}),h.jsx(at,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>r(s=>!s),"aria-label":n?"Hide password":"Show password",children:n?h.jsx(xD,{className:"h-4 w-4 text-gray-500"}):h.jsx(lE,{className:"h-4 w-4 text-gray-500"})})]})},xde=()=>{const t=Gh(),[e,n]=m.useState(""),[r,s]=m.useState(""),[i,o]=m.useState(""),[a,l]=m.useState(!1),c=Pt(p=>p.login),u=Pt(p=>p.isAuth),d=async p=>{p.preventDefault(),o(""),l(!0);try{const{accessToken:g,admin:w}=await uue(e,r);c(g,w),t("/")}catch{o("Invalid credentials, Please try again.")}finally{l(!1)}};return u?h.jsx(mD,{to:"/"}):h.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-r from-gray-100 to-gray-200 relative",children:[h.jsx("div",{className:"absolute inset-0 opacity-10 bg-cover bg-center z-0",style:{backgroundImage:"url('/placeholder.svg?height=1080&width=1920')",filter:"blur(3px)"},"aria-hidden":"true"}),h.jsxs(er,{className:"w-full max-w-md z-10",children:[h.jsxs(qr,{children:[h.jsx(Gr,{className:"text-2xl font-bold text-center",children:"Welcome Back"}),h.jsx(oa,{className:"text-center",children:"Please sign in to your account"})]}),h.jsx(pr,{children:h.jsxs("form",{onSubmit:d,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(hn,{htmlFor:"email",children:"Email"}),h.jsx(sn,{id:"email",type:"email",placeholder:"email@address.com",value:e,onChange:p=>n(p.target.value),required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(hn,{htmlFor:"password",children:"Password"}),h.jsx(_de,{password:r,setPassword:s})]}),i&&h.jsxs(qU,{variant:"destructive",children:[h.jsx(_D,{className:"h-4 w-4"}),h.jsx(GU,{children:i})]}),h.jsx(at,{type:"submit",className:"w-full",disabled:a,children:a?"Signing In...":"Sign In"})]})}),h.jsxs(vj,{className:"flex flex-col items-center justify-center space-y-2",children:[h.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Powered by cob-chatbot"}),h.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Intelligent conversations, seamless interactions"})]})]})]})};function Ede(){var n;const t=pD();let e;return qh(t)?e=t.statusText||((n=t.data)==null?void 0:n.message)||"An unexpected error occurred.":t instanceof Error?e=t.message:typeof t=="string"?e=t:(console.error(t),e="An unknown error occurred."),h.jsx("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center items-center px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-md w-full space-y-8 text-center",children:[h.jsx("div",{className:"flex justify-center",children:h.jsx(_D,{className:"h-24 w-24 text-red-600"})}),h.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Oops! Something went wrong"}),h.jsx("p",{className:"mt-2 text-sm text-gray-600",children:e}),h.jsx("div",{className:"mt-5",children:h.jsx(xW,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Go back home"})})]})})}const Tde=aW([{path:"/",element:h.jsx(yde,{}),errorElement:h.jsx(Ede,{})},{path:"/login",element:h.jsx(xde,{})}],{basename:"/admin"});Ow.createRoot(document.getElementById("root")).render(h.jsx(Ke.StrictMode,{children:h.jsx(gW,{router:Tde})}));
