var rw=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var V=(t,e,n)=>(rw(t,e,"read from private field"),n?n.call(t):e.get(t)),be=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},me=(t,e,n,r)=>(rw(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var wp=(t,e,n,r)=>({set _(s){me(t,e,s,n)},get _(){return V(t,e,r)}}),Ye=(t,e,n)=>(rw(t,e,"access private method"),n);function fN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function sE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pN={exports:{}},dv={},mN={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gf=Symbol.for("react.element"),Cz=Symbol.for("react.portal"),Az=Symbol.for("react.fragment"),Rz=Symbol.for("react.strict_mode"),Iz=Symbol.for("react.profiler"),Pz=Symbol.for("react.provider"),Nz=Symbol.for("react.context"),Dz=Symbol.for("react.forward_ref"),kz=Symbol.for("react.suspense"),Mz=Symbol.for("react.memo"),Oz=Symbol.for("react.lazy"),wC=Symbol.iterator;function jz(t){return t===null||typeof t!="object"?null:(t=wC&&t[wC]||t["@@iterator"],typeof t=="function"?t:null)}var gN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vN=Object.assign,yN={};function bu(t,e,n){this.props=t,this.context=e,this.refs=yN,this.updater=n||gN}bu.prototype.isReactComponent={};bu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};bu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wN(){}wN.prototype=bu.prototype;function iE(t,e,n){this.props=t,this.context=e,this.refs=yN,this.updater=n||gN}var oE=iE.prototype=new wN;oE.constructor=iE;vN(oE,bu.prototype);oE.isPureReactComponent=!0;var xC=Array.isArray,xN=Object.prototype.hasOwnProperty,aE={current:null},_N={key:!0,ref:!0,__self:!0,__source:!0};function EN(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)xN.call(e,r)&&!_N.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:gf,type:t,key:i,ref:o,props:s,_owner:aE.current}}function Lz(t,e){return{$$typeof:gf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function lE(t){return typeof t=="object"&&t!==null&&t.$$typeof===gf}function Vz(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _C=/\/+/g;function sw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Vz(""+t.key):e.toString(36)}function cm(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case gf:case Cz:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+sw(o,0):r,xC(s)?(n="",t!=null&&(n=t.replace(_C,"$&/")+"/"),cm(s,e,n,"",function(c){return c})):s!=null&&(lE(s)&&(s=Lz(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(_C,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",xC(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+sw(i,a);o+=cm(i,e,n,l,s)}else if(l=jz(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+sw(i,a++),o+=cm(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xp(t,e,n){if(t==null)return t;var r=[],s=0;return cm(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Fz(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gr={current:null},um={transition:null},Uz={ReactCurrentDispatcher:gr,ReactCurrentBatchConfig:um,ReactCurrentOwner:aE};function bN(){throw Error("act(...) is not supported in production builds of React.")}Je.Children={map:xp,forEach:function(t,e,n){xp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xp(t,function(){e++}),e},toArray:function(t){return xp(t,function(e){return e})||[]},only:function(t){if(!lE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Je.Component=bu;Je.Fragment=Az;Je.Profiler=Iz;Je.PureComponent=iE;Je.StrictMode=Rz;Je.Suspense=kz;Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uz;Je.act=bN;Je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=vN({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=aE.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)xN.call(e,l)&&!_N.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:gf,type:t.type,key:s,ref:i,props:r,_owner:o}};Je.createContext=function(t){return t={$$typeof:Nz,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Pz,_context:t},t.Consumer=t};Je.createElement=EN;Je.createFactory=function(t){var e=EN.bind(null,t);return e.type=t,e};Je.createRef=function(){return{current:null}};Je.forwardRef=function(t){return{$$typeof:Dz,render:t}};Je.isValidElement=lE;Je.lazy=function(t){return{$$typeof:Oz,_payload:{_status:-1,_result:t},_init:Fz}};Je.memo=function(t,e){return{$$typeof:Mz,type:t,compare:e===void 0?null:e}};Je.startTransition=function(t){var e=um.transition;um.transition={};try{t()}finally{um.transition=e}};Je.unstable_act=bN;Je.useCallback=function(t,e){return gr.current.useCallback(t,e)};Je.useContext=function(t){return gr.current.useContext(t)};Je.useDebugValue=function(){};Je.useDeferredValue=function(t){return gr.current.useDeferredValue(t)};Je.useEffect=function(t,e){return gr.current.useEffect(t,e)};Je.useId=function(){return gr.current.useId()};Je.useImperativeHandle=function(t,e,n){return gr.current.useImperativeHandle(t,e,n)};Je.useInsertionEffect=function(t,e){return gr.current.useInsertionEffect(t,e)};Je.useLayoutEffect=function(t,e){return gr.current.useLayoutEffect(t,e)};Je.useMemo=function(t,e){return gr.current.useMemo(t,e)};Je.useReducer=function(t,e,n){return gr.current.useReducer(t,e,n)};Je.useRef=function(t){return gr.current.useRef(t)};Je.useState=function(t){return gr.current.useState(t)};Je.useSyncExternalStore=function(t,e,n){return gr.current.useSyncExternalStore(t,e,n)};Je.useTransition=function(){return gr.current.useTransition()};Je.version="18.3.1";mN.exports=Je;var m=mN.exports;const Re=sE(m),SN=fN({__proto__:null,default:Re},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bz=m,$z=Symbol.for("react.element"),zz=Symbol.for("react.fragment"),Kz=Object.prototype.hasOwnProperty,Wz=Bz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hz={key:!0,ref:!0,__self:!0,__source:!0};function TN(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Kz.call(e,r)&&!Hz.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:$z,type:t,key:i,ref:o,props:s,_owner:Wz.current}}dv.Fragment=zz;dv.jsx=TN;dv.jsxs=TN;pN.exports=dv;var d=pN.exports,M0={},CN={exports:{}},Zr={},AN={exports:{}},RN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,B){var J=z.length;z.push(B);e:for(;0<J;){var fe=J-1>>>1,he=z[fe];if(0<s(he,B))z[fe]=B,z[J]=he,J=fe;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var B=z[0],J=z.pop();if(J!==B){z[0]=J;e:for(var fe=0,he=z.length,Se=he>>>1;fe<Se;){var We=2*(fe+1)-1,at=z[We],Ne=We+1,ce=z[Ne];if(0>s(at,J))Ne<he&&0>s(ce,at)?(z[fe]=ce,z[Ne]=J,fe=Ne):(z[fe]=at,z[We]=J,fe=We);else if(Ne<he&&0>s(ce,J))z[fe]=ce,z[Ne]=J,fe=Ne;else break e}}return B}function s(z,B){var J=z.sortIndex-B.sortIndex;return J!==0?J:z.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,p=3,g=!1,w=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(z){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=z)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function A(z){if(v=!1,b(z),!w)if(n(l)!==null)w=!0,ne(P);else{var B=n(c);B!==null&&Y(A,B.startTime-z)}}function P(z,B){w=!1,v&&(v=!1,x(E),E=-1),g=!0;var J=p;try{for(b(B),h=n(l);h!==null&&(!(h.expirationTime>B)||z&&!k());){var fe=h.callback;if(typeof fe=="function"){h.callback=null,p=h.priorityLevel;var he=fe(h.expirationTime<=B);B=t.unstable_now(),typeof he=="function"?h.callback=he:h===n(l)&&r(l),b(B)}else r(l);h=n(l)}if(h!==null)var Se=!0;else{var We=n(c);We!==null&&Y(A,We.startTime-B),Se=!1}return Se}finally{h=null,p=J,g=!1}}var O=!1,T=null,E=-1,I=5,R=-1;function k(){return!(t.unstable_now()-R<I)}function M(){if(T!==null){var z=t.unstable_now();R=z;var B=!0;try{B=T(!0,z)}finally{B?N():(O=!1,T=null)}}else O=!1}var N;if(typeof y=="function")N=function(){y(M)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,se=W.port2;W.port1.onmessage=M,N=function(){se.postMessage(null)}}else N=function(){_(M,0)};function ne(z){T=z,O||(O=!0,N())}function Y(z,B){E=_(function(){z(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,ne(P))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var J=p;p=B;try{return z()}finally{p=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,B){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var J=p;p=z;try{return B()}finally{p=J}},t.unstable_scheduleCallback=function(z,B,J){var fe=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?fe+J:fe):J=fe,z){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=J+he,z={id:u++,callback:B,priorityLevel:z,startTime:J,expirationTime:he,sortIndex:-1},J>fe?(z.sortIndex=J,e(c,z),n(l)===null&&z===n(c)&&(v?(x(E),E=-1):v=!0,Y(A,J-fe))):(z.sortIndex=he,e(l,z),w||g||(w=!0,ne(P))),z},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(z){var B=p;return function(){var J=p;p=B;try{return z.apply(this,arguments)}finally{p=J}}}})(RN);AN.exports=RN;var qz=AN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gz=m,Yr=qz;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var IN=new Set,hh={};function Ml(t,e){eu(t,e),eu(t+"Capture",e)}function eu(t,e){for(hh[t]=e,t=0;t<e.length;t++)IN.add(e[t])}var Gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),O0=Object.prototype.hasOwnProperty,Qz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,EC={},bC={};function Yz(t){return O0.call(bC,t)?!0:O0.call(EC,t)?!1:Qz.test(t)?bC[t]=!0:(EC[t]=!0,!1)}function Xz(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Jz(t,e,n,r){if(e===null||typeof e>"u"||Xz(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vr(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Kn[t]=new vr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Kn[e]=new vr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Kn[t]=new vr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Kn[t]=new vr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Kn[t]=new vr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Kn[t]=new vr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Kn[t]=new vr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Kn[t]=new vr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Kn[t]=new vr(t,5,!1,t.toLowerCase(),null,!1,!1)});var cE=/[\-:]([a-z])/g;function uE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cE,uE);Kn[e]=new vr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cE,uE);Kn[e]=new vr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cE,uE);Kn[e]=new vr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Kn[t]=new vr(t,1,!1,t.toLowerCase(),null,!1,!1)});Kn.xlinkHref=new vr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Kn[t]=new vr(t,1,!1,t.toLowerCase(),null,!0,!0)});function dE(t,e,n,r){var s=Kn.hasOwnProperty(e)?Kn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Jz(e,n,s,r)&&(n=null),r||s===null?Yz(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var oo=Gz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_p=Symbol.for("react.element"),sc=Symbol.for("react.portal"),ic=Symbol.for("react.fragment"),hE=Symbol.for("react.strict_mode"),j0=Symbol.for("react.profiler"),PN=Symbol.for("react.provider"),NN=Symbol.for("react.context"),fE=Symbol.for("react.forward_ref"),L0=Symbol.for("react.suspense"),V0=Symbol.for("react.suspense_list"),pE=Symbol.for("react.memo"),So=Symbol.for("react.lazy"),DN=Symbol.for("react.offscreen"),SC=Symbol.iterator;function sd(t){return t===null||typeof t!="object"?null:(t=SC&&t[SC]||t["@@iterator"],typeof t=="function"?t:null)}var qt=Object.assign,iw;function bd(t){if(iw===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);iw=e&&e[1]||""}return`
`+iw+t}var ow=!1;function aw(t,e){if(!t||ow)return"";ow=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ow=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?bd(t):""}function Zz(t){switch(t.tag){case 5:return bd(t.type);case 16:return bd("Lazy");case 13:return bd("Suspense");case 19:return bd("SuspenseList");case 0:case 2:case 15:return t=aw(t.type,!1),t;case 11:return t=aw(t.type.render,!1),t;case 1:return t=aw(t.type,!0),t;default:return""}}function F0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ic:return"Fragment";case sc:return"Portal";case j0:return"Profiler";case hE:return"StrictMode";case L0:return"Suspense";case V0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case NN:return(t.displayName||"Context")+".Consumer";case PN:return(t._context.displayName||"Context")+".Provider";case fE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case pE:return e=t.displayName||null,e!==null?e:F0(t.type)||"Memo";case So:e=t._payload,t=t._init;try{return F0(t(e))}catch{}}return null}function e5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F0(e);case 8:return e===hE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function aa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function t5(t){var e=kN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ep(t){t._valueTracker||(t._valueTracker=t5(t))}function MN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=kN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Km(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function U0(t,e){var n=e.checked;return qt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function TC(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=aa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ON(t,e){e=e.checked,e!=null&&dE(t,"checked",e,!1)}function B0(t,e){ON(t,e);var n=aa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$0(t,e.type,n):e.hasOwnProperty("defaultValue")&&$0(t,e.type,aa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function CC(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function $0(t,e,n){(e!=="number"||Km(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Sd=Array.isArray;function Sc(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+aa(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function z0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return qt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function AC(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(te(92));if(Sd(n)){if(1<n.length)throw Error(te(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:aa(n)}}function jN(t,e){var n=aa(e.value),r=aa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function RC(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function LN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function K0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?LN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bp,VN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bp=bp||document.createElement("div"),bp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ld={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},n5=["Webkit","ms","Moz","O"];Object.keys(Ld).forEach(function(t){n5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ld[e]=Ld[t]})});function FN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ld.hasOwnProperty(t)&&Ld[t]?(""+e).trim():e+"px"}function UN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=FN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var r5=qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function W0(t,e){if(e){if(r5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function H0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var q0=null;function mE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var G0=null,Tc=null,Cc=null;function IC(t){if(t=wf(t)){if(typeof G0!="function")throw Error(te(280));var e=t.stateNode;e&&(e=gv(e),G0(t.stateNode,t.type,e))}}function BN(t){Tc?Cc?Cc.push(t):Cc=[t]:Tc=t}function $N(){if(Tc){var t=Tc,e=Cc;if(Cc=Tc=null,IC(t),e)for(t=0;t<e.length;t++)IC(e[t])}}function zN(t,e){return t(e)}function KN(){}var lw=!1;function WN(t,e,n){if(lw)return t(e,n);lw=!0;try{return zN(t,e,n)}finally{lw=!1,(Tc!==null||Cc!==null)&&(KN(),$N())}}function ph(t,e){var n=t.stateNode;if(n===null)return null;var r=gv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(te(231,e,typeof n));return n}var Q0=!1;if(Gi)try{var id={};Object.defineProperty(id,"passive",{get:function(){Q0=!0}}),window.addEventListener("test",id,id),window.removeEventListener("test",id,id)}catch{Q0=!1}function s5(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Vd=!1,Wm=null,Hm=!1,Y0=null,i5={onError:function(t){Vd=!0,Wm=t}};function o5(t,e,n,r,s,i,o,a,l){Vd=!1,Wm=null,s5.apply(i5,arguments)}function a5(t,e,n,r,s,i,o,a,l){if(o5.apply(this,arguments),Vd){if(Vd){var c=Wm;Vd=!1,Wm=null}else throw Error(te(198));Hm||(Hm=!0,Y0=c)}}function Ol(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function HN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function PC(t){if(Ol(t)!==t)throw Error(te(188))}function l5(t){var e=t.alternate;if(!e){if(e=Ol(t),e===null)throw Error(te(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return PC(s),t;if(i===r)return PC(s),e;i=i.sibling}throw Error(te(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?t:e}function qN(t){return t=l5(t),t!==null?GN(t):null}function GN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=GN(t);if(e!==null)return e;t=t.sibling}return null}var QN=Yr.unstable_scheduleCallback,NC=Yr.unstable_cancelCallback,c5=Yr.unstable_shouldYield,u5=Yr.unstable_requestPaint,on=Yr.unstable_now,d5=Yr.unstable_getCurrentPriorityLevel,gE=Yr.unstable_ImmediatePriority,YN=Yr.unstable_UserBlockingPriority,qm=Yr.unstable_NormalPriority,h5=Yr.unstable_LowPriority,XN=Yr.unstable_IdlePriority,hv=null,si=null;function f5(t){if(si&&typeof si.onCommitFiberRoot=="function")try{si.onCommitFiberRoot(hv,t,void 0,(t.current.flags&128)===128)}catch{}}var Vs=Math.clz32?Math.clz32:g5,p5=Math.log,m5=Math.LN2;function g5(t){return t>>>=0,t===0?32:31-(p5(t)/m5|0)|0}var Sp=64,Tp=4194304;function Td(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Td(a):(i&=o,i!==0&&(r=Td(i)))}else o=n&~s,o!==0?r=Td(o):i!==0&&(r=Td(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Vs(e),s=1<<n,r|=t[n],e&=~s;return r}function v5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function y5(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Vs(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=v5(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function X0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function JN(){var t=Sp;return Sp<<=1,!(Sp&4194240)&&(Sp=64),t}function cw(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function vf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vs(e),t[e]=n}function w5(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Vs(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function vE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Vs(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var xt=0;function ZN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var eD,yE,tD,nD,rD,J0=!1,Cp=[],Qo=null,Yo=null,Xo=null,mh=new Map,gh=new Map,Ao=[],x5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function DC(t,e){switch(t){case"focusin":case"focusout":Qo=null;break;case"dragenter":case"dragleave":Yo=null;break;case"mouseover":case"mouseout":Xo=null;break;case"pointerover":case"pointerout":mh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gh.delete(e.pointerId)}}function od(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=wf(e),e!==null&&yE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function _5(t,e,n,r,s){switch(e){case"focusin":return Qo=od(Qo,t,e,n,r,s),!0;case"dragenter":return Yo=od(Yo,t,e,n,r,s),!0;case"mouseover":return Xo=od(Xo,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return mh.set(i,od(mh.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,gh.set(i,od(gh.get(i)||null,t,e,n,r,s)),!0}return!1}function sD(t){var e=Qa(t.target);if(e!==null){var n=Ol(e);if(n!==null){if(e=n.tag,e===13){if(e=HN(n),e!==null){t.blockedOn=e,rD(t.priority,function(){tD(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Z0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);q0=r,n.target.dispatchEvent(r),q0=null}else return e=wf(n),e!==null&&yE(e),t.blockedOn=n,!1;e.shift()}return!0}function kC(t,e,n){dm(t)&&n.delete(e)}function E5(){J0=!1,Qo!==null&&dm(Qo)&&(Qo=null),Yo!==null&&dm(Yo)&&(Yo=null),Xo!==null&&dm(Xo)&&(Xo=null),mh.forEach(kC),gh.forEach(kC)}function ad(t,e){t.blockedOn===e&&(t.blockedOn=null,J0||(J0=!0,Yr.unstable_scheduleCallback(Yr.unstable_NormalPriority,E5)))}function vh(t){function e(s){return ad(s,t)}if(0<Cp.length){ad(Cp[0],t);for(var n=1;n<Cp.length;n++){var r=Cp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Qo!==null&&ad(Qo,t),Yo!==null&&ad(Yo,t),Xo!==null&&ad(Xo,t),mh.forEach(e),gh.forEach(e),n=0;n<Ao.length;n++)r=Ao[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ao.length&&(n=Ao[0],n.blockedOn===null);)sD(n),n.blockedOn===null&&Ao.shift()}var Ac=oo.ReactCurrentBatchConfig,Qm=!0;function b5(t,e,n,r){var s=xt,i=Ac.transition;Ac.transition=null;try{xt=1,wE(t,e,n,r)}finally{xt=s,Ac.transition=i}}function S5(t,e,n,r){var s=xt,i=Ac.transition;Ac.transition=null;try{xt=4,wE(t,e,n,r)}finally{xt=s,Ac.transition=i}}function wE(t,e,n,r){if(Qm){var s=Z0(t,e,n,r);if(s===null)ww(t,e,r,Ym,n),DC(t,r);else if(_5(s,t,e,n,r))r.stopPropagation();else if(DC(t,r),e&4&&-1<x5.indexOf(t)){for(;s!==null;){var i=wf(s);if(i!==null&&eD(i),i=Z0(t,e,n,r),i===null&&ww(t,e,r,Ym,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ww(t,e,r,null,n)}}var Ym=null;function Z0(t,e,n,r){if(Ym=null,t=mE(r),t=Qa(t),t!==null)if(e=Ol(t),e===null)t=null;else if(n=e.tag,n===13){if(t=HN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ym=t,null}function iD(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(d5()){case gE:return 1;case YN:return 4;case qm:case h5:return 16;case XN:return 536870912;default:return 16}default:return 16}}var Ko=null,xE=null,hm=null;function oD(){if(hm)return hm;var t,e=xE,n=e.length,r,s="value"in Ko?Ko.value:Ko.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return hm=s.slice(t,1<r?1-r:void 0)}function fm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ap(){return!0}function MC(){return!1}function es(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ap:MC,this.isPropagationStopped=MC,this}return qt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ap)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ap)},persist:function(){},isPersistent:Ap}),e}var Su={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_E=es(Su),yf=qt({},Su,{view:0,detail:0}),T5=es(yf),uw,dw,ld,fv=qt({},yf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:EE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ld&&(ld&&t.type==="mousemove"?(uw=t.screenX-ld.screenX,dw=t.screenY-ld.screenY):dw=uw=0,ld=t),uw)},movementY:function(t){return"movementY"in t?t.movementY:dw}}),OC=es(fv),C5=qt({},fv,{dataTransfer:0}),A5=es(C5),R5=qt({},yf,{relatedTarget:0}),hw=es(R5),I5=qt({},Su,{animationName:0,elapsedTime:0,pseudoElement:0}),P5=es(I5),N5=qt({},Su,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),D5=es(N5),k5=qt({},Su,{data:0}),jC=es(k5),M5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function L5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=j5[t])?!!e[t]:!1}function EE(){return L5}var V5=qt({},yf,{key:function(t){if(t.key){var e=M5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?O5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:EE,charCode:function(t){return t.type==="keypress"?fm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),F5=es(V5),U5=qt({},fv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),LC=es(U5),B5=qt({},yf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:EE}),$5=es(B5),z5=qt({},Su,{propertyName:0,elapsedTime:0,pseudoElement:0}),K5=es(z5),W5=qt({},fv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H5=es(W5),q5=[9,13,27,32],bE=Gi&&"CompositionEvent"in window,Fd=null;Gi&&"documentMode"in document&&(Fd=document.documentMode);var G5=Gi&&"TextEvent"in window&&!Fd,aD=Gi&&(!bE||Fd&&8<Fd&&11>=Fd),VC=" ",FC=!1;function lD(t,e){switch(t){case"keyup":return q5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cD(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oc=!1;function Q5(t,e){switch(t){case"compositionend":return cD(e);case"keypress":return e.which!==32?null:(FC=!0,VC);case"textInput":return t=e.data,t===VC&&FC?null:t;default:return null}}function Y5(t,e){if(oc)return t==="compositionend"||!bE&&lD(t,e)?(t=oD(),hm=xE=Ko=null,oc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aD&&e.locale!=="ko"?null:e.data;default:return null}}var X5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function UC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!X5[t.type]:e==="textarea"}function uD(t,e,n,r){BN(r),e=Xm(e,"onChange"),0<e.length&&(n=new _E("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ud=null,yh=null;function J5(t){_D(t,0)}function pv(t){var e=cc(t);if(MN(e))return t}function Z5(t,e){if(t==="change")return e}var dD=!1;if(Gi){var fw;if(Gi){var pw="oninput"in document;if(!pw){var BC=document.createElement("div");BC.setAttribute("oninput","return;"),pw=typeof BC.oninput=="function"}fw=pw}else fw=!1;dD=fw&&(!document.documentMode||9<document.documentMode)}function $C(){Ud&&(Ud.detachEvent("onpropertychange",hD),yh=Ud=null)}function hD(t){if(t.propertyName==="value"&&pv(yh)){var e=[];uD(e,yh,t,mE(t)),WN(J5,e)}}function e3(t,e,n){t==="focusin"?($C(),Ud=e,yh=n,Ud.attachEvent("onpropertychange",hD)):t==="focusout"&&$C()}function t3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pv(yh)}function n3(t,e){if(t==="click")return pv(e)}function r3(t,e){if(t==="input"||t==="change")return pv(e)}function s3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bs=typeof Object.is=="function"?Object.is:s3;function wh(t,e){if(Bs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!O0.call(e,s)||!Bs(t[s],e[s]))return!1}return!0}function zC(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function KC(t,e){var n=zC(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zC(n)}}function fD(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fD(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pD(){for(var t=window,e=Km();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Km(t.document)}return e}function SE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function i3(t){var e=pD(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&fD(n.ownerDocument.documentElement,n)){if(r!==null&&SE(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=KC(n,i);var o=KC(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var o3=Gi&&"documentMode"in document&&11>=document.documentMode,ac=null,ex=null,Bd=null,tx=!1;function WC(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tx||ac==null||ac!==Km(r)||(r=ac,"selectionStart"in r&&SE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bd&&wh(Bd,r)||(Bd=r,r=Xm(ex,"onSelect"),0<r.length&&(e=new _E("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ac)))}function Rp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var lc={animationend:Rp("Animation","AnimationEnd"),animationiteration:Rp("Animation","AnimationIteration"),animationstart:Rp("Animation","AnimationStart"),transitionend:Rp("Transition","TransitionEnd")},mw={},mD={};Gi&&(mD=document.createElement("div").style,"AnimationEvent"in window||(delete lc.animationend.animation,delete lc.animationiteration.animation,delete lc.animationstart.animation),"TransitionEvent"in window||delete lc.transitionend.transition);function mv(t){if(mw[t])return mw[t];if(!lc[t])return t;var e=lc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mD)return mw[t]=e[n];return t}var gD=mv("animationend"),vD=mv("animationiteration"),yD=mv("animationstart"),wD=mv("transitionend"),xD=new Map,HC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _a(t,e){xD.set(t,e),Ml(e,[t])}for(var gw=0;gw<HC.length;gw++){var vw=HC[gw],a3=vw.toLowerCase(),l3=vw[0].toUpperCase()+vw.slice(1);_a(a3,"on"+l3)}_a(gD,"onAnimationEnd");_a(vD,"onAnimationIteration");_a(yD,"onAnimationStart");_a("dblclick","onDoubleClick");_a("focusin","onFocus");_a("focusout","onBlur");_a(wD,"onTransitionEnd");eu("onMouseEnter",["mouseout","mouseover"]);eu("onMouseLeave",["mouseout","mouseover"]);eu("onPointerEnter",["pointerout","pointerover"]);eu("onPointerLeave",["pointerout","pointerover"]);Ml("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ml("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ml("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ml("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ml("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ml("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cd));function qC(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,a5(r,e,void 0,t),t.currentTarget=null}function _D(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;qC(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;qC(s,a,c),i=l}}}if(Hm)throw t=Y0,Hm=!1,Y0=null,t}function Ot(t,e){var n=e[ox];n===void 0&&(n=e[ox]=new Set);var r=t+"__bubble";n.has(r)||(ED(e,t,2,!1),n.add(r))}function yw(t,e,n){var r=0;e&&(r|=4),ED(n,t,r,e)}var Ip="_reactListening"+Math.random().toString(36).slice(2);function xh(t){if(!t[Ip]){t[Ip]=!0,IN.forEach(function(n){n!=="selectionchange"&&(c3.has(n)||yw(n,!1,t),yw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ip]||(e[Ip]=!0,yw("selectionchange",!1,e))}}function ED(t,e,n,r){switch(iD(e)){case 1:var s=b5;break;case 4:s=S5;break;default:s=wE}n=s.bind(null,e,n,t),s=void 0,!Q0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ww(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Qa(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}WN(function(){var c=i,u=mE(n),h=[];e:{var p=xD.get(t);if(p!==void 0){var g=_E,w=t;switch(t){case"keypress":if(fm(n)===0)break e;case"keydown":case"keyup":g=F5;break;case"focusin":w="focus",g=hw;break;case"focusout":w="blur",g=hw;break;case"beforeblur":case"afterblur":g=hw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=OC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=A5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=$5;break;case gD:case vD:case yD:g=P5;break;case wD:g=K5;break;case"scroll":g=T5;break;case"wheel":g=H5;break;case"copy":case"cut":case"paste":g=D5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=LC}var v=(e&4)!==0,_=!v&&t==="scroll",x=v?p!==null?p+"Capture":null:p;v=[];for(var y=c,b;y!==null;){b=y;var A=b.stateNode;if(b.tag===5&&A!==null&&(b=A,x!==null&&(A=ph(y,x),A!=null&&v.push(_h(y,A,b)))),_)break;y=y.return}0<v.length&&(p=new g(p,w,null,n,u),h.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==q0&&(w=n.relatedTarget||n.fromElement)&&(Qa(w)||w[Qi]))break e;if((g||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=c,w=w?Qa(w):null,w!==null&&(_=Ol(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=c),g!==w)){if(v=OC,A="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=LC,A="onPointerLeave",x="onPointerEnter",y="pointer"),_=g==null?p:cc(g),b=w==null?p:cc(w),p=new v(A,y+"leave",g,n,u),p.target=_,p.relatedTarget=b,A=null,Qa(u)===c&&(v=new v(x,y+"enter",w,n,u),v.target=b,v.relatedTarget=_,A=v),_=A,g&&w)t:{for(v=g,x=w,y=0,b=v;b;b=Yl(b))y++;for(b=0,A=x;A;A=Yl(A))b++;for(;0<y-b;)v=Yl(v),y--;for(;0<b-y;)x=Yl(x),b--;for(;y--;){if(v===x||x!==null&&v===x.alternate)break t;v=Yl(v),x=Yl(x)}v=null}else v=null;g!==null&&GC(h,p,g,v,!1),w!==null&&_!==null&&GC(h,_,w,v,!0)}}e:{if(p=c?cc(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var P=Z5;else if(UC(p))if(dD)P=r3;else{P=t3;var O=e3}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=n3);if(P&&(P=P(t,c))){uD(h,P,n,u);break e}O&&O(t,p,c),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&$0(p,"number",p.value)}switch(O=c?cc(c):window,t){case"focusin":(UC(O)||O.contentEditable==="true")&&(ac=O,ex=c,Bd=null);break;case"focusout":Bd=ex=ac=null;break;case"mousedown":tx=!0;break;case"contextmenu":case"mouseup":case"dragend":tx=!1,WC(h,n,u);break;case"selectionchange":if(o3)break;case"keydown":case"keyup":WC(h,n,u)}var T;if(bE)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else oc?lD(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(aD&&n.locale!=="ko"&&(oc||E!=="onCompositionStart"?E==="onCompositionEnd"&&oc&&(T=oD()):(Ko=u,xE="value"in Ko?Ko.value:Ko.textContent,oc=!0)),O=Xm(c,E),0<O.length&&(E=new jC(E,t,null,n,u),h.push({event:E,listeners:O}),T?E.data=T:(T=cD(n),T!==null&&(E.data=T)))),(T=G5?Q5(t,n):Y5(t,n))&&(c=Xm(c,"onBeforeInput"),0<c.length&&(u=new jC("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=T))}_D(h,e)})}function _h(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xm(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ph(t,n),i!=null&&r.unshift(_h(t,i,s)),i=ph(t,e),i!=null&&r.push(_h(t,i,s))),t=t.return}return r}function Yl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function GC(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=ph(n,i),l!=null&&o.unshift(_h(n,l,a))):s||(l=ph(n,i),l!=null&&o.push(_h(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var u3=/\r\n?/g,d3=/\u0000|\uFFFD/g;function QC(t){return(typeof t=="string"?t:""+t).replace(u3,`
`).replace(d3,"")}function Pp(t,e,n){if(e=QC(e),QC(t)!==e&&n)throw Error(te(425))}function Jm(){}var nx=null,rx=null;function sx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ix=typeof setTimeout=="function"?setTimeout:void 0,h3=typeof clearTimeout=="function"?clearTimeout:void 0,YC=typeof Promise=="function"?Promise:void 0,f3=typeof queueMicrotask=="function"?queueMicrotask:typeof YC<"u"?function(t){return YC.resolve(null).then(t).catch(p3)}:ix;function p3(t){setTimeout(function(){throw t})}function xw(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),vh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);vh(e)}function Jo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function XC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Tu=Math.random().toString(36).slice(2),Zs="__reactFiber$"+Tu,Eh="__reactProps$"+Tu,Qi="__reactContainer$"+Tu,ox="__reactEvents$"+Tu,m3="__reactListeners$"+Tu,g3="__reactHandles$"+Tu;function Qa(t){var e=t[Zs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qi]||n[Zs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=XC(t);t!==null;){if(n=t[Zs])return n;t=XC(t)}return e}t=n,n=t.parentNode}return null}function wf(t){return t=t[Zs]||t[Qi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function cc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function gv(t){return t[Eh]||null}var ax=[],uc=-1;function Ea(t){return{current:t}}function jt(t){0>uc||(t.current=ax[uc],ax[uc]=null,uc--)}function It(t,e){uc++,ax[uc]=t.current,t.current=e}var la={},or=Ea(la),Ir=Ea(!1),vl=la;function tu(t,e){var n=t.type.contextTypes;if(!n)return la;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Pr(t){return t=t.childContextTypes,t!=null}function Zm(){jt(Ir),jt(or)}function JC(t,e,n){if(or.current!==la)throw Error(te(168));It(or,e),It(Ir,n)}function bD(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(te(108,e5(t)||"Unknown",s));return qt({},n,r)}function eg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||la,vl=or.current,It(or,t),It(Ir,Ir.current),!0}function ZC(t,e,n){var r=t.stateNode;if(!r)throw Error(te(169));n?(t=bD(t,e,vl),r.__reactInternalMemoizedMergedChildContext=t,jt(Ir),jt(or),It(or,t)):jt(Ir),It(Ir,n)}var Ai=null,vv=!1,_w=!1;function SD(t){Ai===null?Ai=[t]:Ai.push(t)}function v3(t){vv=!0,SD(t)}function ba(){if(!_w&&Ai!==null){_w=!0;var t=0,e=xt;try{var n=Ai;for(xt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ai=null,vv=!1}catch(s){throw Ai!==null&&(Ai=Ai.slice(t+1)),QN(gE,ba),s}finally{xt=e,_w=!1}}return null}var dc=[],hc=0,tg=null,ng=0,fs=[],ps=0,yl=null,Ii=1,Pi="";function za(t,e){dc[hc++]=ng,dc[hc++]=tg,tg=t,ng=e}function TD(t,e,n){fs[ps++]=Ii,fs[ps++]=Pi,fs[ps++]=yl,yl=t;var r=Ii;t=Pi;var s=32-Vs(r)-1;r&=~(1<<s),n+=1;var i=32-Vs(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ii=1<<32-Vs(e)+s|n<<s|r,Pi=i+t}else Ii=1<<i|n<<s|r,Pi=t}function TE(t){t.return!==null&&(za(t,1),TD(t,1,0))}function CE(t){for(;t===tg;)tg=dc[--hc],dc[hc]=null,ng=dc[--hc],dc[hc]=null;for(;t===yl;)yl=fs[--ps],fs[ps]=null,Pi=fs[--ps],fs[ps]=null,Ii=fs[--ps],fs[ps]=null}var qr=null,Wr=null,Ft=!1,ks=null;function CD(t,e){var n=gs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function eA(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qr=t,Wr=Jo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qr=t,Wr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=yl!==null?{id:Ii,overflow:Pi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,qr=t,Wr=null,!0):!1;default:return!1}}function lx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cx(t){if(Ft){var e=Wr;if(e){var n=e;if(!eA(t,e)){if(lx(t))throw Error(te(418));e=Jo(n.nextSibling);var r=qr;e&&eA(t,e)?CD(r,n):(t.flags=t.flags&-4097|2,Ft=!1,qr=t)}}else{if(lx(t))throw Error(te(418));t.flags=t.flags&-4097|2,Ft=!1,qr=t}}}function tA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qr=t}function Np(t){if(t!==qr)return!1;if(!Ft)return tA(t),Ft=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sx(t.type,t.memoizedProps)),e&&(e=Wr)){if(lx(t))throw AD(),Error(te(418));for(;e;)CD(t,e),e=Jo(e.nextSibling)}if(tA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Wr=Jo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Wr=null}}else Wr=qr?Jo(t.stateNode.nextSibling):null;return!0}function AD(){for(var t=Wr;t;)t=Jo(t.nextSibling)}function nu(){Wr=qr=null,Ft=!1}function AE(t){ks===null?ks=[t]:ks.push(t)}var y3=oo.ReactCurrentBatchConfig;function cd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,t))}return t}function Dp(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nA(t){var e=t._init;return e(t._payload)}function RD(t){function e(x,y){if(t){var b=x.deletions;b===null?(x.deletions=[y],x.flags|=16):b.push(y)}}function n(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function s(x,y){return x=na(x,y),x.index=0,x.sibling=null,x}function i(x,y,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<y?(x.flags|=2,y):b):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,y,b,A){return y===null||y.tag!==6?(y=Rw(b,x.mode,A),y.return=x,y):(y=s(y,b),y.return=x,y)}function l(x,y,b,A){var P=b.type;return P===ic?u(x,y,b.props.children,A,b.key):y!==null&&(y.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===So&&nA(P)===y.type)?(A=s(y,b.props),A.ref=cd(x,y,b),A.return=x,A):(A=xm(b.type,b.key,b.props,null,x.mode,A),A.ref=cd(x,y,b),A.return=x,A)}function c(x,y,b,A){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Iw(b,x.mode,A),y.return=x,y):(y=s(y,b.children||[]),y.return=x,y)}function u(x,y,b,A,P){return y===null||y.tag!==7?(y=fl(b,x.mode,A,P),y.return=x,y):(y=s(y,b),y.return=x,y)}function h(x,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Rw(""+y,x.mode,b),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case _p:return b=xm(y.type,y.key,y.props,null,x.mode,b),b.ref=cd(x,null,y),b.return=x,b;case sc:return y=Iw(y,x.mode,b),y.return=x,y;case So:var A=y._init;return h(x,A(y._payload),b)}if(Sd(y)||sd(y))return y=fl(y,x.mode,b,null),y.return=x,y;Dp(x,y)}return null}function p(x,y,b,A){var P=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return P!==null?null:a(x,y,""+b,A);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case _p:return b.key===P?l(x,y,b,A):null;case sc:return b.key===P?c(x,y,b,A):null;case So:return P=b._init,p(x,y,P(b._payload),A)}if(Sd(b)||sd(b))return P!==null?null:u(x,y,b,A,null);Dp(x,b)}return null}function g(x,y,b,A,P){if(typeof A=="string"&&A!==""||typeof A=="number")return x=x.get(b)||null,a(y,x,""+A,P);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case _p:return x=x.get(A.key===null?b:A.key)||null,l(y,x,A,P);case sc:return x=x.get(A.key===null?b:A.key)||null,c(y,x,A,P);case So:var O=A._init;return g(x,y,b,O(A._payload),P)}if(Sd(A)||sd(A))return x=x.get(b)||null,u(y,x,A,P,null);Dp(y,A)}return null}function w(x,y,b,A){for(var P=null,O=null,T=y,E=y=0,I=null;T!==null&&E<b.length;E++){T.index>E?(I=T,T=null):I=T.sibling;var R=p(x,T,b[E],A);if(R===null){T===null&&(T=I);break}t&&T&&R.alternate===null&&e(x,T),y=i(R,y,E),O===null?P=R:O.sibling=R,O=R,T=I}if(E===b.length)return n(x,T),Ft&&za(x,E),P;if(T===null){for(;E<b.length;E++)T=h(x,b[E],A),T!==null&&(y=i(T,y,E),O===null?P=T:O.sibling=T,O=T);return Ft&&za(x,E),P}for(T=r(x,T);E<b.length;E++)I=g(T,x,E,b[E],A),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?E:I.key),y=i(I,y,E),O===null?P=I:O.sibling=I,O=I);return t&&T.forEach(function(k){return e(x,k)}),Ft&&za(x,E),P}function v(x,y,b,A){var P=sd(b);if(typeof P!="function")throw Error(te(150));if(b=P.call(b),b==null)throw Error(te(151));for(var O=P=null,T=y,E=y=0,I=null,R=b.next();T!==null&&!R.done;E++,R=b.next()){T.index>E?(I=T,T=null):I=T.sibling;var k=p(x,T,R.value,A);if(k===null){T===null&&(T=I);break}t&&T&&k.alternate===null&&e(x,T),y=i(k,y,E),O===null?P=k:O.sibling=k,O=k,T=I}if(R.done)return n(x,T),Ft&&za(x,E),P;if(T===null){for(;!R.done;E++,R=b.next())R=h(x,R.value,A),R!==null&&(y=i(R,y,E),O===null?P=R:O.sibling=R,O=R);return Ft&&za(x,E),P}for(T=r(x,T);!R.done;E++,R=b.next())R=g(T,x,E,R.value,A),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?E:R.key),y=i(R,y,E),O===null?P=R:O.sibling=R,O=R);return t&&T.forEach(function(M){return e(x,M)}),Ft&&za(x,E),P}function _(x,y,b,A){if(typeof b=="object"&&b!==null&&b.type===ic&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case _p:e:{for(var P=b.key,O=y;O!==null;){if(O.key===P){if(P=b.type,P===ic){if(O.tag===7){n(x,O.sibling),y=s(O,b.props.children),y.return=x,x=y;break e}}else if(O.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===So&&nA(P)===O.type){n(x,O.sibling),y=s(O,b.props),y.ref=cd(x,O,b),y.return=x,x=y;break e}n(x,O);break}else e(x,O);O=O.sibling}b.type===ic?(y=fl(b.props.children,x.mode,A,b.key),y.return=x,x=y):(A=xm(b.type,b.key,b.props,null,x.mode,A),A.ref=cd(x,y,b),A.return=x,x=A)}return o(x);case sc:e:{for(O=b.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(x,y.sibling),y=s(y,b.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else e(x,y);y=y.sibling}y=Iw(b,x.mode,A),y.return=x,x=y}return o(x);case So:return O=b._init,_(x,y,O(b._payload),A)}if(Sd(b))return w(x,y,b,A);if(sd(b))return v(x,y,b,A);Dp(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(x,y.sibling),y=s(y,b),y.return=x,x=y):(n(x,y),y=Rw(b,x.mode,A),y.return=x,x=y),o(x)):n(x,y)}return _}var ru=RD(!0),ID=RD(!1),rg=Ea(null),sg=null,fc=null,RE=null;function IE(){RE=fc=sg=null}function PE(t){var e=rg.current;jt(rg),t._currentValue=e}function ux(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Rc(t,e){sg=t,RE=fc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Cr=!0),t.firstContext=null)}function xs(t){var e=t._currentValue;if(RE!==t)if(t={context:t,memoizedValue:e,next:null},fc===null){if(sg===null)throw Error(te(308));fc=t,sg.dependencies={lanes:0,firstContext:t}}else fc=fc.next=t;return e}var Ya=null;function NE(t){Ya===null?Ya=[t]:Ya.push(t)}function PD(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,NE(e)):(n.next=s.next,s.next=n),e.interleaved=n,Yi(t,r)}function Yi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var To=!1;function DE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ND(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ct&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Yi(t,n)}return s=r.interleaved,s===null?(e.next=e,NE(r)):(e.next=s.next,s.next=e),r.interleaved=e,Yi(t,n)}function pm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vE(t,n)}}function rA(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ig(t,e,n,r){var s=t.updateQueue;To=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,u=c=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,v=a;switch(p=e,g=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){h=w.call(g,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,p=typeof w=="function"?w.call(g,h,p):w,p==null)break e;h=qt({},h,p);break e;case 2:To=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,l=h):u=u.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);xl|=o,t.lanes=o,t.memoizedState=h}}function sA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(te(191,s));s.call(r)}}}var xf={},ii=Ea(xf),bh=Ea(xf),Sh=Ea(xf);function Xa(t){if(t===xf)throw Error(te(174));return t}function kE(t,e){switch(It(Sh,e),It(bh,t),It(ii,xf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:K0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=K0(e,t)}jt(ii),It(ii,e)}function su(){jt(ii),jt(bh),jt(Sh)}function DD(t){Xa(Sh.current);var e=Xa(ii.current),n=K0(e,t.type);e!==n&&(It(bh,t),It(ii,n))}function ME(t){bh.current===t&&(jt(ii),jt(bh))}var zt=Ea(0);function og(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ew=[];function OE(){for(var t=0;t<Ew.length;t++)Ew[t]._workInProgressVersionPrimary=null;Ew.length=0}var mm=oo.ReactCurrentDispatcher,bw=oo.ReactCurrentBatchConfig,wl=0,Ht=null,_n=null,Nn=null,ag=!1,$d=!1,Th=0,w3=0;function Yn(){throw Error(te(321))}function jE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Bs(t[n],e[n]))return!1;return!0}function LE(t,e,n,r,s,i){if(wl=i,Ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,mm.current=t===null||t.memoizedState===null?b3:S3,t=n(r,s),$d){i=0;do{if($d=!1,Th=0,25<=i)throw Error(te(301));i+=1,Nn=_n=null,e.updateQueue=null,mm.current=T3,t=n(r,s)}while($d)}if(mm.current=lg,e=_n!==null&&_n.next!==null,wl=0,Nn=_n=Ht=null,ag=!1,e)throw Error(te(300));return t}function VE(){var t=Th!==0;return Th=0,t}function Gs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?Ht.memoizedState=Nn=t:Nn=Nn.next=t,Nn}function _s(){if(_n===null){var t=Ht.alternate;t=t!==null?t.memoizedState:null}else t=_n.next;var e=Nn===null?Ht.memoizedState:Nn.next;if(e!==null)Nn=e,_n=t;else{if(t===null)throw Error(te(310));_n=t,t={memoizedState:_n.memoizedState,baseState:_n.baseState,baseQueue:_n.baseQueue,queue:_n.queue,next:null},Nn===null?Ht.memoizedState=Nn=t:Nn=Nn.next=t}return Nn}function Ch(t,e){return typeof e=="function"?e(t):e}function Sw(t){var e=_s(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=_n,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((wl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ht.lanes|=u,xl|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Bs(r,e.memoizedState)||(Cr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ht.lanes|=i,xl|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Tw(t){var e=_s(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Bs(i,e.memoizedState)||(Cr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function kD(){}function MD(t,e){var n=Ht,r=_s(),s=e(),i=!Bs(r.memoizedState,s);if(i&&(r.memoizedState=s,Cr=!0),r=r.queue,FE(LD.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Nn!==null&&Nn.memoizedState.tag&1){if(n.flags|=2048,Ah(9,jD.bind(null,n,r,s,e),void 0,null),kn===null)throw Error(te(349));wl&30||OD(n,e,s)}return s}function OD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ht.updateQueue,e===null?(e={lastEffect:null,stores:null},Ht.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function jD(t,e,n,r){e.value=n,e.getSnapshot=r,VD(e)&&FD(t)}function LD(t,e,n){return n(function(){VD(e)&&FD(t)})}function VD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Bs(t,n)}catch{return!0}}function FD(t){var e=Yi(t,1);e!==null&&Fs(e,t,1,-1)}function iA(t){var e=Gs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ch,lastRenderedState:t},e.queue=t,t=t.dispatch=E3.bind(null,Ht,t),[e.memoizedState,t]}function Ah(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ht.updateQueue,e===null?(e={lastEffect:null,stores:null},Ht.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function UD(){return _s().memoizedState}function gm(t,e,n,r){var s=Gs();Ht.flags|=t,s.memoizedState=Ah(1|e,n,void 0,r===void 0?null:r)}function yv(t,e,n,r){var s=_s();r=r===void 0?null:r;var i=void 0;if(_n!==null){var o=_n.memoizedState;if(i=o.destroy,r!==null&&jE(r,o.deps)){s.memoizedState=Ah(e,n,i,r);return}}Ht.flags|=t,s.memoizedState=Ah(1|e,n,i,r)}function oA(t,e){return gm(8390656,8,t,e)}function FE(t,e){return yv(2048,8,t,e)}function BD(t,e){return yv(4,2,t,e)}function $D(t,e){return yv(4,4,t,e)}function zD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function KD(t,e,n){return n=n!=null?n.concat([t]):null,yv(4,4,zD.bind(null,e,t),n)}function UE(){}function WD(t,e){var n=_s();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jE(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function HD(t,e){var n=_s();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jE(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function qD(t,e,n){return wl&21?(Bs(n,e)||(n=JN(),Ht.lanes|=n,xl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Cr=!0),t.memoizedState=n)}function x3(t,e){var n=xt;xt=n!==0&&4>n?n:4,t(!0);var r=bw.transition;bw.transition={};try{t(!1),e()}finally{xt=n,bw.transition=r}}function GD(){return _s().memoizedState}function _3(t,e,n){var r=ta(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},QD(t))YD(e,n);else if(n=PD(t,e,n,r),n!==null){var s=mr();Fs(n,t,r,s),XD(n,e,r)}}function E3(t,e,n){var r=ta(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(QD(t))YD(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Bs(a,o)){var l=e.interleaved;l===null?(s.next=s,NE(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=PD(t,e,s,r),n!==null&&(s=mr(),Fs(n,t,r,s),XD(n,e,r))}}function QD(t){var e=t.alternate;return t===Ht||e!==null&&e===Ht}function YD(t,e){$d=ag=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function XD(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vE(t,n)}}var lg={readContext:xs,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useInsertionEffect:Yn,useLayoutEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useMutableSource:Yn,useSyncExternalStore:Yn,useId:Yn,unstable_isNewReconciler:!1},b3={readContext:xs,useCallback:function(t,e){return Gs().memoizedState=[t,e===void 0?null:e],t},useContext:xs,useEffect:oA,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,gm(4194308,4,zD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gm(4194308,4,t,e)},useInsertionEffect:function(t,e){return gm(4,2,t,e)},useMemo:function(t,e){var n=Gs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Gs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_3.bind(null,Ht,t),[r.memoizedState,t]},useRef:function(t){var e=Gs();return t={current:t},e.memoizedState=t},useState:iA,useDebugValue:UE,useDeferredValue:function(t){return Gs().memoizedState=t},useTransition:function(){var t=iA(!1),e=t[0];return t=x3.bind(null,t[1]),Gs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ht,s=Gs();if(Ft){if(n===void 0)throw Error(te(407));n=n()}else{if(n=e(),kn===null)throw Error(te(349));wl&30||OD(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,oA(LD.bind(null,r,i,t),[t]),r.flags|=2048,Ah(9,jD.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Gs(),e=kn.identifierPrefix;if(Ft){var n=Pi,r=Ii;n=(r&~(1<<32-Vs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Th++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=w3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},S3={readContext:xs,useCallback:WD,useContext:xs,useEffect:FE,useImperativeHandle:KD,useInsertionEffect:BD,useLayoutEffect:$D,useMemo:HD,useReducer:Sw,useRef:UD,useState:function(){return Sw(Ch)},useDebugValue:UE,useDeferredValue:function(t){var e=_s();return qD(e,_n.memoizedState,t)},useTransition:function(){var t=Sw(Ch)[0],e=_s().memoizedState;return[t,e]},useMutableSource:kD,useSyncExternalStore:MD,useId:GD,unstable_isNewReconciler:!1},T3={readContext:xs,useCallback:WD,useContext:xs,useEffect:FE,useImperativeHandle:KD,useInsertionEffect:BD,useLayoutEffect:$D,useMemo:HD,useReducer:Tw,useRef:UD,useState:function(){return Tw(Ch)},useDebugValue:UE,useDeferredValue:function(t){var e=_s();return _n===null?e.memoizedState=t:qD(e,_n.memoizedState,t)},useTransition:function(){var t=Tw(Ch)[0],e=_s().memoizedState;return[t,e]},useMutableSource:kD,useSyncExternalStore:MD,useId:GD,unstable_isNewReconciler:!1};function Is(t,e){if(t&&t.defaultProps){e=qt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function dx(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:qt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wv={isMounted:function(t){return(t=t._reactInternals)?Ol(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=mr(),s=ta(t),i=Vi(r,s);i.payload=e,n!=null&&(i.callback=n),e=Zo(t,i,s),e!==null&&(Fs(e,t,s,r),pm(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=mr(),s=ta(t),i=Vi(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Zo(t,i,s),e!==null&&(Fs(e,t,s,r),pm(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=mr(),r=ta(t),s=Vi(n,r);s.tag=2,e!=null&&(s.callback=e),e=Zo(t,s,r),e!==null&&(Fs(e,t,r,n),pm(e,t,r))}};function aA(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!wh(n,r)||!wh(s,i):!0}function JD(t,e,n){var r=!1,s=la,i=e.contextType;return typeof i=="object"&&i!==null?i=xs(i):(s=Pr(e)?vl:or.current,r=e.contextTypes,i=(r=r!=null)?tu(t,s):la),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function lA(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wv.enqueueReplaceState(e,e.state,null)}function hx(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},DE(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=xs(i):(i=Pr(e)?vl:or.current,s.context=tu(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(dx(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&wv.enqueueReplaceState(s,s.state,null),ig(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function iu(t,e){try{var n="",r=e;do n+=Zz(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Cw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function fx(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var C3=typeof WeakMap=="function"?WeakMap:Map;function ZD(t,e,n){n=Vi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ug||(ug=!0,bx=r),fx(t,e)},n}function ek(t,e,n){n=Vi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){fx(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){fx(t,e),typeof r!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function cA(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new C3;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=U3.bind(null,t,e,n),e.then(t,t))}function uA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function dA(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vi(-1,1),e.tag=2,Zo(n,e,1))),n.lanes|=1),t)}var A3=oo.ReactCurrentOwner,Cr=!1;function fr(t,e,n,r){e.child=t===null?ID(e,null,n,r):ru(e,t.child,n,r)}function hA(t,e,n,r,s){n=n.render;var i=e.ref;return Rc(e,s),r=LE(t,e,n,r,i,s),n=VE(),t!==null&&!Cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Xi(t,e,s)):(Ft&&n&&TE(e),e.flags|=1,fr(t,e,r,s),e.child)}function fA(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!GE(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,tk(t,e,i,r,s)):(t=xm(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:wh,n(o,r)&&t.ref===e.ref)return Xi(t,e,s)}return e.flags|=1,t=na(i,r),t.ref=e.ref,t.return=e,e.child=t}function tk(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(wh(i,r)&&t.ref===e.ref)if(Cr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Cr=!0);else return e.lanes=t.lanes,Xi(t,e,s)}return px(t,e,n,r,s)}function nk(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},It(mc,$r),$r|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,It(mc,$r),$r|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,It(mc,$r),$r|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,It(mc,$r),$r|=r;return fr(t,e,s,n),e.child}function rk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function px(t,e,n,r,s){var i=Pr(n)?vl:or.current;return i=tu(e,i),Rc(e,s),n=LE(t,e,n,r,i,s),r=VE(),t!==null&&!Cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Xi(t,e,s)):(Ft&&r&&TE(e),e.flags|=1,fr(t,e,n,s),e.child)}function pA(t,e,n,r,s){if(Pr(n)){var i=!0;eg(e)}else i=!1;if(Rc(e,s),e.stateNode===null)vm(t,e),JD(e,n,r),hx(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=xs(c):(c=Pr(n)?vl:or.current,c=tu(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&lA(e,o,r,c),To=!1;var p=e.memoizedState;o.state=p,ig(e,r,o,s),l=e.memoizedState,a!==r||p!==l||Ir.current||To?(typeof u=="function"&&(dx(e,n,u,r),l=e.memoizedState),(a=To||aA(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ND(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Is(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=xs(l):(l=Pr(n)?vl:or.current,l=tu(e,l));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&lA(e,o,r,l),To=!1,p=e.memoizedState,o.state=p,ig(e,r,o,s);var w=e.memoizedState;a!==h||p!==w||Ir.current||To?(typeof g=="function"&&(dx(e,n,g,r),w=e.memoizedState),(c=To||aA(e,n,c,r,p,w,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return mx(t,e,n,r,i,s)}function mx(t,e,n,r,s,i){rk(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&ZC(e,n,!1),Xi(t,e,i);r=e.stateNode,A3.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ru(e,t.child,null,i),e.child=ru(e,null,a,i)):fr(t,e,a,i),e.memoizedState=r.state,s&&ZC(e,n,!0),e.child}function sk(t){var e=t.stateNode;e.pendingContext?JC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&JC(t,e.context,!1),kE(t,e.containerInfo)}function mA(t,e,n,r,s){return nu(),AE(s),e.flags|=256,fr(t,e,n,r),e.child}var gx={dehydrated:null,treeContext:null,retryLane:0};function vx(t){return{baseLanes:t,cachePool:null,transitions:null}}function ik(t,e,n){var r=e.pendingProps,s=zt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),It(zt,s&1),t===null)return cx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ev(o,r,0,null),t=fl(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=vx(n),e.memoizedState=gx,t):BE(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return R3(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=na(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=na(a,i):(i=fl(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?vx(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=gx,r}return i=t.child,t=i.sibling,r=na(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function BE(t,e){return e=Ev({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function kp(t,e,n,r){return r!==null&&AE(r),ru(e,t.child,null,n),t=BE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function R3(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Cw(Error(te(422))),kp(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ev({mode:"visible",children:r.children},s,0,null),i=fl(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ru(e,t.child,null,o),e.child.memoizedState=vx(o),e.memoizedState=gx,i);if(!(e.mode&1))return kp(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(te(419)),r=Cw(i,r,void 0),kp(t,e,o,r)}if(a=(o&t.childLanes)!==0,Cr||a){if(r=kn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Yi(t,s),Fs(r,t,s,-1))}return qE(),r=Cw(Error(te(421))),kp(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=B3.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Wr=Jo(s.nextSibling),qr=e,Ft=!0,ks=null,t!==null&&(fs[ps++]=Ii,fs[ps++]=Pi,fs[ps++]=yl,Ii=t.id,Pi=t.overflow,yl=e),e=BE(e,r.children),e.flags|=4096,e)}function gA(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ux(t.return,e,n)}function Aw(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function ok(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(fr(t,e,r.children,n),r=zt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gA(t,n,e);else if(t.tag===19)gA(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(It(zt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&og(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Aw(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&og(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Aw(e,!0,n,null,i);break;case"together":Aw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),xl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,n=na(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=na(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function I3(t,e,n){switch(e.tag){case 3:sk(e),nu();break;case 5:DD(e);break;case 1:Pr(e.type)&&eg(e);break;case 4:kE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;It(rg,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(It(zt,zt.current&1),e.flags|=128,null):n&e.child.childLanes?ik(t,e,n):(It(zt,zt.current&1),t=Xi(t,e,n),t!==null?t.sibling:null);It(zt,zt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ok(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),It(zt,zt.current),r)break;return null;case 22:case 23:return e.lanes=0,nk(t,e,n)}return Xi(t,e,n)}var ak,yx,lk,ck;ak=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yx=function(){};lk=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Xa(ii.current);var i=null;switch(n){case"input":s=U0(t,s),r=U0(t,r),i=[];break;case"select":s=qt({},s,{value:void 0}),r=qt({},r,{value:void 0}),i=[];break;case"textarea":s=z0(t,s),r=z0(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Jm)}W0(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(hh.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(hh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ot("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};ck=function(t,e,n,r){n!==r&&(e.flags|=4)};function ud(t,e){if(!Ft)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function P3(t,e,n){var r=e.pendingProps;switch(CE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xn(e),null;case 1:return Pr(e.type)&&Zm(),Xn(e),null;case 3:return r=e.stateNode,su(),jt(Ir),jt(or),OE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Np(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ks!==null&&(Cx(ks),ks=null))),yx(t,e),Xn(e),null;case 5:ME(e);var s=Xa(Sh.current);if(n=e.type,t!==null&&e.stateNode!=null)lk(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(te(166));return Xn(e),null}if(t=Xa(ii.current),Np(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Zs]=e,r[Eh]=i,t=(e.mode&1)!==0,n){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(s=0;s<Cd.length;s++)Ot(Cd[s],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":TC(r,i),Ot("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ot("invalid",r);break;case"textarea":AC(r,i),Ot("invalid",r)}W0(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Pp(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Pp(r.textContent,a,t),s=["children",""+a]):hh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ot("scroll",r)}switch(n){case"input":Ep(r),CC(r,i,!0);break;case"textarea":Ep(r),RC(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Jm)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=LN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Zs]=e,t[Eh]=r,ak(t,e,!1,!1),e.stateNode=t;e:{switch(o=H0(n,r),n){case"dialog":Ot("cancel",t),Ot("close",t),s=r;break;case"iframe":case"object":case"embed":Ot("load",t),s=r;break;case"video":case"audio":for(s=0;s<Cd.length;s++)Ot(Cd[s],t);s=r;break;case"source":Ot("error",t),s=r;break;case"img":case"image":case"link":Ot("error",t),Ot("load",t),s=r;break;case"details":Ot("toggle",t),s=r;break;case"input":TC(t,r),s=U0(t,r),Ot("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=qt({},r,{value:void 0}),Ot("invalid",t);break;case"textarea":AC(t,r),s=z0(t,r),Ot("invalid",t);break;default:s=r}W0(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?UN(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&VN(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&fh(t,l):typeof l=="number"&&fh(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hh.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ot("scroll",t):l!=null&&dE(t,i,l,o))}switch(n){case"input":Ep(t),CC(t,r,!1);break;case"textarea":Ep(t),RC(t);break;case"option":r.value!=null&&t.setAttribute("value",""+aa(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Sc(t,!!r.multiple,i,!1):r.defaultValue!=null&&Sc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Jm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xn(e),null;case 6:if(t&&e.stateNode!=null)ck(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(te(166));if(n=Xa(Sh.current),Xa(ii.current),Np(e)){if(r=e.stateNode,n=e.memoizedProps,r[Zs]=e,(i=r.nodeValue!==n)&&(t=qr,t!==null))switch(t.tag){case 3:Pp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pp(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zs]=e,e.stateNode=r}return Xn(e),null;case 13:if(jt(zt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ft&&Wr!==null&&e.mode&1&&!(e.flags&128))AD(),nu(),e.flags|=98560,i=!1;else if(i=Np(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(te(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(te(317));i[Zs]=e}else nu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xn(e),i=!1}else ks!==null&&(Cx(ks),ks=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||zt.current&1?Tn===0&&(Tn=3):qE())),e.updateQueue!==null&&(e.flags|=4),Xn(e),null);case 4:return su(),yx(t,e),t===null&&xh(e.stateNode.containerInfo),Xn(e),null;case 10:return PE(e.type._context),Xn(e),null;case 17:return Pr(e.type)&&Zm(),Xn(e),null;case 19:if(jt(zt),i=e.memoizedState,i===null)return Xn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ud(i,!1);else{if(Tn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=og(t),o!==null){for(e.flags|=128,ud(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return It(zt,zt.current&1|2),e.child}t=t.sibling}i.tail!==null&&on()>ou&&(e.flags|=128,r=!0,ud(i,!1),e.lanes=4194304)}else{if(!r)if(t=og(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ud(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ft)return Xn(e),null}else 2*on()-i.renderingStartTime>ou&&n!==1073741824&&(e.flags|=128,r=!0,ud(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=on(),e.sibling=null,n=zt.current,It(zt,r?n&1|2:n&1),e):(Xn(e),null);case 22:case 23:return HE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$r&1073741824&&(Xn(e),e.subtreeFlags&6&&(e.flags|=8192)):Xn(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function N3(t,e){switch(CE(e),e.tag){case 1:return Pr(e.type)&&Zm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return su(),jt(Ir),jt(or),OE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ME(e),null;case 13:if(jt(zt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));nu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return jt(zt),null;case 4:return su(),null;case 10:return PE(e.type._context),null;case 22:case 23:return HE(),null;case 24:return null;default:return null}}var Mp=!1,nr=!1,D3=typeof WeakSet=="function"?WeakSet:Set,ge=null;function pc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Jt(t,e,r)}else n.current=null}function wx(t,e,n){try{n()}catch(r){Jt(t,e,r)}}var vA=!1;function k3(t,e){if(nx=Qm,t=pD(),SE(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,p=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++u===r&&(l=o),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(rx={focusedElem:t,selectionRange:n},Qm=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,_=w.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:Is(e.type,v),_);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(A){Jt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return w=vA,vA=!1,w}function zd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&wx(e,n,i)}s=s.next}while(s!==r)}}function xv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function xx(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function uk(t){var e=t.alternate;e!==null&&(t.alternate=null,uk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Zs],delete e[Eh],delete e[ox],delete e[m3],delete e[g3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dk(t){return t.tag===5||t.tag===3||t.tag===4}function yA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _x(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Jm));else if(r!==4&&(t=t.child,t!==null))for(_x(t,e,n),t=t.sibling;t!==null;)_x(t,e,n),t=t.sibling}function Ex(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ex(t,e,n),t=t.sibling;t!==null;)Ex(t,e,n),t=t.sibling}var Vn=null,Ns=!1;function go(t,e,n){for(n=n.child;n!==null;)hk(t,e,n),n=n.sibling}function hk(t,e,n){if(si&&typeof si.onCommitFiberUnmount=="function")try{si.onCommitFiberUnmount(hv,n)}catch{}switch(n.tag){case 5:nr||pc(n,e);case 6:var r=Vn,s=Ns;Vn=null,go(t,e,n),Vn=r,Ns=s,Vn!==null&&(Ns?(t=Vn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Vn.removeChild(n.stateNode));break;case 18:Vn!==null&&(Ns?(t=Vn,n=n.stateNode,t.nodeType===8?xw(t.parentNode,n):t.nodeType===1&&xw(t,n),vh(t)):xw(Vn,n.stateNode));break;case 4:r=Vn,s=Ns,Vn=n.stateNode.containerInfo,Ns=!0,go(t,e,n),Vn=r,Ns=s;break;case 0:case 11:case 14:case 15:if(!nr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&wx(n,e,o),s=s.next}while(s!==r)}go(t,e,n);break;case 1:if(!nr&&(pc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Jt(n,e,a)}go(t,e,n);break;case 21:go(t,e,n);break;case 22:n.mode&1?(nr=(r=nr)||n.memoizedState!==null,go(t,e,n),nr=r):go(t,e,n);break;default:go(t,e,n)}}function wA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new D3),e.forEach(function(r){var s=$3.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function As(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Vn=a.stateNode,Ns=!1;break e;case 3:Vn=a.stateNode.containerInfo,Ns=!0;break e;case 4:Vn=a.stateNode.containerInfo,Ns=!0;break e}a=a.return}if(Vn===null)throw Error(te(160));hk(i,o,s),Vn=null,Ns=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Jt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fk(e,t),e=e.sibling}function fk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(As(e,t),qs(t),r&4){try{zd(3,t,t.return),xv(3,t)}catch(v){Jt(t,t.return,v)}try{zd(5,t,t.return)}catch(v){Jt(t,t.return,v)}}break;case 1:As(e,t),qs(t),r&512&&n!==null&&pc(n,n.return);break;case 5:if(As(e,t),qs(t),r&512&&n!==null&&pc(n,n.return),t.flags&32){var s=t.stateNode;try{fh(s,"")}catch(v){Jt(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&ON(s,i),H0(a,o);var c=H0(a,i);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?UN(s,h):u==="dangerouslySetInnerHTML"?VN(s,h):u==="children"?fh(s,h):dE(s,u,h,c)}switch(a){case"input":B0(s,i);break;case"textarea":jN(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Sc(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?Sc(s,!!i.multiple,i.defaultValue,!0):Sc(s,!!i.multiple,i.multiple?[]:"",!1))}s[Eh]=i}catch(v){Jt(t,t.return,v)}}break;case 6:if(As(e,t),qs(t),r&4){if(t.stateNode===null)throw Error(te(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Jt(t,t.return,v)}}break;case 3:if(As(e,t),qs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vh(e.containerInfo)}catch(v){Jt(t,t.return,v)}break;case 4:As(e,t),qs(t);break;case 13:As(e,t),qs(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(KE=on())),r&4&&wA(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(nr=(c=nr)||u,As(e,t),nr=c):As(e,t),qs(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ge=t,u=t.child;u!==null;){for(h=ge=u;ge!==null;){switch(p=ge,g=p.child,p.tag){case 0:case 11:case 14:case 15:zd(4,p,p.return);break;case 1:pc(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){Jt(r,n,v)}}break;case 5:pc(p,p.return);break;case 22:if(p.memoizedState!==null){_A(h);continue}}g!==null?(g.return=p,ge=g):_A(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=FN("display",o))}catch(v){Jt(t,t.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){Jt(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:As(e,t),qs(t),r&4&&wA(t);break;case 21:break;default:As(e,t),qs(t)}}function qs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(dk(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(fh(s,""),r.flags&=-33);var i=yA(t);Ex(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=yA(t);_x(t,a,o);break;default:throw Error(te(161))}}catch(l){Jt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function M3(t,e,n){ge=t,pk(t)}function pk(t,e,n){for(var r=(t.mode&1)!==0;ge!==null;){var s=ge,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Mp;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||nr;a=Mp;var c=nr;if(Mp=o,(nr=l)&&!c)for(ge=s;ge!==null;)o=ge,l=o.child,o.tag===22&&o.memoizedState!==null?EA(s):l!==null?(l.return=o,ge=l):EA(s);for(;i!==null;)ge=i,pk(i),i=i.sibling;ge=s,Mp=a,nr=c}xA(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ge=i):xA(t)}}function xA(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nr||xv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nr)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Is(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&sA(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}sA(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&vh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}nr||e.flags&512&&xx(e)}catch(p){Jt(e,e.return,p)}}if(e===t){ge=null;break}if(n=e.sibling,n!==null){n.return=e.return,ge=n;break}ge=e.return}}function _A(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ge=n;break}ge=e.return}}function EA(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xv(4,e)}catch(l){Jt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Jt(e,s,l)}}var i=e.return;try{xx(e)}catch(l){Jt(e,i,l)}break;case 5:var o=e.return;try{xx(e)}catch(l){Jt(e,o,l)}}}catch(l){Jt(e,e.return,l)}if(e===t){ge=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ge=a;break}ge=e.return}}var O3=Math.ceil,cg=oo.ReactCurrentDispatcher,$E=oo.ReactCurrentOwner,vs=oo.ReactCurrentBatchConfig,ct=0,kn=null,pn=null,$n=0,$r=0,mc=Ea(0),Tn=0,Rh=null,xl=0,_v=0,zE=0,Kd=null,Tr=null,KE=0,ou=1/0,Ci=null,ug=!1,bx=null,ea=null,Op=!1,Wo=null,dg=0,Wd=0,Sx=null,ym=-1,wm=0;function mr(){return ct&6?on():ym!==-1?ym:ym=on()}function ta(t){return t.mode&1?ct&2&&$n!==0?$n&-$n:y3.transition!==null?(wm===0&&(wm=JN()),wm):(t=xt,t!==0||(t=window.event,t=t===void 0?16:iD(t.type)),t):1}function Fs(t,e,n,r){if(50<Wd)throw Wd=0,Sx=null,Error(te(185));vf(t,n,r),(!(ct&2)||t!==kn)&&(t===kn&&(!(ct&2)&&(_v|=n),Tn===4&&Ro(t,$n)),Nr(t,r),n===1&&ct===0&&!(e.mode&1)&&(ou=on()+500,vv&&ba()))}function Nr(t,e){var n=t.callbackNode;y5(t,e);var r=Gm(t,t===kn?$n:0);if(r===0)n!==null&&NC(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&NC(n),e===1)t.tag===0?v3(bA.bind(null,t)):SD(bA.bind(null,t)),f3(function(){!(ct&6)&&ba()}),n=null;else{switch(ZN(r)){case 1:n=gE;break;case 4:n=YN;break;case 16:n=qm;break;case 536870912:n=XN;break;default:n=qm}n=Ek(n,mk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function mk(t,e){if(ym=-1,wm=0,ct&6)throw Error(te(327));var n=t.callbackNode;if(Ic()&&t.callbackNode!==n)return null;var r=Gm(t,t===kn?$n:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=hg(t,r);else{e=r;var s=ct;ct|=2;var i=vk();(kn!==t||$n!==e)&&(Ci=null,ou=on()+500,hl(t,e));do try{V3();break}catch(a){gk(t,a)}while(!0);IE(),cg.current=i,ct=s,pn!==null?e=0:(kn=null,$n=0,e=Tn)}if(e!==0){if(e===2&&(s=X0(t),s!==0&&(r=s,e=Tx(t,s))),e===1)throw n=Rh,hl(t,0),Ro(t,r),Nr(t,on()),n;if(e===6)Ro(t,r);else{if(s=t.current.alternate,!(r&30)&&!j3(s)&&(e=hg(t,r),e===2&&(i=X0(t),i!==0&&(r=i,e=Tx(t,i))),e===1))throw n=Rh,hl(t,0),Ro(t,r),Nr(t,on()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(te(345));case 2:Ka(t,Tr,Ci);break;case 3:if(Ro(t,r),(r&130023424)===r&&(e=KE+500-on(),10<e)){if(Gm(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){mr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ix(Ka.bind(null,t,Tr,Ci),e);break}Ka(t,Tr,Ci);break;case 4:if(Ro(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Vs(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=on()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*O3(r/1960))-r,10<r){t.timeoutHandle=ix(Ka.bind(null,t,Tr,Ci),r);break}Ka(t,Tr,Ci);break;case 5:Ka(t,Tr,Ci);break;default:throw Error(te(329))}}}return Nr(t,on()),t.callbackNode===n?mk.bind(null,t):null}function Tx(t,e){var n=Kd;return t.current.memoizedState.isDehydrated&&(hl(t,e).flags|=256),t=hg(t,e),t!==2&&(e=Tr,Tr=n,e!==null&&Cx(e)),t}function Cx(t){Tr===null?Tr=t:Tr.push.apply(Tr,t)}function j3(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Bs(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ro(t,e){for(e&=~zE,e&=~_v,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Vs(e),r=1<<n;t[n]=-1,e&=~r}}function bA(t){if(ct&6)throw Error(te(327));Ic();var e=Gm(t,0);if(!(e&1))return Nr(t,on()),null;var n=hg(t,e);if(t.tag!==0&&n===2){var r=X0(t);r!==0&&(e=r,n=Tx(t,r))}if(n===1)throw n=Rh,hl(t,0),Ro(t,e),Nr(t,on()),n;if(n===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ka(t,Tr,Ci),Nr(t,on()),null}function WE(t,e){var n=ct;ct|=1;try{return t(e)}finally{ct=n,ct===0&&(ou=on()+500,vv&&ba())}}function _l(t){Wo!==null&&Wo.tag===0&&!(ct&6)&&Ic();var e=ct;ct|=1;var n=vs.transition,r=xt;try{if(vs.transition=null,xt=1,t)return t()}finally{xt=r,vs.transition=n,ct=e,!(ct&6)&&ba()}}function HE(){$r=mc.current,jt(mc)}function hl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,h3(n)),pn!==null)for(n=pn.return;n!==null;){var r=n;switch(CE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zm();break;case 3:su(),jt(Ir),jt(or),OE();break;case 5:ME(r);break;case 4:su();break;case 13:jt(zt);break;case 19:jt(zt);break;case 10:PE(r.type._context);break;case 22:case 23:HE()}n=n.return}if(kn=t,pn=t=na(t.current,null),$n=$r=e,Tn=0,Rh=null,zE=_v=xl=0,Tr=Kd=null,Ya!==null){for(e=0;e<Ya.length;e++)if(n=Ya[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ya=null}return t}function gk(t,e){do{var n=pn;try{if(IE(),mm.current=lg,ag){for(var r=Ht.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ag=!1}if(wl=0,Nn=_n=Ht=null,$d=!1,Th=0,$E.current=null,n===null||n.return===null){Tn=1,Rh=e,pn=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=$n,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=uA(o);if(g!==null){g.flags&=-257,dA(g,o,a,i,e),g.mode&1&&cA(i,c,e),e=g,l=c;var w=e.updateQueue;if(w===null){var v=new Set;v.add(l),e.updateQueue=v}else w.add(l);break e}else{if(!(e&1)){cA(i,c,e),qE();break e}l=Error(te(426))}}else if(Ft&&a.mode&1){var _=uA(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),dA(_,o,a,i,e),AE(iu(l,a));break e}}i=l=iu(l,a),Tn!==4&&(Tn=2),Kd===null?Kd=[i]:Kd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=ZD(i,l,e);rA(i,x);break e;case 1:a=l;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ea===null||!ea.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=ek(i,a,e);rA(i,A);break e}}i=i.return}while(i!==null)}wk(n)}catch(P){e=P,pn===n&&n!==null&&(pn=n=n.return);continue}break}while(!0)}function vk(){var t=cg.current;return cg.current=lg,t===null?lg:t}function qE(){(Tn===0||Tn===3||Tn===2)&&(Tn=4),kn===null||!(xl&268435455)&&!(_v&268435455)||Ro(kn,$n)}function hg(t,e){var n=ct;ct|=2;var r=vk();(kn!==t||$n!==e)&&(Ci=null,hl(t,e));do try{L3();break}catch(s){gk(t,s)}while(!0);if(IE(),ct=n,cg.current=r,pn!==null)throw Error(te(261));return kn=null,$n=0,Tn}function L3(){for(;pn!==null;)yk(pn)}function V3(){for(;pn!==null&&!c5();)yk(pn)}function yk(t){var e=_k(t.alternate,t,$r);t.memoizedProps=t.pendingProps,e===null?wk(t):pn=e,$E.current=null}function wk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=N3(n,e),n!==null){n.flags&=32767,pn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Tn=6,pn=null;return}}else if(n=P3(n,e,$r),n!==null){pn=n;return}if(e=e.sibling,e!==null){pn=e;return}pn=e=t}while(e!==null);Tn===0&&(Tn=5)}function Ka(t,e,n){var r=xt,s=vs.transition;try{vs.transition=null,xt=1,F3(t,e,n,r)}finally{vs.transition=s,xt=r}return null}function F3(t,e,n,r){do Ic();while(Wo!==null);if(ct&6)throw Error(te(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(w5(t,i),t===kn&&(pn=kn=null,$n=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Op||(Op=!0,Ek(qm,function(){return Ic(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=vs.transition,vs.transition=null;var o=xt;xt=1;var a=ct;ct|=4,$E.current=null,k3(t,n),fk(n,t),i3(rx),Qm=!!nx,rx=nx=null,t.current=n,M3(n),u5(),ct=a,xt=o,vs.transition=i}else t.current=n;if(Op&&(Op=!1,Wo=t,dg=s),i=t.pendingLanes,i===0&&(ea=null),f5(n.stateNode),Nr(t,on()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ug)throw ug=!1,t=bx,bx=null,t;return dg&1&&t.tag!==0&&Ic(),i=t.pendingLanes,i&1?t===Sx?Wd++:(Wd=0,Sx=t):Wd=0,ba(),null}function Ic(){if(Wo!==null){var t=ZN(dg),e=vs.transition,n=xt;try{if(vs.transition=null,xt=16>t?16:t,Wo===null)var r=!1;else{if(t=Wo,Wo=null,dg=0,ct&6)throw Error(te(331));var s=ct;for(ct|=4,ge=t.current;ge!==null;){var i=ge,o=i.child;if(ge.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ge=c;ge!==null;){var u=ge;switch(u.tag){case 0:case 11:case 15:zd(8,u,i)}var h=u.child;if(h!==null)h.return=u,ge=h;else for(;ge!==null;){u=ge;var p=u.sibling,g=u.return;if(uk(u),u===c){ge=null;break}if(p!==null){p.return=g,ge=p;break}ge=g}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}ge=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ge=o;else e:for(;ge!==null;){if(i=ge,i.flags&2048)switch(i.tag){case 0:case 11:case 15:zd(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,ge=x;break e}ge=i.return}}var y=t.current;for(ge=y;ge!==null;){o=ge;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ge=b;else e:for(o=y;ge!==null;){if(a=ge,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xv(9,a)}}catch(P){Jt(a,a.return,P)}if(a===o){ge=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,ge=A;break e}ge=a.return}}if(ct=s,ba(),si&&typeof si.onPostCommitFiberRoot=="function")try{si.onPostCommitFiberRoot(hv,t)}catch{}r=!0}return r}finally{xt=n,vs.transition=e}}return!1}function SA(t,e,n){e=iu(n,e),e=ZD(t,e,1),t=Zo(t,e,1),e=mr(),t!==null&&(vf(t,1,e),Nr(t,e))}function Jt(t,e,n){if(t.tag===3)SA(t,t,n);else for(;e!==null;){if(e.tag===3){SA(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ea===null||!ea.has(r))){t=iu(n,t),t=ek(e,t,1),e=Zo(e,t,1),t=mr(),e!==null&&(vf(e,1,t),Nr(e,t));break}}e=e.return}}function U3(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=mr(),t.pingedLanes|=t.suspendedLanes&n,kn===t&&($n&n)===n&&(Tn===4||Tn===3&&($n&130023424)===$n&&500>on()-KE?hl(t,0):zE|=n),Nr(t,e)}function xk(t,e){e===0&&(t.mode&1?(e=Tp,Tp<<=1,!(Tp&130023424)&&(Tp=4194304)):e=1);var n=mr();t=Yi(t,e),t!==null&&(vf(t,e,n),Nr(t,n))}function B3(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),xk(t,n)}function $3(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(e),xk(t,n)}var _k;_k=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ir.current)Cr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Cr=!1,I3(t,e,n);Cr=!!(t.flags&131072)}else Cr=!1,Ft&&e.flags&1048576&&TD(e,ng,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;vm(t,e),t=e.pendingProps;var s=tu(e,or.current);Rc(e,n),s=LE(null,e,r,t,s,n);var i=VE();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pr(r)?(i=!0,eg(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,DE(e),s.updater=wv,e.stateNode=s,s._reactInternals=e,hx(e,r,t,n),e=mx(null,e,r,!0,i,n)):(e.tag=0,Ft&&i&&TE(e),fr(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(vm(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=K3(r),t=Is(r,t),s){case 0:e=px(null,e,r,t,n);break e;case 1:e=pA(null,e,r,t,n);break e;case 11:e=hA(null,e,r,t,n);break e;case 14:e=fA(null,e,r,Is(r.type,t),n);break e}throw Error(te(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Is(r,s),px(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Is(r,s),pA(t,e,r,s,n);case 3:e:{if(sk(e),t===null)throw Error(te(387));r=e.pendingProps,i=e.memoizedState,s=i.element,ND(t,e),ig(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=iu(Error(te(423)),e),e=mA(t,e,r,n,s);break e}else if(r!==s){s=iu(Error(te(424)),e),e=mA(t,e,r,n,s);break e}else for(Wr=Jo(e.stateNode.containerInfo.firstChild),qr=e,Ft=!0,ks=null,n=ID(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(nu(),r===s){e=Xi(t,e,n);break e}fr(t,e,r,n)}e=e.child}return e;case 5:return DD(e),t===null&&cx(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,sx(r,s)?o=null:i!==null&&sx(r,i)&&(e.flags|=32),rk(t,e),fr(t,e,o,n),e.child;case 6:return t===null&&cx(e),null;case 13:return ik(t,e,n);case 4:return kE(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ru(e,null,r,n):fr(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Is(r,s),hA(t,e,r,s,n);case 7:return fr(t,e,e.pendingProps,n),e.child;case 8:return fr(t,e,e.pendingProps.children,n),e.child;case 12:return fr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,It(rg,r._currentValue),r._currentValue=o,i!==null)if(Bs(i.value,o)){if(i.children===s.children&&!Ir.current){e=Xi(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Vi(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),ux(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(te(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ux(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}fr(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Rc(e,n),s=xs(s),r=r(s),e.flags|=1,fr(t,e,r,n),e.child;case 14:return r=e.type,s=Is(r,e.pendingProps),s=Is(r.type,s),fA(t,e,r,s,n);case 15:return tk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Is(r,s),vm(t,e),e.tag=1,Pr(r)?(t=!0,eg(e)):t=!1,Rc(e,n),JD(e,r,s),hx(e,r,s,n),mx(null,e,r,!0,t,n);case 19:return ok(t,e,n);case 22:return nk(t,e,n)}throw Error(te(156,e.tag))};function Ek(t,e){return QN(t,e)}function z3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gs(t,e,n,r){return new z3(t,e,n,r)}function GE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function K3(t){if(typeof t=="function")return GE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===fE)return 11;if(t===pE)return 14}return 2}function na(t,e){var n=t.alternate;return n===null?(n=gs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function xm(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")GE(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ic:return fl(n.children,s,i,e);case hE:o=8,s|=8;break;case j0:return t=gs(12,n,e,s|2),t.elementType=j0,t.lanes=i,t;case L0:return t=gs(13,n,e,s),t.elementType=L0,t.lanes=i,t;case V0:return t=gs(19,n,e,s),t.elementType=V0,t.lanes=i,t;case DN:return Ev(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case PN:o=10;break e;case NN:o=9;break e;case fE:o=11;break e;case pE:o=14;break e;case So:o=16,r=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=gs(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function fl(t,e,n,r){return t=gs(7,t,r,e),t.lanes=n,t}function Ev(t,e,n,r){return t=gs(22,t,r,e),t.elementType=DN,t.lanes=n,t.stateNode={isHidden:!1},t}function Rw(t,e,n){return t=gs(6,t,null,e),t.lanes=n,t}function Iw(t,e,n){return e=gs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function W3(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cw(0),this.expirationTimes=cw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cw(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function QE(t,e,n,r,s,i,o,a,l){return t=new W3(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=gs(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},DE(i),t}function H3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function bk(t){if(!t)return la;t=t._reactInternals;e:{if(Ol(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var n=t.type;if(Pr(n))return bD(t,n,e)}return e}function Sk(t,e,n,r,s,i,o,a,l){return t=QE(n,r,!0,t,s,i,o,a,l),t.context=bk(null),n=t.current,r=mr(),s=ta(n),i=Vi(r,s),i.callback=e??null,Zo(n,i,s),t.current.lanes=s,vf(t,s,r),Nr(t,r),t}function bv(t,e,n,r){var s=e.current,i=mr(),o=ta(s);return n=bk(n),e.context===null?e.context=n:e.pendingContext=n,e=Vi(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Zo(s,e,o),t!==null&&(Fs(t,s,o,i),pm(t,s,o)),o}function fg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function TA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function YE(t,e){TA(t,e),(t=t.alternate)&&TA(t,e)}function q3(){return null}var Tk=typeof reportError=="function"?reportError:function(t){console.error(t)};function XE(t){this._internalRoot=t}Sv.prototype.render=XE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));bv(t,e,null,null)};Sv.prototype.unmount=XE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_l(function(){bv(null,t,null,null)}),e[Qi]=null}};function Sv(t){this._internalRoot=t}Sv.prototype.unstable_scheduleHydration=function(t){if(t){var e=nD();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ao.length&&e!==0&&e<Ao[n].priority;n++);Ao.splice(n,0,t),n===0&&sD(t)}};function JE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Tv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function CA(){}function G3(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=fg(o);i.call(c)}}var o=Sk(e,r,t,0,null,!1,!1,"",CA);return t._reactRootContainer=o,t[Qi]=o.current,xh(t.nodeType===8?t.parentNode:t),_l(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=fg(l);a.call(c)}}var l=QE(t,0,!1,null,null,!1,!1,"",CA);return t._reactRootContainer=l,t[Qi]=l.current,xh(t.nodeType===8?t.parentNode:t),_l(function(){bv(e,l,n,r)}),l}function Cv(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=fg(o);a.call(l)}}bv(e,o,t,s)}else o=G3(n,e,t,s,r);return fg(o)}eD=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Td(e.pendingLanes);n!==0&&(vE(e,n|1),Nr(e,on()),!(ct&6)&&(ou=on()+500,ba()))}break;case 13:_l(function(){var r=Yi(t,1);if(r!==null){var s=mr();Fs(r,t,1,s)}}),YE(t,1)}};yE=function(t){if(t.tag===13){var e=Yi(t,134217728);if(e!==null){var n=mr();Fs(e,t,134217728,n)}YE(t,134217728)}};tD=function(t){if(t.tag===13){var e=ta(t),n=Yi(t,e);if(n!==null){var r=mr();Fs(n,t,e,r)}YE(t,e)}};nD=function(){return xt};rD=function(t,e){var n=xt;try{return xt=t,e()}finally{xt=n}};G0=function(t,e,n){switch(e){case"input":if(B0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=gv(r);if(!s)throw Error(te(90));MN(r),B0(r,s)}}}break;case"textarea":jN(t,n);break;case"select":e=n.value,e!=null&&Sc(t,!!n.multiple,e,!1)}};zN=WE;KN=_l;var Q3={usingClientEntryPoint:!1,Events:[wf,cc,gv,BN,$N,WE]},dd={findFiberByHostInstance:Qa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y3={bundleType:dd.bundleType,version:dd.version,rendererPackageName:dd.rendererPackageName,rendererConfig:dd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qN(t),t===null?null:t.stateNode},findFiberByHostInstance:dd.findFiberByHostInstance||q3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jp.isDisabled&&jp.supportsFiber)try{hv=jp.inject(Y3),si=jp}catch{}}Zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q3;Zr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!JE(e))throw Error(te(200));return H3(t,e,null,n)};Zr.createRoot=function(t,e){if(!JE(t))throw Error(te(299));var n=!1,r="",s=Tk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=QE(t,1,!1,null,null,n,!1,r,s),t[Qi]=e.current,xh(t.nodeType===8?t.parentNode:t),new XE(e)};Zr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=qN(e),t=t===null?null:t.stateNode,t};Zr.flushSync=function(t){return _l(t)};Zr.hydrate=function(t,e,n){if(!Tv(e))throw Error(te(200));return Cv(null,t,e,!0,n)};Zr.hydrateRoot=function(t,e,n){if(!JE(t))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Tk;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Sk(e,null,t,1,n??null,s,!1,i,o),t[Qi]=e.current,xh(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Sv(e)};Zr.render=function(t,e,n){if(!Tv(e))throw Error(te(200));return Cv(null,t,e,!1,n)};Zr.unmountComponentAtNode=function(t){if(!Tv(t))throw Error(te(40));return t._reactRootContainer?(_l(function(){Cv(null,null,t,!1,function(){t._reactRootContainer=null,t[Qi]=null})}),!0):!1};Zr.unstable_batchedUpdates=WE;Zr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Tv(n))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return Cv(t,e,n,!1,r)};Zr.version="18.3.1-next-f1338f8080-20240426";function Ck(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ck)}catch(t){console.error(t)}}Ck(),CN.exports=Zr;var Ar=CN.exports;const _f=sE(Ar),X3=fN({__proto__:null,default:_f},[Ar]);var AA=Ar;M0.createRoot=AA.createRoot,M0.hydrateRoot=AA.hydrateRoot;var RA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},J3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Rk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[u],n[h],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ak(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):J3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new Z3;const p=i<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),h!==64){const w=c<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Z3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e6=function(t){const e=Ak(t);return Rk.encodeByteArray(e,!0)},pg=function(t){return e6(t).replace(/\./g,"")},Ik=function(t){try{return Rk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=()=>t6().__FIREBASE_DEFAULTS__,r6=()=>{if(typeof process>"u"||typeof RA>"u")return;const t=RA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},s6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ik(t[1]);return e&&JSON.parse(e)},Av=()=>{try{return n6()||r6()||s6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Pk=t=>{var e,n;return(n=(e=Av())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Nk=t=>{const e=Pk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Dk=()=>{var t;return(t=Av())===null||t===void 0?void 0:t.config},kk=t=>{var e;return(e=Av())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i6=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[pg(JSON.stringify(n)),pg(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function o6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ar())}function a6(){var t;const e=(t=Av())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function l6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ok(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function c6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function u6(){const t=ar();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function d6(){return!a6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jk(){try{return typeof indexedDB=="object"}catch{return!1}}function Lk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function h6(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6="FirebaseError";class ts extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=f6,Object.setPrototypeOf(this,ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?p6(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ts(s,a,r)}}function p6(t,e){return t.replace(m6,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const m6=/\{\$([^}]+)}/g;function g6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ih(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(IA(i)&&IA(o)){if(!Ih(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function IA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function v6(t,e){const n=new y6(t,e);return n.subscribe.bind(n)}class y6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");w6(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Pw),s.error===void 0&&(s.error=Pw),s.complete===void 0&&(s.complete=Pw);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function w6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Pw(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=1e3,_6=2,E6=4*60*60*1e3,b6=.5;function PA(t,e=x6,n=_6){const r=e*Math.pow(n,t),s=Math.round(b6*r*(Math.random()-.5)*2);return Math.min(E6,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t){return t&&t._delegate?t._delegate:t}class Es{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S6=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new i6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(C6(e))try{this.getOrInitializeService({instanceIdentifier:Wa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wa){return this.instances.has(e)}getOptions(e=Wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:T6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wa){return this.component?this.component.multipleInstances?e:Wa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function T6(t){return t===Wa?void 0:t}function C6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new S6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(st||(st={}));const R6={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},I6=st.INFO,P6={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},N6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=P6[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rv{constructor(e){this.name=e,this._logLevel=I6,this._logHandler=N6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?R6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}const D6=(t,e)=>e.some(n=>t instanceof n);let NA,DA;function k6(){return NA||(NA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function M6(){return DA||(DA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vk=new WeakMap,Ax=new WeakMap,Fk=new WeakMap,Nw=new WeakMap,ZE=new WeakMap;function O6(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ra(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Vk.set(n,t)}).catch(()=>{}),ZE.set(e,t),e}function j6(t){if(Ax.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ax.set(t,e)}let Rx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ax.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Fk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ra(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function L6(t){Rx=t(Rx)}function V6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Dw(this),e,...n);return Fk.set(r,e.sort?e.sort():[e]),ra(r)}:M6().includes(t)?function(...e){return t.apply(Dw(this),e),ra(Vk.get(this))}:function(...e){return ra(t.apply(Dw(this),e))}}function F6(t){return typeof t=="function"?V6(t):(t instanceof IDBTransaction&&j6(t),D6(t,k6())?new Proxy(t,Rx):t)}function ra(t){if(t instanceof IDBRequest)return O6(t);if(Nw.has(t))return Nw.get(t);const e=F6(t);return e!==t&&(Nw.set(t,e),ZE.set(e,t)),e}const Dw=t=>ZE.get(t);function Uk(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ra(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ra(o.result),l.oldVersion,l.newVersion,ra(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const U6=["get","getKey","getAll","getAllKeys","count"],B6=["put","add","delete","clear"],kw=new Map;function kA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kw.get(e))return kw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=B6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||U6.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return kw.set(e,i),i}L6(t=>({...t,get:(e,n,r)=>kA(e,n)||t.get(e,n,r),has:(e,n)=>!!kA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(z6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function z6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ix="@firebase/app",MA="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new Rv("@firebase/app"),K6="@firebase/app-compat",W6="@firebase/analytics-compat",H6="@firebase/analytics",q6="@firebase/app-check-compat",G6="@firebase/app-check",Q6="@firebase/auth",Y6="@firebase/auth-compat",X6="@firebase/database",J6="@firebase/database-compat",Z6="@firebase/functions",e9="@firebase/functions-compat",t9="@firebase/installations",n9="@firebase/installations-compat",r9="@firebase/messaging",s9="@firebase/messaging-compat",i9="@firebase/performance",o9="@firebase/performance-compat",a9="@firebase/remote-config",l9="@firebase/remote-config-compat",c9="@firebase/storage",u9="@firebase/storage-compat",d9="@firebase/firestore",h9="@firebase/vertexai-preview",f9="@firebase/firestore-compat",p9="firebase",m9="10.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="[DEFAULT]",g9={[Ix]:"fire-core",[K6]:"fire-core-compat",[H6]:"fire-analytics",[W6]:"fire-analytics-compat",[G6]:"fire-app-check",[q6]:"fire-app-check-compat",[Q6]:"fire-auth",[Y6]:"fire-auth-compat",[X6]:"fire-rtdb",[J6]:"fire-rtdb-compat",[Z6]:"fire-fn",[e9]:"fire-fn-compat",[t9]:"fire-iid",[n9]:"fire-iid-compat",[r9]:"fire-fcm",[s9]:"fire-fcm-compat",[i9]:"fire-perf",[o9]:"fire-perf-compat",[a9]:"fire-rc",[l9]:"fire-rc-compat",[c9]:"fire-gcs",[u9]:"fire-gcs-compat",[d9]:"fire-fst",[f9]:"fire-fst-compat",[h9]:"fire-vertex","fire-js":"fire-js",[p9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg=new Map,v9=new Map,Nx=new Map;function OA(t,e){try{t.container.addComponent(e)}catch(n){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $s(t){const e=t.name;if(Nx.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;Nx.set(e,t);for(const n of mg.values())OA(n,t);for(const n of v9.values())OA(n,t);return!0}function Sa(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ni(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sa=new jl("app","Firebase",y9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=m9;function Bk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Px,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw sa.create("bad-app-name",{appName:String(s)});if(n||(n=Dk()),!n)throw sa.create("no-options");const i=mg.get(s);if(i){if(Ih(n,i.options)&&Ih(r,i.config))return i;throw sa.create("duplicate-app",{appName:s})}const o=new A6(s);for(const l of Nx.values())o.addComponent(l);const a=new w9(n,r,o);return mg.set(s,a),a}function Iv(t=Px){const e=mg.get(t);if(!e&&t===Px&&Dk())return Bk();if(!e)throw sa.create("no-app",{appName:t});return e}function Dr(t,e,n){var r;let s=(r=g9[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(a.join(" "));return}$s(new Es(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9="firebase-heartbeat-database",_9=1,Ph="firebase-heartbeat-store";let Mw=null;function $k(){return Mw||(Mw=Uk(x9,_9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ph)}catch(n){console.warn(n)}}}}).catch(t=>{throw sa.create("idb-open",{originalErrorMessage:t.message})})),Mw}async function E9(t){try{const n=(await $k()).transaction(Ph),r=await n.objectStore(Ph).get(zk(t));return await n.done,r}catch(e){if(e instanceof ts)Ji.warn(e.message);else{const n=sa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ji.warn(n.message)}}}async function jA(t,e){try{const r=(await $k()).transaction(Ph,"readwrite");await r.objectStore(Ph).put(e,zk(t)),await r.done}catch(n){if(n instanceof ts)Ji.warn(n.message);else{const r=sa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ji.warn(r.message)}}}function zk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9=1024,S9=30*24*60*60*1e3;class T9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new A9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=LA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=S9}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ji.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=LA(),{heartbeatsToSend:r,unsentEntries:s}=C9(this._heartbeatsCache.heartbeats),i=pg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ji.warn(n),""}}}function LA(){return new Date().toISOString().substring(0,10)}function C9(t,e=b9){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),VA(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),VA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class A9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jk()?Lk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await E9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return jA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return jA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function VA(t){return pg(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(t){$s(new Es("platform-logger",e=>new $6(e),"PRIVATE")),$s(new Es("heartbeat",e=>new T9(e),"PRIVATE")),Dr(Ix,MA,t),Dr(Ix,MA,"esm2017"),Dr("fire-js","")}R9("");var ei=function(){return ei=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ei.apply(this,arguments)};function bf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function I9(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Kk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const P9=Kk,Wk=new jl("auth","Firebase",Kk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg=new Rv("@firebase/auth");function N9(t,...e){gg.logLevel<=st.WARN&&gg.warn(`Auth (${Ll}): ${t}`,...e)}function _m(t,...e){gg.logLevel<=st.ERROR&&gg.error(`Auth (${Ll}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t,...e){throw eb(t,...e)}function oi(t,...e){return eb(t,...e)}function Hk(t,e,n){const r=Object.assign(Object.assign({},P9()),{[e]:n});return new jl("auth","Firebase",r).create(e,{appName:t.name})}function ia(t){return Hk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Wk.create(t,...e)}function Le(t,e,...n){if(!t)throw eb(e,...n)}function Di(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _m(e),new Error(e)}function eo(t,e){t||Di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function D9(){return FA()==="http:"||FA()==="https:"}function FA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(D9()||Ok()||"connection"in navigator)?navigator.onLine:!0}function M9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n){this.shortDelay=e,this.longDelay=n,eo(n>e,"Short delay should be less than long delay!"),this.isMobile=o6()||c6()}get(){return k9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(t,e){eo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9=new Sf(3e4,6e4);function Pv(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Cu(t,e,n,r,s={}){return Gk(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Ef(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return l6()||(c.referrerPolicy="no-referrer"),qk.fetch()(Yk(t,t.config.apiHost,n,a),c)})}async function Gk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},O9),e);try{const s=new L9(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Lp(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lp(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Lp(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Lp(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Hk(t,u,c);Zi(t,u)}}catch(s){if(s instanceof ts)throw s;Zi(t,"network-request-failed",{message:String(s)})}}async function Qk(t,e,n,r,s={}){const i=await Cu(t,e,n,r,s);return"mfaPendingCredential"in i&&Zi(t,"multi-factor-auth-required",{_serverResponse:i}),i}function Yk(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?tb(t.config,s):`${t.config.apiScheme}://${s}`}class L9{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(oi(this.auth,"network-request-failed")),j9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Lp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=oi(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V9(t,e){return Cu(t,"POST","/v1/accounts:delete",e)}async function Xk(t,e){return Cu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function F9(t,e=!1){const n=cn(t),r=await n.getIdToken(e),s=nb(r);Le(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Hd(Ow(s.auth_time)),issuedAtTime:Hd(Ow(s.iat)),expirationTime:Hd(Ow(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Ow(t){return Number(t)*1e3}function nb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return _m("JWT malformed, contained fewer than 3 sections"),null;try{const s=Ik(n);return s?JSON.parse(s):(_m("Failed to decode base64 JWT payload"),null)}catch(s){return _m("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function UA(t){const e=nb(t);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ts&&U9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function U9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hd(this.lastLoginAt),this.creationTime=Hd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vg(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Nh(t,Xk(n,{idToken:r}));Le(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Jk(i.providerUserInfo):[],a=z9(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new kx(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function $9(t){const e=cn(t);await vg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function z9(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Jk(t){return t.map(e=>{var{providerId:n}=e,r=bf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K9(t,e){const n=await Gk(t,{},async()=>{const r=Ef({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=Yk(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",qk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function W9(t,e){return Cu(t,"POST","/v2/accounts:revokeToken",Pv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=UA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await K9(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Pc;return r&&(Le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Le(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Le(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pc,this.toJSON())}_performRefresh(){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(t,e){Le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ki{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=bf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new B9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new kx(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Nh(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return F9(this,e)}reload(){return $9(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ki(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ni(this.auth.app))return Promise.reject(ia(this.auth));const e=await this.getIdToken();return await Nh(this,V9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:b,emailVerified:A,isAnonymous:P,providerData:O,stsTokenManager:T}=n;Le(b&&T,e,"internal-error");const E=Pc.fromJSON(this.name,T);Le(typeof b=="string",e,"internal-error"),vo(h,e.name),vo(p,e.name),Le(typeof A=="boolean",e,"internal-error"),Le(typeof P=="boolean",e,"internal-error"),vo(g,e.name),vo(w,e.name),vo(v,e.name),vo(_,e.name),vo(x,e.name),vo(y,e.name);const I=new ki({uid:b,auth:e,email:p,emailVerified:A,displayName:h,isAnonymous:P,photoURL:w,phoneNumber:g,tenantId:v,stsTokenManager:E,createdAt:x,lastLoginAt:y});return O&&Array.isArray(O)&&(I.providerData=O.map(R=>Object.assign({},R))),_&&(I._redirectEventId=_),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new Pc;s.updateFromServerResponse(n);const i=new ki({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await vg(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Le(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Jk(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Pc;a.updateFromIdToken(r);const l=new ki({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new kx(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=new Map;function Mi(t){eo(t instanceof Function,"Expected a class definition");let e=BA.get(t);return e?(eo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,BA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Zk.type="NONE";const $A=Zk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(t,e,n){return`firebase:${t}:${e}:${n}`}class Nc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Em(this.userKey,s.apiKey,i),this.fullPersistenceKey=Em("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ki._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Nc(Mi($A),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Mi($A);const o=Em(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=ki._fromJSON(e,u);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Nc(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Nc(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iM(e))return"Blackberry";if(oM(e))return"Webos";if(tM(e))return"Safari";if((e.includes("chrome/")||nM(e))&&!e.includes("edge/"))return"Chrome";if(sM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function eM(t=ar()){return/firefox\//i.test(t)}function tM(t=ar()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nM(t=ar()){return/crios\//i.test(t)}function rM(t=ar()){return/iemobile/i.test(t)}function sM(t=ar()){return/android/i.test(t)}function iM(t=ar()){return/blackberry/i.test(t)}function oM(t=ar()){return/webos/i.test(t)}function rb(t=ar()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function H9(t=ar()){var e;return rb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function q9(){return u6()&&document.documentMode===10}function aM(t=ar()){return rb(t)||sM(t)||oM(t)||iM(t)||/windows phone/i.test(t)||rM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(t,e=[]){let n;switch(t){case"Browser":n=zA(ar());break;case"Worker":n=`${zA(ar())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ll}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q9(t,e={}){return Cu(t,"GET","/v2/passwordPolicy",Pv(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9=6;class X9{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Y9,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new KA(this),this.idTokenSubscription=new KA(this),this.beforeStateQueue=new G9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mi(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Nc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Xk(this,{idToken:e}),r=await ki._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ni(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=M9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ni(this.app))return Promise.reject(ia(this));const n=e?cn(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ni(this.app)?Promise.reject(ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ni(this.app)?Promise.reject(ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Q9(this),n=new X9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await W9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Mi(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await Nc.create(this,[Mi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&N9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Nv(t){return cn(t)}class KA{constructor(e){this.auth=e,this.observer=null,this.addObserver=v6(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Z9(t){sb=t}function eK(t){return sb.loadJS(t)}function tK(){return sb.gapiScript}function nK(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rK(t,e){const n=Sa(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ih(i,e??{}))return s;Zi(s,"already-initialized")}return n.initialize({options:e})}function sK(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Mi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function iK(t,e,n){const r=Nv(t);Le(r._canInitEmulator,r,"emulator-config-failed"),Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=cM(e),{host:o,port:a}=oK(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),aK()}function cM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function oK(t){const e=cM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:WA(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:WA(o)}}}function WA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function aK(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Di("not implemented")}_getIdTokenResponse(e){return Di("not implemented")}_linkToIdToken(e,n){return Di("not implemented")}_getReauthenticationResolver(e){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dc(t,e){return Qk(t,"POST","/v1/accounts:signInWithIdp",Pv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lK="http://localhost";class El extends uM{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new El(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=bf(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new El(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Dc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Dc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Dc(e,n)}buildRequest(){const e={requestUri:lK,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ef(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf extends dM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends Tf{constructor(){super("facebook.com")}static credential(e){return El._fromParams({providerId:Io.PROVIDER_ID,signInMethod:Io.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Io.credentialFromTaggedObject(e)}static credentialFromError(e){return Io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Io.credential(e.oauthAccessToken)}catch{return null}}}Io.FACEBOOK_SIGN_IN_METHOD="facebook.com";Io.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po extends Tf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return El._fromParams({providerId:Po.PROVIDER_ID,signInMethod:Po.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Po.credentialFromTaggedObject(e)}static credentialFromError(e){return Po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Po.credential(n,r)}catch{return null}}}Po.GOOGLE_SIGN_IN_METHOD="google.com";Po.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends Tf{constructor(){super("github.com")}static credential(e){return El._fromParams({providerId:No.PROVIDER_ID,signInMethod:No.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return No.credentialFromTaggedObject(e)}static credentialFromError(e){return No.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return No.credential(e.oauthAccessToken)}catch{return null}}}No.GITHUB_SIGN_IN_METHOD="github.com";No.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends Tf{constructor(){super("twitter.com")}static credential(e,n){return El._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Do.credentialFromTaggedObject(e)}static credentialFromError(e){return Do.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Do.credential(n,r)}catch{return null}}}Do.TWITTER_SIGN_IN_METHOD="twitter.com";Do.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cK(t,e){return Qk(t,"POST","/v1/accounts:signUp",Pv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ki._fromIdTokenResponse(e,r,s),o=HA(r);return new ca({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=HA(r);return new ca({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function HA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uK(t){var e;if(Ni(t.app))return Promise.reject(ia(t));const n=Nv(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new ca({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await cK(n,{returnSecureToken:!0}),s=await ca._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg extends ts{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,yg.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new yg(e,n,r,s)}}function hM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?yg._fromErrorAndOperation(t,i,e,r):i})}async function dK(t,e,n=!1){const r=await Nh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ca._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hK(t,e,n=!1){const{auth:r}=t;if(Ni(r.app))return Promise.reject(ia(r));const s="reauthenticate";try{const i=await Nh(t,hM(r,s,e,t),n);Le(i.idToken,r,"internal-error");const o=nb(i.idToken);Le(o,r,"internal-error");const{sub:a}=o;return Le(t.uid===a,r,"user-mismatch"),ca._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Zi(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fK(t,e,n=!1){if(Ni(t.app))return Promise.reject(ia(t));const r="signIn",s=await hM(t,r,e),i=await ca._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function pK(t,e,n,r){return cn(t).onIdTokenChanged(e,n,r)}function mK(t,e,n){return cn(t).beforeAuthStateChanged(e,n)}const wg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wg,"1"),this.storage.removeItem(wg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gK=1e3,vK=10;class pM extends fM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);q9()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,vK):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},gK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}pM.type="LOCAL";const yK=pM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM extends fM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mM.type="SESSION";const gM=mM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wK(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Dv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await wK(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xK{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=ib("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function _K(t){ai().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function EK(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bK(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function SK(){return vM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM="firebaseLocalStorageDb",TK=1,xg="firebaseLocalStorage",wM="fbase_key";class Cf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kv(t,e){return t.transaction([xg],e?"readwrite":"readonly").objectStore(xg)}function CK(){const t=indexedDB.deleteDatabase(yM);return new Cf(t).toPromise()}function Mx(){const t=indexedDB.open(yM,TK);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(xg,{keyPath:wM})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(xg)?e(r):(r.close(),await CK(),e(await Mx()))})})}async function qA(t,e,n){const r=kv(t,!0).put({[wM]:e,value:n});return new Cf(r).toPromise()}async function AK(t,e){const n=kv(t,!1).get(e),r=await new Cf(n).toPromise();return r===void 0?null:r.value}function GA(t,e){const n=kv(t,!0).delete(e);return new Cf(n).toPromise()}const RK=800,IK=3;class xM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>IK)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dv._getInstance(SK()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await EK(),!this.activeServiceWorker)return;this.sender=new xK(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bK()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mx();return await qA(e,wg,"1"),await GA(e,wg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>qA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>AK(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>GA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=kv(s,!1).getAll();return new Cf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xM.type="LOCAL";const PK=xM;new Sf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NK(t,e){return e?Mi(e):(Le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob extends uM{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Dc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Dc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function DK(t){return fK(t.auth,new ob(t),t.bypassAuthState)}function kK(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),hK(n,new ob(t),t.bypassAuthState)}async function MK(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),dK(n,new ob(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DK;case"linkViaPopup":case"linkViaRedirect":return MK;case"reauthViaPopup":case"reauthViaRedirect":return kK;default:Zi(this.auth,"internal-error")}}resolve(e){eo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){eo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OK=new Sf(2e3,1e4);class gc extends _M{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,gc.currentPopupAction&&gc.currentPopupAction.cancel(),gc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){eo(this.filter.length===1,"Popup operations only handle one event");const e=ib();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OK.get())};e()}}gc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jK="pendingRedirect",bm=new Map;class LK extends _M{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bm.get(this.auth._key());if(!e){try{const r=await VK(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bm.set(this.auth._key(),e)}return this.bypassAuthState||bm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VK(t,e){const n=BK(e),r=UK(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function FK(t,e){bm.set(t._key(),e)}function UK(t){return Mi(t._redirectPersistence)}function BK(t){return Em(jK,t.config.apiKey,t.name)}async function $K(t,e,n=!1){if(Ni(t.app))return Promise.reject(ia(t));const r=Nv(t),s=NK(r,e),o=await new LK(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zK=10*60*1e3;class KK{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WK(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!EM(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(oi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zK&&this.cachedEventUids.clear(),this.cachedEventUids.has(QA(e))}saveEventToCache(e){this.cachedEventUids.add(QA(e)),this.lastProcessedEventTime=Date.now()}}function QA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function EM({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WK(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HK(t,e={}){return Cu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GK=/^https?/;async function QK(t){if(t.config.emulator)return;const{authorizedDomains:e}=await HK(t);for(const n of e)try{if(YK(n))return}catch{}Zi(t,"unauthorized-domain")}function YK(t){const e=Dx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!GK.test(n))return!1;if(qK.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XK=new Sf(3e4,6e4);function YA(){const t=ai().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function JK(t){return new Promise((e,n)=>{var r,s,i;function o(){YA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{YA(),n(oi(t,"network-request-failed"))},timeout:XK.get()})}if(!((s=(r=ai().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ai().gapi)===null||i===void 0)&&i.load)o();else{const a=nK("iframefcb");return ai()[a]=()=>{gapi.load?o():n(oi(t,"network-request-failed"))},eK(`${tK()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Sm=null,e})}let Sm=null;function ZK(t){return Sm=Sm||JK(t),Sm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eW=new Sf(5e3,15e3),tW="__/auth/iframe",nW="emulator/auth/iframe",rW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iW(t){const e=t.config;Le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?tb(e,nW):`https://${t.config.authDomain}/${tW}`,r={apiKey:e.apiKey,appName:t.name,v:Ll},s=sW.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ef(r).slice(1)}`}async function oW(t){const e=await ZK(t),n=ai().gapi;return Le(n,t,"internal-error"),e.open({where:document.body,url:iW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rW,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=oi(t,"network-request-failed"),a=ai().setTimeout(()=>{i(o)},eW.get());function l(){ai().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lW=500,cW=600,uW="_blank",dW="http://localhost";class XA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hW(t,e,n,r=lW,s=cW){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},aW),{width:r.toString(),height:s.toString(),top:i,left:o}),c=ar().toLowerCase();n&&(a=nM(c)?uW:n),eM(c)&&(e=e||dW,l.scrollbars="yes");const u=Object.entries(l).reduce((p,[g,w])=>`${p}${g}=${w},`,"");if(H9(c)&&a!=="_self")return fW(e||"",a),new XA(null);const h=window.open(e||"",a,u);Le(h,t,"popup-blocked");try{h.focus()}catch{}return new XA(h)}function fW(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pW="__/auth/handler",mW="emulator/auth/handler",gW=encodeURIComponent("fac");async function JA(t,e,n,r,s,i){Le(t.config.authDomain,t,"auth-domain-config-required"),Le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ll,eventId:s};if(e instanceof dM){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",g6(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))o[u]=h}if(e instanceof Tf){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${gW}=${encodeURIComponent(l)}`:"";return`${vW(t)}?${Ef(a).slice(1)}${c}`}function vW({config:t}){return t.emulator?tb(t,mW):`https://${t.authDomain}/${pW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="webStorageSupport";class yW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gM,this._completeRedirectFn=$K,this._overrideRedirectResult=FK}async _openPopup(e,n,r,s){var i;eo((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await JA(e,n,r,Dx(),s);return hW(e,o,ib())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await JA(e,n,r,Dx(),s);return _K(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(eo(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await oW(e),r=new KK(e);return n.register("authEvent",s=>(Le(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jw,{type:jw},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[jw];o!==void 0&&n(!!o),Zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QK(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aM()||tM()||rb()}}const wW=yW;var ZA="@firebase/auth",eR="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _W(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EW(t){$s(new Es("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lM(t)},c=new J9(r,s,i,l);return sK(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$s(new Es("auth-internal",e=>{const n=Nv(e.getProvider("auth").getImmediate());return(r=>new xW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dr(ZA,eR,_W(t)),Dr(ZA,eR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bW=5*60,SW=kk("authIdTokenMaxAge")||bW;let tR=null;const TW=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>SW)return;const s=n==null?void 0:n.token;tR!==s&&(tR=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function CW(t=Iv()){const e=Sa(t,"auth");if(e.isInitialized())return e.getImmediate();const n=rK(t,{popupRedirectResolver:wW,persistence:[PK,yK,gM]}),r=kk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=TW(i.toString());mK(n,o,()=>o(n.currentUser)),pK(n,a=>o(a))}}const s=Pk("auth");return s&&iK(n,`http://${s}`),n}function AW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Z9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=oi("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",AW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EW("Browser");const yt=(t,e=!1)=>{};var RW={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",VITE_FIREBASE_MEASUREMENT_ID:"G-65F7KP2KRQ",VITE_SUPER_ADMIN_ID:"672ca434f2191d3bb7606f0d",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const nR=t=>{let e;const n=new Set,r=(u,h)=>{const p=typeof u=="function"?u(e):u;if(!Object.is(p,e)){const g=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(w=>w(e,g))}},s=()=>e,l={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(RW?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,s,l);return l},IW=t=>t?nR(t):nR;var bM={exports:{}},SM={},TM={exports:{}},CM={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var au=m;function PW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var NW=typeof Object.is=="function"?Object.is:PW,DW=au.useState,kW=au.useEffect,MW=au.useLayoutEffect,OW=au.useDebugValue;function jW(t,e){var n=e(),r=DW({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return MW(function(){s.value=n,s.getSnapshot=e,Lw(s)&&i({inst:s})},[t,n,e]),kW(function(){return Lw(s)&&i({inst:s}),t(function(){Lw(s)&&i({inst:s})})},[t]),OW(n),n}function Lw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!NW(t,n)}catch{return!0}}function LW(t,e){return e()}var VW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?LW:jW;CM.useSyncExternalStore=au.useSyncExternalStore!==void 0?au.useSyncExternalStore:VW;TM.exports=CM;var FW=TM.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv=m,UW=FW;function BW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $W=typeof Object.is=="function"?Object.is:BW,zW=UW.useSyncExternalStore,KW=Mv.useRef,WW=Mv.useEffect,HW=Mv.useMemo,qW=Mv.useDebugValue;SM.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=KW(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=HW(function(){function l(g){if(!c){if(c=!0,u=g,g=r(g),s!==void 0&&o.hasValue){var w=o.value;if(s(w,g))return h=w}return h=g}if(w=h,$W(u,g))return w;var v=r(g);return s!==void 0&&s(w,v)?w:(u=g,h=v)}var c=!1,u,h,p=n===void 0?null:n;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,n,r,s]);var a=zW(t,i[0],i[1]);return WW(function(){o.hasValue=!0,o.value=a},[a]),qW(a),a};bM.exports=SM;var GW=bM.exports;const QW=sE(GW);var AM={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",VITE_FIREBASE_MEASUREMENT_ID:"G-65F7KP2KRQ",VITE_SUPER_ADMIN_ID:"672ca434f2191d3bb7606f0d",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:YW}=Re,{useSyncExternalStoreWithSelector:XW}=QW;let rR=!1;const JW=t=>t;function ZW(t,e=JW,n){(AM?"production":void 0)!=="production"&&n&&!rR&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),rR=!0);const r=XW(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return YW(r),r}const sR=t=>{(AM?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?IW(t):t,n=(r,s)=>ZW(e,r,s);return Object.assign(n,e),n},ao=t=>t?sR(t):sR;var eH={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",VITE_FIREBASE_MEASUREMENT_ID:"G-65F7KP2KRQ",VITE_SUPER_ADMIN_ID:"672ca434f2191d3bb7606f0d",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function ab(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=l=>l===null?null:JSON.parse(l,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const Dh=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Dh(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Dh(r)(n)}}}},tH=(t,e)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:_=>_,version:0,merge:(_,x)=>({...x,..._}),...e},o=!1;const a=new Set,l=new Set;let c;try{c=i.getStorage()}catch{}if(!c)return t((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(..._)},r,s);const u=Dh(i.serialize),h=()=>{const _=i.partialize({...r()});let x;const y=u({state:_,version:i.version}).then(b=>c.setItem(i.name,b)).catch(b=>{x=b});if(x)throw x;return y},p=s.setState;s.setState=(_,x)=>{p(_,x),h()};const g=t((..._)=>{n(..._),h()},r,s);let w;const v=()=>{var _;if(!c)return;o=!1,a.forEach(y=>y(r()));const x=((_=i.onRehydrateStorage)==null?void 0:_.call(i,r()))||void 0;return Dh(c.getItem.bind(c))(i.name).then(y=>{if(y)return i.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return i.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var b;return w=i.merge(y,(b=r())!=null?b:g),n(w,!0),h()}).then(()=>{x==null||x(w,void 0),o=!0,l.forEach(y=>y(w))}).catch(y=>{x==null||x(void 0,y)})};return s.persist={setOptions:_=>{i={...i,..._},_.getStorage&&(c=_.getStorage())},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:_=>(a.add(_),()=>{a.delete(_)}),onFinishHydration:_=>(l.add(_),()=>{l.delete(_)})},v(),w||g},nH=(t,e)=>(n,r,s)=>{let i={storage:ab(()=>localStorage),partialize:v=>v,version:0,merge:(v,_)=>({..._,...v}),...e},o=!1;const a=new Set,l=new Set;let c=i.storage;if(!c)return t((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...v)},r,s);const u=()=>{const v=i.partialize({...r()});return c.setItem(i.name,{state:v,version:i.version})},h=s.setState;s.setState=(v,_)=>{h(v,_),u()};const p=t((...v)=>{n(...v),u()},r,s);s.getInitialState=()=>p;let g;const w=()=>{var v,_;if(!c)return;o=!1,a.forEach(y=>{var b;return y((b=r())!=null?b:p)});const x=((_=i.onRehydrateStorage)==null?void 0:_.call(i,(v=r())!=null?v:p))||void 0;return Dh(c.getItem.bind(c))(i.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return[!0,i.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var b;const[A,P]=y;if(g=i.merge(P,(b=r())!=null?b:p),n(g,!0),A)return u()}).then(()=>{x==null||x(g,void 0),g=r(),o=!0,l.forEach(y=>y(g))}).catch(y=>{x==null||x(void 0,y)})};return s.persist={setOptions:v=>{i={...i,...v},v.storage&&(c=v.storage)},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:v=>(a.add(v),()=>{a.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},i.skipHydration||w(),g||p},rH=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((eH?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),tH(t,e)):nH(t,e),RM=rH,pt=ao()(RM(t=>({admin:null,isAuth:!1,accessToken:null,setAccessToken:e=>t({accessToken:e}),login:(e,n)=>t({isAuth:!0,accessToken:e,admin:n}),logout:()=>t({isAuth:!1,accessToken:null,admin:null})}),{name:"auth-storage",storage:ab(()=>localStorage)}));/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $t(){return $t=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$t.apply(this,arguments)}var fn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(fn||(fn={}));const iR="popstate";function sH(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return kh("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:bl(s)}return oH(e,n,null,t)}function Xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lu(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iH(){return Math.random().toString(36).substr(2,8)}function oR(t,e){return{usr:t.state,key:t.key,idx:e}}function kh(t,e,n,r){return n===void 0&&(n=null),$t({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ta(e):e,{state:n,key:e&&e.key||r||iH()})}function bl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ta(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function oH(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=fn.Pop,l=null,c=u();c==null&&(c=0,o.replaceState($t({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=fn.Pop;let _=u(),x=_==null?null:_-c;c=_,l&&l({action:a,location:v.location,delta:x})}function p(_,x){a=fn.Push;let y=kh(v.location,_,x);c=u()+1;let b=oR(y,c),A=v.createHref(y);try{o.pushState(b,"",A)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(A)}i&&l&&l({action:a,location:v.location,delta:1})}function g(_,x){a=fn.Replace;let y=kh(v.location,_,x);c=u();let b=oR(y,c),A=v.createHref(y);o.replaceState(b,"",A),i&&l&&l({action:a,location:v.location,delta:0})}function w(_){let x=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof _=="string"?_:bl(_);return y=y.replace(/ $/,"%20"),Xe(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let v={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(iR,h),l=_,()=>{s.removeEventListener(iR,h),l=null}},createHref(_){return e(s,_)},createURL:w,encodeLocation(_){let x=w(_);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:g,go(_){return o.go(_)}};return v}var Et;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Et||(Et={}));const aH=new Set(["lazy","caseSensitive","path","id","index","children"]);function lH(t){return t.index===!0}function Mh(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((s,i)=>{let o=[...n,String(i)],a=typeof s.id=="string"?s.id:o.join("-");if(Xe(s.index!==!0||!s.children,"Cannot specify children on an index route"),Xe(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),lH(s)){let l=$t({},s,e(s),{id:a});return r[a]=l,l}else{let l=$t({},s,e(s),{id:a,children:void 0});return r[a]=l,s.children&&(l.children=Mh(s.children,e,o,r)),l}})}function Ga(t,e,n){return n===void 0&&(n="/"),Tm(t,e,n,!1)}function Tm(t,e,n,r){let s=typeof e=="string"?Ta(e):e,i=Au(s.pathname||"/",n);if(i==null)return null;let o=IM(t);uH(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=_H(i);a=wH(o[l],c,r)}return a}function cH(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function IM(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Xe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Fi([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(Xe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),IM(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:vH(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of PM(i.path))s(i,o,l)}),e}function PM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=PM(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function uH(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yH(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const dH=/^:[\w-]+$/,hH=3,fH=2,pH=1,mH=10,gH=-2,aR=t=>t==="*";function vH(t,e){let n=t.split("/"),r=n.length;return n.some(aR)&&(r+=gH),e&&(r+=fH),n.filter(s=>!aR(s)).reduce((s,i)=>s+(dH.test(i)?hH:i===""?pH:mH),r)}function yH(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function wH(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=lR({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=lR({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Fi([i,h.pathname]),pathnameBase:SH(Fi([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Fi([i,h.pathnameBase]))}return o}function lR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=xH(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:p,isOptional:g}=u;if(p==="*"){let v=a[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const w=a[h];return g&&!w?c[p]=void 0:c[p]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function xH(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),lu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function _H(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lu(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Au(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function EH(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ta(t):t;return{pathname:n?n.startsWith("/")?n:bH(n,e):e,search:TH(r),hash:CH(s)}}function bH(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Vw(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function NM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ov(t,e){let n=NM(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function jv(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ta(t):(s=$t({},t),Xe(!s.pathname||!s.pathname.includes("?"),Vw("?","pathname","search",s)),Xe(!s.pathname||!s.pathname.includes("#"),Vw("#","pathname","hash",s)),Xe(!s.search||!s.search.includes("#"),Vw("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=EH(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Fi=t=>t.join("/").replace(/\/\/+/g,"/"),SH=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),TH=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,CH=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class _g{constructor(e,n,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Af(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const DM=["post","put","patch","delete"],AH=new Set(DM),RH=["get",...DM],IH=new Set(RH),PH=new Set([301,302,303,307,308]),NH=new Set([307,308]),Fw={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},DH={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hd={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},lb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kH=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),kM="remix-router-transitions";function MH(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Xe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let L=t.detectErrorBoundary;s=F=>({hasErrorBoundary:L(F)})}else s=kH;let i={},o=Mh(t.routes,s,void 0,i),a,l=t.basename||"/",c=t.unstable_dataStrategy||UH,u=t.unstable_patchRoutesOnNavigation,h=$t({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),p=null,g=new Set,w=1e3,v=new Set,_=null,x=null,y=null,b=t.hydrationData!=null,A=Ga(o,t.history.location,l),P=null;if(A==null&&!u){let L=hr(404,{pathname:t.history.location.pathname}),{matches:F,route:K}=vR(o);A=F,P={[K.id]:L}}A&&!t.hydrationData&&ut(A,o,t.history.location.pathname).active&&(A=null);let O;if(A)if(A.some(L=>L.route.lazy))O=!1;else if(!A.some(L=>L.route.loader))O=!0;else if(h.v7_partialHydration){let L=t.hydrationData?t.hydrationData.loaderData:null,F=t.hydrationData?t.hydrationData.errors:null,K=G=>G.route.loader?typeof G.route.loader=="function"&&G.route.loader.hydrate===!0?!1:L&&L[G.route.id]!==void 0||F&&F[G.route.id]!==void 0:!0;if(F){let G=A.findIndex(de=>F[de.route.id]!==void 0);O=A.slice(0,G+1).every(K)}else O=A.every(K)}else O=t.hydrationData!=null;else if(O=!1,A=[],h.v7_partialHydration){let L=ut(null,o,t.history.location.pathname);L.active&&L.matches&&(A=L.matches)}let T,E={historyAction:t.history.action,location:t.history.location,matches:A,initialized:O,navigation:Fw,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||P,fetchers:new Map,blockers:new Map},I=fn.Pop,R=!1,k,M=!1,N=new Map,W=null,se=!1,ne=!1,Y=[],z=new Set,B=new Map,J=0,fe=-1,he=new Map,Se=new Set,We=new Map,at=new Map,Ne=new Set,ce=new Map,Pe=new Map,He=new Map,pe;function $e(){if(p=t.history.listen(L=>{let{action:F,location:K,delta:G}=L;if(pe){pe(),pe=void 0;return}lu(Pe.size===0||G!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let de=Bt({currentLocation:E.location,nextLocation:K,historyAction:F});if(de&&G!=null){let Te=new Promise(Me=>{pe=Me});t.history.go(G*-1),rs(de,{state:"blocked",location:K,proceed(){rs(de,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),Te.then(()=>t.history.go(G))},reset(){let Me=new Map(E.blockers);Me.set(de,hd),qe({blockers:Me})}});return}return j(F,K)}),n){t8(e,N);let L=()=>n8(e,N);e.addEventListener("pagehide",L),W=()=>e.removeEventListener("pagehide",L)}return E.initialized||j(fn.Pop,E.location,{initialHydration:!0}),T}function Oe(){p&&p(),W&&W(),g.clear(),k&&k.abort(),E.fetchers.forEach((L,F)=>ns(F)),E.blockers.forEach((L,F)=>ja(F))}function vt(L){return g.add(L),()=>g.delete(L)}function qe(L,F){F===void 0&&(F={}),E=$t({},E,L);let K=[],G=[];h.v7_fetcherPersist&&E.fetchers.forEach((de,Te)=>{de.state==="idle"&&(Ne.has(Te)?G.push(Te):K.push(Te))}),[...g].forEach(de=>de(E,{deletedFetchers:G,unstable_viewTransitionOpts:F.viewTransitionOpts,unstable_flushSync:F.flushSync===!0})),h.v7_fetcherPersist&&(K.forEach(de=>E.fetchers.delete(de)),G.forEach(de=>ns(de)))}function Lt(L,F,K){var G,de;let{flushSync:Te}=K===void 0?{}:K,Me=E.actionData!=null&&E.navigation.formMethod!=null&&Ds(E.navigation.formMethod)&&E.navigation.state==="loading"&&((G=L.state)==null?void 0:G._isRedirect)!==!0,oe;F.actionData?Object.keys(F.actionData).length>0?oe=F.actionData:oe=null:Me?oe=E.actionData:oe=null;let Ee=F.loaderData?mR(E.loaderData,F.loaderData,F.matches||[],F.errors):E.loaderData,ye=E.blockers;ye.size>0&&(ye=new Map(ye),ye.forEach((lt,_t)=>ye.set(_t,hd)));let xe=R===!0||E.navigation.formMethod!=null&&Ds(E.navigation.formMethod)&&((de=L.state)==null?void 0:de._isRedirect)!==!0;a&&(o=a,a=void 0),se||I===fn.Pop||(I===fn.Push?t.history.push(L,L.state):I===fn.Replace&&t.history.replace(L,L.state));let nt;if(I===fn.Pop){let lt=N.get(E.location.pathname);lt&&lt.has(L.pathname)?nt={currentLocation:E.location,nextLocation:L}:N.has(L.pathname)&&(nt={currentLocation:L,nextLocation:E.location})}else if(M){let lt=N.get(E.location.pathname);lt?lt.add(L.pathname):(lt=new Set([L.pathname]),N.set(E.location.pathname,lt)),nt={currentLocation:E.location,nextLocation:L}}qe($t({},F,{actionData:oe,loaderData:Ee,historyAction:I,location:L,initialized:!0,navigation:Fw,revalidation:"idle",restoreScrollPosition:ss(L,F.matches||E.matches),preventScrollReset:xe,blockers:ye}),{viewTransitionOpts:nt,flushSync:Te===!0}),I=fn.Pop,R=!1,M=!1,se=!1,ne=!1,Y=[]}async function gn(L,F){if(typeof L=="number"){t.history.go(L);return}let K=Ox(E.location,E.matches,l,h.v7_prependBasename,L,h.v7_relativeSplatPath,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:G,submission:de,error:Te}=cR(h.v7_normalizeFormMethod,!1,K,F),Me=E.location,oe=kh(E.location,G,F&&F.state);oe=$t({},oe,t.history.encodeLocation(oe));let Ee=F&&F.replace!=null?F.replace:void 0,ye=fn.Push;Ee===!0?ye=fn.Replace:Ee===!1||de!=null&&Ds(de.formMethod)&&de.formAction===E.location.pathname+E.location.search&&(ye=fn.Replace);let xe=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,nt=(F&&F.unstable_flushSync)===!0,lt=Bt({currentLocation:Me,nextLocation:oe,historyAction:ye});if(lt){rs(lt,{state:"blocked",location:oe,proceed(){rs(lt,{state:"proceeding",proceed:void 0,reset:void 0,location:oe}),gn(L,F)},reset(){let _t=new Map(E.blockers);_t.set(lt,hd),qe({blockers:_t})}});return}return await j(ye,oe,{submission:de,pendingError:Te,preventScrollReset:xe,replace:F&&F.replace,enableViewTransition:F&&F.unstable_viewTransition,flushSync:nt})}function jr(){if(wr(),qe({revalidation:"loading"}),E.navigation.state!=="submitting"){if(E.navigation.state==="idle"){j(E.historyAction,E.location,{startUninterruptedRevalidation:!0});return}j(I||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation,enableViewTransition:M===!0})}}async function j(L,F,K){k&&k.abort(),k=null,I=L,se=(K&&K.startUninterruptedRevalidation)===!0,In(E.location,E.matches),R=(K&&K.preventScrollReset)===!0,M=(K&&K.enableViewTransition)===!0;let G=a||o,de=K&&K.overrideNavigation,Te=Ga(G,F,l),Me=(K&&K.flushSync)===!0,oe=ut(Te,G,F.pathname);if(oe.active&&oe.matches&&(Te=oe.matches),!Te){let{error:Ze,notFoundMatches:dn,route:Nt}=nn(F.pathname);Lt(F,{matches:dn,loaderData:{},errors:{[Nt.id]:Ze}},{flushSync:Me});return}if(E.initialized&&!ne&&HH(E.location,F)&&!(K&&K.submission&&Ds(K.submission.formMethod))){Lt(F,{matches:Te},{flushSync:Me});return}k=new AbortController;let Ee=Xl(t.history,F,k.signal,K&&K.submission),ye;if(K&&K.pendingError)ye=[vc(Te).route.id,{type:Et.error,error:K.pendingError}];else if(K&&K.submission&&Ds(K.submission.formMethod)){let Ze=await $(Ee,F,K.submission,Te,oe.active,{replace:K.replace,flushSync:Me});if(Ze.shortCircuited)return;if(Ze.pendingActionResult){let[dn,Nt]=Ze.pendingActionResult;if(zr(Nt)&&Af(Nt.error)&&Nt.error.status===404){k=null,Lt(F,{matches:Ze.matches,loaderData:{},errors:{[dn]:Nt.error}});return}}Te=Ze.matches||Te,ye=Ze.pendingActionResult,de=Uw(F,K.submission),Me=!1,oe.active=!1,Ee=Xl(t.history,Ee.url,Ee.signal)}let{shortCircuited:xe,matches:nt,loaderData:lt,errors:_t}=await H(Ee,F,Te,oe.active,de,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,K&&K.initialHydration===!0,Me,ye);xe||(k=null,Lt(F,$t({matches:nt||Te},gR(ye),{loaderData:lt,errors:_t})))}async function $(L,F,K,G,de,Te){Te===void 0&&(Te={}),wr();let Me=ZH(F,K);if(qe({navigation:Me},{flushSync:Te.flushSync===!0}),de){let ye=await Vr(G,F.pathname,L.signal);if(ye.type==="aborted")return{shortCircuited:!0};if(ye.type==="error"){let{boundaryId:xe,error:nt}=At(F.pathname,ye);return{matches:ye.partialMatches,pendingActionResult:[xe,{type:Et.error,error:nt}]}}else if(ye.matches)G=ye.matches;else{let{notFoundMatches:xe,error:nt,route:lt}=nn(F.pathname);return{matches:xe,pendingActionResult:[lt.id,{type:Et.error,error:nt}]}}}let oe,Ee=Ad(G,F);if(!Ee.route.action&&!Ee.route.lazy)oe={type:Et.error,error:hr(405,{method:L.method,pathname:F.pathname,routeId:Ee.route.id})};else if(oe=(await je("action",E,L,[Ee],G,null))[Ee.route.id],L.signal.aborted)return{shortCircuited:!0};if(Ja(oe)){let ye;return Te&&Te.replace!=null?ye=Te.replace:ye=hR(oe.response.headers.get("Location"),new URL(L.url),l)===E.location.pathname+E.location.search,await Be(L,oe,!0,{submission:K,replace:ye}),{shortCircuited:!0}}if(Ho(oe))throw hr(400,{type:"defer-action"});if(zr(oe)){let ye=vc(G,Ee.route.id);return(Te&&Te.replace)!==!0&&(I=fn.Push),{matches:G,pendingActionResult:[ye.route.id,oe]}}return{matches:G,pendingActionResult:[Ee.route.id,oe]}}async function H(L,F,K,G,de,Te,Me,oe,Ee,ye,xe){let nt=de||Uw(F,Te),lt=Te||Me||wR(nt),_t=!se&&(!h.v7_partialHydration||!Ee);if(G){if(_t){let Rt=ie(xe);qe($t({navigation:nt},Rt!==void 0?{actionData:Rt}:{}),{flushSync:ye})}let ze=await Vr(K,F.pathname,L.signal);if(ze.type==="aborted")return{shortCircuited:!0};if(ze.type==="error"){let{boundaryId:Rt,error:qn}=At(F.pathname,ze);return{matches:ze.partialMatches,loaderData:{},errors:{[Rt]:qn}}}else if(ze.matches)K=ze.matches;else{let{error:Rt,notFoundMatches:qn,route:Dt}=nn(F.pathname);return{matches:qn,loaderData:{},errors:{[Dt.id]:Rt}}}}let Ze=a||o,[dn,Nt]=uR(t.history,E,K,lt,F,h.v7_partialHydration&&Ee===!0,h.v7_skipActionErrorRevalidation,ne,Y,z,Ne,We,Se,Ze,l,xe);if(lr(ze=>!(K&&K.some(Rt=>Rt.route.id===ze))||dn&&dn.some(Rt=>Rt.route.id===ze)),fe=++J,dn.length===0&&Nt.length===0){let ze=Wl();return Lt(F,$t({matches:K,loaderData:{},errors:xe&&zr(xe[1])?{[xe[0]]:xe[1].error}:null},gR(xe),ze?{fetchers:new Map(E.fetchers)}:{}),{flushSync:ye}),{shortCircuited:!0}}if(_t){let ze={};if(!G){ze.navigation=nt;let Rt=ie(xe);Rt!==void 0&&(ze.actionData=Rt)}Nt.length>0&&(ze.fetchers=re(Nt)),qe(ze,{flushSync:ye})}Nt.forEach(ze=>{B.has(ze.key)&&vn(ze.key),ze.controller&&B.set(ze.key,ze.controller)});let ho=()=>Nt.forEach(ze=>vn(ze.key));k&&k.signal.addEventListener("abort",ho);let{loaderResults:Fr,fetcherResults:os}=await Qt(E,K,dn,Nt,L);if(L.signal.aborted)return{shortCircuited:!0};k&&k.signal.removeEventListener("abort",ho),Nt.forEach(ze=>B.delete(ze.key));let Hn=Vp(Fr);if(Hn)return await Be(L,Hn.result,!0,{replace:oe}),{shortCircuited:!0};if(Hn=Vp(os),Hn)return Se.add(Hn.key),await Be(L,Hn.result,!0,{replace:oe}),{shortCircuited:!0};let{loaderData:fo,errors:Ss}=pR(E,K,dn,Fr,xe,Nt,os,ce);ce.forEach((ze,Rt)=>{ze.subscribe(qn=>{(qn||ze.done)&&ce.delete(Rt)})}),h.v7_partialHydration&&Ee&&E.errors&&Object.entries(E.errors).filter(ze=>{let[Rt]=ze;return!dn.some(qn=>qn.route.id===Rt)}).forEach(ze=>{let[Rt,qn]=ze;Ss=Object.assign(Ss||{},{[Rt]:qn})});let La=Wl(),Va=xi(fe),Fa=La||Va||Nt.length>0;return $t({matches:K,loaderData:fo,errors:Ss},Fa?{fetchers:new Map(E.fetchers)}:{})}function ie(L){if(L&&!zr(L[1]))return{[L[0]]:L[1].data};if(E.actionData)return Object.keys(E.actionData).length===0?null:E.actionData}function re(L){return L.forEach(F=>{let K=E.fetchers.get(F.key),G=fd(void 0,K?K.data:void 0);E.fetchers.set(F.key,G)}),new Map(E.fetchers)}function ee(L,F,K,G){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");B.has(L)&&vn(L);let de=(G&&G.unstable_flushSync)===!0,Te=a||o,Me=Ox(E.location,E.matches,l,h.v7_prependBasename,K,h.v7_relativeSplatPath,F,G==null?void 0:G.relative),oe=Ga(Te,Me,l),Ee=ut(oe,Te,Me);if(Ee.active&&Ee.matches&&(oe=Ee.matches),!oe){Vt(L,F,hr(404,{pathname:Me}),{flushSync:de});return}let{path:ye,submission:xe,error:nt}=cR(h.v7_normalizeFormMethod,!0,Me,G);if(nt){Vt(L,F,nt,{flushSync:de});return}let lt=Ad(oe,ye);if(R=(G&&G.preventScrollReset)===!0,xe&&Ds(xe.formMethod)){_e(L,F,ye,lt,oe,Ee.active,de,xe);return}We.set(L,{routeId:F,path:ye}),Ue(L,F,ye,lt,oe,Ee.active,de,xe)}async function _e(L,F,K,G,de,Te,Me,oe){wr(),We.delete(L);function Ee(Dt){if(!Dt.route.action&&!Dt.route.lazy){let Ts=hr(405,{method:oe.formMethod,pathname:K,routeId:F});return Vt(L,F,Ts,{flushSync:Me}),!0}return!1}if(!Te&&Ee(G))return;let ye=E.fetchers.get(L);Rn(L,e8(oe,ye),{flushSync:Me});let xe=new AbortController,nt=Xl(t.history,K,xe.signal,oe);if(Te){let Dt=await Vr(de,K,nt.signal);if(Dt.type==="aborted")return;if(Dt.type==="error"){let{error:Ts}=At(K,Dt);Vt(L,F,Ts,{flushSync:Me});return}else if(Dt.matches){if(de=Dt.matches,G=Ad(de,K),Ee(G))return}else{Vt(L,F,hr(404,{pathname:K}),{flushSync:Me});return}}B.set(L,xe);let lt=J,Ze=(await je("action",E,nt,[G],de,L))[G.route.id];if(nt.signal.aborted){B.get(L)===xe&&B.delete(L);return}if(h.v7_fetcherPersist&&Ne.has(L)){if(Ja(Ze)||zr(Ze)){Rn(L,xo(void 0));return}}else{if(Ja(Ze))if(B.delete(L),fe>lt){Rn(L,xo(void 0));return}else return Se.add(L),Rn(L,fd(oe)),Be(nt,Ze,!1,{fetcherSubmission:oe});if(zr(Ze)){Vt(L,F,Ze.error);return}}if(Ho(Ze))throw hr(400,{type:"defer-action"});let dn=E.navigation.location||E.location,Nt=Xl(t.history,dn,xe.signal),ho=a||o,Fr=E.navigation.state!=="idle"?Ga(ho,E.navigation.location,l):E.matches;Xe(Fr,"Didn't find any matches after fetcher action");let os=++J;he.set(L,os);let Hn=fd(oe,Ze.data);E.fetchers.set(L,Hn);let[fo,Ss]=uR(t.history,E,Fr,oe,dn,!1,h.v7_skipActionErrorRevalidation,ne,Y,z,Ne,We,Se,ho,l,[G.route.id,Ze]);Ss.filter(Dt=>Dt.key!==L).forEach(Dt=>{let Ts=Dt.key,ap=E.fetchers.get(Ts),lp=fd(void 0,ap?ap.data:void 0);E.fetchers.set(Ts,lp),B.has(Ts)&&vn(Ts),Dt.controller&&B.set(Ts,Dt.controller)}),qe({fetchers:new Map(E.fetchers)});let La=()=>Ss.forEach(Dt=>vn(Dt.key));xe.signal.addEventListener("abort",La);let{loaderResults:Va,fetcherResults:Fa}=await Qt(E,Fr,fo,Ss,Nt);if(xe.signal.aborted)return;xe.signal.removeEventListener("abort",La),he.delete(L),B.delete(L),Ss.forEach(Dt=>B.delete(Dt.key));let ze=Vp(Va);if(ze)return Be(Nt,ze.result,!1);if(ze=Vp(Fa),ze)return Se.add(ze.key),Be(Nt,ze.result,!1);let{loaderData:Rt,errors:qn}=pR(E,Fr,fo,Va,void 0,Ss,Fa,ce);if(E.fetchers.has(L)){let Dt=xo(Ze.data);E.fetchers.set(L,Dt)}xi(os),E.navigation.state==="loading"&&os>fe?(Xe(I,"Expected pending action"),k&&k.abort(),Lt(E.navigation.location,{matches:Fr,loaderData:Rt,errors:qn,fetchers:new Map(E.fetchers)})):(qe({errors:qn,loaderData:mR(E.loaderData,Rt,Fr,qn),fetchers:new Map(E.fetchers)}),ne=!1)}async function Ue(L,F,K,G,de,Te,Me,oe){let Ee=E.fetchers.get(L);Rn(L,fd(oe,Ee?Ee.data:void 0),{flushSync:Me});let ye=new AbortController,xe=Xl(t.history,K,ye.signal);if(Te){let Ze=await Vr(de,K,xe.signal);if(Ze.type==="aborted")return;if(Ze.type==="error"){let{error:dn}=At(K,Ze);Vt(L,F,dn,{flushSync:Me});return}else if(Ze.matches)de=Ze.matches,G=Ad(de,K);else{Vt(L,F,hr(404,{pathname:K}),{flushSync:Me});return}}B.set(L,ye);let nt=J,_t=(await je("loader",E,xe,[G],de,L))[G.route.id];if(Ho(_t)&&(_t=await cb(_t,xe.signal,!0)||_t),B.get(L)===ye&&B.delete(L),!xe.signal.aborted){if(Ne.has(L)){Rn(L,xo(void 0));return}if(Ja(_t))if(fe>nt){Rn(L,xo(void 0));return}else{Se.add(L),await Be(xe,_t,!1);return}if(zr(_t)){Vt(L,F,_t.error);return}Xe(!Ho(_t),"Unhandled fetcher deferred data"),Rn(L,xo(_t.data))}}async function Be(L,F,K,G){let{submission:de,fetcherSubmission:Te,replace:Me}=G===void 0?{}:G;F.response.headers.has("X-Remix-Revalidate")&&(ne=!0);let oe=F.response.headers.get("Location");Xe(oe,"Expected a Location header on the redirect Response"),oe=hR(oe,new URL(L.url),l);let Ee=kh(E.location,oe,{_isRedirect:!0});if(n){let Ze=!1;if(F.response.headers.has("X-Remix-Reload-Document"))Ze=!0;else if(lb.test(oe)){const dn=t.history.createURL(oe);Ze=dn.origin!==e.location.origin||Au(dn.pathname,l)==null}if(Ze){Me?e.location.replace(oe):e.location.assign(oe);return}}k=null;let ye=Me===!0||F.response.headers.has("X-Remix-Replace")?fn.Replace:fn.Push,{formMethod:xe,formAction:nt,formEncType:lt}=E.navigation;!de&&!Te&&xe&&nt&&lt&&(de=wR(E.navigation));let _t=de||Te;if(NH.has(F.response.status)&&_t&&Ds(_t.formMethod))await j(ye,Ee,{submission:$t({},_t,{formAction:oe}),preventScrollReset:R,enableViewTransition:K?M:void 0});else{let Ze=Uw(Ee,de);await j(ye,Ee,{overrideNavigation:Ze,fetcherSubmission:Te,preventScrollReset:R,enableViewTransition:K?M:void 0})}}async function je(L,F,K,G,de,Te){let Me,oe={};try{Me=await BH(c,L,F,K,G,de,Te,i,s)}catch(Ee){return G.forEach(ye=>{oe[ye.route.id]={type:Et.error,error:Ee}}),oe}for(let[Ee,ye]of Object.entries(Me))if(GH(ye)){let xe=ye.result;oe[Ee]={type:Et.redirect,response:KH(xe,K,Ee,de,l,h.v7_relativeSplatPath)}}else oe[Ee]=await zH(ye);return oe}async function Qt(L,F,K,G,de){let Te=L.matches,Me=je("loader",L,de,K,F,null),oe=Promise.all(G.map(async xe=>{if(xe.matches&&xe.match&&xe.controller){let lt=(await je("loader",L,Xl(t.history,xe.path,xe.controller.signal),[xe.match],xe.matches,xe.key))[xe.match.route.id];return{[xe.key]:lt}}else return Promise.resolve({[xe.key]:{type:Et.error,error:hr(404,{pathname:xe.path})}})})),Ee=await Me,ye=(await oe).reduce((xe,nt)=>Object.assign(xe,nt),{});return await Promise.all([XH(F,Ee,de.signal,Te,L.loaderData),JH(F,ye,G)]),{loaderResults:Ee,fetcherResults:ye}}function wr(){ne=!0,Y.push(...lr()),We.forEach((L,F)=>{B.has(F)&&(z.add(F),vn(F))})}function Rn(L,F,K){K===void 0&&(K={}),E.fetchers.set(L,F),qe({fetchers:new Map(E.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function Vt(L,F,K,G){G===void 0&&(G={});let de=vc(E.matches,F);ns(L),qe({errors:{[de.route.id]:K},fetchers:new Map(E.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function Lr(L){return h.v7_fetcherPersist&&(at.set(L,(at.get(L)||0)+1),Ne.has(L)&&Ne.delete(L)),E.fetchers.get(L)||DH}function ns(L){let F=E.fetchers.get(L);B.has(L)&&!(F&&F.state==="loading"&&he.has(L))&&vn(L),We.delete(L),he.delete(L),Se.delete(L),Ne.delete(L),z.delete(L),E.fetchers.delete(L)}function co(L){if(h.v7_fetcherPersist){let F=(at.get(L)||0)-1;F<=0?(at.delete(L),Ne.add(L)):at.set(L,F)}else ns(L);qe({fetchers:new Map(E.fetchers)})}function vn(L){let F=B.get(L);Xe(F,"Expected fetch controller: "+L),F.abort(),B.delete(L)}function Oa(L){for(let F of L){let K=Lr(F),G=xo(K.data);E.fetchers.set(F,G)}}function Wl(){let L=[],F=!1;for(let K of Se){let G=E.fetchers.get(K);Xe(G,"Expected fetcher: "+K),G.state==="loading"&&(Se.delete(K),L.push(K),F=!0)}return Oa(L),F}function xi(L){let F=[];for(let[K,G]of he)if(G<L){let de=E.fetchers.get(K);Xe(de,"Expected fetcher: "+K),de.state==="loading"&&(vn(K),he.delete(K),F.push(K))}return Oa(F),F.length>0}function Hl(L,F){let K=E.blockers.get(L)||hd;return Pe.get(L)!==F&&Pe.set(L,F),K}function ja(L){E.blockers.delete(L),Pe.delete(L)}function rs(L,F){let K=E.blockers.get(L)||hd;Xe(K.state==="unblocked"&&F.state==="blocked"||K.state==="blocked"&&F.state==="blocked"||K.state==="blocked"&&F.state==="proceeding"||K.state==="blocked"&&F.state==="unblocked"||K.state==="proceeding"&&F.state==="unblocked","Invalid blocker state transition: "+K.state+" -> "+F.state);let G=new Map(E.blockers);G.set(L,F),qe({blockers:G})}function Bt(L){let{currentLocation:F,nextLocation:K,historyAction:G}=L;if(Pe.size===0)return;Pe.size>1&&lu(!1,"A router only supports one blocker at a time");let de=Array.from(Pe.entries()),[Te,Me]=de[de.length-1],oe=E.blockers.get(Te);if(!(oe&&oe.state==="proceeding")&&Me({currentLocation:F,nextLocation:K,historyAction:G}))return Te}function nn(L){let F=hr(404,{pathname:L}),K=a||o,{matches:G,route:de}=vR(K);return lr(),{notFoundMatches:G,route:de,error:F}}function At(L,F){return{boundaryId:vc(F.partialMatches).route.id,error:hr(400,{type:"route-discovery",pathname:L,message:F.error!=null&&"message"in F.error?F.error:String(F.error)})}}function lr(L){let F=[];return ce.forEach((K,G)=>{(!L||L(G))&&(K.cancel(),F.push(G),ce.delete(G))}),F}function yn(L,F,K){if(_=L,y=F,x=K||null,!b&&E.navigation===Fw){b=!0;let G=ss(E.location,E.matches);G!=null&&qe({restoreScrollPosition:G})}return()=>{_=null,y=null,x=null}}function wn(L,F){return x&&x(L,F.map(G=>cH(G,E.loaderData)))||L.key}function In(L,F){if(_&&y){let K=wn(L,F);_[K]=y()}}function ss(L,F){if(_){let K=wn(L,F),G=_[K];if(typeof G=="number")return G}return null}function ut(L,F,K){if(u){if(v.has(K))return{active:!1,matches:L};if(L){if(Object.keys(L[0].params).length>0)return{active:!0,matches:Tm(F,K,l,!0)}}else return{active:!0,matches:Tm(F,K,l,!0)||[]}}return{active:!1,matches:null}}async function Vr(L,F,K){let G=L;for(;;){let de=a==null,Te=a||o;try{await VH(u,F,G,Te,i,s,He,K)}catch(Ee){return{type:"error",error:Ee,partialMatches:G}}finally{de&&(o=[...o])}if(K.aborted)return{type:"aborted"};let Me=Ga(Te,F,l);if(Me)return xr(F,v),{type:"success",matches:Me};let oe=Tm(Te,F,l,!0);if(!oe||G.length===oe.length&&G.every((Ee,ye)=>Ee.route.id===oe[ye].route.id))return xr(F,v),{type:"success",matches:null};G=oe}}function xr(L,F){if(F.size>=w){let K=F.values().next().value;F.delete(K)}F.add(L)}function is(L){i={},a=Mh(L,s,void 0,i)}function uo(L,F){let K=a==null;OM(L,F,a||o,i,s),K&&(o=[...o],qe({}))}return T={get basename(){return l},get future(){return h},get state(){return E},get routes(){return o},get window(){return e},initialize:$e,subscribe:vt,enableScrollRestoration:yn,navigate:gn,fetch:ee,revalidate:jr,createHref:L=>t.history.createHref(L),encodeLocation:L=>t.history.encodeLocation(L),getFetcher:Lr,deleteFetcher:co,dispose:Oe,getBlocker:Hl,deleteBlocker:ja,patchRoutes:uo,_internalFetchControllers:B,_internalActiveDeferreds:ce,_internalSetRoutes:is},T}function OH(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Ox(t,e,n,r,s,i,o,a){let l,c;if(o){l=[];for(let h of e)if(l.push(h),h.route.id===o){c=h;break}}else l=e,c=e[e.length-1];let u=jv(s||".",Ov(l,i),Au(t.pathname,n)||t.pathname,a==="path");return s==null&&(u.search=t.search,u.hash=t.hash),(s==null||s===""||s===".")&&c&&c.route.index&&!ub(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Fi([n,u.pathname])),bl(u)}function cR(t,e,n,r){if(!r||!OH(r))return{path:n};if(r.formMethod&&!YH(r.formMethod))return{path:n,error:hr(405,{method:r.formMethod})};let s=()=>({path:n,error:hr(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=t?i.toUpperCase():i.toLowerCase(),a=jM(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Ds(o))return s();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((g,w)=>{let[v,_]=w;return""+g+v+"="+_+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!Ds(o))return s();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return s()}}}Xe(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=jx(r.formData),c=r.formData;else if(r.body instanceof FormData)l=jx(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=fR(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=fR(l)}catch{return s()}let u={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Ds(u.formMethod))return{path:n,submission:u};let h=Ta(n);return e&&h.search&&ub(h.search)&&l.append("index",""),h.search="?"+l,{path:bl(h),submission:u}}function jH(t,e){let n=t;if(e){let r=t.findIndex(s=>s.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function uR(t,e,n,r,s,i,o,a,l,c,u,h,p,g,w,v){let _=v?zr(v[1])?v[1].error:v[1].data:void 0,x=t.createURL(e.location),y=t.createURL(s),b=v&&zr(v[1])?v[0]:void 0,A=b?jH(n,b):n,P=v?v[1].statusCode:void 0,O=o&&P&&P>=400,T=A.filter((I,R)=>{let{route:k}=I;if(k.lazy)return!0;if(k.loader==null)return!1;if(i)return typeof k.loader!="function"||k.loader.hydrate?!0:e.loaderData[k.id]===void 0&&(!e.errors||e.errors[k.id]===void 0);if(LH(e.loaderData,e.matches[R],I)||l.some(W=>W===I.route.id))return!0;let M=e.matches[R],N=I;return dR(I,$t({currentUrl:x,currentParams:M.params,nextUrl:y,nextParams:N.params},r,{actionResult:_,actionStatus:P,defaultShouldRevalidate:O?!1:a||x.pathname+x.search===y.pathname+y.search||x.search!==y.search||MM(M,N)}))}),E=[];return h.forEach((I,R)=>{if(i||!n.some(se=>se.route.id===I.routeId)||u.has(R))return;let k=Ga(g,I.path,w);if(!k){E.push({key:R,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let M=e.fetchers.get(R),N=Ad(k,I.path),W=!1;p.has(R)?W=!1:c.has(R)?(c.delete(R),W=!0):M&&M.state!=="idle"&&M.data===void 0?W=a:W=dR(N,$t({currentUrl:x,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:_,actionStatus:P,defaultShouldRevalidate:O?!1:a})),W&&E.push({key:R,routeId:I.routeId,path:I.path,matches:k,match:N,controller:new AbortController})}),[T,E]}function LH(t,e,n){let r=!e||n.route.id!==e.route.id,s=t[n.route.id]===void 0;return r||s}function MM(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function dR(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function VH(t,e,n,r,s,i,o,a){let l=[e,...n.map(c=>c.route.id)].join("-");try{let c=o.get(l);c||(c=t({path:e,matches:n,patch:(u,h)=>{a.aborted||OM(u,h,r,s,i)}}),o.set(l,c)),c&&qH(c)&&await c}finally{o.delete(l)}}function OM(t,e,n,r,s){if(t){var i;let o=r[t];Xe(o,"No route found to patch children into: routeId = "+t);let a=Mh(e,s,[t,"patch",String(((i=o.children)==null?void 0:i.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=Mh(e,s,["patch",String(n.length||"0")],r);n.push(...o)}}async function FH(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let s=n[t.id];Xe(s,"No route found in manifest");let i={};for(let o in r){let l=s[o]!==void 0&&o!=="hasErrorBoundary";lu(!l,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!aH.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,$t({},e(s),{lazy:void 0}))}async function UH(t){let{matches:e}=t,n=e.filter(s=>s.shouldLoad);return(await Promise.all(n.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[n[o].route.id]:i}),{})}async function BH(t,e,n,r,s,i,o,a,l,c){let u=i.map(g=>g.route.lazy?FH(g.route,l,a):void 0),h=i.map((g,w)=>{let v=u[w],_=s.some(y=>y.route.id===g.route.id);return $t({},g,{shouldLoad:_,resolve:async y=>(y&&r.method==="GET"&&(g.route.lazy||g.route.loader)&&(_=!0),_?$H(e,r,g,v,y,c):Promise.resolve({type:Et.data,result:void 0}))})}),p=await t({matches:h,request:r,params:i[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return p}async function $H(t,e,n,r,s,i){let o,a,l=c=>{let u,h=new Promise((w,v)=>u=v);a=()=>u(),e.signal.addEventListener("abort",a);let p=w=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:i},...w!==void 0?[w]:[]),g=(async()=>{try{return{type:"data",result:await(s?s(v=>p(v)):p())}}catch(w){return{type:"error",result:w}}})();return Promise.race([g,h])};try{let c=n.route[t];if(r)if(c){let u,[h]=await Promise.all([l(c).catch(p=>{u=p}),r]);if(u!==void 0)throw u;o=h}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),h=u.pathname+u.search;throw hr(405,{method:e.method,pathname:h,routeId:n.route.id})}else return{type:Et.data,result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),h=u.pathname+u.search;throw hr(404,{pathname:h})}Xe(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Et.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function zH(t){let{result:e,type:n}=t;if(LM(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:Et.error,error:u}}return n===Et.error?{type:Et.error,error:new _g(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:Et.data,data:c,statusCode:e.status,headers:e.headers}}if(n===Et.error){if(yR(e)){var r;if(e.data instanceof Error){var s;return{type:Et.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status}}e=new _g(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Et.error,error:e,statusCode:Af(e)?e.status:void 0}}if(QH(e)){var i,o;return{type:Et.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(yR(e)){var a,l;return{type:Et.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Et.data,data:e}}function KH(t,e,n,r,s,i){let o=t.headers.get("Location");if(Xe(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!lb.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=Ox(new URL(e.url),a,s,!0,o,i),t.headers.set("Location",o)}return t}function hR(t,e,n){if(lb.test(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=Au(s.pathname,n)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function Xl(t,e,n,r){let s=t.createURL(jM(e)).toString(),i={signal:n};if(r&&Ds(r.formMethod)){let{formMethod:o,formEncType:a}=r;i.method=o.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(r.json)):a==="text/plain"?i.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?i.body=jx(r.formData):i.body=r.formData}return new Request(s,i)}function jx(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function fR(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function WH(t,e,n,r,s){let i={},o=null,a,l=!1,c={},u=n&&zr(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let p=h.route.id,g=e[p];if(Xe(!Ja(g),"Cannot handle redirect results in processLoaderData"),zr(g)){let w=g.error;u!==void 0&&(w=u,u=void 0),o=o||{};{let v=vc(t,p);o[v.route.id]==null&&(o[v.route.id]=w)}i[p]=void 0,l||(l=!0,a=Af(g.error)?g.error.status:500),g.headers&&(c[p]=g.headers)}else Ho(g)?(r.set(p,g.deferredData),i[p]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[p]=g.headers)):(i[p]=g.data,g.statusCode&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[p]=g.headers))}),u!==void 0&&n&&(o={[n[0]]:u},i[n[0]]=void 0),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:c}}function pR(t,e,n,r,s,i,o,a){let{loaderData:l,errors:c}=WH(e,r,s,a);return i.forEach(u=>{let{key:h,match:p,controller:g}=u,w=o[h];if(Xe(w,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(zr(w)){let v=vc(t.matches,p==null?void 0:p.route.id);c&&c[v.route.id]||(c=$t({},c,{[v.route.id]:w.error})),t.fetchers.delete(h)}else if(Ja(w))Xe(!1,"Unhandled fetcher revalidation redirect");else if(Ho(w))Xe(!1,"Unhandled fetcher deferred data");else{let v=xo(w.data);t.fetchers.set(h,v)}}),{loaderData:l,errors:c}}function mR(t,e,n,r){let s=$t({},e);for(let i of n){let o=i.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&i.route.loader&&(s[o]=t[o]),r&&r.hasOwnProperty(o))break}return s}function gR(t){return t?zr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function vc(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function vR(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function hr(t,e){let{pathname:n,routeId:r,method:s,type:i,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):s&&n&&r?l="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",s&&n&&r?l="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new _g(t||500,a,new Error(l),!0)}function Vp(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(Ja(s))return{key:r,result:s}}}function jM(t){let e=typeof t=="string"?Ta(t):t;return bl($t({},e,{hash:""}))}function HH(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function qH(t){return typeof t=="object"&&t!=null&&"then"in t}function GH(t){return LM(t.result)&&PH.has(t.result.status)}function Ho(t){return t.type===Et.deferred}function zr(t){return t.type===Et.error}function Ja(t){return(t&&t.type)===Et.redirect}function yR(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function QH(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function LM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function YH(t){return IH.has(t.toLowerCase())}function Ds(t){return AH.has(t.toLowerCase())}async function XH(t,e,n,r,s){let i=Object.entries(e);for(let o=0;o<i.length;o++){let[a,l]=i[o],c=t.find(p=>(p==null?void 0:p.route.id)===a);if(!c)continue;let u=r.find(p=>p.route.id===c.route.id),h=u!=null&&!MM(u,c)&&(s&&s[c.route.id])!==void 0;Ho(l)&&h&&await cb(l,n,!1).then(p=>{p&&(e[a]=p)})}}async function JH(t,e,n){for(let r=0;r<n.length;r++){let{key:s,routeId:i,controller:o}=n[r],a=e[s];t.find(c=>(c==null?void 0:c.route.id)===i)&&Ho(a)&&(Xe(o,"Expected an AbortController for revalidating fetcher deferred result"),await cb(a,o.signal,!0).then(c=>{c&&(e[s]=c)}))}}async function cb(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Et.data,data:t.deferredData.unwrappedData}}catch(s){return{type:Et.error,error:s}}return{type:Et.data,data:t.deferredData.data}}}function ub(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Ad(t,e){let n=typeof e=="string"?Ta(e).search:e.search;if(t[t.length-1].route.index&&ub(n||""))return t[t.length-1];let r=NM(t);return r[r.length-1]}function wR(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:i,json:o}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Uw(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ZH(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function fd(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function e8(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function xo(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function t8(t,e){try{let n=t.sessionStorage.getItem(kM);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function n8(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(kM,JSON.stringify(n))}catch(r){lu(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eg(){return Eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eg.apply(this,arguments)}const Lv=m.createContext(null),VM=m.createContext(null),Ca=m.createContext(null),db=m.createContext(null),Aa=m.createContext({outlet:null,matches:[],isDataRoute:!1}),FM=m.createContext(null);function r8(t,e){let{relative:n}=e===void 0?{}:e;Ru()||Xe(!1);let{basename:r,navigator:s}=m.useContext(Ca),{hash:i,pathname:o,search:a}=BM(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Fi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Ru(){return m.useContext(db)!=null}function Iu(){return Ru()||Xe(!1),m.useContext(db).location}function UM(t){m.useContext(Ca).static||m.useLayoutEffect(t)}function Rf(){let{isDataRoute:t}=m.useContext(Aa);return t?p8():s8()}function s8(){Ru()||Xe(!1);let t=m.useContext(Lv),{basename:e,future:n,navigator:r}=m.useContext(Ca),{matches:s}=m.useContext(Aa),{pathname:i}=Iu(),o=JSON.stringify(Ov(s,n.v7_relativeSplatPath)),a=m.useRef(!1);return UM(()=>{a.current=!0}),m.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=jv(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Fi([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,i,t])}function BM(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(Ca),{matches:s}=m.useContext(Aa),{pathname:i}=Iu(),o=JSON.stringify(Ov(s,r.v7_relativeSplatPath));return m.useMemo(()=>jv(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function i8(t,e,n,r){Ru()||Xe(!1);let{navigator:s}=m.useContext(Ca),{matches:i}=m.useContext(Aa),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Iu(),u;u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=Ga(t,{pathname:p});return u8(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Fi([l,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Fi([l,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,r)}function o8(){let t=KM(),e=Af(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:s},n):null,null)}const a8=m.createElement(o8,null);class l8 extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(Aa.Provider,{value:this.props.routeContext},m.createElement(FM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function c8(t){let{routeContext:e,match:n,children:r}=t,s=m.useContext(Lv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Aa.Provider,{value:e},r)}function u8(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||Xe(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:p,errors:g}=n,w=h.route.loader&&p[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,p)=>{let g,w=!1,v=null,_=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||a8,l&&(c<0&&p===0?(m8("route-fallback"),w=!0,_=null):c===p&&(w=!0,_=h.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,p+1)),y=()=>{let b;return g?b=v:w?b=_:h.route.Component?b=m.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,m.createElement(c8,{match:h,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?m.createElement(l8,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var $M=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}($M||{}),bg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(bg||{});function d8(t){let e=m.useContext(Lv);return e||Xe(!1),e}function h8(t){let e=m.useContext(VM);return e||Xe(!1),e}function f8(t){let e=m.useContext(Aa);return e||Xe(!1),e}function zM(t){let e=f8(),n=e.matches[e.matches.length-1];return n.route.id||Xe(!1),n.route.id}function KM(){var t;let e=m.useContext(FM),n=h8(bg.UseRouteError),r=zM(bg.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function p8(){let{router:t}=d8($M.UseNavigateStable),e=zM(bg.UseNavigateStable),n=m.useRef(!1);return UM(()=>{n.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Eg({fromRouteId:e},i)))},[t,e])}const xR={};function m8(t,e,n){xR[t]||(xR[t]=!0)}function WM(t){let{to:e,replace:n,state:r,relative:s}=t;Ru()||Xe(!1);let{future:i,static:o}=m.useContext(Ca),{matches:a}=m.useContext(Aa),{pathname:l}=Iu(),c=Rf(),u=jv(e,Ov(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(u);return m.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function g8(t){let{basename:e="/",children:n=null,location:r,navigationType:s=fn.Pop,navigator:i,static:o=!1,future:a}=t;Ru()&&Xe(!1);let l=e.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:i,static:o,future:Eg({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Ta(r));let{pathname:u="/",search:h="",hash:p="",state:g=null,key:w="default"}=r,v=m.useMemo(()=>{let _=Au(u,l);return _==null?null:{location:{pathname:_,search:h,hash:p,state:g,key:w},navigationType:s}},[l,u,h,p,g,w,s]);return v==null?null:m.createElement(Ca.Provider,{value:c},m.createElement(db.Provider,{children:n,value:v}))}new Promise(()=>{});function v8(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:m.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:m.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:m.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oh(){return Oh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oh.apply(this,arguments)}function y8(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function w8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function x8(t,e){return t.button===0&&(!e||e==="_self")&&!w8(t)}const _8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],E8="6";try{window.__reactRouterVersion=E8}catch{}function b8(t,e){return MH({basename:e==null?void 0:e.basename,future:Oh({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:sH({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||S8(),routes:t,mapRouteProperties:v8,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,unstable_patchRoutesOnNavigation:e==null?void 0:e.unstable_patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function S8(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Oh({},e,{errors:T8(e.errors)})),e}function T8(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new _g(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}const C8=m.createContext({isTransitioning:!1}),A8=m.createContext(new Map),R8="startTransition",_R=SN[R8],I8="flushSync",ER=X3[I8];function P8(t){_R?_R(t):t()}function pd(t){ER?ER(t):t()}class N8{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function D8(t){let{fallbackElement:e,router:n,future:r}=t,[s,i]=m.useState(n.state),[o,a]=m.useState(),[l,c]=m.useState({isTransitioning:!1}),[u,h]=m.useState(),[p,g]=m.useState(),[w,v]=m.useState(),_=m.useRef(new Map),{v7_startTransition:x}=r||{},y=m.useCallback(E=>{x?P8(E):E()},[x]),b=m.useCallback((E,I)=>{let{deletedFetchers:R,unstable_flushSync:k,unstable_viewTransitionOpts:M}=I;R.forEach(W=>_.current.delete(W)),E.fetchers.forEach((W,se)=>{W.data!==void 0&&_.current.set(se,W.data)});let N=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!M||N){k?pd(()=>i(E)):y(()=>i(E));return}if(k){pd(()=>{p&&(u&&u.resolve(),p.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let W=n.window.document.startViewTransition(()=>{pd(()=>i(E))});W.finished.finally(()=>{pd(()=>{h(void 0),g(void 0),a(void 0),c({isTransitioning:!1})})}),pd(()=>g(W));return}p?(u&&u.resolve(),p.skipTransition(),v({state:E,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(a(E),c({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[n.window,p,u,_,y]);m.useLayoutEffect(()=>n.subscribe(b),[n,b]),m.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new N8)},[l]),m.useEffect(()=>{if(u&&o&&n.window){let E=o,I=u.promise,R=n.window.document.startViewTransition(async()=>{y(()=>i(E)),await I});R.finished.finally(()=>{h(void 0),g(void 0),a(void 0),c({isTransitioning:!1})}),g(R)}},[y,o,u,n.window]),m.useEffect(()=>{u&&o&&s.location.key===o.location.key&&u.resolve()},[u,p,s.location,o]),m.useEffect(()=>{!l.isTransitioning&&w&&(a(w.state),c({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),v(void 0))},[l.isTransitioning,w]),m.useEffect(()=>{},[]);let A=m.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:E=>n.navigate(E),push:(E,I,R)=>n.navigate(E,{state:I,preventScrollReset:R==null?void 0:R.preventScrollReset}),replace:(E,I,R)=>n.navigate(E,{replace:!0,state:I,preventScrollReset:R==null?void 0:R.preventScrollReset})}),[n]),P=n.basename||"/",O=m.useMemo(()=>({router:n,navigator:A,static:!1,basename:P}),[n,A,P]),T=m.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return m.createElement(m.Fragment,null,m.createElement(Lv.Provider,{value:O},m.createElement(VM.Provider,{value:s},m.createElement(A8.Provider,{value:_.current},m.createElement(C8.Provider,{value:l},m.createElement(g8,{basename:P,location:s.location,navigationType:s.historyAction,navigator:A,future:T},s.initialized||n.future.v7_partialHydration?m.createElement(k8,{routes:n.routes,future:n.future,state:s}):e))))),null)}const k8=m.memo(M8);function M8(t){let{routes:e,future:n,state:r}=t;return i8(e,void 0,r,n)}const O8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",j8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,L8=m.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:h}=e,p=y8(e,_8),{basename:g}=m.useContext(Ca),w,v=!1;if(typeof c=="string"&&j8.test(c)&&(w=c,O8))try{let b=new URL(window.location.href),A=c.startsWith("//")?new URL(b.protocol+c):new URL(c),P=Au(A.pathname,g);A.origin===b.origin&&P!=null?c=P+A.search+A.hash:v=!0}catch{}let _=r8(c,{relative:s}),x=V8(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,unstable_viewTransition:h});function y(b){r&&r(b),b.defaultPrevented||x(b)}return m.createElement("a",Oh({},p,{href:w||_,onClick:v||i?r:y,ref:n,target:l}))});var bR;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(bR||(bR={}));var SR;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(SR||(SR={}));function V8(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Rf(),c=Iu(),u=BM(t,{relative:o});return m.useCallback(h=>{if(x8(h,n)){h.preventDefault();let p=r!==void 0?r:bl(c)===bl(u);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}const F8=()=>{const t=pt(n=>n.isAuth),e=Rf();m.useEffect(()=>{(async()=>{try{const r=CW();await uK(r),yt("Sign in success")}catch{}})()},[]),m.useEffect(()=>{if(!t)return e("/login")},[t])};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HM=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var B8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>m.createElement("svg",{ref:l,...B8,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:HM("lucide",s),...a},[...o.map(([c,u])=>m.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=(t,e)=>{const n=m.forwardRef(({className:r,...s},i)=>m.createElement($8,{ref:i,iconNode:e,className:HM(`lucide-${U8(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=Ge("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=Ge("Blocks",[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",key:"1fpvtg"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8=Ge("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=Ge("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=Ge("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=Ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=Ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8=Ge("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=Ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=Ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=Ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=Ge("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=Ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=Ge("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=Ge("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=Ge("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=Ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=Ge("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=Ge("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=Ge("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=Ge("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=Ge("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=Ge("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=Ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=Ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=Ge("MessageSquareCode",[["path",{d:"M10 7.5 8 10l2 2.5",key:"xb17xw"}],["path",{d:"m14 7.5 2 2.5-2 2.5",key:"5rap1v"}],["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=Ge("MessageSquareMore",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M16 10h.01",key:"1m94wz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=Ge("MessageSquareText",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M13 8H7",key:"14i4kc"}],["path",{d:"M17 12H7",key:"16if0g"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=Ge("PanelRight",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=Ge("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aq=Ge("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=Ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=Ge("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=Ge("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=Ge("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=Ge("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=Ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=Ge("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=Ge("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=Ge("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=Ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=Ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=Ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Z(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function fq(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Bv(...t){return e=>t.forEach(n=>fq(n,e))}function ke(...t){return m.useCallback(Bv(...t),t)}function pq(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var x;const{scope:p,children:g,...w}=h,v=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,_=m.useMemo(()=>w,Object.values(w));return d.jsx(v.Provider,{value:_,children:g})};c.displayName=i+"Provider";function u(h,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,mq(s,...e)]}function mq(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function ft(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function ua({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=gq({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=ft(n),l=m.useCallback(c=>{if(i){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else s(c)},[i,t,s,a]);return[o,l]}function gq({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,s=m.useRef(r),i=ft(e);return m.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var da=m.forwardRef((t,e)=>{const{children:n,...r}=t,s=m.Children.toArray(n),i=s.find(vq);if(i){const o=i.props.children,a=s.map(l=>l===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return d.jsx(Lx,{...r,ref:e,children:m.isValidElement(o)?m.cloneElement(o,void 0,a):null})}return d.jsx(Lx,{...r,ref:e,children:n})});da.displayName="Slot";var Lx=m.forwardRef((t,e)=>{const{children:n,...r}=t;if(m.isValidElement(n)){const s=wq(n);return m.cloneElement(n,{...yq(r,n.props),ref:e?Bv(e,s):s})}return m.Children.count(n)>1?m.Children.only(null):null});Lx.displayName="SlotClone";var pb=({children:t})=>d.jsx(d.Fragment,{children:t});function vq(t){return m.isValidElement(t)&&t.type===pb}function yq(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function wq(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var xq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ve=xq.reduce((t,e)=>{const n=m.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?da:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Vl(t,e){t&&Ar.flushSync(()=>t.dispatchEvent(e))}function Fl(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:p,children:g,...w}=h,v=(p==null?void 0:p[t][l])||a,_=m.useMemo(()=>w,Object.values(w));return d.jsx(v.Provider,{value:_,children:g})}function u(h,p){const g=(p==null?void 0:p[t][l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,_q(s,...e)]}function _q(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function $v(t){const e=t+"CollectionProvider",[n,r]=Fl(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:w,children:v}=g,_=Re.useRef(null),x=Re.useRef(new Map).current;return d.jsx(s,{scope:w,itemMap:x,collectionRef:_,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=Re.forwardRef((g,w)=>{const{scope:v,children:_}=g,x=i(a,v),y=ke(w,x.collectionRef);return d.jsx(da,{ref:y,children:_})});l.displayName=a;const c=t+"CollectionItemSlot",u="data-radix-collection-item",h=Re.forwardRef((g,w)=>{const{scope:v,children:_,...x}=g,y=Re.useRef(null),b=ke(w,y),A=i(c,v);return Re.useEffect(()=>(A.itemMap.set(y,{ref:y,...x}),()=>void A.itemMap.delete(y))),d.jsx(da,{[u]:"",ref:b,children:_})});h.displayName=c;function p(g){const w=i(t+"CollectionConsumer",g);return Re.useCallback(()=>{const _=w.collectionRef.current;if(!_)return[];const x=Array.from(_.querySelectorAll(`[${u}]`));return Array.from(w.itemMap.values()).sort((A,P)=>x.indexOf(A.ref.current)-x.indexOf(P.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},p,r]}function Eq(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var x;const{scope:p,children:g,...w}=h,v=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,_=m.useMemo(()=>w,Object.values(w));return d.jsx(v.Provider,{value:_,children:g})};c.displayName=i+"Provider";function u(h,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,bq(s,...e)]}function bq(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Sq=m.createContext(void 0);function If(t){const e=m.useContext(Sq);return t||e||"ltr"}function Pf(t,e=globalThis==null?void 0:globalThis.document){const n=ft(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Tq="DismissableLayer",Vx="dismissableLayer.update",Cq="dismissableLayer.pointerDownOutside",Aq="dismissableLayer.focusOutside",CR,sO=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),iO=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(sO),[u,h]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,T=>h(T)),v=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(_),y=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,A=y>=x,P=Pq(T=>{const E=T.target,I=[...c.branches].some(R=>R.contains(E));!A||I||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},p),O=Nq(T=>{const E=T.target;[...c.branches].some(R=>R.contains(E))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},p);return Pf(T=>{y===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(CR=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),AR(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=CR)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),AR())},[u,c]),m.useEffect(()=>{const T=()=>g({});return document.addEventListener(Vx,T),()=>document.removeEventListener(Vx,T)},[]),d.jsx(ve.div,{...l,ref:w,style:{pointerEvents:b?A?"auto":"none":void 0,...t.style},onFocusCapture:Z(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Z(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Z(t.onPointerDownCapture,P.onPointerDownCapture)})});iO.displayName=Tq;var Rq="DismissableLayerBranch",Iq=m.forwardRef((t,e)=>{const n=m.useContext(sO),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(ve.div,{...t,ref:s})});Iq.displayName=Rq;function Pq(t,e=globalThis==null?void 0:globalThis.document){const n=ft(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){oO(Cq,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Nq(t,e=globalThis==null?void 0:globalThis.document){const n=ft(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&oO(Aq,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function AR(){const t=new CustomEvent(Vx);document.dispatchEvent(t)}function oO(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Vl(s,i):s.dispatchEvent(i)}var Bw=0;function mb(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??RR()),document.body.insertAdjacentElement("beforeend",t[1]??RR()),Bw++,()=>{Bw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Bw--}},[])}function RR(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var $w="focusScope.autoFocusOnMount",zw="focusScope.autoFocusOnUnmount",IR={bubbles:!1,cancelable:!0},Dq="FocusScope",zv=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=m.useState(null),c=ft(s),u=ft(i),h=m.useRef(null),p=ke(e,v=>l(v)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let v=function(b){if(g.paused||!a)return;const A=b.target;a.contains(A)?h.current=A:_o(h.current,{select:!0})},_=function(b){if(g.paused||!a)return;const A=b.relatedTarget;A!==null&&(a.contains(A)||_o(h.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const P of b)P.removedNodes.length>0&&_o(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",_);const y=new MutationObserver(x);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",_),y.disconnect()}}},[r,a,g.paused]),m.useEffect(()=>{if(a){NR.add(g);const v=document.activeElement;if(!a.contains(v)){const x=new CustomEvent($w,IR);a.addEventListener($w,c),a.dispatchEvent(x),x.defaultPrevented||(kq(Vq(aO(a)),{select:!0}),document.activeElement===v&&_o(a))}return()=>{a.removeEventListener($w,c),setTimeout(()=>{const x=new CustomEvent(zw,IR);a.addEventListener(zw,u),a.dispatchEvent(x),x.defaultPrevented||_o(v??document.body,{select:!0}),a.removeEventListener(zw,u),NR.remove(g)},0)}}},[a,c,u,g]);const w=m.useCallback(v=>{if(!n&&!r||g.paused)return;const _=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(_&&x){const y=v.currentTarget,[b,A]=Mq(y);b&&A?!v.shiftKey&&x===A?(v.preventDefault(),n&&_o(b,{select:!0})):v.shiftKey&&x===b&&(v.preventDefault(),n&&_o(A,{select:!0})):x===y&&v.preventDefault()}},[n,r,g.paused]);return d.jsx(ve.div,{tabIndex:-1,...o,ref:p,onKeyDown:w})});zv.displayName=Dq;function kq(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(_o(r,{select:e}),document.activeElement!==n)return}function Mq(t){const e=aO(t),n=PR(e,t),r=PR(e.reverse(),t);return[n,r]}function aO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function PR(t,e){for(const n of t)if(!Oq(n,{upTo:e}))return n}function Oq(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function jq(t){return t instanceof HTMLInputElement&&"select"in t}function _o(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&jq(t)&&e&&t.select()}}var NR=Lq();function Lq(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=DR(t,e),t.unshift(e)},remove(e){var n;t=DR(t,e),(n=t[0])==null||n.resume()}}}function DR(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Vq(t){return t.filter(e=>e.tagName!=="A")}var Pt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},Fq=SN.useId||(()=>{}),Uq=0;function Us(t){const[e,n]=m.useState(Fq());return Pt(()=>{t||n(r=>r??String(Uq++))},[t]),t||(e?`radix-${e}`:"")}const Bq=["top","right","bottom","left"],ha=Math.min,Kr=Math.max,Sg=Math.round,Fp=Math.floor,fa=t=>({x:t,y:t}),$q={left:"right",right:"left",bottom:"top",top:"bottom"},zq={start:"end",end:"start"};function Fx(t,e,n){return Kr(t,ha(e,n))}function to(t,e){return typeof t=="function"?t(e):t}function no(t){return t.split("-")[0]}function Du(t){return t.split("-")[1]}function gb(t){return t==="x"?"y":"x"}function vb(t){return t==="y"?"height":"width"}function pa(t){return["top","bottom"].includes(no(t))?"y":"x"}function yb(t){return gb(pa(t))}function Kq(t,e,n){n===void 0&&(n=!1);const r=Du(t),s=yb(t),i=vb(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Tg(o)),[o,Tg(o)]}function Wq(t){const e=Tg(t);return[Ux(t),e,Ux(e)]}function Ux(t){return t.replace(/start|end/g,e=>zq[e])}function Hq(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function qq(t,e,n,r){const s=Du(t);let i=Hq(no(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Ux)))),i}function Tg(t){return t.replace(/left|right|bottom|top/g,e=>$q[e])}function Gq(t){return{top:0,right:0,bottom:0,left:0,...t}}function lO(t){return typeof t!="number"?Gq(t):{top:t,right:t,bottom:t,left:t}}function Cg(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function kR(t,e,n){let{reference:r,floating:s}=t;const i=pa(e),o=yb(e),a=vb(o),l=no(e),c=i==="y",u=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:u,y:r.y-s.height};break;case"bottom":g={x:u,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-s.width,y:h};break;default:g={x:r.x,y:r.y}}switch(Du(e)){case"start":g[o]-=p*(n&&c?-1:1);break;case"end":g[o]+=p*(n&&c?-1:1);break}return g}const Qq=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:h}=kR(c,r,l),p=r,g={},w=0;for(let v=0;v<a.length;v++){const{name:_,fn:x}=a[v],{x:y,y:b,data:A,reset:P}=await x({x:u,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});u=y??u,h=b??h,g={...g,[_]:{...g[_],...A}},P&&w<=50&&(w++,typeof P=="object"&&(P.placement&&(p=P.placement),P.rects&&(c=P.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):P.rects),{x:u,y:h}=kR(c,p,l)),v=-1)}return{x:u,y:h,placement:p,strategy:s,middlewareData:g}};async function jh(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:p=!1,padding:g=0}=to(e,t),w=lO(g),_=a[p?h==="floating"?"reference":"floating":h],x=Cg(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),A=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},P=Cg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:b,strategy:l}):y);return{top:(x.top-P.top+w.top)/A.y,bottom:(P.bottom-x.bottom+w.bottom)/A.y,left:(x.left-P.left+w.left)/A.x,right:(P.right-x.right+w.right)/A.x}}const Yq=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=to(t,e)||{};if(c==null)return{};const h=lO(u),p={x:n,y:r},g=yb(s),w=vb(g),v=await o.getDimensions(c),_=g==="y",x=_?"top":"left",y=_?"bottom":"right",b=_?"clientHeight":"clientWidth",A=i.reference[w]+i.reference[g]-p[g]-i.floating[w],P=p[g]-i.reference[g],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let T=O?O[b]:0;(!T||!await(o.isElement==null?void 0:o.isElement(O)))&&(T=a.floating[b]||i.floating[w]);const E=A/2-P/2,I=T/2-v[w]/2-1,R=ha(h[x],I),k=ha(h[y],I),M=R,N=T-v[w]-k,W=T/2-v[w]/2+E,se=Fx(M,W,N),ne=!l.arrow&&Du(s)!=null&&W!==se&&i.reference[w]/2-(W<M?R:k)-v[w]/2<0,Y=ne?W<M?W-M:W-N:0;return{[g]:p[g]+Y,data:{[g]:se,centerOffset:W-se-Y,...ne&&{alignmentOffset:Y}},reset:ne}}}),Xq=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,..._}=to(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=no(s),y=pa(a),b=no(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),P=p||(b||!v?[Tg(a)]:Wq(a)),O=w!=="none";!p&&O&&P.push(...qq(a,v,w,A));const T=[a,...P],E=await jh(e,_),I=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&I.push(E[x]),h){const W=Kq(s,o,A);I.push(E[W[0]],E[W[1]])}if(R=[...R,{placement:s,overflows:I}],!I.every(W=>W<=0)){var k,M;const W=(((k=i.flip)==null?void 0:k.index)||0)+1,se=T[W];if(se)return{data:{index:W,overflows:R},reset:{placement:se}};let ne=(M=R.filter(Y=>Y.overflows[0]<=0).sort((Y,z)=>Y.overflows[1]-z.overflows[1])[0])==null?void 0:M.placement;if(!ne)switch(g){case"bestFit":{var N;const Y=(N=R.filter(z=>{if(O){const B=pa(z.placement);return B===y||B==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(B=>B>0).reduce((B,J)=>B+J,0)]).sort((z,B)=>z[1]-B[1])[0])==null?void 0:N[0];Y&&(ne=Y);break}case"initialPlacement":ne=a;break}if(s!==ne)return{reset:{placement:ne}}}return{}}}};function MR(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function OR(t){return Bq.some(e=>t[e]>=0)}const Jq=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=to(t,e);switch(r){case"referenceHidden":{const i=await jh(e,{...s,elementContext:"reference"}),o=MR(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:OR(o)}}}case"escaped":{const i=await jh(e,{...s,altBoundary:!0}),o=MR(i,n.floating);return{data:{escapedOffsets:o,escaped:OR(o)}}}default:return{}}}}};async function Zq(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=no(n),a=Du(n),l=pa(n)==="y",c=["left","top"].includes(o)?-1:1,u=i&&l?-1:1,h=to(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof w=="number"&&(g=a==="end"?w*-1:w),l?{x:g*u,y:p*c}:{x:p*c,y:g*u}}const e7=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await Zq(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},t7=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x,y}=_;return{x,y}}},...l}=to(t,e),c={x:n,y:r},u=await jh(e,l),h=pa(no(s)),p=gb(h);let g=c[p],w=c[h];if(i){const _=p==="y"?"top":"left",x=p==="y"?"bottom":"right",y=g+u[_],b=g-u[x];g=Fx(y,g,b)}if(o){const _=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=w+u[_],b=w-u[x];w=Fx(y,w,b)}const v=a.fn({...e,[p]:g,[h]:w});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[p]:i,[h]:o}}}}}},n7=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=to(t,e),u={x:n,y:r},h=pa(s),p=gb(h);let g=u[p],w=u[h];const v=to(a,e),_=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const b=p==="y"?"height":"width",A=i.reference[p]-i.floating[b]+_.mainAxis,P=i.reference[p]+i.reference[b]-_.mainAxis;g<A?g=A:g>P&&(g=P)}if(c){var x,y;const b=p==="y"?"width":"height",A=["top","left"].includes(no(s)),P=i.reference[h]-i.floating[b]+(A&&((x=o.offset)==null?void 0:x[h])||0)+(A?0:_.crossAxis),O=i.reference[h]+i.reference[b]+(A?0:((y=o.offset)==null?void 0:y[h])||0)-(A?_.crossAxis:0);w<P?w=P:w>O&&(w=O)}return{[p]:g,[h]:w}}}},r7=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=to(t,e),u=await jh(e,c),h=no(s),p=Du(s),g=pa(s)==="y",{width:w,height:v}=i.floating;let _,x;h==="top"||h==="bottom"?(_=h,x=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=h,_=p==="end"?"top":"bottom");const y=v-u.top-u.bottom,b=w-u.left-u.right,A=ha(v-u[_],y),P=ha(w-u[x],b),O=!e.middlewareData.shift;let T=A,E=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=y),O&&!p){const R=Kr(u.left,0),k=Kr(u.right,0),M=Kr(u.top,0),N=Kr(u.bottom,0);g?E=w-2*(R!==0||k!==0?R+k:Kr(u.left,u.right)):T=v-2*(M!==0||N!==0?M+N:Kr(u.top,u.bottom))}await l({...e,availableWidth:E,availableHeight:T});const I=await o.getDimensions(a.floating);return w!==I.width||v!==I.height?{reset:{rects:!0}}:{}}}};function Kv(){return typeof window<"u"}function ku(t){return cO(t)?(t.nodeName||"").toLowerCase():"#document"}function Gr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function gi(t){var e;return(e=(cO(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function cO(t){return Kv()?t instanceof Node||t instanceof Gr(t).Node:!1}function zs(t){return Kv()?t instanceof Element||t instanceof Gr(t).Element:!1}function hi(t){return Kv()?t instanceof HTMLElement||t instanceof Gr(t).HTMLElement:!1}function jR(t){return!Kv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Gr(t).ShadowRoot}function Nf(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Ks(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function s7(t){return["table","td","th"].includes(ku(t))}function Wv(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function wb(t){const e=xb(),n=zs(t)?Ks(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function i7(t){let e=ma(t);for(;hi(e)&&!cu(e);){if(wb(e))return e;if(Wv(e))return null;e=ma(e)}return null}function xb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function cu(t){return["html","body","#document"].includes(ku(t))}function Ks(t){return Gr(t).getComputedStyle(t)}function Hv(t){return zs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ma(t){if(ku(t)==="html")return t;const e=t.assignedSlot||t.parentNode||jR(t)&&t.host||gi(t);return jR(e)?e.host:e}function uO(t){const e=ma(t);return cu(e)?t.ownerDocument?t.ownerDocument.body:t.body:hi(e)&&Nf(e)?e:uO(e)}function Lh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=uO(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Gr(s);if(i){const a=Bx(o);return e.concat(o,o.visualViewport||[],Nf(s)?s:[],a&&n?Lh(a):[])}return e.concat(s,Lh(s,[],n))}function Bx(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function dO(t){const e=Ks(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=hi(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Sg(n)!==i||Sg(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function _b(t){return zs(t)?t:t.contextElement}function kc(t){const e=_b(t);if(!hi(e))return fa(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=dO(e);let o=(i?Sg(n.width):n.width)/r,a=(i?Sg(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const o7=fa(0);function hO(t){const e=Gr(t);return!xb()||!e.visualViewport?o7:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function a7(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Gr(t)?!1:e}function Sl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=_b(t);let o=fa(1);e&&(r?zs(r)&&(o=kc(r)):o=kc(t));const a=a7(i,n,r)?hO(i):fa(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,h=s.height/o.y;if(i){const p=Gr(i),g=r&&zs(r)?Gr(r):r;let w=p,v=Bx(w);for(;v&&r&&g!==w;){const _=kc(v),x=v.getBoundingClientRect(),y=Ks(v),b=x.left+(v.clientLeft+parseFloat(y.paddingLeft))*_.x,A=x.top+(v.clientTop+parseFloat(y.paddingTop))*_.y;l*=_.x,c*=_.y,u*=_.x,h*=_.y,l+=b,c+=A,w=Gr(v),v=Bx(w)}}return Cg({width:u,height:h,x:l,y:c})}function l7(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=gi(r),a=e?Wv(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=fa(1);const u=fa(0),h=hi(r);if((h||!h&&!i)&&((ku(r)!=="body"||Nf(o))&&(l=Hv(r)),hi(r))){const p=Sl(r);c=kc(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function c7(t){return Array.from(t.getClientRects())}function $x(t,e){const n=Hv(t).scrollLeft;return e?e.left+n:Sl(gi(t)).left+n}function u7(t){const e=gi(t),n=Hv(t),r=t.ownerDocument.body,s=Kr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Kr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+$x(t);const a=-n.scrollTop;return Ks(r).direction==="rtl"&&(o+=Kr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function d7(t,e){const n=Gr(t),r=gi(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=xb();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function h7(t,e){const n=Sl(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=hi(t)?kc(t):fa(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function LR(t,e,n){let r;if(e==="viewport")r=d7(t,n);else if(e==="document")r=u7(gi(t));else if(zs(e))r=h7(e,n);else{const s=hO(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Cg(r)}function fO(t,e){const n=ma(t);return n===e||!zs(n)||cu(n)?!1:Ks(n).position==="fixed"||fO(n,e)}function f7(t,e){const n=e.get(t);if(n)return n;let r=Lh(t,[],!1).filter(a=>zs(a)&&ku(a)!=="body"),s=null;const i=Ks(t).position==="fixed";let o=i?ma(t):t;for(;zs(o)&&!cu(o);){const a=Ks(o),l=wb(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Nf(o)&&!l&&fO(t,o))?r=r.filter(u=>u!==o):s=a,o=ma(o)}return e.set(t,r),r}function p7(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Wv(e)?[]:f7(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const h=LR(e,u,s);return c.top=Kr(h.top,c.top),c.right=ha(h.right,c.right),c.bottom=ha(h.bottom,c.bottom),c.left=Kr(h.left,c.left),c},LR(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function m7(t){const{width:e,height:n}=dO(t);return{width:e,height:n}}function g7(t,e,n){const r=hi(e),s=gi(e),i=n==="fixed",o=Sl(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=fa(0);if(r||!r&&!i)if((ku(e)!=="body"||Nf(s))&&(a=Hv(e)),r){const g=Sl(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&(l.x=$x(s));let c=0,u=0;if(s&&!r&&!i){const g=s.getBoundingClientRect();u=g.top+a.scrollTop,c=g.left+a.scrollLeft-$x(s,g)}const h=o.left+a.scrollLeft-l.x-c,p=o.top+a.scrollTop-l.y-u;return{x:h,y:p,width:o.width,height:o.height}}function Kw(t){return Ks(t).position==="static"}function VR(t,e){if(!hi(t)||Ks(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return gi(t)===n&&(n=n.ownerDocument.body),n}function pO(t,e){const n=Gr(t);if(Wv(t))return n;if(!hi(t)){let s=ma(t);for(;s&&!cu(s);){if(zs(s)&&!Kw(s))return s;s=ma(s)}return n}let r=VR(t,e);for(;r&&s7(r)&&Kw(r);)r=VR(r,e);return r&&cu(r)&&Kw(r)&&!wb(r)?n:r||i7(t)||n}const v7=async function(t){const e=this.getOffsetParent||pO,n=this.getDimensions,r=await n(t.floating);return{reference:g7(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function y7(t){return Ks(t).direction==="rtl"}const w7={convertOffsetParentRelativeRectToViewportRelativeRect:l7,getDocumentElement:gi,getClippingRect:p7,getOffsetParent:pO,getElementRects:v7,getClientRects:c7,getDimensions:m7,getScale:kc,isElement:zs,isRTL:y7};function x7(t,e){let n=null,r;const s=gi(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:u,width:h,height:p}=t.getBoundingClientRect();if(a||e(),!h||!p)return;const g=Fp(u),w=Fp(s.clientWidth-(c+h)),v=Fp(s.clientHeight-(u+p)),_=Fp(c),y={rootMargin:-g+"px "+-w+"px "+-v+"px "+-_+"px",threshold:Kr(0,ha(1,l))||1};let b=!0;function A(P){const O=P[0].intersectionRatio;if(O!==l){if(!b)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(A,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(A,y)}n.observe(t)}return o(!0),i}function _7(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=_b(t),u=s||i?[...c?Lh(c):[],...Lh(e)]:[];u.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const h=c&&a?x7(c,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(x=>{let[y]=x;y&&y.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let w,v=l?Sl(t):null;l&&_();function _(){const x=Sl(t);v&&(x.x!==v.x||x.y!==v.y||x.width!==v.width||x.height!==v.height)&&n(),v=x,w=requestAnimationFrame(_)}return n(),()=>{var x;u.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),h==null||h(),(x=g)==null||x.disconnect(),g=null,l&&cancelAnimationFrame(w)}}const E7=e7,b7=t7,S7=Xq,T7=r7,C7=Jq,FR=Yq,A7=n7,R7=(t,e,n)=>{const r=new Map,s={platform:w7,...n},i={...s.platform,_c:r};return Qq(t,e,{...s,platform:i})};var Cm=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Ag(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ag(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Ag(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function mO(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function UR(t,e){const n=mO(t);return Math.round(e*n)/n}function Ww(t){const e=m.useRef(t);return Cm(()=>{e.current=t}),e}function I7(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,h]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=m.useState(r);Ag(p,r)||g(r);const[w,v]=m.useState(null),[_,x]=m.useState(null),y=m.useCallback(z=>{z!==O.current&&(O.current=z,v(z))},[]),b=m.useCallback(z=>{z!==T.current&&(T.current=z,x(z))},[]),A=i||w,P=o||_,O=m.useRef(null),T=m.useRef(null),E=m.useRef(u),I=l!=null,R=Ww(l),k=Ww(s),M=Ww(c),N=m.useCallback(()=>{if(!O.current||!T.current)return;const z={placement:e,strategy:n,middleware:p};k.current&&(z.platform=k.current),R7(O.current,T.current,z).then(B=>{const J={...B,isPositioned:M.current!==!1};W.current&&!Ag(E.current,J)&&(E.current=J,Ar.flushSync(()=>{h(J)}))})},[p,e,n,k,M]);Cm(()=>{c===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(z=>({...z,isPositioned:!1})))},[c]);const W=m.useRef(!1);Cm(()=>(W.current=!0,()=>{W.current=!1}),[]),Cm(()=>{if(A&&(O.current=A),P&&(T.current=P),A&&P){if(R.current)return R.current(A,P,N);N()}},[A,P,N,R,I]);const se=m.useMemo(()=>({reference:O,floating:T,setReference:y,setFloating:b}),[y,b]),ne=m.useMemo(()=>({reference:A,floating:P}),[A,P]),Y=m.useMemo(()=>{const z={position:n,left:0,top:0};if(!ne.floating)return z;const B=UR(ne.floating,u.x),J=UR(ne.floating,u.y);return a?{...z,transform:"translate("+B+"px, "+J+"px)",...mO(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:J}},[n,a,ne.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:N,refs:se,elements:ne,floatingStyles:Y}),[u,N,se,ne,Y])}const P7=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?FR({element:r.current,padding:s}).fn(n):{}:r?FR({element:r,padding:s}).fn(n):{}}}},N7=(t,e)=>({...E7(t),options:[t,e]}),D7=(t,e)=>({...b7(t),options:[t,e]}),k7=(t,e)=>({...A7(t),options:[t,e]}),M7=(t,e)=>({...S7(t),options:[t,e]}),O7=(t,e)=>({...T7(t),options:[t,e]}),j7=(t,e)=>({...C7(t),options:[t,e]}),L7=(t,e)=>({...P7(t),options:[t,e]});var V7="Arrow",gO=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return d.jsx(ve.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});gO.displayName=V7;var F7=gO;function U7(t){const[e,n]=m.useState(void 0);return Pt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Eb="Popper",[vO,Mu]=Fl(Eb),[B7,yO]=vO(Eb),wO=t=>{const{__scopePopper:e,children:n}=t,[r,s]=m.useState(null);return d.jsx(B7,{scope:e,anchor:r,onAnchorChange:s,children:n})};wO.displayName=Eb;var xO="PopperAnchor",_O=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=yO(xO,n),o=m.useRef(null),a=ke(e,o);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(ve.div,{...s,ref:a})});_O.displayName=xO;var bb="PopperContent",[$7,z7]=vO(bb),EO=m.forwardRef((t,e)=>{var ce,Pe,He,pe,$e,Oe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:w,...v}=t,_=yO(bb,n),[x,y]=m.useState(null),b=ke(e,vt=>y(vt)),[A,P]=m.useState(null),O=U7(A),T=(O==null?void 0:O.width)??0,E=(O==null?void 0:O.height)??0,I=r+(i!=="center"?"-"+i:""),R=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},k=Array.isArray(c)?c:[c],M=k.length>0,N={padding:R,boundary:k.filter(W7),altBoundary:M},{refs:W,floatingStyles:se,placement:ne,isPositioned:Y,middlewareData:z}=I7({strategy:"fixed",placement:I,whileElementsMounted:(...vt)=>_7(...vt,{animationFrame:g==="always"}),elements:{reference:_.anchor},middleware:[N7({mainAxis:s+E,alignmentAxis:o}),l&&D7({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?k7():void 0,...N}),l&&M7({...N}),O7({...N,apply:({elements:vt,rects:qe,availableWidth:Lt,availableHeight:gn})=>{const{width:jr,height:j}=qe.reference,$=vt.floating.style;$.setProperty("--radix-popper-available-width",`${Lt}px`),$.setProperty("--radix-popper-available-height",`${gn}px`),$.setProperty("--radix-popper-anchor-width",`${jr}px`),$.setProperty("--radix-popper-anchor-height",`${j}px`)}}),A&&L7({element:A,padding:a}),H7({arrowWidth:T,arrowHeight:E}),p&&j7({strategy:"referenceHidden",...N})]}),[B,J]=TO(ne),fe=ft(w);Pt(()=>{Y&&(fe==null||fe())},[Y,fe]);const he=(ce=z.arrow)==null?void 0:ce.x,Se=(Pe=z.arrow)==null?void 0:Pe.y,We=((He=z.arrow)==null?void 0:He.centerOffset)!==0,[at,Ne]=m.useState();return Pt(()=>{x&&Ne(window.getComputedStyle(x).zIndex)},[x]),d.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:Y?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:at,"--radix-popper-transform-origin":[(pe=z.transformOrigin)==null?void 0:pe.x,($e=z.transformOrigin)==null?void 0:$e.y].join(" "),...((Oe=z.hide)==null?void 0:Oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx($7,{scope:n,placedSide:B,onArrowChange:P,arrowX:he,arrowY:Se,shouldHideArrow:We,children:d.jsx(ve.div,{"data-side":B,"data-align":J,...v,ref:b,style:{...v.style,animation:Y?void 0:"none"}})})})});EO.displayName=bb;var bO="PopperArrow",K7={top:"bottom",right:"left",bottom:"top",left:"right"},SO=m.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=z7(bO,r),o=K7[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(F7,{...s,ref:n,style:{...s.style,display:"block"}})})});SO.displayName=bO;function W7(t){return t!==null}var H7=t=>({name:"transformOrigin",options:t,fn(e){var _,x,y;const{placement:n,rects:r,middlewareData:s}=e,o=((_=s.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=TO(n),h={start:"0%",center:"50%",end:"100%"}[u],p=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,g=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let w="",v="";return c==="bottom"?(w=o?h:`${p}px`,v=`${-l}px`):c==="top"?(w=o?h:`${p}px`,v=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,v=o?h:`${g}px`):c==="left"&&(w=`${r.floating.width+l}px`,v=o?h:`${g}px`),{data:{x:w,y:v}}}});function TO(t){const[e,n="center"]=t.split("-");return[e,n]}var Sb=wO,Tb=_O,Cb=EO,Ab=SO,q7="Portal",CO=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Pt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?_f.createPortal(d.jsx(ve.div,{...r,ref:e}),o):null});CO.displayName=q7;function G7(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var Df=t=>{const{present:e,children:n}=t,r=Q7(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ke(r.ref,Y7(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};Df.displayName="Presence";function Q7(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=G7(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Up(r.current);i.current=a==="mounted"?c:"none"},[a]),Pt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=Up(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Pt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=g=>{const v=Up(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},p=g=>{g.target===e&&(i.current=Up(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Up(t){return(t==null?void 0:t.animationName)||"none"}function Y7(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Hw="rovingFocusGroup.onEntryFocus",X7={bubbles:!1,cancelable:!0},qv="RovingFocusGroup",[zx,AO,J7]=$v(qv),[Z7,Gv]=Fl(qv,[J7]),[eG,tG]=Z7(qv),RO=m.forwardRef((t,e)=>d.jsx(zx.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(zx.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(nG,{...t,ref:e})})}));RO.displayName=qv;var nG=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=t,p=m.useRef(null),g=ke(e,p),w=If(i),[v=null,_]=ua({prop:o,defaultProp:a,onChange:l}),[x,y]=m.useState(!1),b=ft(c),A=AO(n),P=m.useRef(!1),[O,T]=m.useState(0);return m.useEffect(()=>{const E=p.current;if(E)return E.addEventListener(Hw,b),()=>E.removeEventListener(Hw,b)},[b]),d.jsx(eG,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:v,onItemFocus:m.useCallback(E=>_(E),[_]),onItemShiftTab:m.useCallback(()=>y(!0),[]),onFocusableItemAdd:m.useCallback(()=>T(E=>E+1),[]),onFocusableItemRemove:m.useCallback(()=>T(E=>E-1),[]),children:d.jsx(ve.div,{tabIndex:x||O===0?-1:0,"data-orientation":r,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:Z(t.onMouseDown,()=>{P.current=!0}),onFocus:Z(t.onFocus,E=>{const I=!P.current;if(E.target===E.currentTarget&&I&&!x){const R=new CustomEvent(Hw,X7);if(E.currentTarget.dispatchEvent(R),!R.defaultPrevented){const k=A().filter(ne=>ne.focusable),M=k.find(ne=>ne.active),N=k.find(ne=>ne.id===v),se=[M,N,...k].filter(Boolean).map(ne=>ne.ref.current);NO(se,u)}}P.current=!1}),onBlur:Z(t.onBlur,()=>y(!1))})})}),IO="RovingFocusGroupItem",PO=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Us(),l=i||a,c=tG(IO,n),u=c.currentTabStopId===l,h=AO(n),{onFocusableItemAdd:p,onFocusableItemRemove:g}=c;return m.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),d.jsx(zx.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:d.jsx(ve.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:Z(t.onMouseDown,w=>{r?c.onItemFocus(l):w.preventDefault()}),onFocus:Z(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:Z(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){c.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const v=iG(w,c.orientation,c.dir);if(v!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let x=h().filter(y=>y.focusable).map(y=>y.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const y=x.indexOf(w.currentTarget);x=c.loop?oG(x,y+1):x.slice(y+1)}setTimeout(()=>NO(x))}})})})});PO.displayName=IO;var rG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function sG(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function iG(t,e,n){const r=sG(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return rG[r]}function NO(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function oG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var DO=RO,kO=PO,aG=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Jl=new WeakMap,Bp=new WeakMap,$p={},qw=0,MO=function(t){return t&&(t.host||MO(t.parentNode))},lG=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=MO(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},cG=function(t,e,n,r){var s=lG(e,Array.isArray(t)?t:[t]);$p[n]||($p[n]=new WeakMap);var i=$p[n],o=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))u(p);else try{var g=p.getAttribute(r),w=g!==null&&g!=="false",v=(Jl.get(p)||0)+1,_=(i.get(p)||0)+1;Jl.set(p,v),i.set(p,_),o.push(p),v===1&&w&&Bp.set(p,!0),_===1&&p.setAttribute(n,"true"),w||p.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return u(e),a.clear(),qw++,function(){o.forEach(function(h){var p=Jl.get(h)-1,g=i.get(h)-1;Jl.set(h,p),i.set(h,g),p||(Bp.has(h)||h.removeAttribute(r),Bp.delete(h)),g||h.removeAttribute(n)}),qw--,qw||(Jl=new WeakMap,Jl=new WeakMap,Bp=new WeakMap,$p={})}},Rb=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=aG(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),cG(r,s,n,"aria-hidden")):function(){return null}},Am="right-scroll-bar-position",Rm="width-before-scroll-bar",uG="with-scroll-bars-hidden",dG="--removed-body-scroll-bar-size";function Gw(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function hG(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var fG=typeof window<"u"?m.useLayoutEffect:m.useEffect,BR=new WeakMap;function pG(t,e){var n=hG(null,function(r){return t.forEach(function(s){return Gw(s,r)})});return fG(function(){var r=BR.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Gw(a,null)}),i.forEach(function(a){s.has(a)||Gw(a,o)})}BR.set(n,t)},[t]),n}function mG(t){return t}function gG(t,e){e===void 0&&(e=mG);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return s}function vG(t){t===void 0&&(t={});var e=gG(null);return e.options=ei({async:!0,ssr:!1},t),e}var OO=function(t){var e=t.sideCar,n=bf(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,ei({},n))};OO.isSideCarExport=!0;function yG(t,e){return t.useMedium(e),OO}var jO=vG(),Qw=function(){},Qv=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:Qw,onWheelCapture:Qw,onTouchMoveCapture:Qw}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,h=t.shards,p=t.sideCar,g=t.noIsolation,w=t.inert,v=t.allowPinchZoom,_=t.as,x=_===void 0?"div":_,y=t.gapMode,b=bf(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=p,P=pG([n,e]),O=ei(ei({},b),s);return m.createElement(m.Fragment,null,u&&m.createElement(A,{sideCar:jO,removeScrollBar:c,shards:h,noIsolation:g,inert:w,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:y}),o?m.cloneElement(m.Children.only(a),ei(ei({},O),{ref:P})):m.createElement(x,ei({},O,{className:l,ref:P}),a))});Qv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Qv.classNames={fullWidth:Rm,zeroRight:Am};var wG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xG(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=wG();return e&&t.setAttribute("nonce",e),t}function _G(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function EG(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var bG=function(){var t=0,e=null;return{add:function(n){t==0&&(e=xG())&&(_G(e,n),EG(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},SG=function(){var t=bG();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},LO=function(){var t=SG(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},TG={left:0,top:0,right:0,gap:0},Yw=function(t){return parseInt(t||"",10)||0},CG=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Yw(n),Yw(r),Yw(s)]},AG=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return TG;var e=CG(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},RG=LO(),Mc="data-scroll-locked",IG=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(uG,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Mc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Am,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Rm,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Am," .").concat(Am,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Rm," .").concat(Rm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Mc,`] {
    `).concat(dG,": ").concat(a,`px;
  }
`)},$R=function(){var t=parseInt(document.body.getAttribute(Mc)||"0",10);return isFinite(t)?t:0},PG=function(){m.useEffect(function(){return document.body.setAttribute(Mc,($R()+1).toString()),function(){var t=$R()-1;t<=0?document.body.removeAttribute(Mc):document.body.setAttribute(Mc,t.toString())}},[])},NG=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;PG();var i=m.useMemo(function(){return AG(s)},[s]);return m.createElement(RG,{styles:IG(i,!e,s,n?"":"!important")})},Kx=!1;if(typeof window<"u")try{var zp=Object.defineProperty({},"passive",{get:function(){return Kx=!0,!0}});window.addEventListener("test",zp,zp),window.removeEventListener("test",zp,zp)}catch{Kx=!1}var Zl=Kx?{passive:!1}:!1,DG=function(t){return t.tagName==="TEXTAREA"},VO=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!DG(t)&&n[e]==="visible")},kG=function(t){return VO(t,"overflowY")},MG=function(t){return VO(t,"overflowX")},zR=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=FO(t,r);if(s){var i=UO(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},OG=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},jG=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},FO=function(t,e){return t==="v"?kG(e):MG(e)},UO=function(t,e){return t==="v"?OG(e):jG(e)},LG=function(t,e){return t==="h"&&e==="rtl"?-1:1},VG=function(t,e,n,r,s){var i=LG(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,u=o>0,h=0,p=0;do{var g=UO(t,a),w=g[0],v=g[1],_=g[2],x=v-_-i*w;(w||x)&&FO(t,a)&&(h+=x,p+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(h)<1||!s)||!u&&(Math.abs(p)<1||!s))&&(c=!0),c},Kp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},KR=function(t){return[t.deltaX,t.deltaY]},WR=function(t){return t&&"current"in t?t.current:t},FG=function(t,e){return t[0]===e[0]&&t[1]===e[1]},UG=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},BG=0,ec=[];function $G(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(BG++)[0],i=m.useState(LO)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=I9([t.lockRef.current],(t.shards||[]).map(WR),!0).filter(Boolean);return v.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(v,_){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var x=Kp(v),y=n.current,b="deltaX"in v?v.deltaX:y[0]-x[0],A="deltaY"in v?v.deltaY:y[1]-x[1],P,O=v.target,T=Math.abs(b)>Math.abs(A)?"h":"v";if("touches"in v&&T==="h"&&O.type==="range")return!1;var E=zR(T,O);if(!E)return!0;if(E?P=T:(P=T==="v"?"h":"v",E=zR(T,O)),!E)return!1;if(!r.current&&"changedTouches"in v&&(b||A)&&(r.current=P),!P)return!0;var I=r.current||P;return VG(I,_,v,I==="h"?b:A,!0)},[]),l=m.useCallback(function(v){var _=v;if(!(!ec.length||ec[ec.length-1]!==i)){var x="deltaY"in _?KR(_):Kp(_),y=e.current.filter(function(P){return P.name===_.type&&(P.target===_.target||_.target===P.shadowParent)&&FG(P.delta,x)})[0];if(y&&y.should){_.cancelable&&_.preventDefault();return}if(!y){var b=(o.current.shards||[]).map(WR).filter(Boolean).filter(function(P){return P.contains(_.target)}),A=b.length>0?a(_,b[0]):!o.current.noIsolation;A&&_.cancelable&&_.preventDefault()}}},[]),c=m.useCallback(function(v,_,x,y){var b={name:v,delta:_,target:x,should:y,shadowParent:zG(x)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(A){return A!==b})},1)},[]),u=m.useCallback(function(v){n.current=Kp(v),r.current=void 0},[]),h=m.useCallback(function(v){c(v.type,KR(v),v.target,a(v,t.lockRef.current))},[]),p=m.useCallback(function(v){c(v.type,Kp(v),v.target,a(v,t.lockRef.current))},[]);m.useEffect(function(){return ec.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Zl),document.addEventListener("touchmove",l,Zl),document.addEventListener("touchstart",u,Zl),function(){ec=ec.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,Zl),document.removeEventListener("touchmove",l,Zl),document.removeEventListener("touchstart",u,Zl)}},[]);var g=t.removeScrollBar,w=t.inert;return m.createElement(m.Fragment,null,w?m.createElement(i,{styles:UG(s)}):null,g?m.createElement(NG,{gapMode:t.gapMode}):null)}function zG(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const KG=yG(jO,$G);var Yv=m.forwardRef(function(t,e){return m.createElement(Qv,ei({},t,{ref:e,sideCar:KG}))});Yv.classNames=Qv.classNames;var Wx=["Enter"," "],WG=["ArrowDown","PageUp","Home"],BO=["ArrowUp","PageDown","End"],HG=[...WG,...BO],qG={ltr:[...Wx,"ArrowRight"],rtl:[...Wx,"ArrowLeft"]},GG={ltr:["ArrowLeft"],rtl:["ArrowRight"]},kf="Menu",[Vh,QG,YG]=$v(kf),[Ul,$O]=Eq(kf,[YG,Mu,Gv]),Xv=Mu(),zO=Gv(),[XG,Bl]=Ul(kf),[JG,Mf]=Ul(kf),KO=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=Xv(e),[l,c]=m.useState(null),u=m.useRef(!1),h=ft(i),p=If(s);return m.useEffect(()=>{const g=()=>{u.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>u.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),d.jsx(Sb,{...a,children:d.jsx(XG,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:c,children:d.jsx(JG,{scope:e,onClose:m.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:p,modal:o,children:r})})})};KO.displayName=kf;var ZG="MenuAnchor",Ib=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Xv(n);return d.jsx(Tb,{...s,...r,ref:e})});Ib.displayName=ZG;var Pb="MenuPortal",[eQ,WO]=Ul(Pb,{forceMount:void 0}),HO=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Bl(Pb,e);return d.jsx(eQ,{scope:e,forceMount:n,children:d.jsx(Df,{present:n||i.open,children:d.jsx(CO,{asChild:!0,container:s,children:r})})})};HO.displayName=Pb;var ys="MenuContent",[tQ,Nb]=Ul(ys),qO=m.forwardRef((t,e)=>{const n=WO(ys,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Bl(ys,t.__scopeMenu),o=Mf(ys,t.__scopeMenu);return d.jsx(Vh.Provider,{scope:t.__scopeMenu,children:d.jsx(Df,{present:r||i.open,children:d.jsx(Vh.Slot,{scope:t.__scopeMenu,children:o.modal?d.jsx(nQ,{...s,ref:e}):d.jsx(rQ,{...s,ref:e})})})})}),nQ=m.forwardRef((t,e)=>{const n=Bl(ys,t.__scopeMenu),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return Rb(i)},[]),d.jsx(Db,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Z(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),rQ=m.forwardRef((t,e)=>{const n=Bl(ys,t.__scopeMenu);return d.jsx(Db,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Db=m.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:p,onDismiss:g,disableOutsideScroll:w,...v}=t,_=Bl(ys,n),x=Mf(ys,n),y=Xv(n),b=zO(n),A=QG(n),[P,O]=m.useState(null),T=m.useRef(null),E=ke(e,T,_.onContentChange),I=m.useRef(0),R=m.useRef(""),k=m.useRef(0),M=m.useRef(null),N=m.useRef("right"),W=m.useRef(0),se=w?Yv:m.Fragment,ne=w?{as:da,allowPinchZoom:!0}:void 0,Y=B=>{var ce,Pe;const J=R.current+B,fe=A().filter(He=>!He.disabled),he=document.activeElement,Se=(ce=fe.find(He=>He.ref.current===he))==null?void 0:ce.textValue,We=fe.map(He=>He.textValue),at=mQ(We,J,Se),Ne=(Pe=fe.find(He=>He.textValue===at))==null?void 0:Pe.ref.current;(function He(pe){R.current=pe,window.clearTimeout(I.current),pe!==""&&(I.current=window.setTimeout(()=>He(""),1e3))})(J),Ne&&setTimeout(()=>Ne.focus())};m.useEffect(()=>()=>window.clearTimeout(I.current),[]),mb();const z=m.useCallback(B=>{var fe,he;return N.current===((fe=M.current)==null?void 0:fe.side)&&vQ(B,(he=M.current)==null?void 0:he.area)},[]);return d.jsx(tQ,{scope:n,searchRef:R,onItemEnter:m.useCallback(B=>{z(B)&&B.preventDefault()},[z]),onItemLeave:m.useCallback(B=>{var J;z(B)||((J=T.current)==null||J.focus(),O(null))},[z]),onTriggerLeave:m.useCallback(B=>{z(B)&&B.preventDefault()},[z]),pointerGraceTimerRef:k,onPointerGraceIntentChange:m.useCallback(B=>{M.current=B},[]),children:d.jsx(se,{...ne,children:d.jsx(zv,{asChild:!0,trapped:s,onMountAutoFocus:Z(i,B=>{var J;B.preventDefault(),(J=T.current)==null||J.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:d.jsx(iO,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:p,onDismiss:g,children:d.jsx(DO,{asChild:!0,...b,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:P,onCurrentTabStopIdChange:O,onEntryFocus:Z(l,B=>{x.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(Cb,{role:"menu","aria-orientation":"vertical","data-state":cj(_.open),"data-radix-menu-content":"",dir:x.dir,...y,...v,ref:E,style:{outline:"none",...v.style},onKeyDown:Z(v.onKeyDown,B=>{const fe=B.target.closest("[data-radix-menu-content]")===B.currentTarget,he=B.ctrlKey||B.altKey||B.metaKey,Se=B.key.length===1;fe&&(B.key==="Tab"&&B.preventDefault(),!he&&Se&&Y(B.key));const We=T.current;if(B.target!==We||!HG.includes(B.key))return;B.preventDefault();const Ne=A().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);BO.includes(B.key)&&Ne.reverse(),fQ(Ne)}),onBlur:Z(t.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(I.current),R.current="")}),onPointerMove:Z(t.onPointerMove,Fh(B=>{const J=B.target,fe=W.current!==B.clientX;if(B.currentTarget.contains(J)&&fe){const he=B.clientX>W.current?"right":"left";N.current=he,W.current=B.clientX}}))})})})})})})});qO.displayName=ys;var sQ="MenuGroup",kb=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return d.jsx(ve.div,{role:"group",...r,ref:e})});kb.displayName=sQ;var iQ="MenuLabel",GO=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return d.jsx(ve.div,{...r,ref:e})});GO.displayName=iQ;var Rg="MenuItem",HR="menu.itemSelect",Jv=m.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=m.useRef(null),o=Mf(Rg,t.__scopeMenu),a=Nb(Rg,t.__scopeMenu),l=ke(e,i),c=m.useRef(!1),u=()=>{const h=i.current;if(!n&&h){const p=new CustomEvent(HR,{bubbles:!0,cancelable:!0});h.addEventListener(HR,g=>r==null?void 0:r(g),{once:!0}),Vl(h,p),p.defaultPrevented?c.current=!1:o.onClose()}};return d.jsx(QO,{...s,ref:l,disabled:n,onClick:Z(t.onClick,u),onPointerDown:h=>{var p;(p=t.onPointerDown)==null||p.call(t,h),c.current=!0},onPointerUp:Z(t.onPointerUp,h=>{var p;c.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:Z(t.onKeyDown,h=>{const p=a.searchRef.current!=="";n||p&&h.key===" "||Wx.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Jv.displayName=Rg;var QO=m.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=Nb(Rg,n),a=zO(n),l=m.useRef(null),c=ke(e,l),[u,h]=m.useState(!1),[p,g]=m.useState("");return m.useEffect(()=>{const w=l.current;w&&g((w.textContent??"").trim())},[i.children]),d.jsx(Vh.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:d.jsx(kO,{asChild:!0,...a,focusable:!r,children:d.jsx(ve.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:Z(t.onPointerMove,Fh(w=>{r?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Z(t.onPointerLeave,Fh(w=>o.onItemLeave(w))),onFocus:Z(t.onFocus,()=>h(!0)),onBlur:Z(t.onBlur,()=>h(!1))})})})}),oQ="MenuCheckboxItem",YO=m.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return d.jsx(tj,{scope:t.__scopeMenu,checked:n,children:d.jsx(Jv,{role:"menuitemcheckbox","aria-checked":Ig(n)?"mixed":n,...s,ref:e,"data-state":Ob(n),onSelect:Z(s.onSelect,()=>r==null?void 0:r(Ig(n)?!0:!n),{checkForDefaultPrevented:!1})})})});YO.displayName=oQ;var XO="MenuRadioGroup",[aQ,lQ]=Ul(XO,{value:void 0,onValueChange:()=>{}}),JO=m.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=ft(r);return d.jsx(aQ,{scope:t.__scopeMenu,value:n,onValueChange:i,children:d.jsx(kb,{...s,ref:e})})});JO.displayName=XO;var ZO="MenuRadioItem",ej=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=lQ(ZO,t.__scopeMenu),i=n===s.value;return d.jsx(tj,{scope:t.__scopeMenu,checked:i,children:d.jsx(Jv,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":Ob(i),onSelect:Z(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});ej.displayName=ZO;var Mb="MenuItemIndicator",[tj,cQ]=Ul(Mb,{checked:!1}),nj=m.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=cQ(Mb,n);return d.jsx(Df,{present:r||Ig(i.checked)||i.checked===!0,children:d.jsx(ve.span,{...s,ref:e,"data-state":Ob(i.checked)})})});nj.displayName=Mb;var uQ="MenuSeparator",rj=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return d.jsx(ve.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});rj.displayName=uQ;var dQ="MenuArrow",sj=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Xv(n);return d.jsx(Ab,{...s,...r,ref:e})});sj.displayName=dQ;var hQ="MenuSub",[Qme,ij]=Ul(hQ),Rd="MenuSubTrigger",oj=m.forwardRef((t,e)=>{const n=Bl(Rd,t.__scopeMenu),r=Mf(Rd,t.__scopeMenu),s=ij(Rd,t.__scopeMenu),i=Nb(Rd,t.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},u=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>u,[u]),m.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),d.jsx(Ib,{asChild:!0,...c,children:d.jsx(QO,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":cj(n.open),...t,ref:Bv(e,s.onTriggerChange),onClick:h=>{var p;(p=t.onClick)==null||p.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Z(t.onPointerMove,Fh(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:Z(t.onPointerLeave,Fh(h=>{var g,w;u();const p=(g=n.content)==null?void 0:g.getBoundingClientRect();if(p){const v=(w=n.content)==null?void 0:w.dataset.side,_=v==="right",x=_?-5:5,y=p[_?"left":"right"],b=p[_?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+x,y:h.clientY},{x:y,y:p.top},{x:b,y:p.top},{x:b,y:p.bottom},{x:y,y:p.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Z(t.onKeyDown,h=>{var g;const p=i.searchRef.current!=="";t.disabled||p&&h.key===" "||qG[r.dir].includes(h.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),h.preventDefault())})})})});oj.displayName=Rd;var aj="MenuSubContent",lj=m.forwardRef((t,e)=>{const n=WO(ys,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Bl(ys,t.__scopeMenu),o=Mf(ys,t.__scopeMenu),a=ij(aj,t.__scopeMenu),l=m.useRef(null),c=ke(e,l);return d.jsx(Vh.Provider,{scope:t.__scopeMenu,children:d.jsx(Df,{present:r||i.open,children:d.jsx(Vh.Slot,{scope:t.__scopeMenu,children:d.jsx(Db,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Z(t.onFocusOutside,u=>{u.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Z(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:Z(t.onKeyDown,u=>{var g;const h=u.currentTarget.contains(u.target),p=GG[o.dir].includes(u.key);h&&p&&(i.onOpenChange(!1),(g=a.trigger)==null||g.focus(),u.preventDefault())})})})})})});lj.displayName=aj;function cj(t){return t?"open":"closed"}function Ig(t){return t==="indeterminate"}function Ob(t){return Ig(t)?"indeterminate":t?"checked":"unchecked"}function fQ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function pQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function mQ(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=pQ(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function gQ(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function vQ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return gQ(n,e)}function Fh(t){return e=>e.pointerType==="mouse"?t(e):void 0}var yQ=KO,wQ=Ib,xQ=HO,_Q=qO,EQ=kb,bQ=GO,SQ=Jv,TQ=YO,CQ=JO,AQ=ej,RQ=nj,IQ=rj,PQ=sj,NQ=oj,DQ=lj,jb="DropdownMenu",[kQ,Yme]=pq(jb,[$O]),yr=$O(),[MQ,uj]=kQ(jb),dj=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=yr(e),c=m.useRef(null),[u=!1,h]=ua({prop:s,defaultProp:i,onChange:o});return d.jsx(MQ,{scope:e,triggerId:Us(),triggerRef:c,contentId:Us(),open:u,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(p=>!p),[h]),modal:a,children:d.jsx(yQ,{...l,open:u,onOpenChange:h,dir:r,modal:a,children:n})})};dj.displayName=jb;var hj="DropdownMenuTrigger",fj=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=uj(hj,n),o=yr(n);return d.jsx(wQ,{asChild:!0,...o,children:d.jsx(ve.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Bv(e,i.triggerRef),onPointerDown:Z(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:Z(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});fj.displayName=hj;var OQ="DropdownMenuPortal",pj=t=>{const{__scopeDropdownMenu:e,...n}=t,r=yr(e);return d.jsx(xQ,{...r,...n})};pj.displayName=OQ;var mj="DropdownMenuContent",gj=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=uj(mj,n),i=yr(n),o=m.useRef(!1);return d.jsx(_Q,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:Z(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Z(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!s.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});gj.displayName=mj;var jQ="DropdownMenuGroup",LQ=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(EQ,{...s,...r,ref:e})});LQ.displayName=jQ;var VQ="DropdownMenuLabel",vj=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(bQ,{...s,...r,ref:e})});vj.displayName=VQ;var FQ="DropdownMenuItem",yj=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(SQ,{...s,...r,ref:e})});yj.displayName=FQ;var UQ="DropdownMenuCheckboxItem",wj=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(TQ,{...s,...r,ref:e})});wj.displayName=UQ;var BQ="DropdownMenuRadioGroup",$Q=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(CQ,{...s,...r,ref:e})});$Q.displayName=BQ;var zQ="DropdownMenuRadioItem",xj=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(AQ,{...s,...r,ref:e})});xj.displayName=zQ;var KQ="DropdownMenuItemIndicator",_j=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(RQ,{...s,...r,ref:e})});_j.displayName=KQ;var WQ="DropdownMenuSeparator",Ej=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(IQ,{...s,...r,ref:e})});Ej.displayName=WQ;var HQ="DropdownMenuArrow",qQ=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(PQ,{...s,...r,ref:e})});qQ.displayName=HQ;var GQ="DropdownMenuSubTrigger",bj=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(NQ,{...s,...r,ref:e})});bj.displayName=GQ;var QQ="DropdownMenuSubContent",Sj=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(DQ,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Sj.displayName=QQ;var YQ=dj,XQ=fj,JQ=pj,Tj=gj,Cj=vj,Aj=yj,Rj=wj,Ij=xj,Pj=_j,Nj=Ej,Dj=bj,kj=Sj;function Mj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Mj(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ZQ(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Mj(t))&&(r&&(r+=" "),r+=e);return r}const Lb="-",eY=t=>{const e=nY(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Lb);return a[0]===""&&a.length!==1&&a.shift(),Oj(a,e)||tY(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Oj=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Oj(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Lb);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},qR=/^\[(.+)\]$/,tY=t=>{if(qR.test(t)){const e=qR.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},nY=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return sY(Object.entries(t.classGroups),n).forEach(([i,o])=>{Hx(o,r,i,e)}),r},Hx=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:GR(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(rY(s)){Hx(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Hx(o,GR(e,i),n,r)})})},GR=(t,e)=>{let n=t;return e.split(Lb).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},rY=t=>t.isThemeGetter,sY=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,iY=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},jj="!",oY=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,u=0,h;for(let _=0;_<a.length;_++){let x=a[_];if(c===0){if(x===s&&(r||a.slice(_,_+i)===e)){l.push(a.slice(u,_)),u=_+i;continue}if(x==="/"){h=_;continue}}x==="["?c++:x==="]"&&c--}const p=l.length===0?a:a.substring(u),g=p.startsWith(jj),w=g?p.substring(1):p,v=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:w,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},aY=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},lY=t=>({cache:iY(t.cacheSize),parseClassName:oY(t),...eY(t)}),cY=/\s+/,uY=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(cY);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:g}=n(c);let w=!!g,v=r(w?p.substring(0,g):p);if(!v){if(!w){a=c+(a.length>0?" "+a:a);continue}if(v=r(p),!v){a=c+(a.length>0?" "+a:a);continue}w=!1}const _=aY(u).join(":"),x=h?_+jj:_,y=x+v;if(i.includes(y))continue;i.push(y);const b=s(v,w);for(let A=0;A<b.length;++A){const P=b[A];i.push(x+P)}a=c+(a.length>0?" "+a:a)}return a};function dY(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Lj(e))&&(r&&(r+=" "),r+=n);return r}const Lj=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Lj(t[r]))&&(n&&(n+=" "),n+=e);return n};function hY(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((u,h)=>h(u),t());return n=lY(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=uY(l,n);return s(l,u),u}return function(){return i(dY.apply(null,arguments))}}const Mt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Vj=/^\[(?:([a-z-]+):)?(.+)\]$/i,fY=/^\d+\/\d+$/,pY=new Set(["px","full","screen"]),mY=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gY=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vY=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,yY=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,wY=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bi=t=>Oc(t)||pY.has(t)||fY.test(t),yo=t=>Ou(t,"length",AY),Oc=t=>!!t&&!Number.isNaN(Number(t)),Xw=t=>Ou(t,"number",Oc),md=t=>!!t&&Number.isInteger(Number(t)),xY=t=>t.endsWith("%")&&Oc(t.slice(0,-1)),Qe=t=>Vj.test(t),wo=t=>mY.test(t),_Y=new Set(["length","size","percentage"]),EY=t=>Ou(t,_Y,Fj),bY=t=>Ou(t,"position",Fj),SY=new Set(["image","url"]),TY=t=>Ou(t,SY,IY),CY=t=>Ou(t,"",RY),gd=()=>!0,Ou=(t,e,n)=>{const r=Vj.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},AY=t=>gY.test(t)&&!vY.test(t),Fj=()=>!1,RY=t=>yY.test(t),IY=t=>wY.test(t),PY=()=>{const t=Mt("colors"),e=Mt("spacing"),n=Mt("blur"),r=Mt("brightness"),s=Mt("borderColor"),i=Mt("borderRadius"),o=Mt("borderSpacing"),a=Mt("borderWidth"),l=Mt("contrast"),c=Mt("grayscale"),u=Mt("hueRotate"),h=Mt("invert"),p=Mt("gap"),g=Mt("gradientColorStops"),w=Mt("gradientColorStopPositions"),v=Mt("inset"),_=Mt("margin"),x=Mt("opacity"),y=Mt("padding"),b=Mt("saturate"),A=Mt("scale"),P=Mt("sepia"),O=Mt("skew"),T=Mt("space"),E=Mt("translate"),I=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",Qe,e],M=()=>[Qe,e],N=()=>["",bi,yo],W=()=>["auto",Oc,Qe],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",Qe],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],fe=()=>[Oc,Qe];return{cacheSize:500,separator:":",theme:{colors:[gd],spacing:[bi,yo],blur:["none","",wo,Qe],brightness:fe(),borderColor:[t],borderRadius:["none","","full",wo,Qe],borderSpacing:M(),borderWidth:N(),contrast:fe(),grayscale:B(),hueRotate:fe(),invert:B(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[xY,yo],inset:k(),margin:k(),opacity:fe(),padding:M(),saturate:fe(),scale:fe(),sepia:B(),skew:fe(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Qe]}],container:["container"],columns:[{columns:[wo]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),Qe]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",md,Qe]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Qe]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",md,Qe]}],"grid-cols":[{"grid-cols":[gd]}],"col-start-end":[{col:["auto",{span:["full",md,Qe]},Qe]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[gd]}],"row-start-end":[{row:["auto",{span:[md,Qe]},Qe]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Qe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Qe,e]}],"min-w":[{"min-w":[Qe,e,"min","max","fit"]}],"max-w":[{"max-w":[Qe,e,"none","full","min","max","fit","prose",{screen:[wo]},wo]}],h:[{h:[Qe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Qe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Qe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Qe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",wo,yo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Xw]}],"font-family":[{font:[gd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Qe]}],"line-clamp":[{"line-clamp":["none",Oc,Xw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",bi,Qe]}],"list-image":[{"list-image":["none",Qe]}],"list-style-type":[{list:["none","disc","decimal",Qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",bi,yo]}],"underline-offset":[{"underline-offset":["auto",bi,Qe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),bY]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",EY]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},TY]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:ne()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[bi,Qe]}],"outline-w":[{outline:[bi,yo]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[bi,yo]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",wo,CY]}],"shadow-color":[{shadow:[gd]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",wo,Qe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Qe]}],duration:[{duration:fe()}],ease:[{ease:["linear","in","out","in-out",Qe]}],delay:[{delay:fe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[md,Qe]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[bi,yo,Xw]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},NY=hY(PY);function ue(...t){return NY(ZQ(t))}const Of=YQ,jf=XQ,DY=m.forwardRef(({className:t,inset:e,children:n,...r},s)=>d.jsxs(Dj,{ref:s,className:ue("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,d.jsx(QM,{className:"ml-auto h-4 w-4"})]}));DY.displayName=Dj.displayName;const kY=m.forwardRef(({className:t,...e},n)=>d.jsx(kj,{ref:n,className:ue("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));kY.displayName=kj.displayName;const ju=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(JQ,{children:d.jsx(Tj,{ref:r,sideOffset:e,className:ue("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));ju.displayName=Tj.displayName;const ti=m.forwardRef(({className:t,inset:e,...n},r)=>d.jsx(Aj,{ref:r,className:ue("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));ti.displayName=Aj.displayName;const MY=m.forwardRef(({className:t,children:e,checked:n,...r},s)=>d.jsxs(Rj,{ref:s,className:ue("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(Pj,{children:d.jsx(qM,{className:"h-4 w-4"})})}),e]}));MY.displayName=Rj.displayName;const OY=m.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(Ij,{ref:r,className:ue("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(Pj,{children:d.jsx(Y8,{className:"h-2 w-2 fill-current"})})}),e]}));OY.displayName=Ij.displayName;const Uj=m.forwardRef(({className:t,inset:e,...n},r)=>d.jsx(Cj,{ref:r,className:ue("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));Uj.displayName=Cj.displayName;const Vb=m.forwardRef(({className:t,...e},n)=>d.jsx(Nj,{ref:n,className:ue("-mx-1 my-1 h-px bg-muted",t),...e}));Vb.displayName=Nj.displayName;const jY=t=>Object.entries(t).map(([e,n])=>({id:Date.now().toString(),key:e,value:n})),LY=t=>t<1024?t+" bytes":t<1048576?(t/1024).toFixed(1)+" KB":(t/1048576).toFixed(1)+" MB",Uh=t=>{try{const e=decodeURIComponent(t),n=e.lastIndexOf("/")+1,r=e.indexOf("?alt=");return n!==-1&&r!==-1?e.substring(n,r):null}catch(e){return console.error("Failed to extract filename:",e),null}},Fb=t=>t&&t.charAt(0).toUpperCase()+t.slice(1);function Bj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=Bj(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function VY(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=Bj(t))&&(r&&(r+=" "),r+=e);return r}const QR=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,YR=VY,Lf=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return YR(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],h=i==null?void 0:i[c];if(u===null)return null;const p=QR(u)||QR(h);return s[c][p]}),a=n&&Object.entries(n).reduce((c,u)=>{let[h,p]=u;return p===void 0||(c[h]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:h,className:p,...g}=u;return Object.entries(g).every(w=>{let[v,_]=w;return Array.isArray(_)?_.includes({...i,...a}[v]):{...i,...a}[v]===_})?[...c,h,p]:c},[]);return YR(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},FY=Lf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Zv({className:t,variant:e,...n}){return d.jsx("div",{className:ue(FY({variant:e}),t),...n})}const UY=({text:t,children:e})=>{const n=Rf(),r=pt(o=>o.admin),s=pt(o=>o.logout),i=o=>{switch(o){case"admin":return d.jsx(lq,{className:"mr-2 h-4 w-4"});case"editor":return d.jsx(cq,{className:"mr-2 h-4 w-4"});case"viewer":return d.jsx(fb,{className:"mr-2 h-4 w-4"})}};return r?d.jsxs("header",{className:"w-full flex flex-col items-center ",children:[d.jsxs("div",{className:"w-full px-8 h-14 flex items-center justify-between",children:[d.jsx("p",{children:t}),d.jsxs(Of,{children:[d.jsx(jf,{asChild:!0,children:d.jsx("div",{className:"hover:bg-slate-200 rounded-lg p-2 cursor-pointer",children:d.jsx(dq,{})})}),d.jsxs(ju,{align:"end",className:"w-64 bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[d.jsx(Uj,{className:"font-normal",children:d.jsxs("div",{className:"flex flex-col space-y-1",children:[d.jsx("p",{className:"text-sm font-medium truncate leading-tight",title:r.email,children:r.email}),d.jsxs("div",{className:"flex items-center pt-1",children:[i(r.role),d.jsx(Zv,{variant:"secondary",className:ue("flex w-16 items-center justify-center pointer-events-none select-none",r.role==="admin"&&"bg-red-200 text-red-800",r.role==="editor"&&"bg-blue-200 text-blue-800",r.role==="viewer"&&"bg-green-200 text-green-800"),children:Fb(r.role)})]})]})}),d.jsx(Vb,{}),d.jsxs(ti,{onClick:s,className:"flex items-center focus:bg-red-400 focus:text-white rounded-md",children:[d.jsx(nq,{className:"mr-2 h-4 w-4"}),d.jsx("span",{className:"py-2 font-medium",children:"Log Out"})]})]})]})]}),e]}):(n("/login"),null)},BY=({Component:t})=>d.jsx("div",{className:"flex-1 flex justify-center =py-3",children:d.jsx(t,{})}),$Y=({headerText:t})=>d.jsx("header",{className:"py-4 text-3xl font-semibold w-full",children:t});function Jw(){return Date.now().toString()}const it=()=>{const t=new Date,e={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};return t.toLocaleDateString("en-US",e)},Zw="https://chatbot-api-0zup.onrender.com",ey=async(t,e)=>{const{method:n="GET",headers:r={},body:s}=e,{accessToken:i,setAccessToken:o,logout:a}=pt.getState(),l={method:n,credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer ${i}`,...r},...s&&{body:JSON.stringify(s)}};try{let c=await fetch(`${Zw}${t}`,l);if(c.status===401){yt("Fetching new access token");const h=await fetch(`${Zw}/api/auth/refresh-token`,{method:"POST",credentials:"include"});h.status===404&&a();const{accessToken:p}=await h.json();o(p),l.headers={...l.headers,authorization:`Bearer ${p}`},c=await fetch(`${Zw}${t}`,l)}if(c.status===429){const h=await c.text();throw yt(`Too many requests: ${h}`),new Error(h)}return await c.json()}catch(c){throw c}},Vf=(t,e)=>ey(t,{method:"GET",headers:e}),Ra=(t,e,n)=>ey(t,{method:"POST",headers:e,body:n}),ty=(t,e,n)=>ey(t,{method:"PUT",headers:e,body:n}),Ff=(t,e,n)=>ey(t,{method:"DELETE",headers:e,body:n}),zY=async t=>{const e={userQuery:t},{success:n,response:r}=await Ra("/api/chatbot/query-admin",{},e);if(!n)throw new Error(`Sending query to chatbot was unsuccessful: ${r}`);return r},KY=async()=>{const{success:t,response:e}=await Ra("/api/chatbot/train",{});if(!t)throw new Error(`Training model is unsuccessful: ${e}`)},$j=()=>e=>new Promise(n=>{setTimeout(n,e)}),Ui=ao()(RM((t,e)=>({currentSelectedTabInSettingsTab:"team",currentSelectedTabInArchiveTab:"knowledgeBases",currentSelectedKnowledgeTab:"knowledgeBase",messageHistory:[],setCurrentSelectedTabInSettingsTab:n=>t({currentSelectedTabInSettingsTab:n}),setCurrentSelectedTabInArchiveTab:n=>t({currentSelectedTabInArchiveTab:n}),setCurrentSelectedKnowledgeTab:n=>t({currentSelectedKnowledgeTab:n}),setMessageHistory:n=>t(r=>({messageHistory:r.messageHistory.length>=100?[...r.messageHistory.slice(1),n]:[...r.messageHistory,n]})),clearMessageHistory:()=>{e().messageHistory.length!==0&&t({messageHistory:[]})}}),{name:"auth-storage",storage:ab(()=>sessionStorage)})),WY=()=>{const t=$j(),e=Ui(_=>_.messageHistory),n=Ui(_=>_.setMessageHistory),r=Ui(_=>_.clearMessageHistory),[s,i]=m.useState(null),[o,a]=m.useState(!1),l=m.useRef(null),c=()=>{var _;(_=l.current)==null||_.scrollIntoView({behavior:"smooth"})};m.useEffect(()=>{c()},[e]);const u=_=>_.replace(/\[=[^\]]+=\]/g,"").trim(),h=_=>{var y;const x=/\[\=([^\]]+)\=\]/;if(x.test(_)){const b=_.match(x);if(b){const A=(y=Uh(b[1]))==null?void 0:y.split(".")[1];return{type:"file",source:b[1],fileType:A??"unknown"}}}},p=_=>{const x={uuid:Jw(),text:_,sender:"user"};n(x)},g=_=>{const x={uuid:Jw(),text:_.answer,sender:"bot",response:_};i(_),o||a(!0),n(x)},w=(_,x)=>{const y={uuid:Jw(),sender:"bot",fileData:{source:_,type:x}};n(y)};return{messageHistory:e,clearMessageHistory:r,handleSubmitMessage:async _=>{try{if(!_)throw new Error("Message is empty");p(_);const x=await zY(_),y=h(x.answer);if(!y){g(x);return}const b=u(x.answer),A={...x,answer:b};g(A),await t(1e3),y.type==="file"&&w(y.source,y.fileType)}catch(x){if(x instanceof Error){yt(x.message,!0);return}console.error("Unknown error occured: ",x)}},endOfMessagesRef:l,selectedResponse:s,setSelectedResponse:i,isInfoPanelOpen:o,setIsInfoPanelOpen:a}};var Ub="Progress",Bb=100,[HY,Xme]=Fl(Ub),[qY,GY]=HY(Ub),zj=m.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=QY,...o}=t;(s||s===0)&&!XR(s)&&console.error(YY(`${s}`,"Progress"));const a=XR(s)?s:Bb;r!==null&&!JR(r,a)&&console.error(XY(`${r}`,"Progress"));const l=JR(r,a)?r:null,c=Pg(l)?i(l,a):void 0;return d.jsx(qY,{scope:n,value:l,max:a,children:d.jsx(ve.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Pg(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":Hj(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});zj.displayName=Ub;var Kj="ProgressIndicator",Wj=m.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=GY(Kj,n);return d.jsx(ve.div,{"data-state":Hj(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});Wj.displayName=Kj;function QY(t,e){return`${Math.round(t/e*100)}%`}function Hj(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Pg(t){return typeof t=="number"}function XR(t){return Pg(t)&&!isNaN(t)&&t>0}function JR(t,e){return Pg(t)&&!isNaN(t)&&t<=e&&t>=0}function YY(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Bb}\`.`}function XY(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Bb} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var qj=zj,JY=Wj;const Gj=m.forwardRef(({className:t,value:e,...n},r)=>d.jsx(qj,{ref:r,className:ue("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:d.jsx(JY,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Gj.displayName=qj.displayName;const ZY=({responseData:t,showPanel:e})=>{var r,s,i;const n=()=>t==null?void 0:t.classifications.slice(0,3).filter(a=>a.intent!=="None"&&a.score>0);return d.jsx("div",{className:`bg-gray-50  transition-all duration-300 ease-in-out overflow-hidden ${e?"w-64 border-l border-neutral-200":"w-0"}`,children:d.jsx("div",{className:"w-64 h-full",children:d.jsxs("div",{className:ue(`p-4 h-full flex flex-col transition-opacity duration-300,
            showPanel ? "opacity-100" : "opacity-0"
            }`),children:[d.jsxs("h2",{className:"text-lg font-semibold text-gray-700 mb-4 flex items-center",children:[d.jsx(J8,{className:"w-5 h-5 mr-2"}),"Bot Response Info"]}),t?d.jsxs("div",{className:"space-y-4 flex-grow",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"flex items-center justify-between space-x-2 text-sm font-medium text-gray-700 mb-1",children:[d.jsx("p",{children:"Confidence Score "}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(nO,{className:"size-4 mr-1 text-yellow-400 fill-yellow-400"}),d.jsx("span",{className:"text-sm font-medium text-gray-600",children:t.score.toFixed(2)})]})]}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx(Gj,{value:t.score*100,className:"w-full"})})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Detected Intent"}),d.jsx(Zv,{variant:"outline",children:t==null?void 0:t.intent})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Other Possible Intents"}),d.jsx("ul",{className:ue("list-disc space-y-1",((r=n())==null?void 0:r.length)&&"pl-5"),children:(s=n())!=null&&s.length?(i=n())==null?void 0:i.map((o,a)=>d.jsx("li",{className:"text-sm ",children:d.jsxs("div",{className:"line-clamp-3",children:[d.jsx("span",{children:o.intent}),d.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",o.score.toFixed(2),")"]})]})},a)):d.jsx("span",{className:"text-sm text-muted-foreground",children:"No other intents detected"})})]})]}):d.jsx("div",{className:"text-center text-gray-500",children:"No bot response yet. Start a conversation to see details."})]})})})},un=m.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:ue("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));un.displayName="Input";const $b=Lf("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),tt=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?da:"button";return d.jsx(o,{className:ue($b({variant:e,size:n,className:t})),ref:i,...s})});tt.displayName="Button";const eX=({onSendMessage:t})=>{const[e,n]=m.useState(""),[r,s]=m.useState([]),[i,o]=m.useState(-1),a=h=>{s(p=>{const g=[...p,h];return g.length>3?g.slice(1):g})},l=h=>{n(h.target.value),o(-1)},c=async()=>{const h=e;a(h),n(""),await t(h)},u=async h=>{h.key==="Enter"&&e.trim()!==""&&await c(),h.key==="ArrowUp"&&(i>0?(o(i-1),n(r[i-1])):i===-1&&r.length>0&&(o(r.length-1),n(r[r.length-1]))),h.key==="ArrowDown"&&(i<r.length-1?(o(i+1),n(r[i+1])):(o(-1),n("")))};return d.jsxs("div",{className:"w-full h-[5rem] border-t border-t-customBorderColor flex items-center justify-between px-4 space-x-2",children:[d.jsx(un,{placeholder:"Type message here",value:e,onChange:l,onKeyDown:u}),d.jsxs(tt,{onClick:async()=>await c(),children:[d.jsx(tO,{className:"size-4 mr-2"}),"Send"]})]})},tX=["png","jpg","jpeg","jfif"],nX=["mp4"],rX=["pdf"],sX=({message:t,onItemClick:e})=>{const n=s=>/{=([^{}]+)=}/.test(s),r=s=>{const i=/\[=(.*?)=]/,o=s.match(i),a=/{=([^{}]+)=}/,l=s.match(a),c=/<([^<>]+)>/,u=s.match(c);if(o){const h=o[1],p=s.replace(i,"").trim();return{link:h,text:p}}else if(l&&u){const h=l[1],p=u[1];return{link:s.replace(a,`<a href="${h}" class="font-semibold text-primary dark:text-secondary hover:underline" target="_blank">${p}</a>`).replace(c,"").trim()}}else if(l){const h=l[1];return{link:s.replace(a,`<a href="${h}" class="font-semibold text-primary dark:text-secondary hover:underline" target="_blank">Click here</a>`).trim()}}return{link:"",linkMessage:null,text:s.trim()}};if("fileData"in t){const{source:s,type:i}=t.fileData,o=a=>{if(tX.includes(a))return d.jsx("img",{className:"w-72 rounded-2xl",src:s});if(nX.includes(a))return d.jsx("video",{width:"288",height:"360",className:"rounded-2xl",controls:!0,children:d.jsx("source",{src:s,type:"video/mp4"})});if(rX.includes(a))return d.jsxs("div",{className:"flex space-x-1.5 items-center w-fit rounded-tl-2xl rounded-tr-2xl py-2.5 px-4 text-blue-600 rounded-br-2xl rounded-bl-[2px] bg-gray-100 cursor-pointer",children:[d.jsx(ZM,{className:"size-5"}),d.jsx("a",{href:s,target:"_blank",className:"hover:underline underline-offset-2",children:Uh(s)??"click here"})]})};return d.jsx(d.Fragment,{children:o(i)})}if(n(t.text)){const{link:s}=r(t.text);return d.jsx("div",{className:"max-w-[80%] rounded-tl-2xl rounded-tr-2xl transition-colors ease-out whitespace-pre-wrap leading-relaxed py-2.5 px-4 rounded-br-2xl rounded-bl-[2px] bg-gray-100 cursor-pointer",dangerouslySetInnerHTML:{__html:s}})}if("text"in t&&"sender"in t||"response"in t){const{text:s,sender:i,response:o}=t;return d.jsx("div",{className:ue("flex",i==="user"?"justify-end":"justify-start"),onClick:o?()=>e(o):void 0,children:d.jsx("div",{className:ue("max-w-[80%] rounded-tl-2xl rounded-tr-2xl transition-colors ease-out whitespace-pre-wrap leading-relaxed",i==="user"?"text-white py-1.5 px-3.5 rounded-bl-2xl rounded-br-[4px] bg-blue-500":"py-2.5 px-4 rounded-br-2xl rounded-bl-[2px] bg-gray-100 cursor-pointer",o?"hover:bg-gray-200":""),children:s})})}return null},Lu=({items:t,renderItem:e,listStyle:n})=>d.jsx("div",{className:n,children:t==null?void 0:t.map((r,s)=>d.jsx(m.Fragment,{children:e(r)},s))});function iX(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}function Bh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const qx=t=>Array.isArray(t);function Qj(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function $h(t){return typeof t=="string"||Array.isArray(t)}function ZR(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function zb(t,e,n,r){if(typeof e=="function"){const[s,i]=ZR(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=ZR(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function ny(t,e,n){const r=t.getProps();return zb(r,e,n!==void 0?n:r.custom,t)}const Kb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Wb=["initial",...Kb],Uf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ia=new Set(Uf),Bi=t=>t*1e3,$i=t=>t/1e3,oX={type:"spring",stiffness:500,damping:25,restSpeed:10},aX=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),lX={type:"keyframes",duration:.8},cX={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},uX=(t,{keyframes:e})=>e.length>2?lX:Ia.has(t)?t.startsWith("scale")?aX(e[1]):oX:cX;function dX({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function Hb(t,e){return t[e]||t.default||t}const hX={skipAnimations:!1,useManualTiming:!1},fX=t=>t!==null;function ry(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(fX),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const ir=t=>t;function pX(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){i.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,u=!1,h=!1)=>{const g=h&&r?e:n;return u&&i.add(c),g.has(c)||g.add(c),c},cancel:c=>{n.delete(c),i.delete(c)},process:c=>{if(o=c,r){s=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,s&&(s=!1,l.process(c))}};return l}const Wp=["read","resolveKeyframes","update","preRender","render","postRender"],mX=40;function Yj(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Wp.reduce((x,y)=>(x[y]=pX(i),x),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:h,postRender:p}=o,g=()=>{const x=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(x-s.timestamp,mX),1),s.timestamp=x,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),u.process(s),h.process(s),p.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(g))},w=()=>{n=!0,r=!0,s.isProcessing||t(g)};return{schedule:Wp.reduce((x,y)=>{const b=o[y];return x[y]=(A,P=!1,O=!1)=>(n||w(),b.schedule(A,P,O)),x},{}),cancel:x=>{for(let y=0;y<Wp.length;y++)o[Wp[y]].cancel(x)},state:s,steps:o}}const{schedule:wt,cancel:ro,state:Fn,steps:e0}=Yj(typeof requestAnimationFrame<"u"?requestAnimationFrame:ir,!0),Xj=t=>/^0[^.\s]+$/u.test(t);function gX(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Xj(t):!0}let Gx=ir;const Jj=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Zj=t=>e=>typeof e=="string"&&e.startsWith(t),eL=Zj("--"),vX=Zj("var(--"),qb=t=>vX(t)?yX.test(t.split("/*")[0].trim()):!1,yX=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,wX=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function xX(t){const e=wX.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function tL(t,e,n=1){const[r,s]=xX(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return Jj(o)?parseFloat(o):o}return qb(s)?tL(s,e,n+1):s}const ga=(t,e,n)=>n>e?e:n<t?t:n,Vu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},qd={...Vu,transform:t=>ga(0,1,t)},Hp={...Vu,default:1},Gd=t=>Math.round(t*1e5)/1e5,Gb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,_X=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,EX=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function Bf(t){return typeof t=="string"}function bX(t){return t==null}const $f=t=>({test:e=>Bf(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Eo=$f("deg"),li=$f("%"),De=$f("px"),SX=$f("vh"),TX=$f("vw"),eI={...li,parse:t=>li.parse(t)/100,transform:t=>li.transform(t*100)},CX=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),tI=t=>t===Vu||t===De,nI=(t,e)=>parseFloat(t.split(", ")[e]),rI=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return nI(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?nI(i[1],t):0}},AX=new Set(["x","y","z"]),RX=Uf.filter(t=>!AX.has(t));function IX(t){const e=[];return RX.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const uu={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:rI(4,13),y:rI(5,14)};uu.translateX=uu.x;uu.translateY=uu.y;const nL=t=>e=>e.test(t),PX={test:t=>t==="auto",parse:t=>t},rL=[Vu,De,li,Eo,TX,SX,PX],sI=t=>rL.find(nL(t)),pl=new Set;let Qx=!1,Yx=!1;function sL(){if(Yx){const t=Array.from(pl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=IX(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Yx=!1,Qx=!1,pl.forEach(t=>t.complete()),pl.clear()}function iL(){pl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Yx=!0)})}function NX(){iL(),sL()}class Qb{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(pl.add(this),Qx||(Qx=!0,wt.read(iL),wt.resolveKeyframes(sL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),pl.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,pl.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Yb=(t,e)=>n=>!!(Bf(n)&&EX.test(n)&&n.startsWith(t)||e&&!bX(n)&&Object.prototype.hasOwnProperty.call(n,e)),oL=(t,e,n)=>r=>{if(!Bf(r))return r;const[s,i,o,a]=r.match(Gb);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},DX=t=>ga(0,255,t),t0={...Vu,transform:t=>Math.round(DX(t))},Za={test:Yb("rgb","red"),parse:oL("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+t0.transform(t)+", "+t0.transform(e)+", "+t0.transform(n)+", "+Gd(qd.transform(r))+")"};function kX(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Xx={test:Yb("#"),parse:kX,transform:Za.transform},yc={test:Yb("hsl","hue"),parse:oL("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+li.transform(Gd(e))+", "+li.transform(Gd(n))+", "+Gd(qd.transform(r))+")"},er={test:t=>Za.test(t)||Xx.test(t)||yc.test(t),parse:t=>Za.test(t)?Za.parse(t):yc.test(t)?yc.parse(t):Xx.parse(t),transform:t=>Bf(t)?t:t.hasOwnProperty("red")?Za.transform(t):yc.transform(t)};function MX(t){var e,n;return isNaN(t)&&Bf(t)&&(((e=t.match(Gb))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(_X))===null||n===void 0?void 0:n.length)||0)>0}const aL="number",lL="color",OX="var",jX="var(",iI="${}",LX=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(LX,l=>(er.test(l)?(r.color.push(i),s.push(lL),n.push(er.parse(l))):l.startsWith(jX)?(r.var.push(i),s.push(OX),n.push(l)):(r.number.push(i),s.push(aL),n.push(parseFloat(l))),++i,iI)).split(iI);return{values:n,split:a,indexes:r,types:s}}function cL(t){return zh(t).values}function uL(t){const{split:e,types:n}=zh(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===aL?i+=Gd(s[o]):a===lL?i+=er.transform(s[o]):i+=s[o]}return i}}const VX=t=>typeof t=="number"?0:t;function FX(t){const e=cL(t);return uL(t)(e.map(VX))}const va={test:MX,parse:cL,createTransformer:uL,getAnimatableNone:FX},UX=new Set(["brightness","contrast","saturate","opacity"]);function BX(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Gb)||[];if(!r)return t;const s=n.replace(r,"");let i=UX.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const $X=/\b([a-z-]*)\(.*?\)/gu,Jx={...va,getAnimatableNone:t=>{const e=t.match($X);return e?e.map(BX).join(" "):t}},oI={...Vu,transform:Math.round},Xb={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,radius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,size:De,top:De,right:De,bottom:De,left:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,rotate:Eo,rotateX:Eo,rotateY:Eo,rotateZ:Eo,scale:Hp,scaleX:Hp,scaleY:Hp,scaleZ:Hp,skew:Eo,skewX:Eo,skewY:Eo,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:qd,originX:eI,originY:eI,originZ:De,zIndex:oI,backgroundPositionX:De,backgroundPositionY:De,fillOpacity:qd,strokeOpacity:qd,numOctaves:oI},zX={...Xb,color:er,backgroundColor:er,outlineColor:er,fill:er,stroke:er,borderColor:er,borderTopColor:er,borderRightColor:er,borderBottomColor:er,borderLeftColor:er,filter:Jx,WebkitFilter:Jx},Jb=t=>zX[t];function dL(t,e){let n=Jb(t);return n!==Jx&&(n=va),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const KX=new Set(["auto","none","0"]);function WX(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!KX.has(i)&&zh(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=dL(n,s)}class hL extends Qb{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),qb(c))){const u=tL(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!CX.has(r)||e.length!==2)return;const[s,i]=e,o=sI(s),a=sI(i);if(o!==a)if(tI(o)&&tI(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)gX(e[s])&&r.push(s);r.length&&WX(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=uu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=uu[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function fL(t){let e;return()=>(e===void 0&&(e=t()),e)}let Im;function HX(){Im=void 0}const ci={now:()=>(Im===void 0&&ci.set(Fn.isProcessing||hX.useManualTiming?Fn.timestamp:performance.now()),Im),set:t=>{Im=t,queueMicrotask(HX)}},aI=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(va.test(t)||t==="0")&&!t.startsWith("url("));function qX(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function GX(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=aI(s,e),a=aI(i,e);return!o||!a?!1:qX(t)||n==="spring"&&r}const QX=40;class pL{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ci.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>QX?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&NX(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ci.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!GX(e,r,s,i))if(o)this.options.duration=0;else{l==null||l(ry(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function mL(t,e){return e?t*(1e3/e):0}const YX=5;function gL(t,e,n){const r=Math.max(e-YX,0);return mL(n-t(r),e-r)}const n0=.001,XX=.01,JX=10,ZX=.05,eJ=1;function tJ({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=ga(ZX,eJ,o),t=ga(XX,JX,$i(t)),o<1?(s=c=>{const u=c*o,h=u*t,p=u-n,g=Zx(c,o),w=Math.exp(-h);return n0-p/g*w},i=c=>{const h=c*o*t,p=h*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,w=Math.exp(-h),v=Zx(Math.pow(c,2),o);return(-s(c)+n0>0?-1:1)*((p-g)*w)/v}):(s=c=>{const u=Math.exp(-c*t),h=(c-n)*t+1;return-n0+u*h},i=c=>{const u=Math.exp(-c*t),h=(n-c)*(t*t);return u*h});const a=5/t,l=rJ(s,i,a);if(t=Bi(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const nJ=12;function rJ(t,e,n){let r=n;for(let s=1;s<nJ;s++)r=r-t(r)/e(r);return r}function Zx(t,e){return t*Math.sqrt(1-e*e)}const sJ=["duration","bounce"],iJ=["stiffness","damping","mass"];function lI(t,e){return e.some(n=>t[n]!==void 0)}function oJ(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!lI(t,iJ)&&lI(t,sJ)){const n=tJ(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function vL({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:c,duration:u,velocity:h,isResolvedFromDuration:p}=oJ({...r,velocity:-$i(r.velocity||0)}),g=h||0,w=l/(2*Math.sqrt(a*c)),v=i-s,_=$i(Math.sqrt(a/c)),x=Math.abs(v)<5;n||(n=x?.01:2),e||(e=x?.005:.5);let y;if(w<1){const b=Zx(_,w);y=A=>{const P=Math.exp(-w*_*A);return i-P*((g+w*_*v)/b*Math.sin(b*A)+v*Math.cos(b*A))}}else if(w===1)y=b=>i-Math.exp(-_*b)*(v+(g+_*v)*b);else{const b=_*Math.sqrt(w*w-1);y=A=>{const P=Math.exp(-w*_*A),O=Math.min(b*A,300);return i-P*((g+w*_*v)*Math.sinh(O)+b*v*Math.cosh(O))/b}}return{calculatedDuration:p&&u||null,next:b=>{const A=y(b);if(p)o.done=b>=u;else{let P=0;w<1&&(P=b===0?Bi(g):gL(y,b,A));const O=Math.abs(P)<=n,T=Math.abs(i-A)<=e;o.done=O&&T}return o.value=o.done?i:A,o}}}function cI({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const h=t[0],p={done:!1,value:h},g=E=>a!==void 0&&E<a||l!==void 0&&E>l,w=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l;let v=n*e;const _=h+v,x=o===void 0?_:o(_);x!==_&&(v=x-h);const y=E=>-v*Math.exp(-E/r),b=E=>x+y(E),A=E=>{const I=y(E),R=b(E);p.done=Math.abs(I)<=c,p.value=p.done?x:R};let P,O;const T=E=>{g(p.value)&&(P=E,O=vL({keyframes:[p.value,w(p.value)],velocity:gL(b,E,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return T(0),{calculatedDuration:null,next:E=>{let I=!1;return!O&&P===void 0&&(I=!0,A(E),T(E)),P!==void 0&&E>=P?O.next(E-P):(!I&&A(E),p)}}}const yL=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,aJ=1e-7,lJ=12;function cJ(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=yL(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>aJ&&++a<lJ);return o}function zf(t,e,n,r){if(t===e&&n===r)return ir;const s=i=>cJ(i,0,1,t,n);return i=>i===0||i===1?i:yL(s(i),e,r)}const uJ=zf(.42,0,1,1),dJ=zf(0,0,.58,1),wL=zf(.42,0,.58,1),hJ=t=>Array.isArray(t)&&typeof t[0]!="number",xL=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,_L=t=>e=>1-t(1-e),Zb=t=>1-Math.sin(Math.acos(t)),EL=_L(Zb),fJ=xL(Zb),bL=zf(.33,1.53,.69,.99),eS=_L(bL),pJ=xL(eS),mJ=t=>(t*=2)<1?.5*eS(t):.5*(2-Math.pow(2,-10*(t-1))),uI={linear:ir,easeIn:uJ,easeInOut:wL,easeOut:dJ,circIn:Zb,circInOut:fJ,circOut:EL,backIn:eS,backInOut:pJ,backOut:bL,anticipate:mJ},dI=t=>{if(Array.isArray(t)){Gx(t.length===4);const[e,n,r,s]=t;return zf(e,n,r,s)}else if(typeof t=="string")return Gx(uI[t]!==void 0),uI[t];return t},gJ=(t,e)=>n=>e(t(n)),zi=(...t)=>t.reduce(gJ),Kh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Kt=(t,e,n)=>t+(e-t)*n;function r0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function vJ({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=r0(l,a,t+1/3),i=r0(l,a,t),o=r0(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Ng(t,e){return n=>n>0?e:t}const s0=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},yJ=[Xx,Za,yc],wJ=t=>yJ.find(e=>e.test(t));function hI(t){const e=wJ(t);if(!e)return!1;let n=e.parse(t);return e===yc&&(n=vJ(n)),n}const fI=(t,e)=>{const n=hI(t),r=hI(e);if(!n||!r)return Ng(t,e);const s={...n};return i=>(s.red=s0(n.red,r.red,i),s.green=s0(n.green,r.green,i),s.blue=s0(n.blue,r.blue,i),s.alpha=Kt(n.alpha,r.alpha,i),Za.transform(s))},e_=new Set(["none","hidden"]);function xJ(t,e){return e_.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function _J(t,e){return n=>Kt(t,e,n)}function tS(t){return typeof t=="number"?_J:typeof t=="string"?qb(t)?Ng:er.test(t)?fI:SJ:Array.isArray(t)?SL:typeof t=="object"?er.test(t)?fI:EJ:Ng}function SL(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>tS(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function EJ(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=tS(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function bJ(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][s[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const SJ=(t,e)=>{const n=va.createTransformer(e),r=zh(t),s=zh(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?e_.has(t)&&!s.values.length||e_.has(e)&&!r.values.length?xJ(t,e):zi(SL(bJ(r,s),s.values),n):Ng(t,e)};function TL(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Kt(t,e,n):tS(t)(t,e)}function TJ(t,e,n){const r=[],s=n||TL,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||ir:e;a=zi(l,a)}r.push(a)}return r}function CJ(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Gx(i===e.length),i===1)return()=>e[0];if(i===2&&t[0]===t[1])return()=>e[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=TJ(e,r,s),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const h=Kh(t[u],t[u+1],c);return o[u](h)};return n?c=>l(ga(t[0],t[i-1],c)):l}function AJ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Kh(0,e,r);t.push(Kt(n,1,s))}}function RJ(t){const e=[0];return AJ(e,t.length-1),e}function IJ(t,e){return t.map(n=>n*e)}function PJ(t,e){return t.map(()=>e||wL).splice(0,t.length-1)}function Dg({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=hJ(r)?r.map(dI):dI(r),i={done:!1,value:e[0]},o=IJ(n&&n.length===e.length?n:RJ(e),t),a=CJ(o,e,{ease:Array.isArray(s)?s:PJ(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const pI=2e4;function NJ(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<pI;)e+=n,r=t.next(e);return e>=pI?1/0:e}const DJ=t=>{const e=({timestamp:n})=>t(n);return{start:()=>wt.update(e,!0),stop:()=>ro(e),now:()=>Fn.isProcessing?Fn.timestamp:ci.now()}},kJ={decay:cI,inertia:cI,tween:Dg,keyframes:Dg,spring:vL},MJ=t=>t/100;class nS extends pL{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||Qb,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=kJ[n]||Dg;let l,c;a!==Dg&&typeof e[0]!="number"&&(l=zi(MJ,TL(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});i==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=NJ(u));const{calculatedDuration:h}=u,p=h+s,g=p*(r+1)-s;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:p,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:p,repeat:g,repeatType:w,repeatDelay:v,onUpdate:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const x=this.currentTime-p*(this.speed>=0?1:-1),y=this.speed>=0?x<0:x>u;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let b=this.currentTime,A=i;if(g){const E=Math.min(this.currentTime,u)/h;let I=Math.floor(E),R=E%1;!R&&E>=1&&(R=1),R===1&&I--,I=Math.min(I,g+1),!!(I%2)&&(w==="reverse"?(R=1-R,v&&(R-=v/h)):w==="mirror"&&(A=o)),b=ga(0,1,R)*h}const P=y?{done:!1,value:l[0]}:A.next(b);a&&(P.value=a(P.value));let{done:O}=P;!y&&c!==null&&(O=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return T&&s!==void 0&&(P.value=ry(l,this.options,s)),_&&_(P.value),T&&this.finish(),P}get duration(){const{resolved:e}=this;return e?$i(e.calculatedDuration):0}get time(){return $i(this.currentTime)}set time(e){e=Bi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=$i(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=DJ,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const CL=new Set(["opacity","clipPath","filter","transform"]),AL=t=>Array.isArray(t)&&typeof t[0]=="number";function RL(t){return!!(!t||typeof t=="string"&&t in rS||AL(t)||Array.isArray(t)&&t.every(RL))}const Id=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,rS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Id([0,.65,.55,1]),circOut:Id([.55,0,1,.45]),backIn:Id([.31,.01,.66,-.59]),backOut:Id([.33,1.53,.69,.99])};function OJ(t){return IL(t)||rS.easeOut}function IL(t){if(t)return AL(t)?Id(t):Array.isArray(t)?t.map(OJ):rS[t]}function jJ(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=IL(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const LJ=fL(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),kg=10,VJ=2e4;function FJ(t){return t.type==="spring"||!RL(t.ease)}function UJ(t,e){const n=new nS({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<VJ;)r=n.sample(i),s.push(r.value),i+=kg;return{times:void 0,keyframes:s,duration:i-kg,ease:"linear"}}class mI extends pL{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new hL(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:s=300,times:i,ease:o,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(FJ(this.options)){const{onComplete:p,onUpdate:g,motionValue:w,element:v,..._}=this.options,x=UJ(e,_);e=x.keyframes,e.length===1&&(e[1]=e[0]),s=x.duration,i=x.times,o=x.ease,a="keyframes"}const h=jJ(l.owner.current,c,e,{...this.options,duration:s,times:i,ease:o});return h.startTime=u??this.calcStartTime(),this.pendingTimeline?(h.timeline=this.pendingTimeline,this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:p}=this.options;l.set(ry(e,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:s,times:i,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return $i(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return $i(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Bi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return ir;const{animation:r}=n;r.timeline=e,r.onfinish=null}return ir}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:h,element:p,...g}=this.options,w=new nS({...g,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),v=Bi(this.time);c.setWithVelocity(w.sample(v-kg).value,w.sample(v).value,kg)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=e;return LJ()&&r&&CL.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}function BJ(t,e){let n;const r=()=>{const{currentTime:s}=e,o=(s===null?0:s.value)/100;n!==o&&t(o),n=o};return wt.update(r,!0),()=>ro(r)}const $J=fL(()=>window.ScrollTimeline!==void 0);class zJ{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if($J()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),BJ(s=>{r.time=r.duration*s},e)});return()=>{n.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const sS=(t,e,n,r={},s,i,o)=>a=>{const l=Hb(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Bi(c);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{a(),l.onComplete&&l.onComplete(),o&&o()},onStop:o,name:t,motionValue:e,element:i?void 0:s};dX(l)||(h={...h,...uX(t,h)}),h.duration&&(h.duration=Bi(h.duration)),h.repeatDelay&&(h.repeatDelay=Bi(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let p=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(p=!0)),p&&!i&&e.get()!==void 0){const g=ry(h.keyframes,l);if(g!==void 0)return wt.update(()=>{h.onUpdate(g),h.onComplete()}),new zJ([])}return!i&&mI.supports(h)?new mI(h):new nS(h)},KJ=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),WJ=t=>qx(t)?t[t.length-1]||0:t;function sy(t,e){t.indexOf(e)===-1&&t.push(e)}function iy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class iS{constructor(){this.subscriptions=[]}add(e){return sy(this.subscriptions,e),()=>iy(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gI=30,HJ=t=>!isNaN(parseFloat(t));class PL{constructor(e,n={}){this.version="11.5.6",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=ci.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ci.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=HJ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new iS);const r=this.events[e].add(n);return e==="change"?()=>{r(),wt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ci.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>gI)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,gI);return mL(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wh(t,e){return new PL(t,e)}function qJ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Wh(n))}function GJ(t,e){const n=ny(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=WJ(i[o]);qJ(t,o,a)}}const oy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),QJ="framerAppearId",NL="data-"+oy(QJ);function DL(t){return t.props[NL]}function kL(t){if(Ia.has(t))return"transform";if(CL.has(t))return oy(t)}class YJ extends PL{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(e){const n=kL(e);if(!n)return;const r=this.counts.get(n)||0;this.counts.set(n,r+1),r===0&&(this.output.push(n),this.update());let s=!1;return()=>{if(s)return;s=!0;const i=this.counts.get(n)-1;this.counts.set(n,i),i===0&&(iy(this.output,n),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}const sr=t=>!!(t&&t.getVelocity);function XJ(t){return!!(sr(t)&&t.add)}function t_(t,e){var n;if(!t.applyWillChange)return;let r=t.getValue("willChange");if(!r&&!(!((n=t.props.style)===null||n===void 0)&&n.willChange)&&(r=new YJ("auto"),t.addValue("willChange",r)),XJ(r))return r.add(e)}function JJ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function ML(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const h in l){const p=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),g=l[h];if(g===void 0||u&&JJ(u,h))continue;const w={delay:n,...Hb(o||{},h)};let v=!1;if(window.MotionHandoffAnimation){const x=DL(t);if(x){const y=window.MotionHandoffAnimation(x,h,wt);y!==null&&(w.startTime=y,v=!0)}}p.start(sS(h,p,g,t.shouldReduceMotion&&Ia.has(h)?{type:!1}:w,t,v,t_(t,h)));const _=p.animation;_&&c.push(_)}return a&&Promise.all(c).then(()=>{wt.update(()=>{a&&GJ(t,a)})}),c}function n_(t,e,n={}){var r;const s=ny(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(ML(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:p}=i;return ZJ(t,e,u+c,h,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function ZJ(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(eZ).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(n_(c,e,{...i,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function eZ(t,e){return t.sortNodePosition(e)}function tZ(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>n_(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=n_(t,e,n);else{const s=typeof e=="function"?ny(t,e,n.custom):e;r=Promise.all(ML(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const nZ=Wb.length;function OL(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?OL(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<nZ;n++){const r=Wb[n],s=t.props[r];($h(s)||s===!1)&&(e[r]=s)}return e}const rZ=[...Kb].reverse(),sZ=Kb.length;function iZ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>tZ(t,n,r)))}function oZ(t){let e=iZ(t),n=vI(),r=!0;const s=l=>(c,u)=>{var h;const p=ny(t,u,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(p){const{transition:g,transitionEnd:w,...v}=p;c={...c,...v,...w}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,u=OL(t.parent)||{},h=[],p=new Set;let g={},w=1/0;for(let _=0;_<sZ;_++){const x=rZ[_],y=n[x],b=c[x]!==void 0?c[x]:u[x],A=$h(b),P=x===l?y.isActive:null;P===!1&&(w=_);let O=b===u[x]&&b!==c[x]&&A;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),y.protectedKeys={...g},!y.isActive&&P===null||!b&&!y.prevProp||Bh(b)||typeof b=="boolean")continue;const T=aZ(y.prevProp,b);let E=T||x===l&&y.isActive&&!O&&A||_>w&&A,I=!1;const R=Array.isArray(b)?b:[b];let k=R.reduce(s(x),{});P===!1&&(k={});const{prevResolvedValues:M={}}=y,N={...M,...k},W=Y=>{E=!0,p.has(Y)&&(I=!0,p.delete(Y)),y.needsAnimating[Y]=!0;const z=t.getValue(Y);z&&(z.liveStyle=!1)};for(const Y in N){const z=k[Y],B=M[Y];if(g.hasOwnProperty(Y))continue;let J=!1;qx(z)&&qx(B)?J=!Qj(z,B):J=z!==B,J?z!=null?W(Y):p.add(Y):z!==void 0&&p.has(Y)?W(Y):y.protectedKeys[Y]=!0}y.prevProp=b,y.prevResolvedValues=k,y.isActive&&(g={...g,...k}),r&&t.blockInitialAnimation&&(E=!1),E&&(!(O&&T)||I)&&h.push(...R.map(Y=>({animation:Y,options:{type:x}})))}if(p.size){const _={};p.forEach(x=>{const y=t.getBaseTarget(x),b=t.getValue(x);b&&(b.liveStyle=!0),_[x]=y??null}),h.push({animation:_})}let v=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(h):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=vI(),r=!0}}}function aZ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Qj(e,t):!1}function $a(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vI(){return{animate:$a(!0),whileInView:$a(),whileHover:$a(),whileTap:$a(),whileDrag:$a(),whileFocus:$a(),exit:$a()}}class Pa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class lZ extends Pa{constructor(e){super(e),e.animationState||(e.animationState=oZ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Bh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let cZ=0;class uZ extends Pa{constructor(){super(...arguments),this.id=cZ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const dZ={animation:{Feature:lZ},exit:{Feature:uZ}},jL=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function ay(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const hZ=t=>e=>jL(e)&&t(e,ay(e));function Oi(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ki(t,e,n,r){return Oi(t,e,hZ(n),r)}const yI=(t,e)=>Math.abs(t-e);function fZ(t,e){const n=yI(t.x,e.x),r=yI(t.y,e.y);return Math.sqrt(n**2+r**2)}class LL{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=o0(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=fZ(h.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:w}=h,{timestamp:v}=Fn;this.history.push({...w,timestamp:v});const{onStart:_,onMove:x}=this.handlers;p||(_&&_(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=i0(p,this.transformPagePoint),wt.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:g,onSessionEnd:w,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=o0(h.type==="pointercancel"?this.lastMoveEventInfo:i0(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,_),w&&w(h,_)},!jL(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=ay(e),a=i0(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Fn;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,o0(a,this.history)),this.removeListeners=zi(Ki(this.contextWindow,"pointermove",this.handlePointerMove),Ki(this.contextWindow,"pointerup",this.handlePointerUp),Ki(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ro(this.updatePoint)}}function i0(t,e){return e?{point:e(t.point)}:t}function wI(t,e){return{x:t.x-e.x,y:t.y-e.y}}function o0({point:t},e){return{point:t,delta:wI(t,VL(e)),offset:wI(t,pZ(e)),velocity:mZ(e,.1)}}function pZ(t){return t[0]}function VL(t){return t[t.length-1]}function mZ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=VL(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Bi(e)));)n--;if(!r)return{x:0,y:0};const i=$i(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function FL(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const xI=FL("dragHorizontal"),_I=FL("dragVertical");function UL(t){let e=!1;if(t==="y")e=_I();else if(t==="x")e=xI();else{const n=xI(),r=_I();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function BL(){const t=UL(!0);return t?(t(),!1):!0}function wc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const $L=1e-4,gZ=1-$L,vZ=1+$L,zL=.01,yZ=0-zL,wZ=0+zL;function Xr(t){return t.max-t.min}function xZ(t,e,n){return Math.abs(t-e)<=n}function EI(t,e,n,r=.5){t.origin=r,t.originPoint=Kt(e.min,e.max,t.origin),t.scale=Xr(n)/Xr(e),t.translate=Kt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=gZ&&t.scale<=vZ||isNaN(t.scale))&&(t.scale=1),(t.translate>=yZ&&t.translate<=wZ||isNaN(t.translate))&&(t.translate=0)}function Qd(t,e,n,r){EI(t.x,e.x,n.x,r?r.originX:void 0),EI(t.y,e.y,n.y,r?r.originY:void 0)}function bI(t,e,n){t.min=n.min+e.min,t.max=t.min+Xr(e)}function _Z(t,e,n){bI(t.x,e.x,n.x),bI(t.y,e.y,n.y)}function SI(t,e,n){t.min=e.min-n.min,t.max=t.min+Xr(e)}function Yd(t,e,n){SI(t.x,e.x,n.x),SI(t.y,e.y,n.y)}function EZ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Kt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Kt(n,t,r.max):Math.min(t,n)),t}function TI(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function bZ(t,{top:e,left:n,bottom:r,right:s}){return{x:TI(t.x,n,s),y:TI(t.y,e,r)}}function CI(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function SZ(t,e){return{x:CI(t.x,e.x),y:CI(t.y,e.y)}}function TZ(t,e){let n=.5;const r=Xr(t),s=Xr(e);return s>r?n=Kh(e.min,e.max-r,t.min):r>s&&(n=Kh(t.min,t.max-s,e.min)),ga(0,1,n)}function CZ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const r_=.35;function AZ(t=r_){return t===!1?t=0:t===!0&&(t=r_),{x:AI(t,"left","right"),y:AI(t,"top","bottom")}}function AI(t,e,n){return{min:RI(t,e),max:RI(t,n)}}function RI(t,e){return typeof t=="number"?t:t[e]||0}const II=()=>({translate:0,scale:1,origin:0,originPoint:0}),xc=()=>({x:II(),y:II()}),PI=()=>({min:0,max:0}),rn=()=>({x:PI(),y:PI()});function ls(t){return[t("x"),t("y")]}function KL({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function RZ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function IZ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function a0(t){return t===void 0||t===1}function s_({scale:t,scaleX:e,scaleY:n}){return!a0(t)||!a0(e)||!a0(n)}function Ha(t){return s_(t)||WL(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function WL(t){return NI(t.x)||NI(t.y)}function NI(t){return t&&t!=="0%"}function Mg(t,e,n){const r=t-n,s=e*r;return n+s}function DI(t,e,n,r,s){return s!==void 0&&(t=Mg(t,s,r)),Mg(t,n,r)+e}function i_(t,e=0,n=1,r,s){t.min=DI(t.min,e,n,r,s),t.max=DI(t.max,e,n,r,s)}function HL(t,{x:e,y:n}){i_(t.x,e.translate,e.scale,e.originPoint),i_(t.y,n.translate,n.scale,n.originPoint)}const kI=.999999999999,MI=1.0000000000001;function PZ(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ec(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,HL(t,o)),r&&Ha(i.latestValues)&&Ec(t,i.latestValues))}e.x<MI&&e.x>kI&&(e.x=1),e.y<MI&&e.y>kI&&(e.y=1)}function _c(t,e){t.min=t.min+e,t.max=t.max+e}function OI(t,e,n,r,s=.5){const i=Kt(t.min,t.max,s);i_(t,e,n,i,r)}function Ec(t,e){OI(t.x,e.x,e.scaleX,e.scale,e.originX),OI(t.y,e.y,e.scaleY,e.scale,e.originY)}function qL(t,e){return KL(IZ(t.getBoundingClientRect(),e))}function NZ(t,e,n){const r=qL(t,n),{scroll:s}=e;return s&&(_c(r.x,s.offset.x),_c(r.y,s.offset.y)),r}const GL=({current:t})=>t?t.ownerDocument.defaultView:null,DZ=new WeakMap;class kZ{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ay(u,"page").point)},i=(u,h)=>{var p;const{drag:g,dragPropagation:w,onDragStart:v}=this.getProps();if(g&&!w&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=UL(g),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ls(x=>{let y=this.getAxisMotionValue(x).get()||0;if(li.test(y)){const{projection:b}=this.visualElement;if(b&&b.layout){const A=b.layout.layoutBox[x];A&&(y=Xr(A)*(parseFloat(y)/100))}}this.originPoint[x]=y}),v&&wt.postRender(()=>v(u,h)),(p=this.removeWillChange)===null||p===void 0||p.call(this),this.removeWillChange=t_(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:w,onDrag:v}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:_}=h;if(g&&this.currentDirection===null){this.currentDirection=MZ(_),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",h.point,_),this.updateAxis("y",h.point,_),this.visualElement.render(),v&&v(u,h)},a=(u,h)=>this.stop(u,h),l=()=>ls(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new LL(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:GL(this.visualElement)})}stop(e,n){var r;(r=this.removeWillChange)===null||r===void 0||r.call(this);const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&wt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!qp(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=EZ(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&wc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=bZ(s.layoutBox,n):this.constraints=!1,this.elastic=AZ(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ls(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=CZ(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!wc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=NZ(r,s.root,this.visualElement.getTransformPagePoint());let o=SZ(s.layout.layoutBox,i);if(n){const a=n(RZ(o));this.hasMutatedConstraints=!!a,a&&(o=KL(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=ls(u=>{if(!qp(u,n,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const p=s?200:1e6,g=s?40:1e7,w={type:"inertia",velocity:r?e[u]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(sS(e,r,0,n,this.visualElement,!1,t_(this.visualElement,e)))}stopAnimation(){ls(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ls(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ls(n=>{const{drag:r}=this.getProps();if(!qp(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Kt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!wc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ls(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=TZ({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ls(o=>{if(!qp(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Kt(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;DZ.set(this.visualElement,this);const e=this.visualElement.current,n=Ki(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();wc(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),wt.read(r);const o=Oi(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ls(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=r_,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function qp(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function MZ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class OZ extends Pa{constructor(e){super(e),this.removeGroupControls=ir,this.removeListeners=ir,this.controls=new kZ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ir}unmount(){this.removeGroupControls(),this.removeListeners()}}const jI=t=>(e,n)=>{t&&wt.postRender(()=>t(e,n))};class jZ extends Pa{constructor(){super(...arguments),this.removePointerDownListener=ir}onPointerDown(e){this.session=new LL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:GL(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:jI(e),onStart:jI(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&wt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Ki(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ly=m.createContext(null);function LZ(){const t=m.useContext(ly);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=m.useId();m.useEffect(()=>r(s),[]);const i=m.useCallback(()=>n&&n(s),[s,n]);return!e&&n?[!1,i]:[!0]}const oS=m.createContext({}),QL=m.createContext({}),Pm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function LI(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const vd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(De.test(t))t=parseFloat(t);else return t;const n=LI(t,e.target.x),r=LI(t,e.target.y);return`${n}% ${r}%`}},VZ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=va.parse(t);if(s.length>5)return r;const i=va.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=Kt(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}},Og={};function FZ(t){Object.assign(Og,t)}const{schedule:aS,cancel:Jme}=Yj(queueMicrotask,!1);class UZ extends m.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;FZ(BZ),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Pm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||wt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),aS.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function YL(t){const[e,n]=LZ(),r=m.useContext(oS);return d.jsx(UZ,{...t,layoutGroup:r,switchLayoutGroup:m.useContext(QL),isPresent:e,safeToRemove:n})}const BZ={borderRadius:{...vd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vd,borderTopRightRadius:vd,borderBottomLeftRadius:vd,borderBottomRightRadius:vd,boxShadow:VZ},XL=["TopLeft","TopRight","BottomLeft","BottomRight"],$Z=XL.length,VI=t=>typeof t=="string"?parseFloat(t):t,FI=t=>typeof t=="number"||De.test(t);function zZ(t,e,n,r,s,i){s?(t.opacity=Kt(0,n.opacity!==void 0?n.opacity:1,KZ(r)),t.opacityExit=Kt(e.opacity!==void 0?e.opacity:1,0,WZ(r))):i&&(t.opacity=Kt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<$Z;o++){const a=`border${XL[o]}Radius`;let l=UI(e,a),c=UI(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||FI(l)===FI(c)?(t[a]=Math.max(Kt(VI(l),VI(c),r),0),(li.test(c)||li.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Kt(e.rotate||0,n.rotate||0,r))}function UI(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const KZ=JL(0,.5,EL),WZ=JL(.5,.95,ir);function JL(t,e,n){return r=>r<t?0:r>e?1:n(Kh(t,e,r))}function BI(t,e){t.min=e.min,t.max=e.max}function as(t,e){BI(t.x,e.x),BI(t.y,e.y)}function $I(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function zI(t,e,n,r,s){return t-=e,t=Mg(t,1/n,r),s!==void 0&&(t=Mg(t,1/s,r)),t}function HZ(t,e=0,n=1,r=.5,s,i=t,o=t){if(li.test(e)&&(e=parseFloat(e),e=Kt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Kt(i.min,i.max,r);t===i&&(a-=e),t.min=zI(t.min,e,n,a,s),t.max=zI(t.max,e,n,a,s)}function KI(t,e,[n,r,s],i,o){HZ(t,e[n],e[r],e[s],e.scale,i,o)}const qZ=["x","scaleX","originX"],GZ=["y","scaleY","originY"];function WI(t,e,n,r){KI(t.x,e,qZ,n?n.x:void 0,r?r.x:void 0),KI(t.y,e,GZ,n?n.y:void 0,r?r.y:void 0)}function HI(t){return t.translate===0&&t.scale===1}function ZL(t){return HI(t.x)&&HI(t.y)}function qI(t,e){return t.min===e.min&&t.max===e.max}function QZ(t,e){return qI(t.x,e.x)&&qI(t.y,e.y)}function GI(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function e2(t,e){return GI(t.x,e.x)&&GI(t.y,e.y)}function QI(t){return Xr(t.x)/Xr(t.y)}function YI(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class YZ{constructor(){this.members=[]}add(e){sy(this.members,e),e.scheduleRender()}remove(e){if(iy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function XZ(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:p,skewX:g,skewY:w}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const JZ=(t,e)=>t.depth-e.depth;class ZZ{constructor(){this.children=[],this.isDirty=!1}add(e){sy(this.children,e),this.isDirty=!0}remove(e){iy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(JZ),this.isDirty=!1,this.children.forEach(e)}}function Nm(t){const e=sr(t)?t.get():t;return KJ(e)?e.toValue():e}function eee(t,e){const n=ci.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(ro(r),t(i-e))};return wt.read(r,!0),()=>ro(r)}function tee(t){return t instanceof SVGElement&&t.tagName!=="svg"}function nee(t,e,n){const r=sr(t)?t:Wh(t);return r.start(sS("",r,e,n)),r.animation}const qa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Pd=typeof window<"u"&&window.MotionDebug!==void 0,l0=["","X","Y","Z"],ree={visibility:"hidden"},XI=1e3;let see=0;function c0(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function t2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=DL(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",wt,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&t2(r)}function n2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=see++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Pd&&(qa.totalNodes=qa.resolvedTargetDeltas=qa.recalculatedProjection=0),this.nodes.forEach(aee),this.nodes.forEach(hee),this.nodes.forEach(fee),this.nodes.forEach(lee),Pd&&window.MotionDebug.record(qa)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new ZZ)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new iS),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=tee(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=eee(p,250),Pm.hasAnimatedSinceResize&&(Pm.hasAnimatedSinceResize=!1,this.nodes.forEach(ZI))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:g,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||yee,{onLayoutAnimationStart:_,onLayoutAnimationComplete:x}=u.getProps(),y=!this.targetLayout||!e2(this.targetLayout,w)||g,b=!p&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||p&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const A={...Hb(v,"layout"),onPlay:_,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else p||ZI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ro(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pee),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&t2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(JI);return}this.isUpdating||this.nodes.forEach(uee),this.isUpdating=!1,this.nodes.forEach(dee),this.nodes.forEach(iee),this.nodes.forEach(oee),this.clearAllSnapshots();const a=ci.now();Fn.delta=ga(0,1e3/60,a-Fn.timestamp),Fn.timestamp=a,Fn.isProcessing=!0,e0.update.process(Fn),e0.preRender.process(Fn),e0.render.process(Fn),Fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,aS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(cee),this.sharedNodes.forEach(mee)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!ZL(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Ha(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),wee(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return rn();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(xee))){const{scroll:u}=this.root;u&&(_c(l.x,u.offset.x),_c(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=rn();if(as(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:p}=u;u!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&as(l,o),_c(l.x,h.offset.x),_c(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=rn();as(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ec(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ha(u.latestValues)&&Ec(l,u.latestValues)}return Ha(this.latestValues)&&Ec(l,this.latestValues),l}removeTransform(o){const a=rn();as(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ha(c.latestValues))continue;s_(c.latestValues)&&c.updateSnapshot();const u=rn(),h=c.measurePageBox();as(u,h),WI(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Ha(this.latestValues)&&WI(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=Fn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rn(),this.relativeTargetOrigin=rn(),Yd(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),as(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=rn(),this.targetWithTransforms=rn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_Z(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):as(this.target,this.layout.layoutBox),HL(this.target,this.targetDelta)):as(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rn(),this.relativeTargetOrigin=rn(),Yd(this.relativeTargetOrigin,this.target,g.target),as(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Pd&&qa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||s_(this.parent.latestValues)||WL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Fn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;as(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;PZ(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=rn());const{target:w}=a;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($I(this.prevProjectionDelta.x,this.projectionDelta.x),$I(this.prevProjectionDelta.y,this.projectionDelta.y)),Qd(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!YI(this.projectionDelta.x,this.prevProjectionDelta.x)||!YI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),Pd&&qa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=xc(),this.projectionDelta=xc(),this.projectionDeltaWithTransform=xc()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=xc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=rn(),g=l?l.source:void 0,w=this.layout?this.layout.source:void 0,v=g!==w,_=this.getStack(),x=!_||_.members.length<=1,y=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(vee));this.animationProgress=0;let b;this.mixTargetDelta=A=>{const P=A/1e3;e1(h.x,o.x,P),e1(h.y,o.y,P),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Yd(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gee(this.relativeTarget,this.relativeTargetOrigin,p,P),b&&QZ(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=rn()),as(b,this.relativeTarget)),v&&(this.animationValues=u,zZ(u,c,this.latestValues,P,y,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ro(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wt.update(()=>{Pm.hasAnimatedSinceResize=!0,this.currentAnimation=nee(0,XI,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(XI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&r2(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||rn();const h=Xr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=Xr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}as(a,l),Ec(a,u),Qd(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new YZ),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&c0("z",o,c,this.animationValues);for(let u=0;u<l0.length;u++)c0(`rotate${l0[u]}`,o,c,this.animationValues),c0(`skew${l0[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ree;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Nm(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Nm(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ha(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=XZ(this.projectionDeltaWithTransform,this.treeScale,p),u&&(c.transform=u(p,c.transform));const{x:g,y:w}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${w.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in Og){if(p[v]===void 0)continue;const{correct:_,applyTo:x}=Og[v],y=c.transform==="none"?p[v]:_(p[v],h);if(x){const b=x.length;for(let A=0;A<b;A++)c[x[A]]=y}else c[v]=y}return this.options.layoutId&&(c.pointerEvents=h===this?Nm(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(JI),this.root.sharedNodes.clear()}}}function iee(t){t.updateLayout()}function oee(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?ls(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],g=Xr(p);p.min=r[h].min,p.max=p.min+g}):r2(i,n.layoutBox,r)&&ls(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],g=Xr(r[h]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const a=xc();Qd(a,r,n.layoutBox);const l=xc();o?Qd(l,t.applyTransform(s,!0),n.measuredBox):Qd(l,r,n.layoutBox);const c=!ZL(a);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:g}=h;if(p&&g){const w=rn();Yd(w,n.layoutBox,p.layoutBox);const v=rn();Yd(v,r,g.layoutBox),e2(w,v)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=w,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function aee(t){Pd&&qa.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function lee(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function cee(t){t.clearSnapshot()}function JI(t){t.clearMeasurements()}function uee(t){t.isLayoutDirty=!1}function dee(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ZI(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function hee(t){t.resolveTargetDelta()}function fee(t){t.calcProjection()}function pee(t){t.resetSkewAndRotation()}function mee(t){t.removeLeadSnapshot()}function e1(t,e,n){t.translate=Kt(e.translate,0,n),t.scale=Kt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function t1(t,e,n,r){t.min=Kt(e.min,n.min,r),t.max=Kt(e.max,n.max,r)}function gee(t,e,n,r){t1(t.x,e.x,n.x,r),t1(t.y,e.y,n.y,r)}function vee(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const yee={duration:.45,ease:[.4,0,.1,1]},n1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),r1=n1("applewebkit/")&&!n1("chrome/")?Math.round:ir;function s1(t){t.min=r1(t.min),t.max=r1(t.max)}function wee(t){s1(t.x),s1(t.y)}function r2(t,e,n){return t==="position"||t==="preserve-aspect"&&!xZ(QI(e),QI(n),.2)}function xee(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const _ee=n2({attachResizeListener:(t,e)=>Oi(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),u0={current:void 0},s2=n2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!u0.current){const t=new _ee({});t.mount(window),t.setOptions({layoutScroll:!0}),u0.current=t}return u0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Eee={pan:{Feature:jZ},drag:{Feature:OZ,ProjectionNode:s2,MeasureLayout:YL}};function i1(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",s=(i,o)=>{if(i.pointerType==="touch"||BL())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&wt.postRender(()=>l(i,o))};return Ki(t.current,n,s,{passive:!t.getProps()[r]})}class bee extends Pa{mount(){this.unmount=zi(i1(this.node,!0),i1(this.node,!1))}unmount(){}}class See extends Pa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zi(Oi(this.node.current,"focus",()=>this.onFocus()),Oi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const i2=(t,e)=>e?t===e?!0:i2(t,e.parentElement):!1;function d0(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,ay(n))}class Tee extends Pa{constructor(){super(...arguments),this.removeStartListeners=ir,this.removeEndListeners=ir,this.removeAccessibleListeners=ir,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Ki(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:h}=this.node.getProps(),p=!h&&!i2(this.node.current,a.target)?u:c;p&&wt.update(()=>p(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=Ki(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=zi(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||d0("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&wt.postRender(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=Oi(this.node.current,"keyup",o),d0("down",(a,l)=>{this.startPress(a,l)})},n=Oi(this.node.current,"keydown",e),r=()=>{this.isPressing&&d0("cancel",(i,o)=>this.cancelPress(i,o))},s=Oi(this.node.current,"blur",r);this.removeAccessibleListeners=zi(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&wt.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!BL()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&wt.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Ki(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Oi(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=zi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const o_=new WeakMap,h0=new WeakMap,Cee=t=>{const e=o_.get(t.target);e&&e(t)},Aee=t=>{t.forEach(Cee)};function Ree({root:t,...e}){const n=t||document;h0.has(n)||h0.set(n,{});const r=h0.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Aee,{root:t,...e})),r[s]}function Iee(t,e,n){const r=Ree(e);return o_.set(t,n),r.observe(t),()=>{o_.delete(t),r.unobserve(t)}}const Pee={some:0,all:1};class Nee extends Pa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Pee[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),p=c?u:h;p&&p(l)};return Iee(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Dee(e,n))&&this.startObserver()}unmount(){}}function Dee({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const kee={inView:{Feature:Nee},tap:{Feature:Tee},focus:{Feature:See},hover:{Feature:bee}},Mee={layout:{ProjectionNode:s2,MeasureLayout:YL}},lS=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),cy=m.createContext({}),cS=typeof window<"u",o2=cS?m.useLayoutEffect:m.useEffect,a2=m.createContext({strict:!1});let o1=!1;function Oee(t,e,n,r,s){var i;const{visualElement:o}=m.useContext(cy),a=m.useContext(a2),l=m.useContext(ly),c=m.useContext(lS).reducedMotion,u=m.useRef();r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const h=u.current,p=m.useContext(QL);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&Lee(u.current,n,s,p),m.useInsertionEffect(()=>{h&&h.update(n,l)});const g=n[NL],w=m.useRef(!!g&&!window.MotionHandoffIsComplete&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,g)));return o2(()=>{h&&(h.updateFeatures(),aS.render(h.render),w.current&&h.animationState&&h.animationState.animateChanges())}),m.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current=!1,o1||(o1=!0,queueMicrotask(jee)))}),h}function jee(){window.MotionHandoffIsComplete=!0}function Lee(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:l2(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&wc(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function l2(t){if(t)return t.options.allowProjection!==!1?t.projection:l2(t.parent)}function Vee(t,e,n){return m.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):wc(n)&&(n.current=r))},[e])}function uy(t){return Bh(t.animate)||Wb.some(e=>$h(t[e]))}function c2(t){return!!(uy(t)||t.variants)}function Fee(t,e){if(uy(t)){const{initial:n,animate:r}=t;return{initial:n===!1||$h(n)?n:void 0,animate:$h(r)?r:void 0}}return t.inherit!==!1?e:{}}function Uee(t){const{initial:e,animate:n}=Fee(t,m.useContext(cy));return m.useMemo(()=>({initial:e,animate:n}),[a1(e),a1(n)])}function a1(t){return Array.isArray(t)?t.join(" "):t}const l1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},du={};for(const t in l1)du[t]={isEnabled:e=>l1[t].some(n=>!!e[n])};function Bee(t){for(const e in t)du[e]={...du[e],...t[e]}}const $ee=Symbol.for("motionComponentSymbol");function zee({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&Bee(t);function i(a,l){let c;const u={...m.useContext(lS),...a,layoutId:Kee(a)},{isStatic:h}=u,p=Uee(a),g=r(a,h);if(!h&&cS){Wee();const w=Hee(u);c=w.MeasureLayout,p.visualElement=Oee(s,g,u,e,w.ProjectionNode)}return d.jsxs(cy.Provider,{value:p,children:[c&&p.visualElement?d.jsx(c,{visualElement:p.visualElement,...u}):null,n(s,a,Vee(g,p.visualElement,l),g,h,p.visualElement)]})}const o=m.forwardRef(i);return o[$ee]=s,o}function Kee({layoutId:t}){const e=m.useContext(oS).id;return e&&t!==void 0?e+"-"+t:t}function Wee(t,e){m.useContext(a2).strict}function Hee(t){const{drag:e,layout:n}=du;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const qee=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function uS(t){return typeof t!="string"||t.includes("-")?!1:!!(qee.indexOf(t)>-1||/[A-Z]/u.test(t))}function u2(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const d2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function h2(t,e,n,r){u2(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(d2.has(s)?s:oy(s),e.attrs[s])}function f2(t,{layout:e,layoutId:n}){return Ia.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Og[t]||t==="opacity")}function dS(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(sr(s[o])||e.style&&sr(e.style[o])||f2(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return n&&s&&typeof s.willChange=="string"&&(n.applyWillChange=!1),i}function p2(t,e,n){const r=dS(t,e,n);for(const s in t)if(sr(t[s])||sr(e[s])){const i=Uf.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function hS(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}function Gee({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:r},s,i,o,a){const l={latestValues:Yee(s,i,o,a?!1:t,e),renderState:n()};return r&&(l.mount=c=>r(s,c,l)),l}const m2=t=>(e,n)=>{const r=m.useContext(cy),s=m.useContext(ly),i=()=>Gee(t,e,r,s,n);return n?i():hS(i)};function Qee(t,e){const n=kL(e);n&&sy(t,n)}function c1(t,e,n){const r=Array.isArray(e)?e:[e];for(let s=0;s<r.length;s++){const i=zb(t,r[s]);if(i){const{transitionEnd:o,transition:a,...l}=i;n(l,o)}}}function Yee(t,e,n,r,s){var i;const o={},a=[],l=r&&((i=t.style)===null||i===void 0?void 0:i.willChange)===void 0,c=s(t,{});for(const _ in c)o[_]=Nm(c[_]);let{initial:u,animate:h}=t;const p=uy(t),g=c2(t);e&&g&&!p&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let w=n?n.initial===!1:!1;w=w||u===!1;const v=w?h:u;return v&&typeof v!="boolean"&&!Bh(v)&&c1(t,v,(_,x)=>{for(const y in _){let b=_[y];if(Array.isArray(b)){const A=w?b.length-1:0;b=b[A]}b!==null&&(o[y]=b)}for(const y in x)o[y]=x[y]}),l&&(h&&u!==!1&&!Bh(h)&&c1(t,h,_=>{for(const x in _)Qee(a,x)}),a.length&&(o.willChange=a.join(","))),o}const fS=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),g2=()=>({...fS(),attrs:{}}),v2=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Xee={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Jee=Uf.length;function Zee(t,e,n){let r="",s=!0;for(let i=0;i<Jee;i++){const o=Uf[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=v2(a,Xb[o]);if(!l){s=!1;const u=Xee[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function pS(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Ia.has(l)){o=!0;continue}else if(eL(l)){s[l]=c;continue}else{const u=v2(c,Xb[l]);l.startsWith("origin")?(a=!0,i[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=Zee(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;r.transformOrigin=`${l} ${c} ${u}`}}function u1(t,e,n){return typeof t=="string"?t:De.transform(e+n*t)}function ete(t,e,n){const r=u1(e,t.x,t.width),s=u1(n,t.y,t.height);return`${r} ${s}`}const tte={offset:"stroke-dashoffset",array:"stroke-dasharray"},nte={offset:"strokeDashoffset",array:"strokeDasharray"};function rte(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?tte:nte;t[i.offset]=De.transform(-r);const o=De.transform(e),a=De.transform(n);t[i.array]=`${o} ${a}`}function mS(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,h){if(pS(t,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g,dimensions:w}=t;p.transform&&(w&&(g.transform=p.transform),delete p.transform),w&&(s!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=ete(w,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&rte(p,o,a,l,!1)}const gS=t=>typeof t=="string"&&t.toLowerCase()==="svg",ste={useVisualState:m2({scrapeMotionValuesFromProps:p2,createRenderState:g2,onMount:(t,e,{renderState:n,latestValues:r})=>{wt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),wt.render(()=>{mS(n,r,gS(e.tagName),t.transformTemplate),h2(e,n)})}})},ite={useVisualState:m2({applyWillChange:!0,scrapeMotionValuesFromProps:dS,createRenderState:fS})};function y2(t,e,n){for(const r in e)!sr(e[r])&&!f2(r,n)&&(t[r]=e[r])}function ote({transformTemplate:t},e){return m.useMemo(()=>{const n=fS();return pS(n,e,t),Object.assign({},n.vars,n.style)},[e])}function ate(t,e){const n=t.style||{},r={};return y2(r,n,t),Object.assign(r,ote(t,e)),r}function lte(t,e){const n={},r=ate(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const cte=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||cte.has(t)}let w2=t=>!jg(t);function ute(t){t&&(w2=e=>e.startsWith("on")?!jg(e):t(e))}try{ute(require("@emotion/is-prop-valid").default)}catch{}function dte(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(w2(s)||n===!0&&jg(s)||!e&&!jg(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function hte(t,e,n,r){const s=m.useMemo(()=>{const i=g2();return mS(i,e,gS(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};y2(i,t.style,t),s.style={...i,...s.style}}return s}function fte(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(uS(n)?hte:lte)(r,i,o,n),c=dte(r,typeof n=="string",t),u=n!==m.Fragment?{...c,...l,ref:s}:{},{children:h}=r,p=m.useMemo(()=>sr(h)?h.get():h,[h]);return m.createElement(n,{...u,children:p})}}function pte(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...uS(r)?ste:ite,preloadedFeatures:t,useRender:fte(s),createVisualElement:e,Component:r};return zee(o)}}const a_={current:null},x2={current:!1};function mte(){if(x2.current=!0,!!cS)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>a_.current=t.matches;t.addListener(e),e()}else a_.current=!1}function gte(t,e,n){for(const r in e){const s=e[r],i=n[r];if(sr(s))t.addValue(r,s);else if(sr(i))t.addValue(r,Wh(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Wh(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const d1=new WeakMap,vte=[...rL,er,va],yte=t=>vte.find(nL(t)),h1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class wte{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Qb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=ci.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,wt.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=uy(n),this.isVariantNode=c2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const g=h[p];l[p]!==void 0&&sr(g)&&g.set(l[p],!1)}}mount(e){this.current=e,d1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),x2.current||mte(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:a_.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){d1.delete(this.current),this.projection&&this.projection.unmount(),ro(this.notifyUpdate),ro(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ia.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&wt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in du){const n=du[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<h1.length;r++){const s=h1[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=gte(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Wh(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Jj(s)||Xj(s))?s=parseFloat(s):!yte(s)&&va.test(n)&&(s=dL(e,n)),this.setBaseTarget(e,sr(s)?s.get():s)),sr(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=zb(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!sr(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new iS),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class _2 extends wte{constructor(){super(...arguments),this.KeyframeResolver=hL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function xte(t){return window.getComputedStyle(t)}class _te extends _2{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=u2}readValueFromInstance(e,n){if(Ia.has(n)){const r=Jb(n);return r&&r.default||0}else{const r=xte(e),s=(eL(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return qL(e,n)}build(e,n,r){pS(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return dS(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;sr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Ete extends _2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ia.has(n)){const r=Jb(n);return r&&r.default||0}return n=d2.has(n)?n:oy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return p2(e,n,r)}build(e,n,r){mS(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){h2(e,n,r,s)}mount(e){this.isSVGTag=gS(e.tagName),super.mount(e)}}const bte=(t,e)=>uS(t)?new Ete(e):new _te(e,{allowProjection:t!==m.Fragment}),Ste=pte({...dZ,...kee,...Eee,...Mee},bte),Tte=iX(Ste);class Cte extends m.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Ate({children:t,isPresent:e}){const n=m.useId(),r=m.useRef(null),s=m.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=m.useContext(lS);return m.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=s.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return i&&(u.nonce=i),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),d.jsx(Cte,{isPresent:e,childRef:r,sizeRef:s,children:m.cloneElement(t,{ref:r})})}const Rte=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=hS(Ite),l=m.useId(),c=m.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:u=>{a.set(u,!0);for(const h of a.values())if(!h)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),i?[Math.random()]:[n]);return m.useMemo(()=>{a.forEach((u,h)=>a.set(h,!1))},[n]),m.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=d.jsx(Ate,{isPresent:n,children:t})),d.jsx(ly.Provider,{value:c,children:t})};function Ite(){return new Map}const Gp=t=>t.key||"";function f1(t){const e=[];return m.Children.forEach(t,n=>{m.isValidElement(n)&&e.push(n)}),e}const Pte=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=m.useMemo(()=>f1(t),[t]),l=a.map(Gp),c=m.useRef(!0),u=m.useRef(a),h=hS(()=>new Map),[p,g]=m.useState(a),[w,v]=m.useState(a);o2(()=>{c.current=!1,u.current=a;for(let y=0;y<w.length;y++){const b=Gp(w[y]);l.includes(b)?h.delete(b):h.get(b)!==!0&&h.set(b,!1)}},[w,l.length,l.join("-")]);const _=[];if(a!==p){let y=[...a];for(let b=0;b<w.length;b++){const A=w[b],P=Gp(A);l.includes(P)||(y.splice(b,0,A),_.push(A))}o==="wait"&&_.length&&(y=_),v(f1(y)),g(a);return}const{forceRender:x}=m.useContext(oS);return d.jsx(d.Fragment,{children:w.map(y=>{const b=Gp(y),A=a===w||l.includes(b),P=()=>{if(h.has(b))h.set(b,!0);else return;let O=!0;h.forEach(T=>{T||(O=!1)}),O&&(x==null||x(),v(u.current),s&&s())};return d.jsx(Rte,{isPresent:A,initial:!c.current||r?void 0:!1,custom:A?void 0:n,presenceAffectsLayout:i,mode:o,onExitComplete:A?void 0:P,children:y},b)})})},Nte=({messageHistory:t,endOfMessagesRef:e,handleMessageClick:n})=>d.jsxs("div",{className:"flex-1 py-4 overflow-y-auto",children:[d.jsx(Pte,{children:d.jsx(Lu,{items:t,renderItem:r=>d.jsx(Tte.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`mb-4 ${r.sender==="user"?"text-right":"text-left"}`,children:d.jsx(sX,{message:r,onItemClick:n})},r.uuid),listStyle:"px-4 flex flex-col space-y-4"})}),d.jsx("div",{ref:e})]}),Dte=()=>{const{messageHistory:t,clearMessageHistory:e,handleSubmitMessage:n,endOfMessagesRef:r,selectedResponse:s,setSelectedResponse:i,isInfoPanelOpen:o,setIsInfoPanelOpen:a}=WY();return d.jsxs("div",{className:"flex flex-col w-full max-w-4xl h-[44rem] border border-neutral-200 bg-white rounded-md",children:[d.jsxs("header",{className:"w-full h-[4rem] text-xl font-medium flex items-center justify-between px-4 border-b border-customBorderColor",children:["Admin Chat Interface",d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs(tt,{size:"sm",variant:"outline",className:"space-x-1 rounded-md",onClick:e,children:[d.jsx(Nu,{className:"size-4 text-zinc-500"}),d.jsx("p",{className:"text-sm text-zinc-500",children:"Clear Chat"})]}),d.jsx("button",{onClick:()=>a(l=>!l),children:d.jsx("div",{className:"text-zinc-500 p-1.5 rounded-md hover:bg-zinc-100",children:d.jsx(oq,{})})})]})]}),d.jsxs("div",{className:"flex-1 flex overflow-y-auto",children:[d.jsxs("section",{className:"flex-1 flex flex-col",children:[d.jsx(Nte,{messageHistory:t,endOfMessagesRef:r,handleMessageClick:i}),d.jsx(eX,{onSendMessage:n})]}),d.jsx(ZY,{showPanel:o,responseData:s})]})]})},kte=()=>d.jsxs("div",{className:"flex items-center flex-col w-[84rem] px-20 space-y-6 pb-8",children:[d.jsx($Y,{headerText:"Chatbot"}),d.jsx(Dte,{})]}),Mte=()=>d.jsx("header",{className:"py-4 text-3xl font-semibold w-full",children:"Knowledge"});function Ote(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var $l=t=>{const{present:e,children:n}=t,r=jte(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ke(r.ref,Lte(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};$l.displayName="Presence";function jte(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Ote(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Qp(r.current);i.current=a==="mounted"?c:"none"},[a]),Pt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=Qp(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Pt(()=>{if(e){const c=h=>{const g=Qp(r.current).includes(h.animationName);h.target===e&&g&&Ar.flushSync(()=>l("ANIMATION_END"))},u=h=>{h.target===e&&(i.current=Qp(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Qp(t){return(t==null?void 0:t.animationName)||"none"}function Lte(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var vS="Tabs",[Vte,ege]=Fl(vS,[Gv]),E2=Gv(),[Fte,yS]=Vte(vS),b2=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=If(a),[h,p]=ua({prop:r,onChange:s,defaultProp:i});return d.jsx(Fte,{scope:n,baseId:Us(),value:h,onValueChange:p,orientation:o,dir:u,activationMode:l,children:d.jsx(ve.div,{dir:u,"data-orientation":o,...c,ref:e})})});b2.displayName=vS;var S2="TabsList",T2=m.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=yS(S2,n),o=E2(n);return d.jsx(DO,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:d.jsx(ve.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});T2.displayName=S2;var C2="TabsTrigger",A2=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=yS(C2,n),a=E2(n),l=I2(o.baseId,r),c=P2(o.baseId,r),u=r===o.value;return d.jsx(kO,{asChild:!0,...a,focusable:!s,active:u,children:d.jsx(ve.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:Z(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:Z(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:Z(t.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!s&&h&&o.onValueChange(r)})})})});A2.displayName=C2;var R2="TabsContent",dy=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=yS(R2,n),l=I2(a.baseId,r),c=P2(a.baseId,r),u=r===a.value,h=m.useRef(u);return m.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),d.jsx($l,{present:s||u,children:({present:p})=>d.jsx(ve.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:p&&i})})});dy.displayName=R2;function I2(t,e){return`${t}-trigger-${e}`}function P2(t,e){return`${t}-content-${e}`}var Ute=b2,N2=T2,D2=A2,k2=dy;const M2=Ute,wS=m.forwardRef(({className:t,...e},n)=>d.jsx(N2,{ref:n,className:ue("inline-flex min-h-10 items-center justify-center rounded-tl-md rounded-tr-md bg-muted text-muted-foreground",t),...e}));wS.displayName=N2.displayName;const Lg=m.forwardRef(({className:t,...e},n)=>d.jsx(D2,{ref:n,className:ue("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-2 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Lg.displayName=D2.displayName;const O2=m.forwardRef(({className:t,...e},n)=>d.jsx(k2,{ref:n,className:ue("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));O2.displayName=k2.displayName;const Bte=[{tabValue:"knowledgeBase",tabName:"Knowledge Base"},{tabValue:"knowledgeEntry",tabName:"Knowledge Entry"},{tabValue:"entryDetails",tabName:"Entry Details"}],$te={knowledgeBase:XM,knowledgeEntry:K8,entryDetails:ZM},zte=({tabs:t})=>d.jsx(wS,{className:"grid w-full grid-cols-3 bg-heading px-4 py-3",children:t.map(({tabName:e,tabValue:n})=>{const r=$te[n];return d.jsxs(Lg,{value:n,className:"data-[state=active]:bg-primary data-[state=active]:text-white",children:[d.jsx(r,{className:"size-5 mr-2"}),d.jsx("p",{className:"hidden md:block",children:e})]},e)})});var Kte="DismissableLayer",l_="dismissableLayer.update",Wte="dismissableLayer.pointerDownOutside",Hte="dismissableLayer.focusOutside",p1,j2=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),L2=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(j2),[u,h]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,T=>h(T)),v=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(_),y=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,A=y>=x,P=Qte(T=>{const E=T.target,I=[...c.branches].some(R=>R.contains(E));!A||I||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},p),O=Yte(T=>{const E=T.target;[...c.branches].some(R=>R.contains(E))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},p);return Pf(T=>{y===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(p1=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),m1(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=p1)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),m1())},[u,c]),m.useEffect(()=>{const T=()=>g({});return document.addEventListener(l_,T),()=>document.removeEventListener(l_,T)},[]),d.jsx(ve.div,{...l,ref:w,style:{pointerEvents:b?A?"auto":"none":void 0,...t.style},onFocusCapture:Z(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Z(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Z(t.onPointerDownCapture,P.onPointerDownCapture)})});L2.displayName=Kte;var qte="DismissableLayerBranch",Gte=m.forwardRef((t,e)=>{const n=m.useContext(j2),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(ve.div,{...t,ref:s})});Gte.displayName=qte;function Qte(t,e=globalThis==null?void 0:globalThis.document){const n=ft(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){V2(Wte,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Yte(t,e=globalThis==null?void 0:globalThis.document){const n=ft(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&V2(Hte,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function m1(){const t=new CustomEvent(l_);document.dispatchEvent(t)}function V2(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Vl(s,i):s.dispatchEvent(i)}var Xte="VisuallyHidden",Kf=m.forwardRef((t,e)=>d.jsx(ve.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Kf.displayName=Xte;var Jte=Kf,[hy,tge]=Fl("Tooltip",[Mu]),fy=Mu(),F2="TooltipProvider",Zte=700,c_="tooltip.open",[ene,xS]=hy(F2),U2=t=>{const{__scopeTooltip:e,delayDuration:n=Zte,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=m.useState(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),d.jsx(ene,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};U2.displayName=F2;var py="Tooltip",[tne,my]=hy(py),B2=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=xS(py,t.__scopeTooltip),c=fy(e),[u,h]=m.useState(null),p=Us(),g=m.useRef(0),w=o??l.disableHoverableContent,v=a??l.delayDuration,_=m.useRef(!1),[x=!1,y]=ua({prop:r,defaultProp:s,onChange:T=>{T?(l.onOpen(),document.dispatchEvent(new CustomEvent(c_))):l.onClose(),i==null||i(T)}}),b=m.useMemo(()=>x?_.current?"delayed-open":"instant-open":"closed",[x]),A=m.useCallback(()=>{window.clearTimeout(g.current),_.current=!1,y(!0)},[y]),P=m.useCallback(()=>{window.clearTimeout(g.current),y(!1)},[y]),O=m.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{_.current=!0,y(!0)},v)},[v,y]);return m.useEffect(()=>()=>window.clearTimeout(g.current),[]),d.jsx(Sb,{...c,children:d.jsx(tne,{scope:e,contentId:p,open:x,stateAttribute:b,trigger:u,onTriggerChange:h,onTriggerEnter:m.useCallback(()=>{l.isOpenDelayed?O():A()},[l.isOpenDelayed,O,A]),onTriggerLeave:m.useCallback(()=>{w?P():window.clearTimeout(g.current)},[P,w]),onOpen:A,onClose:P,disableHoverableContent:w,children:n})})};B2.displayName=py;var u_="TooltipTrigger",$2=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=my(u_,n),i=xS(u_,n),o=fy(n),a=m.useRef(null),l=ke(e,a,s.onTriggerChange),c=m.useRef(!1),u=m.useRef(!1),h=m.useCallback(()=>c.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),d.jsx(Tb,{asChild:!0,...o,children:d.jsx(ve.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Z(t.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:Z(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:Z(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Z(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:Z(t.onBlur,s.onClose),onClick:Z(t.onClick,s.onClose)})})});$2.displayName=u_;var nne="TooltipPortal",[nge,rne]=hy(nne,{forceMount:void 0}),hu="TooltipContent",z2=m.forwardRef((t,e)=>{const n=rne(hu,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=my(hu,t.__scopeTooltip);return d.jsx($l,{present:r||o.open,children:o.disableHoverableContent?d.jsx(K2,{side:s,...i,ref:e}):d.jsx(sne,{side:s,...i,ref:e})})}),sne=m.forwardRef((t,e)=>{const n=my(hu,t.__scopeTooltip),r=xS(hu,t.__scopeTooltip),s=m.useRef(null),i=ke(e,s),[o,a]=m.useState(null),{trigger:l,onClose:c}=n,u=s.current,{onPointerInTransitChange:h}=r,p=m.useCallback(()=>{a(null),h(!1)},[h]),g=m.useCallback((w,v)=>{const _=w.currentTarget,x={x:w.clientX,y:w.clientY},y=lne(x,_.getBoundingClientRect()),b=cne(x,y),A=une(v.getBoundingClientRect()),P=hne([...b,...A]);a(P),h(!0)},[h]);return m.useEffect(()=>()=>p(),[p]),m.useEffect(()=>{if(l&&u){const w=_=>g(_,u),v=_=>g(_,l);return l.addEventListener("pointerleave",w),u.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",w),u.removeEventListener("pointerleave",v)}}},[l,u,g,p]),m.useEffect(()=>{if(o){const w=v=>{const _=v.target,x={x:v.clientX,y:v.clientY},y=(l==null?void 0:l.contains(_))||(u==null?void 0:u.contains(_)),b=!dne(x,o);y?p():b&&(p(),c())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,u,o,c,p]),d.jsx(K2,{...t,ref:i})}),[ine,one]=hy(py,{isInside:!1}),K2=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=my(hu,n),c=fy(n),{onClose:u}=l;return m.useEffect(()=>(document.addEventListener(c_,u),()=>document.removeEventListener(c_,u)),[u]),m.useEffect(()=>{if(l.trigger){const h=p=>{const g=p.target;g!=null&&g.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),d.jsx(L2,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:d.jsxs(Cb,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(pb,{children:r}),d.jsx(ine,{scope:n,isInside:!0,children:d.jsx(Jte,{id:l.contentId,role:"tooltip",children:s||r})})]})})});z2.displayName=hu;var W2="TooltipArrow",ane=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=fy(n);return one(W2,n).isInside?null:d.jsx(Ab,{...s,...r,ref:e})});ane.displayName=W2;function lne(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function cne(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function une(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function dne(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function hne(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),fne(e)}function fne(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var pne=U2,mne=B2,gne=$2,H2=z2;const vne=pne,yne=mne,wne=gne,q2=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(H2,{ref:r,sideOffset:e,className:ue("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));q2.displayName=H2.displayName;const gy=({tooltip:t,children:e})=>d.jsx(vne,{children:d.jsxs(yne,{children:[d.jsx(wne,{asChild:!0,children:e}),d.jsx(q2,{className:"max-w-xs",children:d.jsx("p",{className:"text-zinc-800",children:t})})]})}),xne={entry:"ENTRY",base:"BASE"},_ne="Must be a unique text that represents the action or goal of the entry.",Ene="Sample queries to help the bot understand intent.",bne="The bot's reply to the user's query.",qo={passwordIncorrect:"Admin password is incorrect",passwordSameAsOld:"New password must be different from the old one"},Sne=8,Tne=5,G2=5,Q2=15,gt=ao((t,e)=>({formData:{knowledgeBaseName:"",intent:"",documents:[""],answer:"",fileUrl:"",file:null},formDataErrors:{},setFormData:(n,r)=>{t(s=>({formData:{...s.formData,[n]:r}}))},setFile:n=>{t(r=>({formData:{...r.formData,file:n}}))},setFormDataErrors:n=>{t({formDataErrors:n})},setDocuments:(n,r)=>{const s=e().formData.documents;s[r]=n,t(i=>({formData:{...i.formData,documents:s}}))},addDocument:()=>{e().formData.documents.length>=Sne||t(n=>({formData:{...n.formData,documents:[...n.formData.documents,""]}}))},removeDocument:n=>{const r=e().formData.documents;if(r.length===1)throw new Error("Documents cannot be empty");r.splice(n,1),t(s=>({formData:{...s.formData,documents:r}}))},clearFormData:()=>{t(()=>({formData:{knowledgeBaseName:"",intent:"",documents:[""],answer:"",fileUrl:"",file:null},formDataErrors:{knowledgeBaseName:"",intent:"",documents:"",answer:""}}))}})),Cne=()=>{const{intent:t}=gt(r=>r.formData),e=gt(r=>r.setFormData),n=pt(r=>r.admin);return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-fit",children:d.jsx(gy,{tooltip:_ne,children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("label",{htmlFor:"intent",className:"cursor-pointer font-medium ",children:"Intent"}),d.jsx(Fv,{className:"size-4 text-[#64748b] cursor-pointer"})]})})}),d.jsx(un,{id:"intent",placeholder:"Enter intent",value:t,className:"mt-1",readOnly:(n==null?void 0:n.role)==="viewer",onChange:r=>e("intent",r.target.value)})]})},an=m.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ue("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));an.displayName="Card";const Mn=m.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ue("flex flex-col space-y-1.5 p-6",t),...e}));Mn.displayName="CardHeader";const On=m.forwardRef(({className:t,...e},n)=>d.jsx("h3",{ref:n,className:ue("text-2xl font-semibold leading-none tracking-tight",t),...e}));On.displayName="CardTitle";const vi=m.forwardRef(({className:t,...e},n)=>d.jsx("p",{ref:n,className:ue("text-sm text-muted-foreground",t),...e}));vi.displayName="CardDescription";const mn=m.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ue("p-6 pt-0",t),...e}));mn.displayName="CardContent";const Y2=m.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ue("flex items-center p-6 pt-0",t),...e}));Y2.displayName="CardFooter";const Ane=()=>{var o;const t=gt(a=>a.formData),e=gt(a=>a.setDocuments),n=gt(a=>a.addDocument),r=gt(a=>a.removeDocument),s=pt(a=>a.admin),i=async a=>{try{if(!t.intent)return;if(t.documents.length===1)return window.alert("Documents cannot be empty");r(a)}catch(l){console.error(l)}};return d.jsxs("div",{children:[d.jsx("div",{className:"w-fit",children:d.jsx(gy,{tooltip:Ene,children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("label",{className:"cursor-pointer font-medium ",children:"Document"}),d.jsx(Fv,{className:"size-4 text-[#64748b] cursor-pointer"})]})})}),d.jsx("div",{className:"space-y-2 mt-1",children:(o=t.documents)==null?void 0:o.map((a,l)=>d.jsx(an,{className:"w-full hover:bg-lightGray transition-colors",children:d.jsxs(mn,{className:"p-4 w-full flex items-center justify-between-",children:[d.jsx("div",{className:"flex w-full items-center space-x-4",children:d.jsx("input",{value:a,id:"document",className:"text-sm bg-transparent outline-none w-full py-2",placeholder:"Enter document",readOnly:(s==null?void 0:s.role)==="viewer",onChange:c=>e(c.target.value,l)})}),d.jsx("div",{className:"flex space-x-2",children:(s==null?void 0:s.role)!=="viewer"&&d.jsxs(tt,{variant:"ghost",size:"icon",className:"hover:bg-transparent",onClick:async()=>{await i(l)},children:[d.jsx(Nu,{className:"size-5 font-bold hover:text-red-600 ease-in",strokeWidth:2}),d.jsx("span",{className:"sr-only",children:"Delete"})]})})]})},l))}),(s==null?void 0:s.role)!=="viewer"&&d.jsxs(tt,{variant:"outline",size:"sm",className:"mt-2",onClick:n,disabled:!t.intent,children:[d.jsx(Pu,{className:"w-4 h-4 mr-2"})," Add Document"]})]})},X2=m.forwardRef(({className:t,...e},n)=>d.jsx("textarea",{className:ue("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));X2.displayName="Textarea";const Rne=".png,.jpg,.mp4,.pdf",Ine=({fileRef:t,changeFile:e})=>d.jsxs("div",{children:[d.jsx(un,{id:"file-upload",type:"file",className:"hidden",ref:t,accept:Rne,onChange:e}),d.jsx(tt,{variant:"ghost",size:"icon",className:"size-8 rounded-full hover:bg-neutral-100 p-1.5",onClick:()=>{var n;return(n=t.current)==null?void 0:n.click()},children:d.jsx(eO,{className:"size-4"})})]});var Pne="Label",J2=m.forwardRef((t,e)=>d.jsx(ve.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));J2.displayName=Pne;var Z2=J2;const Nne=Lf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Cn=m.forwardRef(({className:t,...e},n)=>d.jsx(Z2,{ref:n,className:ue(Nne(),t),...e}));Cn.displayName=Z2.displayName;const Dne=({isLinkDropdownOpen:t,setIsLinkDropdownOpen:e,onInsertLink:n})=>{const[r,s]=m.useState(""),[i,o]=m.useState(""),a=()=>{e(!1),n(r,i),s(""),o("")};return d.jsxs(Of,{open:t,onOpenChange:e,children:[d.jsx(jf,{asChild:!0,children:d.jsx(tt,{variant:"ghost",size:"icon",className:"size-8 rounded-full hover:bg-neutral-100 p-1.5",onClick:()=>e(!0),children:d.jsx(Z8,{className:"size-4"})})}),d.jsx(ju,{side:"top",className:"w-56",children:d.jsxs("form",{onSubmit:l=>{l.preventDefault(),a()},className:"flex flex-col p-4 space-y-4",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx(Cn,{htmlFor:"link-url",className:"mb-1",children:"URL"}),d.jsx(un,{id:"link-url",value:r,onChange:l=>s(l.target.value),className:"col-span-3",placeholder:"Enter link URL",required:!0})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx(Cn,{htmlFor:"link-text",className:"mb-1",children:"Text"}),d.jsx(un,{id:"link-text",value:i,onChange:l=>o(l.target.value),className:"col-span-3",placeholder:"Enter link Text",required:!0})]}),d.jsx(tt,{type:"submit",children:"Insert Link"})]})})]})},eV=({answer:t,handleTextChange:e,onFileChange:n,fileRef:r,textAreaRef:s,isError:i,isLinkDropDownVisible:o,setIsLinkDropDownVisible:a,onInsertLink:l,tabIndex:c})=>{const u=pt(p=>p.admin),h=p=>{const g=p.target;g.style.height="auto",g.style.height=`${g.scrollHeight}px`,e("answer",g.value)};return m.useEffect(()=>{s.current&&(s.current.style.height="auto",s.current.style.height=`${s.current.scrollHeight}px`)},[s,t]),d.jsxs("div",{className:"relative mb-4 ",children:[d.jsx(X2,{spellCheck:!1,name:"answer",ref:s,placeholder:"Enter the answer",className:ue("min-h-[100px] pb-12 overflow-hidden resize-none outline-none focus:outline-none",i&&"border-destructive"),readOnly:(u==null?void 0:u.role)==="viewer",value:t,onChange:h,tabIndex:c??0}),(u==null?void 0:u.role)!=="viewer"&&d.jsxs("div",{className:"absolute bottom-2 left-2 flex space-x-2",children:[d.jsx(Dne,{isLinkDropdownOpen:o,setIsLinkDropdownOpen:a,onInsertLink:l}),d.jsx(Ine,{fileRef:r,changeFile:n})]})]})},tV=({file:t,removeFile:e})=>{const n=pt(r=>r.admin);return d.jsx("div",{className:"mt-4 p-4 border rounded-md bg-muted",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-2 py-2 overflow-hidden",children:[d.jsx(eO,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("div",{className:"font-medium truncate max-w-[250px]",children:t.name}),d.jsxs("div",{className:"text-sm text-center text-muted-foreground w-20",children:["(",LY(t.size),")"]})]}),(n==null?void 0:n.role)!=="viewer"&&d.jsx(tt,{variant:"ghost",size:"icon",onClick:e,className:"h-8 w-8 min-w-8",children:d.jsx(Uv,{className:"h-4 w-4"})})]})})};function Ce({className:t,...e}){return d.jsx("div",{className:ue("animate-pulse rounded-md bg-muted",t),...e})}var kne="firebase",Mne="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dr(kne,Mne,"app");var g1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ml,nV;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,E){function I(){}I.prototype=E.prototype,T.D=E.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(R,k,M){for(var N=Array(arguments.length-2),W=2;W<arguments.length;W++)N[W-2]=arguments[W];return E.prototype[k].apply(R,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,E,I){I||(I=0);var R=Array(16);if(typeof E=="string")for(var k=0;16>k;++k)R[k]=E.charCodeAt(I++)|E.charCodeAt(I++)<<8|E.charCodeAt(I++)<<16|E.charCodeAt(I++)<<24;else for(k=0;16>k;++k)R[k]=E[I++]|E[I++]<<8|E[I++]<<16|E[I++]<<24;E=T.g[0],I=T.g[1],k=T.g[2];var M=T.g[3],N=E+(M^I&(k^M))+R[0]+3614090360&4294967295;E=I+(N<<7&4294967295|N>>>25),N=M+(k^E&(I^k))+R[1]+3905402710&4294967295,M=E+(N<<12&4294967295|N>>>20),N=k+(I^M&(E^I))+R[2]+606105819&4294967295,k=M+(N<<17&4294967295|N>>>15),N=I+(E^k&(M^E))+R[3]+3250441966&4294967295,I=k+(N<<22&4294967295|N>>>10),N=E+(M^I&(k^M))+R[4]+4118548399&4294967295,E=I+(N<<7&4294967295|N>>>25),N=M+(k^E&(I^k))+R[5]+1200080426&4294967295,M=E+(N<<12&4294967295|N>>>20),N=k+(I^M&(E^I))+R[6]+2821735955&4294967295,k=M+(N<<17&4294967295|N>>>15),N=I+(E^k&(M^E))+R[7]+4249261313&4294967295,I=k+(N<<22&4294967295|N>>>10),N=E+(M^I&(k^M))+R[8]+1770035416&4294967295,E=I+(N<<7&4294967295|N>>>25),N=M+(k^E&(I^k))+R[9]+2336552879&4294967295,M=E+(N<<12&4294967295|N>>>20),N=k+(I^M&(E^I))+R[10]+4294925233&4294967295,k=M+(N<<17&4294967295|N>>>15),N=I+(E^k&(M^E))+R[11]+2304563134&4294967295,I=k+(N<<22&4294967295|N>>>10),N=E+(M^I&(k^M))+R[12]+1804603682&4294967295,E=I+(N<<7&4294967295|N>>>25),N=M+(k^E&(I^k))+R[13]+4254626195&4294967295,M=E+(N<<12&4294967295|N>>>20),N=k+(I^M&(E^I))+R[14]+2792965006&4294967295,k=M+(N<<17&4294967295|N>>>15),N=I+(E^k&(M^E))+R[15]+1236535329&4294967295,I=k+(N<<22&4294967295|N>>>10),N=E+(k^M&(I^k))+R[1]+4129170786&4294967295,E=I+(N<<5&4294967295|N>>>27),N=M+(I^k&(E^I))+R[6]+3225465664&4294967295,M=E+(N<<9&4294967295|N>>>23),N=k+(E^I&(M^E))+R[11]+643717713&4294967295,k=M+(N<<14&4294967295|N>>>18),N=I+(M^E&(k^M))+R[0]+3921069994&4294967295,I=k+(N<<20&4294967295|N>>>12),N=E+(k^M&(I^k))+R[5]+3593408605&4294967295,E=I+(N<<5&4294967295|N>>>27),N=M+(I^k&(E^I))+R[10]+38016083&4294967295,M=E+(N<<9&4294967295|N>>>23),N=k+(E^I&(M^E))+R[15]+3634488961&4294967295,k=M+(N<<14&4294967295|N>>>18),N=I+(M^E&(k^M))+R[4]+3889429448&4294967295,I=k+(N<<20&4294967295|N>>>12),N=E+(k^M&(I^k))+R[9]+568446438&4294967295,E=I+(N<<5&4294967295|N>>>27),N=M+(I^k&(E^I))+R[14]+3275163606&4294967295,M=E+(N<<9&4294967295|N>>>23),N=k+(E^I&(M^E))+R[3]+4107603335&4294967295,k=M+(N<<14&4294967295|N>>>18),N=I+(M^E&(k^M))+R[8]+1163531501&4294967295,I=k+(N<<20&4294967295|N>>>12),N=E+(k^M&(I^k))+R[13]+2850285829&4294967295,E=I+(N<<5&4294967295|N>>>27),N=M+(I^k&(E^I))+R[2]+4243563512&4294967295,M=E+(N<<9&4294967295|N>>>23),N=k+(E^I&(M^E))+R[7]+1735328473&4294967295,k=M+(N<<14&4294967295|N>>>18),N=I+(M^E&(k^M))+R[12]+2368359562&4294967295,I=k+(N<<20&4294967295|N>>>12),N=E+(I^k^M)+R[5]+4294588738&4294967295,E=I+(N<<4&4294967295|N>>>28),N=M+(E^I^k)+R[8]+2272392833&4294967295,M=E+(N<<11&4294967295|N>>>21),N=k+(M^E^I)+R[11]+1839030562&4294967295,k=M+(N<<16&4294967295|N>>>16),N=I+(k^M^E)+R[14]+4259657740&4294967295,I=k+(N<<23&4294967295|N>>>9),N=E+(I^k^M)+R[1]+2763975236&4294967295,E=I+(N<<4&4294967295|N>>>28),N=M+(E^I^k)+R[4]+1272893353&4294967295,M=E+(N<<11&4294967295|N>>>21),N=k+(M^E^I)+R[7]+4139469664&4294967295,k=M+(N<<16&4294967295|N>>>16),N=I+(k^M^E)+R[10]+3200236656&4294967295,I=k+(N<<23&4294967295|N>>>9),N=E+(I^k^M)+R[13]+681279174&4294967295,E=I+(N<<4&4294967295|N>>>28),N=M+(E^I^k)+R[0]+3936430074&4294967295,M=E+(N<<11&4294967295|N>>>21),N=k+(M^E^I)+R[3]+3572445317&4294967295,k=M+(N<<16&4294967295|N>>>16),N=I+(k^M^E)+R[6]+76029189&4294967295,I=k+(N<<23&4294967295|N>>>9),N=E+(I^k^M)+R[9]+3654602809&4294967295,E=I+(N<<4&4294967295|N>>>28),N=M+(E^I^k)+R[12]+3873151461&4294967295,M=E+(N<<11&4294967295|N>>>21),N=k+(M^E^I)+R[15]+530742520&4294967295,k=M+(N<<16&4294967295|N>>>16),N=I+(k^M^E)+R[2]+3299628645&4294967295,I=k+(N<<23&4294967295|N>>>9),N=E+(k^(I|~M))+R[0]+4096336452&4294967295,E=I+(N<<6&4294967295|N>>>26),N=M+(I^(E|~k))+R[7]+1126891415&4294967295,M=E+(N<<10&4294967295|N>>>22),N=k+(E^(M|~I))+R[14]+2878612391&4294967295,k=M+(N<<15&4294967295|N>>>17),N=I+(M^(k|~E))+R[5]+4237533241&4294967295,I=k+(N<<21&4294967295|N>>>11),N=E+(k^(I|~M))+R[12]+1700485571&4294967295,E=I+(N<<6&4294967295|N>>>26),N=M+(I^(E|~k))+R[3]+2399980690&4294967295,M=E+(N<<10&4294967295|N>>>22),N=k+(E^(M|~I))+R[10]+4293915773&4294967295,k=M+(N<<15&4294967295|N>>>17),N=I+(M^(k|~E))+R[1]+2240044497&4294967295,I=k+(N<<21&4294967295|N>>>11),N=E+(k^(I|~M))+R[8]+1873313359&4294967295,E=I+(N<<6&4294967295|N>>>26),N=M+(I^(E|~k))+R[15]+4264355552&4294967295,M=E+(N<<10&4294967295|N>>>22),N=k+(E^(M|~I))+R[6]+2734768916&4294967295,k=M+(N<<15&4294967295|N>>>17),N=I+(M^(k|~E))+R[13]+1309151649&4294967295,I=k+(N<<21&4294967295|N>>>11),N=E+(k^(I|~M))+R[4]+4149444226&4294967295,E=I+(N<<6&4294967295|N>>>26),N=M+(I^(E|~k))+R[11]+3174756917&4294967295,M=E+(N<<10&4294967295|N>>>22),N=k+(E^(M|~I))+R[2]+718787259&4294967295,k=M+(N<<15&4294967295|N>>>17),N=I+(M^(k|~E))+R[9]+3951481745&4294967295,T.g[0]=T.g[0]+E&4294967295,T.g[1]=T.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,T.g[2]=T.g[2]+k&4294967295,T.g[3]=T.g[3]+M&4294967295}r.prototype.u=function(T,E){E===void 0&&(E=T.length);for(var I=E-this.blockSize,R=this.B,k=this.h,M=0;M<E;){if(k==0)for(;M<=I;)s(this,T,M),M+=this.blockSize;if(typeof T=="string"){for(;M<E;)if(R[k++]=T.charCodeAt(M++),k==this.blockSize){s(this,R),k=0;break}}else for(;M<E;)if(R[k++]=T[M++],k==this.blockSize){s(this,R),k=0;break}}this.h=k,this.o+=E},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var E=1;E<T.length-8;++E)T[E]=0;var I=8*this.o;for(E=T.length-8;E<T.length;++E)T[E]=I&255,I/=256;for(this.u(T),T=Array(16),E=I=0;4>E;++E)for(var R=0;32>R;R+=8)T[I++]=this.g[E]>>>R&255;return T};function i(T,E){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=E(T)}function o(T,E){this.h=E;for(var I=[],R=!0,k=T.length-1;0<=k;k--){var M=T[k]|0;R&&M==E||(I[k]=M,R=!1)}this.g=I}var a={};function l(T){return-128<=T&&128>T?i(T,function(E){return new o([E|0],0>E?-1:0)}):new o([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return h;if(0>T)return _(c(-T));for(var E=[],I=1,R=0;T>=I;R++)E[R]=T/I|0,I*=4294967296;return new o(E,0)}function u(T,E){if(T.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(T.charAt(0)=="-")return _(u(T.substring(1),E));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(E,8)),R=h,k=0;k<T.length;k+=8){var M=Math.min(8,T.length-k),N=parseInt(T.substring(k,k+M),E);8>M?(M=c(Math.pow(E,M)),R=R.j(M).add(c(N))):(R=R.j(I),R=R.add(c(N)))}return R}var h=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-_(this).m();for(var T=0,E=1,I=0;I<this.g.length;I++){var R=this.i(I);T+=(0<=R?R:4294967296+R)*E,E*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(w(this))return"0";if(v(this))return"-"+_(this).toString(T);for(var E=c(Math.pow(T,6)),I=this,R="";;){var k=A(I,E).g;I=x(I,k.j(E));var M=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=k,w(I))return M+R;for(;6>M.length;)M="0"+M;R=M+R}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function w(T){if(T.h!=0)return!1;for(var E=0;E<T.g.length;E++)if(T.g[E]!=0)return!1;return!0}function v(T){return T.h==-1}t.l=function(T){return T=x(this,T),v(T)?-1:w(T)?0:1};function _(T){for(var E=T.g.length,I=[],R=0;R<E;R++)I[R]=~T.g[R];return new o(I,~T.h).add(p)}t.abs=function(){return v(this)?_(this):this},t.add=function(T){for(var E=Math.max(this.g.length,T.g.length),I=[],R=0,k=0;k<=E;k++){var M=R+(this.i(k)&65535)+(T.i(k)&65535),N=(M>>>16)+(this.i(k)>>>16)+(T.i(k)>>>16);R=N>>>16,M&=65535,N&=65535,I[k]=N<<16|M}return new o(I,I[I.length-1]&-2147483648?-1:0)};function x(T,E){return T.add(_(E))}t.j=function(T){if(w(this)||w(T))return h;if(v(this))return v(T)?_(this).j(_(T)):_(_(this).j(T));if(v(T))return _(this.j(_(T)));if(0>this.l(g)&&0>T.l(g))return c(this.m()*T.m());for(var E=this.g.length+T.g.length,I=[],R=0;R<2*E;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var k=0;k<T.g.length;k++){var M=this.i(R)>>>16,N=this.i(R)&65535,W=T.i(k)>>>16,se=T.i(k)&65535;I[2*R+2*k]+=N*se,y(I,2*R+2*k),I[2*R+2*k+1]+=M*se,y(I,2*R+2*k+1),I[2*R+2*k+1]+=N*W,y(I,2*R+2*k+1),I[2*R+2*k+2]+=M*W,y(I,2*R+2*k+2)}for(R=0;R<E;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=E;R<2*E;R++)I[R]=0;return new o(I,0)};function y(T,E){for(;(T[E]&65535)!=T[E];)T[E+1]+=T[E]>>>16,T[E]&=65535,E++}function b(T,E){this.g=T,this.h=E}function A(T,E){if(w(E))throw Error("division by zero");if(w(T))return new b(h,h);if(v(T))return E=A(_(T),E),new b(_(E.g),_(E.h));if(v(E))return E=A(T,_(E)),new b(_(E.g),E.h);if(30<T.g.length){if(v(T)||v(E))throw Error("slowDivide_ only works with positive integers.");for(var I=p,R=E;0>=R.l(T);)I=P(I),R=P(R);var k=O(I,1),M=O(R,1);for(R=O(R,2),I=O(I,2);!w(R);){var N=M.add(R);0>=N.l(T)&&(k=k.add(I),M=N),R=O(R,1),I=O(I,1)}return E=x(T,k.j(E)),new b(k,E)}for(k=h;0<=T.l(E);){for(I=Math.max(1,Math.floor(T.m()/E.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),M=c(I),N=M.j(E);v(N)||0<N.l(T);)I-=R,M=c(I),N=M.j(E);w(M)&&(M=p),k=k.add(M),T=x(T,N)}return new b(k,T)}t.A=function(T){return A(this,T).h},t.and=function(T){for(var E=Math.max(this.g.length,T.g.length),I=[],R=0;R<E;R++)I[R]=this.i(R)&T.i(R);return new o(I,this.h&T.h)},t.or=function(T){for(var E=Math.max(this.g.length,T.g.length),I=[],R=0;R<E;R++)I[R]=this.i(R)|T.i(R);return new o(I,this.h|T.h)},t.xor=function(T){for(var E=Math.max(this.g.length,T.g.length),I=[],R=0;R<E;R++)I[R]=this.i(R)^T.i(R);return new o(I,this.h^T.h)};function P(T){for(var E=T.g.length+1,I=[],R=0;R<E;R++)I[R]=T.i(R)<<1|T.i(R-1)>>>31;return new o(I,T.h)}function O(T,E){var I=E>>5;E%=32;for(var R=T.g.length-I,k=[],M=0;M<R;M++)k[M]=0<E?T.i(M+I)>>>E|T.i(M+I+1)<<32-E:T.i(M+I);return new o(k,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,nV=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,ml=o}).apply(typeof g1<"u"?g1:typeof self<"u"?self:typeof window<"u"?window:{});var Yp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rV,sV,Nd,iV,Dm,d_,oV,aV,lV;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,S,C){return f==Array.prototype||f==Object.prototype||(f[S]=C.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yp=="object"&&Yp];for(var S=0;S<f.length;++S){var C=f[S];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function s(f,S){if(S)e:{var C=r;f=f.split(".");for(var D=0;D<f.length-1;D++){var U=f[D];if(!(U in C))break e;C=C[U]}f=f[f.length-1],D=C[f],S=S(D),S!=D&&S!=null&&e(C,f,{configurable:!0,writable:!0,value:S})}}function i(f,S){f instanceof String&&(f+="");var C=0,D=!1,U={next:function(){if(!D&&C<f.length){var q=C++;return{value:S(q,f[q]),done:!1}}return D=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}s("Array.prototype.values",function(f){return f||function(){return i(this,function(S,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(f){var S=typeof f;return S=S!="object"?S:f?Array.isArray(f)?"array":S:"null",S=="array"||S=="object"&&typeof f.length=="number"}function c(f){var S=typeof f;return S=="object"&&f!=null||S=="function"}function u(f,S,C){return f.call.apply(f.bind,arguments)}function h(f,S,C){if(!f)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,D),f.apply(S,U)}}return function(){return f.apply(S,arguments)}}function p(f,S,C){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,p.apply(null,arguments)}function g(f,S){var C=Array.prototype.slice.call(arguments,1);return function(){var D=C.slice();return D.push.apply(D,arguments),f.apply(this,D)}}function w(f,S){function C(){}C.prototype=S.prototype,f.aa=S.prototype,f.prototype=new C,f.prototype.constructor=f,f.Qb=function(D,U,q){for(var ae=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)ae[Tt-2]=arguments[Tt];return S.prototype[U].apply(D,ae)}}function v(f){const S=f.length;if(0<S){const C=Array(S);for(let D=0;D<S;D++)C[D]=f[D];return C}return[]}function _(f,S){for(let C=1;C<arguments.length;C++){const D=arguments[C];if(l(D)){const U=f.length||0,q=D.length||0;f.length=U+q;for(let ae=0;ae<q;ae++)f[U+ae]=D[ae]}else f.push(D)}}class x{constructor(S,C){this.i=S,this.j=C,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function y(f){return/^[\s\xa0]*$/.test(f)}function b(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function A(f){return A[" "](f),f}A[" "]=function(){};var P=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function O(f,S,C){for(const D in f)S.call(C,f[D],D,f)}function T(f,S){for(const C in f)S.call(void 0,f[C],C,f)}function E(f){const S={};for(const C in f)S[C]=f[C];return S}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(f,S){let C,D;for(let U=1;U<arguments.length;U++){D=arguments[U];for(C in D)f[C]=D[C];for(let q=0;q<I.length;q++)C=I[q],Object.prototype.hasOwnProperty.call(D,C)&&(f[C]=D[C])}}function k(f){var S=1;f=f.split(":");const C=[];for(;0<S&&f.length;)C.push(f.shift()),S--;return f.length&&C.push(f.join(":")),C}function M(f){a.setTimeout(()=>{throw f},0)}function N(){var f=B;let S=null;return f.g&&(S=f.g,f.g=f.g.next,f.g||(f.h=null),S.next=null),S}class W{constructor(){this.h=this.g=null}add(S,C){const D=se.get();D.set(S,C),this.h?this.h.next=D:this.g=D,this.h=D}}var se=new x(()=>new ne,f=>f.reset());class ne{constructor(){this.next=this.g=this.h=null}set(S,C){this.h=S,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,z=!1,B=new W,J=()=>{const f=a.Promise.resolve(void 0);Y=()=>{f.then(fe)}};var fe=()=>{for(var f;f=N();){try{f.h.call(f.g)}catch(C){M(C)}var S=se;S.j(f),100>S.h&&(S.h++,f.next=S.g,S.g=f)}z=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Se(f,S){this.type=f,this.g=this.target=S,this.defaultPrevented=!1}Se.prototype.h=function(){this.defaultPrevented=!0};var We=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,S=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const C=()=>{};a.addEventListener("test",C,S),a.removeEventListener("test",C,S)}catch{}return f}();function at(f,S){if(Se.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var C=this.type=f.type,D=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=S,S=f.relatedTarget){if(P){e:{try{A(S.nodeName);var U=!0;break e}catch{}U=!1}U||(S=null)}}else C=="mouseover"?S=f.fromElement:C=="mouseout"&&(S=f.toElement);this.relatedTarget=S,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ne[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&at.aa.h.call(this)}}w(at,Se);var Ne={2:"touch",3:"pen",4:"mouse"};at.prototype.h=function(){at.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),Pe=0;function He(f,S,C,D,U){this.listener=f,this.proxy=null,this.src=S,this.type=C,this.capture=!!D,this.ha=U,this.key=++Pe,this.da=this.fa=!1}function pe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function $e(f){this.src=f,this.g={},this.h=0}$e.prototype.add=function(f,S,C,D,U){var q=f.toString();f=this.g[q],f||(f=this.g[q]=[],this.h++);var ae=vt(f,S,D,U);return-1<ae?(S=f[ae],C||(S.fa=!1)):(S=new He(S,this.src,q,!!D,U),S.fa=C,f.push(S)),S};function Oe(f,S){var C=S.type;if(C in f.g){var D=f.g[C],U=Array.prototype.indexOf.call(D,S,void 0),q;(q=0<=U)&&Array.prototype.splice.call(D,U,1),q&&(pe(S),f.g[C].length==0&&(delete f.g[C],f.h--))}}function vt(f,S,C,D){for(var U=0;U<f.length;++U){var q=f[U];if(!q.da&&q.listener==S&&q.capture==!!C&&q.ha==D)return U}return-1}var qe="closure_lm_"+(1e6*Math.random()|0),Lt={};function gn(f,S,C,D,U){if(Array.isArray(S)){for(var q=0;q<S.length;q++)gn(f,S[q],C,D,U);return null}return C=Ue(C),f&&f[ce]?f.K(S,C,c(D)?!!D.capture:!!D,U):jr(f,S,C,!1,D,U)}function jr(f,S,C,D,U,q){if(!S)throw Error("Invalid event type");var ae=c(U)?!!U.capture:!!U,Tt=ee(f);if(Tt||(f[qe]=Tt=new $e(f)),C=Tt.add(S,C,D,ae,q),C.proxy)return C;if(D=j(),C.proxy=D,D.src=f,D.listener=C,f.addEventListener)We||(U=ae),U===void 0&&(U=!1),f.addEventListener(S.toString(),D,U);else if(f.attachEvent)f.attachEvent(ie(S.toString()),D);else if(f.addListener&&f.removeListener)f.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return C}function j(){function f(C){return S.call(f.src,f.listener,C)}const S=re;return f}function $(f,S,C,D,U){if(Array.isArray(S))for(var q=0;q<S.length;q++)$(f,S[q],C,D,U);else D=c(D)?!!D.capture:!!D,C=Ue(C),f&&f[ce]?(f=f.i,S=String(S).toString(),S in f.g&&(q=f.g[S],C=vt(q,C,D,U),-1<C&&(pe(q[C]),Array.prototype.splice.call(q,C,1),q.length==0&&(delete f.g[S],f.h--)))):f&&(f=ee(f))&&(S=f.g[S.toString()],f=-1,S&&(f=vt(S,C,D,U)),(C=-1<f?S[f]:null)&&H(C))}function H(f){if(typeof f!="number"&&f&&!f.da){var S=f.src;if(S&&S[ce])Oe(S.i,f);else{var C=f.type,D=f.proxy;S.removeEventListener?S.removeEventListener(C,D,f.capture):S.detachEvent?S.detachEvent(ie(C),D):S.addListener&&S.removeListener&&S.removeListener(D),(C=ee(S))?(Oe(C,f),C.h==0&&(C.src=null,S[qe]=null)):pe(f)}}}function ie(f){return f in Lt?Lt[f]:Lt[f]="on"+f}function re(f,S){if(f.da)f=!0;else{S=new at(S,this);var C=f.listener,D=f.ha||f.src;f.fa&&H(f),f=C.call(D,S)}return f}function ee(f){return f=f[qe],f instanceof $e?f:null}var _e="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ue(f){return typeof f=="function"?f:(f[_e]||(f[_e]=function(S){return f.handleEvent(S)}),f[_e])}function Be(){he.call(this),this.i=new $e(this),this.M=this,this.F=null}w(Be,he),Be.prototype[ce]=!0,Be.prototype.removeEventListener=function(f,S,C,D){$(this,f,S,C,D)};function je(f,S){var C,D=f.F;if(D)for(C=[];D;D=D.F)C.push(D);if(f=f.M,D=S.type||S,typeof S=="string")S=new Se(S,f);else if(S instanceof Se)S.target=S.target||f;else{var U=S;S=new Se(D,f),R(S,U)}if(U=!0,C)for(var q=C.length-1;0<=q;q--){var ae=S.g=C[q];U=Qt(ae,D,!0,S)&&U}if(ae=S.g=f,U=Qt(ae,D,!0,S)&&U,U=Qt(ae,D,!1,S)&&U,C)for(q=0;q<C.length;q++)ae=S.g=C[q],U=Qt(ae,D,!1,S)&&U}Be.prototype.N=function(){if(Be.aa.N.call(this),this.i){var f=this.i,S;for(S in f.g){for(var C=f.g[S],D=0;D<C.length;D++)pe(C[D]);delete f.g[S],f.h--}}this.F=null},Be.prototype.K=function(f,S,C,D){return this.i.add(String(f),S,!1,C,D)},Be.prototype.L=function(f,S,C,D){return this.i.add(String(f),S,!0,C,D)};function Qt(f,S,C,D){if(S=f.i.g[String(S)],!S)return!0;S=S.concat();for(var U=!0,q=0;q<S.length;++q){var ae=S[q];if(ae&&!ae.da&&ae.capture==C){var Tt=ae.listener,jn=ae.ha||ae.src;ae.fa&&Oe(f.i,ae),U=Tt.call(jn,D)!==!1&&U}}return U&&!D.defaultPrevented}function wr(f,S,C){if(typeof f=="function")C&&(f=p(f,C));else if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:a.setTimeout(f,S||0)}function Rn(f){f.g=wr(()=>{f.g=null,f.i&&(f.i=!1,Rn(f))},f.l);const S=f.h;f.h=null,f.m.apply(null,S)}class Vt extends he{constructor(S,C){super(),this.m=S,this.l=C,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Rn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lr(f){he.call(this),this.h=f,this.g={}}w(Lr,he);var ns=[];function co(f){O(f.g,function(S,C){this.g.hasOwnProperty(C)&&H(S)},f),f.g={}}Lr.prototype.N=function(){Lr.aa.N.call(this),co(this)},Lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vn=a.JSON.stringify,Oa=a.JSON.parse,Wl=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function xi(){}xi.prototype.h=null;function Hl(f){return f.h||(f.h=f.i())}function ja(){}var rs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bt(){Se.call(this,"d")}w(Bt,Se);function nn(){Se.call(this,"c")}w(nn,Se);var At={},lr=null;function yn(){return lr=lr||new Be}At.La="serverreachability";function wn(f){Se.call(this,At.La,f)}w(wn,Se);function In(f){const S=yn();je(S,new wn(S))}At.STAT_EVENT="statevent";function ss(f,S){Se.call(this,At.STAT_EVENT,f),this.stat=S}w(ss,Se);function ut(f){const S=yn();je(S,new ss(S,f))}At.Ma="timingevent";function Vr(f,S){Se.call(this,At.Ma,f),this.size=S}w(Vr,Se);function xr(f,S){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},S)}function is(){this.g=!0}is.prototype.xa=function(){this.g=!1};function uo(f,S,C,D,U,q){f.info(function(){if(f.g)if(q)for(var ae="",Tt=q.split("&"),jn=0;jn<Tt.length;jn++){var dt=Tt[jn].split("=");if(1<dt.length){var Gn=dt[0];dt=dt[1];var Qn=Gn.split("_");ae=2<=Qn.length&&Qn[1]=="type"?ae+(Gn+"="+dt+"&"):ae+(Gn+"=redacted&")}}else ae=null;else ae=q;return"XMLHTTP REQ ("+D+") [attempt "+U+"]: "+S+`
`+C+`
`+ae})}function L(f,S,C,D,U,q,ae){f.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+U+"]: "+S+`
`+C+`
`+q+" "+ae})}function F(f,S,C,D){f.info(function(){return"XMLHTTP TEXT ("+S+"): "+G(f,C)+(D?" "+D:"")})}function K(f,S){f.info(function(){return"TIMEOUT: "+S})}is.prototype.info=function(){};function G(f,S){if(!f.g)return S;if(!S)return null;try{var C=JSON.parse(S);if(C){for(f=0;f<C.length;f++)if(Array.isArray(C[f])){var D=C[f];if(!(2>D.length)){var U=D[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var ae=1;ae<U.length;ae++)U[ae]=""}}}}return vn(C)}catch{return S}}var de={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Te={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Me;function oe(){}w(oe,xi),oe.prototype.g=function(){return new XMLHttpRequest},oe.prototype.i=function(){return{}},Me=new oe;function Ee(f,S,C,D){this.j=f,this.i=S,this.l=C,this.R=D||1,this.U=new Lr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ye}function ye(){this.i=null,this.g="",this.h=!1}var xe={},nt={};function lt(f,S,C){f.L=1,f.v=dp(_i(S)),f.m=C,f.P=!0,_t(f,null)}function _t(f,S){f.F=Date.now(),Nt(f),f.A=_i(f.v);var C=f.A,D=f.R;Array.isArray(D)||(D=[String(D)]),XT(C.i,"t",D),f.C=0,C=f.j.J,f.h=new ye,f.g=mC(f.j,C?S:null,!f.m),0<f.O&&(f.M=new Vt(p(f.Y,f,f.g),f.O)),S=f.U,C=f.g,D=f.ca;var U="readystatechange";Array.isArray(U)||(U&&(ns[0]=U.toString()),U=ns);for(var q=0;q<U.length;q++){var ae=gn(C,U[q],D||S.handleEvent,!1,S.h||S);if(!ae)break;S.g[ae.key]=ae}S=f.H?E(f.H):{},f.m?(f.u||(f.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,S)):(f.u="GET",f.g.ea(f.A,f.u,null,S)),In(),uo(f.i,f.u,f.A,f.l,f.R,f.m)}Ee.prototype.ca=function(f){f=f.target;const S=this.M;S&&Ei(f)==3?S.j():this.Y(f)},Ee.prototype.Y=function(f){try{if(f==this.g)e:{const Qn=Ei(this.g);var S=this.g.Ba();const Ql=this.g.Z();if(!(3>Qn)&&(Qn!=3||this.g&&(this.h.h||this.g.oa()||sC(this.g)))){this.J||Qn!=4||S==7||(S==8||0>=Ql?In(3):In(2)),Fr(this);var C=this.g.Z();this.X=C;t:if(Ze(this)){var D=sC(this.g);f="";var U=D.length,q=Ei(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hn(this),os(this);var ae="";break t}this.h.i=new a.TextDecoder}for(S=0;S<U;S++)this.h.h=!0,f+=this.h.i.decode(D[S],{stream:!(q&&S==U-1)});D.length=0,this.h.g+=f,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=C==200,L(this.i,this.u,this.A,this.l,this.R,Qn,C),this.o){if(this.T&&!this.K){t:{if(this.g){var Tt,jn=this.g;if((Tt=jn.g?jn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Tt)){var dt=Tt;break t}}dt=null}if(C=dt)F(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fo(this,C);else{this.o=!1,this.s=3,ut(12),Hn(this),os(this);break e}}if(this.P){C=!0;let Cs;for(;!this.J&&this.C<ae.length;)if(Cs=dn(this,ae),Cs==nt){Qn==4&&(this.s=4,ut(14),C=!1),F(this.i,this.l,null,"[Incomplete Response]");break}else if(Cs==xe){this.s=4,ut(15),F(this.i,this.l,ae,"[Invalid Chunk]"),C=!1;break}else F(this.i,this.l,Cs,null),fo(this,Cs);if(Ze(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qn!=4||ae.length!=0||this.h.h||(this.s=1,ut(16),C=!1),this.o=this.o&&C,!C)F(this.i,this.l,ae,"[Invalid Chunked Response]"),Hn(this),os(this);else if(0<ae.length&&!this.W){this.W=!0;var Gn=this.j;Gn.g==this&&Gn.ba&&!Gn.M&&(Gn.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),tw(Gn),Gn.M=!0,ut(11))}}else F(this.i,this.l,ae,null),fo(this,ae);Qn==4&&Hn(this),this.o&&!this.J&&(Qn==4?dC(this.j,this):(this.o=!1,Nt(this)))}else Sz(this.g),C==400&&0<ae.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Hn(this),os(this)}}}catch{}finally{}};function Ze(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function dn(f,S){var C=f.C,D=S.indexOf(`
`,C);return D==-1?nt:(C=Number(S.substring(C,D)),isNaN(C)?xe:(D+=1,D+C>S.length?nt:(S=S.slice(D,D+C),f.C=D+C,S)))}Ee.prototype.cancel=function(){this.J=!0,Hn(this)};function Nt(f){f.S=Date.now()+f.I,ho(f,f.I)}function ho(f,S){if(f.B!=null)throw Error("WatchDog timer not null");f.B=xr(p(f.ba,f),S)}function Fr(f){f.B&&(a.clearTimeout(f.B),f.B=null)}Ee.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(K(this.i,this.A),this.L!=2&&(In(),ut(17)),Hn(this),this.s=2,os(this)):ho(this,this.S-f)};function os(f){f.j.G==0||f.J||dC(f.j,f)}function Hn(f){Fr(f);var S=f.M;S&&typeof S.ma=="function"&&S.ma(),f.M=null,co(f.U),f.g&&(S=f.g,f.g=null,S.abort(),S.ma())}function fo(f,S){try{var C=f.j;if(C.G!=0&&(C.g==f||ze(C.h,f))){if(!f.K&&ze(C.h,f)&&C.G==3){try{var D=C.Da.g.parse(S)}catch{D=null}if(Array.isArray(D)&&D.length==3){var U=D;if(U[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<f.F)gp(C),pp(C);else break e;ew(C),ut(18)}}else C.za=U[1],0<C.za-C.T&&37500>U[2]&&C.F&&C.v==0&&!C.C&&(C.C=xr(p(C.Za,C),6e3));if(1>=Fa(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else Ba(C,11)}else if((f.K||C.g==f)&&gp(C),!y(S))for(U=C.Da.g.parse(S),S=0;S<U.length;S++){let dt=U[S];if(C.T=dt[0],dt=dt[1],C.G==2)if(dt[0]=="c"){C.K=dt[1],C.ia=dt[2];const Gn=dt[3];Gn!=null&&(C.la=Gn,C.j.info("VER="+C.la));const Qn=dt[4];Qn!=null&&(C.Aa=Qn,C.j.info("SVER="+C.Aa));const Ql=dt[5];Ql!=null&&typeof Ql=="number"&&0<Ql&&(D=1.5*Ql,C.L=D,C.j.info("backChannelRequestTimeoutMs_="+D)),D=C;const Cs=f.g;if(Cs){const yp=Cs.g?Cs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yp){var q=D.h;q.g||yp.indexOf("spdy")==-1&&yp.indexOf("quic")==-1&&yp.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Rt(q,q.h),q.h=null))}if(D.D){const nw=Cs.g?Cs.g.getResponseHeader("X-HTTP-Session-Id"):null;nw&&(D.ya=nw,kt(D.I,D.D,nw))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-f.F,C.j.info("Handshake RTT: "+C.R+"ms")),D=C;var ae=f;if(D.qa=pC(D,D.J?D.ia:null,D.W),ae.K){qn(D.h,ae);var Tt=ae,jn=D.L;jn&&(Tt.I=jn),Tt.B&&(Fr(Tt),Nt(Tt)),D.g=ae}else cC(D);0<C.i.length&&mp(C)}else dt[0]!="stop"&&dt[0]!="close"||Ba(C,7);else C.G==3&&(dt[0]=="stop"||dt[0]=="close"?dt[0]=="stop"?Ba(C,7):Zy(C):dt[0]!="noop"&&C.l&&C.l.ta(dt),C.v=0)}}In(4)}catch{}}var Ss=class{constructor(f,S){this.g=f,this.map=S}};function La(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Va(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Fa(f){return f.h?1:f.g?f.g.size:0}function ze(f,S){return f.h?f.h==S:f.g?f.g.has(S):!1}function Rt(f,S){f.g?f.g.add(S):f.h=S}function qn(f,S){f.h&&f.h==S?f.h=null:f.g&&f.g.has(S)&&f.g.delete(S)}La.prototype.cancel=function(){if(this.i=Dt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Dt(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let S=f.i;for(const C of f.g.values())S=S.concat(C.D);return S}return v(f.i)}function Ts(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var S=[],C=f.length,D=0;D<C;D++)S.push(f[D]);return S}S=[],C=0;for(D in f)S[C++]=f[D];return S}function ap(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var S=[];f=f.length;for(var C=0;C<f;C++)S.push(C);return S}S=[],C=0;for(const D in f)S[C++]=D;return S}}}function lp(f,S){if(f.forEach&&typeof f.forEach=="function")f.forEach(S,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,S,void 0);else for(var C=ap(f),D=Ts(f),U=D.length,q=0;q<U;q++)S.call(void 0,D[q],C&&C[q],f)}var HT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dz(f,S){if(f){f=f.split("&");for(var C=0;C<f.length;C++){var D=f[C].indexOf("="),U=null;if(0<=D){var q=f[C].substring(0,D);U=f[C].substring(D+1)}else q=f[C];S(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Ua(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ua){this.h=f.h,cp(this,f.j),this.o=f.o,this.g=f.g,up(this,f.s),this.l=f.l;var S=f.i,C=new Ju;C.i=S.i,S.g&&(C.g=new Map(S.g),C.h=S.h),qT(this,C),this.m=f.m}else f&&(S=String(f).match(HT))?(this.h=!1,cp(this,S[1]||"",!0),this.o=Yu(S[2]||""),this.g=Yu(S[3]||"",!0),up(this,S[4]),this.l=Yu(S[5]||"",!0),qT(this,S[6]||"",!0),this.m=Yu(S[7]||"")):(this.h=!1,this.i=new Ju(null,this.h))}Ua.prototype.toString=function(){var f=[],S=this.j;S&&f.push(Xu(S,GT,!0),":");var C=this.g;return(C||S=="file")&&(f.push("//"),(S=this.o)&&f.push(Xu(S,GT,!0),"@"),f.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&f.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&f.push("/"),f.push(Xu(C,C.charAt(0)=="/"?pz:fz,!0))),(C=this.i.toString())&&f.push("?",C),(C=this.m)&&f.push("#",Xu(C,gz)),f.join("")};function _i(f){return new Ua(f)}function cp(f,S,C){f.j=C?Yu(S,!0):S,f.j&&(f.j=f.j.replace(/:$/,""))}function up(f,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);f.s=S}else f.s=null}function qT(f,S,C){S instanceof Ju?(f.i=S,vz(f.i,f.h)):(C||(S=Xu(S,mz)),f.i=new Ju(S,f.h))}function kt(f,S,C){f.i.set(S,C)}function dp(f){return kt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Yu(f,S){return f?S?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Xu(f,S,C){return typeof f=="string"?(f=encodeURI(f).replace(S,hz),C&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function hz(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var GT=/[#\/\?@]/g,fz=/[#\?:]/g,pz=/[#\?]/g,mz=/[#\?@]/g,gz=/#/g;function Ju(f,S){this.h=this.g=null,this.i=f||null,this.j=!!S}function po(f){f.g||(f.g=new Map,f.h=0,f.i&&dz(f.i,function(S,C){f.add(decodeURIComponent(S.replace(/\+/g," ")),C)}))}t=Ju.prototype,t.add=function(f,S){po(this),this.i=null,f=ql(this,f);var C=this.g.get(f);return C||this.g.set(f,C=[]),C.push(S),this.h+=1,this};function QT(f,S){po(f),S=ql(f,S),f.g.has(S)&&(f.i=null,f.h-=f.g.get(S).length,f.g.delete(S))}function YT(f,S){return po(f),S=ql(f,S),f.g.has(S)}t.forEach=function(f,S){po(this),this.g.forEach(function(C,D){C.forEach(function(U){f.call(S,U,D,this)},this)},this)},t.na=function(){po(this);const f=Array.from(this.g.values()),S=Array.from(this.g.keys()),C=[];for(let D=0;D<S.length;D++){const U=f[D];for(let q=0;q<U.length;q++)C.push(S[D])}return C},t.V=function(f){po(this);let S=[];if(typeof f=="string")YT(this,f)&&(S=S.concat(this.g.get(ql(this,f))));else{f=Array.from(this.g.values());for(let C=0;C<f.length;C++)S=S.concat(f[C])}return S},t.set=function(f,S){return po(this),this.i=null,f=ql(this,f),YT(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[S]),this.h+=1,this},t.get=function(f,S){return f?(f=this.V(f),0<f.length?String(f[0]):S):S};function XT(f,S,C){QT(f,S),0<C.length&&(f.i=null,f.g.set(ql(f,S),v(C)),f.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],S=Array.from(this.g.keys());for(var C=0;C<S.length;C++){var D=S[C];const q=encodeURIComponent(String(D)),ae=this.V(D);for(D=0;D<ae.length;D++){var U=q;ae[D]!==""&&(U+="="+encodeURIComponent(String(ae[D]))),f.push(U)}}return this.i=f.join("&")};function ql(f,S){return S=String(S),f.j&&(S=S.toLowerCase()),S}function vz(f,S){S&&!f.j&&(po(f),f.i=null,f.g.forEach(function(C,D){var U=D.toLowerCase();D!=U&&(QT(this,D),XT(this,U,C))},f)),f.j=S}function yz(f,S){const C=new is;if(a.Image){const D=new Image;D.onload=g(mo,C,"TestLoadImage: loaded",!0,S,D),D.onerror=g(mo,C,"TestLoadImage: error",!1,S,D),D.onabort=g(mo,C,"TestLoadImage: abort",!1,S,D),D.ontimeout=g(mo,C,"TestLoadImage: timeout",!1,S,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=f}else S(!1)}function wz(f,S){const C=new is,D=new AbortController,U=setTimeout(()=>{D.abort(),mo(C,"TestPingServer: timeout",!1,S)},1e4);fetch(f,{signal:D.signal}).then(q=>{clearTimeout(U),q.ok?mo(C,"TestPingServer: ok",!0,S):mo(C,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(U),mo(C,"TestPingServer: error",!1,S)})}function mo(f,S,C,D,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),D(C)}catch{}}function xz(){this.g=new Wl}function _z(f,S,C){const D=C||"";try{lp(f,function(U,q){let ae=U;c(U)&&(ae=vn(U)),S.push(D+q+"="+encodeURIComponent(ae))})}catch(U){throw S.push(D+"type="+encodeURIComponent("_badmap")),U}}function Zu(f){this.l=f.Ub||null,this.j=f.eb||!1}w(Zu,xi),Zu.prototype.g=function(){return new hp(this.l,this.j)},Zu.prototype.i=function(f){return function(){return f}}({});function hp(f,S){Be.call(this),this.D=f,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(hp,Be),t=hp.prototype,t.open=function(f,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=S,this.readyState=1,td(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(S.body=f),(this.D||a).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ed(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,td(this)),this.g&&(this.readyState=3,td(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;JT(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function JT(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var S=f.value?f.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!f.done}))&&(this.response=this.responseText+=S)}f.done?ed(this):td(this),this.readyState==3&&JT(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,ed(this))},t.Qa=function(f){this.g&&(this.response=f,ed(this))},t.ga=function(){this.g&&ed(this)};function ed(f){f.readyState=4,f.l=null,f.j=null,f.v=null,td(f)}t.setRequestHeader=function(f,S){this.u.append(f,S)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],S=this.h.entries();for(var C=S.next();!C.done;)C=C.value,f.push(C[0]+": "+C[1]),C=S.next();return f.join(`\r
`)};function td(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(hp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ZT(f){let S="";return O(f,function(C,D){S+=D,S+=":",S+=C,S+=`\r
`}),S}function Jy(f,S,C){e:{for(D in C){var D=!1;break e}D=!0}D||(C=ZT(C),typeof f=="string"?C!=null&&encodeURIComponent(String(C)):kt(f,S,C))}function Yt(f){Be.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Yt,Be);var Ez=/^https?$/i,bz=["POST","PUT"];t=Yt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,S,C,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);S=S?S.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Me.g(),this.v=this.o?Hl(this.o):Hl(Me),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(S,String(f),!0),this.B=!1}catch(q){eC(this,q);return}if(f=C||"",C=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var U in D)C.set(U,D[U]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const q of D.keys())C.set(q,D.get(q));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(C.keys()).find(q=>q.toLowerCase()=="content-type"),U=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(bz,S,void 0))||D||U||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ae]of C)this.g.setRequestHeader(q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rC(this),this.u=!0,this.g.send(f),this.u=!1}catch(q){eC(this,q)}};function eC(f,S){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=S,f.m=5,tC(f),fp(f)}function tC(f){f.A||(f.A=!0,je(f,"complete"),je(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,je(this,"complete"),je(this,"abort"),fp(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fp(this,!0)),Yt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?nC(this):this.bb())},t.bb=function(){nC(this)};function nC(f){if(f.h&&typeof o<"u"&&(!f.v[1]||Ei(f)!=4||f.Z()!=2)){if(f.u&&Ei(f)==4)wr(f.Ea,0,f);else if(je(f,"readystatechange"),Ei(f)==4){f.h=!1;try{const ae=f.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var C;if(!(C=S)){var D;if(D=ae===0){var U=String(f.D).match(HT)[1]||null;!U&&a.self&&a.self.location&&(U=a.self.location.protocol.slice(0,-1)),D=!Ez.test(U?U.toLowerCase():"")}C=D}if(C)je(f,"complete"),je(f,"success");else{f.m=6;try{var q=2<Ei(f)?f.g.statusText:""}catch{q=""}f.l=q+" ["+f.Z()+"]",tC(f)}}finally{fp(f)}}}}function fp(f,S){if(f.g){rC(f);const C=f.g,D=f.v[0]?()=>{}:null;f.g=null,f.v=null,S||je(f,"ready");try{C.onreadystatechange=D}catch{}}}function rC(f){f.I&&(a.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Ei(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Ei(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var S=this.g.responseText;return f&&S.indexOf(f)==0&&(S=S.substring(f.length)),Oa(S)}};function sC(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Sz(f){const S={};f=(f.g&&2<=Ei(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<f.length;D++){if(y(f[D]))continue;var C=k(f[D]);const U=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const q=S[U]||[];S[U]=q,q.push(C)}T(S,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function nd(f,S,C){return C&&C.internalChannelParams&&C.internalChannelParams[f]||S}function iC(f){this.Aa=0,this.i=[],this.j=new is,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=nd("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=nd("baseRetryDelayMs",5e3,f),this.cb=nd("retryDelaySeedMs",1e4,f),this.Wa=nd("forwardChannelMaxRetries",2,f),this.wa=nd("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new La(f&&f.concurrentRequestLimit),this.Da=new xz,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=iC.prototype,t.la=8,t.G=1,t.connect=function(f,S,C,D){ut(0),this.W=f,this.H=S||{},C&&D!==void 0&&(this.H.OSID=C,this.H.OAID=D),this.F=this.X,this.I=pC(this,null,this.W),mp(this)};function Zy(f){if(oC(f),f.G==3){var S=f.U++,C=_i(f.I);if(kt(C,"SID",f.K),kt(C,"RID",S),kt(C,"TYPE","terminate"),rd(f,C),S=new Ee(f,f.j,S),S.L=2,S.v=dp(_i(C)),C=!1,a.navigator&&a.navigator.sendBeacon)try{C=a.navigator.sendBeacon(S.v.toString(),"")}catch{}!C&&a.Image&&(new Image().src=S.v,C=!0),C||(S.g=mC(S.j,null),S.g.ea(S.v)),S.F=Date.now(),Nt(S)}fC(f)}function pp(f){f.g&&(tw(f),f.g.cancel(),f.g=null)}function oC(f){pp(f),f.u&&(a.clearTimeout(f.u),f.u=null),gp(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&a.clearTimeout(f.s),f.s=null)}function mp(f){if(!Va(f.h)&&!f.s){f.s=!0;var S=f.Ga;Y||J(),z||(Y(),z=!0),B.add(S,f),f.B=0}}function Tz(f,S){return Fa(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=S.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=xr(p(f.Ga,f,S),hC(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const U=new Ee(this,this.j,f);let q=this.o;if(this.S&&(q?(q=E(q),R(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)e:{for(var S=0,C=0;C<this.i.length;C++){t:{var D=this.i[C];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(S+=D,4096<S){S=C;break e}if(S===4096||C===this.i.length-1){S=C+1;break e}}S=1e3}else S=1e3;S=lC(this,U,S),C=_i(this.I),kt(C,"RID",f),kt(C,"CVER",22),this.D&&kt(C,"X-HTTP-Session-Id",this.D),rd(this,C),q&&(this.O?S="headers="+encodeURIComponent(String(ZT(q)))+"&"+S:this.m&&Jy(C,this.m,q)),Rt(this.h,U),this.Ua&&kt(C,"TYPE","init"),this.P?(kt(C,"$req",S),kt(C,"SID","null"),U.T=!0,lt(U,C,null)):lt(U,C,S),this.G=2}}else this.G==3&&(f?aC(this,f):this.i.length==0||Va(this.h)||aC(this))};function aC(f,S){var C;S?C=S.l:C=f.U++;const D=_i(f.I);kt(D,"SID",f.K),kt(D,"RID",C),kt(D,"AID",f.T),rd(f,D),f.m&&f.o&&Jy(D,f.m,f.o),C=new Ee(f,f.j,C,f.B+1),f.m===null&&(C.H=f.o),S&&(f.i=S.D.concat(f.i)),S=lC(f,C,1e3),C.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Rt(f.h,C),lt(C,D,S)}function rd(f,S){f.H&&O(f.H,function(C,D){kt(S,D,C)}),f.l&&lp({},function(C,D){kt(S,D,C)})}function lC(f,S,C){C=Math.min(f.i.length,C);var D=f.l?p(f.l.Na,f.l,f):null;e:{var U=f.i;let q=-1;for(;;){const ae=["count="+C];q==-1?0<C?(q=U[0].g,ae.push("ofs="+q)):q=0:ae.push("ofs="+q);let Tt=!0;for(let jn=0;jn<C;jn++){let dt=U[jn].g;const Gn=U[jn].map;if(dt-=q,0>dt)q=Math.max(0,U[jn].g-100),Tt=!1;else try{_z(Gn,ae,"req"+dt+"_")}catch{D&&D(Gn)}}if(Tt){D=ae.join("&");break e}}}return f=f.i.splice(0,C),S.D=f,D}function cC(f){if(!f.g&&!f.u){f.Y=1;var S=f.Fa;Y||J(),z||(Y(),z=!0),B.add(S,f),f.v=0}}function ew(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=xr(p(f.Fa,f),hC(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,uC(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=xr(p(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),pp(this),uC(this))};function tw(f){f.A!=null&&(a.clearTimeout(f.A),f.A=null)}function uC(f){f.g=new Ee(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var S=_i(f.qa);kt(S,"RID","rpc"),kt(S,"SID",f.K),kt(S,"AID",f.T),kt(S,"CI",f.F?"0":"1"),!f.F&&f.ja&&kt(S,"TO",f.ja),kt(S,"TYPE","xmlhttp"),rd(f,S),f.m&&f.o&&Jy(S,f.m,f.o),f.L&&(f.g.I=f.L);var C=f.g;f=f.ia,C.L=1,C.v=dp(_i(S)),C.m=null,C.P=!0,_t(C,f)}t.Za=function(){this.C!=null&&(this.C=null,pp(this),ew(this),ut(19))};function gp(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function dC(f,S){var C=null;if(f.g==S){gp(f),tw(f),f.g=null;var D=2}else if(ze(f.h,S))C=S.D,qn(f.h,S),D=1;else return;if(f.G!=0){if(S.o)if(D==1){C=S.m?S.m.length:0,S=Date.now()-S.F;var U=f.B;D=yn(),je(D,new Vr(D,C)),mp(f)}else cC(f);else if(U=S.s,U==3||U==0&&0<S.X||!(D==1&&Tz(f,S)||D==2&&ew(f)))switch(C&&0<C.length&&(S=f.h,S.i=S.i.concat(C)),U){case 1:Ba(f,5);break;case 4:Ba(f,10);break;case 3:Ba(f,6);break;default:Ba(f,2)}}}function hC(f,S){let C=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(C*=2),C*S}function Ba(f,S){if(f.j.info("Error code "+S),S==2){var C=p(f.fb,f),D=f.Xa;const U=!D;D=new Ua(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||cp(D,"https"),dp(D),U?yz(D.toString(),C):wz(D.toString(),C)}else ut(2);f.G=0,f.l&&f.l.sa(S),fC(f),oC(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function fC(f){if(f.G=0,f.ka=[],f.l){const S=Dt(f.h);(S.length!=0||f.i.length!=0)&&(_(f.ka,S),_(f.ka,f.i),f.h.i.length=0,v(f.i),f.i.length=0),f.l.ra()}}function pC(f,S,C){var D=C instanceof Ua?_i(C):new Ua(C);if(D.g!="")S&&(D.g=S+"."+D.g),up(D,D.s);else{var U=a.location;D=U.protocol,S=S?S+"."+U.hostname:U.hostname,U=+U.port;var q=new Ua(null);D&&cp(q,D),S&&(q.g=S),U&&up(q,U),C&&(q.l=C),D=q}return C=f.D,S=f.ya,C&&S&&kt(D,C,S),kt(D,"VER",f.la),rd(f,D),D}function mC(f,S,C){if(S&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=f.Ca&&!f.pa?new Yt(new Zu({eb:C})):new Yt(f.pa),S.Ha(f.J),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gC(){}t=gC.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function vp(){}vp.prototype.g=function(f,S){return new Ur(f,S)};function Ur(f,S){Be.call(this),this.g=new iC(S),this.l=f,this.h=S&&S.messageUrlParams||null,f=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(f?f["X-WebChannel-Content-Type"]=S.messageContentType:f={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(f?f["X-WebChannel-Client-Profile"]=S.va:f={"X-WebChannel-Client-Profile":S.va}),this.g.S=f,(f=S&&S.Sb)&&!y(f)&&(this.g.m=f),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!y(S)&&(this.g.D=S,f=this.h,f!==null&&S in f&&(f=this.h,S in f&&delete f[S])),this.j=new Gl(this)}w(Ur,Be),Ur.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ur.prototype.close=function(){Zy(this.g)},Ur.prototype.o=function(f){var S=this.g;if(typeof f=="string"){var C={};C.__data__=f,f=C}else this.u&&(C={},C.__data__=vn(f),f=C);S.i.push(new Ss(S.Ya++,f)),S.G==3&&mp(S)},Ur.prototype.N=function(){this.g.l=null,delete this.j,Zy(this.g),delete this.g,Ur.aa.N.call(this)};function vC(f){Bt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var S=f.__sm__;if(S){e:{for(const C in S){f=C;break e}f=void 0}(this.i=f)&&(f=this.i,S=S!==null&&f in S?S[f]:void 0),this.data=S}else this.data=f}w(vC,Bt);function yC(){nn.call(this),this.status=1}w(yC,nn);function Gl(f){this.g=f}w(Gl,gC),Gl.prototype.ua=function(){je(this.g,"a")},Gl.prototype.ta=function(f){je(this.g,new vC(f))},Gl.prototype.sa=function(f){je(this.g,new yC)},Gl.prototype.ra=function(){je(this.g,"b")},vp.prototype.createWebChannel=vp.prototype.g,Ur.prototype.send=Ur.prototype.o,Ur.prototype.open=Ur.prototype.m,Ur.prototype.close=Ur.prototype.close,lV=function(){return new vp},aV=function(){return yn()},oV=At,d_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},de.NO_ERROR=0,de.TIMEOUT=8,de.HTTP_ERROR=6,Dm=de,Te.COMPLETE="complete",iV=Te,ja.EventType=rs,rs.OPEN="a",rs.CLOSE="b",rs.ERROR="c",rs.MESSAGE="d",Be.prototype.listen=Be.prototype.K,Nd=ja,sV=Zu,Yt.prototype.listenOnce=Yt.prototype.L,Yt.prototype.getLastError=Yt.prototype.Ka,Yt.prototype.getLastErrorCode=Yt.prototype.Ba,Yt.prototype.getStatus=Yt.prototype.Z,Yt.prototype.getResponseJson=Yt.prototype.Oa,Yt.prototype.getResponseText=Yt.prototype.oa,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Ha,rV=Yt}).apply(typeof Yp<"u"?Yp:typeof self<"u"?self:typeof window<"u"?window:{});const v1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tr.UNAUTHENTICATED=new tr(null),tr.GOOGLE_CREDENTIALS=new tr("google-credentials-uid"),tr.FIRST_PARTY=new tr("first-party-uid"),tr.MOCK_USER=new tr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fu="10.13.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=new Rv("@firebase/firestore");function yd(){return Tl.logLevel}function we(t,...e){if(Tl.logLevel<=st.DEBUG){const n=e.map(_S);Tl.debug(`Firestore (${Fu}): ${t}`,...n)}}function so(t,...e){if(Tl.logLevel<=st.ERROR){const n=e.map(_S);Tl.error(`Firestore (${Fu}): ${t}`,...n)}}function fu(t,...e){if(Tl.logLevel<=st.WARN){const n=e.map(_S);Tl.warn(`Firestore (${Fu}): ${t}`,...n)}}function _S(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t="Unexpected state"){const e=`FIRESTORE (${Fu}) INTERNAL ASSERTION FAILED: `+t;throw so(e),new Error(e)}function St(t,e){t||Ve()}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends ts{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class One{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tr.UNAUTHENTICATED))}shutdown(){}}class jne{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Lne{constructor(e){this.t=e,this.currentUser=tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Wi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Wi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(St(typeof r.accessToken=="string"),new cV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string"),new tr(e)}}class Vne{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=tr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Fne{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Vne(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(tr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Une{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bne{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,we("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(St(typeof n.token=="string"),this.R=n.token,new Une(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ne(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=$ne(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function ht(t,e){return t<e?-1:t>e?1:0}function pu(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return An.fromMillis(Date.now())}static fromDate(e){return An.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new An(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ht(this.nanoseconds,e.nanoseconds):ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new An(0,0))}static max(){return new Ke(new An(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ve(),r===void 0?r=e.length-n:r>e.length-n&&Ve(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Hh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ut extends Hh{construct(e,n,r){return new Ut(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ut(n)}static emptyPath(){return new Ut([])}}const zne=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bn extends Hh{construct(e,n,r){return new Bn(e,n,r)}static isValidIdentifier(e){return zne.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Bn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Ae(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Ae(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ae(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Ae(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bn(n)}static emptyPath(){return new Bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Ut.fromString(e))}static fromName(e){return new Ie(Ut.fromString(e).popFirst(5))}static empty(){return new Ie(Ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Ut(e.slice()))}}function Kne(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ke.fromTimestamp(r===1e9?new An(n+1,0):new An(n,r));return new ya(s,Ie.empty(),e)}function Wne(t){return new ya(t.readTime,t.key,-1)}class ya{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ya(Ke.min(),Ie.empty(),-1)}static max(){return new ya(Ke.max(),Ie.empty(),-1)}}function Hne(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:ht(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qne="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gne{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wf(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==qne)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(s=>s?Q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new Q((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Qne(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ES.oe=-1;function vy(t){return t==null}function Vg(t){return t===0&&1/t==-1/0}function Yne(t){return typeof t=="number"&&Number.isInteger(t)&&!Vg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Uu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Xne(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function dV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n){this.comparator=e,this.root=n||Un.EMPTY}insert(e,n){return new Gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Un.BLACK,null,null))}remove(e){return new Gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xp(this.root,e,this.comparator,!0)}}class Xp{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Un{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Un.RED,this.left=s??Un.EMPTY,this.right=i??Un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Un(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Un.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ve();const e=this.left.check();if(e!==this.right.check())throw Ve();return e+(this.isRed()?0:1)}}Un.EMPTY=null,Un.RED=!0,Un.BLACK=!1;Un.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve()}get value(){throw Ve()}get color(){throw Ve()}get left(){throw Ve()}get right(){throw Ve()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.comparator=e,this.data=new Gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new w1(this.data.getIterator())}getIteratorFrom(e){return new w1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof zn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new zn(this.comparator);return n.data=e,n}}class w1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.fields=e,e.sort(Bn.comparator)}static empty(){return new js([])}unionWith(e){let n=new zn(Bn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new js(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new hV("Invalid base64 string: "+i):i}}(e);return new Wn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Wn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wn.EMPTY_BYTE_STRING=new Wn("");const Jne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wa(t){if(St(!!t),typeof t=="string"){let e=0;const n=Jne.exec(t);if(St(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:sn(t.seconds),nanos:sn(t.nanos)}}function sn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Cl(t){return typeof t=="string"?Wn.fromBase64String(t):Wn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function SS(t){const e=t.mapValue.fields.__previous_value__;return bS(e)?SS(e):e}function qh(t){const e=wa(t.mapValue.fields.__local_write_time__.timestampValue);return new An(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zne{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Gh{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Gh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Gh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Al(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bS(t)?4:tre(t)?9007199254740991:ere(t)?10:11:Ve()}function fi(t,e){if(t===e)return!0;const n=Al(t);if(n!==Al(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qh(t).isEqual(qh(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=wa(s.timestampValue),a=wa(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Cl(s.bytesValue).isEqual(Cl(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return sn(s.geoPointValue.latitude)===sn(i.geoPointValue.latitude)&&sn(s.geoPointValue.longitude)===sn(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return sn(s.integerValue)===sn(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=sn(s.doubleValue),a=sn(i.doubleValue);return o===a?Vg(o)===Vg(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return pu(t.arrayValue.values||[],e.arrayValue.values||[],fi);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(y1(o)!==y1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!fi(o[l],a[l])))return!1;return!0}(t,e);default:return Ve()}}function Qh(t,e){return(t.values||[]).find(n=>fi(n,e))!==void 0}function mu(t,e){if(t===e)return 0;const n=Al(t),r=Al(e);if(n!==r)return ht(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ht(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=sn(i.integerValue||i.doubleValue),l=sn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return x1(t.timestampValue,e.timestampValue);case 4:return x1(qh(t),qh(e));case 5:return ht(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Cl(i),l=Cl(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=ht(a[c],l[c]);if(u!==0)return u}return ht(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ht(sn(i.latitude),sn(o.latitude));return a!==0?a:ht(sn(i.longitude),sn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return _1(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,u;const h=i.fields||{},p=o.fields||{},g=(a=h.value)===null||a===void 0?void 0:a.arrayValue,w=(l=p.value)===null||l===void 0?void 0:l.arrayValue,v=ht(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((u=w==null?void 0:w.values)===null||u===void 0?void 0:u.length)||0);return v!==0?v:_1(g,w)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Jp.mapValue&&o===Jp.mapValue)return 0;if(i===Jp.mapValue)return 1;if(o===Jp.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const p=ht(l[h],u[h]);if(p!==0)return p;const g=mu(a[l[h]],c[u[h]]);if(g!==0)return g}return ht(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Ve()}}function x1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ht(t,e);const n=wa(t),r=wa(e),s=ht(n.seconds,r.seconds);return s!==0?s:ht(n.nanos,r.nanos)}function _1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=mu(n[s],r[s]);if(i)return i}return ht(n.length,r.length)}function gu(t){return h_(t)}function h_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=wa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Cl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=h_(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${h_(n.fields[o])}`;return s+"}"}(t.mapValue):Ve()}function f_(t){return!!t&&"integerValue"in t}function TS(t){return!!t&&"arrayValue"in t}function E1(t){return!!t&&"nullValue"in t}function b1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function km(t){return!!t&&"mapValue"in t}function ere(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Xd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Uu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Xd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function tre(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this.value=e}static empty(){return new ms({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!km(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xd(n)}setAll(e){let n=Bn.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Xd(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());km(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];km(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Uu(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new ms(Xd(this.value))}}function fV(t){const e=[];return Uu(t.fields,(n,r)=>{const s=new Bn([n]);if(km(r)){const i=fV(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new js(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new rr(e,0,Ke.min(),Ke.min(),Ke.min(),ms.empty(),0)}static newFoundDocument(e,n,r,s){return new rr(e,1,n,Ke.min(),r,s,0)}static newNoDocument(e,n){return new rr(e,2,n,Ke.min(),Ke.min(),ms.empty(),0)}static newUnknownDocument(e,n){return new rr(e,3,n,Ke.min(),Ke.min(),ms.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ms.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ms.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n){this.position=e,this.inclusive=n}}function S1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Ie.comparator(Ie.fromName(o.referenceValue),n.key):r=mu(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function T1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n="asc"){this.field=e,this.dir=n}}function nre(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{}class Sn extends pV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new sre(e,n,r):n==="array-contains"?new are(e,r):n==="in"?new lre(e,r):n==="not-in"?new cre(e,r):n==="array-contains-any"?new ure(e,r):new Sn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ire(e,r):new ore(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(mu(n,this.value)):n!==null&&Al(this.value)===Al(n)&&this.matchesComparison(mu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pi extends pV{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new pi(e,n)}matches(e){return mV(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function mV(t){return t.op==="and"}function gV(t){return rre(t)&&mV(t)}function rre(t){for(const e of t.filters)if(e instanceof pi)return!1;return!0}function p_(t){if(t instanceof Sn)return t.field.canonicalString()+t.op.toString()+gu(t.value);if(gV(t))return t.filters.map(e=>p_(e)).join(",");{const e=t.filters.map(n=>p_(n)).join(",");return`${t.op}(${e})`}}function vV(t,e){return t instanceof Sn?function(r,s){return s instanceof Sn&&r.op===s.op&&r.field.isEqual(s.field)&&fi(r.value,s.value)}(t,e):t instanceof pi?function(r,s){return s instanceof pi&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&vV(o,s.filters[a]),!0):!1}(t,e):void Ve()}function yV(t){return t instanceof Sn?function(n){return`${n.field.canonicalString()} ${n.op} ${gu(n.value)}`}(t):t instanceof pi?function(n){return n.op.toString()+" {"+n.getFilters().map(yV).join(" ,")+"}"}(t):"Filter"}class sre extends Sn{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class ire extends Sn{constructor(e,n){super(e,"in",n),this.keys=wV("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ore extends Sn{constructor(e,n){super(e,"not-in",n),this.keys=wV("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wV(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ie.fromName(r.referenceValue))}class are extends Sn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return TS(n)&&Qh(n.arrayValue,this.value)}}class lre extends Sn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qh(this.value.arrayValue,n)}}class cre extends Sn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Qh(this.value.arrayValue,n)}}class ure extends Sn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!TS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dre{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function C1(t,e=null,n=[],r=[],s=null,i=null,o=null){return new dre(t,e,n,r,s,i,o)}function CS(t){const e=Fe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>p_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),vy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>gu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>gu(r)).join(",")),e.ue=n}return e.ue}function AS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nre(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!T1(t.startAt,e.startAt)&&T1(t.endAt,e.endAt)}function m_(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function hre(t,e,n,r,s,i,o,a){return new yy(t,e,n,r,s,i,o,a)}function wy(t){return new yy(t)}function A1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function fre(t){return t.collectionGroup!==null}function Jd(t){const e=Fe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new zn(Bn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Ug(i,r))}),n.has(Bn.keyField().canonicalString())||e.ce.push(new Ug(Bn.keyField(),r))}return e.ce}function ui(t){const e=Fe(t);return e.le||(e.le=xV(e,Jd(t))),e.le}function pre(t){const e=Fe(t);return e.he||(e.he=xV(e,t.explicitOrderBy)),e.he}function xV(t,e){if(t.limitType==="F")return C1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ug(s.field,i)});const n=t.endAt?new Fg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Fg(t.startAt.position,t.startAt.inclusive):null;return C1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function g_(t,e,n){return new yy(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xy(t,e){return AS(ui(t),ui(e))&&t.limitType===e.limitType}function _V(t){return`${CS(ui(t))}|lt:${t.limitType}`}function nc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>yV(s)).join(", ")}]`),vy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>gu(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>gu(s)).join(",")),`Target(${r})`}(ui(t))}; limitType=${t.limitType})`}function _y(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Ie.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Jd(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=S1(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Jd(r),s)||r.endAt&&!function(o,a,l){const c=S1(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Jd(r),s))}(t,e)}function mre(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function EV(t){return(e,n)=>{let r=!1;for(const s of Jd(t)){const i=gre(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function gre(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?mu(l,c):Ve()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Uu(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return dV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vre=new Gt(Ie.comparator);function io(){return vre}const bV=new Gt(Ie.comparator);function Dd(...t){let e=bV;for(const n of t)e=e.insert(n.key,n);return e}function SV(t){let e=bV;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function el(){return Zd()}function TV(){return Zd()}function Zd(){return new Bu(t=>t.toString(),(t,e)=>t.isEqual(e))}const yre=new Gt(Ie.comparator),wre=new zn(Ie.comparator);function et(...t){let e=wre;for(const n of t)e=e.add(n);return e}const xre=new zn(ht);function _re(){return xre}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vg(e)?"-0":e}}function CV(t){return{integerValue:""+t}}function Ere(t,e){return Yne(e)?CV(e):RS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(){this._=void 0}}function bre(t,e,n){return t instanceof Bg?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&bS(i)&&(i=SS(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Yh?RV(t,e):t instanceof Xh?IV(t,e):function(s,i){const o=AV(s,i),a=R1(o)+R1(s.Pe);return f_(o)&&f_(s.Pe)?CV(a):RS(s.serializer,a)}(t,e)}function Sre(t,e,n){return t instanceof Yh?RV(t,e):t instanceof Xh?IV(t,e):n}function AV(t,e){return t instanceof $g?function(r){return f_(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Bg extends Ey{}class Yh extends Ey{constructor(e){super(),this.elements=e}}function RV(t,e){const n=PV(e);for(const r of t.elements)n.some(s=>fi(s,r))||n.push(r);return{arrayValue:{values:n}}}class Xh extends Ey{constructor(e){super(),this.elements=e}}function IV(t,e){let n=PV(e);for(const r of t.elements)n=n.filter(s=>!fi(s,r));return{arrayValue:{values:n}}}class $g extends Ey{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function R1(t){return sn(t.integerValue||t.doubleValue)}function PV(t){return TS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Tre(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Yh&&s instanceof Yh||r instanceof Xh&&s instanceof Xh?pu(r.elements,s.elements,fi):r instanceof $g&&s instanceof $g?fi(r.Pe,s.Pe):r instanceof Bg&&s instanceof Bg}(t.transform,e.transform)}class Cre{constructor(e,n){this.version=e,this.transformResults=n}}class Hi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hi}static exists(e){return new Hi(void 0,e)}static updateTime(e){return new Hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let by=class{};function NV(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new kV(t.key,Hi.none()):new qf(t.key,t.data,Hi.none());{const n=t.data,r=ms.empty();let s=new zn(Bn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new zl(t.key,r,new js(s.toArray()),Hi.none())}}function Are(t,e,n){t instanceof qf?function(s,i,o){const a=s.value.clone(),l=P1(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof zl?function(s,i,o){if(!Mm(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=P1(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(DV(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function eh(t,e,n,r){return t instanceof qf?function(i,o,a,l){if(!Mm(i.precondition,o))return a;const c=i.value.clone(),u=N1(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof zl?function(i,o,a,l){if(!Mm(i.precondition,o))return a;const c=N1(i.fieldTransforms,l,o),u=o.data;return u.setAll(DV(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Mm(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Rre(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=AV(r.transform,s||null);i!=null&&(n===null&&(n=ms.empty()),n.set(r.field,i))}return n||null}function I1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&pu(r,s,(i,o)=>Tre(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qf extends by{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class zl extends by{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function DV(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function P1(t,e,n){const r=new Map;St(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,Sre(o,a,n[s]))}return r}function N1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,bre(i,o,e))}return r}class kV extends by{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ire extends by{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pre{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Are(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=eh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=eh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=TV();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=NV(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),et())}isEqual(e){return this.batchId===e.batchId&&pu(this.mutations,e.mutations,(n,r)=>I1(n,r))&&pu(this.baseMutations,e.baseMutations,(n,r)=>I1(n,r))}}class IS{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){St(e.mutations.length===r.length);let s=function(){return yre}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new IS(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nre=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dre{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kre{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn,ot;function Mre(t){switch(t){default:return Ve();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function MV(t){if(t===void 0)return so("GRPC error has no .code"),X.UNKNOWN;switch(t){case hn.OK:return X.OK;case hn.CANCELLED:return X.CANCELLED;case hn.UNKNOWN:return X.UNKNOWN;case hn.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case hn.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case hn.INTERNAL:return X.INTERNAL;case hn.UNAVAILABLE:return X.UNAVAILABLE;case hn.UNAUTHENTICATED:return X.UNAUTHENTICATED;case hn.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case hn.NOT_FOUND:return X.NOT_FOUND;case hn.ALREADY_EXISTS:return X.ALREADY_EXISTS;case hn.PERMISSION_DENIED:return X.PERMISSION_DENIED;case hn.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case hn.ABORTED:return X.ABORTED;case hn.OUT_OF_RANGE:return X.OUT_OF_RANGE;case hn.UNIMPLEMENTED:return X.UNIMPLEMENTED;case hn.DATA_LOSS:return X.DATA_LOSS;default:return Ve()}}(ot=hn||(hn={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ore(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jre=new ml([4294967295,4294967295],0);function D1(t){const e=Ore().encode(t),n=new nV;return n.update(e),new Uint8Array(n.digest())}function k1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ml([n,r],0),new ml([s,i],0)]}class PS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new kd(`Invalid padding: ${n}`);if(r<0)throw new kd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new kd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new kd(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ml.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(ml.fromNumber(r)));return s.compare(jre)===1&&(s=new ml([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=D1(e),[r,s]=k1(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new PS(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=D1(e),[r,s]=k1(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class kd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Gf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Sy(Ke.min(),s,new Gt(ht),io(),et())}}class Gf{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Gf(r,n,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class OV{constructor(e,n){this.targetId=e,this.me=n}}class jV{constructor(e,n,r=Wn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class M1{constructor(){this.fe=0,this.ge=j1(),this.pe=Wn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=et(),n=et(),r=et();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ve()}}),new Gf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=j1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,St(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Lre{constructor(e){this.Le=e,this.Be=new Map,this.ke=io(),this.qe=O1(),this.Qe=new Gt(ht)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(m_(i))if(r===0){const o=new Ie(i.path);this.Ue(n,o,rr.newNoDocument(o,Ke.min()))}else St(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Cl(r).toUint8Array()}catch(l){if(l instanceof hV)return fu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new PS(o,s,i)}catch(l){return fu(l instanceof kd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&m_(a.target)){const l=new Ie(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,rr.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=et();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Sy(e,n,this.Qe,this.ke,r);return this.ke=io(),this.qe=O1(),this.Qe=new Gt(ht),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new M1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new zn(ht),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new M1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function O1(){return new Gt(Ie.comparator)}function j1(){return new Gt(Ie.comparator)}const Vre={asc:"ASCENDING",desc:"DESCENDING"},Fre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ure={and:"AND",or:"OR"};class Bre{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function v_(t,e){return t.useProto3Json||vy(e)?e:{value:e}}function zg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function $re(t,e){return zg(t,e.toTimestamp())}function di(t){return St(!!t),Ke.fromTimestamp(function(n){const r=wa(n);return new An(r.seconds,r.nanos)}(t))}function NS(t,e){return y_(t,e).canonicalString()}function y_(t,e){const n=function(s){return new Ut(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function VV(t){const e=Ut.fromString(t);return St(KV(e)),e}function w_(t,e){return NS(t.databaseId,e.path)}function f0(t,e){const n=VV(e);if(n.get(1)!==t.databaseId.projectId)throw new Ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(UV(n))}function FV(t,e){return NS(t.databaseId,e)}function zre(t){const e=VV(t);return e.length===4?Ut.emptyPath():UV(e)}function x_(t){return new Ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UV(t){return St(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function L1(t,e,n){return{name:w_(t,e),fields:n.value.mapValue.fields}}function Kre(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(St(u===void 0||typeof u=="string"),Wn.fromBase64String(u||"")):(St(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Wn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?X.UNKNOWN:MV(c.code);return new Ae(u,c.message||"")}(o);n=new jV(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=f0(t,r.document.name),i=di(r.document.updateTime),o=r.document.createTime?di(r.document.createTime):Ke.min(),a=new ms({mapValue:{fields:r.document.fields}}),l=rr.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Om(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=f0(t,r.document),i=r.readTime?di(r.readTime):Ke.min(),o=rr.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Om([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=f0(t,r.document),i=r.removedTargetIds||[];n=new Om([],i,s,null)}else{if(!("filter"in e))return Ve();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new kre(s,i),a=r.targetId;n=new OV(a,o)}}return n}function Wre(t,e){let n;if(e instanceof qf)n={update:L1(t,e.key,e.value)};else if(e instanceof kV)n={delete:w_(t,e.key)};else if(e instanceof zl)n={update:L1(t,e.key,e.data),updateMask:ese(e.fieldMask)};else{if(!(e instanceof Ire))return Ve();n={verify:w_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Bg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Yh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Xh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof $g)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Ve()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:$re(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ve()}(t,e.precondition)),n}function Hre(t,e){return t&&t.length>0?(St(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?di(s.updateTime):di(i);return o.isEqual(Ke.min())&&(o=di(i)),new Cre(o,s.transformResults||[])}(n,e))):[]}function qre(t,e){return{documents:[FV(t,e.path)]}}function BV(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=FV(t,s);const i=function(c){if(c.length!==0)return zV(pi.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(u=>function(p){return{field:ko(p.field),direction:Xre(p.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=v_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function Gre(t,e,n,r){const{_t:s,parent:i}=BV(t,e),o={},a=[];let l=0;return n.forEach(c=>{const u="aggregate_"+l++;o[u]=c.alias,c.aggregateType==="count"?a.push({alias:u,count:{}}):c.aggregateType==="avg"?a.push({alias:u,avg:{field:ko(c.fieldPath)}}):c.aggregateType==="sum"&&a.push({alias:u,sum:{field:ko(c.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:a,structuredQuery:s.structuredQuery},parent:s.parent},ut:o,parent:i}}function Qre(t){let e=zre(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){St(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const p=$V(h);return p instanceof pi&&gV(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(w){return new Ug(rc(w.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,vy(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,g=h.values||[];return new Fg(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,g=h.values||[];return new Fg(g,p)}(n.endAt)),hre(e,s,o,i,a,"F",l,c)}function Yre(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $V(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=rc(n.unaryFilter.field);return Sn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=rc(n.unaryFilter.field);return Sn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=rc(n.unaryFilter.field);return Sn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=rc(n.unaryFilter.field);return Sn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ve()}}(t):t.fieldFilter!==void 0?function(n){return Sn.create(rc(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return pi.create(n.compositeFilter.filters.map(r=>$V(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ve()}}(n.compositeFilter.op))}(t):Ve()}function Xre(t){return Vre[t]}function Jre(t){return Fre[t]}function Zre(t){return Ure[t]}function ko(t){return{fieldPath:t.canonicalString()}}function rc(t){return Bn.fromServerFormat(t.fieldPath)}function zV(t){return t instanceof Sn?function(n){if(n.op==="=="){if(b1(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NAN"}};if(E1(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(b1(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NAN"}};if(E1(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(n.field),op:Jre(n.op),value:n.value}}}(t):t instanceof pi?function(n){const r=n.getFilters().map(s=>zV(s));return r.length===1?r[0]:{compositeFilter:{op:Zre(n.op),filters:r}}}(t):Ve()}function ese(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KV(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n,r,s,i=Ke.min(),o=Ke.min(),a=Wn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Go(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tse{constructor(e){this.ct=e}}function nse(t){const e=Qre({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?g_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rse{constructor(){this.un=new sse}addToCollectionParentIndex(e,n){return this.un.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(ya.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(ya.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class sse{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new zn(Ut.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new zn(Ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new vu(0)}static kn(){return new vu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ise{constructor(){this.changes=new Bu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ose{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ase{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&eh(r.mutation,s,js.empty(),An.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,et()).next(()=>r))}getLocalViewOfDocuments(e,n,r=et()){const s=el();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Dd();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=el();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,et()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=io();const o=Zd(),a=function(){return Zd()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof zl)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),eh(u.mutation,c,u.mutation.getFieldMask(),An.now())):o.set(c.key,js.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new ose(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Zd();let s=new Gt((o,a)=>o-a),i=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||js.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(s.get(a.batchId)||et()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=TV();u.forEach(p=>{if(!i.has(p)){const g=NV(n.get(p),r.get(p));g!==null&&h.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fre(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Q.resolve(el());let a=-1,l=i;return o.next(c=>Q.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?Q.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,et())).next(u=>({batchId:a,changes:SV(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(r=>{let s=Dd();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Dd();return this.indexManager.getCollectionParents(e,i).next(a=>Q.forEach(a,l=>{const c=function(h,p){return new yy(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,rr.newInvalidDocument(u)))});let a=Dd();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&eh(u.mutation,c,js.empty(),An.now()),_y(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lse{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:di(s.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:nse(s.bundledQuery),readTime:di(s.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cse{constructor(){this.overlays=new Gt(Ie.comparator),this.Ir=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=el();return Q.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=el(),i=n.length+1,o=new Ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Gt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=el(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=el(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return Q.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Nre(n,r));let i=this.Ir.get(n);i===void 0&&(i=et(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class use{constructor(){this.sessionToken=Wn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.Tr=new zn(Pn.Er),this.dr=new zn(Pn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Pn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Pn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Ie(new Ut([])),r=new Pn(n,e),s=new Pn(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ie(new Ut([])),r=new Pn(n,e),s=new Pn(n,e+1);let i=et();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Pn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ie.comparator(e.key,n.key)||ht(e.wr,n.wr)}static Ar(e,n){return ht(e.wr,n.wr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dse{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new zn(Pn.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Pre(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new Pn(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pn(n,0),s=new Pn(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new zn(ht);return n.forEach(s=>{const i=new Pn(s,0),o=new Pn(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Ie.isDocumentKey(i)||(i=i.child(""));const o=new Pn(new Ie(i),0);let a=new zn(ht);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.wr)),!0)},o),Q.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){St(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Q.forEach(n.mutations,s=>{const i=new Pn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Pn(n,0),s=this.br.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hse{constructor(e){this.Mr=e,this.docs=function(){return new Gt(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():rr.newInvalidDocument(n))}getEntries(e,n){let r=io();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():rr.newInvalidDocument(s))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=io();const o=n.path,a=new Ie(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Hne(Wne(u),r)<=0||(s.has(u.key)||_y(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ve()}Or(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new fse(this)}getSize(e){return Q.resolve(this.size)}}class fse extends ise{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pse{constructor(e){this.persistence=e,this.Nr=new Bu(n=>CS(n),AS),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.Lr=0,this.Br=new DS,this.targetCount=0,this.kr=vu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new vu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Kn(n),Q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),Q.waitFor(i).next(()=>s)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),Q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mse{constructor(e,n){this.qr={},this.overlays={},this.Qr=new ES(0),this.Kr=!1,this.Kr=!0,this.$r=new use,this.referenceDelegate=e(this),this.Ur=new pse(this),this.indexManager=new rse,this.remoteDocumentCache=function(s){return new hse(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new tse(n),this.Gr=new lse(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cse,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new dse(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const s=new gse(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return Q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class gse extends Gne{constructor(e){super(),this.currentSequenceNumber=e}}class kS{constructor(e){this.persistence=e,this.Jr=new DS,this.Yr=null}static Zr(e){return new kS(e)}get Xr(){if(this.Yr)return this.Yr;throw Ve()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,r=>{const s=Ie.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,Ke.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Q.or([()=>Q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=et(),s=et();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new MS(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vse{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yse{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return d6()?8:Qne(ar())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new vse;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(yd()<=st.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",nc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(yd()<=st.DEBUG&&we("QueryEngine","Query:",nc(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(yd()<=st.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",nc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(n))):Q.resolve())}Yi(e,n){if(A1(n))return Q.resolve(null);let r=ui(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=g_(n,null,"F"),r=ui(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=et(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,g_(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,s){return A1(n)||s.isEqual(Ke.min())?Q.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?Q.resolve(null):(yd()<=st.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),nc(n)),this.rs(e,o,n,Kne(s,-1)).next(a=>a))})}ts(e,n){let r=new zn(EV(e));return n.forEach((s,i)=>{_y(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return yd()<=st.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",nc(n)),this.Ji.getDocumentsMatchingQuery(e,n,ya.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wse{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Gt(ht),this._s=new Bu(i=>CS(i),AS),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ase(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function xse(t,e,n,r){return new wse(t,e,n,r)}async function WV(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=et();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function _se(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,p=h.keys();let g=Q.resolve();return p.forEach(w=>{g=g.next(()=>u.getEntry(l,w)).next(v=>{const _=c.docVersions.get(w);St(_!==null),v.version.compareTo(_)<0&&(h.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=et();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function HV(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Ese(t,e){const n=Fe(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((u,h)=>{const p=s.get(h);if(!p)return;a.push(n.Ur.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(i,u.addedDocuments,h)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(Wn.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,r)),s=s.insert(h,g),function(v,_,x){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,g,u)&&a.push(n.Ur.updateTargetData(i,g))});let l=io(),c=et();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(bse(i,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(Ke.min())){const u=n.Ur.getLastRemoteSnapshotVersion(i).next(h=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return Q.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.os=s,i))}function bse(t,e,n){let r=et(),s=et();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=io();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Ke.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):we("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function Sse(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Tse(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,Q.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Go(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function __(t,e,n){const r=Fe(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Hf(o))throw o;we("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function V1(t,e,n){const r=Fe(t);let s=Ke.min(),i=et();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=Fe(l),p=h._s.get(u);return p!==void 0?Q.resolve(h.os.get(p)):h.Ur.getTargetData(c,u)}(r,o,ui(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:Ke.min(),n?i:et())).next(a=>(Cse(r,mre(e),a),{documents:a,Ts:i})))}function Cse(t,e,n){let r=t.us.get(e)||Ke.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class F1{constructor(){this.activeTargetIds=_re()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ase{constructor(){this.so=new F1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new F1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rse{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){we("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){we("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zp=null;function p0(){return Zp===null?Zp=function(){return 268435456+Math.round(2147483648*Math.random())}():Zp++,"0x"+Zp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ise={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pse{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jn="WebChannelConnection";class Nse extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=p0(),l=this.xo(n,r.toUriEncodedString());we("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,l,c,s).then(u=>(we("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw fu("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=Ise[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=p0();return new Promise((o,a)=>{const l=new rV;l.setWithCredentials(!0),l.listenOnce(iV.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Dm.NO_ERROR:const u=l.getResponseJson();we(Jn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Dm.TIMEOUT:we(Jn,`RPC '${e}' ${i} timed out`),a(new Ae(X.DEADLINE_EXCEEDED,"Request time out"));break;case Dm.HTTP_ERROR:const h=l.getStatus();if(we(Jn,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const w=function(_){const x=_.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(x)>=0?x:X.UNKNOWN}(g.status);a(new Ae(w,g.message))}else a(new Ae(X.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ae(X.UNAVAILABLE,"Connection failed."));break;default:Ve()}}finally{we(Jn,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);we(Jn,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=p0(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=lV(),a=aV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new sV({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");we(Jn,`Creating RPC '${e}' stream ${s}: ${u}`,l);const h=o.createWebChannel(u,l);let p=!1,g=!1;const w=new Pse({Io:_=>{g?we(Jn,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(p||(we(Jn,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),we(Jn,`RPC '${e}' stream ${s} sending:`,_),h.send(_))},To:()=>h.close()}),v=(_,x,y)=>{_.listen(x,b=>{try{y(b)}catch(A){setTimeout(()=>{throw A},0)}})};return v(h,Nd.EventType.OPEN,()=>{g||(we(Jn,`RPC '${e}' stream ${s} transport opened.`),w.yo())}),v(h,Nd.EventType.CLOSE,()=>{g||(g=!0,we(Jn,`RPC '${e}' stream ${s} transport closed`),w.So())}),v(h,Nd.EventType.ERROR,_=>{g||(g=!0,fu(Jn,`RPC '${e}' stream ${s} transport errored:`,_),w.So(new Ae(X.UNAVAILABLE,"The operation could not be completed")))}),v(h,Nd.EventType.MESSAGE,_=>{var x;if(!g){const y=_.data[0];St(!!y);const b=y,A=b.error||((x=b[0])===null||x===void 0?void 0:x.error);if(A){we(Jn,`RPC '${e}' stream ${s} received error:`,A);const P=A.status;let O=function(I){const R=hn[I];if(R!==void 0)return MV(R)}(P),T=A.message;O===void 0&&(O=X.INTERNAL,T="Unknown error status: "+P+" with message "+A.message),g=!0,w.So(new Ae(O,T)),h.close()}else we(Jn,`RPC '${e}' stream ${s} received:`,y),w.bo(y)}}),v(a,oV.STAT_EVENT,_=>{_.stat===d_.PROXY?we(Jn,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===d_.NOPROXY&&we(Jn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function m0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(t){return new Bre(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&we("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new qV(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(so(n.toString()),so("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new Ae(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return we("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(we("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Dse extends GV{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Kre(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ke.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ke.min():o.readTime?di(o.readTime):Ke.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=x_(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=m_(l)?{documents:qre(i,l)}:{query:BV(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=LV(i,o.resumeToken);const c=v_(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ke.min())>0){a.readTime=zg(i,o.snapshotVersion.toTimestamp());const c=v_(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Yre(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=x_(this.serializer),n.removeTarget=e,this.a_(n)}}class kse extends GV{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return St(!!e.streamToken),this.lastStreamToken=e.streamToken,St(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){St(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Hre(e.writeResults,e.commitTime),r=di(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=x_(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Wre(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mse extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new Ae(X.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,y_(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ae(X.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,y_(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ae(X.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Ose{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(so(n),this.D_=!1):we("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jse{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Kl(this)&&(we("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Fe(l);c.L_.add(4),await Qf(c),c.q_.set("Unknown"),c.L_.delete(4),await Cy(c)}(this))})}),this.q_=new Ose(r,s)}}async function Cy(t){if(Kl(t))for(const e of t.B_)await e(!0)}async function Qf(t){for(const e of t.B_)await e(!1)}function QV(t,e){const n=Fe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),VS(n)?LS(n):$u(n).r_()&&jS(n,e))}function OS(t,e){const n=Fe(t),r=$u(n);n.N_.delete(e),r.r_()&&YV(n,e),n.N_.size===0&&(r.r_()?r.o_():Kl(n)&&n.q_.set("Unknown"))}function jS(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$u(t).A_(e)}function YV(t,e){t.Q_.xe(e),$u(t).R_(e)}function LS(t){t.Q_=new Lre({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),$u(t).start(),t.q_.v_()}function VS(t){return Kl(t)&&!$u(t).n_()&&t.N_.size>0}function Kl(t){return Fe(t).L_.size===0}function XV(t){t.Q_=void 0}async function Lse(t){t.q_.set("Online")}async function Vse(t){t.N_.forEach((e,n)=>{jS(t,e)})}async function Fse(t,e){XV(t),VS(t)?(t.q_.M_(e),LS(t)):t.q_.set("Unknown")}async function Use(t,e,n){if(t.q_.set("Online"),e instanceof jV&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){we("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Kg(t,r)}else if(e instanceof Om?t.Q_.Ke(e):e instanceof OV?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ke.min()))try{const r=await HV(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.N_.get(c);u&&i.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.N_.get(l);if(!u)return;i.N_.set(l,u.withResumeToken(Wn.EMPTY_BYTE_STRING,u.snapshotVersion)),YV(i,l);const h=new Go(u.target,l,c,u.sequenceNumber);jS(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){we("RemoteStore","Failed to raise snapshot:",r),await Kg(t,r)}}async function Kg(t,e,n){if(!Hf(e))throw e;t.L_.add(1),await Qf(t),t.q_.set("Offline"),n||(n=()=>HV(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{we("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Cy(t)})}function JV(t,e){return e().catch(n=>Kg(t,n,e))}async function Ay(t){const e=Fe(t),n=xa(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Bse(e);)try{const s=await Sse(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,$se(e,s)}catch(s){await Kg(e,s)}ZV(e)&&eF(e)}function Bse(t){return Kl(t)&&t.O_.length<10}function $se(t,e){t.O_.push(e);const n=xa(t);n.r_()&&n.V_&&n.m_(e.mutations)}function ZV(t){return Kl(t)&&!xa(t).n_()&&t.O_.length>0}function eF(t){xa(t).start()}async function zse(t){xa(t).p_()}async function Kse(t){const e=xa(t);for(const n of t.O_)e.m_(n.mutations)}async function Wse(t,e,n){const r=t.O_.shift(),s=IS.from(r,e,n);await JV(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Ay(t)}async function Hse(t,e){e&&xa(t).V_&&await async function(r,s){if(function(o){return Mre(o)&&o!==X.ABORTED}(s.code)){const i=r.O_.shift();xa(r).s_(),await JV(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Ay(r)}}(t,e),ZV(t)&&eF(t)}async function B1(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),we("RemoteStore","RemoteStore received new credentials");const r=Kl(n);n.L_.add(3),await Qf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Cy(n)}async function qse(t,e){const n=Fe(t);e?(n.L_.delete(2),await Cy(n)):e||(n.L_.add(2),await Qf(n),n.q_.set("Unknown"))}function $u(t){return t.K_||(t.K_=function(n,r,s){const i=Fe(n);return i.w_(),new Dse(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:Lse.bind(null,t),Ro:Vse.bind(null,t),mo:Fse.bind(null,t),d_:Use.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),VS(t)?LS(t):t.q_.set("Unknown")):(await t.K_.stop(),XV(t))})),t.K_}function xa(t){return t.U_||(t.U_=function(n,r,s){const i=Fe(n);return i.w_(),new kse(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:zse.bind(null,t),mo:Hse.bind(null,t),f_:Kse.bind(null,t),g_:Wse.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Ay(t)):(await t.U_.stop(),t.O_.length>0&&(we("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new FS(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function US(t,e){if(so("AsyncQueue",`${e}: ${t}`),Hf(t))return new Ae(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=Dd(),this.sortedSet=new Gt(this.comparator)}static emptySet(e){return new jc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof jc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new jc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(){this.W_=new Gt(Ie.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ve():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class yu{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new yu(e,n,jc.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gse{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Qse{constructor(){this.queries=z1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Fe(n),i=s.queries;s.queries=z1(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Ae(X.ABORTED,"Firestore shutting down"))}}function z1(){return new Bu(t=>_V(t),xy)}async function tF(t,e){const n=Fe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new Gse,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=US(o,`Initialization of query '${nc(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&BS(n)}async function nF(t,e){const n=Fe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Yse(t,e){const n=Fe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&BS(n)}function Xse(t,e,n){const r=Fe(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function BS(t){t.Y_.forEach(e=>{e.next()})}var E_,K1;(K1=E_||(E_={})).ea="default",K1.Cache="cache";class rF{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new yu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=yu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==E_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e){this.key=e}}class iF{constructor(e){this.key=e}}class Jse{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=et(),this.mutatedKeys=et(),this.Aa=EV(e),this.Ra=new jc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new $1,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const p=s.get(u),g=_y(this.query,h)?h:null,w=!!p&&this.mutatedKeys.has(p.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let _=!1;p&&g?p.data.isEqual(g.data)?w!==v&&(r.track({type:3,doc:g}),_=!0):this.ga(p,g)||(r.track({type:2,doc:g}),_=!0,(l&&this.Aa(g,l)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),_=!0):p&&!g&&(r.track({type:1,doc:p}),_=!0,(l||c)&&(a=!0)),_&&(g?(o=o.add(g),i=v?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,h)=>function(g,w){const v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve()}};return v(g)-v(w)}(u.type,h.type)||this.Aa(u.doc,h.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new yu(this.query,e.Ra,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new $1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=et(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new iF(r))}),this.da.forEach(r=>{e.has(r)||n.push(new sF(r))}),n}ba(e){this.Ta=e.Ts,this.da=et();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return yu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Zse{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class eie{constructor(e){this.key=e,this.va=!1}}class tie{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Bu(a=>_V(a),xy),this.Ma=new Map,this.xa=new Set,this.Oa=new Gt(Ie.comparator),this.Na=new Map,this.La=new DS,this.Ba={},this.ka=new Map,this.qa=vu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function nie(t,e,n=!0){const r=dF(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await oF(r,e,n,!0),s}async function rie(t,e){const n=dF(t);await oF(n,e,!0,!1)}async function oF(t,e,n,r){const s=await Tse(t.localStore,ui(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await sie(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&QV(t.remoteStore,s),a}async function sie(t,e,n,r,s){t.Ka=(h,p,g)=>async function(v,_,x,y){let b=_.view.ma(x);b.ns&&(b=await V1(v.localStore,_.query,!1).then(({documents:T})=>_.view.ma(T,b)));const A=y&&y.targetChanges.get(_.targetId),P=y&&y.targetMismatches.get(_.targetId)!=null,O=_.view.applyChanges(b,v.isPrimaryClient,A,P);return H1(v,_.targetId,O.wa),O.snapshot}(t,h,p,g);const i=await V1(t.localStore,e,!0),o=new Jse(e,i.Ts),a=o.ma(i.documents),l=Gf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);H1(t,n,c.wa);const u=new Zse(e,n,o);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function iie(t,e,n){const r=Fe(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!xy(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await __(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&OS(r.remoteStore,s.targetId),b_(r,s.targetId)}).catch(Wf)):(b_(r,s.targetId),await __(r.localStore,s.targetId,!0))}async function oie(t,e){const n=Fe(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),OS(n.remoteStore,r.targetId))}async function aie(t,e,n){const r=pie(t);try{const s=await function(o,a){const l=Fe(o),c=An.now(),u=a.reduce((g,w)=>g.add(w.key),et());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=io(),v=et();return l.cs.getEntries(g,u).next(_=>{w=_,w.forEach((x,y)=>{y.isValidDocument()||(v=v.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,w)).next(_=>{h=_;const x=[];for(const y of a){const b=Rre(y,h.get(y.key).overlayedDocument);b!=null&&x.push(new zl(y.key,b,fV(b.value.mapValue),Hi.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,x,a)}).next(_=>{p=_;const x=_.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(g,_.batchId,x)})}).then(()=>({batchId:p.batchId,changes:SV(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Gt(ht)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await Yf(r,s.changes),await Ay(r.remoteStore)}catch(s){const i=US(s,"Failed to persist write");n.reject(i)}}async function aF(t,e){const n=Fe(t);try{const r=await Ese(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(St(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?St(o.va):s.removedDocuments.size>0&&(St(o.va),o.va=!1))}),await Yf(n,r,e)}catch(r){await Wf(r)}}function W1(t,e,n){const r=Fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Fe(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const p of h.j_)p.Z_(a)&&(c=!0)}),c&&BS(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function lie(t,e,n){const r=Fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Gt(Ie.comparator);o=o.insert(i,rr.newNoDocument(i,Ke.min()));const a=et().add(i),l=new Sy(Ke.min(),new Map,new Gt(ht),o,a);await aF(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),$S(r)}else await __(r.localStore,e,!1).then(()=>b_(r,e,n)).catch(Wf)}async function cie(t,e){const n=Fe(t),r=e.batch.batchId;try{const s=await _se(n.localStore,e);cF(n,r,null),lF(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yf(n,s)}catch(s){await Wf(s)}}async function uie(t,e,n){const r=Fe(t);try{const s=await function(o,a){const l=Fe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(St(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);cF(r,e,n),lF(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Yf(r,s)}catch(s){await Wf(s)}}function lF(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function cF(t,e,n){const r=Fe(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function b_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||uF(t,r)})}function uF(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(OS(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),$S(t))}function H1(t,e,n){for(const r of n)r instanceof sF?(t.La.addReference(r.key,e),die(t,r)):r instanceof iF?(we("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||uF(t,r.key)):Ve()}function die(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(we("SyncEngine","New document in limbo: "+n),t.xa.add(r),$S(t))}function $S(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ie(Ut.fromString(e)),r=t.qa.next();t.Na.set(r,new eie(n)),t.Oa=t.Oa.insert(n,r),QV(t.remoteStore,new Go(ui(wy(n.path)),r,"TargetPurposeLimboResolution",ES.oe))}}async function Yf(t,e,n){const r=Fe(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){s.push(c);const h=MS.Wi(l.targetId,c);i.push(h)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,c){const u=Fe(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Q.forEach(c,p=>Q.forEach(p.$i,g=>u.persistence.referenceDelegate.addReference(h,p.targetId,g)).next(()=>Q.forEach(p.Ui,g=>u.persistence.referenceDelegate.removeReference(h,p.targetId,g)))))}catch(h){if(!Hf(h))throw h;we("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const g=u.os.get(p),w=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(w);u.os=u.os.insert(p,v)}}}(r.localStore,i))}async function hie(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){we("SyncEngine","User change. New user:",e.toKey());const r=await WV(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new Ae(X.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yf(n,r.hs)}}function fie(t,e){const n=Fe(t),r=n.Na.get(e);if(r&&r.va)return et().add(r.key);{let s=et();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function dF(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=aF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fie.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lie.bind(null,e),e.Ca.d_=Yse.bind(null,e.eventManager),e.Ca.$a=Xse.bind(null,e.eventManager),e}function pie(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cie.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uie.bind(null,e),e}class q1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ty(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return xse(this.persistence,new yse,e.initialUser,this.serializer)}createPersistence(e){return new mse(kS.Zr,this.serializer)}createSharedClientState(e){return new Ase}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class mie{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>W1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hie.bind(null,this.syncEngine),await qse(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Qse}()}createDatastore(e){const n=Ty(e.databaseInfo.databaseId),r=function(i){return new Nse(i)}(e.databaseInfo);return function(i,o,a,l){return new Mse(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new jse(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>W1(this.syncEngine,n,0),function(){return U1.D()?new U1:new Rse}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const h=new tie(s,i,o,a,l,c);return u&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Fe(s);we("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Qf(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):so("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gie{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=tr.UNAUTHENTICATED,this.clientId=uV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{we("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(we("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(X.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=US(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function g0(t,e){t.asyncQueue.verifyOperationInProgress(),we("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await WV(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function G1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await yie(t);we("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>B1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>B1(e.remoteStore,s)),t._onlineComponents=e}function vie(t){return t.name==="FirebaseError"?t.code===X.FAILED_PRECONDITION||t.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function yie(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we("FirestoreClient","Using user provided OfflineComponentProvider");try{await g0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!vie(n))throw n;fu("Error using user provided cache. Falling back to memory cache: "+n),await g0(t,new q1)}}else we("FirestoreClient","Using default OfflineComponentProvider"),await g0(t,new q1);return t._offlineComponents}async function zS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we("FirestoreClient","Using user provided OnlineComponentProvider"),await G1(t,t._uninitializedComponentsProvider._online)):(we("FirestoreClient","Using default OnlineComponentProvider"),await G1(t,new mie))),t._onlineComponents}function wie(t){return zS(t).then(e=>e.syncEngine)}function xie(t){return zS(t).then(e=>e.datastore)}async function S_(t){const e=await zS(t),n=e.eventManager;return n.onListen=nie.bind(null,e.syncEngine),n.onUnlisten=iie.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rie.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=oie.bind(null,e.syncEngine),n}function _ie(t,e,n={}){const r=new Wi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new hF({next:p=>{o.enqueueAndForget(()=>nF(i,h));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new Ae(X.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new Ae(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new rF(wy(a.path),u,{includeMetadataChanges:!0,_a:!0});return tF(i,h)}(await S_(t),t.asyncQueue,e,n,r)),r.promise}function Eie(t,e,n){const r=new Wi;return t.asyncQueue.enqueueAndForget(async()=>{try{const s=await xie(t);r.resolve(async function(o,a,l){var c;const u=Fe(o),{request:h,ut:p,parent:g}=Gre(u.serializer,pre(a),l);u.connection.Fo||delete h.parent;const w=(await u.Lo("RunAggregationQuery",u.serializer.databaseId,g,h,1)).filter(_=>!!_.result);St(w.length===1);const v=(c=w[0].result)===null||c===void 0?void 0:c.aggregateFields;return Object.keys(v).reduce((_,x)=>(_[p[x]]=v[x],_),{})}(s,e,n))}catch(s){r.reject(s)}}),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(t,e,n){if(!n)throw new Ae(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bie(t,e,n,r){if(e===!0&&r===!0)throw new Ae(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Y1(t){if(!Ie.isDocumentKey(t))throw new Ae(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function X1(t){if(Ie.isDocumentKey(t))throw new Ae(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function KS(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve()}function qi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=KS(t);throw new Ae(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ae(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bie("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fF((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ry{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ae(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Ae(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new One;switch(r.type){case"firstParty":return new Fne(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Q1.get(n);r&&(we("ComponentProvider","Removing Datastore"),Q1.delete(n),r.terminate())}(this),Promise.resolve()}}function Sie(t,e,n,r={}){var s;const i=(t=qi(t,Ry))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&fu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=tr.MOCK_USER;else{a=Mk(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Ae(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new tr(c)}t._authCredentials=new jne(new cV(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mF=class gF{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gF(this.firestore,e,this._query)}};class kr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kr(this.firestore,e,this._key)}}class oa extends mF{constructor(e,n,r){super(e,n,wy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kr(this.firestore,null,new Ie(e))}withConverter(e){return new oa(this.firestore,e,this._path)}}function Tie(t,e,...n){if(t=cn(t),pF("collection","path",e),t instanceof Ry){const r=Ut.fromString(e,...n);return X1(r),new oa(t,null,r)}{if(!(t instanceof kr||t instanceof oa))throw new Ae(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ut.fromString(e,...n));return X1(r),new oa(t.firestore,null,r)}}function WS(t,e,...n){if(t=cn(t),arguments.length===1&&(e=uV.newId()),pF("doc","path",e),t instanceof Ry){const r=Ut.fromString(e,...n);return Y1(r),new kr(t,null,new Ie(r))}{if(!(t instanceof kr||t instanceof oa))throw new Ae(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ut.fromString(e,...n));return Y1(r),new kr(t.firestore,t instanceof oa?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cie{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new qV(this,"async_queue_retry"),this.Eu=()=>{const n=m0();n&&we("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=m0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=m0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new Wi;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Hf(e))throw e;we("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw so("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const s=FS.createAndSchedule(this,e,n,r,i=>this.Vu(i));return this.lu.push(s),s}du(){this.hu&&Ve()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}function Z1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class wu extends Ry{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new Cie}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||vF(this),this._firestoreClient.terminate()}}function Aie(t,e){const n=typeof t=="object"?t:Iv(),r=typeof t=="string"?t:"(default)",s=Sa(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Nk("firestore");i&&Sie(s,...i)}return s}function Iy(t){return t._firestoreClient||vF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function vF(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new Zne(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,fF(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new gie(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rie{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class Iie{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xu(Wn.fromBase64String(e))}catch(n){throw new Ae(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xu(Wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ht(this._lat,e._lat)||ht(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pie=/^__.*__$/;class Nie{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zl(e,this.data,this.fieldMask,n,this.fieldTransforms):new qf(e,this.data,n,this.fieldTransforms)}}function wF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve()}}class QS{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.yu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new QS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.vu(e),s}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.yu(),s}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Wg(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(wF(this.wu)&&Pie.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class Die{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ty(e)}Nu(e,n,r,s=!1){return new QS({wu:e,methodName:n,Ou:r,path:Bn.emptyPath(),Du:!1,xu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kie(t){const e=t._freezeSettings(),n=Ty(t._databaseId);return new Die(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Mie(t,e,n,r,s,i={}){const o=t.Nu(i.merge||i.mergeFields?2:0,e,n,s);bF("Data must be an object, but it was:",o,r);const a=_F(r,o);let l,c;if(i.merge)l=new js(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const p=SF(e,h,n);if(!o.contains(p))throw new Ae(X.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);jie(u,p)||u.push(p)}l=new js(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new Nie(new ms(a),l,c)}function xF(t,e){if(EF(t=cn(t)))return bF("Unsupported field value:",e,t),_F(t,e);if(t instanceof yF)return function(r,s){if(!wF(s.wu))throw s.Mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=xF(a,s.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Ere(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=An.fromDate(r);return{timestampValue:zg(s.serializer,i)}}if(r instanceof An){const i=new An(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zg(s.serializer,i)}}if(r instanceof qS)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xu)return{bytesValue:LV(s.serializer,r._byteString)};if(r instanceof kr){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:NS(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof GS)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return RS(a.serializer,l)})}}}}}}(r,s);throw s.Mu(`Unsupported field value: ${KS(r)}`)}(t,e)}function _F(t,e){const n={};return dV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uu(t,(r,s)=>{const i=xF(s,e.bu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function EF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof An||t instanceof qS||t instanceof xu||t instanceof kr||t instanceof yF||t instanceof GS)}function bF(t,e,n){if(!EF(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=KS(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function SF(t,e,n){if((e=cn(e))instanceof HS)return e._internalPath;if(typeof e=="string")return TF(t,e);throw Wg("Field path arguments must be of type string or ",t,!1,void 0,n)}const Oie=new RegExp("[~\\*/\\[\\]]");function TF(t,e,n){if(e.search(Oie)>=0)throw Wg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new HS(...e.split("."))._internalPath}catch{throw Wg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wg(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Ae(X.INVALID_ARGUMENT,a+t+l)}function jie(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new kr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Lie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(AF("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Lie extends CF{data(){return super.data()}}function AF(t,e){return typeof e=="string"?TF(t,e):e instanceof HS?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vie(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ae(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fie{convertValue(e,n="none"){switch(Al(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Cl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Uu(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>sn(o.doubleValue));return new GS(i)}convertGeoPoint(e){return new qS(sn(e.latitude),sn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=SS(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qh(e));default:return null}}convertTimestamp(e){const n=wa(e);return new An(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ut.fromString(e);St(KV(r));const s=new Gh(r.get(1),r.get(3)),i=new Ie(r.popFirst(5));return s.isEqual(n)||so(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uie(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function Bie(t){return new Rie("avg",SF("average",t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class RF extends CF{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(AF("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class jm extends RF{data(e={}){return super.data(e)}}class $ie{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Md(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new jm(this._firestore,this._userDataWriter,r.key,r,new Md(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new jm(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Md(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new jm(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Md(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:zie(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function zie(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kie(t){t=qi(t,kr);const e=qi(t.firestore,wu);return _ie(Iy(e),t._key).then(n=>IF(e,t,n))}class YS extends Fie{constructor(e){super(),this.firestore=e}convertBytes(e){return new xu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kr(this.firestore,null,n)}}function Wie(t,e,n){t=qi(t,kr);const r=qi(t.firestore,wu),s=Uie(t.converter,e,n);return qie(r,[Mie(kie(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Hi.none())])}function Hie(t,...e){var n,r,s;t=cn(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Z1(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Z1(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,c,u;if(t instanceof kr)c=qi(t.firestore,wu),u=wy(t._key.path),l={next:h=>{e[o]&&e[o](IF(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=qi(t,mF);c=qi(h.firestore,wu),u=h._query;const p=new YS(c);l={next:g=>{e[o]&&e[o](new $ie(c,p,h,g))},error:e[o+1],complete:e[o+2]},Vie(t._query)}return function(p,g,w,v){const _=new hF(v),x=new rF(g,_,w);return p.asyncQueue.enqueueAndForget(async()=>tF(await S_(p),x)),()=>{_.za(),p.asyncQueue.enqueueAndForget(async()=>nF(await S_(p),x))}}(Iy(c),u,a,l)}function qie(t,e){return function(r,s){const i=new Wi;return r.asyncQueue.enqueueAndForget(async()=>aie(await wie(r),s,i)),i.promise}(Iy(t),e)}function IF(t,e,n){const r=n.docs.get(e._key),s=new YS(t);return new RF(t,s,e._key,r,new Md(n.hasPendingWrites,n.fromCache),e.converter)}function Gie(t,e){const n=qi(t.firestore,wu),r=Iy(n),s=Xne(e,(i,o)=>new Dre(o,i.aggregateType,i._internalFieldPath));return Eie(r,t._query,s).then(i=>function(a,l,c){const u=new YS(a);return new Iie(l,u,c)}(n,t,i))}(function(e,n=!0){(function(s){Fu=s})(Ll),$s(new Es("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new wu(new Lne(r.getProvider("auth-internal")),new Bne(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ae(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gh(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Dr(v1,"4.7.2",e),Dr(v1,"4.7.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF="firebasestorage.googleapis.com",NF="storageBucket",Qie=2*60*1e3,Yie=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn extends ts{constructor(e,n,r=0){super(v0(e),`Firebase Storage: ${n} (${v0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,tn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return v0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var en;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(en||(en={}));function v0(t){return"storage/"+t}function XS(){const t="An unknown error occurred, please check the error payload for server response.";return new tn(en.UNKNOWN,t)}function Xie(t){return new tn(en.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Jie(t){return new tn(en.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Zie(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new tn(en.UNAUTHENTICATED,t)}function eoe(){return new tn(en.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function toe(t){return new tn(en.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function noe(){return new tn(en.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function roe(){return new tn(en.CANCELED,"User canceled the upload/download.")}function soe(t){return new tn(en.INVALID_URL,"Invalid URL '"+t+"'.")}function ioe(t){return new tn(en.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function ooe(){return new tn(en.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+NF+"' property when initializing the app?")}function aoe(){return new tn(en.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function loe(){return new tn(en.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function coe(t){return new tn(en.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function T_(t){return new tn(en.INVALID_ARGUMENT,t)}function DF(){return new tn(en.APP_DELETED,"The Firebase app was deleted.")}function uoe(t){return new tn(en.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function th(t,e){return new tn(en.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function wd(t){throw new tn(en.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Hr.makeFromUrl(e,n)}catch{return new Hr(e,"")}if(r.path==="")return r;throw ioe(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(A){A.path_=decodeURIComponent(A.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${u}/b/${s}/o${p}`,"i"),w={bucket:1,path:3},v=n===PF?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",x=new RegExp(`^https?://${v}/${s}/${_}`,"i"),b=[{regex:a,indices:l,postModify:i},{regex:g,indices:w,postModify:c},{regex:x,indices:{bucket:1,path:2},postModify:c}];for(let A=0;A<b.length;A++){const P=b[A],O=P.regex.exec(e);if(O){const T=O[P.indices.bucket];let E=O[P.indices.path];E||(E=""),r=new Hr(T,E),P.postModify(r);break}}if(r==null)throw soe(e);return r}}class doe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hoe(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(..._){c||(c=!0,e.apply(null,_))}function h(_){s=setTimeout(()=>{s=null,t(g,l())},_)}function p(){i&&clearTimeout(i)}function g(_,...x){if(c){p();return}if(_){p(),u.call(null,_,...x);return}if(l()||o){p(),u.call(null,_,...x);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,h(b)}let w=!1;function v(_){w||(w=!0,p(),!c&&(s!==null?(_||(a=2),clearTimeout(s),h(0)):_||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,v(!0)},n),v}function foe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function poe(t){return t!==void 0}function moe(t){return typeof t=="object"&&!Array.isArray(t)}function JS(t){return typeof t=="string"||t instanceof String}function eP(t){return ZS()&&t instanceof Blob}function ZS(){return typeof Blob<"u"}function tP(t,e,n,r){if(r<e)throw T_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw T_(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function kF(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var gl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(gl||(gl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function goe(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class voe{constructor(e,n,r,s,i,o,a,l,c,u,h,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,w)=>{this.resolve_=g,this.reject_=w,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new em(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===gl.NO_ERROR,l=i.getStatus();if(!a||goe(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===gl.ABORT;r(!1,new em(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new em(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());poe(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=XS();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?DF():roe();o(l)}else{const l=noe();o(l)}};this.canceled_?n(!1,new em(!1,null,!0)):this.backoffId_=hoe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&foe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class em{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function yoe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function woe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function xoe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _oe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Eoe(t,e,n,r,s,i,o=!0){const a=kF(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return xoe(c,e),yoe(c,n),woe(c,i),_oe(c,r),new voe(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function boe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Soe(...t){const e=boe();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(ZS())return new Blob(t);throw new tn(en.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Toe(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Coe(t){if(typeof atob>"u")throw coe("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class y0{constructor(e,n){this.data=e,this.contentType=n||null}}function Aoe(t,e){switch(t){case ni.RAW:return new y0(MF(e));case ni.BASE64:case ni.BASE64URL:return new y0(OF(t,e));case ni.DATA_URL:return new y0(Ioe(e),Poe(e))}throw XS()}function MF(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Roe(t){let e;try{e=decodeURIComponent(t)}catch{throw th(ni.DATA_URL,"Malformed data URL.")}return MF(e)}function OF(t,e){switch(t){case ni.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw th(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case ni.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw th(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Coe(e)}catch(s){throw s.message.includes("polyfill")?s:th(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class jF{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw th(ni.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Noe(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Ioe(t){const e=new jF(t);return e.base64?OF(ni.BASE64,e.rest):Roe(e.rest)}function Poe(t){return new jF(t).contentType}function Noe(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n){let r=0,s="";eP(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(eP(this.data_)){const r=this.data_,s=Toe(r,e,n);return s===null?null:new Mo(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Mo(r,!0)}}static getBlob(...e){if(ZS()){const n=e.map(r=>r instanceof Mo?r.data_:r);return new Mo(Soe.apply(null,n))}else{const n=e.map(o=>JS(o)?Aoe(ni.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new Mo(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(t){let e;try{e=JSON.parse(t)}catch{return null}return moe(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Doe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function koe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function VF(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Moe(t,e){return e}class cr{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||Moe}}let tm=null;function Ooe(t){return!JS(t)||t.length<2?t:VF(t)}function eT(){if(tm)return tm;const t=[];t.push(new cr("bucket")),t.push(new cr("generation")),t.push(new cr("metageneration")),t.push(new cr("name","fullPath",!0));function e(i,o){return Ooe(o)}const n=new cr("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new cr("size");return s.xform=r,t.push(s),t.push(new cr("timeCreated")),t.push(new cr("updated")),t.push(new cr("md5Hash",null,!0)),t.push(new cr("cacheControl",null,!0)),t.push(new cr("contentDisposition",null,!0)),t.push(new cr("contentEncoding",null,!0)),t.push(new cr("contentLanguage",null,!0)),t.push(new cr("contentType",null,!0)),t.push(new cr("metadata","customMetadata",!0)),tm=t,tm}function joe(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Hr(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function Loe(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return joe(r,t),r}function FF(t,e,n){const r=LF(e);return r===null?null:Loe(t,r,n)}function Voe(t,e,n,r){const s=LF(e);if(s===null||!JS(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const u=t.bucket,h=t.fullPath,p="/b/"+o(u)+"/o/"+o(h),g=zu(p,n,r),w=kF({alt:"media",token:c});return g+w})[0]}function Foe(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class Xf{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(t){if(!t)throw XS()}function BF(t,e){function n(r,s){const i=FF(t,s,e);return UF(i!==null),i}return n}function Uoe(t,e){function n(r,s){const i=FF(t,s,e);return UF(i!==null),Voe(i,s,t.host,t._protocol)}return n}function $F(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=eoe():s=Zie():n.getStatus()===402?s=Jie(t.bucket):n.getStatus()===403?s=toe(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function Py(t){const e=$F(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=Xie(t.path)),i.serverResponse=s.serverResponse,i}return n}function Boe(t,e,n){const r=e.fullServerUrl(),s=zu(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new Xf(s,i,BF(t,n),o);return a.errorHandler=Py(e),a}function $oe(t,e,n){const r=e.fullServerUrl(),s=zu(r,t.host,t._protocol)+"?alt=media",i="GET",o=t.maxOperationRetryTime,a=new Xf(s,i,(l,c)=>c,o);return a.errorHandler=Py(e),a}function zoe(t,e,n){const r=e.fullServerUrl(),s=zu(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new Xf(s,i,Uoe(t,n),o);return a.errorHandler=Py(e),a}function Koe(t,e){const n=e.fullServerUrl(),r=zu(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(l,c){}const a=new Xf(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=Py(e),a}function Woe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Hoe(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Woe(null,e)),r}function qoe(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let A=0;A<2;A++)b=b+Math.random().toString().slice(2);return b}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=Hoe(e,r,s),u=Foe(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+l+"--",g=Mo.getBlob(h,r,p);if(g===null)throw aoe();const w={name:c.fullPath},v=zu(i,t.host,t._protocol),_="POST",x=t.maxUploadRetryTime,y=new Xf(v,_,BF(t,n),x);return y.urlParams=w,y.headers=o,y.body=g.uploadData(),y.errorHandler=$F(e),y}class zF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=gl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=gl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=gl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw wd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw wd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw wd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Goe extends zF{initXhr(){this.xhr_.responseType="text"}}function Ny(){return new Goe}class Qoe extends zF{initXhr(){this.xhr_.responseType="blob"}}function Yoe(){return new Qoe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n){this._service=e,n instanceof Hr?this._location=n:this._location=Hr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Rl(e,n)}get root(){const e=new Hr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VF(this._location.path)}get storage(){return this._service}get parent(){const e=Doe(this._location.path);if(e===null)return null;const n=new Hr(this._location.bucket,e);return new Rl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw uoe(e)}}function Xoe(t,e){t._throwIfRoot("getBlob");const n=$oe(t.storage,t._location);return t.storage.makeRequestWithTokens(n,Yoe).then(r=>r)}function Joe(t,e,n){t._throwIfRoot("uploadBytes");const r=qoe(t.storage,t._location,eT(),new Mo(e,!0),n);return t.storage.makeRequestWithTokens(r,Ny).then(s=>({metadata:s,ref:t}))}function Zoe(t){t._throwIfRoot("getMetadata");const e=Boe(t.storage,t._location,eT());return t.storage.makeRequestWithTokens(e,Ny)}function eae(t){t._throwIfRoot("getDownloadURL");const e=zoe(t.storage,t._location,eT());return t.storage.makeRequestWithTokens(e,Ny).then(n=>{if(n===null)throw loe();return n})}function tae(t){t._throwIfRoot("deleteObject");const e=Koe(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Ny)}function nae(t,e){const n=koe(t._location.path,e),r=new Hr(t._location.bucket,n);return new Rl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rae(t){return/^[A-Za-z]+:\/\//.test(t)}function sae(t,e){return new Rl(t,e)}function KF(t,e){if(t instanceof tT){const n=t;if(n._bucket==null)throw ooe();const r=new Rl(n,n._bucket);return e!=null?KF(r,e):r}else return e!==void 0?nae(t,e):t}function iae(t,e){if(e&&rae(e)){if(t instanceof tT)return sae(t,e);throw T_("To use ref(service, url), the first argument must be a Storage instance.")}else return KF(t,e)}function nP(t,e){const n=e==null?void 0:e[NF];return n==null?null:Hr.makeFromBucketSpec(n,t)}function oae(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:Mk(s,t.app.options.projectId))}class tT{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=PF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Qie,this._maxUploadRetryTime=Yie,this._requests=new Set,s!=null?this._bucket=Hr.makeFromBucketSpec(s,this._host):this._bucket=nP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Hr.makeFromBucketSpec(this._url,e):this._bucket=nP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Rl(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new doe(DF());{const o=Eoe(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const rP="@firebase/storage",sP="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF="storage";function aae(t,e,n){return t=cn(t),Joe(t,e,n)}function lae(t){return t=cn(t),Zoe(t)}function cae(t){return t=cn(t),eae(t)}function uae(t){return t=cn(t),tae(t)}function Dy(t,e){return t=cn(t),iae(t,e)}function dae(t=Iv(),e){t=cn(t);const r=Sa(t,WF).getImmediate({identifier:e}),s=Nk("storage");return s&&hae(r,...s),r}function hae(t,e,n,r={}){oae(t,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fae(t,e){return t=cn(t),Xoe(t)}function pae(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new tT(n,r,s,e,Ll)}function mae(){$s(new Es(WF,pae,"PUBLIC").setMultipleInstances(!0)),Dr(rP,sP,""),Dr(rP,sP,"esm2017")}mae();const HF="@firebase/installations",nT="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF=1e4,GF=`w:${nT}`,QF="FIS_v2",gae="https://firebaseinstallations.googleapis.com/v1",vae=60*60*1e3,yae="installations",wae="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xae={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Il=new jl(yae,wae,xae);function YF(t){return t instanceof ts&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XF({projectId:t}){return`${gae}/projects/${t}/installations`}function JF(t){return{token:t.token,requestStatus:2,expiresIn:Eae(t.expiresIn),creationTime:Date.now()}}async function ZF(t,e){const r=(await e.json()).error;return Il.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function e4({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function _ae(t,{refreshToken:e}){const n=e4(t);return n.append("Authorization",bae(e)),n}async function t4(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Eae(t){return Number(t.replace("s","000"))}function bae(t){return`${QF} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sae({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=XF(t),s=e4(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:QF,appId:t.appId,sdkVersion:GF},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await t4(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:JF(c.authToken)}}else throw await ZF("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tae(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cae=/^[cdef][\w-]{21}$/,C_="";function Aae(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Rae(t);return Cae.test(n)?n:C_}catch{return C_}}function Rae(t){return Tae(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=new Map;function s4(t,e){const n=ky(t);i4(n,e),Iae(n,e)}function i4(t,e){const n=r4.get(t);if(n)for(const r of n)r(e)}function Iae(t,e){const n=Pae();n&&n.postMessage({key:t,fid:e}),Nae()}let tl=null;function Pae(){return!tl&&"BroadcastChannel"in self&&(tl=new BroadcastChannel("[Firebase] FID Change"),tl.onmessage=t=>{i4(t.data.key,t.data.fid)}),tl}function Nae(){r4.size===0&&tl&&(tl.close(),tl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dae="firebase-installations-database",kae=1,Pl="firebase-installations-store";let w0=null;function rT(){return w0||(w0=Uk(Dae,kae,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Pl)}}})),w0}async function Hg(t,e){const n=ky(t),s=(await rT()).transaction(Pl,"readwrite"),i=s.objectStore(Pl),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&s4(t,e.fid),e}async function o4(t){const e=ky(t),r=(await rT()).transaction(Pl,"readwrite");await r.objectStore(Pl).delete(e),await r.done}async function My(t,e){const n=ky(t),s=(await rT()).transaction(Pl,"readwrite"),i=s.objectStore(Pl),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&s4(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sT(t){let e;const n=await My(t.appConfig,r=>{const s=Mae(r),i=Oae(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===C_?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Mae(t){const e=t||{fid:Aae(),registrationStatus:0};return a4(e)}function Oae(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Il.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=jae(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Lae(t)}:{installationEntry:e}}async function jae(t,e){try{const n=await Sae(t,e);return Hg(t.appConfig,n)}catch(n){throw YF(n)&&n.customData.serverCode===409?await o4(t.appConfig):await Hg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Lae(t){let e=await iP(t.appConfig);for(;e.registrationStatus===1;)await n4(100),e=await iP(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await sT(t);return r||n}return e}function iP(t){return My(t,e=>{if(!e)throw Il.create("installation-not-found");return a4(e)})}function a4(t){return Vae(t)?{fid:t.fid,registrationStatus:0}:t}function Vae(t){return t.registrationStatus===1&&t.registrationTime+qF<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fae({appConfig:t,heartbeatServiceProvider:e},n){const r=Uae(t,n),s=_ae(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:GF,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await t4(()=>fetch(r,a));if(l.ok){const c=await l.json();return JF(c)}else throw await ZF("Generate Auth Token",l)}function Uae(t,{fid:e}){return`${XF(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iT(t,e=!1){let n;const r=await My(t.appConfig,i=>{if(!l4(i))throw Il.create("not-registered");const o=i.authToken;if(!e&&zae(o))return i;if(o.requestStatus===1)return n=Bae(t,e),i;{if(!navigator.onLine)throw Il.create("app-offline");const a=Wae(i);return n=$ae(t,a),a}});return n?await n:r.authToken}async function Bae(t,e){let n=await oP(t.appConfig);for(;n.authToken.requestStatus===1;)await n4(100),n=await oP(t.appConfig);const r=n.authToken;return r.requestStatus===0?iT(t,e):r}function oP(t){return My(t,e=>{if(!l4(e))throw Il.create("not-registered");const n=e.authToken;return Hae(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function $ae(t,e){try{const n=await Fae(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Hg(t.appConfig,r),n}catch(n){if(YF(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await o4(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Hg(t.appConfig,r)}throw n}}function l4(t){return t!==void 0&&t.registrationStatus===2}function zae(t){return t.requestStatus===2&&!Kae(t)}function Kae(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+vae}function Wae(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Hae(t){return t.requestStatus===1&&t.requestTime+qF<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qae(t){const e=t,{installationEntry:n,registrationPromise:r}=await sT(e);return r?r.catch(console.error):iT(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gae(t,e=!1){const n=t;return await Qae(n),(await iT(n,e)).token}async function Qae(t){const{registrationPromise:e}=await sT(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yae(t){if(!t||!t.options)throw x0("App Configuration");if(!t.name)throw x0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw x0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function x0(t){return Il.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4="installations",Xae="installations-internal",Jae=t=>{const e=t.getProvider("app").getImmediate(),n=Yae(e),r=Sa(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Zae=t=>{const e=t.getProvider("app").getImmediate(),n=Sa(e,c4).getImmediate();return{getId:()=>qae(n),getToken:s=>Gae(n,s)}};function ele(){$s(new Es(c4,Jae,"PUBLIC")),$s(new Es(Xae,Zae,"PRIVATE"))}ele();Dr(HF,nT);Dr(HF,nT,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="analytics",tle="firebase_id",nle="origin",rle=60*1e3,sle="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",oT="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new Rv("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ile={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Qr=new jl("analytics","Analytics",ile);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ole(t){if(!t.startsWith(oT)){const e=Qr.create("invalid-gtag-resource",{gtagURL:t});return Mr.warn(e.message),""}return t}function u4(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function ale(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function lle(t,e){const n=ale("firebase-js-sdk-policy",{createScriptURL:ole}),r=document.createElement("script"),s=`${oT}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function cle(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function ule(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await u4(n)).find(c=>c.measurementId===s);l&&await e[l.appId]}}catch(a){Mr.error(a)}t("config",s,i)}async function dle(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await u4(n);for(const l of o){const c=a.find(h=>h.measurementId===l),u=c&&e[c.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Mr.error(i)}}function hle(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await dle(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await ule(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Mr.error(a)}}return s}function fle(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=hle(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function ple(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(oT)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mle=30,gle=1e3;class vle{constructor(e={},n=gle){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const d4=new vle;function yle(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function wle(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:yle(r)},i=sle.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Qr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function xle(t,e=d4,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Qr.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Qr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new ble;return setTimeout(async()=>{a.abort()},rle),h4({appId:r,apiKey:s,measurementId:i},o,a,e)}async function h4(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=d4){var i;const{appId:o,measurementId:a}=t;try{await _le(r,e)}catch(l){if(a)return Mr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await wle(t);return s.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!Ele(c)){if(s.deleteThrottleMetadata(o),a)return Mr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?PA(n,s.intervalMillis,mle):PA(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return s.setThrottleMetadata(o,h),Mr.debug(`Calling attemptFetch again in ${u} millis`),h4(t,h,r,s)}}function _le(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Qr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Ele(t){if(!(t instanceof ts)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class ble{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Sle(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tle(){if(jk())try{await Lk()}catch(t){return Mr.warn(Qr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Mr.warn(Qr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Cle(t,e,n,r,s,i,o){var a;const l=xle(t);l.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&Mr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>Mr.error(g)),e.push(l);const c=Tle().then(g=>{if(g)return r.getId()}),[u,h]=await Promise.all([l,c]);ple(i)||lle(i,u.measurementId),s("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[nle]="firebase",p.update=!0,h!=null&&(p[tle]=h),s("config",u.measurementId,p),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ale{constructor(e){this.app=e}_delete(){return delete nh[this.app.options.appId],Promise.resolve()}}let nh={},aP=[];const lP={};let _0="dataLayer",Rle="gtag",cP,f4,uP=!1;function Ile(){const t=[];if(Ok()&&t.push("This is a browser extension environment."),h6()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Qr.create("invalid-analytics-context",{errorInfo:e});Mr.warn(n.message)}}function Ple(t,e,n){Ile();const r=t.options.appId;if(!r)throw Qr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Mr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Qr.create("no-api-key");if(nh[r]!=null)throw Qr.create("already-exists",{id:r});if(!uP){cle(_0);const{wrappedGtag:i,gtagCore:o}=fle(nh,aP,lP,_0,Rle);f4=i,cP=o,uP=!0}return nh[r]=Cle(t,aP,lP,e,cP,_0,n),new Ale(t)}function Nle(t=Iv()){t=cn(t);const e=Sa(t,qg);return e.isInitialized()?e.getImmediate():Dle(t)}function Dle(t,e={}){const n=Sa(t,qg);if(n.isInitialized()){const s=n.getImmediate();if(Ih(e,n.getOptions()))return s;throw Qr.create("already-initialized")}return n.initialize({options:e})}function p4(t,e,n,r){t=cn(t),Sle(f4,nh[t.app.options.appId],e,n,r).catch(s=>Mr.error(s))}const dP="@firebase/analytics",hP="0.10.8";function kle(){$s(new Es(qg,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return Ple(r,s,n)},"PUBLIC")),$s(new Es("analytics-internal",t,"PRIVATE")),Dr(dP,hP),Dr(dP,hP,"esm2017");function t(e){try{const n=e.getProvider(qg).getImmediate();return{logEvent:(r,s,i)=>p4(n,r,s,i)}}catch(n){throw Qr.create("interop-component-reg-failed",{reason:n})}}}kle();const Mle={apiKey:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",authDomain:"cob-chatbot.firebaseapp.com",projectId:"cob-chatbot",storageBucket:"cob-chatbot.appspot.com",messagingSenderId:"275602489097",appId:"1:275602489097:web:5c490d86e9f69e1314ddd8",measurementId:"G-65F7KP2KRQ"},aT=Bk(Mle),Ole=Nle(aT),Oy=Aie(aT),jy=dae(aT),A_=async(t,e,n)=>{const r=Dy(jy,`${e}/${n}`),s=await aae(r,t);if(!s.metadata||s.metadata.fullPath!==r.fullPath)throw new Error(`Error uploading file ${t.name}, metadata does not exist or path does not match`);return await cae(s.ref)},m4=async t=>{const e=Dy(jy,t),n=await fae(e),r=t.split("/").pop()||"unknown_file";return new File([n],r,{type:n.type})},jle=async(t,e)=>{const n=Dy(jy,`${t}/${e}`);return await lae(n)},Lle=async t=>{try{const e=Dy(jy,t);await uae(e),yt("File deleted successfully!")}catch(e){e instanceof Error&&yt(e.message)}},g4=async(t,e,n,r=!1)=>{try{const s=WS(Oy,t,e);await Wie(s,n,{merge:r})}catch(s){s instanceof Error&&yt(s.message)}},v4=async(t,e)=>{const n=WS(Oy,t,e),r=await Kie(n);if(r.exists())return r.data();throw new Error("Document does not exist")},Vle=(t,e,n)=>{try{const r=WS(Oy,t,e);return Hie(r,i=>{i.exists()?n(i.data()):(yt("No such document!"),n(null))})}catch(r){throw r}},Fle=async()=>{var t;try{const e=Tie(Oy,"users"),r=(t=(await Gie(e,{averageRating:Bie("rating")})).data().averageRating)==null?void 0:t.toFixed(2);if(!r)throw new Error("Failed to retrieve average rating from users collection");return r}catch(e){return console.error(e),null}},y4=t=>{const{file:e}=gt(w=>w.formData),n=gt(w=>w.setFormData),r=gt(w=>w.setFile),[s,i]=m.useState(!1),[o,a]=m.useState(!1),l=m.useRef(null),c=m.useRef(null);return{file:e,setFile:r,isLinkDialogOpen:o,setIsLinkDialogOpen:a,handleInsertLink:(w,v)=>{const _=c.current;if(_){const x=_.selectionStart,y=_.selectionEnd,b=t.substring(0,x)+`<${v}>{=${w}=}`+t.substring(y);n("answer",b),_.focus(),_.setSelectionRange(x+w.length+4,x+v.length+4)}},handleFileChange:async w=>{w.target.files&&w.target.files[0]&&r(w.target.files[0])},handleRemoveFile:async()=>{e&&(n("fileUrl",null),r(null),l.current&&(l.current.value=""))},fileInputRef:l,answerTextAreaRef:c,getFileData:async w=>{try{i(!0);const v=Uh(w);if(!v)return;const _=await m4(`knowledge-files/${v}`);r(_)}catch(v){v instanceof Error&&yt(v.message??"An error occured while getting file data",!0),console.error(v)}finally{i(!1)}},isFetchingFileData:s}},Ule=()=>{const t=gt(h=>h.formData),e=gt(h=>h.setFormData),{isLinkDialogOpen:n,setIsLinkDialogOpen:r,handleFileChange:s,handleInsertLink:i,handleRemoveFile:o,fileInputRef:a,answerTextAreaRef:l,getFileData:c,isFetchingFileData:u}=y4(t.answer);return m.useEffect(()=>{(async()=>{await c(t.fileUrl)})()},[t.fileUrl]),d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-fit",children:d.jsx(gy,{tooltip:bne,children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("label",{className:"cursor-pointer font-medium ",children:"Answer"}),d.jsx(Fv,{className:"size-4 text-[#64748b] cursor-pointer"})]})})}),d.jsx(eV,{answer:t.answer,handleTextChange:e,onFileChange:s,fileRef:a,textAreaRef:l,isLinkDropDownVisible:n,setIsLinkDropDownVisible:r,onInsertLink:i}),u?d.jsx(Ce,{className:"w-full h-[70px]"}):t.file?d.jsx(tV,{file:t.file,removeFile:o}):null]})},Ble=t=>{const{knowledgeBaseName:e,...n}=t;return{knowledgeBaseName:e,knowledgeEntry:n}},$le=async()=>{const{success:t,knowledgeBase:e}=await Vf("/api/knowledge/base");if(!t)throw new Error("Failed to fetch knowledge collection");return e},zle=async t=>{const{success:e,knowledgeEntry:n}=await Vf(`/api/knowledge/${t}`);if(!e)throw new Error(`Failed to fetch knowledge base ${t} entry`);return n},Kle=async t=>{const{knowledgeBaseName:e,...n}=t,r={knowledgeBaseName:e,knowledgeEntries:[{...n}]},{success:s,message:i}=await Ra("/api/knowledge",{},r);if(!s)throw new Error(i);return i},Wle=async t=>{const e=Ble(t),{success:n,message:r}=await Ra("/api/knowledge/entry",{},e);if(!n)throw new Error(r)},Hle=async(t,e)=>{const n={knowledgeEntryIntent:t,knowledgeEntry:e},{success:r,message:s}=await ty("/api/knowledge/entry",{},n);if(!r)throw new Error(s)},qle=async t=>{const{knowledgeBaseName:e,newKnowledgeBaseName:n}=t,r={knowledgeBaseName:e,newKnowledgeBaseName:n},{success:s,message:i}=await ty("/api/knowledge/base",{},r);if(!s)throw new Error(i);return i},Gle=async t=>{const{success:e,message:n}=await Ff(`/api/knowledge/${t}`);if(!e)throw new Error(n)},Qle=async t=>{const{success:e,message:n}=await Ff(`/api/knowledge/entry/${t}`);if(!e)throw new Error(n);return n},Wt=ao(t=>({knowledgeCollection:{},knowledgeBaseNameList:null,selectedKnowledgeBaseEntryList:null,selectedKnowledgeBaseName:"",selectedKnowledgeBaseItem:"",selectedKnowledgeEntry:null,selectedKnowledgeEntryIntentItem:"",selectedKnowledgeBaseArchiveItem:{id:null,name:null},selectedKnowledgeEntryArchiveItem:{id:null,name:null},updateKnowledgeCollection:e=>{t(()=>({knowledgeCollection:e}))},setKnowledgeBaseNameList:e=>{t(()=>({knowledgeBaseNameList:e}))},setSelectedKnowledgeBaseEntryList:e=>{t(()=>({selectedKnowledgeBaseEntryList:e}))},setSelectedKnowledgeBaseName:e=>{t(()=>({selectedKnowledgeBaseName:e}))},setSelectedKnowledgeBaseItem:e=>{t(()=>({selectedKnowledgeBaseItem:e}))},setSelectedKnowledgeEntry:e=>{t(()=>({selectedKnowledgeEntry:e}))},setSelectedKnowledgeEntryIntentItem:e=>t({selectedKnowledgeEntryIntentItem:e}),setSelectedKnowledgeBaseArchiveItem:e=>t({selectedKnowledgeBaseArchiveItem:e}),setSelectedKnowledgeEntryArchiveItem:e=>t({selectedKnowledgeEntryArchiveItem:e})})),Yle="knowledge-files",fP="image",Xle=async t=>{const e=`${Yle}/${t}`;await Lle(e)},Jle=(t,e)=>{const n=new Set([...Object.keys(t),...Object.keys(e)]);return Array.from(n).reduce((r,s)=>{if(t[s]instanceof Array&&e[s]instanceof Array){t[s].forEach((a,l)=>{if(a!==e[s][l]){r[s]||(r[s]=[]);const c={index:l,value:e[s][l]};r[s].push(c)}});const i=t[s].length,o=e[s].length;if(i<o){r.newDocuments=[];for(let a=i;a<o;a++)e[s][a]&&r.newDocuments.push(e[s][a])}return r}return t[s]!==e[s]&&(r[s]=e[s]),r},{})},Zle=1,ece=1e6;let E0=0;function tce(){return E0=(E0+1)%Number.MAX_SAFE_INTEGER,E0.toString()}const b0=new Map,pP=t=>{if(b0.has(t))return;const e=setTimeout(()=>{b0.delete(t),rh({type:"REMOVE_TOAST",toastId:t})},ece);b0.set(t,e)},nce=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Zle)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?pP(n):t.toasts.forEach(r=>{pP(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Lm=[];let Vm={toasts:[]};function rh(t){Vm=nce(Vm,t),Lm.forEach(e=>{e(Vm)})}function rce({...t}){const e=tce(),n=s=>rh({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>rh({type:"DISMISS_TOAST",toastId:e});return rh({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function w4(){const[t,e]=m.useState(Vm);return m.useEffect(()=>(Lm.push(e),()=>{const n=Lm.indexOf(e);n>-1&&Lm.splice(n,1)}),[t]),{...t,toast:rce,dismiss:n=>rh({type:"DISMISS_TOAST",toastId:n})}}const yi=()=>{const{toast:t}=w4();return t},mP="knowledge-files",Fm=async t=>{try{const n=(await jle(mP,t.name)).size||0,r=t.size;if(n===r)throw yt(`Knowledge file ${t.name} already exists with the same size, skipping upload`),new Error(`Knowledge file ${t.name} already exist`);yt(`File ${t.name} exists but with a different size. Uploading new file.`)}catch(e){if(e instanceof ts&&e.code==="storage/object-not-found")return yt(`No exiting file found, uploading the file: ${t.name}`),await A_(t,mP,t.name);throw e}},sce=()=>{const t=yi(),e=Wt(g=>g.selectedKnowledgeEntry),n=Wt(g=>g.setSelectedKnowledgeEntry),r=gt(g=>g.setFormData),s=gt(g=>g.formData),i=gt(g=>g.setDocuments),o=gt(g=>g.clearFormData),[a,l]=m.useState(!1);m.useEffect(()=>{if(!e)return;const{intent:g,documents:w,answer:v,fileUrl:_}=e;return r("intent",g),w.forEach((x,y)=>{i(x,y)}),r("answer",v),r("fileUrl",_),()=>{o()}},[]);const c=async g=>{const w=Uh(g);return await m4(`knowledge-files/${w}`)},u=async(g,w)=>{if(!w)return await Fm(g);const v=await c(w);if(v.name===g.name&&v.size===g.size)return w;if(v.name!==g.name){const x=await Fm(g);return await h(w),x}return await Fm(g)},h=async g=>{const w=Uh(g);if(!w)return yt("Unable to extract filename from the file url",!0);await Xle(w)};return{handleSubmitForm:async()=>{if(e)try{l(!0);const{knowledgeBaseName:g,file:w,...v}=s,_=Jle(e,v);"fileUrl"in _&&_.fileUrl===null&&(yt("Detected file removal, deleting from storage"),await h(e.fileUrl));let x;w&&(yt("Updating knowledge file"),x=await u(w,e.fileUrl),r("fileUrl",x??null));const y={...v,...x&&{fileUrl:x}};await Hle(e.intent,y),yt("Knowledge Entry updated successfully."),n(y),t({title:"Knowledge Entry Updated Successfully",description:it()})}catch(g){const w=g instanceof Error?g.message:"Unknown error occurred";t({title:w,description:it(),variant:"destructive"})}finally{l(!1)}},selectedKnowledgeEntry:e,isLoading:a}},lT=({heading:t,description:e})=>d.jsx("div",{className:"h-[450px] md:h-[600px] w-full flex justify-center items-center mt-2 pb-10",children:d.jsxs("section",{className:"flex flex-col justify-center items-center",children:[d.jsx(Fv,{className:"w-12 h-12 text-blue-500 mb-4"}),d.jsx("h2",{className:"text-2xl font-semibold mb-2",children:t}),d.jsx("p",{className:"text-gray-600 mb-4",children:e})]})}),Na=()=>d.jsx(eq,{className:"mr-2 size-5 animate-spin"}),ice=()=>{const{handleSubmitForm:t,selectedKnowledgeEntry:e,isLoading:n}=sce(),r=pt(s=>s.admin);return e?d.jsx(O2,{value:"entryDetails",className:"mt-2",children:d.jsx("div",{className:"h-[450px] md:h-[600px] w-full overflow-y-auto text-sm scrollbar-slim",children:d.jsxs("div",{className:"space-y-3 px-4 pb-4",children:[d.jsx(Cne,{}),d.jsx(Ane,{}),d.jsx(Ule,{}),(r==null?void 0:r.role)!=="viewer"&&d.jsx(tt,{variant:"default",disabled:n,onClick:async()=>await t(),className:"w-20",children:n?d.jsx(Na,{}):"Save"})]})})}):d.jsx(lT,{heading:"No Knowledge Entry Selected",description:"Select a knowledge entry to view its contents here."})},x4=({onRenameKnowledge:t,onDeleteKnowledge:e})=>d.jsxs(Of,{children:[d.jsx(jf,{asChild:!0,children:d.jsx(hb,{className:"text-zinc-400 size-6 hover:text-zinc-500 transition-colors"})}),d.jsxs(ju,{align:"end",className:"w-auto text-sm bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[t&&d.jsxs(ti,{className:"flex items-center p-1.5 hover:bg-zinc-100 rounded-sm",onClick:n=>{n.stopPropagation(),t()},children:[d.jsx(aq,{className:"mr-2 h-4 w-4"}),d.jsx("p",{children:"Rename"})]}),d.jsxs(ti,{className:"flex items-center p-1.5 hover:bg-zinc-100 rounded-sm text-red-400 focus:text-red-400",onClick:n=>{n.stopPropagation(),e()},children:[d.jsx(Vv,{className:"mr-2 h-4 w-4"}),d.jsx("p",{children:"Move to Archive"})]})]})]}),Jr=ao(t=>({dialogs:{},openDialog:e=>t(n=>({dialogs:{...n.dialogs,[e]:!0}})),closeDialog:e=>t(n=>({dialogs:{...n.dialogs,[e]:!1}})),toggleDialog:e=>t(n=>({dialogs:{...n.dialogs,[e]:!n.dialogs[e]}})),setDialogState:(e,n)=>t(r=>({dialogs:{...r.dialogs,[e]:n}}))})),oce=({intent:t,onItemClick:e})=>{const n=pt(a=>a.admin),r=Wt(a=>a.selectedKnowledgeEntry),s=Wt(a=>a.setSelectedKnowledgeEntryIntentItem),i=Jr(a=>a.openDialog),o=()=>{s(t),i("showConfirmDeleteKnowledgeEntryDialog")};return d.jsxs("div",{className:`flex justify-between p-2 rounded-md cursor-pointer ${(r==null?void 0:r.intent)===t?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,onClick:e,children:[t,(n==null?void 0:n.role)!=="viewer"&&d.jsx(tt,{className:"bg-transparent hover:bg-transparent size-8 p-0 h-fit ",children:d.jsx(x4,{onDeleteKnowledge:o})})]})},ace=({knowledgeEntries:t,handleTabChange:e})=>{const n=Wt(s=>s.setSelectedKnowledgeEntry),r=s=>{n(s),e("entryDetails")};return d.jsx("div",{className:"space-y-1",children:t==null?void 0:t.map((s,i)=>d.jsx(oce,{intent:s.intent,onItemClick:()=>r(s)},i))})},sh=["knowledgeBaseList"],Um=["knowledgeEntry"],xd=["adminList"],Gg=["knowledgeBaseArhives"],Qg=["knowledgeEntriesArchive"],gP=["Queries"];var Ku=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_u=typeof window>"u"||"Deno"in globalThis;function us(){}function lce(t,e){return typeof t=="function"?t(e):t}function R_(t){return typeof t=="number"&&t>=0&&t!==1/0}function _4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Lc(t,e){return typeof t=="function"?t(e):t}function Ms(t,e){return typeof t=="function"?t(e):t}function vP(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==cT(o,e.options))return!1}else if(!Jh(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function yP(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Nl(e.options.mutationKey)!==Nl(i))return!1}else if(!Jh(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function cT(t,e){return((e==null?void 0:e.queryKeyHashFn)||Nl)(t)}function Nl(t){return JSON.stringify(t,(e,n)=>I_(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Jh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Jh(t[n],e[n])):!1}function E4(t,e){if(t===e)return t;const n=wP(t)&&wP(e);if(n||I_(t)&&I_(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const u=n?c:i[c];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=E4(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function Yg(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function wP(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function I_(t){if(!xP(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!xP(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function xP(t){return Object.prototype.toString.call(t)==="[object Object]"}function cce(t){return new Promise(e=>{setTimeout(e,t)})}function P_(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?E4(t,e):e}function uce(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function dce(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var b4=Symbol();function S4(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===b4?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var sl,jo,Uc,rN,hce=(rN=class extends Ku{constructor(){super();be(this,sl,void 0);be(this,jo,void 0);be(this,Uc,void 0);me(this,Uc,e=>{if(!_u&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){V(this,jo)||this.setEventListener(V(this,Uc))}onUnsubscribe(){var e;this.hasListeners()||((e=V(this,jo))==null||e.call(this),me(this,jo,void 0))}setEventListener(e){var n;me(this,Uc,e),(n=V(this,jo))==null||n.call(this),me(this,jo,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){V(this,sl)!==e&&(me(this,sl,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof V(this,sl)=="boolean"?V(this,sl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},sl=new WeakMap,jo=new WeakMap,Uc=new WeakMap,rN),uT=new hce,Bc,Lo,$c,sN,fce=(sN=class extends Ku{constructor(){super();be(this,Bc,!0);be(this,Lo,void 0);be(this,$c,void 0);me(this,$c,e=>{if(!_u&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){V(this,Lo)||this.setEventListener(V(this,$c))}onUnsubscribe(){var e;this.hasListeners()||((e=V(this,Lo))==null||e.call(this),me(this,Lo,void 0))}setEventListener(e){var n;me(this,$c,e),(n=V(this,Lo))==null||n.call(this),me(this,Lo,e(this.setOnline.bind(this)))}setOnline(e){V(this,Bc)!==e&&(me(this,Bc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return V(this,Bc)}},Bc=new WeakMap,Lo=new WeakMap,$c=new WeakMap,sN),Xg=new fce;function pce(t){return Math.min(1e3*2**t,3e4)}function T4(t){return(t??"online")==="online"?Xg.isOnline():!0}var C4=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function S0(t){return t instanceof C4}function A4(t){let e=!1,n=0,r=!1,s,i,o;const a=new Promise((x,y)=>{i=x,o=y}),l=x=>{var y;r||(w(new C4(x)),(y=t.abort)==null||y.call(t))},c=()=>{e=!0},u=()=>{e=!1},h=()=>uT.isFocused()&&(t.networkMode==="always"||Xg.isOnline())&&t.canRun(),p=()=>T4(t.networkMode)&&t.canRun(),g=x=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,x),s==null||s(),i(x))},w=x=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,x),s==null||s(),o(x))},v=()=>new Promise(x=>{var y;s=b=>{(r||h())&&x(b)},(y=t.onPause)==null||y.call(t)}).then(()=>{var x;s=void 0,r||(x=t.onContinue)==null||x.call(t)}),_=()=>{if(r)return;let x;const y=n===0?t.initialPromise:void 0;try{x=y??t.fn()}catch(b){x=Promise.reject(b)}Promise.resolve(x).then(g).catch(b=>{var E;if(r)return;const A=t.retry??(_u?0:3),P=t.retryDelay??pce,O=typeof P=="function"?P(n,b):P,T=A===!0||typeof A=="number"&&n<A||typeof A=="function"&&A(n,b);if(e||!T){w(b);return}n++,(E=t.onFail)==null||E.call(t,n,b),cce(O).then(()=>h()?void 0:v()).then(()=>{e?w(b):_()})})};return{promise:a,cancel:l,continue:()=>(s==null||s(),a),cancelRetry:c,continueRetry:u,canStart:p,start:()=>(p()?_():v().then(_),a)}}function mce(){let t=[],e=0,n=p=>{p()},r=p=>{p()},s=p=>setTimeout(p,0);const i=p=>{s=p},o=p=>{let g;e++;try{g=p()}finally{e--,e||c()}return g},a=p=>{e?t.push(p):s(()=>{n(p)})},l=p=>(...g)=>{a(()=>{p(...g)})},c=()=>{const p=t;t=[],p.length&&s(()=>{r(()=>{p.forEach(g=>{n(g)})})})};return{batch:o,batchCalls:l,schedule:a,setNotifyFunction:p=>{n=p},setBatchNotifyFunction:p=>{r=p},setScheduler:i}}var bn=mce(),il,iN,R4=(iN=class{constructor(){be(this,il,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),R_(this.gcTime)&&me(this,il,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(_u?1/0:5*60*1e3))}clearGcTimeout(){V(this,il)&&(clearTimeout(V(this,il)),me(this,il,void 0))}},il=new WeakMap,iN),zc,Kc,cs,Zn,rf,ol,Ps,Ti,oN,gce=(oN=class extends R4{constructor(e){super();be(this,Ps);be(this,zc,void 0);be(this,Kc,void 0);be(this,cs,void 0);be(this,Zn,void 0);be(this,rf,void 0);be(this,ol,void 0);me(this,ol,!1),me(this,rf,e.defaultOptions),this.setOptions(e.options),this.observers=[],me(this,cs,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,me(this,zc,vce(this.options)),this.state=e.state??V(this,zc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=V(this,Zn))==null?void 0:e.promise}setOptions(e){this.options={...V(this,rf),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,cs).remove(this)}setData(e,n){const r=P_(this.state.data,e,this.options);return Ye(this,Ps,Ti).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Ye(this,Ps,Ti).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=V(this,Zn))==null?void 0:r.promise;return(s=V(this,Zn))==null||s.cancel(e),n?n.then(us).catch(us):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,zc))}isActive(){return this.observers.some(e=>Ms(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!_4(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=V(this,Zn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=V(this,Zn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),V(this,cs).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(V(this,Zn)&&(V(this,ol)?V(this,Zn).cancel({revert:!0}):V(this,Zn).cancelRetry()),this.scheduleGc()),V(this,cs).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ye(this,Ps,Ti).call(this,{type:"invalidate"})}fetch(e,n){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(V(this,Zn))return V(this,Zn).continueRetry(),V(this,Zn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(me(this,ol,!0),r.signal)})},i=()=>{const h=S4(this.options,n),p={queryKey:this.queryKey,meta:this.meta};return s(p),me(this,ol,!1),this.options.persister?this.options.persister(h,p,this):h(p)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),me(this,Kc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Ye(this,Ps,Ti).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=h=>{var p,g,w,v;S0(h)&&h.silent||Ye(this,Ps,Ti).call(this,{type:"error",error:h}),S0(h)||((g=(p=V(this,cs).config).onError)==null||g.call(p,h,this),(v=(w=V(this,cs).config).onSettled)==null||v.call(w,this.state.data,h,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return me(this,Zn,A4({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var p,g,w,v;if(h===void 0){a(new Error(`${this.queryHash} data is undefined`));return}this.setData(h),(g=(p=V(this,cs).config).onSuccess)==null||g.call(p,h,this),(v=(w=V(this,cs).config).onSettled)==null||v.call(w,h,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(h,p)=>{Ye(this,Ps,Ti).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{Ye(this,Ps,Ti).call(this,{type:"pause"})},onContinue:()=>{Ye(this,Ps,Ti).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),V(this,Zn).start()}},zc=new WeakMap,Kc=new WeakMap,cs=new WeakMap,Zn=new WeakMap,rf=new WeakMap,ol=new WeakMap,Ps=new WeakSet,Ti=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...I4(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return S0(s)&&s.revert&&V(this,Kc)?{...V(this,Kc),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),bn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),V(this,cs).notify({query:this,type:"updated",action:e})})},oN);function I4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:T4(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function vce(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Qs,aN,yce=(aN=class extends Ku{constructor(e={}){super();be(this,Qs,void 0);this.config=e,me(this,Qs,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??cT(s,n);let o=this.get(i);return o||(o=new gce({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){V(this,Qs).has(e.queryHash)||(V(this,Qs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=V(this,Qs).get(e.queryHash);n&&(e.destroy(),n===e&&V(this,Qs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){bn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return V(this,Qs).get(e)}getAll(){return[...V(this,Qs).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>vP(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>vP(e,r)):n}notify(e){bn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){bn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){bn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Qs=new WeakMap,aN),Ys,ur,al,Xs,bo,lN,wce=(lN=class extends R4{constructor(e){super();be(this,Xs);be(this,Ys,void 0);be(this,ur,void 0);be(this,al,void 0);this.mutationId=e.mutationId,me(this,ur,e.mutationCache),me(this,Ys,[]),this.state=e.state||P4(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){V(this,Ys).includes(e)||(V(this,Ys).push(e),this.clearGcTimeout(),V(this,ur).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){me(this,Ys,V(this,Ys).filter(n=>n!==e)),this.scheduleGc(),V(this,ur).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){V(this,Ys).length||(this.state.status==="pending"?this.scheduleGc():V(this,ur).remove(this))}continue(){var e;return((e=V(this,al))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,l,c,u,h,p,g,w,v,_,x,y,b,A,P,O,T;me(this,al,A4({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(E,I)=>{Ye(this,Xs,bo).call(this,{type:"failed",failureCount:E,error:I})},onPause:()=>{Ye(this,Xs,bo).call(this,{type:"pause"})},onContinue:()=>{Ye(this,Xs,bo).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,ur).canRun(this)}));const n=this.state.status==="pending",r=!V(this,al).canStart();try{if(!n){Ye(this,Xs,bo).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=V(this,ur).config).onMutate)==null?void 0:i.call(s,e,this));const I=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));I!==this.state.context&&Ye(this,Xs,bo).call(this,{type:"pending",context:I,variables:e,isPaused:r})}const E=await V(this,al).start();return await((c=(l=V(this,ur).config).onSuccess)==null?void 0:c.call(l,E,e,this.state.context,this)),await((h=(u=this.options).onSuccess)==null?void 0:h.call(u,E,e,this.state.context)),await((g=(p=V(this,ur).config).onSettled)==null?void 0:g.call(p,E,null,this.state.variables,this.state.context,this)),await((v=(w=this.options).onSettled)==null?void 0:v.call(w,E,null,e,this.state.context)),Ye(this,Xs,bo).call(this,{type:"success",data:E}),E}catch(E){try{throw await((x=(_=V(this,ur).config).onError)==null?void 0:x.call(_,E,e,this.state.context,this)),await((b=(y=this.options).onError)==null?void 0:b.call(y,E,e,this.state.context)),await((P=(A=V(this,ur).config).onSettled)==null?void 0:P.call(A,void 0,E,this.state.variables,this.state.context,this)),await((T=(O=this.options).onSettled)==null?void 0:T.call(O,void 0,E,e,this.state.context)),E}finally{Ye(this,Xs,bo).call(this,{type:"error",error:E})}}finally{V(this,ur).runNext(this)}}},Ys=new WeakMap,ur=new WeakMap,al=new WeakMap,Xs=new WeakSet,bo=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),bn.batch(()=>{V(this,Ys).forEach(r=>{r.onMutationUpdate(e)}),V(this,ur).notify({mutation:this,type:"updated",action:e})})},lN);function P4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Br,sf,cN,xce=(cN=class extends Ku{constructor(e={}){super();be(this,Br,void 0);be(this,sf,void 0);this.config=e,me(this,Br,new Map),me(this,sf,Date.now())}build(e,n,r){const s=new wce({mutationCache:this,mutationId:++wp(this,sf)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=nm(e),r=V(this,Br).get(n)??[];r.push(e),V(this,Br).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=nm(e);if(V(this,Br).has(n)){const s=(r=V(this,Br).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?V(this,Br).delete(n):V(this,Br).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=V(this,Br).get(nm(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=V(this,Br).get(nm(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){bn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...V(this,Br).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>yP(n,r))}findAll(e={}){return this.getAll().filter(n=>yP(e,n))}notify(e){bn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return bn.batch(()=>Promise.all(e.map(n=>n.continue().catch(us))))}},Br=new WeakMap,sf=new WeakMap,cN);function nm(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function _ce(t){return{onFetch:(e,n)=>{const r=async()=>{var w,v,_,x,y;const s=e.options,i=(_=(v=(w=e.fetchOptions)==null?void 0:w.meta)==null?void 0:v.fetchMore)==null?void 0:_.direction,o=((x=e.state.data)==null?void 0:x.pages)||[],a=((y=e.state.data)==null?void 0:y.pageParams)||[],l={pages:[],pageParams:[]};let c=!1;const u=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?c=!0:e.signal.addEventListener("abort",()=>{c=!0}),e.signal)})},h=S4(e.options,e.fetchOptions),p=async(b,A,P)=>{if(c)return Promise.reject();if(A==null&&b.pages.length)return Promise.resolve(b);const O={queryKey:e.queryKey,pageParam:A,direction:P?"backward":"forward",meta:e.options.meta};u(O);const T=await h(O),{maxPages:E}=e.options,I=P?dce:uce;return{pages:I(b.pages,T,E),pageParams:I(b.pageParams,A,E)}};let g;if(i&&o.length){const b=i==="backward",A=b?Ece:_P,P={pages:o,pageParams:a},O=A(s,P);g=await p(P,O,b)}else{g=await p(l,a[0]??s.initialPageParam);const b=t??o.length;for(let A=1;A<b;A++){const P=_P(s,g);if(P==null)break;g=await p(g,P)}}return g};e.options.persister?e.fetchFn=()=>{var s,i;return(i=(s=e.options).persister)==null?void 0:i.call(s,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=r}}}function _P(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Ece(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Xt,Vo,Fo,Wc,Hc,Uo,qc,Gc,uN,bce=(uN=class{constructor(t={}){be(this,Xt,void 0);be(this,Vo,void 0);be(this,Fo,void 0);be(this,Wc,void 0);be(this,Hc,void 0);be(this,Uo,void 0);be(this,qc,void 0);be(this,Gc,void 0);me(this,Xt,t.queryCache||new yce),me(this,Vo,t.mutationCache||new xce),me(this,Fo,t.defaultOptions||{}),me(this,Wc,new Map),me(this,Hc,new Map),me(this,Uo,0)}mount(){wp(this,Uo)._++,V(this,Uo)===1&&(me(this,qc,uT.subscribe(async t=>{t&&(await this.resumePausedMutations(),V(this,Xt).onFocus())})),me(this,Gc,Xg.subscribe(async t=>{t&&(await this.resumePausedMutations(),V(this,Xt).onOnline())})))}unmount(){var t,e;wp(this,Uo)._--,V(this,Uo)===0&&((t=V(this,qc))==null||t.call(this),me(this,qc,void 0),(e=V(this,Gc))==null||e.call(this),me(this,Gc,void 0))}isFetching(t){return V(this,Xt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return V(this,Vo).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=V(this,Xt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=V(this,Xt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Lc(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return V(this,Xt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=V(this,Xt).get(r.queryHash),i=s==null?void 0:s.state.data,o=lce(e,i);if(o!==void 0)return V(this,Xt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return bn.batch(()=>V(this,Xt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=V(this,Xt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=V(this,Xt);bn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=V(this,Xt),r={type:"active",...t};return bn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=bn.batch(()=>V(this,Xt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(us).catch(us)}invalidateQueries(t={},e={}){return bn.batch(()=>{if(V(this,Xt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=bn.batch(()=>V(this,Xt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(us)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(us)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=V(this,Xt).build(this,e);return n.isStaleByTime(Lc(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(us).catch(us)}fetchInfiniteQuery(t){return t.behavior=_ce(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(us).catch(us)}resumePausedMutations(){return Xg.isOnline()?V(this,Vo).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,Xt)}getMutationCache(){return V(this,Vo)}getDefaultOptions(){return V(this,Fo)}setDefaultOptions(t){me(this,Fo,t)}setQueryDefaults(t,e){V(this,Wc).set(Nl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...V(this,Wc).values()];let n={};return e.forEach(r=>{Jh(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){V(this,Hc).set(Nl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...V(this,Hc).values()];let n={};return e.forEach(r=>{Jh(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...V(this,Fo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=cT(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===b4&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...V(this,Fo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){V(this,Xt).clear(),V(this,Vo).clear()}},Xt=new WeakMap,Vo=new WeakMap,Fo=new WeakMap,Wc=new WeakMap,Hc=new WeakMap,Uo=new WeakMap,qc=new WeakMap,Gc=new WeakMap,uN),Er,rt,of,dr,ll,Qc,Js,af,Yc,Xc,cl,ul,Bo,Jc,dl,Od,lf,N_,cf,D_,uf,k_,df,M_,hf,O_,ff,j_,pf,L_,uv,N4,dN,Sce=(dN=class extends Ku{constructor(e,n){super();be(this,dl);be(this,lf);be(this,cf);be(this,uf);be(this,df);be(this,hf);be(this,ff);be(this,pf);be(this,uv);be(this,Er,void 0);be(this,rt,void 0);be(this,of,void 0);be(this,dr,void 0);be(this,ll,void 0);be(this,Qc,void 0);be(this,Js,void 0);be(this,af,void 0);be(this,Yc,void 0);be(this,Xc,void 0);be(this,cl,void 0);be(this,ul,void 0);be(this,Bo,void 0);be(this,Jc,new Set);this.options=n,me(this,Er,e),me(this,Js,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(V(this,rt).addObserver(this),EP(V(this,rt),this.options)?Ye(this,dl,Od).call(this):this.updateResult(),Ye(this,df,M_).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return V_(V(this,rt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return V_(V(this,rt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ye(this,hf,O_).call(this),Ye(this,ff,j_).call(this),V(this,rt).removeObserver(this)}setOptions(e,n){const r=this.options,s=V(this,rt);if(this.options=V(this,Er).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ms(this.options.enabled,V(this,rt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ye(this,pf,L_).call(this),V(this,rt).setOptions(this.options),r._defaulted&&!Yg(this.options,r)&&V(this,Er).getQueryCache().notify({type:"observerOptionsUpdated",query:V(this,rt),observer:this});const i=this.hasListeners();i&&bP(V(this,rt),s,this.options,r)&&Ye(this,dl,Od).call(this),this.updateResult(n),i&&(V(this,rt)!==s||Ms(this.options.enabled,V(this,rt))!==Ms(r.enabled,V(this,rt))||Lc(this.options.staleTime,V(this,rt))!==Lc(r.staleTime,V(this,rt)))&&Ye(this,lf,N_).call(this);const o=Ye(this,cf,D_).call(this);i&&(V(this,rt)!==s||Ms(this.options.enabled,V(this,rt))!==Ms(r.enabled,V(this,rt))||o!==V(this,Bo))&&Ye(this,uf,k_).call(this,o)}getOptimisticResult(e){const n=V(this,Er).getQueryCache().build(V(this,Er),e),r=this.createResult(n,e);return Cce(this,r)&&(me(this,dr,r),me(this,Qc,this.options),me(this,ll,V(this,rt).state)),r}getCurrentResult(){return V(this,dr)}trackResult(e,n){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),e[s])})}),r}trackProp(e){V(this,Jc).add(e)}getCurrentQuery(){return V(this,rt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=V(this,Er).defaultQueryOptions(e),r=V(this,Er).getQueryCache().build(V(this,Er),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Ye(this,dl,Od).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),V(this,dr)))}createResult(e,n){var T;const r=V(this,rt),s=this.options,i=V(this,dr),o=V(this,ll),a=V(this,Qc),c=e!==r?e.state:V(this,of),{state:u}=e;let h={...u},p=!1,g;if(n._optimisticResults){const E=this.hasListeners(),I=!E&&EP(e,n),R=E&&bP(e,r,n,s);(I||R)&&(h={...h,...I4(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:w,errorUpdatedAt:v,status:_}=h;if(n.select&&h.data!==void 0)if(i&&h.data===(o==null?void 0:o.data)&&n.select===V(this,af))g=V(this,Yc);else try{me(this,af,n.select),g=n.select(h.data),g=P_(i==null?void 0:i.data,g,n),me(this,Yc,g),me(this,Js,null)}catch(E){me(this,Js,E)}else g=h.data;if(n.placeholderData!==void 0&&g===void 0&&_==="pending"){let E;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))E=i.data;else if(E=typeof n.placeholderData=="function"?n.placeholderData((T=V(this,Xc))==null?void 0:T.state.data,V(this,Xc)):n.placeholderData,n.select&&E!==void 0)try{E=n.select(E),me(this,Js,null)}catch(I){me(this,Js,I)}E!==void 0&&(_="success",g=P_(i==null?void 0:i.data,E,n),p=!0)}V(this,Js)&&(w=V(this,Js),g=V(this,Yc),v=Date.now(),_="error");const x=h.fetchStatus==="fetching",y=_==="pending",b=_==="error",A=y&&x,P=g!==void 0;return{status:_,fetchStatus:h.fetchStatus,isPending:y,isSuccess:_==="success",isError:b,isInitialLoading:A,isLoading:A,data:g,dataUpdatedAt:h.dataUpdatedAt,error:w,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:x,isRefetching:x&&!y,isLoadingError:b&&!P,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:b&&P,isStale:dT(e,n),refetch:this.refetch}}updateResult(e){const n=V(this,dr),r=this.createResult(V(this,rt),this.options);if(me(this,ll,V(this,rt).state),me(this,Qc,this.options),V(this,ll).data!==void 0&&me(this,Xc,V(this,rt)),Yg(r,n))return;me(this,dr,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!V(this,Jc).size)return!0;const l=new Set(a??V(this,Jc));return this.options.throwOnError&&l.add("error"),Object.keys(V(this,dr)).some(c=>{const u=c;return V(this,dr)[u]!==n[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),Ye(this,uv,N4).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ye(this,df,M_).call(this)}},Er=new WeakMap,rt=new WeakMap,of=new WeakMap,dr=new WeakMap,ll=new WeakMap,Qc=new WeakMap,Js=new WeakMap,af=new WeakMap,Yc=new WeakMap,Xc=new WeakMap,cl=new WeakMap,ul=new WeakMap,Bo=new WeakMap,Jc=new WeakMap,dl=new WeakSet,Od=function(e){Ye(this,pf,L_).call(this);let n=V(this,rt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(us)),n},lf=new WeakSet,N_=function(){Ye(this,hf,O_).call(this);const e=Lc(this.options.staleTime,V(this,rt));if(_u||V(this,dr).isStale||!R_(e))return;const r=_4(V(this,dr).dataUpdatedAt,e)+1;me(this,cl,setTimeout(()=>{V(this,dr).isStale||this.updateResult()},r))},cf=new WeakSet,D_=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(V(this,rt)):this.options.refetchInterval)??!1},uf=new WeakSet,k_=function(e){Ye(this,ff,j_).call(this),me(this,Bo,e),!(_u||Ms(this.options.enabled,V(this,rt))===!1||!R_(V(this,Bo))||V(this,Bo)===0)&&me(this,ul,setInterval(()=>{(this.options.refetchIntervalInBackground||uT.isFocused())&&Ye(this,dl,Od).call(this)},V(this,Bo)))},df=new WeakSet,M_=function(){Ye(this,lf,N_).call(this),Ye(this,uf,k_).call(this,Ye(this,cf,D_).call(this))},hf=new WeakSet,O_=function(){V(this,cl)&&(clearTimeout(V(this,cl)),me(this,cl,void 0))},ff=new WeakSet,j_=function(){V(this,ul)&&(clearInterval(V(this,ul)),me(this,ul,void 0))},pf=new WeakSet,L_=function(){const e=V(this,Er).getQueryCache().build(V(this,Er),this.options);if(e===V(this,rt))return;const n=V(this,rt);me(this,rt,e),me(this,of,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},uv=new WeakSet,N4=function(e){bn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(V(this,dr))}),V(this,Er).getQueryCache().notify({query:V(this,rt),type:"observerResultsUpdated"})})},dN);function Tce(t,e){return Ms(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function EP(t,e){return Tce(t,e)||t.state.data!==void 0&&V_(t,e,e.refetchOnMount)}function V_(t,e,n){if(Ms(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&dT(t,e)}return!1}function bP(t,e,n,r){return(t!==e||Ms(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&dT(t,n)}function dT(t,e){return Ms(e.enabled,t)!==!1&&t.isStaleByTime(Lc(e.staleTime,t))}function Cce(t,e){return!Yg(t.getCurrentResult(),e)}var $o,zo,br,Ri,Zc,Bm,mf,F_,hN,Ace=(hN=class extends Ku{constructor(n,r){super();be(this,Zc);be(this,mf);be(this,$o,void 0);be(this,zo,void 0);be(this,br,void 0);be(this,Ri,void 0);me(this,$o,n),this.setOptions(r),this.bindMethods(),Ye(this,Zc,Bm).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=V(this,$o).defaultMutationOptions(n),Yg(this.options,r)||V(this,$o).getMutationCache().notify({type:"observerOptionsUpdated",mutation:V(this,br),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Nl(r.mutationKey)!==Nl(this.options.mutationKey)?this.reset():((s=V(this,br))==null?void 0:s.state.status)==="pending"&&V(this,br).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=V(this,br))==null||n.removeObserver(this)}onMutationUpdate(n){Ye(this,Zc,Bm).call(this),Ye(this,mf,F_).call(this,n)}getCurrentResult(){return V(this,zo)}reset(){var n;(n=V(this,br))==null||n.removeObserver(this),me(this,br,void 0),Ye(this,Zc,Bm).call(this),Ye(this,mf,F_).call(this)}mutate(n,r){var s;return me(this,Ri,r),(s=V(this,br))==null||s.removeObserver(this),me(this,br,V(this,$o).getMutationCache().build(V(this,$o),this.options)),V(this,br).addObserver(this),V(this,br).execute(n)}},$o=new WeakMap,zo=new WeakMap,br=new WeakMap,Ri=new WeakMap,Zc=new WeakSet,Bm=function(){var r;const n=((r=V(this,br))==null?void 0:r.state)??P4();me(this,zo,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},mf=new WeakSet,F_=function(n){bn.batch(()=>{var r,s,i,o,a,l,c,u;if(V(this,Ri)&&this.hasListeners()){const h=V(this,zo).variables,p=V(this,zo).context;(n==null?void 0:n.type)==="success"?((s=(r=V(this,Ri)).onSuccess)==null||s.call(r,n.data,h,p),(o=(i=V(this,Ri)).onSettled)==null||o.call(i,n.data,null,h,p)):(n==null?void 0:n.type)==="error"&&((l=(a=V(this,Ri)).onError)==null||l.call(a,n.error,h,p),(u=(c=V(this,Ri)).onSettled)==null||u.call(c,void 0,n.error,h,p))}this.listeners.forEach(h=>{h(V(this,zo))})})},hN),D4=m.createContext(void 0),Da=t=>{const e=m.useContext(D4);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Rce=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(D4.Provider,{value:t,children:e})),k4=m.createContext(!1),Ice=()=>m.useContext(k4);k4.Provider;function Pce(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Nce=m.createContext(Pce()),Dce=()=>m.useContext(Nce);function M4(t,e){return typeof t=="function"?t(...e):!!t}function kce(){}var Mce=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},Oce=t=>{m.useEffect(()=>{t.clearReset()},[t])},jce=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&M4(n,[t.error,r]),Lce=t=>{t.suspense&&(typeof t.staleTime!="number"&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Vce=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Fce=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Uce(t,e,n){var c,u,h,p;const r=Da(),s=Ice(),i=Dce(),o=r.defaultQueryOptions(t);(u=(c=r.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||u.call(c,o),o._optimisticResults=s?"isRestoring":"optimistic",Lce(o),Mce(o,i),Oce(i);const[a]=m.useState(()=>new e(r,o)),l=a.getOptimisticResult(o);if(m.useSyncExternalStore(m.useCallback(g=>{const w=s?()=>{}:a.subscribe(bn.batchCalls(g));return a.updateResult(),w},[a,s]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),m.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),Vce(o,l))throw Fce(o,a,i);if(jce({result:l,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw l.error;return(p=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,o,l),o.notifyOnChangeProps?l:a.trackResult(l)}function Wu(t,e){return Uce(t,Sce)}function Rr(t,e){const n=Da(),[r]=m.useState(()=>new Ace(n,t));m.useEffect(()=>{r.setOptions(t)},[r,t]);const s=m.useSyncExternalStore(m.useCallback(o=>r.subscribe(bn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=m.useCallback((o,a)=>{r.mutate(o,a).catch(kce)},[r]);if(s.error&&M4(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const O4=({label:t,onButtonClick:e})=>d.jsxs(tt,{variant:"outline",size:"sm",className:"mb-2 hover:bg-gray-100 h-10",onClick:e,children:[d.jsx(Pu,{className:"w-4 h-4 mr-0 md:mr-2"}),d.jsx("p",{className:"hidden md:block",children:t})]}),j4=()=>d.jsxs("div",{className:"h-[450px] md:h-[600px] w-full px-4 flex flex-col pb-4 mt-2",children:[d.jsxs("div",{className:"flex mb-7 space-x-4",children:[d.jsx(Ce,{className:"flex-grow h-10 bg-lightGray-darker"}),d.jsx(Ce,{className:"h-10 w-[42px] md:w-[198.85px] bg-lightGray-darker"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx(Ce,{className:"h-[20px] w-[20rem] bg-lightGray-darker"}),d.jsx(Ce,{className:"h-[20px] w-[10rem] bg-lightGray-darker"})]})]}),ws=ao(t=>({isModalVisible:!1,modalMode:"BASE",openModal:()=>{t(()=>({isModalVisible:!0}))},closeModal:()=>{t(()=>({isModalVisible:!1}))},setMode:e=>{t(()=>({modalMode:e}))}})),Bce=()=>{const t=ws(i=>i.openModal),e=ws(i=>i.setMode),n=gt(i=>i.clearFormData),r=Wt(i=>i.selectedKnowledgeBaseName);return{handleOpenKnowledgeForm:async i=>{if(!r)return window.alert("No Knowledge Base Selected cannot add a knowledge entry");n(),e(i),t()},openModal:t,setMode:e,clearFormData:n}},L4=()=>{const[t,e]=m.useState("");return{filter:t,handleFilterChange:r=>{e(r)}}};function $ce(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var x;const{scope:p,children:g,...w}=h,v=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,_=m.useMemo(()=>w,Object.values(w));return d.jsx(v.Provider,{value:_,children:g})};c.displayName=i+"Provider";function u(h,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,zce(s,...e)]}function zce(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Kce(t,e){const n=m.createContext(e),r=i=>{const{children:o,...a}=i,l=m.useMemo(()=>a,Object.values(a));return d.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=m.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Wce(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var x;const{scope:p,children:g,...w}=h,v=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,_=m.useMemo(()=>w,Object.values(w));return d.jsx(v.Provider,{value:_,children:g})};c.displayName=i+"Provider";function u(h,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Hce(s,...e)]}function Hce(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var qce="DismissableLayer",U_="dismissableLayer.update",Gce="dismissableLayer.pointerDownOutside",Qce="dismissableLayer.focusOutside",SP,V4=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),F4=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(V4),[u,h]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,T=>h(T)),v=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(_),y=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,A=y>=x,P=Jce(T=>{const E=T.target,I=[...c.branches].some(R=>R.contains(E));!A||I||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},p),O=Zce(T=>{const E=T.target;[...c.branches].some(R=>R.contains(E))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},p);return Pf(T=>{y===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(SP=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),TP(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=SP)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),TP())},[u,c]),m.useEffect(()=>{const T=()=>g({});return document.addEventListener(U_,T),()=>document.removeEventListener(U_,T)},[]),d.jsx(ve.div,{...l,ref:w,style:{pointerEvents:b?A?"auto":"none":void 0,...t.style},onFocusCapture:Z(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Z(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Z(t.onPointerDownCapture,P.onPointerDownCapture)})});F4.displayName=qce;var Yce="DismissableLayerBranch",Xce=m.forwardRef((t,e)=>{const n=m.useContext(V4),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(ve.div,{...t,ref:s})});Xce.displayName=Yce;function Jce(t,e=globalThis==null?void 0:globalThis.document){const n=ft(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){U4(Gce,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Zce(t,e=globalThis==null?void 0:globalThis.document){const n=ft(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&U4(Qce,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function TP(){const t=new CustomEvent(U_);document.dispatchEvent(t)}function U4(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Vl(s,i):s.dispatchEvent(i)}var eue="Portal",B4=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Pt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?_f.createPortal(d.jsx(ve.div,{...r,ref:e}),o):null});B4.displayName=eue;function tue(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var Ly=t=>{const{present:e,children:n}=t,r=nue(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ke(r.ref,rue(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};Ly.displayName="Presence";function nue(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=tue(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=rm(r.current);i.current=a==="mounted"?c:"none"},[a]),Pt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=rm(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Pt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=g=>{const v=rm(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},p=g=>{g.target===e&&(i.current=rm(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function rm(t){return(t==null?void 0:t.animationName)||"none"}function rue(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var hT="Dialog",[$4,z4]=Wce(hT),[sue,Hs]=$4(hT),K4=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=m.useRef(null),l=m.useRef(null),[c=!1,u]=ua({prop:r,defaultProp:s,onChange:i});return d.jsx(sue,{scope:e,triggerRef:a,contentRef:l,contentId:Us(),titleId:Us(),descriptionId:Us(),open:c,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(h=>!h),[u]),modal:o,children:n})};K4.displayName=hT;var W4="DialogTrigger",H4=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Hs(W4,n),i=ke(e,s.triggerRef);return d.jsx(ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":mT(s.open),...r,ref:i,onClick:Z(t.onClick,s.onOpenToggle)})});H4.displayName=W4;var fT="DialogPortal",[iue,q4]=$4(fT,{forceMount:void 0}),G4=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Hs(fT,e);return d.jsx(iue,{scope:e,forceMount:n,children:m.Children.map(r,o=>d.jsx(Ly,{present:n||i.open,children:d.jsx(B4,{asChild:!0,container:s,children:o})}))})};G4.displayName=fT;var Jg="DialogOverlay",Q4=m.forwardRef((t,e)=>{const n=q4(Jg,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Hs(Jg,t.__scopeDialog);return i.modal?d.jsx(Ly,{present:r||i.open,children:d.jsx(oue,{...s,ref:e})}):null});Q4.displayName=Jg;var oue=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Hs(Jg,n);return d.jsx(Yv,{as:da,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(ve.div,{"data-state":mT(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Dl="DialogContent",Y4=m.forwardRef((t,e)=>{const n=q4(Dl,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Hs(Dl,t.__scopeDialog);return d.jsx(Ly,{present:r||i.open,children:i.modal?d.jsx(aue,{...s,ref:e}):d.jsx(lue,{...s,ref:e})})});Y4.displayName=Dl;var aue=m.forwardRef((t,e)=>{const n=Hs(Dl,t.__scopeDialog),r=m.useRef(null),s=ke(e,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return Rb(i)},[]),d.jsx(X4,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Z(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Z(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Z(t.onFocusOutside,i=>i.preventDefault())})}),lue=m.forwardRef((t,e)=>{const n=Hs(Dl,t.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return d.jsx(X4,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),X4=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Hs(Dl,n),l=m.useRef(null),c=ke(e,l);return mb(),d.jsxs(d.Fragment,{children:[d.jsx(zv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(F4,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":mT(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(uue,{titleId:a.titleId}),d.jsx(hue,{contentRef:l,descriptionId:a.descriptionId})]})]})}),pT="DialogTitle",J4=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Hs(pT,n);return d.jsx(ve.h2,{id:s.titleId,...r,ref:e})});J4.displayName=pT;var Z4="DialogDescription",eU=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Hs(Z4,n);return d.jsx(ve.p,{id:s.descriptionId,...r,ref:e})});eU.displayName=Z4;var tU="DialogClose",nU=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Hs(tU,n);return d.jsx(ve.button,{type:"button",...r,ref:e,onClick:Z(t.onClick,()=>s.onOpenChange(!1))})});nU.displayName=tU;function mT(t){return t?"open":"closed"}var rU="DialogTitleWarning",[cue,sU]=Kce(rU,{contentName:Dl,titleName:pT,docsSlug:"dialog"}),uue=({titleId:t})=>{const e=sU(rU),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},due="DialogDescriptionWarning",hue=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sU(due).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},iU=K4,fue=H4,oU=G4,gT=Q4,vT=Y4,yT=J4,wT=eU,xT=nU,aU="AlertDialog",[pue,cge]=$ce(aU,[z4]),lo=z4(),lU=t=>{const{__scopeAlertDialog:e,...n}=t,r=lo(e);return d.jsx(iU,{...r,...n,modal:!0})};lU.displayName=aU;var mue="AlertDialogTrigger",gue=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=lo(n);return d.jsx(fue,{...s,...r,ref:e})});gue.displayName=mue;var vue="AlertDialogPortal",cU=t=>{const{__scopeAlertDialog:e,...n}=t,r=lo(e);return d.jsx(oU,{...r,...n})};cU.displayName=vue;var yue="AlertDialogOverlay",uU=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=lo(n);return d.jsx(gT,{...s,...r,ref:e})});uU.displayName=yue;var Vc="AlertDialogContent",[wue,xue]=pue(Vc),dU=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=lo(n),o=m.useRef(null),a=ke(e,o),l=m.useRef(null);return d.jsx(cue,{contentName:Vc,titleName:hU,docsSlug:"alert-dialog",children:d.jsx(wue,{scope:n,cancelRef:l,children:d.jsxs(vT,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:Z(s.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[d.jsx(pb,{children:r}),d.jsx(Eue,{contentRef:o})]})})})});dU.displayName=Vc;var hU="AlertDialogTitle",fU=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=lo(n);return d.jsx(yT,{...s,...r,ref:e})});fU.displayName=hU;var pU="AlertDialogDescription",mU=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=lo(n);return d.jsx(wT,{...s,...r,ref:e})});mU.displayName=pU;var _ue="AlertDialogAction",gU=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=lo(n);return d.jsx(xT,{...s,...r,ref:e})});gU.displayName=_ue;var vU="AlertDialogCancel",yU=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=xue(vU,n),i=lo(n),o=ke(e,s);return d.jsx(xT,{...i,...r,ref:o})});yU.displayName=vU;var Eue=({contentRef:t})=>{const e=`\`${Vc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Vc}\` by passing a \`${pU}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Vc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},bue=lU,Sue=cU,wU=uU,xU=dU,_U=gU,EU=yU,bU=fU,SU=mU;const Tue=bue,Cue=Sue,TU=m.forwardRef(({className:t,...e},n)=>d.jsx(wU,{className:ue("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));TU.displayName=wU.displayName;const CU=m.forwardRef(({className:t,...e},n)=>d.jsxs(Cue,{children:[d.jsx(TU,{}),d.jsx(xU,{ref:n,className:ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));CU.displayName=xU.displayName;const AU=({className:t,...e})=>d.jsx("div",{className:ue("flex flex-col space-y-2 text-center sm:text-left",t),...e});AU.displayName="AlertDialogHeader";const RU=({className:t,...e})=>d.jsx("div",{className:ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});RU.displayName="AlertDialogFooter";const IU=m.forwardRef(({className:t,...e},n)=>d.jsx(bU,{ref:n,className:ue("text-lg font-semibold",t),...e}));IU.displayName=bU.displayName;const PU=m.forwardRef(({className:t,...e},n)=>d.jsx(SU,{ref:n,className:ue("text-sm text-muted-foreground",t),...e}));PU.displayName=SU.displayName;const NU=m.forwardRef(({className:t,...e},n)=>d.jsx(_U,{ref:n,className:ue($b(),t),...e}));NU.displayName=_U.displayName;const DU=m.forwardRef(({className:t,...e},n)=>d.jsx(EU,{ref:n,className:ue($b({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));DU.displayName=EU.displayName;const nl=({title:t,description:e,isOpen:n,setDialogState:r,onDelete:s,isDestructive:i=!1})=>{const o=async()=>{r(!1),await s()},a=()=>{r(!1)};return d.jsx(Tue,{open:n,onOpenChange:l=>{r(l),setTimeout(()=>{l||(document.body.style.pointerEvents="")},100)},children:d.jsxs(CU,{children:[d.jsxs(AU,{children:[d.jsx(IU,{children:t}),d.jsx(PU,{children:e})]}),d.jsxs(RU,{children:[d.jsx(DU,{onClick:a,children:"Cancel"}),d.jsx(NU,{onClick:o,className:ue(i&&"bg-red-600 hover:bg-red-700"),children:"Confirm"})]})]})})},Aue={1:"Base",2:"Entry",3:"Verify"},Rue={1:"Entry",2:"Verify"},bc={base:t=>({title:"Archive Knowledge Base",description:`This action will move the knowledge base "${t}" to the archive. You can restore it later from the archive.`}),entry:t=>({title:"Archive Knowledge Entry",description:`This action will move the knowledge entry "${t}" to the archive. You can restore it later from the archive.`}),baseArchive:t=>({title:"Delete Knowledge Base Permanently",description:`This action will delete the knowledge base "${t}" permanently. This action cannot be undone.`}),baseRestore:t=>({title:"Restore Knowledge Base",description:`This action will restore the knowledge base "${t}". Once restored you can find it in the knowledge tab.`}),entryArchive:t=>({title:"Delete Knowledge Entry Permanently",description:`This action will delete the knowledge entry "${t}" permanently. This action cannot be undone.`}),entryRestore:t=>({title:"Restore Knowledge Entry",description:`This action will restore the knowledge entry "${t}". Once restored you can find it in the knowledge tab.`})},Iue=({onTabChange:t})=>{const{handleOpenKnowledgeForm:e}=Bce(),n=yi(),r=Da(),{filter:s,handleFilterChange:i}=L4(),o=pt(y=>y.admin),a=Wt(y=>y.selectedKnowledgeBaseName),l=Wt(y=>y.selectedKnowledgeEntryIntentItem),c=Wt(y=>y.setSelectedKnowledgeEntryIntentItem),u=Jr(y=>y.dialogs),h=Jr(y=>y.setDialogState),{data:p,isLoading:g}=Wu({queryFn:()=>zle(a),queryKey:Um,enabled:!!a}),{mutateAsync:w}=Rr({mutationFn:Qle,onSuccess:y=>{r.invalidateQueries({queryKey:Um}),r.invalidateQueries({queryKey:Qg}),n({title:y,description:it()})},onError:y=>{n({title:y==null?void 0:y.message,description:it(),variant:"destructive"}),yt(y.message||"An Unexpected error occured while deleting knowledge base")}}),v=async()=>{if(!l)throw new Error("No knowledge entry intent selected cannot delete");await w(`${a}&${l}`),c("")},_=m.useMemo(()=>p==null?void 0:p.filter(y=>y.intent.toLowerCase().includes(s.toLowerCase())),[p,s]),x=bc.entry(l);return m.useEffect(()=>()=>{r.resetQueries({queryKey:Um})},[]),g?d.jsx(j4,{}):p?d.jsxs(dy,{value:"knowledgeEntry",className:"mt-2",children:[d.jsxs("div",{className:"h-[450px] md:h-[600px] w-full px-4 flex flex-col pb-4 overflow-y-auto scrollbar-slim",children:[d.jsxs("div",{className:"flex mb-2 space-x-4 sticky top-0",children:[d.jsx(un,{className:"flex-grow outline-none focus:outline-none",placeholder:"Search knowledge base...",onChange:y=>i(y.target.value)}),(o==null?void 0:o.role)!=="viewer"&&d.jsx(O4,{label:"Add Knowledge Entry",onButtonClick:()=>e(xne.entry)})]}),d.jsx(ace,{knowledgeEntries:_,handleTabChange:t})]}),u.showConfirmDeleteKnowledgeEntryDialog&&d.jsx(nl,{title:x.title,description:x.description,isOpen:u.showConfirmDeleteKnowledgeEntryDialog,setDialogState:y=>h("showConfirmDeleteKnowledgeEntryDialog",y),onDelete:v})]}):d.jsx(lT,{heading:"No Knowledge Base Selected",description:"Select a knowledge base category to view its contents here."})},Pue=({base:t,onItemClick:e})=>{const n=pt(l=>l.admin),r=Wt(l=>l.selectedKnowledgeBaseName),s=Wt(l=>l.setSelectedKnowledgeBaseItem),i=Jr(l=>l.openDialog),o=()=>{s(t),i("showRenameKnowledgeBaseDialog")},a=()=>{s(t),i("showConfirmDeleteKnowledgeBaseDialog")};return d.jsxs("div",{className:`flex justify-between p-2 rounded-md cursor-pointer transition-colors ${r===t?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,onClick:()=>e(t),children:[t,(n==null?void 0:n.role)!=="viewer"&&d.jsx(tt,{className:"bg-transparent hover:bg-transparent size-8 p-0 h-fit",children:d.jsx(x4,{onRenameKnowledge:o,onDeleteKnowledge:a})})]})},Nue=({knowledgeBaseNameList:t,handleTabChange:e})=>{const n=Wt(i=>i.setSelectedKnowledgeBaseName),r=Wt(i=>i.selectedKnowledgeBaseName),s=i=>{e("knowledgeEntry"),r!==i&&n(i)};return d.jsx("div",{children:d.jsx(Lu,{listStyle:"space-y-2",items:t,renderItem:i=>d.jsx(Pue,{base:i,onItemClick:s})})})},Vy=iU,Due=oU,kU=m.forwardRef(({className:t,...e},n)=>d.jsx(gT,{ref:n,className:ue("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));kU.displayName=gT.displayName;const Jf=m.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(Due,{children:[d.jsx(kU,{}),d.jsxs(vT,{ref:r,className:ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,d.jsxs(xT,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(Uv,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Jf.displayName=vT.displayName;const Zf=({className:t,...e})=>d.jsx("div",{className:ue("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Zf.displayName="DialogHeader";const Fy=({className:t,...e})=>d.jsx("div",{className:ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Fy.displayName="DialogFooter";const ep=m.forwardRef(({className:t,...e},n)=>d.jsx(yT,{ref:n,className:ue("text-lg font-semibold leading-none tracking-tight",t),...e}));ep.displayName=yT.displayName;const tp=m.forwardRef(({className:t,...e},n)=>d.jsx(wT,{ref:n,className:ue("text-sm text-muted-foreground",t),...e}));tp.displayName=wT.displayName;var np=t=>t.type==="checkbox",rl=t=>t instanceof Date,pr=t=>t==null;const MU=t=>typeof t=="object";var ln=t=>!pr(t)&&!Array.isArray(t)&&MU(t)&&!rl(t),OU=t=>ln(t)&&t.target?np(t.target)?t.target.checked:t.target.value:t,kue=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,jU=(t,e)=>t.has(kue(e)),Mue=t=>{const e=t.constructor&&t.constructor.prototype;return ln(e)&&e.hasOwnProperty("isPrototypeOf")},_T=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function _r(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(_T&&(t instanceof Blob||t instanceof FileList))&&(n||ln(t)))if(e=n?[]:{},!n&&!Mue(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=_r(t[r]));else return t;return e}var Uy=t=>Array.isArray(t)?t.filter(Boolean):[],Zt=t=>t===void 0,le=(t,e,n)=>{if(!e||!ln(t))return n;const r=Uy(e.split(/[,[\].]+?/)).reduce((s,i)=>pr(s)?s:s[i],t);return Zt(r)||r===t?Zt(t[e])?n:t[e]:r},ds=t=>typeof t=="boolean",ET=t=>/^\w*$/.test(t),LU=t=>Uy(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ct=(t,e,n)=>{let r=-1;const s=ET(e)?[e]:LU(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const c=t[a];l=ln(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const Zg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Os={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Si={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Oue=Re.createContext(null),bT=()=>Re.useContext(Oue);var VU=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Os.all&&(e._proxyFormState[o]=!r||Os.all),n&&(n[o]=!0),t[o]}});return s},Sr=t=>ln(t)&&!Object.keys(t).length,FU=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Sr(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||Os.all))},ih=t=>Array.isArray(t)?t:[t],UU=(t,e,n)=>!t||!e||t===e||ih(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function ST(t){const e=Re.useRef(t);e.current=t,Re.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function jue(t){const e=bT(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,a]=Re.useState(n._formState),l=Re.useRef(!0),c=Re.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=Re.useRef(s);return u.current=s,ST({disabled:r,next:h=>l.current&&UU(u.current,h.name,i)&&FU(h,c.current,n._updateFormState)&&a({...n._formState,...h}),subject:n._subjects.state}),Re.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),VU(o,n,c.current,!1)}var ri=t=>typeof t=="string",BU=(t,e,n,r,s)=>ri(t)?(r&&e.watch.add(t),le(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),le(n,i))):(r&&(e.watchAll=!0),n);function Lue(t){const e=bT(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o}=t||{},a=Re.useRef(r);a.current=r,ST({disabled:i,subject:n._subjects.values,next:u=>{UU(a.current,u.name,o)&&c(_r(BU(a.current,n._names,u.values||n._formValues,!1,s)))}});const[l,c]=Re.useState(n._getWatch(r,s));return Re.useEffect(()=>n._removeUnmounted()),l}function Vue(t){const e=bT(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,o=jU(s._names.array,n),a=Lue({control:s,name:n,defaultValue:le(s._formValues,n,le(s._defaultValues,n,t.defaultValue)),exact:!0}),l=jue({control:s,name:n,exact:!0}),c=Re.useRef(s.register(n,{...t.rules,value:a,...ds(t.disabled)?{disabled:t.disabled}:{}}));return Re.useEffect(()=>{const u=s._options.shouldUnregister||i,h=(p,g)=>{const w=le(s._fields,p);w&&w._f&&(w._f.mount=g)};if(h(n,!0),u){const p=_r(le(s._options.defaultValues,n));Ct(s._defaultValues,n,p),Zt(le(s._formValues,n))&&Ct(s._formValues,n,p)}return()=>{(o?u&&!s._state.action:u)?s.unregister(n):h(n,!1)}},[n,s,o,i]),Re.useEffect(()=>{le(s._fields,n)&&s._updateDisabledField({disabled:r,fields:s._fields,name:n,value:le(s._fields,n)._f.value})},[r,n,s]),{field:{name:n,value:a,...ds(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:Re.useCallback(u=>c.current.onChange({target:{value:OU(u),name:n},type:Zg.CHANGE}),[n]),onBlur:Re.useCallback(()=>c.current.onBlur({target:{value:le(s._formValues,n),name:n},type:Zg.BLUR}),[n,s]),ref:Re.useCallback(u=>{const h=le(s._fields,n);h&&u&&(h._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:p=>u.setCustomValidity(p),reportValidity:()=>u.reportValidity()})},[s._fields,n])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!le(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!le(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!le(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!le(l.validatingFields,n)},error:{enumerable:!0,get:()=>le(l.errors,n)}})}}const $U=t=>t.render(Vue(t));var Fue=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},CP=t=>({isOnSubmit:!t||t===Os.onSubmit,isOnBlur:t===Os.onBlur,isOnChange:t===Os.onChange,isOnAll:t===Os.all,isOnTouch:t===Os.onTouched}),AP=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const oh=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=le(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(oh(a,e))break}else if(ln(a)&&oh(a,e))break}}};var Uue=(t,e,n)=>{const r=ih(le(t,n));return Ct(r,"root",e[n]),Ct(t,n,r),t},TT=t=>t.type==="file",ji=t=>typeof t=="function",ev=t=>{if(!_T)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},$m=t=>ri(t),CT=t=>t.type==="radio",tv=t=>t instanceof RegExp;const RP={value:!1,isValid:!1},IP={value:!0,isValid:!0};var zU=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Zt(t[0].attributes.value)?Zt(t[0].value)||t[0].value===""?IP:{value:t[0].value,isValid:!0}:IP:RP}return RP};const PP={isValid:!1,value:null};var KU=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,PP):PP;function NP(t,e,n="validate"){if($m(t)||Array.isArray(t)&&t.every($m)||ds(t)&&!t)return{type:n,message:$m(t)?t:"",ref:e}}var tc=t=>ln(t)&&!tv(t)?t:{value:t,message:""},DP=async(t,e,n,r,s)=>{const{ref:i,refs:o,required:a,maxLength:l,minLength:c,min:u,max:h,pattern:p,validate:g,name:w,valueAsNumber:v,mount:_,disabled:x}=t._f,y=le(e,w);if(!_||x)return{};const b=o?o[0]:i,A=M=>{r&&b.reportValidity&&(b.setCustomValidity(ds(M)?"":M||""),b.reportValidity())},P={},O=CT(i),T=np(i),E=O||T,I=(v||TT(i))&&Zt(i.value)&&Zt(y)||ev(i)&&i.value===""||y===""||Array.isArray(y)&&!y.length,R=Fue.bind(null,w,n,P),k=(M,N,W,se=Si.maxLength,ne=Si.minLength)=>{const Y=M?N:W;P[w]={type:M?se:ne,message:Y,ref:i,...R(M?se:ne,Y)}};if(s?!Array.isArray(y)||!y.length:a&&(!E&&(I||pr(y))||ds(y)&&!y||T&&!zU(o).isValid||O&&!KU(o).isValid)){const{value:M,message:N}=$m(a)?{value:!!a,message:a}:tc(a);if(M&&(P[w]={type:Si.required,message:N,ref:b,...R(Si.required,N)},!n))return A(N),P}if(!I&&(!pr(u)||!pr(h))){let M,N;const W=tc(h),se=tc(u);if(!pr(y)&&!isNaN(y)){const ne=i.valueAsNumber||y&&+y;pr(W.value)||(M=ne>W.value),pr(se.value)||(N=ne<se.value)}else{const ne=i.valueAsDate||new Date(y),Y=J=>new Date(new Date().toDateString()+" "+J),z=i.type=="time",B=i.type=="week";ri(W.value)&&y&&(M=z?Y(y)>Y(W.value):B?y>W.value:ne>new Date(W.value)),ri(se.value)&&y&&(N=z?Y(y)<Y(se.value):B?y<se.value:ne<new Date(se.value))}if((M||N)&&(k(!!M,W.message,se.message,Si.max,Si.min),!n))return A(P[w].message),P}if((l||c)&&!I&&(ri(y)||s&&Array.isArray(y))){const M=tc(l),N=tc(c),W=!pr(M.value)&&y.length>+M.value,se=!pr(N.value)&&y.length<+N.value;if((W||se)&&(k(W,M.message,N.message),!n))return A(P[w].message),P}if(p&&!I&&ri(y)){const{value:M,message:N}=tc(p);if(tv(M)&&!y.match(M)&&(P[w]={type:Si.pattern,message:N,ref:i,...R(Si.pattern,N)},!n))return A(N),P}if(g){if(ji(g)){const M=await g(y,e),N=NP(M,b);if(N&&(P[w]={...N,...R(Si.validate,N.message)},!n))return A(N.message),P}else if(ln(g)){let M={};for(const N in g){if(!Sr(M)&&!n)break;const W=NP(await g[N](y,e),b,N);W&&(M={...W,...R(N,W.message)},A(W.message),n&&(P[w]=M))}if(!Sr(M)&&(P[w]={ref:b,...M},!n))return P}}return A(!0),P};function Bue(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Zt(t)?r++:t[e[r++]];return t}function $ue(t){for(const e in t)if(t.hasOwnProperty(e)&&!Zt(t[e]))return!1;return!0}function xn(t,e){const n=Array.isArray(e)?e:ET(e)?[e]:LU(e),r=n.length===1?t:Bue(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(ln(r)&&Sr(r)||Array.isArray(r)&&$ue(r))&&xn(t,n.slice(0,-1)),t}var T0=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},B_=t=>pr(t)||!MU(t);function Oo(t,e){if(B_(t)||B_(e))return t===e;if(rl(t)&&rl(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(rl(i)&&rl(o)||ln(i)&&ln(o)||Array.isArray(i)&&Array.isArray(o)?!Oo(i,o):i!==o)return!1}}return!0}var WU=t=>t.type==="select-multiple",zue=t=>CT(t)||np(t),C0=t=>ev(t)&&t.isConnected,HU=t=>{for(const e in t)if(ji(t[e]))return!0;return!1};function nv(t,e={}){const n=Array.isArray(t);if(ln(t)||n)for(const r in t)Array.isArray(t[r])||ln(t[r])&&!HU(t[r])?(e[r]=Array.isArray(t[r])?[]:{},nv(t[r],e[r])):pr(t[r])||(e[r]=!0);return e}function qU(t,e,n){const r=Array.isArray(t);if(ln(t)||r)for(const s in t)Array.isArray(t[s])||ln(t[s])&&!HU(t[s])?Zt(e)||B_(n[s])?n[s]=Array.isArray(t[s])?nv(t[s],[]):{...nv(t[s])}:qU(t[s],pr(e)?{}:e[s],n[s]):n[s]=!Oo(t[s],e[s]);return n}var _d=(t,e)=>qU(t,e,nv(e)),GU=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Zt(t)?t:e?t===""?NaN:t&&+t:n&&ri(t)?new Date(t):r?r(t):t;function A0(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return TT(e)?e.files:CT(e)?KU(t.refs).value:WU(e)?[...e.selectedOptions].map(({value:n})=>n):np(e)?zU(t.refs).value:GU(Zt(e.value)?t.ref.value:e.value,t)}var Kue=(t,e,n,r)=>{const s={};for(const i of t){const o=le(e,i);o&&Ct(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Ed=t=>Zt(t)?t:tv(t)?t.source:ln(t)?tv(t.value)?t.value.source:t.value:t;const kP="AsyncFunction";var Wue=t=>(!t||!t.validate)&&!!(ji(t.validate)&&t.validate.constructor.name===kP||ln(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===kP)),Hue=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function MP(t,e,n){const r=le(t,n);if(r||ET(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=le(e,i),a=le(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var que=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,Gue=(t,e)=>!Uy(le(t,e)).length&&xn(t,e);const Que={mode:Os.onSubmit,reValidateMode:Os.onChange,shouldFocusError:!0};function Yue(t={}){let e={...Que,...t},n={submitCount:0,isDirty:!1,isLoading:ji(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=ln(e.defaultValues)||ln(e.values)?_r(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:_r(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:T0(),array:T0(),state:T0()},p=CP(e.mode),g=CP(e.reValidateMode),w=e.criteriaMode===Os.all,v=j=>$=>{clearTimeout(c),c=setTimeout(j,$)},_=async j=>{if(!t.disabled&&(u.isValid||j)){const $=e.resolver?Sr((await E()).errors):await R(r,!0);$!==n.isValid&&h.state.next({isValid:$})}},x=(j,$)=>{!t.disabled&&(u.isValidating||u.validatingFields)&&((j||Array.from(a.mount)).forEach(H=>{H&&($?Ct(n.validatingFields,H,$):xn(n.validatingFields,H))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Sr(n.validatingFields)}))},y=(j,$=[],H,ie,re=!0,ee=!0)=>{if(ie&&H&&!t.disabled){if(o.action=!0,ee&&Array.isArray(le(r,j))){const _e=H(le(r,j),ie.argA,ie.argB);re&&Ct(r,j,_e)}if(ee&&Array.isArray(le(n.errors,j))){const _e=H(le(n.errors,j),ie.argA,ie.argB);re&&Ct(n.errors,j,_e),Gue(n.errors,j)}if(u.touchedFields&&ee&&Array.isArray(le(n.touchedFields,j))){const _e=H(le(n.touchedFields,j),ie.argA,ie.argB);re&&Ct(n.touchedFields,j,_e)}u.dirtyFields&&(n.dirtyFields=_d(s,i)),h.state.next({name:j,isDirty:M(j,$),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ct(i,j,$)},b=(j,$)=>{Ct(n.errors,j,$),h.state.next({errors:n.errors})},A=j=>{n.errors=j,h.state.next({errors:n.errors,isValid:!1})},P=(j,$,H,ie)=>{const re=le(r,j);if(re){const ee=le(i,j,Zt(H)?le(s,j):H);Zt(ee)||ie&&ie.defaultChecked||$?Ct(i,j,$?ee:A0(re._f)):se(j,ee),o.mount&&_()}},O=(j,$,H,ie,re)=>{let ee=!1,_e=!1;const Ue={name:j};if(!t.disabled){const Be=!!(le(r,j)&&le(r,j)._f&&le(r,j)._f.disabled);if(!H||ie){u.isDirty&&(_e=n.isDirty,n.isDirty=Ue.isDirty=M(),ee=_e!==Ue.isDirty);const je=Be||Oo(le(s,j),$);_e=!!(!Be&&le(n.dirtyFields,j)),je||Be?xn(n.dirtyFields,j):Ct(n.dirtyFields,j,!0),Ue.dirtyFields=n.dirtyFields,ee=ee||u.dirtyFields&&_e!==!je}if(H){const je=le(n.touchedFields,j);je||(Ct(n.touchedFields,j,H),Ue.touchedFields=n.touchedFields,ee=ee||u.touchedFields&&je!==H)}ee&&re&&h.state.next(Ue)}return ee?Ue:{}},T=(j,$,H,ie)=>{const re=le(n.errors,j),ee=u.isValid&&ds($)&&n.isValid!==$;if(t.delayError&&H?(l=v(()=>b(j,H)),l(t.delayError)):(clearTimeout(c),l=null,H?Ct(n.errors,j,H):xn(n.errors,j)),(H?!Oo(re,H):re)||!Sr(ie)||ee){const _e={...ie,...ee&&ds($)?{isValid:$}:{},errors:n.errors,name:j};n={...n,..._e},h.state.next(_e)}},E=async j=>{x(j,!0);const $=await e.resolver(i,e.context,Kue(j||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return x(j),$},I=async j=>{const{errors:$}=await E(j);if(j)for(const H of j){const ie=le($,H);ie?Ct(n.errors,H,ie):xn(n.errors,H)}else n.errors=$;return $},R=async(j,$,H={valid:!0})=>{for(const ie in j){const re=j[ie];if(re){const{_f:ee,..._e}=re;if(ee){const Ue=a.array.has(ee.name),Be=re._f&&Wue(re._f);Be&&u.validatingFields&&x([ie],!0);const je=await DP(re,i,w,e.shouldUseNativeValidation&&!$,Ue);if(Be&&u.validatingFields&&x([ie]),je[ee.name]&&(H.valid=!1,$))break;!$&&(le(je,ee.name)?Ue?Uue(n.errors,je,ee.name):Ct(n.errors,ee.name,je[ee.name]):xn(n.errors,ee.name))}!Sr(_e)&&await R(_e,$,H)}}return H.valid},k=()=>{for(const j of a.unMount){const $=le(r,j);$&&($._f.refs?$._f.refs.every(H=>!C0(H)):!C0($._f.ref))&&Ne(j)}a.unMount=new Set},M=(j,$)=>!t.disabled&&(j&&$&&Ct(i,j,$),!Oo(fe(),s)),N=(j,$,H)=>BU(j,a,{...o.mount?i:Zt($)?s:ri(j)?{[j]:$}:$},H,$),W=j=>Uy(le(o.mount?i:s,j,t.shouldUnregister?le(s,j,[]):[])),se=(j,$,H={})=>{const ie=le(r,j);let re=$;if(ie){const ee=ie._f;ee&&(!ee.disabled&&Ct(i,j,GU($,ee)),re=ev(ee.ref)&&pr($)?"":$,WU(ee.ref)?[...ee.ref.options].forEach(_e=>_e.selected=re.includes(_e.value)):ee.refs?np(ee.ref)?ee.refs.length>1?ee.refs.forEach(_e=>(!_e.defaultChecked||!_e.disabled)&&(_e.checked=Array.isArray(re)?!!re.find(Ue=>Ue===_e.value):re===_e.value)):ee.refs[0]&&(ee.refs[0].checked=!!re):ee.refs.forEach(_e=>_e.checked=_e.value===re):TT(ee.ref)?ee.ref.value="":(ee.ref.value=re,ee.ref.type||h.values.next({name:j,values:{...i}})))}(H.shouldDirty||H.shouldTouch)&&O(j,re,H.shouldTouch,H.shouldDirty,!0),H.shouldValidate&&J(j)},ne=(j,$,H)=>{for(const ie in $){const re=$[ie],ee=`${j}.${ie}`,_e=le(r,ee);(a.array.has(j)||ln(re)||_e&&!_e._f)&&!rl(re)?ne(ee,re,H):se(ee,re,H)}},Y=(j,$,H={})=>{const ie=le(r,j),re=a.array.has(j),ee=_r($);Ct(i,j,ee),re?(h.array.next({name:j,values:{...i}}),(u.isDirty||u.dirtyFields)&&H.shouldDirty&&h.state.next({name:j,dirtyFields:_d(s,i),isDirty:M(j,ee)})):ie&&!ie._f&&!pr(ee)?ne(j,ee,H):se(j,ee,H),AP(j,a)&&h.state.next({...n}),h.values.next({name:o.mount?j:void 0,values:{...i}})},z=async j=>{o.mount=!0;const $=j.target;let H=$.name,ie=!0;const re=le(r,H),ee=()=>$.type?A0(re._f):OU(j),_e=Ue=>{ie=Number.isNaN(Ue)||rl(Ue)&&isNaN(Ue.getTime())||Oo(Ue,le(i,H,Ue))};if(re){let Ue,Be;const je=ee(),Qt=j.type===Zg.BLUR||j.type===Zg.FOCUS_OUT,wr=!Hue(re._f)&&!e.resolver&&!le(n.errors,H)&&!re._f.deps||que(Qt,le(n.touchedFields,H),n.isSubmitted,g,p),Rn=AP(H,a,Qt);Ct(i,H,je),Qt?(re._f.onBlur&&re._f.onBlur(j),l&&l(0)):re._f.onChange&&re._f.onChange(j);const Vt=O(H,je,Qt,!1),Lr=!Sr(Vt)||Rn;if(!Qt&&h.values.next({name:H,type:j.type,values:{...i}}),wr)return u.isValid&&(t.mode==="onBlur"?Qt&&_():_()),Lr&&h.state.next({name:H,...Rn?{}:Vt});if(!Qt&&Rn&&h.state.next({...n}),e.resolver){const{errors:ns}=await E([H]);if(_e(je),ie){const co=MP(n.errors,r,H),vn=MP(ns,r,co.name||H);Ue=vn.error,H=vn.name,Be=Sr(ns)}}else x([H],!0),Ue=(await DP(re,i,w,e.shouldUseNativeValidation))[H],x([H]),_e(je),ie&&(Ue?Be=!1:u.isValid&&(Be=await R(r,!0)));ie&&(re._f.deps&&J(re._f.deps),T(H,Be,Ue,Vt))}},B=(j,$)=>{if(le(n.errors,$)&&j.focus)return j.focus(),1},J=async(j,$={})=>{let H,ie;const re=ih(j);if(e.resolver){const ee=await I(Zt(j)?j:re);H=Sr(ee),ie=j?!re.some(_e=>le(ee,_e)):H}else j?(ie=(await Promise.all(re.map(async ee=>{const _e=le(r,ee);return await R(_e&&_e._f?{[ee]:_e}:_e)}))).every(Boolean),!(!ie&&!n.isValid)&&_()):ie=H=await R(r);return h.state.next({...!ri(j)||u.isValid&&H!==n.isValid?{}:{name:j},...e.resolver||!j?{isValid:H}:{},errors:n.errors}),$.shouldFocus&&!ie&&oh(r,B,j?re:a.mount),ie},fe=j=>{const $={...o.mount?i:s};return Zt(j)?$:ri(j)?le($,j):j.map(H=>le($,H))},he=(j,$)=>({invalid:!!le(($||n).errors,j),isDirty:!!le(($||n).dirtyFields,j),error:le(($||n).errors,j),isValidating:!!le(n.validatingFields,j),isTouched:!!le(($||n).touchedFields,j)}),Se=j=>{j&&ih(j).forEach($=>xn(n.errors,$)),h.state.next({errors:j?n.errors:{}})},We=(j,$,H)=>{const ie=(le(r,j,{_f:{}})._f||{}).ref,re=le(n.errors,j)||{},{ref:ee,message:_e,type:Ue,...Be}=re;Ct(n.errors,j,{...Be,...$,ref:ie}),h.state.next({name:j,errors:n.errors,isValid:!1}),H&&H.shouldFocus&&ie&&ie.focus&&ie.focus()},at=(j,$)=>ji(j)?h.values.subscribe({next:H=>j(N(void 0,$),H)}):N(j,$,!0),Ne=(j,$={})=>{for(const H of j?ih(j):a.mount)a.mount.delete(H),a.array.delete(H),$.keepValue||(xn(r,H),xn(i,H)),!$.keepError&&xn(n.errors,H),!$.keepDirty&&xn(n.dirtyFields,H),!$.keepTouched&&xn(n.touchedFields,H),!$.keepIsValidating&&xn(n.validatingFields,H),!e.shouldUnregister&&!$.keepDefaultValue&&xn(s,H);h.values.next({values:{...i}}),h.state.next({...n,...$.keepDirty?{isDirty:M()}:{}}),!$.keepIsValid&&_()},ce=({disabled:j,name:$,field:H,fields:ie,value:re})=>{if(ds(j)&&o.mount||j){const ee=j?void 0:Zt(re)?A0(H?H._f:le(ie,$)._f):re;Ct(i,$,ee),O($,ee,!1,!1,!0)}},Pe=(j,$={})=>{let H=le(r,j);const ie=ds($.disabled)||ds(t.disabled);return Ct(r,j,{...H||{},_f:{...H&&H._f?H._f:{ref:{name:j}},name:j,mount:!0,...$}}),a.mount.add(j),H?ce({field:H,disabled:ds($.disabled)?$.disabled:t.disabled,name:j,value:$.value}):P(j,!0,$.value),{...ie?{disabled:$.disabled||t.disabled}:{},...e.progressive?{required:!!$.required,min:Ed($.min),max:Ed($.max),minLength:Ed($.minLength),maxLength:Ed($.maxLength),pattern:Ed($.pattern)}:{},name:j,onChange:z,onBlur:z,ref:re=>{if(re){Pe(j,$),H=le(r,j);const ee=Zt(re.value)&&re.querySelectorAll&&re.querySelectorAll("input,select,textarea")[0]||re,_e=zue(ee),Ue=H._f.refs||[];if(_e?Ue.find(Be=>Be===ee):ee===H._f.ref)return;Ct(r,j,{_f:{...H._f,..._e?{refs:[...Ue.filter(C0),ee,...Array.isArray(le(s,j))?[{}]:[]],ref:{type:ee.type,name:j}}:{ref:ee}}}),P(j,!1,void 0,ee)}else H=le(r,j,{}),H._f&&(H._f.mount=!1),(e.shouldUnregister||$.shouldUnregister)&&!(jU(a.array,j)&&o.action)&&a.unMount.add(j)}}},He=()=>e.shouldFocusError&&oh(r,B,a.mount),pe=j=>{ds(j)&&(h.state.next({disabled:j}),oh(r,($,H)=>{const ie=le(r,H);ie&&($.disabled=ie._f.disabled||j,Array.isArray(ie._f.refs)&&ie._f.refs.forEach(re=>{re.disabled=ie._f.disabled||j}))},0,!1))},$e=(j,$)=>async H=>{let ie;H&&(H.preventDefault&&H.preventDefault(),H.persist&&H.persist());let re=_r(i);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:ee,values:_e}=await E();n.errors=ee,re=_e}else await R(r);if(xn(n.errors,"root"),Sr(n.errors)){h.state.next({errors:{}});try{await j(re,H)}catch(ee){ie=ee}}else $&&await $({...n.errors},H),He(),setTimeout(He);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Sr(n.errors)&&!ie,submitCount:n.submitCount+1,errors:n.errors}),ie)throw ie},Oe=(j,$={})=>{le(r,j)&&(Zt($.defaultValue)?Y(j,_r(le(s,j))):(Y(j,$.defaultValue),Ct(s,j,_r($.defaultValue))),$.keepTouched||xn(n.touchedFields,j),$.keepDirty||(xn(n.dirtyFields,j),n.isDirty=$.defaultValue?M(j,_r(le(s,j))):M()),$.keepError||(xn(n.errors,j),u.isValid&&_()),h.state.next({...n}))},vt=(j,$={})=>{const H=j?_r(j):s,ie=_r(H),re=Sr(j),ee=re?s:ie;if($.keepDefaultValues||(s=H),!$.keepValues){if($.keepDirtyValues){const _e=new Set([...a.mount,...Object.keys(_d(s,i))]);for(const Ue of Array.from(_e))le(n.dirtyFields,Ue)?Ct(ee,Ue,le(i,Ue)):Y(Ue,le(ee,Ue))}else{if(_T&&Zt(j))for(const _e of a.mount){const Ue=le(r,_e);if(Ue&&Ue._f){const Be=Array.isArray(Ue._f.refs)?Ue._f.refs[0]:Ue._f.ref;if(ev(Be)){const je=Be.closest("form");if(je){je.reset();break}}}}r={}}i=t.shouldUnregister?$.keepDefaultValues?_r(s):{}:_r(ee),h.array.next({values:{...ee}}),h.values.next({values:{...ee}})}a={mount:$.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!$.keepIsValid||!!$.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:$.keepSubmitCount?n.submitCount:0,isDirty:re?!1:$.keepDirty?n.isDirty:!!($.keepDefaultValues&&!Oo(j,s)),isSubmitted:$.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:re?{}:$.keepDirtyValues?$.keepDefaultValues&&i?_d(s,i):n.dirtyFields:$.keepDefaultValues&&j?_d(s,j):$.keepDirty?n.dirtyFields:{},touchedFields:$.keepTouched?n.touchedFields:{},errors:$.keepErrors?n.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},qe=(j,$)=>vt(ji(j)?j(i):j,$);return{control:{register:Pe,unregister:Ne,getFieldState:he,handleSubmit:$e,setError:We,_executeSchema:E,_getWatch:N,_getDirty:M,_updateValid:_,_removeUnmounted:k,_updateFieldArray:y,_updateDisabledField:ce,_getFieldArray:W,_reset:vt,_resetDefaultValues:()=>ji(e.defaultValues)&&e.defaultValues().then(j=>{qe(j,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:j=>{n={...n,...j}},_disableForm:pe,_subjects:h,_proxyFormState:u,_setErrors:A,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(j){o=j},get _defaultValues(){return s},get _names(){return a},set _names(j){a=j},get _formState(){return n},set _formState(j){n=j},get _options(){return e},set _options(j){e={...e,...j}}},trigger:J,register:Pe,handleSubmit:$e,watch:at,setValue:Y,getValues:fe,reset:qe,resetField:Oe,clearErrors:Se,unregister:Ne,setError:We,setFocus:(j,$={})=>{const H=le(r,j),ie=H&&H._f;if(ie){const re=ie.refs?ie.refs[0]:ie.ref;re.focus&&(re.focus(),$.shouldSelect&&re.select())}},getFieldState:he}}function By(t={}){const e=Re.useRef(),n=Re.useRef(),[r,s]=Re.useState({isDirty:!1,isValidating:!1,isLoading:ji(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:ji(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Yue(t),formState:r});const i=e.current.control;return i._options=t,ST({subject:i._subjects.state,next:o=>{FU(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),Re.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Re.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),Re.useEffect(()=>{t.values&&!Oo(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),Re.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),Re.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),Re.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),Re.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=VU(r,i),e.current}const Xue=({currentName:t,isOpen:e,setDialogState:n,onRenameKnowledge:r,isLoading:s})=>{const{register:i,reset:o,handleSubmit:a,formState:{errors:l,isSubmitted:c}}=By({defaultValues:{newKnowledgeBaseName:t}}),u=async p=>{await r(p.newKnowledgeBaseName),h()},h=(p=void 0)=>{n(p??!1),o({}),setTimeout(()=>{p||(document.body.style.pointerEvents="")},100)};return d.jsx(Vy,{open:e,onOpenChange:p=>{h(p)},children:d.jsxs(Jf,{className:"sm:max-w-[425px]",children:[d.jsxs(Zf,{children:[d.jsx(ep,{className:"text-2xl font-bold",children:"Rename Knowledge Base"}),d.jsx(tp,{children:"Enter a new name for the knowledge base to update its name."})]}),d.jsxs("form",{onSubmit:a(u),className:"text-sm space-y-2",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(Cn,{htmlFor:"current-password",children:"Knowledge Base Name"}),d.jsx(un,{placeholder:"Enter new knowledge base name",...i("newKnowledgeBaseName",{required:"Please enter a new Knowledge Base name",minLength:{value:4,message:"Knowledge base name must be atleast 4 characters"}})}),c&&l.newKnowledgeBaseName&&d.jsx("p",{className:"text-red-500",children:l.newKnowledgeBaseName.message})]}),d.jsx(Fy,{children:d.jsx(tt,{type:"submit",className:"w-40",children:s?d.jsx(Na,{}):"Rename"})})]})]})})},Jue=({onTabChange:t})=>{const e=Da(),n=yi(),{handleFilterChange:r,filter:s}=L4(),i=pt(R=>R.admin),o=Wt(R=>R.selectedKnowledgeBaseItem),a=Wt(R=>R.setSelectedKnowledgeBaseItem),l=Wt(R=>R.selectedKnowledgeBaseName),c=Wt(R=>R.setSelectedKnowledgeBaseName),u=Wt(R=>R.setSelectedKnowledgeEntry),h=ws(R=>R.openModal),p=ws(R=>R.setMode),g=gt(R=>R.clearFormData),w=Jr(R=>R.dialogs),v=Jr(R=>R.setDialogState),{data:_,isLoading:x}=Wu({queryFn:()=>$le(),queryKey:sh}),{mutateAsync:y}=Rr({mutationFn:Gle,onSuccess:()=>{e.invalidateQueries({queryKey:sh}),e.invalidateQueries({queryKey:Gg}),n({title:`Knowledge Base ${o} deleted`,description:it()})},onError:R=>{n({title:R==null?void 0:R.message,description:it(),variant:"destructive"}),yt(R.message||"An Unexpected error occured while deleting knowledge base")}}),{mutateAsync:b,isPending:A}=Rr({mutationFn:qle,onSuccess:R=>{e.invalidateQueries({queryKey:sh}),n({title:R,description:it()})},onError:R=>{n({title:R==null?void 0:R.message,description:it(),variant:"destructive"}),yt(R.message||"An Unexpected error occured while deleting knowledge base")}}),P=m.useMemo(()=>_==null?void 0:_.filter(R=>R.toLowerCase().includes(s.toLowerCase())),[_,s]),O=async()=>{if(!o)throw new Error("No knowledge base selected cannot delete");await y(o),a(""),l&&l===o&&(c(""),u(null))},T=async R=>{try{if(!o)throw new Error("No selected knowledge base");await b({knowledgeBaseName:o,newKnowledgeBaseName:R}),l&&l===o&&c(R)}catch(k){if(k instanceof Error){yt(k.message,!0);return}console.error("Am umexpected error occured: ",k)}},E=R=>{g(),p(R),h()},I=bc.base(o);return x?d.jsx(j4,{}):_?d.jsxs(dy,{value:"knowledgeBase",className:"mt-2",children:[d.jsxs("div",{className:"h-[450px] md:h-[600px] w-full px-4 pb-4 flex flex-col overflow-y-auto scrollbar-slim",children:[d.jsxs("div",{className:"flex mb-2 space-x-4 sticky top-0",children:[d.jsx(un,{className:"flex-grow outline-none focus:outline-none",placeholder:"Search knowledge base...",onChange:R=>r(R.target.value)}),(i==null?void 0:i.role)!=="viewer"&&d.jsx(O4,{label:"Add Knowledge Base",onButtonClick:()=>E("BASE")})]}),_.length===0?d.jsxs("div",{className:"flex-1 flex flex-col justify-center items-center",children:[d.jsx("div",{className:"h-20 w-20 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:d.jsx(XM,{className:"h-10 w-10 text-primary"})}),d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"No knowledge bases"}),d.jsx("p",{className:"text-sm text-center text-muted-foreground mb-6 max-w-md whitespace-pre-line",children:"Create a knowledge base to enhance your bot's knowledge and responsiveness."})]}):d.jsx(Nue,{knowledgeBaseNameList:P,handleTabChange:t})]}),w.showConfirmDeleteKnowledgeBaseDialog&&d.jsx(nl,{title:I.title,description:I.description,isOpen:w.showConfirmDeleteKnowledgeBaseDialog,setDialogState:R=>v("showConfirmDeleteKnowledgeBaseDialog",R),onDelete:O,isDestructive:!0}),w.showRenameKnowledgeBaseDialog&&d.jsx(Xue,{currentName:o,isOpen:w.showRenameKnowledgeBaseDialog,setDialogState:R=>v("showRenameKnowledgeBaseDialog",R),onRenameKnowledge:T,isLoading:A})]}):d.jsx(lT,{heading:"Empty Knowledge Base",description:"No knowledge base found"})},Zue=()=>{const t=Ui(n=>n.currentSelectedKnowledgeTab),e=Ui(n=>n.setCurrentSelectedKnowledgeTab);return d.jsxs(M2,{value:t,onValueChange:n=>e(n),className:"w-full p-0 border-neutral-200 bg-white border shadow-sm text-sm md:text-base rounded-md overflow-hidden box-border",children:[d.jsx(zte,{tabs:Bte}),t==="knowledgeBase"&&d.jsx(Jue,{onTabChange:e}),t==="knowledgeEntry"&&d.jsx(Iue,{onTabChange:e}),t==="entryDetails"&&d.jsx(ice,{})]})},Li=ao((t,e)=>({currentStep:1,totalStep:3,nextStep:()=>{e().currentStep!==e().totalStep&&t(n=>({currentStep:n.currentStep+1}))},prevStep:()=>{e().currentStep!==1&&t(n=>({currentStep:n.currentStep-1}))},setTotalStep:n=>{if(n==="BASE")return t(()=>({totalStep:3}));t(()=>({totalStep:2}))},resetCurrentStep:()=>{t(()=>({currentStep:1}))}})),ede=({progressData:t})=>{const e=Li(s=>s.totalStep),n=Li(s=>s.currentStep),r=(n-1)/(e-1)*100;return d.jsxs("div",{className:"mt-4 mb-8",children:[d.jsx("div",{className:"flex justify-between mb-2",children:[...Array(e)].map((s,i)=>d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${n>=i+1?"bg-lightGray text-htext":"bg-lightGray-darker text-muted-foreground"}`,children:i+1}),d.jsx("span",{className:"text-xs mt-1",children:t[i+1]})]},i))}),d.jsx("div",{className:"h-2 bg-muted rounded-full",children:d.jsx("div",{className:"h-full bg-blue-600 rounded-full transition-all duration-300 ease-in-out",style:{width:`${r}%`}})})]})},ah=({errorMessage:t})=>d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(rO,{className:"text-destructive size-5",strokeWidth:1.5}),d.jsx("div",{className:"text-destructive text-sm",children:t})]}),tde=()=>{const{knowledgeBaseName:t}=gt(r=>r.formData),{knowledgeBaseName:e}=gt(r=>r.formDataErrors),n=gt(r=>r.setFormData);return d.jsx("div",{className:"space-y-1",children:d.jsxs(d.Fragment,{children:[d.jsx("label",{htmlFor:"knowledgeBaseName",className:"block text-sm font-medium",children:"Knowledge Base Name"}),d.jsx(un,{name:"knowledgeBaseName",placeholder:"Enter knowledge base name",value:t,className:ue(e&&"border-destructive"),onChange:r=>n(r.target.name,r.target.value)}),e&&d.jsx(ah,{errorMessage:e})]})})},OP=()=>{const{intent:t,documents:e,answer:n}=gt(A=>A.formData),{intent:r,documents:s,answer:i}=gt(A=>A.formDataErrors),o=gt(A=>A.setDocuments),a=gt(A=>A.removeDocument),l=gt(A=>A.setFormData),c=gt(A=>A.addDocument),u=Wt(A=>A.selectedKnowledgeBaseName),h=ws(A=>A.modalMode),{file:p,isLinkDialogOpen:g,setIsLinkDialogOpen:w,handleFileChange:v,handleInsertLink:_,handleRemoveFile:x,fileInputRef:y,answerTextAreaRef:b}=y4(n);return m.useEffect(()=>{h==="ENTRY"&&l("knowledgeBaseName",u)},[]),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-1.5",children:[d.jsx(Cn,{children:"Intent"}),d.jsx(un,{placeholder:"Enter the intent",value:t,className:ue(r&&"border-destructive"),onChange:A=>l("intent",A.target.value),tabIndex:1}),r&&d.jsx(ah,{errorMessage:r})]}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsx(Cn,{children:"Documents"}),e.map((A,P)=>d.jsxs("div",{className:"flex",children:[d.jsx(un,{placeholder:`Enter document ${P+1}`,className:ue("rounded-none border-r-0",s&&"border-destructive"),value:A,onChange:O=>o(O.target.value,P),tabIndex:2},P),d.jsx(an,{className:"rounded-none h-[40px] border-l-0",children:d.jsxs(tt,{type:"button",variant:"ghost",size:"icon",onClick:()=>a(P),className:"hover:bg-transparent border-none",children:[d.jsx(Nu,{className:"h-4 w-4 text-gray-500 hover:text-gray-700"}),d.jsx("span",{className:"sr-only",children:"Remove document"})]})})]},P)),s&&d.jsx(ah,{errorMessage:s}),d.jsxs(tt,{variant:"outline",onClick:c,className:"w-full",children:[d.jsx(Pu,{className:"mr-2 h-4 w-4"})," Add Document"]})]}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsx(Cn,{children:"Answer"}),d.jsx(eV,{answer:n,handleTextChange:l,onFileChange:v,fileRef:y,textAreaRef:b,isError:!!i,isLinkDropDownVisible:g,setIsLinkDropDownVisible:w,onInsertLink:_,tabIndex:3}),i&&d.jsx(ah,{errorMessage:i})]}),p&&d.jsx(tV,{file:p,removeFile:x})]})},nde=({file:t})=>d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:"File Details:"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:t.name})]}),jP=()=>{const{knowledgeBaseName:t,intent:e,documents:n,answer:r,file:s}=gt(i=>i.formData);return d.jsxs("div",{className:"space-y-4 break-words",children:[d.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Review Your Entry"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:"Knowledge Base Name:"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:"Intent:"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:e})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:"Documents:"}),d.jsx("ul",{className:"list-disc pl-5 text-sm text-muted-foreground",children:n.map((i,o)=>d.jsx("li",{children:i},o))})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:"Answer:"}),d.jsx("p",{className:"text-sm text-muted-foreground line-clamp-4",children:r})]}),s&&d.jsx(nde,{file:s})]})},rde=()=>{const t=Li(r=>r.currentStep),e=ws(r=>r.modalMode),n=()=>({1:{BASE:d.jsx(tde,{}),ENTRY:d.jsx(OP,{})},2:{BASE:d.jsx(OP,{}),ENTRY:d.jsx(jP,{})},3:{BASE:d.jsx(jP,{})}})[t][e]||d.jsx(d.Fragment,{children:"No Modal Section"});return d.jsx(d.Fragment,{children:n()})},sde=()=>{const t=yi(),e=Da(),n=ws(l=>l.closeModal),[r,s]=m.useState(!1),{mutateAsync:i}=Rr({mutationFn:l=>Kle(l),onSuccess:()=>{e.invalidateQueries({queryKey:sh}),t({title:"Knowledge Base saved successfully.",description:it()})},onError:l=>{t({title:l.message,description:it(),variant:"destructive"})}}),{mutateAsync:o}=Rr({mutationFn:l=>Wle(l),onSuccess:()=>{e.invalidateQueries({queryKey:Um}),t({title:"Knowledge Entry saved successfully.",description:it()})},onError:l=>{t({title:l.message,description:it(),variant:"destructive"})}});return{handleSubmitForm:async(l,c)=>{try{s(!0);let u=null;l.file&&(u=await Fm(l.file)),c==="BASE"?await i(u?{...l,fileUrl:u}:l):await o(u?{...l,fileUrl:u}:l)}catch(u){if(u instanceof Error){if(u.message.includes("E11000"))return;t({title:u.message,description:it(),variant:"destructive"})}else console.error("Unknown error type:",u),t({title:"An unknown error occurred",description:it(),variant:"destructive"})}finally{s(!1),n()}},isLoading:r}},ide=(t,e)=>{const n={};return t===1&&(e.knowledgeBaseName.trim()||(n.knowledgeBaseName="Knowledge Base Name is required")),t===2&&(e.intent.trim()||(n.intent="Intent is required"),e.documents.some(s=>s.trim()==="")&&(n.documents="Document is required"),e.answer.trim()||(n.answer="Answer is required")),{isValid:Object.keys(n).length===0,errors:n}},ode=()=>{const{handleSubmitForm:t,isLoading:e}=sde(),n=ws(u=>u.modalMode),r=gt(u=>u.formData),s=Li(u=>u.currentStep),i=Li(u=>u.totalStep),o=Li(u=>u.nextStep),a=Li(u=>u.prevStep),l=gt(u=>u.setFormDataErrors),c=()=>{const{isValid:u,errors:h}=ide(n==="BASE"?s:s+1,r);if(!u){l(h);return}l({}),o()};return d.jsxs("div",{className:"flex justify-between items-center mt-6",children:[d.jsx("div",{}),d.jsxs("div",{className:"flex ",children:[s>1&&d.jsxs(tt,{variant:"outline",onClick:a,className:"mr-2",children:[d.jsx(q8,{className:"mr-2 h-4 w-4"})," Back"]}),s<i?d.jsxs(tt,{onClick:c,children:["Next ",d.jsx(QM,{className:"ml-2 h-4 w-4"})]}):d.jsx(tt,{className:"w-52",onClick:async()=>{t(r,n)},children:e?d.jsx(Na,{}):"Save Knowledge Base"})]})]})},ade=()=>{const t=gt(a=>a.clearFormData),e=ws(a=>a.isModalVisible),n=ws(a=>a.modalMode),r=ws(a=>a.closeModal),s=Li(a=>a.setTotalStep),i=Li(a=>a.resetCurrentStep),o=n==="BASE"?Aue:Rue;return m.useEffect(()=>(s(n),()=>{t(),i()}),[s]),d.jsx(Vy,{open:e,onOpenChange:r,children:d.jsxs(Jf,{className:"sm:max-w-[550px] ",children:[d.jsxs(Zf,{children:[d.jsx(ep,{className:"text-2xl font-bold",children:"Create New Knowledge Base"}),d.jsx(tp,{children:"Fill in the details to create a new knowledge base."})]}),d.jsx(ede,{progressData:o}),d.jsx(an,{children:d.jsx(mn,{className:"pt-6 max-h-[30rem] max-w-[498px] overflow-y-scroll",children:d.jsx(rde,{})})}),d.jsx(ode,{})]})})},lde=()=>{const t=ws(e=>e.isModalVisible);return d.jsxs("div",{className:"flex items-center flex-col w-[84rem] px-20 space-y-6 pb-8",children:[d.jsx(Mte,{}),d.jsx(Zue,{}),t&&d.jsx(ade,{})]})},bt=ao(t=>({botName:"",errors:{botName:""},interactionIcon:null,interactionIconPreview:"",widgetIcon:null,widgetIconPreview:"",metadata:[],setBotName:e=>{t(()=>({botName:e}))},setErrors:(e,n)=>{t(r=>({errors:{...r.errors,[e]:n}}))},setInteractionIcon:e=>{t(()=>({interactionIcon:e}))},setInteractionIconPreview:e=>{t(()=>({interactionIconPreview:e}))},setWidgetIcon:e=>{t(()=>({widgetIcon:e}))},setWidgetIconPreview:e=>{t(()=>({widgetIconPreview:e}))},setMetadata:e=>{t(()=>({metadata:e}))}})),cde=({inputRef:t})=>{const e=pt(a=>a.admin),n=bt(a=>a.botName),r=bt(a=>a.setBotName),s=bt(a=>a.errors),i=bt(a=>a.setErrors),o=a=>{r(a),a?i("botName",""):i("botName","Bot name field is required")};return d.jsxs("section",{className:"space-y-2",children:[d.jsx(Cn,{htmlFor:"botName",className:"text-base font-medium",children:"Bot Name"}),d.jsx(un,{id:"botName",ref:t,type:"text",value:n,onChange:a=>o(a.target.value),className:ue("w-full",s.botName&&"border-destructive"),readOnly:(e==null?void 0:e.role)==="viewer"}),s.botName&&d.jsx(ah,{errorMessage:s.botName})]})},ude=()=>{const t=yi();return{handleIconChange:(r,s,i,o,a=0)=>{if(r.target.files&&r.target.files[0]){const l=r.target.files[0];if(!o.includes(l.type)){const u=o.map(h=>h.split("/")[1]);t({title:`Only the following file formats are supported: ${u.join(", ")}.`,description:it(),variant:"destructive"}),r.target.value="";return}if(a>0&&l.size>a){const u=a/1048576;t({title:`File size exceeds the maximum limit of ${u.toFixed(0)} MB.`,description:it(),variant:"destructive"}),r.target.value="";return}s(l);const c=new FileReader;c.onload=u=>{var h;i((h=u.target)==null?void 0:h.result)},c.readAsDataURL(l)}},handleRemoveIcon:(r,s,i)=>{s(null),i(null),r.current&&(r.current.value="")}}},Ls="https://firebasestorage.googleapis.com/v0/b/cob-chatbot.appspot.com/o/image%2Fdefault-icon.png?alt=media&token=7d708bba-dcf2-47a0-b81b-3ac8d0e02648",dde=async(t,e,n,r=[])=>{try{const s=bt.getState().interactionIconPreview,i=bt.getState().widgetIconPreview,o=bt.getState().setInteractionIcon,a=bt.getState().setWidgetIcon,l=r.reduce((h,p)=>({...h,[p.key]:p.value}),{}),c={botName:n,metadata:l,interactionIconURL:s??Ls,widgetIconUrl:i??Ls};t&&(c.interactionIconURL=await A_(t,fP,"interaction-icon")??Ls,o(null)),e&&(console.time("Upload Time"),c.widgetIconUrl=await A_(e,fP,"widget-icon")??Ls,a(null),console.timeEnd("Upload Time")),await g4("profile","botProfile",c,!1),yt("Upload bot profile success")}catch(s){console.error(s)}},QU=({iconRef:t,setIcon:e,setIconPreview:n,iconPreview:r,acceptedFormat:s,maxIconSize:i=0})=>{const o=s.split(",").map(c=>`image/${c.slice(1)}`),{handleIconChange:a,handleRemoveIcon:l}=ude();return d.jsxs("div",{className:"flex items-center ",children:[d.jsx(un,{id:"widget-icon-upload",type:"file",className:"hidden",ref:t,accept:s,onChange:c=>a(c,e,n,o,i)}),d.jsx(tt,{type:"button",variant:"outline",size:"sm",onClick:()=>{var c;return(c=t.current)==null?void 0:c.click()},children:r&&r!==Ls?d.jsxs("span",{className:"flex items-center text-sm gap-2",children:[d.jsx(TR,{className:"size-5"}),"Change Icon"]}):d.jsxs("span",{className:"flex items-center text-sm gap-2",children:[d.jsx(TR,{className:"size-5"}),"Upload Icon"]})}),r&&r!==Ls&&d.jsx(tt,{type:"button",variant:"ghost",size:"sm",className:"ml-2",onClick:()=>l(t,e,n),children:"Remove"})]})},YU=2*1024*1024,hde=YU/(1024*1024),fde=()=>{const t=bt(i=>i.setInteractionIcon),e=bt(i=>i.setInteractionIconPreview),n=bt(i=>i.interactionIconPreview),r=m.useRef(null),s=pt(i=>i.admin);return d.jsxs("section",{className:"space-y-2 min-w-[327px]",children:[d.jsx(Cn,{htmlFor:"botName",className:"text-base font-medium",children:"Interaction Icon"}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"group relative size-[70px] rounded-full *:flex items-center justify-center cursor-pointer border border-neutral-200 bg-gray-100 overflow-hidden transition-transform duration-200 ease-in-out hover:scale-105",children:[n&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"size-full bg-black absolute opacity-0 group-hover:opacity-20 transition-opacity duration-200"}),d.jsx("img",{src:n,className:"size-full object-cover rounded-full",alt:"Interaction Icon Preview"}),d.jsx("div",{className:"size-full bg-black absolute opacity-0 group-hover:opacity-20 transition-opacity duration-200"})]}),!n&&d.jsx("img",{src:Ls,className:"size-full object-cover rounded-full",alt:"Default Bot Icon"})]}),(s==null?void 0:s.role)!=="viewer"&&d.jsxs("div",{className:"space-y-2",children:[d.jsx(QU,{iconRef:r,setIcon:t,setIconPreview:e,iconPreview:n,acceptedFormat:".png,.jpeg",maxIconSize:YU}),d.jsx("p",{className:"text-sm text-muted-foreground",children:`PNG or JPG only. Max file size: ${hde.toFixed(0)} MB.`})]})]})]})},XU=6*1024*1024,pde=XU/(1024*1024),mde=()=>{const t=bt(i=>i.setWidgetIcon),e=bt(i=>i.widgetIconPreview),n=bt(i=>i.setWidgetIconPreview),r=m.useRef(null),s=pt(i=>i.admin);return console.log(),d.jsxs("section",{className:"space-y-2 min-w-[327px]",children:[d.jsx(Cn,{htmlFor:"botName",className:"text-base font-medium",children:"Widget Icon"}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"group relative size-[70px] rounded-full *:flex items-center justify-center cursor-pointer border border-neutral-200 bg-gray-100 overflow-hidden transition-transform duration-200 ease-in-out hover:scale-105",children:[e&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"size-full bg-black absolute opacity-0 group-hover:opacity-20 transition-opacity duration-200"}),d.jsx("img",{src:e,className:"size-full object-cover rounded-full"})]}),!e&&d.jsx("img",{src:Ls,className:"size-full object-cover rounded-full"})]}),(s==null?void 0:s.role)!=="viewer"&&d.jsxs("div",{className:"space-y-2",children:[d.jsx(QU,{iconRef:r,setIcon:t,setIconPreview:n,iconPreview:e,acceptedFormat:".png,.jpg,.gif",maxIconSize:XU}),d.jsx("p",{className:"text-sm text-muted-foreground",children:`PNG, JPEG OR GIF only. Max file size: ${pde.toFixed(0)} MB.`})]})]})]})},gde=({botNameInputRef:t})=>d.jsxs("form",{className:"space-y-4",children:[d.jsx(cde,{inputRef:t}),d.jsxs("div",{className:"flex items-center space-x-14 py-2",children:[d.jsx(fde,{}),d.jsx(mde,{})]})]}),vde=({handleCloseChatbox:t})=>{const e=bt(r=>r.botName),n=bt(r=>r.interactionIconPreview);return d.jsx("section",{children:d.jsxs("div",{className:"bg-white h-[24rem] rounded-lg shadow-lg p-4 max-w-sm mx-auto flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[n?d.jsx("img",{src:n,alt:"interaction-icon-preview",className:"w-11 h-11 object-cover rounded-full"}):d.jsx("img",{src:Ls,alt:"interaction-icon-preview",className:"w-11 h-11 object-cover rounded-full"}),d.jsx("span",{className:"text-sm font-medium text-gray-700",children:e||"Chatbot"})]}),d.jsx("div",{className:"cursor-pointer hover:scale-110 transition-transform",onClick:t,children:d.jsx(Uv,{className:"w-5 h-5 text-gray-500"})})]}),d.jsx("div",{className:"flex-1"}),d.jsx("div",{className:" rounded-lg py-3 mb-4",children:d.jsxs("div",{className:"flex items-center",children:[n?d.jsx("img",{src:n,alt:"interaction-icon-preview",className:"w-10 h-10 object-cover rounded-full"}):d.jsx("img",{src:Ls,alt:"interaction-icon-preview",className:"w-10 h-10 object-cover rounded-full"}),d.jsx("p",{className:"ml-2 text-sm text-gray-700 bg-gray-100 p-2.5 rounded-xl",children:"Hi! What can I help you with?"})]})}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{disabled:!0,type:"text",placeholder:"Message...",className:"flex-grow h-10 px-3 py-2 text-sm border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),d.jsx("div",{className:"h-10 px-3 py-2 bg-blue-500 text-white rounded-r-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 flex items-center justify-center",children:d.jsx(tO,{className:"w-5 h-5"})})]})]})})},yde=()=>{const[t,e]=m.useState(!1),n=bt(r=>r.widgetIconPreview);return d.jsx("section",{children:d.jsx("div",{className:"border h-[28rem] border-gray-300 rounded-lg p-4 bg-gray-50 mb-2",style:{backgroundImage:"radial-gradient(#d1d5db 1px, transparent 1px)",backgroundSize:"20px 20px"},children:d.jsx("div",{className:"h-full flex justify-end items-end",children:t?d.jsx(vde,{handleCloseChatbox:()=>e(!1)}):d.jsx("div",{className:"size-[14rem] flex items-center justify-center",onClick:()=>e(!0),children:n?d.jsx("img",{src:n,alt:"Widget icon preview",className:"cursor-pointer"}):d.jsx("img",{src:Ls,alt:"Widget icon preview",className:"cursor-pointer"})})})})})},wde=()=>{const t=bt(o=>o.metadata),e=bt(o=>o.setMetadata),n=pt(o=>o.admin),r=()=>{const o={id:Date.now().toString(),key:"",value:""};e([...t,o])},s=(o,a,l)=>{const c=t.map(u=>u.id===o?{...u,[a]:l}:u);e(c)},i=o=>{const a=t.filter((l,c)=>c!==o);e(a)};return d.jsxs("div",{className:"space-y-4",children:[t.map((o,a)=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(un,{placeholder:"Key",value:o.key,onChange:l=>s(o.id,"key",l.target.value),className:"flex-1",readOnly:(n==null?void 0:n.role)==="viewer"}),d.jsx(un,{placeholder:"Value",value:o.value,onChange:l=>s(o.id,"value",l.target.value),className:"flex-1",readOnly:(n==null?void 0:n.role)==="viewer"}),(n==null?void 0:n.role)!=="viewer"&&d.jsx(tt,{type:"button",variant:"ghost",size:"icon",className:"hover:text-red-600",onClick:()=>i(a),children:d.jsx(Nu,{className:"size-5 transition-transform ease-in"})})]},a)),(n==null?void 0:n.role)!=="viewer"&&d.jsxs(tt,{type:"button",variant:"outline",size:"sm",onClick:r,className:"mt-2",children:[d.jsx(Pu,{className:"size-5 mr-2"}),"Add Field"]})]})},xde=async()=>await v4("profile","botProfile"),_de=()=>{const t=yi(),e=bt(_=>_.interactionIcon),n=bt(_=>_.setInteractionIconPreview),r=bt(_=>_.widgetIcon),s=bt(_=>_.setWidgetIconPreview),i=bt(_=>_.botName),o=bt(_=>_.setBotName),a=bt(_=>_.setErrors),l=bt(_=>_.metadata),c=bt(_=>_.setMetadata),[u,h]=m.useState(!1),[p,g]=m.useState(!0),w=m.useRef(null);return m.useEffect(()=>((async()=>{g(!0);const x=await xde();if(!x)return;o(x.botName),n(x.interactionIconURL),s(x.widgetIconUrl);const y=jY(x.metadata);c(y),g(!1)})(),()=>{a("botName","")}),[]),{isLoading:u,handleSubmitForm:async()=>{var x;if(!i.trim()){a("botName","Bot name field is required"),(x=w.current)==null||x.scrollIntoView({behavior:"smooth",block:"center"});return}try{h(!0),await dde(e,r,i,l),h(!1),t({title:"Bot profile has been successfully updated",description:it()})}catch(y){y instanceof Error&&t({title:y.message,description:it(),variant:"destructive"}),console.error("Unexpected error occured ",y)}},isPageLoading:p,botNameInputRef:w}},Ede=()=>{const t=pt(e=>e.admin);return d.jsxs("section",{className:"flex-1 flex-col space-y-4 pb-8",children:[d.jsxs(an,{children:[d.jsxs(Mn,{children:[d.jsx(On,{children:"Bot Profile"}),d.jsx(vi,{children:(t==null?void 0:t.role)!=="viewer"?"View and manage bot's profile details and icons.":"View bot's profile information and icons."})]}),d.jsx(mn,{children:d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx(Ce,{className:"h-4 w-16"}),d.jsx(Ce,{className:"h-10 w-full mb-3"}),d.jsx(Ce,{className:"h-4 w-24"}),d.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[d.jsx(Ce,{className:"size-[64px] rounded-full"}),d.jsx(Ce,{className:"h-9 w-36"}),d.jsx(Ce,{className:"h-9 w-36"})]}),d.jsx(Ce,{className:"h-4 w-24"}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx(Ce,{className:"size-[64px] rounded-full"}),d.jsx(Ce,{className:"h-9 w-36"}),d.jsx(Ce,{className:"h-9 w-36"})]})]})})]}),d.jsxs(an,{children:[d.jsx(Mn,{children:d.jsx(On,{children:"Additional Information"})}),d.jsxs(mn,{children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[d.jsx(Ce,{className:"flex-1 h-10"}),d.jsx(Ce,{className:"flex-1 h-10"}),d.jsx(Ce,{className:"w-10 h-10"})]}),d.jsx(Ce,{className:"h-9 w-36"})]})]}),d.jsxs(an,{children:[d.jsx(Mn,{children:d.jsx(On,{children:"Preview"})}),d.jsx(mn,{children:d.jsx(Ce,{className:"h-[28rem] w-full mb-2"})})]}),d.jsx(Ce,{className:"bg-blue-200 h-10 w-full"})]})},bde=()=>{const{isLoading:t,handleSubmitForm:e,isPageLoading:n,botNameInputRef:r}=_de(),s=pt(i=>i.admin);return n?d.jsx(Ede,{}):d.jsxs("section",{className:"flex-1 flex-col space-y-4 pb-8 relative",children:[d.jsxs(an,{children:[d.jsxs(Mn,{children:[d.jsx(On,{children:"Bot Profile"}),d.jsx(vi,{children:(s==null?void 0:s.role)!=="viewer"?"View and manage bot's profile details and icons.":"View bot's profile information and icons."})]}),d.jsx(mn,{children:d.jsx(gde,{botNameInputRef:r})})]}),d.jsxs(an,{children:[d.jsx(Mn,{children:d.jsx(On,{children:"Additional Information"})}),d.jsx(mn,{children:d.jsx(wde,{})})]}),d.jsxs(an,{children:[d.jsx(Mn,{children:d.jsx(On,{children:"Preview"})}),d.jsx(mn,{children:d.jsx(yde,{})})]}),(s==null?void 0:s.role)!=="viewer"&&d.jsx("footer",{className:"mt-4",children:d.jsx(tt,{className:"w-full",disabled:t,onClick:e,children:t?d.jsx(Na,{}):"Save changes"})})]})},Sde=[{id:"team",icon:d.jsx(hq,{}),label:"Team",comingSoon:!1},{id:"botProfile",icon:d.jsx(W8,{}),label:"Bot Profile",comingSoon:!1},{id:"botModel",icon:d.jsx(z8,{}),label:"Bot Model",comingSoon:!1},{id:"archives",icon:d.jsx(Vv,{}),label:"Archives",comingSoon:!1},{id:"queries",icon:d.jsx(rq,{}),label:"Queries",comingSoon:!1}],Tde=({onTabChange:t,activeTab:e})=>d.jsx("nav",{className:"w-[14rem] px-2 space-y-2 text-htext font-medium",children:Sde.map(n=>d.jsxs("div",{className:"relative group",children:[d.jsxs("li",{className:ue("flex items-center gap-3 py-3 px-2  cursor-pointer rounded-md transition-colors hover:text-opacity-80",e===n.id?"bg-blue-500 text-white":"hover:bg-slate-100 text-opacity-100"),onClick:()=>t(n.id),children:[n.icon," ",n.label]}),n.comingSoon&&d.jsx(Zv,{variant:"secondary",className:"absolute -top-2 right-0 text-[10px] font-normal px-1 py-0.5 bg-blue-100 text-blue-800 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Coming Soon"})]},n.id))});var Cde="Separator",LP="horizontal",Ade=["horizontal","vertical"],JU=m.forwardRef((t,e)=>{const{decorative:n,orientation:r=LP,...s}=t,i=Rde(r)?r:LP,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return d.jsx(ve.div,{"data-orientation":i,...a,...s,ref:e})});JU.displayName=Cde;function Rde(t){return Ade.includes(t)}var ZU=JU;const eB=m.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>d.jsx(ZU,{ref:s,decorative:n,orientation:e,className:ue("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));eB.displayName=ZU.displayName;const Ide=(t,e,n)=>Vle(t,e,n),Pde=()=>{const t=pt(u=>u.admin),[e,n]=m.useState(!1),[r,s]=m.useState(null),[i,o]=m.useState(null),a=yi(),l=async()=>{n(!0),await KY(),n(!1),a({title:"Model Training Complete",description:"Your AI model is fully trained and ready for use. You can now run queries with the latest data."})},c=u=>{const p=[{min:5,label:"(Excellent)"},{min:4,label:"(Good)"},{min:3,label:"(Decent)"},{min:0,label:"(Poor)"}].find(g=>u>=g.min);return p?p.label:"(Unknown)"};return m.useEffect(()=>{const u=async()=>{const p=await Fle();s(p)},h=Ide("profile","model",p=>{const{timeFinishedTraining:g}=p;o(g)});return u(),()=>h()},[]),d.jsxs("section",{className:"flex-1 flex-col space-y-4",children:[d.jsxs(an,{children:[d.jsxs(Mn,{children:[d.jsx(On,{children:"Bot Model"}),d.jsx(vi,{children:(t==null?void 0:t.role)!=="viewer"?"View current model status and initialize training process.":"View current model status."})]}),d.jsxs(mn,{children:[d.jsxs("section",{className:"flex items-center",children:[d.jsxs("div",{className:"w-[15rem]",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Version"}),d.jsx("p",{className:"font-bold text-xl",children:"v1.0.0"})]}),d.jsxs("div",{className:"",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Trained"}),d.jsx("p",{className:"font-bold text-xl",children:i||d.jsx(Ce,{className:"w-48 h-6"})})]})]}),d.jsx(eB,{className:"my-4"}),d.jsxs("div",{className:"flex ",children:[d.jsxs("div",{className:"flex space-x-2 w-[15rem]",children:[d.jsx(nO,{fill:"yellow",className:"text-yellow-300"})," ",d.jsx("p",{children:"Average Rating"})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx("p",{className:"text-green-400 font-bold text-xl",children:r??d.jsx(Ce,{className:"h-7 w-11"})}),d.jsx("p",{className:"text-muted-foreground text-xs space-x-1",children:r?c(Number(r)):d.jsx(Ce,{className:"h-4 w-14"})})]})]})]})]}),d.jsx("footer",{className:"mt-4 pb-4",children:(t==null?void 0:t.role)!=="viewer"&&d.jsx(tt,{className:"w-full",disabled:e,onClick:l,children:e?d.jsx(Na,{}):d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(H8,{size:20})," Train Model"]})})})]})},sm="672ca434f2191d3bb7606f0d",Nde=({id:t,adminRole:e,onDeleteAction:n,onResetPasswordAction:r,onUpdateRoleAction:s})=>d.jsxs(Of,{modal:!1,children:[d.jsx(jf,{asChild:!0,children:d.jsx(tt,{variant:"ghost",className:" hover:bg-gray-100 size-8 p-1 group",children:d.jsx(hb,{className:"text-zinc-400 size-5 group-hover:text-zinc-600 transition-colors"})})}),d.jsxs(ju,{align:"end",className:"w-auto bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[e!=="editor"||t!==sm&&d.jsx(ti,{className:"flex items-center p-2 hover:bg-zinc-100",onClick:async()=>{await s("editor")},children:"Set as Editor"}),e!=="viewer"||t!==sm&&d.jsx(ti,{className:"flex items-center p-2 hover:bg-zinc-100",onClick:async()=>{await s("viewer")},children:"Set as Viewer"}),t!==sm&&d.jsx(Vb,{}),d.jsxs(ti,{className:"flex items-center p-2 hover:bg-zinc-100",onClick:()=>{r()},children:[d.jsx(tq,{className:"mr-2 h-4 w-4"}),"Reset Password"]}),t!==sm&&d.jsxs(ti,{className:"flex items-center p-2 hover:bg-zinc-100 text-red-600",onClick:()=>{n()},children:[d.jsx(uq,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]}),tB=ao(t=>({admin:{id:null,email:null},setAdmin:(e,n)=>t({admin:{id:e,email:n}})})),Dde=({adminInfo:t,onUpdateRole:e})=>{const n=pt(h=>h.admin),{email:r,role:s,_id:i}=t,o=tB(h=>h.setAdmin),a=Jr(h=>h.openDialog),l=()=>{o(i,r),a("showConfirmDeleteDialog")},c=()=>{o(i,r),a("showResetPasswordDialog")},u=h=>{const p=new Date(h),w=new Date().getTime()-p.getTime(),v=Math.floor(w/(1e3*60)),_=Math.floor(v/60),x=Math.floor(_/24);return x>0?`${x}d`:_>0?`${_}h`:`${v}m`};return d.jsxs("section",{className:"flex items-center w-full py-2 font-medium text-sm",children:[d.jsx("div",{className:"flex-1 text-zinc-700 truncate",title:r,children:r}),d.jsx("div",{className:"w-[14rem] text-zinc-500",children:t!=null&&t.lastLoginAt?u(t.lastLoginAt):"Never Logged In"}),d.jsx("div",{className:"w-[10rem]",children:d.jsx(Zv,{className:ue("flex w-16 items-center justify-center pointer-events-none select-none",s==="admin"&&"bg-red-200 text-red-800",s==="editor"&&"bg-blue-200 text-blue-800",s==="viewer"&&"bg-green-200 text-green-800"),children:Fb(s)})}),d.jsx("div",{className:`w-[10rem] ${(n==null?void 0:n.role)==="viewer"&&"py-3"} ${(n==null?void 0:n.role)==="editor"&&"py-3"}`,children:(n==null?void 0:n.role)!=="viewer"&&(n==null?void 0:n.role)!=="editor"&&d.jsx(Nde,{id:i,adminRole:s,onDeleteAction:l,onResetPasswordAction:c,onUpdateRoleAction:async h=>await e(h,i)})})]})},lh=({id:t,field:e,placeholderText:n,register:r,message:s,isError:i,validate:o})=>{const[a,l]=m.useState(!1);return d.jsxs("div",{className:"relative",children:[d.jsx(un,{id:t??void 0,className:ue(i&&"border-destructive"),type:a?"text":"password",placeholder:n,...r(e,{required:s,minLength:{value:9,message:"Password must be atleast 9 characters"},validate:o})}),d.jsx(tt,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(c=>!c),"aria-label":a?"Hide password":"Show password",children:a?d.jsx(JM,{className:"h-4 w-4 text-gray-500"}):d.jsx(fb,{className:"h-4 w-4 text-gray-500"})})]})};function $_(t,[e,n]){return Math.min(n,Math.max(e,t))}function kde(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var x;const{scope:p,children:g,...w}=h,v=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,_=m.useMemo(()=>w,Object.values(w));return d.jsx(v.Provider,{value:_,children:g})};c.displayName=i+"Provider";function u(h,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Mde(s,...e)]}function Mde(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Ode="DismissableLayer",z_="dismissableLayer.update",jde="dismissableLayer.pointerDownOutside",Lde="dismissableLayer.focusOutside",VP,nB=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),rB=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(nB),[u,h]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,T=>h(T)),v=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(_),y=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,A=y>=x,P=Ude(T=>{const E=T.target,I=[...c.branches].some(R=>R.contains(E));!A||I||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},p),O=Bde(T=>{const E=T.target;[...c.branches].some(R=>R.contains(E))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},p);return Pf(T=>{y===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(VP=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),FP(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=VP)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),FP())},[u,c]),m.useEffect(()=>{const T=()=>g({});return document.addEventListener(z_,T),()=>document.removeEventListener(z_,T)},[]),d.jsx(ve.div,{...l,ref:w,style:{pointerEvents:b?A?"auto":"none":void 0,...t.style},onFocusCapture:Z(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Z(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Z(t.onPointerDownCapture,P.onPointerDownCapture)})});rB.displayName=Ode;var Vde="DismissableLayerBranch",Fde=m.forwardRef((t,e)=>{const n=m.useContext(nB),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(ve.div,{...t,ref:s})});Fde.displayName=Vde;function Ude(t,e=globalThis==null?void 0:globalThis.document){const n=ft(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){sB(jde,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Bde(t,e=globalThis==null?void 0:globalThis.document){const n=ft(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&sB(Lde,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function FP(){const t=new CustomEvent(z_);document.dispatchEvent(t)}function sB(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Vl(s,i):s.dispatchEvent(i)}var $de="Portal",iB=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Pt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?_f.createPortal(d.jsx(ve.div,{...r,ref:e}),o):null});iB.displayName=$de;function zde(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Kde=[" ","Enter","ArrowUp","ArrowDown"],Wde=[" ","Enter"],rp="Select",[$y,zy,Hde]=$v(rp),[Hu,uge]=kde(rp,[Hde,Mu]),Ky=Mu(),[qde,ka]=Hu(rp),[Gde,Qde]=Hu(rp),oB=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:h,disabled:p,required:g,form:w}=t,v=Ky(e),[_,x]=m.useState(null),[y,b]=m.useState(null),[A,P]=m.useState(!1),O=If(c),[T=!1,E]=ua({prop:r,defaultProp:s,onChange:i}),[I,R]=ua({prop:o,defaultProp:a,onChange:l}),k=m.useRef(null),M=_?w||!!_.closest("form"):!0,[N,W]=m.useState(new Set),se=Array.from(N).map(ne=>ne.props.value).join(";");return d.jsx(Sb,{...v,children:d.jsxs(qde,{required:g,scope:e,trigger:_,onTriggerChange:x,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:A,onValueNodeHasChildrenChange:P,contentId:Us(),value:I,onValueChange:R,open:T,onOpenChange:E,dir:O,triggerPointerDownPosRef:k,disabled:p,children:[d.jsx($y.Provider,{scope:e,children:d.jsx(Gde,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(ne=>{W(Y=>new Set(Y).add(ne))},[]),onNativeOptionRemove:m.useCallback(ne=>{W(Y=>{const z=new Set(Y);return z.delete(ne),z})},[]),children:n})}),M?d.jsxs(DB,{"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:h,value:I,onChange:ne=>R(ne.target.value),disabled:p,form:w,children:[I===void 0?d.jsx("option",{value:""}):null,Array.from(N)]},se):null]})})};oB.displayName=rp;var aB="SelectTrigger",lB=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Ky(n),o=ka(aB,n),a=o.disabled||r,l=ke(e,o.onTriggerChange),c=zy(n),u=m.useRef("touch"),[h,p,g]=kB(v=>{const _=c().filter(b=>!b.disabled),x=_.find(b=>b.value===o.value),y=MB(_,v,x);y!==void 0&&o.onValueChange(y.value)}),w=v=>{a||(o.onOpenChange(!0),g()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return d.jsx(Tb,{asChild:!0,...i,children:d.jsx(ve.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":NB(o.value)?"":void 0,...s,ref:l,onClick:Z(s.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&w(v)}),onPointerDown:Z(s.onPointerDown,v=>{u.current=v.pointerType;const _=v.target;_.hasPointerCapture(v.pointerId)&&_.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:Z(s.onKeyDown,v=>{const _=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&p(v.key),!(_&&v.key===" ")&&Kde.includes(v.key)&&(w(),v.preventDefault())})})})});lB.displayName=aB;var cB="SelectValue",uB=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=ka(cB,n),{onValueNodeHasChildrenChange:c}=l,u=i!==void 0,h=ke(e,l.onValueNodeChange);return Pt(()=>{c(u)},[c,u]),d.jsx(ve.span,{...a,ref:h,style:{pointerEvents:"none"},children:NB(l.value)?d.jsx(d.Fragment,{children:o}):i})});uB.displayName=cB;var Yde="SelectIcon",dB=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return d.jsx(ve.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});dB.displayName=Yde;var Xde="SelectPortal",hB=t=>d.jsx(iB,{asChild:!0,...t});hB.displayName=Xde;var kl="SelectContent",fB=m.forwardRef((t,e)=>{const n=ka(kl,t.__scopeSelect),[r,s]=m.useState();if(Pt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Ar.createPortal(d.jsx(pB,{scope:t.__scopeSelect,children:d.jsx($y.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),i):null}return d.jsx(mB,{...t,ref:e})});fB.displayName=kl;var Rs=10,[pB,Ma]=Hu(kl),Jde="SelectContentImpl",mB=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:g,sticky:w,hideWhenDetached:v,avoidCollisions:_,...x}=t,y=ka(kl,n),[b,A]=m.useState(null),[P,O]=m.useState(null),T=ke(e,ce=>A(ce)),[E,I]=m.useState(null),[R,k]=m.useState(null),M=zy(n),[N,W]=m.useState(!1),se=m.useRef(!1);m.useEffect(()=>{if(b)return Rb(b)},[b]),mb();const ne=m.useCallback(ce=>{const[Pe,...He]=M().map(Oe=>Oe.ref.current),[pe]=He.slice(-1),$e=document.activeElement;for(const Oe of ce)if(Oe===$e||(Oe==null||Oe.scrollIntoView({block:"nearest"}),Oe===Pe&&P&&(P.scrollTop=0),Oe===pe&&P&&(P.scrollTop=P.scrollHeight),Oe==null||Oe.focus(),document.activeElement!==$e))return},[M,P]),Y=m.useCallback(()=>ne([E,b]),[ne,E,b]);m.useEffect(()=>{N&&Y()},[N,Y]);const{onOpenChange:z,triggerPointerDownPosRef:B}=y;m.useEffect(()=>{if(b){let ce={x:0,y:0};const Pe=pe=>{var $e,Oe;ce={x:Math.abs(Math.round(pe.pageX)-((($e=B.current)==null?void 0:$e.x)??0)),y:Math.abs(Math.round(pe.pageY)-(((Oe=B.current)==null?void 0:Oe.y)??0))}},He=pe=>{ce.x<=10&&ce.y<=10?pe.preventDefault():b.contains(pe.target)||z(!1),document.removeEventListener("pointermove",Pe),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",He,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",He,{capture:!0})}}},[b,z,B]),m.useEffect(()=>{const ce=()=>z(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[z]);const[J,fe]=kB(ce=>{const Pe=M().filter($e=>!$e.disabled),He=Pe.find($e=>$e.ref.current===document.activeElement),pe=MB(Pe,ce,He);pe&&setTimeout(()=>pe.ref.current.focus())}),he=m.useCallback((ce,Pe,He)=>{const pe=!se.current&&!He;(y.value!==void 0&&y.value===Pe||pe)&&(I(ce),pe&&(se.current=!0))},[y.value]),Se=m.useCallback(()=>b==null?void 0:b.focus(),[b]),We=m.useCallback((ce,Pe,He)=>{const pe=!se.current&&!He;(y.value!==void 0&&y.value===Pe||pe)&&k(ce)},[y.value]),at=r==="popper"?K_:gB,Ne=at===K_?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:g,sticky:w,hideWhenDetached:v,avoidCollisions:_}:{};return d.jsx(pB,{scope:n,content:b,viewport:P,onViewportChange:O,itemRefCallback:he,selectedItem:E,onItemLeave:Se,itemTextRefCallback:We,focusSelectedItem:Y,selectedItemText:R,position:r,isPositioned:N,searchRef:J,children:d.jsx(Yv,{as:da,allowPinchZoom:!0,children:d.jsx(zv,{asChild:!0,trapped:y.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:Z(s,ce=>{var Pe;(Pe=y.trigger)==null||Pe.focus({preventScroll:!0}),ce.preventDefault()}),children:d.jsx(rB,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:d.jsx(at,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ce=>ce.preventDefault(),...x,...Ne,onPlaced:()=>W(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Z(x.onKeyDown,ce=>{const Pe=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!Pe&&ce.key.length===1&&fe(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let pe=M().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const $e=ce.target,Oe=pe.indexOf($e);pe=pe.slice(Oe+1)}setTimeout(()=>ne(pe)),ce.preventDefault()}})})})})})})});mB.displayName=Jde;var Zde="SelectItemAlignedPosition",gB=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=ka(kl,n),o=Ma(kl,n),[a,l]=m.useState(null),[c,u]=m.useState(null),h=ke(e,T=>u(T)),p=zy(n),g=m.useRef(!1),w=m.useRef(!0),{viewport:v,selectedItem:_,selectedItemText:x,focusSelectedItem:y}=o,b=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&v&&_&&x){const T=i.trigger.getBoundingClientRect(),E=c.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),R=x.getBoundingClientRect();if(i.dir!=="rtl"){const $e=R.left-E.left,Oe=I.left-$e,vt=T.left-Oe,qe=T.width+vt,Lt=Math.max(qe,E.width),gn=window.innerWidth-Rs,jr=$_(Oe,[Rs,Math.max(Rs,gn-Lt)]);a.style.minWidth=qe+"px",a.style.left=jr+"px"}else{const $e=E.right-R.right,Oe=window.innerWidth-I.right-$e,vt=window.innerWidth-T.right-Oe,qe=T.width+vt,Lt=Math.max(qe,E.width),gn=window.innerWidth-Rs,jr=$_(Oe,[Rs,Math.max(Rs,gn-Lt)]);a.style.minWidth=qe+"px",a.style.right=jr+"px"}const k=p(),M=window.innerHeight-Rs*2,N=v.scrollHeight,W=window.getComputedStyle(c),se=parseInt(W.borderTopWidth,10),ne=parseInt(W.paddingTop,10),Y=parseInt(W.borderBottomWidth,10),z=parseInt(W.paddingBottom,10),B=se+ne+N+z+Y,J=Math.min(_.offsetHeight*5,B),fe=window.getComputedStyle(v),he=parseInt(fe.paddingTop,10),Se=parseInt(fe.paddingBottom,10),We=T.top+T.height/2-Rs,at=M-We,Ne=_.offsetHeight/2,ce=_.offsetTop+Ne,Pe=se+ne+ce,He=B-Pe;if(Pe<=We){const $e=k.length>0&&_===k[k.length-1].ref.current;a.style.bottom="0px";const Oe=c.clientHeight-v.offsetTop-v.offsetHeight,vt=Math.max(at,Ne+($e?Se:0)+Oe+Y),qe=Pe+vt;a.style.height=qe+"px"}else{const $e=k.length>0&&_===k[0].ref.current;a.style.top="0px";const vt=Math.max(We,se+v.offsetTop+($e?he:0)+Ne)+He;a.style.height=vt+"px",v.scrollTop=Pe-We+v.offsetTop}a.style.margin=`${Rs}px 0`,a.style.minHeight=J+"px",a.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,a,c,v,_,x,i.dir,r]);Pt(()=>b(),[b]);const[A,P]=m.useState();Pt(()=>{c&&P(window.getComputedStyle(c).zIndex)},[c]);const O=m.useCallback(T=>{T&&w.current===!0&&(b(),y==null||y(),w.current=!1)},[b,y]);return d.jsx(the,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:O,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:d.jsx(ve.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});gB.displayName=Zde;var ehe="SelectPopperPosition",K_=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Rs,...i}=t,o=Ky(n);return d.jsx(Cb,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});K_.displayName=ehe;var[the,AT]=Hu(kl,{}),W_="SelectViewport",vB=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Ma(W_,n),o=AT(W_,n),a=ke(e,i.onViewportChange),l=m.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx($y.Slot,{scope:n,children:d.jsx(ve.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Z(s.onScroll,c=>{const u=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&h){const g=Math.abs(l.current-u.scrollTop);if(g>0){const w=window.innerHeight-Rs*2,v=parseFloat(h.style.minHeight),_=parseFloat(h.style.height),x=Math.max(v,_);if(x<w){const y=x+g,b=Math.min(w,y),A=y-b;h.style.height=b+"px",h.style.bottom==="0px"&&(u.scrollTop=A>0?A:0,h.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});vB.displayName=W_;var yB="SelectGroup",[nhe,rhe]=Hu(yB),wB=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Us();return d.jsx(nhe,{scope:n,id:s,children:d.jsx(ve.div,{role:"group","aria-labelledby":s,...r,ref:e})})});wB.displayName=yB;var xB="SelectLabel",_B=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=rhe(xB,n);return d.jsx(ve.div,{id:s.id,...r,ref:e})});_B.displayName=xB;var rv="SelectItem",[she,EB]=Hu(rv),bB=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=ka(rv,n),l=Ma(rv,n),c=a.value===r,[u,h]=m.useState(i??""),[p,g]=m.useState(!1),w=ke(e,y=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,y,r,s)}),v=Us(),_=m.useRef("touch"),x=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(she,{scope:n,value:r,disabled:s,textId:v,isSelected:c,onItemTextChange:m.useCallback(y=>{h(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:d.jsx($y.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:d.jsx(ve.div,{role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:Z(o.onFocus,()=>g(!0)),onBlur:Z(o.onBlur,()=>g(!1)),onClick:Z(o.onClick,()=>{_.current!=="mouse"&&x()}),onPointerUp:Z(o.onPointerUp,()=>{_.current==="mouse"&&x()}),onPointerDown:Z(o.onPointerDown,y=>{_.current=y.pointerType}),onPointerMove:Z(o.onPointerMove,y=>{var b;_.current=y.pointerType,s?(b=l.onItemLeave)==null||b.call(l):_.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Z(o.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:Z(o.onKeyDown,y=>{var A;((A=l.searchRef)==null?void 0:A.current)!==""&&y.key===" "||(Wde.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});bB.displayName=rv;var jd="SelectItemText",SB=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=ka(jd,n),a=Ma(jd,n),l=EB(jd,n),c=Qde(jd,n),[u,h]=m.useState(null),p=ke(e,x=>h(x),l.onItemTextChange,x=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,x,l.value,l.disabled)}),g=u==null?void 0:u.textContent,w=m.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:_}=c;return Pt(()=>(v(w),()=>_(w)),[v,_,w]),d.jsxs(d.Fragment,{children:[d.jsx(ve.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ar.createPortal(i.children,o.valueNode):null]})});SB.displayName=jd;var TB="SelectItemIndicator",CB=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return EB(TB,n).isSelected?d.jsx(ve.span,{"aria-hidden":!0,...r,ref:e}):null});CB.displayName=TB;var H_="SelectScrollUpButton",AB=m.forwardRef((t,e)=>{const n=Ma(H_,t.__scopeSelect),r=AT(H_,t.__scopeSelect),[s,i]=m.useState(!1),o=ke(e,r.onScrollButtonChange);return Pt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(IB,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});AB.displayName=H_;var q_="SelectScrollDownButton",RB=m.forwardRef((t,e)=>{const n=Ma(q_,t.__scopeSelect),r=AT(q_,t.__scopeSelect),[s,i]=m.useState(!1),o=ke(e,r.onScrollButtonChange);return Pt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(IB,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});RB.displayName=q_;var IB=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Ma("SelectScrollButton",n),o=m.useRef(null),a=zy(n),l=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),Pt(()=>{var u;const c=a().find(h=>h.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),d.jsx(ve.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Z(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Z(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Z(s.onPointerLeave,()=>{l()})})}),ihe="SelectSeparator",PB=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return d.jsx(ve.div,{"aria-hidden":!0,...r,ref:e})});PB.displayName=ihe;var G_="SelectArrow",ohe=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ky(n),i=ka(G_,n),o=Ma(G_,n);return i.open&&o.position==="popper"?d.jsx(Ab,{...s,...r,ref:e}):null});ohe.displayName=G_;function NB(t){return t===""||t===void 0}var DB=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=m.useRef(null),i=ke(e,s),o=zde(n);return m.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&u){const h=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(h)}},[o,n]),d.jsx(Kf,{asChild:!0,children:d.jsx("select",{...r,ref:i,defaultValue:n})})});DB.displayName="BubbleSelect";function kB(t){const e=ft(t),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function MB(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=ahe(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function ahe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var lhe=oB,OB=lB,che=uB,uhe=dB,dhe=hB,jB=fB,hhe=vB,fhe=wB,LB=_B,VB=bB,phe=SB,mhe=CB,FB=AB,UB=RB,BB=PB;const $B=lhe,zB=fhe,KB=che,RT=m.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(OB,{ref:r,className:ue("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,d.jsx(uhe,{asChild:!0,children:d.jsx(GM,{className:"h-4 w-4 opacity-50"})})]}));RT.displayName=OB.displayName;const WB=m.forwardRef(({className:t,...e},n)=>d.jsx(FB,{ref:n,className:ue("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(G8,{className:"h-4 w-4"})}));WB.displayName=FB.displayName;const HB=m.forwardRef(({className:t,...e},n)=>d.jsx(UB,{ref:n,className:ue("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(GM,{className:"h-4 w-4"})}));HB.displayName=UB.displayName;const IT=m.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>d.jsx(dhe,{children:d.jsxs(jB,{ref:s,className:ue("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[d.jsx(WB,{}),d.jsx(hhe,{className:ue("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(HB,{})]})}));IT.displayName=jB.displayName;const qB=m.forwardRef(({className:t,...e},n)=>d.jsx(LB,{ref:n,className:ue("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));qB.displayName=LB.displayName;const PT=m.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(VB,{ref:r,className:ue("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(mhe,{children:d.jsx(qM,{className:"h-4 w-4"})})}),d.jsx(phe,{children:e})]}));PT.displayName=VB.displayName;const ghe=m.forwardRef(({className:t,...e},n)=>d.jsx(BB,{ref:n,className:ue("-mx-1 my-1 h-px bg-muted",t),...e}));ghe.displayName=BB.displayName;const vhe=["editor","viewer"],yhe=({isOpen:t,setDialogState:e,onAddAdmin:n,isLoading:r})=>{const{register:s,watch:i,formState:{errors:o,isSubmitted:a},control:l,handleSubmit:c,reset:u}=By(),h=i("password"),p=async w=>{const{confirmPassword:v,..._}=w;await n(_),g()},g=(w=void 0)=>{u({email:"",password:"",confirmPassword:""}),e("showAddAdminDialog",w??!1)};return d.jsx(Vy,{open:t,onOpenChange:w=>{g(w)},children:d.jsxs(Jf,{className:"sm:max-w-[425px]",children:[d.jsxs(Zf,{children:[d.jsx(ep,{className:"text-2xl font-bold",children:"Add Admin"}),d.jsx(tp,{children:"Create a new admin account."})]}),d.jsxs("form",{onSubmit:c(p),className:"text-sm space-y-2",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(Cn,{htmlFor:"current-password",children:"Email"}),d.jsx(un,{className:ue(!!o.email&&"border-destructive"),type:"text",placeholder:"Enter your email",...s("email",{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Please enter a valid email address"}})}),a&&o.email&&d.jsx("p",{className:"text-red-500",children:o.email.message})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(Cn,{htmlFor:"current-password",children:"Password"}),d.jsx(lh,{field:"password",placeholderText:"Enter your password",register:s,message:"Password is required",isError:!!o.password}),a&&o.password&&d.jsx("p",{className:"text-red-500",children:o.password.message})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(Cn,{htmlFor:"new-password",children:"Confirm Password"}),d.jsx(lh,{field:"confirmPassword",placeholderText:"Re-enter your password",register:s,message:"Confirm password is required",isError:!!o.confirmPassword,validate:w=>w===h||"Password does not match"}),a&&o.confirmPassword&&d.jsx("p",{className:"text-red-500",children:o.confirmPassword.message})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(Cn,{children:"Role"}),d.jsx($U,{name:"role",control:l,rules:{required:"Role is required"},render:({field:w})=>d.jsxs($B,{onValueChange:w.onChange,value:w.value,children:[d.jsx(RT,{className:ue("w-[180px]",!!o.role&&"border-destructive"),children:d.jsx(KB,{placeholder:"Select a Role"})}),d.jsx(IT,{children:d.jsx(zB,{children:d.jsx(Lu,{items:vhe,renderItem:v=>d.jsx(PT,{value:v,children:Fb(v)})})})})]})}),a&&o.role&&d.jsx("p",{className:"text-red-500",children:o.role.message})]}),d.jsx(Fy,{children:d.jsx(tt,{disabled:r,type:"submit",className:"w-40",children:r?d.jsx(Na,{}):"Save changes"})})]})]})})},whe=({isOpen:t,setDialogState:e,onResetPassword:n,isLoading:r})=>{const{register:s,formState:{errors:i,isSubmitted:o},setError:a,watch:l,handleSubmit:c,reset:u}=By(),h=l("newPassword"),p=async w=>{const{confirmNewPassword:v,..._}=w,x=await n(_);if(x&&x===qo.passwordIncorrect){a("password",{type:"manual",message:x});return}if(x&&x===qo.passwordSameAsOld){a("newPassword",{type:"manual",message:x});return}g(!1)},g=(w=void 0)=>{e("showResetPasswordDialog",w??!1),u({})};return d.jsx(Vy,{open:t,onOpenChange:w=>{g(w),setTimeout(()=>{w||(document.body.style.pointerEvents="")},100)},children:d.jsxs(Jf,{className:"sm:max-w-[425px]",children:[d.jsxs(Zf,{children:[d.jsx(ep,{className:"text-2xl font-bold",children:"Reset Password"}),d.jsx(tp,{children:"Reset admin password and provide a new password."})]}),d.jsxs("form",{onSubmit:c(p),className:"text-sm space-y-2",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(Cn,{htmlFor:"current-password",children:"Current Password"}),d.jsx(lh,{id:"current-password",field:"password",placeholderText:"Enter new password",register:s,message:"Password is required",isError:!!i.password}),o&&i.password&&d.jsx("p",{className:"text-red-500",children:i.password.message})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(Cn,{htmlFor:"newPassword",children:"New Password"}),d.jsx(lh,{id:"newPassword",field:"newPassword",placeholderText:"Enter new password",register:s,message:"Password is required",isError:!!i.newPassword}),o&&i.newPassword&&d.jsx("p",{className:"text-red-500",children:i.newPassword.message})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(Cn,{htmlFor:"new-password",children:"Confirm New Password"}),d.jsx(lh,{id:"new-password",field:"confirmNewPassword",placeholderText:"Re-enter your password",register:s,message:"Confirm password is required",isError:!!i.confirmNewPassword,validate:w=>w===h||"Password does not match"}),o&&i.confirmNewPassword&&d.jsx("p",{className:"text-red-500",children:i.confirmNewPassword.message})]}),d.jsx(Fy,{children:d.jsx(tt,{type:"submit",className:"w-40 mt-2",children:r?d.jsx(Na,{}):"Reset Password"})})]})]})})},xhe=()=>d.jsx("section",{className:"flex-1 flex-col space-y-4 relative",children:d.jsxs(an,{children:[d.jsxs(Mn,{children:[d.jsx(On,{children:"Team"}),d.jsx(vi,{children:d.jsx(Ce,{className:"w-36 h-[20px]"})})]}),d.jsx(mn,{children:d.jsxs("div",{children:[d.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[d.jsx("h4",{className:"flex-1",children:d.jsx(Ce,{className:"w-16 h-[20px]"})}),d.jsx("h4",{className:"w-[14rem]",children:d.jsx(Ce,{className:"w-24 h-[20px]"})}),d.jsx("h4",{className:"w-[8rem]",children:d.jsx(Ce,{className:"w-12 h-[20px]"})}),d.jsx("h4",{className:"w-[6rem]"})]}),d.jsx("hr",{className:"border-customBorderColor"}),d.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[d.jsx("h4",{className:"flex-1",children:d.jsx(Ce,{className:"w-32 h-[20px]"})}),d.jsx("h4",{className:"w-[14rem]",children:d.jsx(Ce,{className:"w-12 h-[20px]"})}),d.jsx("h4",{className:"w-[8rem]",children:d.jsx(Ce,{className:"w-20 h-[20px]"})}),d.jsx("h4",{className:"w-[6rem]"})]}),d.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[d.jsx("h4",{className:"flex-1",children:d.jsx(Ce,{className:"w-40 h-[20px]"})}),d.jsx("h4",{className:"w-[14rem]",children:d.jsx(Ce,{className:"w-16 h-[20px]"})}),d.jsx("h4",{className:"w-[8rem]",children:d.jsx(Ce,{className:"w-12 h-[20px]"})}),d.jsx("h4",{className:"w-[6rem]"})]}),d.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[d.jsx("h4",{className:"flex-1",children:d.jsx(Ce,{className:"w-32 h-[20px]"})}),d.jsx("h4",{className:"w-[14rem]",children:d.jsx(Ce,{className:"w-12 h-[20px]"})}),d.jsx("h4",{className:"w-[8rem]",children:d.jsx(Ce,{className:"w-20 h-[20px]"})}),d.jsx("h4",{className:"w-[6rem]"})]})]})})]})}),_he=async(t,e)=>{try{const n={email:t,password:e},{success:r,accessToken:s,admin:i}=await Ra("/api/auth/login",{},n);if(!r)throw new Error("Invalid credentials, please try again");return{accessToken:s,admin:i}}catch(n){throw n}},Ehe=async()=>{const{admins:t}=await Vf("/api/auth/admins");return t},bhe=async t=>{const{message:e}=await Ra("/api/auth/register",{},t);return e},She=async t=>{const{message:e}=await Ff(`/api/auth/${t}`);return e},The=async t=>{const{message:e}=await ty("/api/auth/reset",{},t);if(e===qo.passwordIncorrect||e===qo.passwordSameAsOld)throw new Error(e);return e},Che=async t=>{const{message:e}=await ty("/api/auth/role",{},t);return e},Ahe=()=>{const t=Da(),e=$j(),n=yi(),r=Jr(b=>b.dialogs),s=Jr(b=>b.setDialogState),{id:i,email:o}=tB(b=>b.admin),{data:a,isLoading:l}=Wu({queryFn:()=>Ehe(),queryKey:xd}),{mutateAsync:c}=Rr({mutationFn:She,onSuccess:b=>{t.invalidateQueries({queryKey:xd}),n({title:b,description:it()})},onError:b=>{n({title:b==null?void 0:b.message,description:it(),variant:"destructive"}),yt(b.message||"An Unexpected error occured while deleting admin account")}}),{mutateAsync:u,isPending:h}=Rr({mutationFn:bhe,onSuccess:b=>{t.invalidateQueries({queryKey:xd}),n({title:b,description:it()})},onError:b=>{n({title:b==null?void 0:b.message,description:it(),variant:"destructive"}),yt(b.message||"An Unexpected error occured while adding admin account")}}),{mutateAsync:p,isPending:g}=Rr({mutationFn:The,onSuccess:b=>{t.invalidateQueries({queryKey:xd}),n({title:b,description:it()})},onError:b=>{b.message===qo.passwordIncorrect||b.message===qo.passwordSameAsOld||(n({title:b==null?void 0:b.message,description:it(),variant:"destructive"}),yt(b.message??"An error occured while updating admin account"))}}),{mutateAsync:w}=Rr({mutationFn:Che,onSuccess:async b=>{t.invalidateQueries({queryKey:xd}),await e(1e3),n({title:b,description:it()})},onError:b=>{n({title:b==null?void 0:b.message,description:it(),variant:"destructive"}),yt(b.message||"An Unexpected error occured while updating admin role")}});return{adminEmail:o,setDialogState:s,isAdminListLoading:l,adminList:a,handleAddAdmin:async b=>{try{await u(b)}catch(A){A instanceof Error&&yt(A.message??"An error occured adding admin account"),console.error("An unexpected error occured: ",A)}},handleDeleteAdmin:async()=>{try{if(!i)throw new Error("No admin selected cannot delete");await c(i)}catch(b){b instanceof Error&&yt(b.message??"An error occured deleting admin account"),console.error("An unexpected error occured: ",b)}},handleResetAdminPassword:async b=>{try{if(!i)throw new Error("Admin ID not found, cannot proceed");await p({...b,_id:i})}catch(A){if(A instanceof Error&&(yt(A.message??"An error occured deleting admin account"),A.message===qo.passwordIncorrect||A.message===qo.passwordSameAsOld))return A.message;console.error("An unexpected error occured: ",A)}},handleUpdateAdminRole:async(b,A)=>{try{if(!A)throw new Error("Admin is not available cannot update role");await w({role:b,_id:A})}catch(P){P instanceof Error&&yt(P.message??`An error occured: ${P}`),console.error("An unexpected error occured: ",P)}},dialogs:r,isPending:h,resetAdminPasswordIsPending:g}},Rhe=()=>{const t=pt(p=>p.admin),{adminEmail:e,adminList:n,dialogs:r,isAdminListLoading:s,isPending:i,handleAddAdmin:o,handleDeleteAdmin:a,handleResetAdminPassword:l,handleUpdateAdminRole:c,resetAdminPasswordIsPending:u,setDialogState:h}=Ahe();return s?d.jsx(xhe,{}):d.jsxs("section",{className:"flex-1 flex-col space-y-4 relative",children:[d.jsxs(an,{children:[d.jsxs(Mn,{children:[d.jsxs(On,{children:["Team",d.jsx(gy,{tooltip:"Maximum of 5 admins can be created",children:d.jsx("p",{className:"ml-3 inline-block min-w-6 text-xs font-medium text-zinc-600",children:`${n==null?void 0:n.length}/${Tne}`})})]}),d.jsx(vi,{children:(t==null?void 0:t.role)==="admin"?"View and Manage admin accounts.":"View the list of admin accounts."})]}),d.jsx(mn,{children:d.jsxs("div",{children:[d.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[d.jsx("h4",{className:"flex-1",children:"User"}),d.jsx("h4",{className:"w-[14rem]",children:"Last Login"}),d.jsx("h4",{className:"w-[10rem]",children:"Role"}),d.jsx("h4",{className:"w-[10rem]"})]}),d.jsx("hr",{className:"border-customBorderColor"}),d.jsx(Lu,{items:n,renderItem:p=>d.jsx(Dde,{adminInfo:p,onUpdateRole:c})})]})})]}),d.jsx("footer",{className:"mt-4 pb-4",children:(t==null?void 0:t.role)!=="viewer"&&(t==null?void 0:t.role)!=="editor"&&d.jsxs(tt,{className:"w-full",onClick:()=>h("showAddAdminDialog",!0),disabled:(n==null?void 0:n.length)===5,children:[d.jsx(Pu,{className:"size-5 mr-2"}),"Add Admin"]})}),d.jsx(yhe,{isOpen:r.showAddAdminDialog,setDialogState:h,onAddAdmin:o,isLoading:i}),(r==null?void 0:r.showConfirmDeleteDialog)&&d.jsx(nl,{title:"Delete Admin Account",description:`Are you sure you want to delete the admin account with email ${e}? This action cannot be undone.`,isOpen:r.showConfirmDeleteDialog,setDialogState:p=>h("showConfirmDeleteDialog",p),onDelete:a,isDestructive:!0}),(r==null?void 0:r.showResetPasswordDialog)&&d.jsx(whe,{isOpen:r.showResetPasswordDialog,setDialogState:h,onResetPassword:l,isLoading:u})]})},Ihe=async()=>{const t="knowledgeBases",{success:e,document:n}=await Vf(`/api/archive/data/${t}`);if(!e&&!n)throw new Error("Error fetching archive ");return n},Phe=async()=>{const t="knowledgeEntries",{success:e,document:n}=await Vf(`/api/archive/data/${t}`);if(!e&&!n)throw new Error("Error fetching archive ");return n},Nhe=async t=>{const{success:e,message:n}=await Ff(`/api/archive/knowledge-base/${t}`);if(!e)throw new Error(n);return n},Dhe=async t=>{const{success:e,message:n}=await Ff(`/api/archive/knowledge-entry/${t}`);if(!e)throw new Error(n);return n},khe=async t=>{const e={knowledgeBaseId:t},{success:n,message:r}=await Ra("/api/archive/restore/knowledge-base",{},e);if(!n)throw new Error(r);return r},Mhe=async t=>{const e={knowledgeEntryId:t},{success:n,message:r}=await Ra("/api/archive/restore/knowledge-entry",{},e);if(!n)throw new Error(r);return r},GB=({onRestore:t,onDelete:e})=>d.jsx("div",{children:d.jsxs(Of,{children:[d.jsx(jf,{asChild:!0,children:d.jsx(tt,{variant:"ghost",className:" hover:bg-gray-100 size-8 p-1 group",children:d.jsx(hb,{className:"text-zinc-400 size-5 group-hover:text-zinc-600 transition-colors"})})}),d.jsxs(ju,{align:"end",className:"w-auto text-sm bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[d.jsxs(ti,{className:"flex items-center p-1.5 hover:bg-zinc-100 rounded-sm cursor-pointer",onClick:t,children:[d.jsx(Q8,{className:"mr-2 h-4 w-4"}),d.jsx("p",{children:"Restore"})]}),d.jsxs(ti,{className:"flex items-center p-1.5 hover:bg-zinc-100 rounded-sm text-red-500 cursor-pointer",onClick:e,children:[d.jsx(Nu,{className:"mr-2 h-4 w-4"}),d.jsx("p",{children:"Delete Permanently"})]})]})]})}),Ohe=({item:t})=>{const e=pt(o=>o.admin),n=Wt(o=>o.setSelectedKnowledgeBaseArchiveItem),r=Jr(o=>o.openDialog),s=async()=>{const{_id:o,knowledgeBase:a}=t;n({id:o,name:a}),r("showDeleteKnowledgeBaseArchiveDialog")},i=async()=>{const{_id:o,knowledgeBase:a}=t;n({id:o,name:a}),r("showRestoreKnowledgeBaseArchiveDialog")};return d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("section",{children:[d.jsx("p",{className:"font-medium",children:t.knowledgeBase}),d.jsx("p",{className:"text-muted-foreground text-sm",children:`Archived on ${new Date(t.archivedAt).toLocaleDateString()}  ${t.knowledgeEntry.length} ${t.knowledgeEntry.length===1?"entry":"entries"}`})]}),(e==null?void 0:e.role)!=="viewer"&&d.jsx(GB,{onRestore:i,onDelete:s})]})},QB=()=>d.jsxs("div",{className:"h-[500px] overflow-y-auto p-2 botder border-t space-y-3",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ce,{className:"w-24 h-5"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Ce,{className:"w-40 h-4"}),d.jsx(Ce,{className:"w-20 h-4"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ce,{className:"w-10 h-5"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Ce,{className:"w-40 h-4"}),d.jsx(Ce,{className:"w-20 h-4"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ce,{className:"w-14 h-5"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Ce,{className:"w-40 h-4"}),d.jsx(Ce,{className:"w-20 h-4"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ce,{className:"w-28 h-5"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Ce,{className:"w-40 h-4"}),d.jsx(Ce,{className:"w-20 h-4"})]})]})]}),YB=()=>d.jsx("div",{className:"h-[500px] flex items-center justify-center p-2 botder border-t space-y-3",children:d.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 w-full max-w-lg my-4",role:"alert",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(rO,{className:"size-[5rem] text-red-400 mr-4"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-yellow-700",children:"Error Fetching Archive List"}),d.jsx("p",{className:"text-yellow-700 mt-1",children:"We encountered an issue while trying to retrieve the archive list. This might be due to a network problem or a temporary issue with the server. Please check your internet connection and try again."})]})]})})});function jhe(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var NT="ScrollArea",[XB,dge]=Fl(NT),[Lhe,bs]=XB(NT),JB=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=t,[a,l]=m.useState(null),[c,u]=m.useState(null),[h,p]=m.useState(null),[g,w]=m.useState(null),[v,_]=m.useState(null),[x,y]=m.useState(0),[b,A]=m.useState(0),[P,O]=m.useState(!1),[T,E]=m.useState(!1),I=ke(e,k=>l(k)),R=If(s);return d.jsx(Lhe,{scope:n,type:r,dir:R,scrollHideDelay:i,scrollArea:a,viewport:c,onViewportChange:u,content:h,onContentChange:p,scrollbarX:g,onScrollbarXChange:w,scrollbarXEnabled:P,onScrollbarXEnabledChange:O,scrollbarY:v,onScrollbarYChange:_,scrollbarYEnabled:T,onScrollbarYEnabledChange:E,onCornerWidthChange:y,onCornerHeightChange:A,children:d.jsx(ve.div,{dir:R,...o,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});JB.displayName=NT;var ZB="ScrollAreaViewport",e$=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=t,o=bs(ZB,n),a=m.useRef(null),l=ke(e,a,o.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),d.jsx(ve.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:d.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});e$.displayName=ZB;var wi="ScrollAreaScrollbar",DT=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=bs(wi,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=t.orientation==="horizontal";return m.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?d.jsx(Vhe,{...r,ref:e,forceMount:n}):s.type==="scroll"?d.jsx(Fhe,{...r,ref:e,forceMount:n}):s.type==="auto"?d.jsx(t$,{...r,ref:e,forceMount:n}):s.type==="always"?d.jsx(kT,{...r,ref:e}):null});DT.displayName=wi;var Vhe=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=bs(wi,t.__scopeScrollArea),[i,o]=m.useState(!1);return m.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),d.jsx($l,{present:n||i,children:d.jsx(t$,{"data-state":i?"visible":"hidden",...r,ref:e})})}),Fhe=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=bs(wi,t.__scopeScrollArea),i=t.orientation==="horizontal",o=Hy(()=>l("SCROLL_END"),100),[a,l]=jhe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,s.scrollHideDelay,l]),m.useEffect(()=>{const c=s.viewport,u=i?"scrollLeft":"scrollTop";if(c){let h=c[u];const p=()=>{const g=c[u];h!==g&&(l("SCROLL"),o()),h=g};return c.addEventListener("scroll",p),()=>c.removeEventListener("scroll",p)}},[s.viewport,i,l,o]),d.jsx($l,{present:n||a!=="hidden",children:d.jsx(kT,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Z(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Z(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),t$=m.forwardRef((t,e)=>{const n=bs(wi,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,o]=m.useState(!1),a=t.orientation==="horizontal",l=Hy(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?c:u)}},10);return Eu(n.viewport,l),Eu(n.content,l),d.jsx($l,{present:r||i,children:d.jsx(kT,{"data-state":i?"visible":"hidden",...s,ref:e})})}),kT=m.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=bs(wi,t.__scopeScrollArea),i=m.useRef(null),o=m.useRef(0),[a,l]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=o$(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function h(p,g){return Whe(p,o.current,a,g)}return n==="horizontal"?d.jsx(Uhe,{...u,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,g=UP(p,a,s.dir);i.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):n==="vertical"?d.jsx(Bhe,{...u,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,g=UP(p,a);i.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),Uhe=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=bs(wi,t.__scopeScrollArea),[o,a]=m.useState(),l=m.useRef(null),c=ke(e,l,i.onScrollbarXChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),d.jsx(r$,{"data-orientation":"horizontal",...s,ref:c,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Wy(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(i.viewport){const p=i.viewport.scrollLeft+u.deltaX;t.onWheelScroll(p),l$(p,h)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:iv(o.paddingLeft),paddingEnd:iv(o.paddingRight)}})}})}),Bhe=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=bs(wi,t.__scopeScrollArea),[o,a]=m.useState(),l=m.useRef(null),c=ke(e,l,i.onScrollbarYChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),d.jsx(r$,{"data-orientation":"vertical",...s,ref:c,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Wy(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(i.viewport){const p=i.viewport.scrollTop+u.deltaY;t.onWheelScroll(p),l$(p,h)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:iv(o.paddingTop),paddingEnd:iv(o.paddingBottom)}})}})}),[$he,n$]=XB(wi),r$=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:h,...p}=t,g=bs(wi,n),[w,v]=m.useState(null),_=ke(e,I=>v(I)),x=m.useRef(null),y=m.useRef(""),b=g.viewport,A=r.content-r.viewport,P=ft(u),O=ft(l),T=Hy(h,10);function E(I){if(x.current){const R=I.clientX-x.current.left,k=I.clientY-x.current.top;c({x:R,y:k})}}return m.useEffect(()=>{const I=R=>{const k=R.target;(w==null?void 0:w.contains(k))&&P(R,A)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[b,w,A,P]),m.useEffect(O,[r,O]),Eu(w,T),Eu(g.content,T),d.jsx($he,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:ft(i),onThumbPointerUp:ft(o),onThumbPositionChange:O,onThumbPointerDown:ft(a),children:d.jsx(ve.div,{...p,ref:_,style:{position:"absolute",...p.style},onPointerDown:Z(t.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),x.current=w.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),E(I))}),onPointerMove:Z(t.onPointerMove,E),onPointerUp:Z(t.onPointerUp,I=>{const R=I.target;R.hasPointerCapture(I.pointerId)&&R.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=y.current,g.viewport&&(g.viewport.style.scrollBehavior=""),x.current=null})})})}),sv="ScrollAreaThumb",s$=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=n$(sv,t.__scopeScrollArea);return d.jsx($l,{present:n||s.hasThumb,children:d.jsx(zhe,{ref:e,...r})})}),zhe=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=bs(sv,n),o=n$(sv,n),{onThumbPositionChange:a}=o,l=ke(e,h=>o.onThumbChange(h)),c=m.useRef(),u=Hy(()=>{c.current&&(c.current(),c.current=void 0)},100);return m.useEffect(()=>{const h=i.viewport;if(h){const p=()=>{if(u(),!c.current){const g=Hhe(h,a);c.current=g,a()}};return a(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[i.viewport,u,a]),d.jsx(ve.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Z(t.onPointerDownCapture,h=>{const g=h.target.getBoundingClientRect(),w=h.clientX-g.left,v=h.clientY-g.top;o.onThumbPointerDown({x:w,y:v})}),onPointerUp:Z(t.onPointerUp,o.onThumbPointerUp)})});s$.displayName=sv;var MT="ScrollAreaCorner",i$=m.forwardRef((t,e)=>{const n=bs(MT,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?d.jsx(Khe,{...t,ref:e}):null});i$.displayName=MT;var Khe=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=bs(MT,n),[i,o]=m.useState(0),[a,l]=m.useState(0),c=!!(i&&a);return Eu(s.scrollbarX,()=>{var h;const u=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(u),l(u)}),Eu(s.scrollbarY,()=>{var h;const u=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(u),o(u)}),c?d.jsx(ve.div,{...r,ref:e,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function iv(t){return t?parseInt(t,10):0}function o$(t,e){const n=t/e;return isNaN(n)?0:n}function Wy(t){const e=o$(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function Whe(t,e,n,r="ltr"){const s=Wy(n),i=s/2,o=e||i,a=s-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,h=r==="ltr"?[0,u]:[u*-1,0];return a$([l,c],h)(t)}function UP(t,e,n="ltr"){const r=Wy(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,a=i-r,l=n==="ltr"?[0,o]:[o*-1,0],c=$_(t,l);return a$([0,o],[0,a])(c)}function a$(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function l$(t,e){return t>0&&t<e}var Hhe=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Hy(t,e){const n=ft(t),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Eu(t,e){const n=ft(e);Pt(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var c$=JB,qhe=e$,Ghe=i$;const Zh=m.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(c$,{ref:r,className:ue("relative overflow-hidden",t),...n,children:[d.jsx(qhe,{className:"h-full w-full rounded-[inherit]",children:e}),d.jsx(u$,{}),d.jsx(Ghe,{})]}));Zh.displayName=c$.displayName;const u$=m.forwardRef(({className:t,orientation:e="vertical",...n},r)=>d.jsx(DT,{ref:r,orientation:e,className:ue("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:d.jsx(s$,{className:"relative flex-1 rounded-full bg-border"})}));u$.displayName=DT.displayName;const Qhe=()=>{const{data:t,isLoading:e,isError:n}=Wu({queryFn:()=>Ihe(),queryKey:Gg});return e?d.jsx(QB,{}):!t||n?d.jsx(YB,{}):d.jsx(Zh,{className:"h-[500px] flex border border-neutral-200 p-4 rounded-sm",children:t.items.length!==0?d.jsx(Lu,{listStyle:"space-y-3 w-full",items:t.items,renderItem:r=>d.jsx(Ohe,{item:r})}):d.jsxs("div",{className:"h-[466px] flex flex-col justify-center items-center",children:[d.jsx("div",{className:"h-20 w-20 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:d.jsx(Vv,{className:"h-10 w-10 text-primary"})}),d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"No archived bases"}),d.jsxs("p",{className:"text-sm text-center text-muted-foreground mb-6 max-w-md ",children:["When you archive knowledge bases, they'll appear here. Archived bases can be restored or permanently deleted. ",d.jsx("br",{}),"Note: Archives are automatically deleted after 30 days."]})]})})},Yhe=({item:t})=>{const e=pt(o=>o.admin),n=Wt(o=>o.setSelectedKnowledgeEntryArchiveItem),r=Jr(o=>o.openDialog),s=async()=>{const{_id:o,knowledgeEntry:{intent:a}}=t;n({id:o,name:a}),r("showDeleteKnowledgeEntryArchiveDialog")},i=async()=>{const{_id:o,knowledgeEntry:{intent:a}}=t;n({id:o,name:a}),r("showRestoreKnowledgeEntryArchiveDialog")};return d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("section",{children:[d.jsx("p",{className:"font-medium",children:t.knowledgeEntry.intent}),d.jsx("p",{className:"text-muted-foreground text-sm",children:`From: ${t.knowledgeBase}  Archived on ${new Date(t.archivedAt).toLocaleDateString()}`})]}),(e==null?void 0:e.role)!=="viewer"&&d.jsx(GB,{onRestore:i,onDelete:s})]})},Xhe=()=>{const{data:t,isLoading:e,isError:n}=Wu({queryFn:()=>Phe(),queryKey:Qg});return e?d.jsx(QB,{}):!t||n?d.jsx(YB,{}):d.jsx(Zh,{className:"h-[500px] flex border border-neutral-200 p-4 rounded-sm",children:t.items.length!==0?d.jsx(Lu,{listStyle:"space-y-3 w-full",items:t.items,renderItem:r=>d.jsx(Yhe,{item:r})}):d.jsxs("div",{className:"h-[466px] flex-1 flex flex-col justify-center items-center",children:[d.jsx("div",{className:"h-20 w-20 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:d.jsx(Vv,{className:"h-10 w-10 text-primary"})}),d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"No archived entries"}),d.jsxs("p",{className:"text-sm text-center text-muted-foreground mb-6 max-w-md whitespace-pre-line",children:["When you archive knowledge entries, they'll appear here. Archived entries can be restored or permanently deleted. ",d.jsx("br",{}),"Note: Archives are automatically deleted after 30 days."]})]})})},Jhe=()=>{const t=Ui(n=>n.currentSelectedTabInArchiveTab),e=Ui(n=>n.setCurrentSelectedTabInArchiveTab);return d.jsxs(M2,{value:t,onValueChange:n=>e(n),className:"space-y-4",children:[d.jsxs(wS,{className:"p-1 border-neutral-200 border rounded-md",children:[d.jsx(Lg,{className:"data-[state=active]:bg-primary data-[state=active]:text-white rounded-sm",value:"knowledgeBases",children:"Knowledge Bases"}),d.jsx(Lg,{className:"data-[state=active]:bg-primary data-[state=active]:text-white rounded-sm",value:"knowledgeEntries",children:"Knowledge Entries"})]}),t==="knowledgeBases"&&d.jsx(Qhe,{}),t==="knowledgeEntries"&&d.jsx(Xhe,{})]})},Zhe=()=>{const t=yi(),e=Da(),n=pt(P=>P.admin),{id:r,name:s}=Wt(P=>P.selectedKnowledgeBaseArchiveItem),{id:i,name:o}=Wt(P=>P.selectedKnowledgeEntryArchiveItem),a=Jr(P=>P.dialogs),l=Jr(P=>P.setDialogState),c=bc.baseArchive(s??"Unknown Base"),u=bc.baseRestore(s??"Unknown Entry"),h=bc.entryArchive(o??"Unknown Base"),p=bc.entryRestore(o??"Unknown Base"),{mutateAsync:g}=Rr({mutationFn:Nhe,onSuccess:P=>{e.invalidateQueries({queryKey:Gg}),t({title:P,description:it()})},onError:P=>{t({title:P.message,description:it(),variant:"destructive"})}}),w=async()=>{try{if(!r)throw new Error("Knowledge base archive id not found");await g(r)}catch(P){console.error("An unexpected error occured: ",P)}},{mutateAsync:v}=Rr({mutationFn:khe,onSuccess:P=>{e.invalidateQueries({queryKey:sh}),e.invalidateQueries({queryKey:Gg}),t({title:P,description:it()})},onError:P=>{t({title:P.message,description:it(),variant:"destructive"})}}),_=async()=>{try{if(!r)throw new Error("Knowledge base archive id not found");await v(r)}catch(P){console.error("An unexpected error occured: ",P)}},{mutateAsync:x}=Rr({mutationFn:Dhe,onSuccess:P=>{e.invalidateQueries({queryKey:Qg}),t({title:P,description:it()})},onError:P=>{t({title:P.message,description:it(),variant:"destructive"})}}),y=async()=>{try{if(!i)throw new Error("Knowledge entry archive id not found");await x(i)}catch(P){console.error("An unexpected error occured: ",P)}},{mutateAsync:b}=Rr({mutationFn:Mhe,onSuccess:P=>{e.invalidateQueries({queryKey:Qg}),t({title:P,description:it()})},onError:P=>{t({title:P.message,description:it(),variant:"destructive"})}}),A=async()=>{try{if(!i)throw new Error("Knowledge entry archive id not found");await b(i)}catch(P){console.error("An unexpected error occured: ",P)}};return d.jsxs("section",{className:"flex-1 flex-col space-y-4",children:[d.jsxs(an,{children:[d.jsxs(Mn,{children:[d.jsx(On,{children:"Archives"}),d.jsx(vi,{children:(n==null?void 0:n.role)!=="viewer"?"View and manage archived knowledge bases and entries.":"View archived knowledge bases and entries."})]}),d.jsx(mn,{children:d.jsx(Jhe,{})})]}),a.showDeleteKnowledgeBaseArchiveDialog&&d.jsx(nl,{title:c.title,description:c.description,isOpen:a.showDeleteKnowledgeBaseArchiveDialog,setDialogState:P=>l("showDeleteKnowledgeBaseArchiveDialog",P),onDelete:w,isDestructive:!0}),a.showRestoreKnowledgeBaseArchiveDialog&&d.jsx(nl,{title:u.title,description:u.description,isOpen:a.showRestoreKnowledgeBaseArchiveDialog,setDialogState:P=>l("showRestoreKnowledgeBaseArchiveDialog",P),onDelete:_}),a.showDeleteKnowledgeEntryArchiveDialog&&d.jsx(nl,{title:h.title,description:h.description,isOpen:a.showDeleteKnowledgeEntryArchiveDialog,setDialogState:P=>l("showDeleteKnowledgeEntryArchiveDialog",P),onDelete:y,isDestructive:!0}),a.showRestoreKnowledgeEntryArchiveDialog&&d.jsx(nl,{title:p.title,description:p.description,isOpen:a.showRestoreKnowledgeEntryArchiveDialog,setDialogState:P=>l("showRestoreKnowledgeEntryArchiveDialog",P),onDelete:A})]})},efe=({placeholderText:t,selectChoices:e,selectLabel:n,field:r,isError:s})=>d.jsxs($B,{onValueChange:r.onChange,value:r.value,children:[d.jsx(RT,{className:ue("w-[16rem]",s&&"border-destructive"),children:d.jsx(KB,{placeholder:t})}),d.jsx(IT,{children:d.jsxs(zB,{children:[n&&d.jsx(qB,{children:n}),e.map(i=>d.jsx(PT,{value:i.value,children:i.label}))]})})]}),tfe=({onAddQuery:t})=>{const{register:e,handleSubmit:n,control:r,setValue:s,formState:{errors:i}}=By(),o=a=>{t(a.queryType,a.query),s("query","")};return d.jsxs("form",{onSubmit:n(o),className:"flex space-x-2",children:[d.jsx(un,{className:`${i.query?"border-destructive":""}`,placeholder:"Enter your suggested query",...e("query",{required:"A query is required"})}),d.jsx($U,{name:"queryType",control:r,rules:{required:"Query type is required"},render:({field:a})=>d.jsx(efe,{placeholderText:"Select query type",selectChoices:[{value:"quickAccess",label:"Quick Access"},{value:"menuAccess",label:"Menu Access"}],field:a,isError:!!i.queryType})}),d.jsxs(tt,{type:"submit",className:"space-x-1.5",children:[d.jsx(Pu,{className:"size-5"}),d.jsx("p",{children:"Add Query"})]})]})};function nfe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return m.useMemo(()=>r=>{e.forEach(s=>s(r))},e)}const qy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function qu(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function OT(t){return"nodeType"in t}function Or(t){var e,n;return t?qu(t)?t:OT(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function jT(t){const{Document:e}=Or(t);return t instanceof e}function sp(t){return qu(t)?!1:t instanceof Or(t).HTMLElement}function d$(t){return t instanceof Or(t).SVGElement}function Gu(t){return t?qu(t)?t.document:OT(t)?jT(t)?t:sp(t)||d$(t)?t.ownerDocument:document:document:document}const mi=qy?m.useLayoutEffect:m.useEffect;function LT(t){const e=m.useRef(t);return mi(()=>{e.current=t}),m.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function rfe(){const t=m.useRef(null),e=m.useCallback((r,s)=>{t.current=setInterval(r,s)},[]),n=m.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function ef(t,e){e===void 0&&(e=[t]);const n=m.useRef(t);return mi(()=>{n.current!==t&&(n.current=t)},e),n}function ip(t,e){const n=m.useRef();return m.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function ov(t){const e=LT(t),n=m.useRef(null),r=m.useCallback(s=>{s!==n.current&&(e==null||e(s,n.current)),n.current=s},[]);return[n,r]}function Q_(t){const e=m.useRef();return m.useEffect(()=>{e.current=t},[t]),e.current}let R0={};function op(t,e){return m.useMemo(()=>{if(e)return e;const n=R0[t]==null?0:R0[t]+1;return R0[t]=n,t+"-"+n},[t,e])}function h$(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((i,o)=>{const a=Object.entries(o);for(const[l,c]of a){const u=i[l];u!=null&&(i[l]=u+t*c)}return i},{...e})}}const Fc=h$(1),av=h$(-1);function sfe(t){return"clientX"in t&&"clientY"in t}function VT(t){if(!t)return!1;const{KeyboardEvent:e}=Or(t.target);return e&&t instanceof e}function ife(t){if(!t)return!1;const{TouchEvent:e}=Or(t.target);return e&&t instanceof e}function Y_(t){if(ife(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return sfe(t)?{x:t.clientX,y:t.clientY}:null}const tf=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[tf.Translate.toString(t),tf.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),BP="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function ofe(t){return t.matches(BP)?t:t.querySelector(BP)}const afe={display:"none"};function lfe(t){let{id:e,value:n}=t;return Re.createElement("div",{id:e,style:afe},n)}function cfe(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Re.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function ufe(){const[t,e]=m.useState("");return{announce:m.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const f$=m.createContext(null);function dfe(t){const e=m.useContext(f$);m.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function hfe(){const[t]=m.useState(()=>new Set),e=m.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[m.useCallback(r=>{let{type:s,event:i}=r;t.forEach(o=>{var a;return(a=o[s])==null?void 0:a.call(o,i)})},[t]),e]}const ffe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},pfe={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function mfe(t){let{announcements:e=pfe,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=ffe}=t;const{announce:i,announcement:o}=ufe(),a=op("DndLiveRegion"),[l,c]=m.useState(!1);if(m.useEffect(()=>{c(!0)},[]),dfe(m.useMemo(()=>({onDragStart(h){let{active:p}=h;i(e.onDragStart({active:p}))},onDragMove(h){let{active:p,over:g}=h;e.onDragMove&&i(e.onDragMove({active:p,over:g}))},onDragOver(h){let{active:p,over:g}=h;i(e.onDragOver({active:p,over:g}))},onDragEnd(h){let{active:p,over:g}=h;i(e.onDragEnd({active:p,over:g}))},onDragCancel(h){let{active:p,over:g}=h;i(e.onDragCancel({active:p,over:g}))}}),[i,e])),!l)return null;const u=Re.createElement(Re.Fragment,null,Re.createElement(lfe,{id:r,value:s.draggable}),Re.createElement(cfe,{id:a,announcement:o}));return n?Ar.createPortal(u,n):u}var En;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(En||(En={}));function lv(){}const Ws=Object.freeze({x:0,y:0});function gfe(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function vfe(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function yfe(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),i=Math.min(e.top+e.height,t.top+t.height),o=s-r,a=i-n;if(r<s&&n<i){const l=e.width*e.height,c=t.width*t.height,u=o*a,h=u/(l+c-u);return Number(h.toFixed(4))}return 0}const wfe=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=[];for(const i of r){const{id:o}=i,a=n.get(o);if(a){const l=yfe(a,e);l>0&&s.push({id:o,data:{droppableContainer:i,value:l}})}}return s.sort(gfe)};function xfe(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function p$(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Ws}function _fe(t){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return s.reduce((o,a)=>({...o,top:o.top+t*a.y,bottom:o.bottom+t*a.y,left:o.left+t*a.x,right:o.right+t*a.x}),{...n})}}const Efe=_fe(1);function bfe(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Sfe(t,e,n){const r=bfe(e);if(!r)return t;const{scaleX:s,scaleY:i,x:o,y:a}=r,l=t.left-o-(1-s)*parseFloat(n),c=t.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),u=s?t.width/s:t.width,h=i?t.height/i:t.height;return{width:u,height:h,top:c,right:l+u,bottom:c+h,left:l}}const Tfe={ignoreTransform:!1};function Qu(t,e){e===void 0&&(e=Tfe);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:c,transformOrigin:u}=Or(t).getComputedStyle(t);c&&(n=Sfe(n,c,u))}const{top:r,left:s,width:i,height:o,bottom:a,right:l}=n;return{top:r,left:s,width:i,height:o,bottom:a,right:l}}function $P(t){return Qu(t,{ignoreTransform:!0})}function Cfe(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function Afe(t,e){return e===void 0&&(e=Or(t).getComputedStyle(t)),e.position==="fixed"}function Rfe(t,e){e===void 0&&(e=Or(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=e[s];return typeof i=="string"?n.test(i):!1})}function FT(t,e){const n=[];function r(s){if(e!=null&&n.length>=e||!s)return n;if(jT(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!sp(s)||d$(s)||n.includes(s))return n;const i=Or(t).getComputedStyle(s);return s!==t&&Rfe(s,i)&&n.push(s),Afe(s,i)?n:r(s.parentNode)}return t?r(t):n}function m$(t){const[e]=FT(t,1);return e??null}function I0(t){return!qy||!t?null:qu(t)?t:OT(t)?jT(t)||t===Gu(t).scrollingElement?window:sp(t)?t:null:null}function g$(t){return qu(t)?t.scrollX:t.scrollLeft}function v$(t){return qu(t)?t.scrollY:t.scrollTop}function X_(t){return{x:g$(t),y:v$(t)}}var Dn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Dn||(Dn={}));function y$(t){return!qy||!t?!1:t===document.scrollingElement}function w$(t){const e={x:0,y:0},n=y$(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},s=t.scrollTop<=e.y,i=t.scrollLeft<=e.x,o=t.scrollTop>=r.y,a=t.scrollLeft>=r.x;return{isTop:s,isLeft:i,isBottom:o,isRight:a,maxScroll:r,minScroll:e}}const Ife={x:.2,y:.2};function Pfe(t,e,n,r,s){let{top:i,left:o,right:a,bottom:l}=n;r===void 0&&(r=10),s===void 0&&(s=Ife);const{isTop:c,isBottom:u,isLeft:h,isRight:p}=w$(t),g={x:0,y:0},w={x:0,y:0},v={height:e.height*s.y,width:e.width*s.x};return!c&&i<=e.top+v.height?(g.y=Dn.Backward,w.y=r*Math.abs((e.top+v.height-i)/v.height)):!u&&l>=e.bottom-v.height&&(g.y=Dn.Forward,w.y=r*Math.abs((e.bottom-v.height-l)/v.height)),!p&&a>=e.right-v.width?(g.x=Dn.Forward,w.x=r*Math.abs((e.right-v.width-a)/v.width)):!h&&o<=e.left+v.width&&(g.x=Dn.Backward,w.x=r*Math.abs((e.left+v.width-o)/v.width)),{direction:g,speed:w}}function Nfe(t){if(t===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:e,left:n,right:r,bottom:s}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:s,width:t.clientWidth,height:t.clientHeight}}function x$(t){return t.reduce((e,n)=>Fc(e,X_(n)),Ws)}function Dfe(t){return t.reduce((e,n)=>e+g$(n),0)}function kfe(t){return t.reduce((e,n)=>e+v$(n),0)}function Mfe(t,e){if(e===void 0&&(e=Qu),!t)return;const{top:n,left:r,bottom:s,right:i}=e(t);m$(t)&&(s<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const Ofe=[["x",["left","right"],Dfe],["y",["top","bottom"],kfe]];class UT{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=FT(n),s=x$(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,o,a]of Ofe)for(const l of o)Object.defineProperty(this,l,{get:()=>{const c=a(r),u=s[i]-c;return this.rect[l]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ch{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var s;(s=this.target)==null||s.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function jfe(t){const{EventTarget:e}=Or(t);return t instanceof e?t:Gu(t)}function P0(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var hs;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(hs||(hs={}));function zP(t){t.preventDefault()}function Lfe(t){t.stopPropagation()}var mt;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter"})(mt||(mt={}));const _$={start:[mt.Space,mt.Enter],cancel:[mt.Esc],end:[mt.Space,mt.Enter]},Vfe=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case mt.Right:return{...n,x:n.x+25};case mt.Left:return{...n,x:n.x-25};case mt.Down:return{...n,y:n.y+25};case mt.Up:return{...n,y:n.y-25}}};class E${constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new ch(Gu(n)),this.windowListeners=new ch(Or(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(hs.Resize,this.handleCancel),this.windowListeners.add(hs.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(hs.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&Mfe(r),n(Ws)}handleKeyDown(e){if(VT(e)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:i=_$,coordinateGetter:o=Vfe,scrollBehavior:a="smooth"}=s,{code:l}=e;if(i.end.includes(l)){this.handleEnd(e);return}if(i.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:c}=r.current,u=c?{x:c.left,y:c.top}:Ws;this.referenceCoordinates||(this.referenceCoordinates=u);const h=o(e,{active:n,context:r.current,currentCoordinates:u});if(h){const p=av(h,u),g={x:0,y:0},{scrollableAncestors:w}=r.current;for(const v of w){const _=e.code,{isTop:x,isRight:y,isLeft:b,isBottom:A,maxScroll:P,minScroll:O}=w$(v),T=Nfe(v),E={x:Math.min(_===mt.Right?T.right-T.width/2:T.right,Math.max(_===mt.Right?T.left:T.left+T.width/2,h.x)),y:Math.min(_===mt.Down?T.bottom-T.height/2:T.bottom,Math.max(_===mt.Down?T.top:T.top+T.height/2,h.y))},I=_===mt.Right&&!y||_===mt.Left&&!b,R=_===mt.Down&&!A||_===mt.Up&&!x;if(I&&E.x!==h.x){const k=v.scrollLeft+p.x,M=_===mt.Right&&k<=P.x||_===mt.Left&&k>=O.x;if(M&&!p.y){v.scrollTo({left:k,behavior:a});return}M?g.x=v.scrollLeft-k:g.x=_===mt.Right?v.scrollLeft-P.x:v.scrollLeft-O.x,g.x&&v.scrollBy({left:-g.x,behavior:a});break}else if(R&&E.y!==h.y){const k=v.scrollTop+p.y,M=_===mt.Down&&k<=P.y||_===mt.Up&&k>=O.y;if(M&&!p.x){v.scrollTo({top:k,behavior:a});return}M?g.y=v.scrollTop-k:g.y=_===mt.Down?v.scrollTop-P.y:v.scrollTop-O.y,g.y&&v.scrollBy({top:-g.y,behavior:a});break}}this.handleMove(e,Fc(av(h,this.referenceCoordinates),g))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}E$.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=_$,onActivation:s}=e,{active:i}=n;const{code:o}=t.nativeEvent;if(r.start.includes(o)){const a=i.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),s==null||s({event:t.nativeEvent}),!0)}return!1}}];function KP(t){return!!(t&&"distance"in t)}function WP(t){return!!(t&&"delay"in t)}class BT{constructor(e,n,r){var s;r===void 0&&(r=jfe(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:i}=e,{target:o}=i;this.props=e,this.events=n,this.document=Gu(o),this.documentListeners=new ch(this.document),this.listeners=new ch(r),this.windowListeners=new ch(Or(o)),this.initialCoordinates=(s=Y_(i))!=null?s:Ws,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(hs.Resize,this.handleCancel),this.windowListeners.add(hs.DragStart,zP),this.windowListeners.add(hs.VisibilityChange,this.handleCancel),this.windowListeners.add(hs.ContextMenu,zP),this.documentListeners.add(hs.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(WP(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}if(KP(n))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(hs.Click,Lfe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(hs.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:s,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!s)return;const l=(n=Y_(e))!=null?n:Ws,c=av(s,l);if(!r&&a){if(KP(a)){if(a.tolerance!=null&&P0(c,a.tolerance))return this.handleCancel();if(P0(c,a.distance))return this.handleStart()}return WP(a)&&P0(c,a.tolerance)?this.handleCancel():void 0}e.cancelable&&e.preventDefault(),o(l)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===mt.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Ffe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class b$ extends BT{constructor(e){const{event:n}=e,r=Gu(n.target);super(e,Ffe,r)}}b$.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Ufe={move:{name:"mousemove"},end:{name:"mouseup"}};var J_;(function(t){t[t.RightClick=2]="RightClick"})(J_||(J_={}));class Bfe extends BT{constructor(e){super(e,Ufe,Gu(e.event.target))}}Bfe.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===J_.RightClick?!1:(r==null||r({event:n}),!0)}}];const N0={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class $fe extends BT{constructor(e){super(e,N0)}static setup(){return window.addEventListener(N0.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(N0.move.name,e)};function e(){}}}$fe.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var uh;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(uh||(uh={}));var cv;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(cv||(cv={}));function zfe(t){let{acceleration:e,activator:n=uh.Pointer,canScroll:r,draggingRect:s,enabled:i,interval:o=5,order:a=cv.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:u,delta:h,threshold:p}=t;const g=Wfe({delta:h,disabled:!i}),[w,v]=rfe(),_=m.useRef({x:0,y:0}),x=m.useRef({x:0,y:0}),y=m.useMemo(()=>{switch(n){case uh.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case uh.DraggableRect:return s}},[n,s,l]),b=m.useRef(null),A=m.useCallback(()=>{const O=b.current;if(!O)return;const T=_.current.x*x.current.x,E=_.current.y*x.current.y;O.scrollBy(T,E)},[]),P=m.useMemo(()=>a===cv.TreeOrder?[...c].reverse():c,[a,c]);m.useEffect(()=>{if(!i||!c.length||!y){v();return}for(const O of P){if((r==null?void 0:r(O))===!1)continue;const T=c.indexOf(O),E=u[T];if(!E)continue;const{direction:I,speed:R}=Pfe(O,E,y,e,p);for(const k of["x","y"])g[k][I[k]]||(R[k]=0,I[k]=0);if(R.x>0||R.y>0){v(),b.current=O,w(A,o),_.current=R,x.current=I;return}}_.current={x:0,y:0},x.current={x:0,y:0},v()},[e,A,r,v,i,o,JSON.stringify(y),JSON.stringify(g),w,c,P,u,JSON.stringify(p)])}const Kfe={x:{[Dn.Backward]:!1,[Dn.Forward]:!1},y:{[Dn.Backward]:!1,[Dn.Forward]:!1}};function Wfe(t){let{delta:e,disabled:n}=t;const r=Q_(e);return ip(s=>{if(n||!r||!s)return Kfe;const i={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Dn.Backward]:s.x[Dn.Backward]||i.x===-1,[Dn.Forward]:s.x[Dn.Forward]||i.x===1},y:{[Dn.Backward]:s.y[Dn.Backward]||i.y===-1,[Dn.Forward]:s.y[Dn.Forward]||i.y===1}}},[n,e,r])}function Hfe(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return ip(s=>{var i;return e==null?null:(i=r??s)!=null?i:null},[r,e])}function qfe(t,e){return m.useMemo(()=>t.reduce((n,r)=>{const{sensor:s}=r,i=s.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...n,...i]},[]),[t,e])}var nf;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(nf||(nf={}));var Z_;(function(t){t.Optimized="optimized"})(Z_||(Z_={}));const HP=new Map;function Gfe(t,e){let{dragging:n,dependencies:r,config:s}=e;const[i,o]=m.useState(null),{frequency:a,measure:l,strategy:c}=s,u=m.useRef(t),h=_(),p=ef(h),g=m.useCallback(function(x){x===void 0&&(x=[]),!p.current&&o(y=>y===null?x:y.concat(x.filter(b=>!y.includes(b))))},[p]),w=m.useRef(null),v=ip(x=>{if(h&&!n)return HP;if(!x||x===HP||u.current!==t||i!=null){const y=new Map;for(let b of t){if(!b)continue;if(i&&i.length>0&&!i.includes(b.id)&&b.rect.current){y.set(b.id,b.rect.current);continue}const A=b.node.current,P=A?new UT(l(A),A):null;b.rect.current=P,P&&y.set(b.id,P)}return y}return x},[t,i,n,h,l]);return m.useEffect(()=>{u.current=t},[t]),m.useEffect(()=>{h||g()},[n,h]),m.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),m.useEffect(()=>{h||typeof a!="number"||w.current!==null||(w.current=setTimeout(()=>{g(),w.current=null},a))},[a,h,g,...r]),{droppableRects:v,measureDroppableContainers:g,measuringScheduled:i!=null};function _(){switch(c){case nf.Always:return!1;case nf.BeforeDragging:return n;default:return!n}}}function S$(t,e){return ip(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function Qfe(t,e){return S$(t,e)}function Yfe(t){let{callback:e,disabled:n}=t;const r=LT(e),s=m.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return m.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Gy(t){let{callback:e,disabled:n}=t;const r=LT(e),s=m.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return m.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Xfe(t){return new UT(Qu(t),t)}function qP(t,e,n){e===void 0&&(e=Xfe);const[r,s]=m.useState(null);function i(){s(l=>{if(!t)return null;if(t.isConnected===!1){var c;return(c=l??n)!=null?c:null}const u=e(t);return JSON.stringify(l)===JSON.stringify(u)?l:u})}const o=Yfe({callback(l){if(t)for(const c of l){const{type:u,target:h}=c;if(u==="childList"&&h instanceof HTMLElement&&h.contains(t)){i();break}}}}),a=Gy({callback:i});return mi(()=>{i(),t?(a==null||a.observe(t),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[t]),r}function Jfe(t){const e=S$(t);return p$(t,e)}const GP=[];function Zfe(t){const e=m.useRef(t),n=ip(r=>t?r&&r!==GP&&t&&e.current&&t.parentNode===e.current.parentNode?r:FT(t):GP,[t]);return m.useEffect(()=>{e.current=t},[t]),n}function epe(t){const[e,n]=m.useState(null),r=m.useRef(t),s=m.useCallback(i=>{const o=I0(i.target);o&&n(a=>a?(a.set(o,X_(o)),new Map(a)):null)},[]);return m.useEffect(()=>{const i=r.current;if(t!==i){o(i);const a=t.map(l=>{const c=I0(l);return c?(c.addEventListener("scroll",s,{passive:!0}),[c,X_(c)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=t}return()=>{o(t),o(i)};function o(a){a.forEach(l=>{const c=I0(l);c==null||c.removeEventListener("scroll",s)})}},[s,t]),m.useMemo(()=>t.length?e?Array.from(e.values()).reduce((i,o)=>Fc(i,o),Ws):x$(t):Ws,[t,e])}function QP(t,e){e===void 0&&(e=[]);const n=m.useRef(null);return m.useEffect(()=>{n.current=null},e),m.useEffect(()=>{const r=t!==Ws;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?av(t,n.current):Ws}function tpe(t){m.useEffect(()=>{if(!qy)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function npe(t,e){return m.useMemo(()=>t.reduce((n,r)=>{let{eventName:s,handler:i}=r;return n[s]=o=>{i(o,e)},n},{}),[t,e])}function T$(t){return m.useMemo(()=>t?Cfe(t):null,[t])}const YP=[];function rpe(t,e){e===void 0&&(e=Qu);const[n]=t,r=T$(n?Or(n):null),[s,i]=m.useState(YP);function o(){i(()=>t.length?t.map(l=>y$(l)?r:new UT(e(l),l)):YP)}const a=Gy({callback:o});return mi(()=>{a==null||a.disconnect(),o(),t.forEach(l=>a==null?void 0:a.observe(l))},[t]),s}function spe(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return sp(e)?e:t}function ipe(t){let{measure:e}=t;const[n,r]=m.useState(null),s=m.useCallback(c=>{for(const{target:u}of c)if(sp(u)){r(h=>{const p=e(u);return h?{...h,width:p.width,height:p.height}:p});break}},[e]),i=Gy({callback:s}),o=m.useCallback(c=>{const u=spe(c);i==null||i.disconnect(),u&&(i==null||i.observe(u)),r(u?e(u):null)},[e,i]),[a,l]=ov(o);return m.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const ope=[{sensor:b$,options:{}},{sensor:E$,options:{}}],ape={current:{}},zm={draggable:{measure:$P},droppable:{measure:$P,strategy:nf.WhileDragging,frequency:Z_.Optimized},dragOverlay:{measure:Qu}};class dh extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const lpe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new dh,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:lv},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:zm,measureDroppableContainers:lv,windowRect:null,measuringScheduled:!1},cpe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:lv,draggableNodes:new Map,over:null,measureDroppableContainers:lv},Qy=m.createContext(cpe),C$=m.createContext(lpe);function upe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new dh}}}function dpe(t,e){switch(e.type){case En.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case En.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case En.DragEnd:case En.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case En.RegisterDroppable:{const{element:n}=e,{id:r}=n,s=new dh(t.droppable.containers);return s.set(r,n),{...t,droppable:{...t.droppable,containers:s}}}case En.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const o=new dh(t.droppable.containers);return o.set(n,{...i,disabled:s}),{...t,droppable:{...t.droppable,containers:o}}}case En.UnregisterDroppable:{const{id:n,key:r}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const i=new dh(t.droppable.containers);return i.delete(n),{...t,droppable:{...t.droppable,containers:i}}}default:return t}}function hpe(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:s}=m.useContext(Qy),i=Q_(r),o=Q_(n==null?void 0:n.id);return m.useEffect(()=>{if(!e&&!r&&i&&o!=null){if(!VT(i)||document.activeElement===i.target)return;const a=s.get(o);if(!a)return;const{activatorNode:l,node:c}=a;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const u of[l.current,c.current]){if(!u)continue;const h=ofe(u);if(h){h.focus();break}}})}},[r,e,s,o,i]),null}function fpe(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((s,i)=>i({transform:s,...r}),n):n}function ppe(t){return m.useMemo(()=>({draggable:{...zm.draggable,...t==null?void 0:t.draggable},droppable:{...zm.droppable,...t==null?void 0:t.droppable},dragOverlay:{...zm.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function mpe(t){let{activeNode:e,measure:n,initialRect:r,config:s=!0}=t;const i=m.useRef(!1),{x:o,y:a}=typeof s=="boolean"?{x:s,y:s}:s;mi(()=>{if(!o&&!a||!e){i.current=!1;return}if(i.current||!r)return;const c=e==null?void 0:e.node.current;if(!c||c.isConnected===!1)return;const u=n(c),h=p$(u,r);if(o||(h.x=0),a||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const p=m$(c);p&&p.scrollBy({top:h.y,left:h.x})}},[e,o,a,r,n])}const A$=m.createContext({...Ws,scaleX:1,scaleY:1});var Co;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Co||(Co={}));const gpe=m.memo(function(e){var n,r,s,i;let{id:o,accessibility:a,autoScroll:l=!0,children:c,sensors:u=ope,collisionDetection:h=wfe,measuring:p,modifiers:g,...w}=e;const v=m.useReducer(dpe,void 0,upe),[_,x]=v,[y,b]=hfe(),[A,P]=m.useState(Co.Uninitialized),O=A===Co.Initialized,{draggable:{active:T,nodes:E,translate:I},droppable:{containers:R}}=_,k=T!=null?E.get(T):null,M=m.useRef({initial:null,translated:null}),N=m.useMemo(()=>{var Bt;return T!=null?{id:T,data:(Bt=k==null?void 0:k.data)!=null?Bt:ape,rect:M}:null},[T,k]),W=m.useRef(null),[se,ne]=m.useState(null),[Y,z]=m.useState(null),B=ef(w,Object.values(w)),J=op("DndDescribedBy",o),fe=m.useMemo(()=>R.getEnabled(),[R]),he=ppe(p),{droppableRects:Se,measureDroppableContainers:We,measuringScheduled:at}=Gfe(fe,{dragging:O,dependencies:[I.x,I.y],config:he.droppable}),Ne=Hfe(E,T),ce=m.useMemo(()=>Y?Y_(Y):null,[Y]),Pe=rs(),He=Qfe(Ne,he.draggable.measure);mpe({activeNode:T!=null?E.get(T):null,config:Pe.layoutShiftCompensation,initialRect:He,measure:he.draggable.measure});const pe=qP(Ne,he.draggable.measure,He),$e=qP(Ne?Ne.parentElement:null),Oe=m.useRef({activatorEvent:null,active:null,activeNode:Ne,collisionRect:null,collisions:null,droppableRects:Se,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:R,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),vt=R.getNodeFor((n=Oe.current.over)==null?void 0:n.id),qe=ipe({measure:he.dragOverlay.measure}),Lt=(r=qe.nodeRef.current)!=null?r:Ne,gn=O?(s=qe.rect)!=null?s:pe:null,jr=!!(qe.nodeRef.current&&qe.rect),j=Jfe(jr?null:pe),$=T$(Lt?Or(Lt):null),H=Zfe(O?vt??Ne:null),ie=rpe(H),re=fpe(g,{transform:{x:I.x-j.x,y:I.y-j.y,scaleX:1,scaleY:1},activatorEvent:Y,active:N,activeNodeRect:pe,containerNodeRect:$e,draggingNodeRect:gn,over:Oe.current.over,overlayNodeRect:qe.rect,scrollableAncestors:H,scrollableAncestorRects:ie,windowRect:$}),ee=ce?Fc(ce,I):null,_e=epe(H),Ue=QP(_e),Be=QP(_e,[pe]),je=Fc(re,Ue),Qt=gn?Efe(gn,re):null,wr=N&&Qt?h({active:N,collisionRect:Qt,droppableRects:Se,droppableContainers:fe,pointerCoordinates:ee}):null,Rn=vfe(wr,"id"),[Vt,Lr]=m.useState(null),ns=jr?re:Fc(re,Be),co=xfe(ns,(i=Vt==null?void 0:Vt.rect)!=null?i:null,pe),vn=m.useRef(null),Oa=m.useCallback((Bt,nn)=>{let{sensor:At,options:lr}=nn;if(W.current==null)return;const yn=E.get(W.current);if(!yn)return;const wn=Bt.nativeEvent,In=new At({active:W.current,activeNode:yn,event:wn,options:lr,context:Oe,onStart(ut){const Vr=W.current;if(Vr==null)return;const xr=E.get(Vr);if(!xr)return;const{onDragStart:is}=B.current,uo={activatorEvent:wn,active:{id:Vr,data:xr.data,rect:M}};Ar.unstable_batchedUpdates(()=>{is==null||is(uo),P(Co.Initializing),x({type:En.DragStart,initialCoordinates:ut,active:Vr}),y({type:"onDragStart",event:uo}),ne(vn.current),z(wn)})},onMove(ut){x({type:En.DragMove,coordinates:ut})},onEnd:ss(En.DragEnd),onCancel:ss(En.DragCancel)});vn.current=In;function ss(ut){return async function(){const{active:xr,collisions:is,over:uo,scrollAdjustedTranslate:L}=Oe.current;let F=null;if(xr&&L){const{cancelDrop:K}=B.current;F={activatorEvent:wn,active:xr,collisions:is,delta:L,over:uo},ut===En.DragEnd&&typeof K=="function"&&await Promise.resolve(K(F))&&(ut=En.DragCancel)}W.current=null,Ar.unstable_batchedUpdates(()=>{x({type:ut}),P(Co.Uninitialized),Lr(null),ne(null),z(null),vn.current=null;const K=ut===En.DragEnd?"onDragEnd":"onDragCancel";if(F){const G=B.current[K];G==null||G(F),y({type:K,event:F})}})}}},[E]),Wl=m.useCallback((Bt,nn)=>(At,lr)=>{const yn=At.nativeEvent,wn=E.get(lr);if(W.current!==null||!wn||yn.dndKit||yn.defaultPrevented)return;const In={active:wn};Bt(At,nn.options,In)===!0&&(yn.dndKit={capturedBy:nn.sensor},W.current=lr,Oa(At,nn))},[E,Oa]),xi=qfe(u,Wl);tpe(u),mi(()=>{pe&&A===Co.Initializing&&P(Co.Initialized)},[pe,A]),m.useEffect(()=>{const{onDragMove:Bt}=B.current,{active:nn,activatorEvent:At,collisions:lr,over:yn}=Oe.current;if(!nn||!At)return;const wn={active:nn,activatorEvent:At,collisions:lr,delta:{x:je.x,y:je.y},over:yn};Ar.unstable_batchedUpdates(()=>{Bt==null||Bt(wn),y({type:"onDragMove",event:wn})})},[je.x,je.y]),m.useEffect(()=>{const{active:Bt,activatorEvent:nn,collisions:At,droppableContainers:lr,scrollAdjustedTranslate:yn}=Oe.current;if(!Bt||W.current==null||!nn||!yn)return;const{onDragOver:wn}=B.current,In=lr.get(Rn),ss=In&&In.rect.current?{id:In.id,rect:In.rect.current,data:In.data,disabled:In.disabled}:null,ut={active:Bt,activatorEvent:nn,collisions:At,delta:{x:yn.x,y:yn.y},over:ss};Ar.unstable_batchedUpdates(()=>{Lr(ss),wn==null||wn(ut),y({type:"onDragOver",event:ut})})},[Rn]),mi(()=>{Oe.current={activatorEvent:Y,active:N,activeNode:Ne,collisionRect:Qt,collisions:wr,droppableRects:Se,draggableNodes:E,draggingNode:Lt,draggingNodeRect:gn,droppableContainers:R,over:Vt,scrollableAncestors:H,scrollAdjustedTranslate:je},M.current={initial:gn,translated:Qt}},[N,Ne,wr,Qt,E,Lt,gn,Se,R,Vt,H,je]),zfe({...Pe,delta:I,draggingRect:Qt,pointerCoordinates:ee,scrollableAncestors:H,scrollableAncestorRects:ie});const Hl=m.useMemo(()=>({active:N,activeNode:Ne,activeNodeRect:pe,activatorEvent:Y,collisions:wr,containerNodeRect:$e,dragOverlay:qe,draggableNodes:E,droppableContainers:R,droppableRects:Se,over:Vt,measureDroppableContainers:We,scrollableAncestors:H,scrollableAncestorRects:ie,measuringConfiguration:he,measuringScheduled:at,windowRect:$}),[N,Ne,pe,Y,wr,$e,qe,E,R,Se,Vt,We,H,ie,he,at,$]),ja=m.useMemo(()=>({activatorEvent:Y,activators:xi,active:N,activeNodeRect:pe,ariaDescribedById:{draggable:J},dispatch:x,draggableNodes:E,over:Vt,measureDroppableContainers:We}),[Y,xi,N,pe,x,J,E,Vt,We]);return Re.createElement(f$.Provider,{value:b},Re.createElement(Qy.Provider,{value:ja},Re.createElement(C$.Provider,{value:Hl},Re.createElement(A$.Provider,{value:co},c)),Re.createElement(hpe,{disabled:(a==null?void 0:a.restoreFocus)===!1})),Re.createElement(mfe,{...a,hiddenTextDescribedById:J}));function rs(){const Bt=(se==null?void 0:se.autoScrollEnabled)===!1,nn=typeof l=="object"?l.enabled===!1:l===!1,At=O&&!Bt&&!nn;return typeof l=="object"?{...l,enabled:At}:{enabled:At}}}),vpe=m.createContext(null),XP="button",ype="Draggable";function wpe(t){let{id:e,data:n,disabled:r=!1,attributes:s}=t;const i=op(ype),{activators:o,activatorEvent:a,active:l,activeNodeRect:c,ariaDescribedById:u,draggableNodes:h,over:p}=m.useContext(Qy),{role:g=XP,roleDescription:w="draggable",tabIndex:v=0}=s??{},_=(l==null?void 0:l.id)===e,x=m.useContext(_?A$:vpe),[y,b]=ov(),[A,P]=ov(),O=npe(o,e),T=ef(n);mi(()=>(h.set(e,{id:e,key:i,node:y,activatorNode:A,data:T}),()=>{const I=h.get(e);I&&I.key===i&&h.delete(e)}),[h,e]);const E=m.useMemo(()=>({role:g,tabIndex:v,"aria-disabled":r,"aria-pressed":_&&g===XP?!0:void 0,"aria-roledescription":w,"aria-describedby":u.draggable}),[r,g,v,_,w,u.draggable]);return{active:l,activatorEvent:a,activeNodeRect:c,attributes:E,isDragging:_,listeners:r?void 0:O,node:y,over:p,setNodeRef:b,setActivatorNodeRef:P,transform:x}}function xpe(){return m.useContext(C$)}const _pe="Droppable",Epe={timeout:25};function bpe(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:s}=t;const i=op(_pe),{active:o,dispatch:a,over:l,measureDroppableContainers:c}=m.useContext(Qy),u=m.useRef({disabled:n}),h=m.useRef(!1),p=m.useRef(null),g=m.useRef(null),{disabled:w,updateMeasurementsFor:v,timeout:_}={...Epe,...s},x=ef(v??r),y=m.useCallback(()=>{if(!h.current){h.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{c(Array.isArray(x.current)?x.current:[x.current]),g.current=null},_)},[_]),b=Gy({callback:y,disabled:w||!o}),A=m.useCallback((E,I)=>{b&&(I&&(b.unobserve(I),h.current=!1),E&&b.observe(E))},[b]),[P,O]=ov(A),T=ef(e);return m.useEffect(()=>{!b||!P.current||(b.disconnect(),h.current=!1,b.observe(P.current))},[P,b]),m.useEffect(()=>(a({type:En.RegisterDroppable,element:{id:r,key:i,disabled:n,node:P,rect:p,data:T}}),()=>a({type:En.UnregisterDroppable,key:i,id:r})),[r]),m.useEffect(()=>{n!==u.current.disabled&&(a({type:En.SetDroppableDisabled,id:r,key:i,disabled:n}),u.current.disabled=n)},[r,i,n,a]),{active:o,rect:p,isOver:(l==null?void 0:l.id)===r,node:P,over:l,setNodeRef:O}}function $T(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function Spe(t,e){return t.reduce((n,r,s)=>{const i=e.get(r);return i&&(n[s]=i),n},Array(t.length))}function im(t){return t!==null&&t>=0}function Tpe(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Cpe(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const R$=t=>{let{rects:e,activeIndex:n,overIndex:r,index:s}=t;const i=$T(e,r,n),o=e[s],a=i[s];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}},om={scaleX:1,scaleY:1},Ape=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:s,rects:i,overIndex:o}=t;const a=(e=i[n])!=null?e:r;if(!a)return null;if(s===n){const c=i[o];return c?{x:0,y:n<o?c.top+c.height-(a.top+a.height):c.top-a.top,...om}:null}const l=Rpe(i,s,n);return s>n&&s<=o?{x:0,y:-a.height-l,...om}:s<n&&s>=o?{x:0,y:a.height+l,...om}:{x:0,y:0,...om}};function Rpe(t,e,n){const r=t[e],s=t[e-1],i=t[e+1];return r?n<e?s?r.top-(s.top+s.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const I$="Sortable",P$=Re.createContext({activeIndex:-1,containerId:I$,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:R$,disabled:{draggable:!1,droppable:!1}});function Ipe(t){let{children:e,id:n,items:r,strategy:s=R$,disabled:i=!1}=t;const{active:o,dragOverlay:a,droppableRects:l,over:c,measureDroppableContainers:u}=xpe(),h=op(I$,n),p=a.rect!==null,g=m.useMemo(()=>r.map(O=>typeof O=="object"&&"id"in O?O.id:O),[r]),w=o!=null,v=o?g.indexOf(o.id):-1,_=c?g.indexOf(c.id):-1,x=m.useRef(g),y=!Tpe(g,x.current),b=_!==-1&&v===-1||y,A=Cpe(i);mi(()=>{y&&w&&u(g)},[y,g,w,u]),m.useEffect(()=>{x.current=g},[g]);const P=m.useMemo(()=>({activeIndex:v,containerId:h,disabled:A,disableTransforms:b,items:g,overIndex:_,useDragOverlay:p,sortedRects:Spe(g,l),strategy:s}),[v,h,A.draggable,A.droppable,b,g,_,l,p,s]);return Re.createElement(P$.Provider,{value:P},e)}const Ppe=t=>{let{id:e,items:n,activeIndex:r,overIndex:s}=t;return $T(n,r,s).indexOf(e)},Npe=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:s,items:i,newIndex:o,previousItems:a,previousContainerId:l,transition:c}=t;return!c||!r||a!==i&&s===o?!1:n?!0:o!==s&&e===l},Dpe={duration:200,easing:"ease"},N$="transform",kpe=tf.Transition.toString({property:N$,duration:0,easing:"linear"}),Mpe={roleDescription:"sortable"};function Ope(t){let{disabled:e,index:n,node:r,rect:s}=t;const[i,o]=m.useState(null),a=m.useRef(n);return mi(()=>{if(!e&&n!==a.current&&r.current){const l=s.current;if(l){const c=Qu(r.current,{ignoreTransform:!0}),u={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(u.x||u.y)&&o(u)}}n!==a.current&&(a.current=n)},[e,n,r,s]),m.useEffect(()=>{i&&o(null)},[i]),i}function jpe(t){let{animateLayoutChanges:e=Npe,attributes:n,disabled:r,data:s,getNewIndex:i=Ppe,id:o,strategy:a,resizeObserverConfig:l,transition:c=Dpe}=t;const{items:u,containerId:h,activeIndex:p,disabled:g,disableTransforms:w,sortedRects:v,overIndex:_,useDragOverlay:x,strategy:y}=m.useContext(P$),b=Lpe(r,g),A=u.indexOf(o),P=m.useMemo(()=>({sortable:{containerId:h,index:A,items:u},...s}),[h,s,A,u]),O=m.useMemo(()=>u.slice(u.indexOf(o)),[u,o]),{rect:T,node:E,isOver:I,setNodeRef:R}=bpe({id:o,data:P,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:O,...l}}),{active:k,activatorEvent:M,activeNodeRect:N,attributes:W,setNodeRef:se,listeners:ne,isDragging:Y,over:z,setActivatorNodeRef:B,transform:J}=wpe({id:o,data:P,attributes:{...Mpe,...n},disabled:b.draggable}),fe=nfe(R,se),he=!!k,Se=he&&!w&&im(p)&&im(_),We=!x&&Y,at=We&&Se?J:null,ce=Se?at??(a??y)({rects:v,activeNodeRect:N,activeIndex:p,overIndex:_,index:A}):null,Pe=im(p)&&im(_)?i({id:o,items:u,activeIndex:p,overIndex:_}):A,He=k==null?void 0:k.id,pe=m.useRef({activeId:He,items:u,newIndex:Pe,containerId:h}),$e=u!==pe.current.items,Oe=e({active:k,containerId:h,isDragging:Y,isSorting:he,id:o,index:A,items:u,newIndex:pe.current.newIndex,previousItems:pe.current.items,previousContainerId:pe.current.containerId,transition:c,wasDragging:pe.current.activeId!=null}),vt=Ope({disabled:!Oe,index:A,node:E,rect:T});return m.useEffect(()=>{he&&pe.current.newIndex!==Pe&&(pe.current.newIndex=Pe),h!==pe.current.containerId&&(pe.current.containerId=h),u!==pe.current.items&&(pe.current.items=u)},[he,Pe,h,u]),m.useEffect(()=>{if(He===pe.current.activeId)return;if(He!=null&&pe.current.activeId==null){pe.current.activeId=He;return}const Lt=setTimeout(()=>{pe.current.activeId=He},50);return()=>clearTimeout(Lt)},[He]),{active:k,activeIndex:p,attributes:W,data:P,rect:T,index:A,newIndex:Pe,items:u,isOver:I,isSorting:he,isDragging:Y,listeners:ne,node:E,overIndex:_,over:z,setNodeRef:fe,setActivatorNodeRef:B,setDroppableNodeRef:R,setDraggableNodeRef:se,transform:vt??ce,transition:qe()};function qe(){if(vt||$e&&pe.current.newIndex===A)return kpe;if(!(We&&!VT(M)||!c)&&(he||Oe))return tf.Transition.toString({...c,property:N$})}}function Lpe(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}mt.Down,mt.Right,mt.Up,mt.Left;const Vpe=({id:t,text:e,onDelete:n})=>{const r=pt(h=>h.admin),{attributes:s,listeners:i,setNodeRef:o,transform:a,transition:l}=jpe({id:t}),c={transform:tf.Transform.toString(a),transition:l},u=(r==null?void 0:r.role)!=="viewer"?{...s,...i}:{};return d.jsxs("div",{ref:o,style:c,className:"flex items-center justify-between p-3 bg-secondary/50 rounded-lg group hover:bg-secondary",children:[d.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[d.jsx("button",{className:"touch-none opacity-0 group-hover:opacity-50 hover:opacity-100 text-muted-foreground",...u,children:d.jsx(X8,{className:"w-4 h-4"})}),d.jsx("span",{children:e})]}),(r==null?void 0:r.role)!=="viewer"&&d.jsx(tt,{variant:"ghost",size:"icon",onClick:()=>n(t),className:"opacity-0 group-hover:opacity-100 text-destructive hover:text-destructive",children:d.jsx(Nu,{size:20})})]})},JP=({queries:t,setQueries:e,onDeleteQuery:n})=>{const r=s=>{const{active:i,over:o}=s;o&&i.id!==o.id&&e(a=>{const l=a.findIndex(u=>u.id===i.id),c=a.findIndex(u=>u.id===o.id);return $T(a,l,c)})};return d.jsx(d.Fragment,{children:d.jsx(gpe,{onDragEnd:r,children:d.jsx(Ipe,{items:t.map(s=>s.id),strategy:Ape,children:d.jsx("div",{className:"space-y-2 w-full",children:t.map(s=>d.jsx(Vpe,{id:s.id,text:s.text,onDelete:n},s.id))})})})})},Ln=[];for(let t=0;t<256;++t)Ln.push((t+256).toString(16).slice(1));function Fpe(t,e=0){return(Ln[t[e+0]]+Ln[t[e+1]]+Ln[t[e+2]]+Ln[t[e+3]]+"-"+Ln[t[e+4]]+Ln[t[e+5]]+"-"+Ln[t[e+6]]+Ln[t[e+7]]+"-"+Ln[t[e+8]]+Ln[t[e+9]]+"-"+Ln[t[e+10]]+Ln[t[e+11]]+Ln[t[e+12]]+Ln[t[e+13]]+Ln[t[e+14]]+Ln[t[e+15]]).toLowerCase()}let D0;const Upe=new Uint8Array(16);function Bpe(){if(!D0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");D0=crypto.getRandomValues.bind(crypto)}return D0(Upe)}const $pe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ZP={randomUUID:$pe};function zpe(t,e,n){if(ZP.randomUUID&&!e&&!t)return ZP.randomUUID();t=t||{};const r=t.random||(t.rng||Bpe)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Fpe(r)}const Kpe=()=>zpe(),Wpe=()=>{const t=Da(),e=yi(),[n,r]=m.useState([]),[s,i]=m.useState([]),{data:o,isLoading:a,isError:l}=Wu({queryFn:()=>v4("profile","queries"),queryKey:gP}),{mutateAsync:c,isPending:u}=Rr({mutationFn:w=>g4("profile","queries",w,!1),onSuccess:()=>{t.invalidateQueries({queryKey:gP}),e({title:"Queries Saved Successfully",description:it()})}}),h=(w,v)=>{const _={quickAccess:G2,menuAccess:Q2},x=w==="quickAccess"?"quick access":"menu access",y=w==="quickAccess"?r:i;if((w==="quickAccess"?n:s).length>=_[w]){e({title:`Limit reached for ${x} queries`,description:`You can only add up to ${_[w]} ${x} queries. Please remove one to add a new query.`});return}y(A=>[...A,{id:Kpe(),text:v}])},p=(w,v)=>{w==="quickAccess"&&r(n.filter(_=>_.id!==v)),w==="menuAccess"&&i(s.filter(_=>_.id!==v))},g=async()=>{const w={menuAccessQuery:[...s],quickAccessQuery:[...n]};await c(w)};return m.useEffect(()=>{o&&(r(o.quickAccessQuery),i(o.menuAccessQuery))},[o]),{queriesData:o,quickAccessQueries:n,setQuickAccessQueries:r,menuAccessQueries:s,setMenuAccessQueries:i,handleDeleteQuery:p,handleAddQuery:h,handleSaveQuery:g,isGetQueriesError:l,isGetQueriesLoading:a,isSaveQueryPending:u}},Hpe=()=>d.jsxs("section",{className:"flex-1 flex-col space-y-4 pb-8 relative",children:[d.jsxs(an,{children:[d.jsxs(Mn,{children:[d.jsx(On,{children:"User Queries"}),d.jsx(vi,{children:"View and manage bot's suggested queries and categories."})]}),d.jsx(mn,{children:d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Ce,{className:"w-[537px] h-[40px]"}),d.jsx(Ce,{className:"w-[168px] h-[40px]"}),d.jsx(Ce,{className:"w-[132px] h-[40px]"})]})})]}),d.jsxs(an,{children:[d.jsx(Mn,{children:d.jsx(On,{children:"Quick Access Queries"})}),d.jsx(mn,{children:d.jsxs("div",{className:"h-[396px] flex flex-col border border-neutral-200 p-4 rounded-sm space-y-2",children:[d.jsx(Ce,{className:"w-full h-[64px]"}),d.jsx(Ce,{className:"w-full h-[64px]"})]})}),"1"]}),d.jsxs(an,{children:[d.jsx(Mn,{children:d.jsx(On,{children:"Menu Access Queries"})}),d.jsx(mn,{children:d.jsxs("div",{className:"h-[450px] flex flex-col border border-neutral-200 p-4 rounded-sm space-y-2",children:[d.jsx(Ce,{className:"w-full h-[64px]"}),d.jsx(Ce,{className:"w-full h-[64px]"}),d.jsx(Ce,{className:"w-full h-[64px]"})]})})]}),d.jsx(Ce,{className:"w-full h-[40px] bg-blue-300"})]}),qpe=()=>{const t=pt(p=>p.admin),{queriesData:e,quickAccessQueries:n,setQuickAccessQueries:r,menuAccessQueries:s,setMenuAccessQueries:i,handleAddQuery:o,handleDeleteQuery:a,handleSaveQuery:l,isGetQueriesLoading:c,isGetQueriesError:u,isSaveQueryPending:h}=Wpe();return c?d.jsx(Hpe,{}):u||!e?d.jsx("div",{children:"Error "}):d.jsxs("section",{className:"flex-1 flex-col space-y-4 pb-8 relative",children:[d.jsxs(an,{children:[d.jsxs(Mn,{children:[d.jsx(On,{children:"User Queries"}),d.jsx(vi,{children:(t==null?void 0:t.role)!=="viewer"?"View and manage bot's suggested queries and categories.":"View bot's suggested queries and categories."})]}),d.jsx(mn,{children:(t==null?void 0:t.role)!=="viewer"&&d.jsx(tfe,{onAddQuery:o})})]}),d.jsxs(an,{children:[d.jsx(Mn,{children:d.jsxs(On,{children:["Quick Access Queries",d.jsx("p",{className:"ml-3 inline-block min-w-6 text-xs font-medium text-zinc-600",children:`${n==null?void 0:n.length}/${G2}`})]})}),d.jsx(mn,{children:d.jsx(Zh,{className:"h-[396px] flex border border-neutral-200 p-4 rounded-sm",children:n.length!==0?d.jsx(JP,{queries:n,setQueries:r,onDeleteQuery:p=>a("quickAccess",p)}):d.jsxs("div",{className:"h-[362px] flex-1 flex flex-col justify-center items-center",children:[d.jsx("div",{className:"h-20 w-20 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:d.jsx(sq,{className:"h-10 w-10 text-primary"})}),d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"No quick access queries"}),d.jsxs("p",{className:"text-sm text-center text-muted-foreground mb-6 max-w-md ",children:["Add queries here for easy and quick access. ",d.jsx("br",{}),"Note: Quick access queries are meant for frequently used or important items."]})]})})})]}),d.jsxs(an,{children:[d.jsx(Mn,{children:d.jsxs(On,{children:["Menu Access Queries",d.jsx("p",{className:"ml-3 inline-block min-w-6 text-xs font-medium text-zinc-600",children:`${s==null?void 0:s.length}/${Q2}`})]})}),d.jsx(mn,{children:d.jsx(Zh,{className:"h-[450px] flex border border-neutral-200 p-4 rounded-sm",children:s.length!==0?d.jsx(JP,{queries:s,setQueries:i,onDeleteQuery:p=>a("menuAccess",p)}):d.jsxs("div",{className:"h-[416px] flex-1 flex flex-col justify-center items-center",children:[d.jsx("div",{className:"h-20 w-20 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:d.jsx(iq,{className:"h-10 w-10 text-primary"})}),d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"No menu access queries"}),d.jsxs("p",{className:"text-sm text-center text-muted-foreground mb-6 max-w-md ",children:["Add queries here for detailed and important items. ",d.jsx("br",{}),"Note: Menu access queries are designed for longer, high-priority queries."]})]})})})]}),(t==null?void 0:t.role)!=="viewer"&&d.jsx("footer",{className:"mt-4",children:d.jsx(tt,{disabled:h,className:"w-full",onClick:l,children:h?d.jsx(Na,{}):"Save changes"})})]})},Gpe=()=>{const t=Ui(n=>n.currentSelectedTabInSettingsTab),e=Ui(n=>n.setCurrentSelectedTabInSettingsTab);return d.jsxs("section",{className:"flex space-x-2",children:[d.jsx(Tde,{activeTab:t,onTabChange:e}),t==="team"&&d.jsx(Rhe,{}),t==="botProfile"&&d.jsx(bde,{}),t==="botModel"&&d.jsx(Pde,{}),t==="archives"&&d.jsx(Zhe,{}),t==="queries"&&d.jsx(qpe,{})]})},Qpe=()=>d.jsx("header",{className:"py-4 text-3xl font-semibold",children:"Settings"}),Ype=()=>d.jsxs("div",{className:"flex flex-col md:w-[84rem] w-[68rem] px-20 space-y-6",children:[d.jsx(Qpe,{}),d.jsx(Gpe,{})]}),Xpe=({id:t,text:e,onChange:n,checked:r})=>d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"radio",id:t,name:"nav-btn",value:e,className:"hidden peer",checked:r,onChange:n}),d.jsx("label",{htmlFor:t,className:"flex-1 flex w-[190px] justify-center items-center py-3 px-4 cursor-pointer uppercase text-sm font-[500]",children:e})]}),Jpe=({labels:t,selectedTab:e,setSelectedTab:n})=>{const r=s=>{n(s)};return d.jsx("nav",{className:"tabs relative flex after:absolute after:bottom-0 after:pointer-events-none after:border after:border-blue-500",children:t==null?void 0:t.map(s=>d.jsx(Xpe,{id:s,text:s,checked:e==s,onChange:()=>r(s)},s))})},Zpe={siteName:"COB-CHATBOT",botName:"AI NLP Assistant"},D$=t=>{m.useEffect(()=>{document.title=t??"Page"},[])},eme={chatbot:kte,settings:Ype,knowledge:lde},tme=()=>{const[t,e]=m.useState("chatbot"),n=["chatbot","knowledge","settings"],r=eme[t]||null;return D$("Admin Panel"),d.jsxs("div",{className:"min-h-[100dvh] flex flex-col bg-[#F8F9FB] scrollbar-slim",children:[d.jsxs(UY,{text:Zpe.siteName,children:[d.jsx(Jpe,{labels:n,selectedTab:t,setSelectedTab:e}),d.jsx("hr",{className:"w-full border-neutral-300"})]}),r&&d.jsx(BY,{Component:r})]})};function nme(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var x;const{scope:p,children:g,...w}=h,v=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,_=m.useMemo(()=>w,Object.values(w));return d.jsx(v.Provider,{value:_,children:g})};c.displayName=i+"Provider";function u(h,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,rme(s,...e)]}function rme(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var sme="DismissableLayer",eE="dismissableLayer.update",ime="dismissableLayer.pointerDownOutside",ome="dismissableLayer.focusOutside",eN,k$=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),M$=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(k$),[u,h]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,T=>h(T)),v=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(_),y=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,A=y>=x,P=lme(T=>{const E=T.target,I=[...c.branches].some(R=>R.contains(E));!A||I||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},p),O=cme(T=>{const E=T.target;[...c.branches].some(R=>R.contains(E))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},p);return Pf(T=>{y===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(eN=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),tN(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=eN)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),tN())},[u,c]),m.useEffect(()=>{const T=()=>g({});return document.addEventListener(eE,T),()=>document.removeEventListener(eE,T)},[]),d.jsx(ve.div,{...l,ref:w,style:{pointerEvents:b?A?"auto":"none":void 0,...t.style},onFocusCapture:Z(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Z(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Z(t.onPointerDownCapture,P.onPointerDownCapture)})});M$.displayName=sme;var ame="DismissableLayerBranch",O$=m.forwardRef((t,e)=>{const n=m.useContext(k$),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(ve.div,{...t,ref:s})});O$.displayName=ame;function lme(t,e=globalThis==null?void 0:globalThis.document){const n=ft(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){j$(ime,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function cme(t,e=globalThis==null?void 0:globalThis.document){const n=ft(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&j$(ome,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function tN(){const t=new CustomEvent(eE);document.dispatchEvent(t)}function j$(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Vl(s,i):s.dispatchEvent(i)}var ume=M$,dme=O$,hme="Portal",L$=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Pt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?_f.createPortal(d.jsx(ve.div,{...r,ref:e}),o):null});L$.displayName=hme;function fme(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var V$=t=>{const{present:e,children:n}=t,r=pme(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ke(r.ref,mme(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};V$.displayName="Presence";function pme(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=fme(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=am(r.current);i.current=a==="mounted"?c:"none"},[a]),Pt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=am(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Pt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=g=>{const v=am(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},p=g=>{g.target===e&&(i.current=am(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function am(t){return(t==null?void 0:t.animationName)||"none"}function mme(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var zT="ToastProvider",[KT,gme,vme]=$v("Toast"),[F$,hge]=nme("Toast",[vme]),[yme,Yy]=F$(zT),U$=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=m.useState(null),[c,u]=m.useState(0),h=m.useRef(!1),p=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${zT}\`. Expected non-empty \`string\`.`),d.jsx(KT.Provider,{scope:e,children:d.jsx(yme,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>u(g=>g+1),[]),onToastRemove:m.useCallback(()=>u(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};U$.displayName=zT;var B$="ToastViewport",wme=["F8"],tE="toast.viewportPause",nE="toast.viewportResume",$$=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=wme,label:s="Notifications ({hotkey})",...i}=t,o=Yy(B$,n),a=gme(n),l=m.useRef(null),c=m.useRef(null),u=m.useRef(null),h=m.useRef(null),p=ke(e,h,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;m.useEffect(()=>{const _=x=>{var b;r.length!==0&&r.every(A=>x[A]||x.code===A)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),m.useEffect(()=>{const _=l.current,x=h.current;if(w&&_&&x){const y=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(tE);x.dispatchEvent(O),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(nE);x.dispatchEvent(O),o.isClosePausedRef.current=!1}},A=O=>{!_.contains(O.relatedTarget)&&b()},P=()=>{_.contains(document.activeElement)||b()};return _.addEventListener("focusin",y),_.addEventListener("focusout",A),_.addEventListener("pointermove",y),_.addEventListener("pointerleave",P),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{_.removeEventListener("focusin",y),_.removeEventListener("focusout",A),_.removeEventListener("pointermove",y),_.removeEventListener("pointerleave",P),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[w,o.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:_})=>{const y=a().map(b=>{const A=b.ref.current,P=[A,...Dme(A)];return _==="forwards"?P:P.reverse()});return(_==="forwards"?y.reverse():y).flat()},[a]);return m.useEffect(()=>{const _=h.current;if(_){const x=y=>{var P,O,T;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const E=document.activeElement,I=y.shiftKey;if(y.target===_&&I){(P=c.current)==null||P.focus();return}const M=v({tabbingDirection:I?"backwards":"forwards"}),N=M.findIndex(W=>W===E);k0(M.slice(N+1))?y.preventDefault():I?(O=c.current)==null||O.focus():(T=u.current)==null||T.focus()}};return _.addEventListener("keydown",x),()=>_.removeEventListener("keydown",x)}},[a,v]),d.jsxs(dme,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&d.jsx(rE,{ref:c,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"forwards"});k0(_)}}),d.jsx(KT.Slot,{scope:n,children:d.jsx(ve.ol,{tabIndex:-1,...i,ref:p})}),w&&d.jsx(rE,{ref:u,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"backwards"});k0(_)}})]})});$$.displayName=B$;var z$="ToastFocusProxy",rE=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Yy(z$,n);return d.jsx(Kf,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});rE.displayName=z$;var Xy="Toast",xme="toast.swipeStart",_me="toast.swipeMove",Eme="toast.swipeCancel",bme="toast.swipeEnd",K$=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=ua({prop:r,defaultProp:s,onChange:i});return d.jsx(V$,{present:n||a,children:d.jsx(Cme,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:ft(t.onPause),onResume:ft(t.onResume),onSwipeStart:Z(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Z(t.onSwipeMove,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Z(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Z(t.onSwipeEnd,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});K$.displayName=Xy;var[Sme,Tme]=F$(Xy,{onClose(){}}),Cme=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:g,...w}=t,v=Yy(Xy,n),[_,x]=m.useState(null),y=ke(e,W=>x(W)),b=m.useRef(null),A=m.useRef(null),P=s||v.duration,O=m.useRef(0),T=m.useRef(P),E=m.useRef(0),{onToastAdd:I,onToastRemove:R}=v,k=ft(()=>{var se;(_==null?void 0:_.contains(document.activeElement))&&((se=v.viewport)==null||se.focus()),o()}),M=m.useCallback(W=>{!W||W===1/0||(window.clearTimeout(E.current),O.current=new Date().getTime(),E.current=window.setTimeout(k,W))},[k]);m.useEffect(()=>{const W=v.viewport;if(W){const se=()=>{M(T.current),c==null||c()},ne=()=>{const Y=new Date().getTime()-O.current;T.current=T.current-Y,window.clearTimeout(E.current),l==null||l()};return W.addEventListener(tE,ne),W.addEventListener(nE,se),()=>{W.removeEventListener(tE,ne),W.removeEventListener(nE,se)}}},[v.viewport,P,l,c,M]),m.useEffect(()=>{i&&!v.isClosePausedRef.current&&M(P)},[i,P,v.isClosePausedRef,M]),m.useEffect(()=>(I(),()=>R()),[I,R]);const N=m.useMemo(()=>_?X$(_):null,[_]);return v.viewport?d.jsxs(d.Fragment,{children:[N&&d.jsx(Ame,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),d.jsx(Sme,{scope:n,onClose:k,children:Ar.createPortal(d.jsx(KT.ItemSlot,{scope:n,children:d.jsx(ume,{asChild:!0,onEscapeKeyDown:Z(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||k(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Z(t.onKeyDown,W=>{W.key==="Escape"&&(a==null||a(W.nativeEvent),W.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Z(t.onPointerDown,W=>{W.button===0&&(b.current={x:W.clientX,y:W.clientY})}),onPointerMove:Z(t.onPointerMove,W=>{if(!b.current)return;const se=W.clientX-b.current.x,ne=W.clientY-b.current.y,Y=!!A.current,z=["left","right"].includes(v.swipeDirection),B=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,J=z?B(0,se):0,fe=z?0:B(0,ne),he=W.pointerType==="touch"?10:2,Se={x:J,y:fe},We={originalEvent:W,delta:Se};Y?(A.current=Se,lm(_me,h,We,{discrete:!1})):nN(Se,v.swipeDirection,he)?(A.current=Se,lm(xme,u,We,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(se)>he||Math.abs(ne)>he)&&(b.current=null)}),onPointerUp:Z(t.onPointerUp,W=>{const se=A.current,ne=W.target;if(ne.hasPointerCapture(W.pointerId)&&ne.releasePointerCapture(W.pointerId),A.current=null,b.current=null,se){const Y=W.currentTarget,z={originalEvent:W,delta:se};nN(se,v.swipeDirection,v.swipeThreshold)?lm(bme,g,z,{discrete:!0}):lm(Eme,p,z,{discrete:!0}),Y.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),Ame=t=>{const{__scopeToast:e,children:n,...r}=t,s=Yy(Xy,e),[i,o]=m.useState(!1),[a,l]=m.useState(!1);return Pme(()=>o(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(L$,{asChild:!0,children:d.jsx(Kf,{...r,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",n]})})})},Rme="ToastTitle",W$=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(ve.div,{...r,ref:e})});W$.displayName=Rme;var Ime="ToastDescription",H$=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(ve.div,{...r,ref:e})});H$.displayName=Ime;var q$="ToastAction",G$=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(Y$,{altText:n,asChild:!0,children:d.jsx(WT,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${q$}\`. Expected non-empty \`string\`.`),null)});G$.displayName=q$;var Q$="ToastClose",WT=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=Tme(Q$,n);return d.jsx(Y$,{asChild:!0,children:d.jsx(ve.button,{type:"button",...r,ref:e,onClick:Z(t.onClick,s.onClose)})})});WT.displayName=Q$;var Y$=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return d.jsx(ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function X$(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Nme(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...X$(r))}}),e}function lm(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Vl(s,i):s.dispatchEvent(i)}var nN=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function Pme(t=()=>{}){const e=ft(t);Pt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Nme(t){return t.nodeType===t.ELEMENT_NODE}function Dme(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function k0(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var kme=U$,J$=$$,Z$=K$,ez=W$,tz=H$,nz=G$,rz=WT;const Mme=kme,sz=m.forwardRef(({className:t,...e},n)=>d.jsx(J$,{ref:n,className:ue("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));sz.displayName=J$.displayName;const Ome=Lf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),iz=m.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(Z$,{ref:r,className:ue(Ome({variant:e}),t),...n}));iz.displayName=Z$.displayName;const jme=m.forwardRef(({className:t,...e},n)=>d.jsx(nz,{ref:n,className:ue("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));jme.displayName=nz.displayName;const oz=m.forwardRef(({className:t,...e},n)=>d.jsx(rz,{ref:n,className:ue("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(Uv,{className:"h-4 w-4"})}));oz.displayName=rz.displayName;const az=m.forwardRef(({className:t,...e},n)=>d.jsx(ez,{ref:n,className:ue("text-sm font-semibold",t),...e}));az.displayName=ez.displayName;const lz=m.forwardRef(({className:t,...e},n)=>d.jsx(tz,{ref:n,className:ue("text-sm opacity-90",t),...e}));lz.displayName=tz.displayName;function Lme(){const{toasts:t}=w4();return d.jsxs(Mme,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return d.jsxs(iz,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(az,{children:n}),r&&d.jsx(lz,{children:r})]}),s,d.jsx(oz,{})]},e)}),d.jsx(sz,{})]})}const Vme=()=>{const t=Iu();m.useEffect(()=>{p4(Ole,"page_view",{page_path:t.pathname})},[t])},Fme=()=>{const t=pt(r=>r.isAuth),e=pt(r=>r.admin),n=new bce;return F8(),Vme(),!t&&!e?d.jsx(WM,{to:"/login"}):d.jsx(Rce,{client:n,children:d.jsxs("main",{children:[d.jsx(tme,{}),d.jsx(Lme,{})]})})},Ume=Lf("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),cz=m.forwardRef(({className:t,variant:e,...n},r)=>d.jsx("div",{ref:r,role:"alert",className:ue(Ume({variant:e}),t),...n}));cz.displayName="Alert";const Bme=m.forwardRef(({className:t,...e},n)=>d.jsx("h5",{ref:n,className:ue("mb-1 font-medium leading-none tracking-tight",t),...e}));Bme.displayName="AlertTitle";const uz=m.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ue("text-sm [&_p]:leading-relaxed",t),...e}));uz.displayName="AlertDescription";const $me=({password:t,setPassword:e})=>{const[n,r]=m.useState(!1);return d.jsxs("div",{className:"relative",children:[d.jsx(un,{id:"password",type:n?"text":"password",placeholder:"",value:t,onChange:s=>e(s.target.value),required:!0}),d.jsx(tt,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>r(s=>!s),"aria-label":n?"Hide password":"Show password",children:n?d.jsx(JM,{className:"h-4 w-4 text-gray-500"}):d.jsx(fb,{className:"h-4 w-4 text-gray-500"})})]})},zme=()=>{const t=Rf(),[e,n]=m.useState(""),[r,s]=m.useState(""),[i,o]=m.useState(""),[a,l]=m.useState(!1),c=pt(p=>p.login),u=pt(p=>p.isAuth),h=async p=>{p.preventDefault(),o(""),l(!0);try{const{accessToken:g,admin:w}=await _he(e,r);c(g,w),t("/")}catch(g){if(g instanceof Error){o(g.message);return}console.error(`Unexpected error occured: ${g}`)}finally{l(!1)}};return D$("Admin Login"),u?d.jsx(WM,{to:"/"}):d.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-r from-gray-100 to-gray-200 relative",children:[d.jsx("div",{className:"absolute inset-0 opacity-10 bg-cover bg-center z-0",style:{backgroundImage:"url('/placeholder.svg?height=1080&width=1920')",filter:"blur(3px)"},"aria-hidden":"true"}),d.jsxs(an,{className:"w-full max-w-md z-10",children:[d.jsxs(Mn,{children:[d.jsx(On,{className:"text-2xl font-bold text-center",children:"Welcome Back"}),d.jsx(vi,{className:"text-center",children:"Please sign in to your account"})]}),d.jsx(mn,{children:d.jsxs("form",{onSubmit:h,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Cn,{htmlFor:"email",children:"Email"}),d.jsx(un,{id:"email",type:"email",placeholder:"email@address.com",value:e,onChange:p=>n(p.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Cn,{htmlFor:"password",children:"Password"}),d.jsx($me,{password:r,setPassword:s})]}),i&&d.jsxs(cz,{variant:"destructive",children:[d.jsx(YM,{className:"h-4 w-4"}),d.jsx(uz,{children:i})]}),d.jsx(tt,{type:"submit",className:"w-full",disabled:a,children:a?"Signing In...":"Sign In"})]})}),d.jsxs(Y2,{className:"flex flex-col items-center justify-center space-y-2",children:[d.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Powered by cob-chatbot"}),d.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Quick, responsive, and fully customizable."})]})]})]})};function Kme(){var n;const t=KM();let e;return Af(t)?e=t.statusText||((n=t.data)==null?void 0:n.message)||"An unexpected error occurred.":t instanceof Error?e=t.message:typeof t=="string"?e=t:(console.error(t),e="An unknown error occurred."),d.jsx("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center items-center px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-md w-full space-y-8 text-center",children:[d.jsx("div",{className:"flex justify-center",children:d.jsx(YM,{className:"h-24 w-24 text-red-600"})}),d.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Oops! Something went wrong"}),d.jsx("p",{className:"mt-2 text-sm text-gray-600",children:e}),d.jsx("div",{className:"mt-5",children:d.jsx(L8,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Go back home"})})]})})}const Wme=b8([{path:"/",element:d.jsx(Fme,{}),errorElement:d.jsx(Kme,{})},{path:"/login",element:d.jsx(zme,{})}],{basename:"/admin"});M0.createRoot(document.getElementById("root")).render(d.jsx(Re.StrictMode,{children:d.jsx(D8,{router:Wme})}));
