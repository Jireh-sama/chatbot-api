var sw=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var F=(t,e,n)=>(sw(t,e,"read from private field"),n?n.call(t):e.get(t)),be=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},me=(t,e,n,r)=>(sw(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var Sp=(t,e,n,r)=>({set _(s){me(t,e,s,n)},get _(){return F(t,e,r)}}),Ye=(t,e,n)=>(sw(t,e,"access private method"),n);function mN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function iE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gN={exports:{}},gv={},vN={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xf=Symbol.for("react.element"),Pz=Symbol.for("react.portal"),Nz=Symbol.for("react.fragment"),Dz=Symbol.for("react.strict_mode"),kz=Symbol.for("react.profiler"),Mz=Symbol.for("react.provider"),Oz=Symbol.for("react.context"),jz=Symbol.for("react.forward_ref"),Lz=Symbol.for("react.suspense"),Fz=Symbol.for("react.memo"),Vz=Symbol.for("react.lazy"),_C=Symbol.iterator;function Uz(t){return t===null||typeof t!="object"?null:(t=_C&&t[_C]||t["@@iterator"],typeof t=="function"?t:null)}var yN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wN=Object.assign,xN={};function Su(t,e,n){this.props=t,this.context=e,this.refs=xN,this.updater=n||yN}Su.prototype.isReactComponent={};Su.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Su.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _N(){}_N.prototype=Su.prototype;function oE(t,e,n){this.props=t,this.context=e,this.refs=xN,this.updater=n||yN}var aE=oE.prototype=new _N;aE.constructor=oE;wN(aE,Su.prototype);aE.isPureReactComponent=!0;var EC=Array.isArray,EN=Object.prototype.hasOwnProperty,lE={current:null},bN={key:!0,ref:!0,__self:!0,__source:!0};function SN(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)EN.call(e,r)&&!bN.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:xf,type:t,key:i,ref:o,props:s,_owner:lE.current}}function Bz(t,e){return{$$typeof:xf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cE(t){return typeof t=="object"&&t!==null&&t.$$typeof===xf}function $z(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var bC=/\/+/g;function iw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$z(""+t.key):e.toString(36)}function pm(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case xf:case Pz:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+iw(o,0):r,EC(s)?(n="",t!=null&&(n=t.replace(bC,"$&/")+"/"),pm(s,e,n,"",function(c){return c})):s!=null&&(cE(s)&&(s=Bz(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(bC,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",EC(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+iw(i,a);o+=pm(i,e,n,l,s)}else if(l=Uz(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+iw(i,a++),o+=pm(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Tp(t,e,n){if(t==null)return t;var r=[],s=0;return pm(t,r,"","",function(i){return e.call(n,i,s++)}),r}function zz(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gr={current:null},mm={transition:null},Kz={ReactCurrentDispatcher:gr,ReactCurrentBatchConfig:mm,ReactCurrentOwner:lE};function TN(){throw Error("act(...) is not supported in production builds of React.")}Ze.Children={map:Tp,forEach:function(t,e,n){Tp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Tp(t,function(){e++}),e},toArray:function(t){return Tp(t,function(e){return e})||[]},only:function(t){if(!cE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ze.Component=Su;Ze.Fragment=Nz;Ze.Profiler=kz;Ze.PureComponent=oE;Ze.StrictMode=Dz;Ze.Suspense=Lz;Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kz;Ze.act=TN;Ze.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=wN({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=lE.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)EN.call(e,l)&&!bN.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:xf,type:t.type,key:s,ref:i,props:r,_owner:o}};Ze.createContext=function(t){return t={$$typeof:Oz,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Mz,_context:t},t.Consumer=t};Ze.createElement=SN;Ze.createFactory=function(t){var e=SN.bind(null,t);return e.type=t,e};Ze.createRef=function(){return{current:null}};Ze.forwardRef=function(t){return{$$typeof:jz,render:t}};Ze.isValidElement=cE;Ze.lazy=function(t){return{$$typeof:Vz,_payload:{_status:-1,_result:t},_init:zz}};Ze.memo=function(t,e){return{$$typeof:Fz,type:t,compare:e===void 0?null:e}};Ze.startTransition=function(t){var e=mm.transition;mm.transition={};try{t()}finally{mm.transition=e}};Ze.unstable_act=TN;Ze.useCallback=function(t,e){return gr.current.useCallback(t,e)};Ze.useContext=function(t){return gr.current.useContext(t)};Ze.useDebugValue=function(){};Ze.useDeferredValue=function(t){return gr.current.useDeferredValue(t)};Ze.useEffect=function(t,e){return gr.current.useEffect(t,e)};Ze.useId=function(){return gr.current.useId()};Ze.useImperativeHandle=function(t,e,n){return gr.current.useImperativeHandle(t,e,n)};Ze.useInsertionEffect=function(t,e){return gr.current.useInsertionEffect(t,e)};Ze.useLayoutEffect=function(t,e){return gr.current.useLayoutEffect(t,e)};Ze.useMemo=function(t,e){return gr.current.useMemo(t,e)};Ze.useReducer=function(t,e,n){return gr.current.useReducer(t,e,n)};Ze.useRef=function(t){return gr.current.useRef(t)};Ze.useState=function(t){return gr.current.useState(t)};Ze.useSyncExternalStore=function(t,e,n){return gr.current.useSyncExternalStore(t,e,n)};Ze.useTransition=function(){return gr.current.useTransition()};Ze.version="18.3.1";vN.exports=Ze;var m=vN.exports;const Re=iE(m),CN=mN({__proto__:null,default:Re},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wz=m,Hz=Symbol.for("react.element"),qz=Symbol.for("react.fragment"),Gz=Object.prototype.hasOwnProperty,Qz=Wz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yz={key:!0,ref:!0,__self:!0,__source:!0};function AN(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Gz.call(e,r)&&!Yz.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Hz,type:t,key:i,ref:o,props:s,_owner:Qz.current}}gv.Fragment=qz;gv.jsx=AN;gv.jsxs=AN;gN.exports=gv;var d=gN.exports,O0={},RN={exports:{}},Zr={},IN={exports:{}},PN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,B){var J=z.length;z.push(B);e:for(;0<J;){var fe=J-1>>>1,he=z[fe];if(0<s(he,B))z[fe]=B,z[J]=he,J=fe;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var B=z[0],J=z.pop();if(J!==B){z[0]=J;e:for(var fe=0,he=z.length,Te=he>>>1;fe<Te;){var We=2*(fe+1)-1,at=z[We],Ne=We+1,ce=z[Ne];if(0>s(at,J))Ne<he&&0>s(ce,at)?(z[fe]=ce,z[Ne]=J,fe=Ne):(z[fe]=at,z[We]=J,fe=We);else if(Ne<he&&0>s(ce,J))z[fe]=ce,z[Ne]=J,fe=Ne;else break e}}return B}function s(z,B){var J=z.sortIndex-B.sortIndex;return J!==0?J:z.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,p=3,g=!1,w=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(z){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=z)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function A(z){if(v=!1,b(z),!w)if(n(l)!==null)w=!0,ne(P);else{var B=n(c);B!==null&&Y(A,B.startTime-z)}}function P(z,B){w=!1,v&&(v=!1,_(E),E=-1),g=!0;var J=p;try{for(b(B),h=n(l);h!==null&&(!(h.expirationTime>B)||z&&!k());){var fe=h.callback;if(typeof fe=="function"){h.callback=null,p=h.priorityLevel;var he=fe(h.expirationTime<=B);B=t.unstable_now(),typeof he=="function"?h.callback=he:h===n(l)&&r(l),b(B)}else r(l);h=n(l)}if(h!==null)var Te=!0;else{var We=n(c);We!==null&&Y(A,We.startTime-B),Te=!1}return Te}finally{h=null,p=J,g=!1}}var O=!1,T=null,E=-1,I=5,R=-1;function k(){return!(t.unstable_now()-R<I)}function M(){if(T!==null){var z=t.unstable_now();R=z;var B=!0;try{B=T(!0,z)}finally{B?N():(O=!1,T=null)}}else O=!1}var N;if(typeof y=="function")N=function(){y(M)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,se=W.port2;W.port1.onmessage=M,N=function(){se.postMessage(null)}}else N=function(){x(M,0)};function ne(z){T=z,O||(O=!0,N())}function Y(z,B){E=x(function(){z(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,ne(P))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var J=p;p=B;try{return z()}finally{p=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,B){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var J=p;p=z;try{return B()}finally{p=J}},t.unstable_scheduleCallback=function(z,B,J){var fe=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?fe+J:fe):J=fe,z){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=J+he,z={id:u++,callback:B,priorityLevel:z,startTime:J,expirationTime:he,sortIndex:-1},J>fe?(z.sortIndex=J,e(c,z),n(l)===null&&z===n(c)&&(v?(_(E),E=-1):v=!0,Y(A,J-fe))):(z.sortIndex=he,e(l,z),w||g||(w=!0,ne(P))),z},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(z){var B=p;return function(){var J=p;p=B;try{return z.apply(this,arguments)}finally{p=J}}}})(PN);IN.exports=PN;var Xz=IN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jz=m,Yr=Xz;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var NN=new Set,mh={};function Ml(t,e){tu(t,e),tu(t+"Capture",e)}function tu(t,e){for(mh[t]=e,t=0;t<e.length;t++)NN.add(e[t])}var Gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),j0=Object.prototype.hasOwnProperty,Zz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,SC={},TC={};function e5(t){return j0.call(TC,t)?!0:j0.call(SC,t)?!1:Zz.test(t)?TC[t]=!0:(SC[t]=!0,!1)}function t5(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function n5(t,e,n,r){if(e===null||typeof e>"u"||t5(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vr(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Kn[t]=new vr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Kn[e]=new vr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Kn[t]=new vr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Kn[t]=new vr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Kn[t]=new vr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Kn[t]=new vr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Kn[t]=new vr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Kn[t]=new vr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Kn[t]=new vr(t,5,!1,t.toLowerCase(),null,!1,!1)});var uE=/[\-:]([a-z])/g;function dE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(uE,dE);Kn[e]=new vr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(uE,dE);Kn[e]=new vr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(uE,dE);Kn[e]=new vr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Kn[t]=new vr(t,1,!1,t.toLowerCase(),null,!1,!1)});Kn.xlinkHref=new vr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Kn[t]=new vr(t,1,!1,t.toLowerCase(),null,!0,!0)});function hE(t,e,n,r){var s=Kn.hasOwnProperty(e)?Kn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(n5(e,n,s,r)&&(n=null),r||s===null?e5(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var oo=Jz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cp=Symbol.for("react.element"),ic=Symbol.for("react.portal"),oc=Symbol.for("react.fragment"),fE=Symbol.for("react.strict_mode"),L0=Symbol.for("react.profiler"),DN=Symbol.for("react.provider"),kN=Symbol.for("react.context"),pE=Symbol.for("react.forward_ref"),F0=Symbol.for("react.suspense"),V0=Symbol.for("react.suspense_list"),mE=Symbol.for("react.memo"),So=Symbol.for("react.lazy"),MN=Symbol.for("react.offscreen"),CC=Symbol.iterator;function ad(t){return t===null||typeof t!="object"?null:(t=CC&&t[CC]||t["@@iterator"],typeof t=="function"?t:null)}var Gt=Object.assign,ow;function Cd(t){if(ow===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ow=e&&e[1]||""}return`
`+ow+t}var aw=!1;function lw(t,e){if(!t||aw)return"";aw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{aw=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Cd(t):""}function r5(t){switch(t.tag){case 5:return Cd(t.type);case 16:return Cd("Lazy");case 13:return Cd("Suspense");case 19:return Cd("SuspenseList");case 0:case 2:case 15:return t=lw(t.type,!1),t;case 11:return t=lw(t.type.render,!1),t;case 1:return t=lw(t.type,!0),t;default:return""}}function U0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oc:return"Fragment";case ic:return"Portal";case L0:return"Profiler";case fE:return"StrictMode";case F0:return"Suspense";case V0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case kN:return(t.displayName||"Context")+".Consumer";case DN:return(t._context.displayName||"Context")+".Provider";case pE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case mE:return e=t.displayName||null,e!==null?e:U0(t.type)||"Memo";case So:e=t._payload,t=t._init;try{return U0(t(e))}catch{}}return null}function s5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U0(e);case 8:return e===fE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function aa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ON(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function i5(t){var e=ON(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ap(t){t._valueTracker||(t._valueTracker=i5(t))}function jN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ON(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Qm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function B0(t,e){var n=e.checked;return Gt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function AC(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=aa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function LN(t,e){e=e.checked,e!=null&&hE(t,"checked",e,!1)}function $0(t,e){LN(t,e);var n=aa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?z0(t,e.type,n):e.hasOwnProperty("defaultValue")&&z0(t,e.type,aa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function RC(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function z0(t,e,n){(e!=="number"||Qm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ad=Array.isArray;function Tc(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+aa(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function K0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return Gt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function IC(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(te(92));if(Ad(n)){if(1<n.length)throw Error(te(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:aa(n)}}function FN(t,e){var n=aa(e.value),r=aa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function PC(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function VN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function W0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?VN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Rp,UN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Rp=Rp||document.createElement("div"),Rp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Rp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ud={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o5=["Webkit","ms","Moz","O"];Object.keys(Ud).forEach(function(t){o5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ud[e]=Ud[t]})});function BN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ud.hasOwnProperty(t)&&Ud[t]?(""+e).trim():e+"px"}function $N(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=BN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var a5=Gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function H0(t,e){if(e){if(a5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function q0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var G0=null;function gE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Q0=null,Cc=null,Ac=null;function NC(t){if(t=bf(t)){if(typeof Q0!="function")throw Error(te(280));var e=t.stateNode;e&&(e=_v(e),Q0(t.stateNode,t.type,e))}}function zN(t){Cc?Ac?Ac.push(t):Ac=[t]:Cc=t}function KN(){if(Cc){var t=Cc,e=Ac;if(Ac=Cc=null,NC(t),e)for(t=0;t<e.length;t++)NC(e[t])}}function WN(t,e){return t(e)}function HN(){}var cw=!1;function qN(t,e,n){if(cw)return t(e,n);cw=!0;try{return WN(t,e,n)}finally{cw=!1,(Cc!==null||Ac!==null)&&(HN(),KN())}}function vh(t,e){var n=t.stateNode;if(n===null)return null;var r=_v(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(te(231,e,typeof n));return n}var Y0=!1;if(Gi)try{var ld={};Object.defineProperty(ld,"passive",{get:function(){Y0=!0}}),window.addEventListener("test",ld,ld),window.removeEventListener("test",ld,ld)}catch{Y0=!1}function l5(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Bd=!1,Ym=null,Xm=!1,X0=null,c5={onError:function(t){Bd=!0,Ym=t}};function u5(t,e,n,r,s,i,o,a,l){Bd=!1,Ym=null,l5.apply(c5,arguments)}function d5(t,e,n,r,s,i,o,a,l){if(u5.apply(this,arguments),Bd){if(Bd){var c=Ym;Bd=!1,Ym=null}else throw Error(te(198));Xm||(Xm=!0,X0=c)}}function Ol(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function GN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function DC(t){if(Ol(t)!==t)throw Error(te(188))}function h5(t){var e=t.alternate;if(!e){if(e=Ol(t),e===null)throw Error(te(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return DC(s),t;if(i===r)return DC(s),e;i=i.sibling}throw Error(te(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?t:e}function QN(t){return t=h5(t),t!==null?YN(t):null}function YN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=YN(t);if(e!==null)return e;t=t.sibling}return null}var XN=Yr.unstable_scheduleCallback,kC=Yr.unstable_cancelCallback,f5=Yr.unstable_shouldYield,p5=Yr.unstable_requestPaint,an=Yr.unstable_now,m5=Yr.unstable_getCurrentPriorityLevel,vE=Yr.unstable_ImmediatePriority,JN=Yr.unstable_UserBlockingPriority,Jm=Yr.unstable_NormalPriority,g5=Yr.unstable_LowPriority,ZN=Yr.unstable_IdlePriority,vv=null,si=null;function v5(t){if(si&&typeof si.onCommitFiberRoot=="function")try{si.onCommitFiberRoot(vv,t,void 0,(t.current.flags&128)===128)}catch{}}var Fs=Math.clz32?Math.clz32:x5,y5=Math.log,w5=Math.LN2;function x5(t){return t>>>=0,t===0?32:31-(y5(t)/w5|0)|0}var Ip=64,Pp=4194304;function Rd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Rd(a):(i&=o,i!==0&&(r=Rd(i)))}else o=n&~s,o!==0?r=Rd(o):i!==0&&(r=Rd(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Fs(e),s=1<<n,r|=t[n],e&=~s;return r}function _5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E5(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Fs(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=_5(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function J0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function eD(){var t=Ip;return Ip<<=1,!(Ip&4194240)&&(Ip=64),t}function uw(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function _f(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Fs(e),t[e]=n}function b5(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Fs(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function yE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Fs(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var xt=0;function tD(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nD,wE,rD,sD,iD,Z0=!1,Np=[],Qo=null,Yo=null,Xo=null,yh=new Map,wh=new Map,Ao=[],S5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function MC(t,e){switch(t){case"focusin":case"focusout":Qo=null;break;case"dragenter":case"dragleave":Yo=null;break;case"mouseover":case"mouseout":Xo=null;break;case"pointerover":case"pointerout":yh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wh.delete(e.pointerId)}}function cd(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=bf(e),e!==null&&wE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function T5(t,e,n,r,s){switch(e){case"focusin":return Qo=cd(Qo,t,e,n,r,s),!0;case"dragenter":return Yo=cd(Yo,t,e,n,r,s),!0;case"mouseover":return Xo=cd(Xo,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return yh.set(i,cd(yh.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,wh.set(i,cd(wh.get(i)||null,t,e,n,r,s)),!0}return!1}function oD(t){var e=Qa(t.target);if(e!==null){var n=Ol(e);if(n!==null){if(e=n.tag,e===13){if(e=GN(n),e!==null){t.blockedOn=e,iD(t.priority,function(){rD(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ex(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);G0=r,n.target.dispatchEvent(r),G0=null}else return e=bf(n),e!==null&&wE(e),t.blockedOn=n,!1;e.shift()}return!0}function OC(t,e,n){gm(t)&&n.delete(e)}function C5(){Z0=!1,Qo!==null&&gm(Qo)&&(Qo=null),Yo!==null&&gm(Yo)&&(Yo=null),Xo!==null&&gm(Xo)&&(Xo=null),yh.forEach(OC),wh.forEach(OC)}function ud(t,e){t.blockedOn===e&&(t.blockedOn=null,Z0||(Z0=!0,Yr.unstable_scheduleCallback(Yr.unstable_NormalPriority,C5)))}function xh(t){function e(s){return ud(s,t)}if(0<Np.length){ud(Np[0],t);for(var n=1;n<Np.length;n++){var r=Np[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Qo!==null&&ud(Qo,t),Yo!==null&&ud(Yo,t),Xo!==null&&ud(Xo,t),yh.forEach(e),wh.forEach(e),n=0;n<Ao.length;n++)r=Ao[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ao.length&&(n=Ao[0],n.blockedOn===null);)oD(n),n.blockedOn===null&&Ao.shift()}var Rc=oo.ReactCurrentBatchConfig,eg=!0;function A5(t,e,n,r){var s=xt,i=Rc.transition;Rc.transition=null;try{xt=1,xE(t,e,n,r)}finally{xt=s,Rc.transition=i}}function R5(t,e,n,r){var s=xt,i=Rc.transition;Rc.transition=null;try{xt=4,xE(t,e,n,r)}finally{xt=s,Rc.transition=i}}function xE(t,e,n,r){if(eg){var s=ex(t,e,n,r);if(s===null)xw(t,e,r,tg,n),MC(t,r);else if(T5(s,t,e,n,r))r.stopPropagation();else if(MC(t,r),e&4&&-1<S5.indexOf(t)){for(;s!==null;){var i=bf(s);if(i!==null&&nD(i),i=ex(t,e,n,r),i===null&&xw(t,e,r,tg,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else xw(t,e,r,null,n)}}var tg=null;function ex(t,e,n,r){if(tg=null,t=gE(r),t=Qa(t),t!==null)if(e=Ol(t),e===null)t=null;else if(n=e.tag,n===13){if(t=GN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return tg=t,null}function aD(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m5()){case vE:return 1;case JN:return 4;case Jm:case g5:return 16;case ZN:return 536870912;default:return 16}default:return 16}}var Ko=null,_E=null,vm=null;function lD(){if(vm)return vm;var t,e=_E,n=e.length,r,s="value"in Ko?Ko.value:Ko.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return vm=s.slice(t,1<r?1-r:void 0)}function ym(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Dp(){return!0}function jC(){return!1}function es(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Dp:jC,this.isPropagationStopped=jC,this}return Gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dp)},persist:function(){},isPersistent:Dp}),e}var Tu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},EE=es(Tu),Ef=Gt({},Tu,{view:0,detail:0}),I5=es(Ef),dw,hw,dd,yv=Gt({},Ef,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dd&&(dd&&t.type==="mousemove"?(dw=t.screenX-dd.screenX,hw=t.screenY-dd.screenY):hw=dw=0,dd=t),dw)},movementY:function(t){return"movementY"in t?t.movementY:hw}}),LC=es(yv),P5=Gt({},yv,{dataTransfer:0}),N5=es(P5),D5=Gt({},Ef,{relatedTarget:0}),fw=es(D5),k5=Gt({},Tu,{animationName:0,elapsedTime:0,pseudoElement:0}),M5=es(k5),O5=Gt({},Tu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),j5=es(O5),L5=Gt({},Tu,{data:0}),FC=es(L5),F5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=U5[t])?!!e[t]:!1}function bE(){return B5}var $5=Gt({},Ef,{key:function(t){if(t.key){var e=F5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ym(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?V5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bE,charCode:function(t){return t.type==="keypress"?ym(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ym(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),z5=es($5),K5=Gt({},yv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),VC=es(K5),W5=Gt({},Ef,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bE}),H5=es(W5),q5=Gt({},Tu,{propertyName:0,elapsedTime:0,pseudoElement:0}),G5=es(q5),Q5=Gt({},yv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y5=es(Q5),X5=[9,13,27,32],SE=Gi&&"CompositionEvent"in window,$d=null;Gi&&"documentMode"in document&&($d=document.documentMode);var J5=Gi&&"TextEvent"in window&&!$d,cD=Gi&&(!SE||$d&&8<$d&&11>=$d),UC=" ",BC=!1;function uD(t,e){switch(t){case"keyup":return X5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dD(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ac=!1;function Z5(t,e){switch(t){case"compositionend":return dD(e);case"keypress":return e.which!==32?null:(BC=!0,UC);case"textInput":return t=e.data,t===UC&&BC?null:t;default:return null}}function e3(t,e){if(ac)return t==="compositionend"||!SE&&uD(t,e)?(t=lD(),vm=_E=Ko=null,ac=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cD&&e.locale!=="ko"?null:e.data;default:return null}}var t3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $C(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!t3[t.type]:e==="textarea"}function hD(t,e,n,r){zN(r),e=ng(e,"onChange"),0<e.length&&(n=new EE("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var zd=null,_h=null;function n3(t){bD(t,0)}function wv(t){var e=uc(t);if(jN(e))return t}function r3(t,e){if(t==="change")return e}var fD=!1;if(Gi){var pw;if(Gi){var mw="oninput"in document;if(!mw){var zC=document.createElement("div");zC.setAttribute("oninput","return;"),mw=typeof zC.oninput=="function"}pw=mw}else pw=!1;fD=pw&&(!document.documentMode||9<document.documentMode)}function KC(){zd&&(zd.detachEvent("onpropertychange",pD),_h=zd=null)}function pD(t){if(t.propertyName==="value"&&wv(_h)){var e=[];hD(e,_h,t,gE(t)),qN(n3,e)}}function s3(t,e,n){t==="focusin"?(KC(),zd=e,_h=n,zd.attachEvent("onpropertychange",pD)):t==="focusout"&&KC()}function i3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wv(_h)}function o3(t,e){if(t==="click")return wv(e)}function a3(t,e){if(t==="input"||t==="change")return wv(e)}function l3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bs=typeof Object.is=="function"?Object.is:l3;function Eh(t,e){if(Bs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!j0.call(e,s)||!Bs(t[s],e[s]))return!1}return!0}function WC(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function HC(t,e){var n=WC(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=WC(n)}}function mD(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mD(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gD(){for(var t=window,e=Qm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Qm(t.document)}return e}function TE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function c3(t){var e=gD(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&mD(n.ownerDocument.documentElement,n)){if(r!==null&&TE(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=HC(n,i);var o=HC(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var u3=Gi&&"documentMode"in document&&11>=document.documentMode,lc=null,tx=null,Kd=null,nx=!1;function qC(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nx||lc==null||lc!==Qm(r)||(r=lc,"selectionStart"in r&&TE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kd&&Eh(Kd,r)||(Kd=r,r=ng(tx,"onSelect"),0<r.length&&(e=new EE("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=lc)))}function kp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var cc={animationend:kp("Animation","AnimationEnd"),animationiteration:kp("Animation","AnimationIteration"),animationstart:kp("Animation","AnimationStart"),transitionend:kp("Transition","TransitionEnd")},gw={},vD={};Gi&&(vD=document.createElement("div").style,"AnimationEvent"in window||(delete cc.animationend.animation,delete cc.animationiteration.animation,delete cc.animationstart.animation),"TransitionEvent"in window||delete cc.transitionend.transition);function xv(t){if(gw[t])return gw[t];if(!cc[t])return t;var e=cc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vD)return gw[t]=e[n];return t}var yD=xv("animationend"),wD=xv("animationiteration"),xD=xv("animationstart"),_D=xv("transitionend"),ED=new Map,GC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _a(t,e){ED.set(t,e),Ml(e,[t])}for(var vw=0;vw<GC.length;vw++){var yw=GC[vw],d3=yw.toLowerCase(),h3=yw[0].toUpperCase()+yw.slice(1);_a(d3,"on"+h3)}_a(yD,"onAnimationEnd");_a(wD,"onAnimationIteration");_a(xD,"onAnimationStart");_a("dblclick","onDoubleClick");_a("focusin","onFocus");_a("focusout","onBlur");_a(_D,"onTransitionEnd");tu("onMouseEnter",["mouseout","mouseover"]);tu("onMouseLeave",["mouseout","mouseover"]);tu("onPointerEnter",["pointerout","pointerover"]);tu("onPointerLeave",["pointerout","pointerover"]);Ml("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ml("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ml("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ml("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ml("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ml("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Id="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Id));function QC(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,d5(r,e,void 0,t),t.currentTarget=null}function bD(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;QC(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;QC(s,a,c),i=l}}}if(Xm)throw t=X0,Xm=!1,X0=null,t}function Ot(t,e){var n=e[ax];n===void 0&&(n=e[ax]=new Set);var r=t+"__bubble";n.has(r)||(SD(e,t,2,!1),n.add(r))}function ww(t,e,n){var r=0;e&&(r|=4),SD(n,t,r,e)}var Mp="_reactListening"+Math.random().toString(36).slice(2);function bh(t){if(!t[Mp]){t[Mp]=!0,NN.forEach(function(n){n!=="selectionchange"&&(f3.has(n)||ww(n,!1,t),ww(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Mp]||(e[Mp]=!0,ww("selectionchange",!1,e))}}function SD(t,e,n,r){switch(aD(e)){case 1:var s=A5;break;case 4:s=R5;break;default:s=xE}n=s.bind(null,e,n,t),s=void 0,!Y0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function xw(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Qa(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}qN(function(){var c=i,u=gE(n),h=[];e:{var p=ED.get(t);if(p!==void 0){var g=EE,w=t;switch(t){case"keypress":if(ym(n)===0)break e;case"keydown":case"keyup":g=z5;break;case"focusin":w="focus",g=fw;break;case"focusout":w="blur",g=fw;break;case"beforeblur":case"afterblur":g=fw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=LC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=N5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=H5;break;case yD:case wD:case xD:g=M5;break;case _D:g=G5;break;case"scroll":g=I5;break;case"wheel":g=Y5;break;case"copy":case"cut":case"paste":g=j5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=VC}var v=(e&4)!==0,x=!v&&t==="scroll",_=v?p!==null?p+"Capture":null:p;v=[];for(var y=c,b;y!==null;){b=y;var A=b.stateNode;if(b.tag===5&&A!==null&&(b=A,_!==null&&(A=vh(y,_),A!=null&&v.push(Sh(y,A,b)))),x)break;y=y.return}0<v.length&&(p=new g(p,w,null,n,u),h.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==G0&&(w=n.relatedTarget||n.fromElement)&&(Qa(w)||w[Qi]))break e;if((g||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=c,w=w?Qa(w):null,w!==null&&(x=Ol(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=c),g!==w)){if(v=LC,A="onMouseLeave",_="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=VC,A="onPointerLeave",_="onPointerEnter",y="pointer"),x=g==null?p:uc(g),b=w==null?p:uc(w),p=new v(A,y+"leave",g,n,u),p.target=x,p.relatedTarget=b,A=null,Qa(u)===c&&(v=new v(_,y+"enter",w,n,u),v.target=b,v.relatedTarget=x,A=v),x=A,g&&w)t:{for(v=g,_=w,y=0,b=v;b;b=Xl(b))y++;for(b=0,A=_;A;A=Xl(A))b++;for(;0<y-b;)v=Xl(v),y--;for(;0<b-y;)_=Xl(_),b--;for(;y--;){if(v===_||_!==null&&v===_.alternate)break t;v=Xl(v),_=Xl(_)}v=null}else v=null;g!==null&&YC(h,p,g,v,!1),w!==null&&x!==null&&YC(h,x,w,v,!0)}}e:{if(p=c?uc(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var P=r3;else if($C(p))if(fD)P=a3;else{P=i3;var O=s3}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=o3);if(P&&(P=P(t,c))){hD(h,P,n,u);break e}O&&O(t,p,c),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&z0(p,"number",p.value)}switch(O=c?uc(c):window,t){case"focusin":($C(O)||O.contentEditable==="true")&&(lc=O,tx=c,Kd=null);break;case"focusout":Kd=tx=lc=null;break;case"mousedown":nx=!0;break;case"contextmenu":case"mouseup":case"dragend":nx=!1,qC(h,n,u);break;case"selectionchange":if(u3)break;case"keydown":case"keyup":qC(h,n,u)}var T;if(SE)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ac?uD(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(cD&&n.locale!=="ko"&&(ac||E!=="onCompositionStart"?E==="onCompositionEnd"&&ac&&(T=lD()):(Ko=u,_E="value"in Ko?Ko.value:Ko.textContent,ac=!0)),O=ng(c,E),0<O.length&&(E=new FC(E,t,null,n,u),h.push({event:E,listeners:O}),T?E.data=T:(T=dD(n),T!==null&&(E.data=T)))),(T=J5?Z5(t,n):e3(t,n))&&(c=ng(c,"onBeforeInput"),0<c.length&&(u=new FC("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=T))}bD(h,e)})}function Sh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ng(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=vh(t,n),i!=null&&r.unshift(Sh(t,i,s)),i=vh(t,e),i!=null&&r.push(Sh(t,i,s))),t=t.return}return r}function Xl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function YC(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=vh(n,i),l!=null&&o.unshift(Sh(n,l,a))):s||(l=vh(n,i),l!=null&&o.push(Sh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var p3=/\r\n?/g,m3=/\u0000|\uFFFD/g;function XC(t){return(typeof t=="string"?t:""+t).replace(p3,`
`).replace(m3,"")}function Op(t,e,n){if(e=XC(e),XC(t)!==e&&n)throw Error(te(425))}function rg(){}var rx=null,sx=null;function ix(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ox=typeof setTimeout=="function"?setTimeout:void 0,g3=typeof clearTimeout=="function"?clearTimeout:void 0,JC=typeof Promise=="function"?Promise:void 0,v3=typeof queueMicrotask=="function"?queueMicrotask:typeof JC<"u"?function(t){return JC.resolve(null).then(t).catch(y3)}:ox;function y3(t){setTimeout(function(){throw t})}function _w(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),xh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);xh(e)}function Jo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ZC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Cu=Math.random().toString(36).slice(2),Zs="__reactFiber$"+Cu,Th="__reactProps$"+Cu,Qi="__reactContainer$"+Cu,ax="__reactEvents$"+Cu,w3="__reactListeners$"+Cu,x3="__reactHandles$"+Cu;function Qa(t){var e=t[Zs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qi]||n[Zs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ZC(t);t!==null;){if(n=t[Zs])return n;t=ZC(t)}return e}t=n,n=t.parentNode}return null}function bf(t){return t=t[Zs]||t[Qi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function uc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function _v(t){return t[Th]||null}var lx=[],dc=-1;function Ea(t){return{current:t}}function jt(t){0>dc||(t.current=lx[dc],lx[dc]=null,dc--)}function It(t,e){dc++,lx[dc]=t.current,t.current=e}var la={},or=Ea(la),Ir=Ea(!1),vl=la;function nu(t,e){var n=t.type.contextTypes;if(!n)return la;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Pr(t){return t=t.childContextTypes,t!=null}function sg(){jt(Ir),jt(or)}function eA(t,e,n){if(or.current!==la)throw Error(te(168));It(or,e),It(Ir,n)}function TD(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(te(108,s5(t)||"Unknown",s));return Gt({},n,r)}function ig(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||la,vl=or.current,It(or,t),It(Ir,Ir.current),!0}function tA(t,e,n){var r=t.stateNode;if(!r)throw Error(te(169));n?(t=TD(t,e,vl),r.__reactInternalMemoizedMergedChildContext=t,jt(Ir),jt(or),It(or,t)):jt(Ir),It(Ir,n)}var Ai=null,Ev=!1,Ew=!1;function CD(t){Ai===null?Ai=[t]:Ai.push(t)}function _3(t){Ev=!0,CD(t)}function ba(){if(!Ew&&Ai!==null){Ew=!0;var t=0,e=xt;try{var n=Ai;for(xt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ai=null,Ev=!1}catch(s){throw Ai!==null&&(Ai=Ai.slice(t+1)),XN(vE,ba),s}finally{xt=e,Ew=!1}}return null}var hc=[],fc=0,og=null,ag=0,fs=[],ps=0,yl=null,Ii=1,Pi="";function za(t,e){hc[fc++]=ag,hc[fc++]=og,og=t,ag=e}function AD(t,e,n){fs[ps++]=Ii,fs[ps++]=Pi,fs[ps++]=yl,yl=t;var r=Ii;t=Pi;var s=32-Fs(r)-1;r&=~(1<<s),n+=1;var i=32-Fs(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ii=1<<32-Fs(e)+s|n<<s|r,Pi=i+t}else Ii=1<<i|n<<s|r,Pi=t}function CE(t){t.return!==null&&(za(t,1),AD(t,1,0))}function AE(t){for(;t===og;)og=hc[--fc],hc[fc]=null,ag=hc[--fc],hc[fc]=null;for(;t===yl;)yl=fs[--ps],fs[ps]=null,Pi=fs[--ps],fs[ps]=null,Ii=fs[--ps],fs[ps]=null}var qr=null,Wr=null,Ut=!1,ks=null;function RD(t,e){var n=gs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function nA(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qr=t,Wr=Jo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qr=t,Wr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=yl!==null?{id:Ii,overflow:Pi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,qr=t,Wr=null,!0):!1;default:return!1}}function cx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ux(t){if(Ut){var e=Wr;if(e){var n=e;if(!nA(t,e)){if(cx(t))throw Error(te(418));e=Jo(n.nextSibling);var r=qr;e&&nA(t,e)?RD(r,n):(t.flags=t.flags&-4097|2,Ut=!1,qr=t)}}else{if(cx(t))throw Error(te(418));t.flags=t.flags&-4097|2,Ut=!1,qr=t}}}function rA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qr=t}function jp(t){if(t!==qr)return!1;if(!Ut)return rA(t),Ut=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ix(t.type,t.memoizedProps)),e&&(e=Wr)){if(cx(t))throw ID(),Error(te(418));for(;e;)RD(t,e),e=Jo(e.nextSibling)}if(rA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Wr=Jo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Wr=null}}else Wr=qr?Jo(t.stateNode.nextSibling):null;return!0}function ID(){for(var t=Wr;t;)t=Jo(t.nextSibling)}function ru(){Wr=qr=null,Ut=!1}function RE(t){ks===null?ks=[t]:ks.push(t)}var E3=oo.ReactCurrentBatchConfig;function hd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,t))}return t}function Lp(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sA(t){var e=t._init;return e(t._payload)}function PD(t){function e(_,y){if(t){var b=_.deletions;b===null?(_.deletions=[y],_.flags|=16):b.push(y)}}function n(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function r(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function s(_,y){return _=na(_,y),_.index=0,_.sibling=null,_}function i(_,y,b){return _.index=b,t?(b=_.alternate,b!==null?(b=b.index,b<y?(_.flags|=2,y):b):(_.flags|=2,y)):(_.flags|=1048576,y)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,y,b,A){return y===null||y.tag!==6?(y=Iw(b,_.mode,A),y.return=_,y):(y=s(y,b),y.return=_,y)}function l(_,y,b,A){var P=b.type;return P===oc?u(_,y,b.props.children,A,b.key):y!==null&&(y.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===So&&sA(P)===y.type)?(A=s(y,b.props),A.ref=hd(_,y,b),A.return=_,A):(A=Tm(b.type,b.key,b.props,null,_.mode,A),A.ref=hd(_,y,b),A.return=_,A)}function c(_,y,b,A){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Pw(b,_.mode,A),y.return=_,y):(y=s(y,b.children||[]),y.return=_,y)}function u(_,y,b,A,P){return y===null||y.tag!==7?(y=fl(b,_.mode,A,P),y.return=_,y):(y=s(y,b),y.return=_,y)}function h(_,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Iw(""+y,_.mode,b),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Cp:return b=Tm(y.type,y.key,y.props,null,_.mode,b),b.ref=hd(_,null,y),b.return=_,b;case ic:return y=Pw(y,_.mode,b),y.return=_,y;case So:var A=y._init;return h(_,A(y._payload),b)}if(Ad(y)||ad(y))return y=fl(y,_.mode,b,null),y.return=_,y;Lp(_,y)}return null}function p(_,y,b,A){var P=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return P!==null?null:a(_,y,""+b,A);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Cp:return b.key===P?l(_,y,b,A):null;case ic:return b.key===P?c(_,y,b,A):null;case So:return P=b._init,p(_,y,P(b._payload),A)}if(Ad(b)||ad(b))return P!==null?null:u(_,y,b,A,null);Lp(_,b)}return null}function g(_,y,b,A,P){if(typeof A=="string"&&A!==""||typeof A=="number")return _=_.get(b)||null,a(y,_,""+A,P);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Cp:return _=_.get(A.key===null?b:A.key)||null,l(y,_,A,P);case ic:return _=_.get(A.key===null?b:A.key)||null,c(y,_,A,P);case So:var O=A._init;return g(_,y,b,O(A._payload),P)}if(Ad(A)||ad(A))return _=_.get(b)||null,u(y,_,A,P,null);Lp(y,A)}return null}function w(_,y,b,A){for(var P=null,O=null,T=y,E=y=0,I=null;T!==null&&E<b.length;E++){T.index>E?(I=T,T=null):I=T.sibling;var R=p(_,T,b[E],A);if(R===null){T===null&&(T=I);break}t&&T&&R.alternate===null&&e(_,T),y=i(R,y,E),O===null?P=R:O.sibling=R,O=R,T=I}if(E===b.length)return n(_,T),Ut&&za(_,E),P;if(T===null){for(;E<b.length;E++)T=h(_,b[E],A),T!==null&&(y=i(T,y,E),O===null?P=T:O.sibling=T,O=T);return Ut&&za(_,E),P}for(T=r(_,T);E<b.length;E++)I=g(T,_,E,b[E],A),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?E:I.key),y=i(I,y,E),O===null?P=I:O.sibling=I,O=I);return t&&T.forEach(function(k){return e(_,k)}),Ut&&za(_,E),P}function v(_,y,b,A){var P=ad(b);if(typeof P!="function")throw Error(te(150));if(b=P.call(b),b==null)throw Error(te(151));for(var O=P=null,T=y,E=y=0,I=null,R=b.next();T!==null&&!R.done;E++,R=b.next()){T.index>E?(I=T,T=null):I=T.sibling;var k=p(_,T,R.value,A);if(k===null){T===null&&(T=I);break}t&&T&&k.alternate===null&&e(_,T),y=i(k,y,E),O===null?P=k:O.sibling=k,O=k,T=I}if(R.done)return n(_,T),Ut&&za(_,E),P;if(T===null){for(;!R.done;E++,R=b.next())R=h(_,R.value,A),R!==null&&(y=i(R,y,E),O===null?P=R:O.sibling=R,O=R);return Ut&&za(_,E),P}for(T=r(_,T);!R.done;E++,R=b.next())R=g(T,_,E,R.value,A),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?E:R.key),y=i(R,y,E),O===null?P=R:O.sibling=R,O=R);return t&&T.forEach(function(M){return e(_,M)}),Ut&&za(_,E),P}function x(_,y,b,A){if(typeof b=="object"&&b!==null&&b.type===oc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Cp:e:{for(var P=b.key,O=y;O!==null;){if(O.key===P){if(P=b.type,P===oc){if(O.tag===7){n(_,O.sibling),y=s(O,b.props.children),y.return=_,_=y;break e}}else if(O.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===So&&sA(P)===O.type){n(_,O.sibling),y=s(O,b.props),y.ref=hd(_,O,b),y.return=_,_=y;break e}n(_,O);break}else e(_,O);O=O.sibling}b.type===oc?(y=fl(b.props.children,_.mode,A,b.key),y.return=_,_=y):(A=Tm(b.type,b.key,b.props,null,_.mode,A),A.ref=hd(_,y,b),A.return=_,_=A)}return o(_);case ic:e:{for(O=b.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(_,y.sibling),y=s(y,b.children||[]),y.return=_,_=y;break e}else{n(_,y);break}else e(_,y);y=y.sibling}y=Pw(b,_.mode,A),y.return=_,_=y}return o(_);case So:return O=b._init,x(_,y,O(b._payload),A)}if(Ad(b))return w(_,y,b,A);if(ad(b))return v(_,y,b,A);Lp(_,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(_,y.sibling),y=s(y,b),y.return=_,_=y):(n(_,y),y=Iw(b,_.mode,A),y.return=_,_=y),o(_)):n(_,y)}return x}var su=PD(!0),ND=PD(!1),lg=Ea(null),cg=null,pc=null,IE=null;function PE(){IE=pc=cg=null}function NE(t){var e=lg.current;jt(lg),t._currentValue=e}function dx(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ic(t,e){cg=t,IE=pc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Cr=!0),t.firstContext=null)}function xs(t){var e=t._currentValue;if(IE!==t)if(t={context:t,memoizedValue:e,next:null},pc===null){if(cg===null)throw Error(te(308));pc=t,cg.dependencies={lanes:0,firstContext:t}}else pc=pc.next=t;return e}var Ya=null;function DE(t){Ya===null?Ya=[t]:Ya.push(t)}function DD(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,DE(e)):(n.next=s.next,s.next=n),e.interleaved=n,Yi(t,r)}function Yi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var To=!1;function kE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ct&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Yi(t,n)}return s=r.interleaved,s===null?(e.next=e,DE(r)):(e.next=s.next,s.next=e),r.interleaved=e,Yi(t,n)}function wm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yE(t,n)}}function iA(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ug(t,e,n,r){var s=t.updateQueue;To=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,u=c=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,v=a;switch(p=e,g=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){h=w.call(g,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,p=typeof w=="function"?w.call(g,h,p):w,p==null)break e;h=Gt({},h,p);break e;case 2:To=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,l=h):u=u.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);xl|=o,t.lanes=o,t.memoizedState=h}}function oA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(te(191,s));s.call(r)}}}var Sf={},ii=Ea(Sf),Ch=Ea(Sf),Ah=Ea(Sf);function Xa(t){if(t===Sf)throw Error(te(174));return t}function ME(t,e){switch(It(Ah,e),It(Ch,t),It(ii,Sf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:W0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=W0(e,t)}jt(ii),It(ii,e)}function iu(){jt(ii),jt(Ch),jt(Ah)}function MD(t){Xa(Ah.current);var e=Xa(ii.current),n=W0(e,t.type);e!==n&&(It(Ch,t),It(ii,n))}function OE(t){Ch.current===t&&(jt(ii),jt(Ch))}var Kt=Ea(0);function dg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bw=[];function jE(){for(var t=0;t<bw.length;t++)bw[t]._workInProgressVersionPrimary=null;bw.length=0}var xm=oo.ReactCurrentDispatcher,Sw=oo.ReactCurrentBatchConfig,wl=0,qt=null,_n=null,Nn=null,hg=!1,Wd=!1,Rh=0,b3=0;function Yn(){throw Error(te(321))}function LE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Bs(t[n],e[n]))return!1;return!0}function FE(t,e,n,r,s,i){if(wl=i,qt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xm.current=t===null||t.memoizedState===null?A3:R3,t=n(r,s),Wd){i=0;do{if(Wd=!1,Rh=0,25<=i)throw Error(te(301));i+=1,Nn=_n=null,e.updateQueue=null,xm.current=I3,t=n(r,s)}while(Wd)}if(xm.current=fg,e=_n!==null&&_n.next!==null,wl=0,Nn=_n=qt=null,hg=!1,e)throw Error(te(300));return t}function VE(){var t=Rh!==0;return Rh=0,t}function Gs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?qt.memoizedState=Nn=t:Nn=Nn.next=t,Nn}function _s(){if(_n===null){var t=qt.alternate;t=t!==null?t.memoizedState:null}else t=_n.next;var e=Nn===null?qt.memoizedState:Nn.next;if(e!==null)Nn=e,_n=t;else{if(t===null)throw Error(te(310));_n=t,t={memoizedState:_n.memoizedState,baseState:_n.baseState,baseQueue:_n.baseQueue,queue:_n.queue,next:null},Nn===null?qt.memoizedState=Nn=t:Nn=Nn.next=t}return Nn}function Ih(t,e){return typeof e=="function"?e(t):e}function Tw(t){var e=_s(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=_n,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((wl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,qt.lanes|=u,xl|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Bs(r,e.memoizedState)||(Cr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,qt.lanes|=i,xl|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Cw(t){var e=_s(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Bs(i,e.memoizedState)||(Cr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function OD(){}function jD(t,e){var n=qt,r=_s(),s=e(),i=!Bs(r.memoizedState,s);if(i&&(r.memoizedState=s,Cr=!0),r=r.queue,UE(VD.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Nn!==null&&Nn.memoizedState.tag&1){if(n.flags|=2048,Ph(9,FD.bind(null,n,r,s,e),void 0,null),kn===null)throw Error(te(349));wl&30||LD(n,e,s)}return s}function LD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qt.updateQueue,e===null?(e={lastEffect:null,stores:null},qt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function FD(t,e,n,r){e.value=n,e.getSnapshot=r,UD(e)&&BD(t)}function VD(t,e,n){return n(function(){UD(e)&&BD(t)})}function UD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Bs(t,n)}catch{return!0}}function BD(t){var e=Yi(t,1);e!==null&&Vs(e,t,1,-1)}function aA(t){var e=Gs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ih,lastRenderedState:t},e.queue=t,t=t.dispatch=C3.bind(null,qt,t),[e.memoizedState,t]}function Ph(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=qt.updateQueue,e===null?(e={lastEffect:null,stores:null},qt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function $D(){return _s().memoizedState}function _m(t,e,n,r){var s=Gs();qt.flags|=t,s.memoizedState=Ph(1|e,n,void 0,r===void 0?null:r)}function bv(t,e,n,r){var s=_s();r=r===void 0?null:r;var i=void 0;if(_n!==null){var o=_n.memoizedState;if(i=o.destroy,r!==null&&LE(r,o.deps)){s.memoizedState=Ph(e,n,i,r);return}}qt.flags|=t,s.memoizedState=Ph(1|e,n,i,r)}function lA(t,e){return _m(8390656,8,t,e)}function UE(t,e){return bv(2048,8,t,e)}function zD(t,e){return bv(4,2,t,e)}function KD(t,e){return bv(4,4,t,e)}function WD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function HD(t,e,n){return n=n!=null?n.concat([t]):null,bv(4,4,WD.bind(null,e,t),n)}function BE(){}function qD(t,e){var n=_s();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&LE(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function GD(t,e){var n=_s();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&LE(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function QD(t,e,n){return wl&21?(Bs(n,e)||(n=eD(),qt.lanes|=n,xl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Cr=!0),t.memoizedState=n)}function S3(t,e){var n=xt;xt=n!==0&&4>n?n:4,t(!0);var r=Sw.transition;Sw.transition={};try{t(!1),e()}finally{xt=n,Sw.transition=r}}function YD(){return _s().memoizedState}function T3(t,e,n){var r=ta(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},XD(t))JD(e,n);else if(n=DD(t,e,n,r),n!==null){var s=mr();Vs(n,t,r,s),ZD(n,e,r)}}function C3(t,e,n){var r=ta(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(XD(t))JD(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Bs(a,o)){var l=e.interleaved;l===null?(s.next=s,DE(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=DD(t,e,s,r),n!==null&&(s=mr(),Vs(n,t,r,s),ZD(n,e,r))}}function XD(t){var e=t.alternate;return t===qt||e!==null&&e===qt}function JD(t,e){Wd=hg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ZD(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yE(t,n)}}var fg={readContext:xs,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useInsertionEffect:Yn,useLayoutEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useMutableSource:Yn,useSyncExternalStore:Yn,useId:Yn,unstable_isNewReconciler:!1},A3={readContext:xs,useCallback:function(t,e){return Gs().memoizedState=[t,e===void 0?null:e],t},useContext:xs,useEffect:lA,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_m(4194308,4,WD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _m(4194308,4,t,e)},useInsertionEffect:function(t,e){return _m(4,2,t,e)},useMemo:function(t,e){var n=Gs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Gs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=T3.bind(null,qt,t),[r.memoizedState,t]},useRef:function(t){var e=Gs();return t={current:t},e.memoizedState=t},useState:aA,useDebugValue:BE,useDeferredValue:function(t){return Gs().memoizedState=t},useTransition:function(){var t=aA(!1),e=t[0];return t=S3.bind(null,t[1]),Gs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=qt,s=Gs();if(Ut){if(n===void 0)throw Error(te(407));n=n()}else{if(n=e(),kn===null)throw Error(te(349));wl&30||LD(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,lA(VD.bind(null,r,i,t),[t]),r.flags|=2048,Ph(9,FD.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Gs(),e=kn.identifierPrefix;if(Ut){var n=Pi,r=Ii;n=(r&~(1<<32-Fs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Rh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=b3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},R3={readContext:xs,useCallback:qD,useContext:xs,useEffect:UE,useImperativeHandle:HD,useInsertionEffect:zD,useLayoutEffect:KD,useMemo:GD,useReducer:Tw,useRef:$D,useState:function(){return Tw(Ih)},useDebugValue:BE,useDeferredValue:function(t){var e=_s();return QD(e,_n.memoizedState,t)},useTransition:function(){var t=Tw(Ih)[0],e=_s().memoizedState;return[t,e]},useMutableSource:OD,useSyncExternalStore:jD,useId:YD,unstable_isNewReconciler:!1},I3={readContext:xs,useCallback:qD,useContext:xs,useEffect:UE,useImperativeHandle:HD,useInsertionEffect:zD,useLayoutEffect:KD,useMemo:GD,useReducer:Cw,useRef:$D,useState:function(){return Cw(Ih)},useDebugValue:BE,useDeferredValue:function(t){var e=_s();return _n===null?e.memoizedState=t:QD(e,_n.memoizedState,t)},useTransition:function(){var t=Cw(Ih)[0],e=_s().memoizedState;return[t,e]},useMutableSource:OD,useSyncExternalStore:jD,useId:YD,unstable_isNewReconciler:!1};function Is(t,e){if(t&&t.defaultProps){e=Gt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function hx(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Gt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sv={isMounted:function(t){return(t=t._reactInternals)?Ol(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=mr(),s=ta(t),i=Fi(r,s);i.payload=e,n!=null&&(i.callback=n),e=Zo(t,i,s),e!==null&&(Vs(e,t,s,r),wm(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=mr(),s=ta(t),i=Fi(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Zo(t,i,s),e!==null&&(Vs(e,t,s,r),wm(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=mr(),r=ta(t),s=Fi(n,r);s.tag=2,e!=null&&(s.callback=e),e=Zo(t,s,r),e!==null&&(Vs(e,t,r,n),wm(e,t,r))}};function cA(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Eh(n,r)||!Eh(s,i):!0}function ek(t,e,n){var r=!1,s=la,i=e.contextType;return typeof i=="object"&&i!==null?i=xs(i):(s=Pr(e)?vl:or.current,r=e.contextTypes,i=(r=r!=null)?nu(t,s):la),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function uA(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sv.enqueueReplaceState(e,e.state,null)}function fx(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},kE(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=xs(i):(i=Pr(e)?vl:or.current,s.context=nu(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(hx(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Sv.enqueueReplaceState(s,s.state,null),ug(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ou(t,e){try{var n="",r=e;do n+=r5(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Aw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function px(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var P3=typeof WeakMap=="function"?WeakMap:Map;function tk(t,e,n){n=Fi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){mg||(mg=!0,Sx=r),px(t,e)},n}function nk(t,e,n){n=Fi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){px(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){px(t,e),typeof r!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function dA(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new P3;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=K3.bind(null,t,e,n),e.then(t,t))}function hA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fA(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Fi(-1,1),e.tag=2,Zo(n,e,1))),n.lanes|=1),t)}var N3=oo.ReactCurrentOwner,Cr=!1;function fr(t,e,n,r){e.child=t===null?ND(e,null,n,r):su(e,t.child,n,r)}function pA(t,e,n,r,s){n=n.render;var i=e.ref;return Ic(e,s),r=FE(t,e,n,r,i,s),n=VE(),t!==null&&!Cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Xi(t,e,s)):(Ut&&n&&CE(e),e.flags|=1,fr(t,e,r,s),e.child)}function mA(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!QE(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,rk(t,e,i,r,s)):(t=Tm(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Eh,n(o,r)&&t.ref===e.ref)return Xi(t,e,s)}return e.flags|=1,t=na(i,r),t.ref=e.ref,t.return=e,e.child=t}function rk(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Eh(i,r)&&t.ref===e.ref)if(Cr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Cr=!0);else return e.lanes=t.lanes,Xi(t,e,s)}return mx(t,e,n,r,s)}function sk(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},It(gc,$r),$r|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,It(gc,$r),$r|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,It(gc,$r),$r|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,It(gc,$r),$r|=r;return fr(t,e,s,n),e.child}function ik(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function mx(t,e,n,r,s){var i=Pr(n)?vl:or.current;return i=nu(e,i),Ic(e,s),n=FE(t,e,n,r,i,s),r=VE(),t!==null&&!Cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Xi(t,e,s)):(Ut&&r&&CE(e),e.flags|=1,fr(t,e,n,s),e.child)}function gA(t,e,n,r,s){if(Pr(n)){var i=!0;ig(e)}else i=!1;if(Ic(e,s),e.stateNode===null)Em(t,e),ek(e,n,r),fx(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=xs(c):(c=Pr(n)?vl:or.current,c=nu(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&uA(e,o,r,c),To=!1;var p=e.memoizedState;o.state=p,ug(e,r,o,s),l=e.memoizedState,a!==r||p!==l||Ir.current||To?(typeof u=="function"&&(hx(e,n,u,r),l=e.memoizedState),(a=To||cA(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,kD(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Is(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=xs(l):(l=Pr(n)?vl:or.current,l=nu(e,l));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&uA(e,o,r,l),To=!1,p=e.memoizedState,o.state=p,ug(e,r,o,s);var w=e.memoizedState;a!==h||p!==w||Ir.current||To?(typeof g=="function"&&(hx(e,n,g,r),w=e.memoizedState),(c=To||cA(e,n,c,r,p,w,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return gx(t,e,n,r,i,s)}function gx(t,e,n,r,s,i){ik(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&tA(e,n,!1),Xi(t,e,i);r=e.stateNode,N3.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=su(e,t.child,null,i),e.child=su(e,null,a,i)):fr(t,e,a,i),e.memoizedState=r.state,s&&tA(e,n,!0),e.child}function ok(t){var e=t.stateNode;e.pendingContext?eA(t,e.pendingContext,e.pendingContext!==e.context):e.context&&eA(t,e.context,!1),ME(t,e.containerInfo)}function vA(t,e,n,r,s){return ru(),RE(s),e.flags|=256,fr(t,e,n,r),e.child}var vx={dehydrated:null,treeContext:null,retryLane:0};function yx(t){return{baseLanes:t,cachePool:null,transitions:null}}function ak(t,e,n){var r=e.pendingProps,s=Kt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),It(Kt,s&1),t===null)return ux(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Av(o,r,0,null),t=fl(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=yx(n),e.memoizedState=vx,t):$E(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return D3(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=na(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=na(a,i):(i=fl(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?yx(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=vx,r}return i=t.child,t=i.sibling,r=na(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $E(t,e){return e=Av({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fp(t,e,n,r){return r!==null&&RE(r),su(e,t.child,null,n),t=$E(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function D3(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Aw(Error(te(422))),Fp(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Av({mode:"visible",children:r.children},s,0,null),i=fl(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&su(e,t.child,null,o),e.child.memoizedState=yx(o),e.memoizedState=vx,i);if(!(e.mode&1))return Fp(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(te(419)),r=Aw(i,r,void 0),Fp(t,e,o,r)}if(a=(o&t.childLanes)!==0,Cr||a){if(r=kn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Yi(t,s),Vs(r,t,s,-1))}return GE(),r=Aw(Error(te(421))),Fp(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=W3.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Wr=Jo(s.nextSibling),qr=e,Ut=!0,ks=null,t!==null&&(fs[ps++]=Ii,fs[ps++]=Pi,fs[ps++]=yl,Ii=t.id,Pi=t.overflow,yl=e),e=$E(e,r.children),e.flags|=4096,e)}function yA(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),dx(t.return,e,n)}function Rw(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function lk(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(fr(t,e,r.children,n),r=Kt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yA(t,n,e);else if(t.tag===19)yA(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(It(Kt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&dg(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Rw(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&dg(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Rw(e,!0,n,null,i);break;case"together":Rw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Em(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),xl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,n=na(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=na(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function k3(t,e,n){switch(e.tag){case 3:ok(e),ru();break;case 5:MD(e);break;case 1:Pr(e.type)&&ig(e);break;case 4:ME(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;It(lg,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(It(Kt,Kt.current&1),e.flags|=128,null):n&e.child.childLanes?ak(t,e,n):(It(Kt,Kt.current&1),t=Xi(t,e,n),t!==null?t.sibling:null);It(Kt,Kt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return lk(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),It(Kt,Kt.current),r)break;return null;case 22:case 23:return e.lanes=0,sk(t,e,n)}return Xi(t,e,n)}var ck,wx,uk,dk;ck=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wx=function(){};uk=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Xa(ii.current);var i=null;switch(n){case"input":s=B0(t,s),r=B0(t,r),i=[];break;case"select":s=Gt({},s,{value:void 0}),r=Gt({},r,{value:void 0}),i=[];break;case"textarea":s=K0(t,s),r=K0(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=rg)}H0(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(mh.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(mh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ot("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};dk=function(t,e,n,r){n!==r&&(e.flags|=4)};function fd(t,e){if(!Ut)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function M3(t,e,n){var r=e.pendingProps;switch(AE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xn(e),null;case 1:return Pr(e.type)&&sg(),Xn(e),null;case 3:return r=e.stateNode,iu(),jt(Ir),jt(or),jE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(jp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ks!==null&&(Ax(ks),ks=null))),wx(t,e),Xn(e),null;case 5:OE(e);var s=Xa(Ah.current);if(n=e.type,t!==null&&e.stateNode!=null)uk(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(te(166));return Xn(e),null}if(t=Xa(ii.current),jp(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Zs]=e,r[Th]=i,t=(e.mode&1)!==0,n){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(s=0;s<Id.length;s++)Ot(Id[s],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":AC(r,i),Ot("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ot("invalid",r);break;case"textarea":IC(r,i),Ot("invalid",r)}H0(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Op(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Op(r.textContent,a,t),s=["children",""+a]):mh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ot("scroll",r)}switch(n){case"input":Ap(r),RC(r,i,!0);break;case"textarea":Ap(r),PC(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=rg)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=VN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Zs]=e,t[Th]=r,ck(t,e,!1,!1),e.stateNode=t;e:{switch(o=q0(n,r),n){case"dialog":Ot("cancel",t),Ot("close",t),s=r;break;case"iframe":case"object":case"embed":Ot("load",t),s=r;break;case"video":case"audio":for(s=0;s<Id.length;s++)Ot(Id[s],t);s=r;break;case"source":Ot("error",t),s=r;break;case"img":case"image":case"link":Ot("error",t),Ot("load",t),s=r;break;case"details":Ot("toggle",t),s=r;break;case"input":AC(t,r),s=B0(t,r),Ot("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Gt({},r,{value:void 0}),Ot("invalid",t);break;case"textarea":IC(t,r),s=K0(t,r),Ot("invalid",t);break;default:s=r}H0(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?$N(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&UN(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&gh(t,l):typeof l=="number"&&gh(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(mh.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ot("scroll",t):l!=null&&hE(t,i,l,o))}switch(n){case"input":Ap(t),RC(t,r,!1);break;case"textarea":Ap(t),PC(t);break;case"option":r.value!=null&&t.setAttribute("value",""+aa(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Tc(t,!!r.multiple,i,!1):r.defaultValue!=null&&Tc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=rg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xn(e),null;case 6:if(t&&e.stateNode!=null)dk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(te(166));if(n=Xa(Ah.current),Xa(ii.current),jp(e)){if(r=e.stateNode,n=e.memoizedProps,r[Zs]=e,(i=r.nodeValue!==n)&&(t=qr,t!==null))switch(t.tag){case 3:Op(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Op(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zs]=e,e.stateNode=r}return Xn(e),null;case 13:if(jt(Kt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ut&&Wr!==null&&e.mode&1&&!(e.flags&128))ID(),ru(),e.flags|=98560,i=!1;else if(i=jp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(te(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(te(317));i[Zs]=e}else ru(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xn(e),i=!1}else ks!==null&&(Ax(ks),ks=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Kt.current&1?Tn===0&&(Tn=3):GE())),e.updateQueue!==null&&(e.flags|=4),Xn(e),null);case 4:return iu(),wx(t,e),t===null&&bh(e.stateNode.containerInfo),Xn(e),null;case 10:return NE(e.type._context),Xn(e),null;case 17:return Pr(e.type)&&sg(),Xn(e),null;case 19:if(jt(Kt),i=e.memoizedState,i===null)return Xn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)fd(i,!1);else{if(Tn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=dg(t),o!==null){for(e.flags|=128,fd(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return It(Kt,Kt.current&1|2),e.child}t=t.sibling}i.tail!==null&&an()>au&&(e.flags|=128,r=!0,fd(i,!1),e.lanes=4194304)}else{if(!r)if(t=dg(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ut)return Xn(e),null}else 2*an()-i.renderingStartTime>au&&n!==1073741824&&(e.flags|=128,r=!0,fd(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=an(),e.sibling=null,n=Kt.current,It(Kt,r?n&1|2:n&1),e):(Xn(e),null);case 22:case 23:return qE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$r&1073741824&&(Xn(e),e.subtreeFlags&6&&(e.flags|=8192)):Xn(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function O3(t,e){switch(AE(e),e.tag){case 1:return Pr(e.type)&&sg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return iu(),jt(Ir),jt(or),jE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return OE(e),null;case 13:if(jt(Kt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));ru()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return jt(Kt),null;case 4:return iu(),null;case 10:return NE(e.type._context),null;case 22:case 23:return qE(),null;case 24:return null;default:return null}}var Vp=!1,nr=!1,j3=typeof WeakSet=="function"?WeakSet:Set,ge=null;function mc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Zt(t,e,r)}else n.current=null}function xx(t,e,n){try{n()}catch(r){Zt(t,e,r)}}var wA=!1;function L3(t,e){if(rx=eg,t=gD(),TE(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,p=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++u===r&&(l=o),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(sx={focusedElem:t,selectionRange:n},eg=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,x=w.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?v:Is(e.type,v),x);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(A){Zt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return w=wA,wA=!1,w}function Hd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&xx(e,n,i)}s=s.next}while(s!==r)}}function Tv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function _x(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function hk(t){var e=t.alternate;e!==null&&(t.alternate=null,hk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Zs],delete e[Th],delete e[ax],delete e[w3],delete e[x3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fk(t){return t.tag===5||t.tag===3||t.tag===4}function xA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ex(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=rg));else if(r!==4&&(t=t.child,t!==null))for(Ex(t,e,n),t=t.sibling;t!==null;)Ex(t,e,n),t=t.sibling}function bx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(bx(t,e,n),t=t.sibling;t!==null;)bx(t,e,n),t=t.sibling}var Fn=null,Ns=!1;function go(t,e,n){for(n=n.child;n!==null;)pk(t,e,n),n=n.sibling}function pk(t,e,n){if(si&&typeof si.onCommitFiberUnmount=="function")try{si.onCommitFiberUnmount(vv,n)}catch{}switch(n.tag){case 5:nr||mc(n,e);case 6:var r=Fn,s=Ns;Fn=null,go(t,e,n),Fn=r,Ns=s,Fn!==null&&(Ns?(t=Fn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Fn.removeChild(n.stateNode));break;case 18:Fn!==null&&(Ns?(t=Fn,n=n.stateNode,t.nodeType===8?_w(t.parentNode,n):t.nodeType===1&&_w(t,n),xh(t)):_w(Fn,n.stateNode));break;case 4:r=Fn,s=Ns,Fn=n.stateNode.containerInfo,Ns=!0,go(t,e,n),Fn=r,Ns=s;break;case 0:case 11:case 14:case 15:if(!nr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&xx(n,e,o),s=s.next}while(s!==r)}go(t,e,n);break;case 1:if(!nr&&(mc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Zt(n,e,a)}go(t,e,n);break;case 21:go(t,e,n);break;case 22:n.mode&1?(nr=(r=nr)||n.memoizedState!==null,go(t,e,n),nr=r):go(t,e,n);break;default:go(t,e,n)}}function _A(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new j3),e.forEach(function(r){var s=H3.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function As(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Fn=a.stateNode,Ns=!1;break e;case 3:Fn=a.stateNode.containerInfo,Ns=!0;break e;case 4:Fn=a.stateNode.containerInfo,Ns=!0;break e}a=a.return}if(Fn===null)throw Error(te(160));pk(i,o,s),Fn=null,Ns=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Zt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mk(e,t),e=e.sibling}function mk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(As(e,t),qs(t),r&4){try{Hd(3,t,t.return),Tv(3,t)}catch(v){Zt(t,t.return,v)}try{Hd(5,t,t.return)}catch(v){Zt(t,t.return,v)}}break;case 1:As(e,t),qs(t),r&512&&n!==null&&mc(n,n.return);break;case 5:if(As(e,t),qs(t),r&512&&n!==null&&mc(n,n.return),t.flags&32){var s=t.stateNode;try{gh(s,"")}catch(v){Zt(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&LN(s,i),q0(a,o);var c=q0(a,i);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?$N(s,h):u==="dangerouslySetInnerHTML"?UN(s,h):u==="children"?gh(s,h):hE(s,u,h,c)}switch(a){case"input":$0(s,i);break;case"textarea":FN(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Tc(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?Tc(s,!!i.multiple,i.defaultValue,!0):Tc(s,!!i.multiple,i.multiple?[]:"",!1))}s[Th]=i}catch(v){Zt(t,t.return,v)}}break;case 6:if(As(e,t),qs(t),r&4){if(t.stateNode===null)throw Error(te(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Zt(t,t.return,v)}}break;case 3:if(As(e,t),qs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xh(e.containerInfo)}catch(v){Zt(t,t.return,v)}break;case 4:As(e,t),qs(t);break;case 13:As(e,t),qs(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(WE=an())),r&4&&_A(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(nr=(c=nr)||u,As(e,t),nr=c):As(e,t),qs(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ge=t,u=t.child;u!==null;){for(h=ge=u;ge!==null;){switch(p=ge,g=p.child,p.tag){case 0:case 11:case 14:case 15:Hd(4,p,p.return);break;case 1:mc(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){Zt(r,n,v)}}break;case 5:mc(p,p.return);break;case 22:if(p.memoizedState!==null){bA(h);continue}}g!==null?(g.return=p,ge=g):bA(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=BN("display",o))}catch(v){Zt(t,t.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){Zt(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:As(e,t),qs(t),r&4&&_A(t);break;case 21:break;default:As(e,t),qs(t)}}function qs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fk(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(gh(s,""),r.flags&=-33);var i=xA(t);bx(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=xA(t);Ex(t,a,o);break;default:throw Error(te(161))}}catch(l){Zt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function F3(t,e,n){ge=t,gk(t)}function gk(t,e,n){for(var r=(t.mode&1)!==0;ge!==null;){var s=ge,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Vp;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||nr;a=Vp;var c=nr;if(Vp=o,(nr=l)&&!c)for(ge=s;ge!==null;)o=ge,l=o.child,o.tag===22&&o.memoizedState!==null?SA(s):l!==null?(l.return=o,ge=l):SA(s);for(;i!==null;)ge=i,gk(i),i=i.sibling;ge=s,Vp=a,nr=c}EA(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ge=i):EA(t)}}function EA(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nr||Tv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nr)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Is(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&oA(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}oA(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&xh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}nr||e.flags&512&&_x(e)}catch(p){Zt(e,e.return,p)}}if(e===t){ge=null;break}if(n=e.sibling,n!==null){n.return=e.return,ge=n;break}ge=e.return}}function bA(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ge=n;break}ge=e.return}}function SA(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Tv(4,e)}catch(l){Zt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Zt(e,s,l)}}var i=e.return;try{_x(e)}catch(l){Zt(e,i,l)}break;case 5:var o=e.return;try{_x(e)}catch(l){Zt(e,o,l)}}}catch(l){Zt(e,e.return,l)}if(e===t){ge=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ge=a;break}ge=e.return}}var V3=Math.ceil,pg=oo.ReactCurrentDispatcher,zE=oo.ReactCurrentOwner,vs=oo.ReactCurrentBatchConfig,ct=0,kn=null,pn=null,$n=0,$r=0,gc=Ea(0),Tn=0,Nh=null,xl=0,Cv=0,KE=0,qd=null,Tr=null,WE=0,au=1/0,Ci=null,mg=!1,Sx=null,ea=null,Up=!1,Wo=null,gg=0,Gd=0,Tx=null,bm=-1,Sm=0;function mr(){return ct&6?an():bm!==-1?bm:bm=an()}function ta(t){return t.mode&1?ct&2&&$n!==0?$n&-$n:E3.transition!==null?(Sm===0&&(Sm=eD()),Sm):(t=xt,t!==0||(t=window.event,t=t===void 0?16:aD(t.type)),t):1}function Vs(t,e,n,r){if(50<Gd)throw Gd=0,Tx=null,Error(te(185));_f(t,n,r),(!(ct&2)||t!==kn)&&(t===kn&&(!(ct&2)&&(Cv|=n),Tn===4&&Ro(t,$n)),Nr(t,r),n===1&&ct===0&&!(e.mode&1)&&(au=an()+500,Ev&&ba()))}function Nr(t,e){var n=t.callbackNode;E5(t,e);var r=Zm(t,t===kn?$n:0);if(r===0)n!==null&&kC(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&kC(n),e===1)t.tag===0?_3(TA.bind(null,t)):CD(TA.bind(null,t)),v3(function(){!(ct&6)&&ba()}),n=null;else{switch(tD(r)){case 1:n=vE;break;case 4:n=JN;break;case 16:n=Jm;break;case 536870912:n=ZN;break;default:n=Jm}n=Sk(n,vk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vk(t,e){if(bm=-1,Sm=0,ct&6)throw Error(te(327));var n=t.callbackNode;if(Pc()&&t.callbackNode!==n)return null;var r=Zm(t,t===kn?$n:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=vg(t,r);else{e=r;var s=ct;ct|=2;var i=wk();(kn!==t||$n!==e)&&(Ci=null,au=an()+500,hl(t,e));do try{$3();break}catch(a){yk(t,a)}while(!0);PE(),pg.current=i,ct=s,pn!==null?e=0:(kn=null,$n=0,e=Tn)}if(e!==0){if(e===2&&(s=J0(t),s!==0&&(r=s,e=Cx(t,s))),e===1)throw n=Nh,hl(t,0),Ro(t,r),Nr(t,an()),n;if(e===6)Ro(t,r);else{if(s=t.current.alternate,!(r&30)&&!U3(s)&&(e=vg(t,r),e===2&&(i=J0(t),i!==0&&(r=i,e=Cx(t,i))),e===1))throw n=Nh,hl(t,0),Ro(t,r),Nr(t,an()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(te(345));case 2:Ka(t,Tr,Ci);break;case 3:if(Ro(t,r),(r&130023424)===r&&(e=WE+500-an(),10<e)){if(Zm(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){mr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ox(Ka.bind(null,t,Tr,Ci),e);break}Ka(t,Tr,Ci);break;case 4:if(Ro(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Fs(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=an()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*V3(r/1960))-r,10<r){t.timeoutHandle=ox(Ka.bind(null,t,Tr,Ci),r);break}Ka(t,Tr,Ci);break;case 5:Ka(t,Tr,Ci);break;default:throw Error(te(329))}}}return Nr(t,an()),t.callbackNode===n?vk.bind(null,t):null}function Cx(t,e){var n=qd;return t.current.memoizedState.isDehydrated&&(hl(t,e).flags|=256),t=vg(t,e),t!==2&&(e=Tr,Tr=n,e!==null&&Ax(e)),t}function Ax(t){Tr===null?Tr=t:Tr.push.apply(Tr,t)}function U3(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Bs(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ro(t,e){for(e&=~KE,e&=~Cv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Fs(e),r=1<<n;t[n]=-1,e&=~r}}function TA(t){if(ct&6)throw Error(te(327));Pc();var e=Zm(t,0);if(!(e&1))return Nr(t,an()),null;var n=vg(t,e);if(t.tag!==0&&n===2){var r=J0(t);r!==0&&(e=r,n=Cx(t,r))}if(n===1)throw n=Nh,hl(t,0),Ro(t,e),Nr(t,an()),n;if(n===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ka(t,Tr,Ci),Nr(t,an()),null}function HE(t,e){var n=ct;ct|=1;try{return t(e)}finally{ct=n,ct===0&&(au=an()+500,Ev&&ba())}}function _l(t){Wo!==null&&Wo.tag===0&&!(ct&6)&&Pc();var e=ct;ct|=1;var n=vs.transition,r=xt;try{if(vs.transition=null,xt=1,t)return t()}finally{xt=r,vs.transition=n,ct=e,!(ct&6)&&ba()}}function qE(){$r=gc.current,jt(gc)}function hl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,g3(n)),pn!==null)for(n=pn.return;n!==null;){var r=n;switch(AE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sg();break;case 3:iu(),jt(Ir),jt(or),jE();break;case 5:OE(r);break;case 4:iu();break;case 13:jt(Kt);break;case 19:jt(Kt);break;case 10:NE(r.type._context);break;case 22:case 23:qE()}n=n.return}if(kn=t,pn=t=na(t.current,null),$n=$r=e,Tn=0,Nh=null,KE=Cv=xl=0,Tr=qd=null,Ya!==null){for(e=0;e<Ya.length;e++)if(n=Ya[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ya=null}return t}function yk(t,e){do{var n=pn;try{if(PE(),xm.current=fg,hg){for(var r=qt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}hg=!1}if(wl=0,Nn=_n=qt=null,Wd=!1,Rh=0,zE.current=null,n===null||n.return===null){Tn=1,Nh=e,pn=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=$n,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=hA(o);if(g!==null){g.flags&=-257,fA(g,o,a,i,e),g.mode&1&&dA(i,c,e),e=g,l=c;var w=e.updateQueue;if(w===null){var v=new Set;v.add(l),e.updateQueue=v}else w.add(l);break e}else{if(!(e&1)){dA(i,c,e),GE();break e}l=Error(te(426))}}else if(Ut&&a.mode&1){var x=hA(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),fA(x,o,a,i,e),RE(ou(l,a));break e}}i=l=ou(l,a),Tn!==4&&(Tn=2),qd===null?qd=[i]:qd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=tk(i,l,e);iA(i,_);break e;case 1:a=l;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ea===null||!ea.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=nk(i,a,e);iA(i,A);break e}}i=i.return}while(i!==null)}_k(n)}catch(P){e=P,pn===n&&n!==null&&(pn=n=n.return);continue}break}while(!0)}function wk(){var t=pg.current;return pg.current=fg,t===null?fg:t}function GE(){(Tn===0||Tn===3||Tn===2)&&(Tn=4),kn===null||!(xl&268435455)&&!(Cv&268435455)||Ro(kn,$n)}function vg(t,e){var n=ct;ct|=2;var r=wk();(kn!==t||$n!==e)&&(Ci=null,hl(t,e));do try{B3();break}catch(s){yk(t,s)}while(!0);if(PE(),ct=n,pg.current=r,pn!==null)throw Error(te(261));return kn=null,$n=0,Tn}function B3(){for(;pn!==null;)xk(pn)}function $3(){for(;pn!==null&&!f5();)xk(pn)}function xk(t){var e=bk(t.alternate,t,$r);t.memoizedProps=t.pendingProps,e===null?_k(t):pn=e,zE.current=null}function _k(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=O3(n,e),n!==null){n.flags&=32767,pn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Tn=6,pn=null;return}}else if(n=M3(n,e,$r),n!==null){pn=n;return}if(e=e.sibling,e!==null){pn=e;return}pn=e=t}while(e!==null);Tn===0&&(Tn=5)}function Ka(t,e,n){var r=xt,s=vs.transition;try{vs.transition=null,xt=1,z3(t,e,n,r)}finally{vs.transition=s,xt=r}return null}function z3(t,e,n,r){do Pc();while(Wo!==null);if(ct&6)throw Error(te(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(b5(t,i),t===kn&&(pn=kn=null,$n=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Up||(Up=!0,Sk(Jm,function(){return Pc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=vs.transition,vs.transition=null;var o=xt;xt=1;var a=ct;ct|=4,zE.current=null,L3(t,n),mk(n,t),c3(sx),eg=!!rx,sx=rx=null,t.current=n,F3(n),p5(),ct=a,xt=o,vs.transition=i}else t.current=n;if(Up&&(Up=!1,Wo=t,gg=s),i=t.pendingLanes,i===0&&(ea=null),v5(n.stateNode),Nr(t,an()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(mg)throw mg=!1,t=Sx,Sx=null,t;return gg&1&&t.tag!==0&&Pc(),i=t.pendingLanes,i&1?t===Tx?Gd++:(Gd=0,Tx=t):Gd=0,ba(),null}function Pc(){if(Wo!==null){var t=tD(gg),e=vs.transition,n=xt;try{if(vs.transition=null,xt=16>t?16:t,Wo===null)var r=!1;else{if(t=Wo,Wo=null,gg=0,ct&6)throw Error(te(331));var s=ct;for(ct|=4,ge=t.current;ge!==null;){var i=ge,o=i.child;if(ge.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ge=c;ge!==null;){var u=ge;switch(u.tag){case 0:case 11:case 15:Hd(8,u,i)}var h=u.child;if(h!==null)h.return=u,ge=h;else for(;ge!==null;){u=ge;var p=u.sibling,g=u.return;if(hk(u),u===c){ge=null;break}if(p!==null){p.return=g,ge=p;break}ge=g}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}ge=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ge=o;else e:for(;ge!==null;){if(i=ge,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Hd(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,ge=_;break e}ge=i.return}}var y=t.current;for(ge=y;ge!==null;){o=ge;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ge=b;else e:for(o=y;ge!==null;){if(a=ge,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Tv(9,a)}}catch(P){Zt(a,a.return,P)}if(a===o){ge=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,ge=A;break e}ge=a.return}}if(ct=s,ba(),si&&typeof si.onPostCommitFiberRoot=="function")try{si.onPostCommitFiberRoot(vv,t)}catch{}r=!0}return r}finally{xt=n,vs.transition=e}}return!1}function CA(t,e,n){e=ou(n,e),e=tk(t,e,1),t=Zo(t,e,1),e=mr(),t!==null&&(_f(t,1,e),Nr(t,e))}function Zt(t,e,n){if(t.tag===3)CA(t,t,n);else for(;e!==null;){if(e.tag===3){CA(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ea===null||!ea.has(r))){t=ou(n,t),t=nk(e,t,1),e=Zo(e,t,1),t=mr(),e!==null&&(_f(e,1,t),Nr(e,t));break}}e=e.return}}function K3(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=mr(),t.pingedLanes|=t.suspendedLanes&n,kn===t&&($n&n)===n&&(Tn===4||Tn===3&&($n&130023424)===$n&&500>an()-WE?hl(t,0):KE|=n),Nr(t,e)}function Ek(t,e){e===0&&(t.mode&1?(e=Pp,Pp<<=1,!(Pp&130023424)&&(Pp=4194304)):e=1);var n=mr();t=Yi(t,e),t!==null&&(_f(t,e,n),Nr(t,n))}function W3(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ek(t,n)}function H3(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(e),Ek(t,n)}var bk;bk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ir.current)Cr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Cr=!1,k3(t,e,n);Cr=!!(t.flags&131072)}else Cr=!1,Ut&&e.flags&1048576&&AD(e,ag,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Em(t,e),t=e.pendingProps;var s=nu(e,or.current);Ic(e,n),s=FE(null,e,r,t,s,n);var i=VE();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pr(r)?(i=!0,ig(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,kE(e),s.updater=Sv,e.stateNode=s,s._reactInternals=e,fx(e,r,t,n),e=gx(null,e,r,!0,i,n)):(e.tag=0,Ut&&i&&CE(e),fr(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Em(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=G3(r),t=Is(r,t),s){case 0:e=mx(null,e,r,t,n);break e;case 1:e=gA(null,e,r,t,n);break e;case 11:e=pA(null,e,r,t,n);break e;case 14:e=mA(null,e,r,Is(r.type,t),n);break e}throw Error(te(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Is(r,s),mx(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Is(r,s),gA(t,e,r,s,n);case 3:e:{if(ok(e),t===null)throw Error(te(387));r=e.pendingProps,i=e.memoizedState,s=i.element,kD(t,e),ug(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ou(Error(te(423)),e),e=vA(t,e,r,n,s);break e}else if(r!==s){s=ou(Error(te(424)),e),e=vA(t,e,r,n,s);break e}else for(Wr=Jo(e.stateNode.containerInfo.firstChild),qr=e,Ut=!0,ks=null,n=ND(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ru(),r===s){e=Xi(t,e,n);break e}fr(t,e,r,n)}e=e.child}return e;case 5:return MD(e),t===null&&ux(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,ix(r,s)?o=null:i!==null&&ix(r,i)&&(e.flags|=32),ik(t,e),fr(t,e,o,n),e.child;case 6:return t===null&&ux(e),null;case 13:return ak(t,e,n);case 4:return ME(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=su(e,null,r,n):fr(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Is(r,s),pA(t,e,r,s,n);case 7:return fr(t,e,e.pendingProps,n),e.child;case 8:return fr(t,e,e.pendingProps.children,n),e.child;case 12:return fr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,It(lg,r._currentValue),r._currentValue=o,i!==null)if(Bs(i.value,o)){if(i.children===s.children&&!Ir.current){e=Xi(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Fi(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),dx(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(te(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),dx(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}fr(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ic(e,n),s=xs(s),r=r(s),e.flags|=1,fr(t,e,r,n),e.child;case 14:return r=e.type,s=Is(r,e.pendingProps),s=Is(r.type,s),mA(t,e,r,s,n);case 15:return rk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Is(r,s),Em(t,e),e.tag=1,Pr(r)?(t=!0,ig(e)):t=!1,Ic(e,n),ek(e,r,s),fx(e,r,s,n),gx(null,e,r,!0,t,n);case 19:return lk(t,e,n);case 22:return sk(t,e,n)}throw Error(te(156,e.tag))};function Sk(t,e){return XN(t,e)}function q3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gs(t,e,n,r){return new q3(t,e,n,r)}function QE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function G3(t){if(typeof t=="function")return QE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===pE)return 11;if(t===mE)return 14}return 2}function na(t,e){var n=t.alternate;return n===null?(n=gs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tm(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")QE(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case oc:return fl(n.children,s,i,e);case fE:o=8,s|=8;break;case L0:return t=gs(12,n,e,s|2),t.elementType=L0,t.lanes=i,t;case F0:return t=gs(13,n,e,s),t.elementType=F0,t.lanes=i,t;case V0:return t=gs(19,n,e,s),t.elementType=V0,t.lanes=i,t;case MN:return Av(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case DN:o=10;break e;case kN:o=9;break e;case pE:o=11;break e;case mE:o=14;break e;case So:o=16,r=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=gs(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function fl(t,e,n,r){return t=gs(7,t,r,e),t.lanes=n,t}function Av(t,e,n,r){return t=gs(22,t,r,e),t.elementType=MN,t.lanes=n,t.stateNode={isHidden:!1},t}function Iw(t,e,n){return t=gs(6,t,null,e),t.lanes=n,t}function Pw(t,e,n){return e=gs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Q3(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uw(0),this.expirationTimes=uw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uw(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function YE(t,e,n,r,s,i,o,a,l){return t=new Q3(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=gs(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kE(i),t}function Y3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ic,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Tk(t){if(!t)return la;t=t._reactInternals;e:{if(Ol(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var n=t.type;if(Pr(n))return TD(t,n,e)}return e}function Ck(t,e,n,r,s,i,o,a,l){return t=YE(n,r,!0,t,s,i,o,a,l),t.context=Tk(null),n=t.current,r=mr(),s=ta(n),i=Fi(r,s),i.callback=e??null,Zo(n,i,s),t.current.lanes=s,_f(t,s,r),Nr(t,r),t}function Rv(t,e,n,r){var s=e.current,i=mr(),o=ta(s);return n=Tk(n),e.context===null?e.context=n:e.pendingContext=n,e=Fi(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Zo(s,e,o),t!==null&&(Vs(t,s,o,i),wm(t,s,o)),o}function yg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function AA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function XE(t,e){AA(t,e),(t=t.alternate)&&AA(t,e)}function X3(){return null}var Ak=typeof reportError=="function"?reportError:function(t){console.error(t)};function JE(t){this._internalRoot=t}Iv.prototype.render=JE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));Rv(t,e,null,null)};Iv.prototype.unmount=JE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_l(function(){Rv(null,t,null,null)}),e[Qi]=null}};function Iv(t){this._internalRoot=t}Iv.prototype.unstable_scheduleHydration=function(t){if(t){var e=sD();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ao.length&&e!==0&&e<Ao[n].priority;n++);Ao.splice(n,0,t),n===0&&oD(t)}};function ZE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function RA(){}function J3(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=yg(o);i.call(c)}}var o=Ck(e,r,t,0,null,!1,!1,"",RA);return t._reactRootContainer=o,t[Qi]=o.current,bh(t.nodeType===8?t.parentNode:t),_l(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=yg(l);a.call(c)}}var l=YE(t,0,!1,null,null,!1,!1,"",RA);return t._reactRootContainer=l,t[Qi]=l.current,bh(t.nodeType===8?t.parentNode:t),_l(function(){Rv(e,l,n,r)}),l}function Nv(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=yg(o);a.call(l)}}Rv(e,o,t,s)}else o=J3(n,e,t,s,r);return yg(o)}nD=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Rd(e.pendingLanes);n!==0&&(yE(e,n|1),Nr(e,an()),!(ct&6)&&(au=an()+500,ba()))}break;case 13:_l(function(){var r=Yi(t,1);if(r!==null){var s=mr();Vs(r,t,1,s)}}),XE(t,1)}};wE=function(t){if(t.tag===13){var e=Yi(t,134217728);if(e!==null){var n=mr();Vs(e,t,134217728,n)}XE(t,134217728)}};rD=function(t){if(t.tag===13){var e=ta(t),n=Yi(t,e);if(n!==null){var r=mr();Vs(n,t,e,r)}XE(t,e)}};sD=function(){return xt};iD=function(t,e){var n=xt;try{return xt=t,e()}finally{xt=n}};Q0=function(t,e,n){switch(e){case"input":if($0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=_v(r);if(!s)throw Error(te(90));jN(r),$0(r,s)}}}break;case"textarea":FN(t,n);break;case"select":e=n.value,e!=null&&Tc(t,!!n.multiple,e,!1)}};WN=HE;HN=_l;var Z3={usingClientEntryPoint:!1,Events:[bf,uc,_v,zN,KN,HE]},pd={findFiberByHostInstance:Qa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},e6={bundleType:pd.bundleType,version:pd.version,rendererPackageName:pd.rendererPackageName,rendererConfig:pd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=QN(t),t===null?null:t.stateNode},findFiberByHostInstance:pd.findFiberByHostInstance||X3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bp.isDisabled&&Bp.supportsFiber)try{vv=Bp.inject(e6),si=Bp}catch{}}Zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z3;Zr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ZE(e))throw Error(te(200));return Y3(t,e,null,n)};Zr.createRoot=function(t,e){if(!ZE(t))throw Error(te(299));var n=!1,r="",s=Ak;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=YE(t,1,!1,null,null,n,!1,r,s),t[Qi]=e.current,bh(t.nodeType===8?t.parentNode:t),new JE(e)};Zr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=QN(e),t=t===null?null:t.stateNode,t};Zr.flushSync=function(t){return _l(t)};Zr.hydrate=function(t,e,n){if(!Pv(e))throw Error(te(200));return Nv(null,t,e,!0,n)};Zr.hydrateRoot=function(t,e,n){if(!ZE(t))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Ak;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ck(e,null,t,1,n??null,s,!1,i,o),t[Qi]=e.current,bh(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Iv(e)};Zr.render=function(t,e,n){if(!Pv(e))throw Error(te(200));return Nv(null,t,e,!1,n)};Zr.unmountComponentAtNode=function(t){if(!Pv(t))throw Error(te(40));return t._reactRootContainer?(_l(function(){Nv(null,null,t,!1,function(){t._reactRootContainer=null,t[Qi]=null})}),!0):!1};Zr.unstable_batchedUpdates=HE;Zr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Pv(n))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return Nv(t,e,n,!1,r)};Zr.version="18.3.1-next-f1338f8080-20240426";function Rk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rk)}catch(t){console.error(t)}}Rk(),RN.exports=Zr;var Ar=RN.exports;const Tf=iE(Ar),t6=mN({__proto__:null,default:Tf},[Ar]);var IA=Ar;O0.createRoot=IA.createRoot,O0.hydrateRoot=IA.hydrateRoot;var PA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},n6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Pk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[u],n[h],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ik(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):n6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new r6;const p=i<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),h!==64){const w=c<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class r6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s6=function(t){const e=Ik(t);return Pk.encodeByteArray(e,!0)},wg=function(t){return s6(t).replace(/\./g,"")},Nk=function(t){try{return Pk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6=()=>i6().__FIREBASE_DEFAULTS__,a6=()=>{if(typeof process>"u"||typeof PA>"u")return;const t=PA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},l6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Nk(t[1]);return e&&JSON.parse(e)},Dv=()=>{try{return o6()||a6()||l6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Dk=t=>{var e,n;return(n=(e=Dv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},kk=t=>{const e=Dk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Mk=()=>{var t;return(t=Dv())===null||t===void 0?void 0:t.config},Ok=t=>{var e;return(e=Dv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c6=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[wg(JSON.stringify(n)),wg(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ar())}function d6(){var t;const e=(t=Dv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Lk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function f6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function p6(){const t=ar();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m6(){return!d6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fk(){try{return typeof indexedDB=="object"}catch{return!1}}function Vk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function g6(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6="FirebaseError";class ts extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=v6,Object.setPrototypeOf(this,ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?y6(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ts(s,a,r)}}function y6(t,e){return t.replace(w6,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const w6=/\{\$([^}]+)}/g;function x6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Dh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(NA(i)&&NA(o)){if(!Dh(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function NA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _6(t,e){const n=new E6(t,e);return n.subscribe.bind(n)}class E6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");b6(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Nw),s.error===void 0&&(s.error=Nw),s.complete===void 0&&(s.complete=Nw);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function b6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Nw(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=1e3,T6=2,C6=4*60*60*1e3,A6=.5;function DA(t,e=S6,n=T6){const r=e*Math.pow(n,t),s=Math.round(A6*r*(Math.random()-.5)*2);return Math.min(C6,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t){return t&&t._delegate?t._delegate:t}class Es{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let R6=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new c6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P6(e))try{this.getOrInitializeService({instanceIdentifier:Wa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wa){return this.instances.has(e)}getOptions(e=Wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:I6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wa){return this.component?this.component.multipleInstances?e:Wa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function I6(t){return t===Wa?void 0:t}function P6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new R6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const D6={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},k6=it.INFO,M6={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},O6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=M6[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kv{constructor(e){this.name=e,this._logLevel=k6,this._logHandler=O6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?D6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const j6=(t,e)=>e.some(n=>t instanceof n);let kA,MA;function L6(){return kA||(kA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F6(){return MA||(MA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uk=new WeakMap,Rx=new WeakMap,Bk=new WeakMap,Dw=new WeakMap,eb=new WeakMap;function V6(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ra(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Uk.set(n,t)}).catch(()=>{}),eb.set(e,t),e}function U6(t){if(Rx.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Rx.set(t,e)}let Ix={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Bk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ra(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function B6(t){Ix=t(Ix)}function $6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(kw(this),e,...n);return Bk.set(r,e.sort?e.sort():[e]),ra(r)}:F6().includes(t)?function(...e){return t.apply(kw(this),e),ra(Uk.get(this))}:function(...e){return ra(t.apply(kw(this),e))}}function z6(t){return typeof t=="function"?$6(t):(t instanceof IDBTransaction&&U6(t),j6(t,L6())?new Proxy(t,Ix):t)}function ra(t){if(t instanceof IDBRequest)return V6(t);if(Dw.has(t))return Dw.get(t);const e=z6(t);return e!==t&&(Dw.set(t,e),eb.set(e,t)),e}const kw=t=>eb.get(t);function $k(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ra(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ra(o.result),l.oldVersion,l.newVersion,ra(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const K6=["get","getKey","getAll","getAllKeys","count"],W6=["put","add","delete","clear"],Mw=new Map;function OA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mw.get(e))return Mw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=W6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||K6.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Mw.set(e,i),i}B6(t=>({...t,get:(e,n,r)=>OA(e,n)||t.get(e,n,r),has:(e,n)=>!!OA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(q6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function q6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Px="@firebase/app",jA="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new kv("@firebase/app"),G6="@firebase/app-compat",Q6="@firebase/analytics-compat",Y6="@firebase/analytics",X6="@firebase/app-check-compat",J6="@firebase/app-check",Z6="@firebase/auth",e9="@firebase/auth-compat",t9="@firebase/database",n9="@firebase/database-compat",r9="@firebase/functions",s9="@firebase/functions-compat",i9="@firebase/installations",o9="@firebase/installations-compat",a9="@firebase/messaging",l9="@firebase/messaging-compat",c9="@firebase/performance",u9="@firebase/performance-compat",d9="@firebase/remote-config",h9="@firebase/remote-config-compat",f9="@firebase/storage",p9="@firebase/storage-compat",m9="@firebase/firestore",g9="@firebase/vertexai-preview",v9="@firebase/firestore-compat",y9="firebase",w9="10.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="[DEFAULT]",x9={[Px]:"fire-core",[G6]:"fire-core-compat",[Y6]:"fire-analytics",[Q6]:"fire-analytics-compat",[J6]:"fire-app-check",[X6]:"fire-app-check-compat",[Z6]:"fire-auth",[e9]:"fire-auth-compat",[t9]:"fire-rtdb",[n9]:"fire-rtdb-compat",[r9]:"fire-fn",[s9]:"fire-fn-compat",[i9]:"fire-iid",[o9]:"fire-iid-compat",[a9]:"fire-fcm",[l9]:"fire-fcm-compat",[c9]:"fire-perf",[u9]:"fire-perf-compat",[d9]:"fire-rc",[h9]:"fire-rc-compat",[f9]:"fire-gcs",[p9]:"fire-gcs-compat",[m9]:"fire-fst",[v9]:"fire-fst-compat",[g9]:"fire-vertex","fire-js":"fire-js",[y9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg=new Map,_9=new Map,Dx=new Map;function LA(t,e){try{t.container.addComponent(e)}catch(n){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $s(t){const e=t.name;if(Dx.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;Dx.set(e,t);for(const n of xg.values())LA(n,t);for(const n of _9.values())LA(n,t);return!0}function Sa(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ni(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sa=new jl("app","Firebase",E9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=w9;function zk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Nx,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw sa.create("bad-app-name",{appName:String(s)});if(n||(n=Mk()),!n)throw sa.create("no-options");const i=xg.get(s);if(i){if(Dh(n,i.options)&&Dh(r,i.config))return i;throw sa.create("duplicate-app",{appName:s})}const o=new N6(s);for(const l of Dx.values())o.addComponent(l);const a=new b9(n,r,o);return xg.set(s,a),a}function Mv(t=Nx){const e=xg.get(t);if(!e&&t===Nx&&Mk())return zk();if(!e)throw sa.create("no-app",{appName:t});return e}function Dr(t,e,n){var r;let s=(r=x9[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(a.join(" "));return}$s(new Es(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9="firebase-heartbeat-database",T9=1,kh="firebase-heartbeat-store";let Ow=null;function Kk(){return Ow||(Ow=$k(S9,T9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kh)}catch(n){console.warn(n)}}}}).catch(t=>{throw sa.create("idb-open",{originalErrorMessage:t.message})})),Ow}async function C9(t){try{const n=(await Kk()).transaction(kh),r=await n.objectStore(kh).get(Wk(t));return await n.done,r}catch(e){if(e instanceof ts)Ji.warn(e.message);else{const n=sa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ji.warn(n.message)}}}async function FA(t,e){try{const r=(await Kk()).transaction(kh,"readwrite");await r.objectStore(kh).put(e,Wk(t)),await r.done}catch(n){if(n instanceof ts)Ji.warn(n.message);else{const r=sa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ji.warn(r.message)}}}function Wk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9=1024,R9=30*24*60*60*1e3;class I9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new N9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=VA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=R9}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ji.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=VA(),{heartbeatsToSend:r,unsentEntries:s}=P9(this._heartbeatsCache.heartbeats),i=wg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ji.warn(n),""}}}function VA(){return new Date().toISOString().substring(0,10)}function P9(t,e=A9){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),UA(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),UA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class N9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Fk()?Vk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await C9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return FA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return FA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function UA(t){return wg(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(t){$s(new Es("platform-logger",e=>new H6(e),"PRIVATE")),$s(new Es("heartbeat",e=>new I9(e),"PRIVATE")),Dr(Px,jA,t),Dr(Px,jA,"esm2017"),Dr("fire-js","")}D9("");var ei=function(){return ei=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ei.apply(this,arguments)};function Af(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function k9(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Hk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const M9=Hk,qk=new jl("auth","Firebase",Hk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g=new kv("@firebase/auth");function O9(t,...e){_g.logLevel<=it.WARN&&_g.warn(`Auth (${Ll}): ${t}`,...e)}function Cm(t,...e){_g.logLevel<=it.ERROR&&_g.error(`Auth (${Ll}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t,...e){throw tb(t,...e)}function oi(t,...e){return tb(t,...e)}function Gk(t,e,n){const r=Object.assign(Object.assign({},M9()),{[e]:n});return new jl("auth","Firebase",r).create(e,{appName:t.name})}function ia(t){return Gk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qk.create(t,...e)}function Le(t,e,...n){if(!t)throw tb(e,...n)}function Di(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cm(e),new Error(e)}function eo(t,e){t||Di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function j9(){return BA()==="http:"||BA()==="https:"}function BA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(j9()||Lk()||"connection"in navigator)?navigator.onLine:!0}function F9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n){this.shortDelay=e,this.longDelay=n,eo(n>e,"Short delay should be less than long delay!"),this.isMobile=u6()||f6()}get(){return L9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(t,e){eo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9=new Rf(3e4,6e4);function Ov(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Au(t,e,n,r,s={}){return Yk(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Cf(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return h6()||(c.referrerPolicy="no-referrer"),Qk.fetch()(Jk(t,t.config.apiHost,n,a),c)})}async function Yk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},V9),e);try{const s=new B9(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw $p(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw $p(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw $p(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw $p(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Gk(t,u,c);Zi(t,u)}}catch(s){if(s instanceof ts)throw s;Zi(t,"network-request-failed",{message:String(s)})}}async function Xk(t,e,n,r,s={}){const i=await Au(t,e,n,r,s);return"mfaPendingCredential"in i&&Zi(t,"multi-factor-auth-required",{_serverResponse:i}),i}function Jk(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?nb(t.config,s):`${t.config.apiScheme}://${s}`}class B9{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(oi(this.auth,"network-request-failed")),U9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $p(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=oi(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $9(t,e){return Au(t,"POST","/v1/accounts:delete",e)}async function Zk(t,e){return Au(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function z9(t,e=!1){const n=un(t),r=await n.getIdToken(e),s=rb(r);Le(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Qd(jw(s.auth_time)),issuedAtTime:Qd(jw(s.iat)),expirationTime:Qd(jw(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function jw(t){return Number(t)*1e3}function rb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Cm("JWT malformed, contained fewer than 3 sections"),null;try{const s=Nk(n);return s?JSON.parse(s):(Cm("Failed to decode base64 JWT payload"),null)}catch(s){return Cm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function $A(t){const e=rb(t);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ts&&K9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function K9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qd(this.lastLoginAt),this.creationTime=Qd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eg(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Mh(t,Zk(n,{idToken:r}));Le(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?eM(i.providerUserInfo):[],a=q9(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Mx(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function H9(t){const e=un(t);await Eg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function q9(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function eM(t){return t.map(e=>{var{providerId:n}=e,r=Af(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G9(t,e){const n=await Yk(t,{},async()=>{const r=Cf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=Jk(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Qk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Q9(t,e){return Au(t,"POST","/v2/accounts:revokeToken",Ov(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$A(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=$A(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await G9(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Nc;return r&&(Le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Le(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Le(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nc,this.toJSON())}_performRefresh(){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(t,e){Le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ki{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Af(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new W9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Mx(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Mh(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return z9(this,e)}reload(){return H9(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ki(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Eg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ni(this.auth.app))return Promise.reject(ia(this.auth));const e=await this.getIdToken();return await Mh(this,$9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:b,emailVerified:A,isAnonymous:P,providerData:O,stsTokenManager:T}=n;Le(b&&T,e,"internal-error");const E=Nc.fromJSON(this.name,T);Le(typeof b=="string",e,"internal-error"),vo(h,e.name),vo(p,e.name),Le(typeof A=="boolean",e,"internal-error"),Le(typeof P=="boolean",e,"internal-error"),vo(g,e.name),vo(w,e.name),vo(v,e.name),vo(x,e.name),vo(_,e.name),vo(y,e.name);const I=new ki({uid:b,auth:e,email:p,emailVerified:A,displayName:h,isAnonymous:P,photoURL:w,phoneNumber:g,tenantId:v,stsTokenManager:E,createdAt:_,lastLoginAt:y});return O&&Array.isArray(O)&&(I.providerData=O.map(R=>Object.assign({},R))),x&&(I._redirectEventId=x),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new Nc;s.updateFromServerResponse(n);const i=new ki({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Eg(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Le(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?eM(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Nc;a.updateFromIdToken(r);const l=new ki({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Mx(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=new Map;function Mi(t){eo(t instanceof Function,"Expected a class definition");let e=zA.get(t);return e?(eo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tM.type="NONE";const KA=tM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(t,e,n){return`firebase:${t}:${e}:${n}`}class Dc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Am(this.userKey,s.apiKey,i),this.fullPersistenceKey=Am("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ki._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Dc(Mi(KA),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Mi(KA);const o=Am(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=ki._fromJSON(e,u);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Dc(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Dc(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aM(e))return"Blackberry";if(lM(e))return"Webos";if(rM(e))return"Safari";if((e.includes("chrome/")||sM(e))&&!e.includes("edge/"))return"Chrome";if(oM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function nM(t=ar()){return/firefox\//i.test(t)}function rM(t=ar()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sM(t=ar()){return/crios\//i.test(t)}function iM(t=ar()){return/iemobile/i.test(t)}function oM(t=ar()){return/android/i.test(t)}function aM(t=ar()){return/blackberry/i.test(t)}function lM(t=ar()){return/webos/i.test(t)}function sb(t=ar()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Y9(t=ar()){var e;return sb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function X9(){return p6()&&document.documentMode===10}function cM(t=ar()){return sb(t)||oM(t)||lM(t)||aM(t)||/windows phone/i.test(t)||iM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(t,e=[]){let n;switch(t){case"Browser":n=WA(ar());break;case"Worker":n=`${WA(ar())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ll}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z9(t,e={}){return Au(t,"GET","/v2/passwordPolicy",Ov(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eK=6;class tK{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:eK,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HA(this),this.idTokenSubscription=new HA(this),this.beforeStateQueue=new J9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mi(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Dc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Zk(this,{idToken:e}),r=await ki._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ni(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Eg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=F9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ni(this.app))return Promise.reject(ia(this));const n=e?un(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ni(this.app)?Promise.reject(ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ni(this.app)?Promise.reject(ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Z9(this),n=new tK(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Q9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Mi(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await Dc.create(this,[Mi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&O9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function jv(t){return un(t)}class HA{constructor(e){this.auth=e,this.observer=null,this.addObserver=_6(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ib={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rK(t){ib=t}function sK(t){return ib.loadJS(t)}function iK(){return ib.gapiScript}function oK(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aK(t,e){const n=Sa(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Dh(i,e??{}))return s;Zi(s,"already-initialized")}return n.initialize({options:e})}function lK(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Mi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function cK(t,e,n){const r=jv(t);Le(r._canInitEmulator,r,"emulator-config-failed"),Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=dM(e),{host:o,port:a}=uK(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),dK()}function dM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uK(t){const e=dM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:qA(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:qA(o)}}}function qA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function dK(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Di("not implemented")}_getIdTokenResponse(e){return Di("not implemented")}_linkToIdToken(e,n){return Di("not implemented")}_getReauthenticationResolver(e){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(t,e){return Xk(t,"POST","/v1/accounts:signInWithIdp",Ov(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hK="http://localhost";class El extends hM{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new El(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Af(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new El(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return kc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,kc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,kc(e,n)}buildRequest(){const e={requestUri:hK,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If extends fM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends If{constructor(){super("facebook.com")}static credential(e){return El._fromParams({providerId:Io.PROVIDER_ID,signInMethod:Io.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Io.credentialFromTaggedObject(e)}static credentialFromError(e){return Io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Io.credential(e.oauthAccessToken)}catch{return null}}}Io.FACEBOOK_SIGN_IN_METHOD="facebook.com";Io.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po extends If{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return El._fromParams({providerId:Po.PROVIDER_ID,signInMethod:Po.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Po.credentialFromTaggedObject(e)}static credentialFromError(e){return Po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Po.credential(n,r)}catch{return null}}}Po.GOOGLE_SIGN_IN_METHOD="google.com";Po.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends If{constructor(){super("github.com")}static credential(e){return El._fromParams({providerId:No.PROVIDER_ID,signInMethod:No.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return No.credentialFromTaggedObject(e)}static credentialFromError(e){return No.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return No.credential(e.oauthAccessToken)}catch{return null}}}No.GITHUB_SIGN_IN_METHOD="github.com";No.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends If{constructor(){super("twitter.com")}static credential(e,n){return El._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Do.credentialFromTaggedObject(e)}static credentialFromError(e){return Do.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Do.credential(n,r)}catch{return null}}}Do.TWITTER_SIGN_IN_METHOD="twitter.com";Do.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fK(t,e){return Xk(t,"POST","/v1/accounts:signUp",Ov(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ki._fromIdTokenResponse(e,r,s),o=GA(r);return new ca({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=GA(r);return new ca({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function GA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pK(t){var e;if(Ni(t.app))return Promise.reject(ia(t));const n=jv(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new ca({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await fK(n,{returnSecureToken:!0}),s=await ca._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg extends ts{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,bg.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new bg(e,n,r,s)}}function pM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?bg._fromErrorAndOperation(t,i,e,r):i})}async function mK(t,e,n=!1){const r=await Mh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ca._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gK(t,e,n=!1){const{auth:r}=t;if(Ni(r.app))return Promise.reject(ia(r));const s="reauthenticate";try{const i=await Mh(t,pM(r,s,e,t),n);Le(i.idToken,r,"internal-error");const o=rb(i.idToken);Le(o,r,"internal-error");const{sub:a}=o;return Le(t.uid===a,r,"user-mismatch"),ca._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Zi(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vK(t,e,n=!1){if(Ni(t.app))return Promise.reject(ia(t));const r="signIn",s=await pM(t,r,e),i=await ca._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function yK(t,e,n,r){return un(t).onIdTokenChanged(e,n,r)}function wK(t,e,n){return un(t).beforeAuthStateChanged(e,n)}const Sg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sg,"1"),this.storage.removeItem(Sg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xK=1e3,_K=10;class gM extends mM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);X9()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,_K):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},xK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gM.type="LOCAL";const EK=gM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM extends mM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vM.type="SESSION";const yM=vM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bK(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Lv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await bK(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SK{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=ob("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function TK(t){ai().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function CK(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AK(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function RK(){return wM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM="firebaseLocalStorageDb",IK=1,Tg="firebaseLocalStorage",_M="fbase_key";class Pf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fv(t,e){return t.transaction([Tg],e?"readwrite":"readonly").objectStore(Tg)}function PK(){const t=indexedDB.deleteDatabase(xM);return new Pf(t).toPromise()}function Ox(){const t=indexedDB.open(xM,IK);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Tg,{keyPath:_M})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Tg)?e(r):(r.close(),await PK(),e(await Ox()))})})}async function QA(t,e,n){const r=Fv(t,!0).put({[_M]:e,value:n});return new Pf(r).toPromise()}async function NK(t,e){const n=Fv(t,!1).get(e),r=await new Pf(n).toPromise();return r===void 0?null:r.value}function YA(t,e){const n=Fv(t,!0).delete(e);return new Pf(n).toPromise()}const DK=800,kK=3;class EM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ox(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>kK)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lv._getInstance(RK()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await CK(),!this.activeServiceWorker)return;this.sender=new SK(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AK()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ox();return await QA(e,Sg,"1"),await YA(e,Sg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>QA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>NK(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>YA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Fv(s,!1).getAll();return new Pf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EM.type="LOCAL";const MK=EM;new Rf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OK(t,e){return e?Mi(e):(Le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab extends hM{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return kc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return kc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jK(t){return vK(t.auth,new ab(t),t.bypassAuthState)}function LK(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),gK(n,new ab(t),t.bypassAuthState)}async function FK(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),mK(n,new ab(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jK;case"linkViaPopup":case"linkViaRedirect":return FK;case"reauthViaPopup":case"reauthViaRedirect":return LK;default:Zi(this.auth,"internal-error")}}resolve(e){eo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){eo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VK=new Rf(2e3,1e4);class vc extends bM{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,vc.currentPopupAction&&vc.currentPopupAction.cancel(),vc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){eo(this.filter.length===1,"Popup operations only handle one event");const e=ob();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,VK.get())};e()}}vc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UK="pendingRedirect",Rm=new Map;class BK extends bM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Rm.get(this.auth._key());if(!e){try{const r=await $K(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Rm.set(this.auth._key(),e)}return this.bypassAuthState||Rm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $K(t,e){const n=WK(e),r=KK(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function zK(t,e){Rm.set(t._key(),e)}function KK(t){return Mi(t._redirectPersistence)}function WK(t){return Am(UK,t.config.apiKey,t.name)}async function HK(t,e,n=!1){if(Ni(t.app))return Promise.reject(ia(t));const r=jv(t),s=OK(r,e),o=await new BK(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qK=10*60*1e3;class GK{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QK(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!SM(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(oi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qK&&this.cachedEventUids.clear(),this.cachedEventUids.has(XA(e))}saveEventToCache(e){this.cachedEventUids.add(XA(e)),this.lastProcessedEventTime=Date.now()}}function XA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function SM({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function QK(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YK(t,e={}){return Au(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JK=/^https?/;async function ZK(t){if(t.config.emulator)return;const{authorizedDomains:e}=await YK(t);for(const n of e)try{if(eW(n))return}catch{}Zi(t,"unauthorized-domain")}function eW(t){const e=kx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!JK.test(n))return!1;if(XK.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tW=new Rf(3e4,6e4);function JA(){const t=ai().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function nW(t){return new Promise((e,n)=>{var r,s,i;function o(){JA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{JA(),n(oi(t,"network-request-failed"))},timeout:tW.get()})}if(!((s=(r=ai().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ai().gapi)===null||i===void 0)&&i.load)o();else{const a=oK("iframefcb");return ai()[a]=()=>{gapi.load?o():n(oi(t,"network-request-failed"))},sK(`${iK()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Im=null,e})}let Im=null;function rW(t){return Im=Im||nW(t),Im}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sW=new Rf(5e3,15e3),iW="__/auth/iframe",oW="emulator/auth/iframe",aW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cW(t){const e=t.config;Le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?nb(e,oW):`https://${t.config.authDomain}/${iW}`,r={apiKey:e.apiKey,appName:t.name,v:Ll},s=lW.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Cf(r).slice(1)}`}async function uW(t){const e=await rW(t),n=ai().gapi;return Le(n,t,"internal-error"),e.open({where:document.body,url:cW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aW,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=oi(t,"network-request-failed"),a=ai().setTimeout(()=>{i(o)},sW.get());function l(){ai().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hW=500,fW=600,pW="_blank",mW="http://localhost";class ZA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gW(t,e,n,r=hW,s=fW){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},dW),{width:r.toString(),height:s.toString(),top:i,left:o}),c=ar().toLowerCase();n&&(a=sM(c)?pW:n),nM(c)&&(e=e||mW,l.scrollbars="yes");const u=Object.entries(l).reduce((p,[g,w])=>`${p}${g}=${w},`,"");if(Y9(c)&&a!=="_self")return vW(e||"",a),new ZA(null);const h=window.open(e||"",a,u);Le(h,t,"popup-blocked");try{h.focus()}catch{}return new ZA(h)}function vW(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yW="__/auth/handler",wW="emulator/auth/handler",xW=encodeURIComponent("fac");async function eR(t,e,n,r,s,i){Le(t.config.authDomain,t,"auth-domain-config-required"),Le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ll,eventId:s};if(e instanceof fM){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",x6(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))o[u]=h}if(e instanceof If){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${xW}=${encodeURIComponent(l)}`:"";return`${_W(t)}?${Cf(a).slice(1)}${c}`}function _W({config:t}){return t.emulator?nb(t,wW):`https://${t.authDomain}/${yW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="webStorageSupport";class EW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yM,this._completeRedirectFn=HK,this._overrideRedirectResult=zK}async _openPopup(e,n,r,s){var i;eo((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await eR(e,n,r,kx(),s);return gW(e,o,ob())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await eR(e,n,r,kx(),s);return TK(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(eo(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await uW(e),r=new GK(e);return n.register("authEvent",s=>(Le(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lw,{type:Lw},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Lw];o!==void 0&&n(!!o),Zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZK(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cM()||rM()||sb()}}const bW=EW;var tR="@firebase/auth",nR="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CW(t){$s(new Es("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uM(t)},c=new nK(r,s,i,l);return lK(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$s(new Es("auth-internal",e=>{const n=jv(e.getProvider("auth").getImmediate());return(r=>new SW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dr(tR,nR,TW(t)),Dr(tR,nR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AW=5*60,RW=Ok("authIdTokenMaxAge")||AW;let rR=null;const IW=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>RW)return;const s=n==null?void 0:n.token;rR!==s&&(rR=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function PW(t=Mv()){const e=Sa(t,"auth");if(e.isInitialized())return e.getImmediate();const n=aK(t,{popupRedirectResolver:bW,persistence:[MK,EK,yM]}),r=Ok("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=IW(i.toString());wK(n,o,()=>o(n.currentUser)),yK(n,a=>o(a))}}const s=Dk("auth");return s&&cK(n,`http://${s}`),n}function NW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}rK({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=oi("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",NW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CW("Browser");const gt=(t,e=!1)=>{};var DW={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",VITE_FIREBASE_MEASUREMENT_ID:"G-65F7KP2KRQ",VITE_SUPER_ADMIN_ID:"672ca434f2191d3bb7606f0d",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const sR=t=>{let e;const n=new Set,r=(u,h)=>{const p=typeof u=="function"?u(e):u;if(!Object.is(p,e)){const g=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(w=>w(e,g))}},s=()=>e,l={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(DW?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,s,l);return l},kW=t=>t?sR(t):sR;var TM={exports:{}},CM={},AM={exports:{}},RM={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lu=m;function MW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var OW=typeof Object.is=="function"?Object.is:MW,jW=lu.useState,LW=lu.useEffect,FW=lu.useLayoutEffect,VW=lu.useDebugValue;function UW(t,e){var n=e(),r=jW({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return FW(function(){s.value=n,s.getSnapshot=e,Fw(s)&&i({inst:s})},[t,n,e]),LW(function(){return Fw(s)&&i({inst:s}),t(function(){Fw(s)&&i({inst:s})})},[t]),VW(n),n}function Fw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!OW(t,n)}catch{return!0}}function BW(t,e){return e()}var $W=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?BW:UW;RM.useSyncExternalStore=lu.useSyncExternalStore!==void 0?lu.useSyncExternalStore:$W;AM.exports=RM;var zW=AM.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv=m,KW=zW;function WW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var HW=typeof Object.is=="function"?Object.is:WW,qW=KW.useSyncExternalStore,GW=Vv.useRef,QW=Vv.useEffect,YW=Vv.useMemo,XW=Vv.useDebugValue;CM.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=GW(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=YW(function(){function l(g){if(!c){if(c=!0,u=g,g=r(g),s!==void 0&&o.hasValue){var w=o.value;if(s(w,g))return h=w}return h=g}if(w=h,HW(u,g))return w;var v=r(g);return s!==void 0&&s(w,v)?w:(u=g,h=v)}var c=!1,u,h,p=n===void 0?null:n;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,n,r,s]);var a=qW(t,i[0],i[1]);return QW(function(){o.hasValue=!0,o.value=a},[a]),XW(a),a};TM.exports=CM;var JW=TM.exports;const ZW=iE(JW);var IM={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",VITE_FIREBASE_MEASUREMENT_ID:"G-65F7KP2KRQ",VITE_SUPER_ADMIN_ID:"672ca434f2191d3bb7606f0d",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:eH}=Re,{useSyncExternalStoreWithSelector:tH}=ZW;let iR=!1;const nH=t=>t;function rH(t,e=nH,n){(IM?"production":void 0)!=="production"&&n&&!iR&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),iR=!0);const r=tH(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return eH(r),r}const oR=t=>{(IM?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?kW(t):t,n=(r,s)=>rH(e,r,s);return Object.assign(n,e),n},ao=t=>t?oR(t):oR;var sH={VITE_API_KEY:"6defd5a8-dfb8-4035-8ef1-69a13b57a66f",VITE_NODE_ENV:"production",VITE_API_URL_DEV:"http://localhost:3001",VITE_API_URL_PRODUCTION:"https://chatbot-api-0zup.onrender.com",VITE_FIREBASE_API_KEY:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",VITE_FIREBASE_AUTH_DOMAIN:"cob-chatbot.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"cob-chatbot",VITE_FIREBASE_STORAGE_BUCKET:"cob-chatbot.appspot.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"275602489097",VITE_FIREBASE_APP_ID:"1:275602489097:web:5c490d86e9f69e1314ddd8",VITE_FIREBASE_MEASUREMENT_ID:"G-65F7KP2KRQ",VITE_SUPER_ADMIN_ID:"672ca434f2191d3bb7606f0d",BASE_URL:"/admin",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function lb(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=l=>l===null?null:JSON.parse(l,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const Oh=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Oh(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Oh(r)(n)}}}},iH=(t,e)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:x=>x,version:0,merge:(x,_)=>({..._,...x}),...e},o=!1;const a=new Set,l=new Set;let c;try{c=i.getStorage()}catch{}if(!c)return t((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...x)},r,s);const u=Oh(i.serialize),h=()=>{const x=i.partialize({...r()});let _;const y=u({state:x,version:i.version}).then(b=>c.setItem(i.name,b)).catch(b=>{_=b});if(_)throw _;return y},p=s.setState;s.setState=(x,_)=>{p(x,_),h()};const g=t((...x)=>{n(...x),h()},r,s);let w;const v=()=>{var x;if(!c)return;o=!1,a.forEach(y=>y(r()));const _=((x=i.onRehydrateStorage)==null?void 0:x.call(i,r()))||void 0;return Oh(c.getItem.bind(c))(i.name).then(y=>{if(y)return i.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return i.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var b;return w=i.merge(y,(b=r())!=null?b:g),n(w,!0),h()}).then(()=>{_==null||_(w,void 0),o=!0,l.forEach(y=>y(w))}).catch(y=>{_==null||_(void 0,y)})};return s.persist={setOptions:x=>{i={...i,...x},x.getStorage&&(c=x.getStorage())},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:x=>(a.add(x),()=>{a.delete(x)}),onFinishHydration:x=>(l.add(x),()=>{l.delete(x)})},v(),w||g},oH=(t,e)=>(n,r,s)=>{let i={storage:lb(()=>localStorage),partialize:v=>v,version:0,merge:(v,x)=>({...x,...v}),...e},o=!1;const a=new Set,l=new Set;let c=i.storage;if(!c)return t((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...v)},r,s);const u=()=>{const v=i.partialize({...r()});return c.setItem(i.name,{state:v,version:i.version})},h=s.setState;s.setState=(v,x)=>{h(v,x),u()};const p=t((...v)=>{n(...v),u()},r,s);s.getInitialState=()=>p;let g;const w=()=>{var v,x;if(!c)return;o=!1,a.forEach(y=>{var b;return y((b=r())!=null?b:p)});const _=((x=i.onRehydrateStorage)==null?void 0:x.call(i,(v=r())!=null?v:p))||void 0;return Oh(c.getItem.bind(c))(i.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return[!0,i.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var b;const[A,P]=y;if(g=i.merge(P,(b=r())!=null?b:p),n(g,!0),A)return u()}).then(()=>{_==null||_(g,void 0),g=r(),o=!0,l.forEach(y=>y(g))}).catch(y=>{_==null||_(void 0,y)})};return s.persist={setOptions:v=>{i={...i,...v},v.storage&&(c=v.storage)},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:v=>(a.add(v),()=>{a.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},i.skipHydration||w(),g||p},aH=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((sH?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),iH(t,e)):oH(t,e),PM=aH,ft=ao()(PM(t=>({admin:null,isAuth:!1,accessToken:null,setAccessToken:e=>t({accessToken:e}),login:(e,n)=>t({isAuth:!0,accessToken:e,admin:n}),logout:()=>t({isAuth:!1,accessToken:null,admin:null})}),{name:"auth-storage",storage:lb(()=>localStorage)}));/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zt(){return zt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zt.apply(this,arguments)}var fn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(fn||(fn={}));const aR="popstate";function lH(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return jh("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:bl(s)}return uH(e,n,null,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function cu(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cH(){return Math.random().toString(36).substr(2,8)}function lR(t,e){return{usr:t.state,key:t.key,idx:e}}function jh(t,e,n,r){return n===void 0&&(n=null),zt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ta(e):e,{state:n,key:e&&e.key||r||cH()})}function bl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ta(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function uH(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=fn.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(zt({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=fn.Pop;let x=u(),_=x==null?null:x-c;c=x,l&&l({action:a,location:v.location,delta:_})}function p(x,_){a=fn.Push;let y=jh(v.location,x,_);c=u()+1;let b=lR(y,c),A=v.createHref(y);try{o.pushState(b,"",A)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(A)}i&&l&&l({action:a,location:v.location,delta:1})}function g(x,_){a=fn.Replace;let y=jh(v.location,x,_);c=u();let b=lR(y,c),A=v.createHref(y);o.replaceState(b,"",A),i&&l&&l({action:a,location:v.location,delta:0})}function w(x){let _=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof x=="string"?x:bl(x);return y=y.replace(/ $/,"%20"),Je(_,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,_)}let v={get action(){return a},get location(){return t(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(aR,h),l=x,()=>{s.removeEventListener(aR,h),l=null}},createHref(x){return e(s,x)},createURL:w,encodeLocation(x){let _=w(x);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:g,go(x){return o.go(x)}};return v}var Et;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Et||(Et={}));const dH=new Set(["lazy","caseSensitive","path","id","index","children"]);function hH(t){return t.index===!0}function Lh(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((s,i)=>{let o=[...n,String(i)],a=typeof s.id=="string"?s.id:o.join("-");if(Je(s.index!==!0||!s.children,"Cannot specify children on an index route"),Je(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),hH(s)){let l=zt({},s,e(s),{id:a});return r[a]=l,l}else{let l=zt({},s,e(s),{id:a,children:void 0});return r[a]=l,s.children&&(l.children=Lh(s.children,e,o,r)),l}})}function Ga(t,e,n){return n===void 0&&(n="/"),Pm(t,e,n,!1)}function Pm(t,e,n,r){let s=typeof e=="string"?Ta(e):e,i=Ru(s.pathname||"/",n);if(i==null)return null;let o=NM(t);pH(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=TH(i);a=bH(o[l],c,r)}return a}function fH(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function NM(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Je(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Vi([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(Je(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),NM(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:_H(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of DM(i.path))s(i,o,l)}),e}function DM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=DM(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function pH(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:EH(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const mH=/^:[\w-]+$/,gH=3,vH=2,yH=1,wH=10,xH=-2,cR=t=>t==="*";function _H(t,e){let n=t.split("/"),r=n.length;return n.some(cR)&&(r+=xH),e&&(r+=vH),n.filter(s=>!cR(s)).reduce((s,i)=>s+(mH.test(i)?gH:i===""?yH:wH),r)}function EH(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function bH(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=uR({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=uR({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Vi([i,h.pathname]),pathnameBase:RH(Vi([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Vi([i,h.pathnameBase]))}return o}function uR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=SH(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:p,isOptional:g}=u;if(p==="*"){let v=a[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const w=a[h];return g&&!w?c[p]=void 0:c[p]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function SH(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),cu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function TH(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cu(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ru(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function CH(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ta(t):t;return{pathname:n?n.startsWith("/")?n:AH(n,e):e,search:IH(r),hash:PH(s)}}function AH(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Vw(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Uv(t,e){let n=kM(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Bv(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ta(t):(s=zt({},t),Je(!s.pathname||!s.pathname.includes("?"),Vw("?","pathname","search",s)),Je(!s.pathname||!s.pathname.includes("#"),Vw("#","pathname","hash",s)),Je(!s.search||!s.search.includes("#"),Vw("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=CH(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Vi=t=>t.join("/").replace(/\/\/+/g,"/"),RH=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),IH=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,PH=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Cg{constructor(e,n,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Nf(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const MM=["post","put","patch","delete"],NH=new Set(MM),DH=["get",...MM],kH=new Set(DH),MH=new Set([301,302,303,307,308]),OH=new Set([307,308]),Uw={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},jH={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},md={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},cb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,LH=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),OM="remix-router-transitions";function FH(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Je(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let L=t.detectErrorBoundary;s=V=>({hasErrorBoundary:L(V)})}else s=LH;let i={},o=Lh(t.routes,s,void 0,i),a,l=t.basename||"/",c=t.unstable_dataStrategy||KH,u=t.unstable_patchRoutesOnNavigation,h=zt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),p=null,g=new Set,w=1e3,v=new Set,x=null,_=null,y=null,b=t.hydrationData!=null,A=Ga(o,t.history.location,l),P=null;if(A==null&&!u){let L=hr(404,{pathname:t.history.location.pathname}),{matches:V,route:K}=wR(o);A=V,P={[K.id]:L}}A&&!t.hydrationData&&ut(A,o,t.history.location.pathname).active&&(A=null);let O;if(A)if(A.some(L=>L.route.lazy))O=!1;else if(!A.some(L=>L.route.loader))O=!0;else if(h.v7_partialHydration){let L=t.hydrationData?t.hydrationData.loaderData:null,V=t.hydrationData?t.hydrationData.errors:null,K=G=>G.route.loader?typeof G.route.loader=="function"&&G.route.loader.hydrate===!0?!1:L&&L[G.route.id]!==void 0||V&&V[G.route.id]!==void 0:!0;if(V){let G=A.findIndex(de=>V[de.route.id]!==void 0);O=A.slice(0,G+1).every(K)}else O=A.every(K)}else O=t.hydrationData!=null;else if(O=!1,A=[],h.v7_partialHydration){let L=ut(null,o,t.history.location.pathname);L.active&&L.matches&&(A=L.matches)}let T,E={historyAction:t.history.action,location:t.history.location,matches:A,initialized:O,navigation:Uw,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||P,fetchers:new Map,blockers:new Map},I=fn.Pop,R=!1,k,M=!1,N=new Map,W=null,se=!1,ne=!1,Y=[],z=new Set,B=new Map,J=0,fe=-1,he=new Map,Te=new Set,We=new Map,at=new Map,Ne=new Set,ce=new Map,Pe=new Map,He=new Map,pe;function $e(){if(p=t.history.listen(L=>{let{action:V,location:K,delta:G}=L;if(pe){pe(),pe=void 0;return}cu(Pe.size===0||G!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let de=$t({currentLocation:E.location,nextLocation:K,historyAction:V});if(de&&G!=null){let Ce=new Promise(Me=>{pe=Me});t.history.go(G*-1),rs(de,{state:"blocked",location:K,proceed(){rs(de,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),Ce.then(()=>t.history.go(G))},reset(){let Me=new Map(E.blockers);Me.set(de,md),qe({blockers:Me})}});return}return j(V,K)}),n){iq(e,N);let L=()=>oq(e,N);e.addEventListener("pagehide",L),W=()=>e.removeEventListener("pagehide",L)}return E.initialized||j(fn.Pop,E.location,{initialHydration:!0}),T}function Oe(){p&&p(),W&&W(),g.clear(),k&&k.abort(),E.fetchers.forEach((L,V)=>ns(V)),E.blockers.forEach((L,V)=>ja(V))}function yt(L){return g.add(L),()=>g.delete(L)}function qe(L,V){V===void 0&&(V={}),E=zt({},E,L);let K=[],G=[];h.v7_fetcherPersist&&E.fetchers.forEach((de,Ce)=>{de.state==="idle"&&(Ne.has(Ce)?G.push(Ce):K.push(Ce))}),[...g].forEach(de=>de(E,{deletedFetchers:G,unstable_viewTransitionOpts:V.viewTransitionOpts,unstable_flushSync:V.flushSync===!0})),h.v7_fetcherPersist&&(K.forEach(de=>E.fetchers.delete(de)),G.forEach(de=>ns(de)))}function Ft(L,V,K){var G,de;let{flushSync:Ce}=K===void 0?{}:K,Me=E.actionData!=null&&E.navigation.formMethod!=null&&Ds(E.navigation.formMethod)&&E.navigation.state==="loading"&&((G=L.state)==null?void 0:G._isRedirect)!==!0,oe;V.actionData?Object.keys(V.actionData).length>0?oe=V.actionData:oe=null:Me?oe=E.actionData:oe=null;let Ee=V.loaderData?vR(E.loaderData,V.loaderData,V.matches||[],V.errors):E.loaderData,ye=E.blockers;ye.size>0&&(ye=new Map(ye),ye.forEach((lt,_t)=>ye.set(_t,md)));let xe=R===!0||E.navigation.formMethod!=null&&Ds(E.navigation.formMethod)&&((de=L.state)==null?void 0:de._isRedirect)!==!0;a&&(o=a,a=void 0),se||I===fn.Pop||(I===fn.Push?t.history.push(L,L.state):I===fn.Replace&&t.history.replace(L,L.state));let rt;if(I===fn.Pop){let lt=N.get(E.location.pathname);lt&&lt.has(L.pathname)?rt={currentLocation:E.location,nextLocation:L}:N.has(L.pathname)&&(rt={currentLocation:L,nextLocation:E.location})}else if(M){let lt=N.get(E.location.pathname);lt?lt.add(L.pathname):(lt=new Set([L.pathname]),N.set(E.location.pathname,lt)),rt={currentLocation:E.location,nextLocation:L}}qe(zt({},V,{actionData:oe,loaderData:Ee,historyAction:I,location:L,initialized:!0,navigation:Uw,revalidation:"idle",restoreScrollPosition:ss(L,V.matches||E.matches),preventScrollReset:xe,blockers:ye}),{viewTransitionOpts:rt,flushSync:Ce===!0}),I=fn.Pop,R=!1,M=!1,se=!1,ne=!1,Y=[]}async function gn(L,V){if(typeof L=="number"){t.history.go(L);return}let K=jx(E.location,E.matches,l,h.v7_prependBasename,L,h.v7_relativeSplatPath,V==null?void 0:V.fromRouteId,V==null?void 0:V.relative),{path:G,submission:de,error:Ce}=dR(h.v7_normalizeFormMethod,!1,K,V),Me=E.location,oe=jh(E.location,G,V&&V.state);oe=zt({},oe,t.history.encodeLocation(oe));let Ee=V&&V.replace!=null?V.replace:void 0,ye=fn.Push;Ee===!0?ye=fn.Replace:Ee===!1||de!=null&&Ds(de.formMethod)&&de.formAction===E.location.pathname+E.location.search&&(ye=fn.Replace);let xe=V&&"preventScrollReset"in V?V.preventScrollReset===!0:void 0,rt=(V&&V.unstable_flushSync)===!0,lt=$t({currentLocation:Me,nextLocation:oe,historyAction:ye});if(lt){rs(lt,{state:"blocked",location:oe,proceed(){rs(lt,{state:"proceeding",proceed:void 0,reset:void 0,location:oe}),gn(L,V)},reset(){let _t=new Map(E.blockers);_t.set(lt,md),qe({blockers:_t})}});return}return await j(ye,oe,{submission:de,pendingError:Ce,preventScrollReset:xe,replace:V&&V.replace,enableViewTransition:V&&V.unstable_viewTransition,flushSync:rt})}function jr(){if(wr(),qe({revalidation:"loading"}),E.navigation.state!=="submitting"){if(E.navigation.state==="idle"){j(E.historyAction,E.location,{startUninterruptedRevalidation:!0});return}j(I||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation,enableViewTransition:M===!0})}}async function j(L,V,K){k&&k.abort(),k=null,I=L,se=(K&&K.startUninterruptedRevalidation)===!0,In(E.location,E.matches),R=(K&&K.preventScrollReset)===!0,M=(K&&K.enableViewTransition)===!0;let G=a||o,de=K&&K.overrideNavigation,Ce=Ga(G,V,l),Me=(K&&K.flushSync)===!0,oe=ut(Ce,G,V.pathname);if(oe.active&&oe.matches&&(Ce=oe.matches),!Ce){let{error:et,notFoundMatches:dn,route:Nt}=rn(V.pathname);Ft(V,{matches:dn,loaderData:{},errors:{[Nt.id]:et}},{flushSync:Me});return}if(E.initialized&&!ne&&YH(E.location,V)&&!(K&&K.submission&&Ds(K.submission.formMethod))){Ft(V,{matches:Ce},{flushSync:Me});return}k=new AbortController;let Ee=Jl(t.history,V,k.signal,K&&K.submission),ye;if(K&&K.pendingError)ye=[yc(Ce).route.id,{type:Et.error,error:K.pendingError}];else if(K&&K.submission&&Ds(K.submission.formMethod)){let et=await $(Ee,V,K.submission,Ce,oe.active,{replace:K.replace,flushSync:Me});if(et.shortCircuited)return;if(et.pendingActionResult){let[dn,Nt]=et.pendingActionResult;if(zr(Nt)&&Nf(Nt.error)&&Nt.error.status===404){k=null,Ft(V,{matches:et.matches,loaderData:{},errors:{[dn]:Nt.error}});return}}Ce=et.matches||Ce,ye=et.pendingActionResult,de=Bw(V,K.submission),Me=!1,oe.active=!1,Ee=Jl(t.history,Ee.url,Ee.signal)}let{shortCircuited:xe,matches:rt,loaderData:lt,errors:_t}=await H(Ee,V,Ce,oe.active,de,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,K&&K.initialHydration===!0,Me,ye);xe||(k=null,Ft(V,zt({matches:rt||Ce},yR(ye),{loaderData:lt,errors:_t})))}async function $(L,V,K,G,de,Ce){Ce===void 0&&(Ce={}),wr();let Me=rq(V,K);if(qe({navigation:Me},{flushSync:Ce.flushSync===!0}),de){let ye=await Fr(G,V.pathname,L.signal);if(ye.type==="aborted")return{shortCircuited:!0};if(ye.type==="error"){let{boundaryId:xe,error:rt}=At(V.pathname,ye);return{matches:ye.partialMatches,pendingActionResult:[xe,{type:Et.error,error:rt}]}}else if(ye.matches)G=ye.matches;else{let{notFoundMatches:xe,error:rt,route:lt}=rn(V.pathname);return{matches:xe,pendingActionResult:[lt.id,{type:Et.error,error:rt}]}}}let oe,Ee=Pd(G,V);if(!Ee.route.action&&!Ee.route.lazy)oe={type:Et.error,error:hr(405,{method:L.method,pathname:V.pathname,routeId:Ee.route.id})};else if(oe=(await je("action",E,L,[Ee],G,null))[Ee.route.id],L.signal.aborted)return{shortCircuited:!0};if(Ja(oe)){let ye;return Ce&&Ce.replace!=null?ye=Ce.replace:ye=pR(oe.response.headers.get("Location"),new URL(L.url),l)===E.location.pathname+E.location.search,await Be(L,oe,!0,{submission:K,replace:ye}),{shortCircuited:!0}}if(Ho(oe))throw hr(400,{type:"defer-action"});if(zr(oe)){let ye=yc(G,Ee.route.id);return(Ce&&Ce.replace)!==!0&&(I=fn.Push),{matches:G,pendingActionResult:[ye.route.id,oe]}}return{matches:G,pendingActionResult:[Ee.route.id,oe]}}async function H(L,V,K,G,de,Ce,Me,oe,Ee,ye,xe){let rt=de||Bw(V,Ce),lt=Ce||Me||_R(rt),_t=!se&&(!h.v7_partialHydration||!Ee);if(G){if(_t){let Rt=ie(xe);qe(zt({navigation:rt},Rt!==void 0?{actionData:Rt}:{}),{flushSync:ye})}let ze=await Fr(K,V.pathname,L.signal);if(ze.type==="aborted")return{shortCircuited:!0};if(ze.type==="error"){let{boundaryId:Rt,error:qn}=At(V.pathname,ze);return{matches:ze.partialMatches,loaderData:{},errors:{[Rt]:qn}}}else if(ze.matches)K=ze.matches;else{let{error:Rt,notFoundMatches:qn,route:Dt}=rn(V.pathname);return{matches:qn,loaderData:{},errors:{[Dt.id]:Rt}}}}let et=a||o,[dn,Nt]=hR(t.history,E,K,lt,V,h.v7_partialHydration&&Ee===!0,h.v7_skipActionErrorRevalidation,ne,Y,z,Ne,We,Te,et,l,xe);if(lr(ze=>!(K&&K.some(Rt=>Rt.route.id===ze))||dn&&dn.some(Rt=>Rt.route.id===ze)),fe=++J,dn.length===0&&Nt.length===0){let ze=Hl();return Ft(V,zt({matches:K,loaderData:{},errors:xe&&zr(xe[1])?{[xe[0]]:xe[1].error}:null},yR(xe),ze?{fetchers:new Map(E.fetchers)}:{}),{flushSync:ye}),{shortCircuited:!0}}if(_t){let ze={};if(!G){ze.navigation=rt;let Rt=ie(xe);Rt!==void 0&&(ze.actionData=Rt)}Nt.length>0&&(ze.fetchers=re(Nt)),qe(ze,{flushSync:ye})}Nt.forEach(ze=>{B.has(ze.key)&&vn(ze.key),ze.controller&&B.set(ze.key,ze.controller)});let ho=()=>Nt.forEach(ze=>vn(ze.key));k&&k.signal.addEventListener("abort",ho);let{loaderResults:Vr,fetcherResults:os}=await Yt(E,K,dn,Nt,L);if(L.signal.aborted)return{shortCircuited:!0};k&&k.signal.removeEventListener("abort",ho),Nt.forEach(ze=>B.delete(ze.key));let Hn=zp(Vr);if(Hn)return await Be(L,Hn.result,!0,{replace:oe}),{shortCircuited:!0};if(Hn=zp(os),Hn)return Te.add(Hn.key),await Be(L,Hn.result,!0,{replace:oe}),{shortCircuited:!0};let{loaderData:fo,errors:Ss}=gR(E,K,dn,Vr,xe,Nt,os,ce);ce.forEach((ze,Rt)=>{ze.subscribe(qn=>{(qn||ze.done)&&ce.delete(Rt)})}),h.v7_partialHydration&&Ee&&E.errors&&Object.entries(E.errors).filter(ze=>{let[Rt]=ze;return!dn.some(qn=>qn.route.id===Rt)}).forEach(ze=>{let[Rt,qn]=ze;Ss=Object.assign(Ss||{},{[Rt]:qn})});let La=Hl(),Fa=xi(fe),Va=La||Fa||Nt.length>0;return zt({matches:K,loaderData:fo,errors:Ss},Va?{fetchers:new Map(E.fetchers)}:{})}function ie(L){if(L&&!zr(L[1]))return{[L[0]]:L[1].data};if(E.actionData)return Object.keys(E.actionData).length===0?null:E.actionData}function re(L){return L.forEach(V=>{let K=E.fetchers.get(V.key),G=gd(void 0,K?K.data:void 0);E.fetchers.set(V.key,G)}),new Map(E.fetchers)}function ee(L,V,K,G){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");B.has(L)&&vn(L);let de=(G&&G.unstable_flushSync)===!0,Ce=a||o,Me=jx(E.location,E.matches,l,h.v7_prependBasename,K,h.v7_relativeSplatPath,V,G==null?void 0:G.relative),oe=Ga(Ce,Me,l),Ee=ut(oe,Ce,Me);if(Ee.active&&Ee.matches&&(oe=Ee.matches),!oe){Vt(L,V,hr(404,{pathname:Me}),{flushSync:de});return}let{path:ye,submission:xe,error:rt}=dR(h.v7_normalizeFormMethod,!0,Me,G);if(rt){Vt(L,V,rt,{flushSync:de});return}let lt=Pd(oe,ye);if(R=(G&&G.preventScrollReset)===!0,xe&&Ds(xe.formMethod)){_e(L,V,ye,lt,oe,Ee.active,de,xe);return}We.set(L,{routeId:V,path:ye}),Ue(L,V,ye,lt,oe,Ee.active,de,xe)}async function _e(L,V,K,G,de,Ce,Me,oe){wr(),We.delete(L);function Ee(Dt){if(!Dt.route.action&&!Dt.route.lazy){let Ts=hr(405,{method:oe.formMethod,pathname:K,routeId:V});return Vt(L,V,Ts,{flushSync:Me}),!0}return!1}if(!Ce&&Ee(G))return;let ye=E.fetchers.get(L);Rn(L,sq(oe,ye),{flushSync:Me});let xe=new AbortController,rt=Jl(t.history,K,xe.signal,oe);if(Ce){let Dt=await Fr(de,K,rt.signal);if(Dt.type==="aborted")return;if(Dt.type==="error"){let{error:Ts}=At(K,Dt);Vt(L,V,Ts,{flushSync:Me});return}else if(Dt.matches){if(de=Dt.matches,G=Pd(de,K),Ee(G))return}else{Vt(L,V,hr(404,{pathname:K}),{flushSync:Me});return}}B.set(L,xe);let lt=J,et=(await je("action",E,rt,[G],de,L))[G.route.id];if(rt.signal.aborted){B.get(L)===xe&&B.delete(L);return}if(h.v7_fetcherPersist&&Ne.has(L)){if(Ja(et)||zr(et)){Rn(L,xo(void 0));return}}else{if(Ja(et))if(B.delete(L),fe>lt){Rn(L,xo(void 0));return}else return Te.add(L),Rn(L,gd(oe)),Be(rt,et,!1,{fetcherSubmission:oe});if(zr(et)){Vt(L,V,et.error);return}}if(Ho(et))throw hr(400,{type:"defer-action"});let dn=E.navigation.location||E.location,Nt=Jl(t.history,dn,xe.signal),ho=a||o,Vr=E.navigation.state!=="idle"?Ga(ho,E.navigation.location,l):E.matches;Je(Vr,"Didn't find any matches after fetcher action");let os=++J;he.set(L,os);let Hn=gd(oe,et.data);E.fetchers.set(L,Hn);let[fo,Ss]=hR(t.history,E,Vr,oe,dn,!1,h.v7_skipActionErrorRevalidation,ne,Y,z,Ne,We,Te,ho,l,[G.route.id,et]);Ss.filter(Dt=>Dt.key!==L).forEach(Dt=>{let Ts=Dt.key,hp=E.fetchers.get(Ts),fp=gd(void 0,hp?hp.data:void 0);E.fetchers.set(Ts,fp),B.has(Ts)&&vn(Ts),Dt.controller&&B.set(Ts,Dt.controller)}),qe({fetchers:new Map(E.fetchers)});let La=()=>Ss.forEach(Dt=>vn(Dt.key));xe.signal.addEventListener("abort",La);let{loaderResults:Fa,fetcherResults:Va}=await Yt(E,Vr,fo,Ss,Nt);if(xe.signal.aborted)return;xe.signal.removeEventListener("abort",La),he.delete(L),B.delete(L),Ss.forEach(Dt=>B.delete(Dt.key));let ze=zp(Fa);if(ze)return Be(Nt,ze.result,!1);if(ze=zp(Va),ze)return Te.add(ze.key),Be(Nt,ze.result,!1);let{loaderData:Rt,errors:qn}=gR(E,Vr,fo,Fa,void 0,Ss,Va,ce);if(E.fetchers.has(L)){let Dt=xo(et.data);E.fetchers.set(L,Dt)}xi(os),E.navigation.state==="loading"&&os>fe?(Je(I,"Expected pending action"),k&&k.abort(),Ft(E.navigation.location,{matches:Vr,loaderData:Rt,errors:qn,fetchers:new Map(E.fetchers)})):(qe({errors:qn,loaderData:vR(E.loaderData,Rt,Vr,qn),fetchers:new Map(E.fetchers)}),ne=!1)}async function Ue(L,V,K,G,de,Ce,Me,oe){let Ee=E.fetchers.get(L);Rn(L,gd(oe,Ee?Ee.data:void 0),{flushSync:Me});let ye=new AbortController,xe=Jl(t.history,K,ye.signal);if(Ce){let et=await Fr(de,K,xe.signal);if(et.type==="aborted")return;if(et.type==="error"){let{error:dn}=At(K,et);Vt(L,V,dn,{flushSync:Me});return}else if(et.matches)de=et.matches,G=Pd(de,K);else{Vt(L,V,hr(404,{pathname:K}),{flushSync:Me});return}}B.set(L,ye);let rt=J,_t=(await je("loader",E,xe,[G],de,L))[G.route.id];if(Ho(_t)&&(_t=await ub(_t,xe.signal,!0)||_t),B.get(L)===ye&&B.delete(L),!xe.signal.aborted){if(Ne.has(L)){Rn(L,xo(void 0));return}if(Ja(_t))if(fe>rt){Rn(L,xo(void 0));return}else{Te.add(L),await Be(xe,_t,!1);return}if(zr(_t)){Vt(L,V,_t.error);return}Je(!Ho(_t),"Unhandled fetcher deferred data"),Rn(L,xo(_t.data))}}async function Be(L,V,K,G){let{submission:de,fetcherSubmission:Ce,replace:Me}=G===void 0?{}:G;V.response.headers.has("X-Remix-Revalidate")&&(ne=!0);let oe=V.response.headers.get("Location");Je(oe,"Expected a Location header on the redirect Response"),oe=pR(oe,new URL(L.url),l);let Ee=jh(E.location,oe,{_isRedirect:!0});if(n){let et=!1;if(V.response.headers.has("X-Remix-Reload-Document"))et=!0;else if(cb.test(oe)){const dn=t.history.createURL(oe);et=dn.origin!==e.location.origin||Ru(dn.pathname,l)==null}if(et){Me?e.location.replace(oe):e.location.assign(oe);return}}k=null;let ye=Me===!0||V.response.headers.has("X-Remix-Replace")?fn.Replace:fn.Push,{formMethod:xe,formAction:rt,formEncType:lt}=E.navigation;!de&&!Ce&&xe&&rt&&lt&&(de=_R(E.navigation));let _t=de||Ce;if(OH.has(V.response.status)&&_t&&Ds(_t.formMethod))await j(ye,Ee,{submission:zt({},_t,{formAction:oe}),preventScrollReset:R,enableViewTransition:K?M:void 0});else{let et=Bw(Ee,de);await j(ye,Ee,{overrideNavigation:et,fetcherSubmission:Ce,preventScrollReset:R,enableViewTransition:K?M:void 0})}}async function je(L,V,K,G,de,Ce){let Me,oe={};try{Me=await WH(c,L,V,K,G,de,Ce,i,s)}catch(Ee){return G.forEach(ye=>{oe[ye.route.id]={type:Et.error,error:Ee}}),oe}for(let[Ee,ye]of Object.entries(Me))if(JH(ye)){let xe=ye.result;oe[Ee]={type:Et.redirect,response:GH(xe,K,Ee,de,l,h.v7_relativeSplatPath)}}else oe[Ee]=await qH(ye);return oe}async function Yt(L,V,K,G,de){let Ce=L.matches,Me=je("loader",L,de,K,V,null),oe=Promise.all(G.map(async xe=>{if(xe.matches&&xe.match&&xe.controller){let lt=(await je("loader",L,Jl(t.history,xe.path,xe.controller.signal),[xe.match],xe.matches,xe.key))[xe.match.route.id];return{[xe.key]:lt}}else return Promise.resolve({[xe.key]:{type:Et.error,error:hr(404,{pathname:xe.path})}})})),Ee=await Me,ye=(await oe).reduce((xe,rt)=>Object.assign(xe,rt),{});return await Promise.all([tq(V,Ee,de.signal,Ce,L.loaderData),nq(V,ye,G)]),{loaderResults:Ee,fetcherResults:ye}}function wr(){ne=!0,Y.push(...lr()),We.forEach((L,V)=>{B.has(V)&&(z.add(V),vn(V))})}function Rn(L,V,K){K===void 0&&(K={}),E.fetchers.set(L,V),qe({fetchers:new Map(E.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function Vt(L,V,K,G){G===void 0&&(G={});let de=yc(E.matches,V);ns(L),qe({errors:{[de.route.id]:K},fetchers:new Map(E.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function Lr(L){return h.v7_fetcherPersist&&(at.set(L,(at.get(L)||0)+1),Ne.has(L)&&Ne.delete(L)),E.fetchers.get(L)||jH}function ns(L){let V=E.fetchers.get(L);B.has(L)&&!(V&&V.state==="loading"&&he.has(L))&&vn(L),We.delete(L),he.delete(L),Te.delete(L),Ne.delete(L),z.delete(L),E.fetchers.delete(L)}function co(L){if(h.v7_fetcherPersist){let V=(at.get(L)||0)-1;V<=0?(at.delete(L),Ne.add(L)):at.set(L,V)}else ns(L);qe({fetchers:new Map(E.fetchers)})}function vn(L){let V=B.get(L);Je(V,"Expected fetch controller: "+L),V.abort(),B.delete(L)}function Oa(L){for(let V of L){let K=Lr(V),G=xo(K.data);E.fetchers.set(V,G)}}function Hl(){let L=[],V=!1;for(let K of Te){let G=E.fetchers.get(K);Je(G,"Expected fetcher: "+K),G.state==="loading"&&(Te.delete(K),L.push(K),V=!0)}return Oa(L),V}function xi(L){let V=[];for(let[K,G]of he)if(G<L){let de=E.fetchers.get(K);Je(de,"Expected fetcher: "+K),de.state==="loading"&&(vn(K),he.delete(K),V.push(K))}return Oa(V),V.length>0}function ql(L,V){let K=E.blockers.get(L)||md;return Pe.get(L)!==V&&Pe.set(L,V),K}function ja(L){E.blockers.delete(L),Pe.delete(L)}function rs(L,V){let K=E.blockers.get(L)||md;Je(K.state==="unblocked"&&V.state==="blocked"||K.state==="blocked"&&V.state==="blocked"||K.state==="blocked"&&V.state==="proceeding"||K.state==="blocked"&&V.state==="unblocked"||K.state==="proceeding"&&V.state==="unblocked","Invalid blocker state transition: "+K.state+" -> "+V.state);let G=new Map(E.blockers);G.set(L,V),qe({blockers:G})}function $t(L){let{currentLocation:V,nextLocation:K,historyAction:G}=L;if(Pe.size===0)return;Pe.size>1&&cu(!1,"A router only supports one blocker at a time");let de=Array.from(Pe.entries()),[Ce,Me]=de[de.length-1],oe=E.blockers.get(Ce);if(!(oe&&oe.state==="proceeding")&&Me({currentLocation:V,nextLocation:K,historyAction:G}))return Ce}function rn(L){let V=hr(404,{pathname:L}),K=a||o,{matches:G,route:de}=wR(K);return lr(),{notFoundMatches:G,route:de,error:V}}function At(L,V){return{boundaryId:yc(V.partialMatches).route.id,error:hr(400,{type:"route-discovery",pathname:L,message:V.error!=null&&"message"in V.error?V.error:String(V.error)})}}function lr(L){let V=[];return ce.forEach((K,G)=>{(!L||L(G))&&(K.cancel(),V.push(G),ce.delete(G))}),V}function yn(L,V,K){if(x=L,y=V,_=K||null,!b&&E.navigation===Uw){b=!0;let G=ss(E.location,E.matches);G!=null&&qe({restoreScrollPosition:G})}return()=>{x=null,y=null,_=null}}function wn(L,V){return _&&_(L,V.map(G=>fH(G,E.loaderData)))||L.key}function In(L,V){if(x&&y){let K=wn(L,V);x[K]=y()}}function ss(L,V){if(x){let K=wn(L,V),G=x[K];if(typeof G=="number")return G}return null}function ut(L,V,K){if(u){if(v.has(K))return{active:!1,matches:L};if(L){if(Object.keys(L[0].params).length>0)return{active:!0,matches:Pm(V,K,l,!0)}}else return{active:!0,matches:Pm(V,K,l,!0)||[]}}return{active:!1,matches:null}}async function Fr(L,V,K){let G=L;for(;;){let de=a==null,Ce=a||o;try{await $H(u,V,G,Ce,i,s,He,K)}catch(Ee){return{type:"error",error:Ee,partialMatches:G}}finally{de&&(o=[...o])}if(K.aborted)return{type:"aborted"};let Me=Ga(Ce,V,l);if(Me)return xr(V,v),{type:"success",matches:Me};let oe=Pm(Ce,V,l,!0);if(!oe||G.length===oe.length&&G.every((Ee,ye)=>Ee.route.id===oe[ye].route.id))return xr(V,v),{type:"success",matches:null};G=oe}}function xr(L,V){if(V.size>=w){let K=V.values().next().value;V.delete(K)}V.add(L)}function is(L){i={},a=Lh(L,s,void 0,i)}function uo(L,V){let K=a==null;LM(L,V,a||o,i,s),K&&(o=[...o],qe({}))}return T={get basename(){return l},get future(){return h},get state(){return E},get routes(){return o},get window(){return e},initialize:$e,subscribe:yt,enableScrollRestoration:yn,navigate:gn,fetch:ee,revalidate:jr,createHref:L=>t.history.createHref(L),encodeLocation:L=>t.history.encodeLocation(L),getFetcher:Lr,deleteFetcher:co,dispose:Oe,getBlocker:ql,deleteBlocker:ja,patchRoutes:uo,_internalFetchControllers:B,_internalActiveDeferreds:ce,_internalSetRoutes:is},T}function VH(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function jx(t,e,n,r,s,i,o,a){let l,c;if(o){l=[];for(let h of e)if(l.push(h),h.route.id===o){c=h;break}}else l=e,c=e[e.length-1];let u=Bv(s||".",Uv(l,i),Ru(t.pathname,n)||t.pathname,a==="path");return s==null&&(u.search=t.search,u.hash=t.hash),(s==null||s===""||s===".")&&c&&c.route.index&&!db(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Vi([n,u.pathname])),bl(u)}function dR(t,e,n,r){if(!r||!VH(r))return{path:n};if(r.formMethod&&!eq(r.formMethod))return{path:n,error:hr(405,{method:r.formMethod})};let s=()=>({path:n,error:hr(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=t?i.toUpperCase():i.toLowerCase(),a=FM(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Ds(o))return s();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((g,w)=>{let[v,x]=w;return""+g+v+"="+x+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!Ds(o))return s();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return s()}}}Je(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=Lx(r.formData),c=r.formData;else if(r.body instanceof FormData)l=Lx(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=mR(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=mR(l)}catch{return s()}let u={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Ds(u.formMethod))return{path:n,submission:u};let h=Ta(n);return e&&h.search&&db(h.search)&&l.append("index",""),h.search="?"+l,{path:bl(h),submission:u}}function UH(t,e){let n=t;if(e){let r=t.findIndex(s=>s.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function hR(t,e,n,r,s,i,o,a,l,c,u,h,p,g,w,v){let x=v?zr(v[1])?v[1].error:v[1].data:void 0,_=t.createURL(e.location),y=t.createURL(s),b=v&&zr(v[1])?v[0]:void 0,A=b?UH(n,b):n,P=v?v[1].statusCode:void 0,O=o&&P&&P>=400,T=A.filter((I,R)=>{let{route:k}=I;if(k.lazy)return!0;if(k.loader==null)return!1;if(i)return typeof k.loader!="function"||k.loader.hydrate?!0:e.loaderData[k.id]===void 0&&(!e.errors||e.errors[k.id]===void 0);if(BH(e.loaderData,e.matches[R],I)||l.some(W=>W===I.route.id))return!0;let M=e.matches[R],N=I;return fR(I,zt({currentUrl:_,currentParams:M.params,nextUrl:y,nextParams:N.params},r,{actionResult:x,actionStatus:P,defaultShouldRevalidate:O?!1:a||_.pathname+_.search===y.pathname+y.search||_.search!==y.search||jM(M,N)}))}),E=[];return h.forEach((I,R)=>{if(i||!n.some(se=>se.route.id===I.routeId)||u.has(R))return;let k=Ga(g,I.path,w);if(!k){E.push({key:R,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let M=e.fetchers.get(R),N=Pd(k,I.path),W=!1;p.has(R)?W=!1:c.has(R)?(c.delete(R),W=!0):M&&M.state!=="idle"&&M.data===void 0?W=a:W=fR(N,zt({currentUrl:_,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:x,actionStatus:P,defaultShouldRevalidate:O?!1:a})),W&&E.push({key:R,routeId:I.routeId,path:I.path,matches:k,match:N,controller:new AbortController})}),[T,E]}function BH(t,e,n){let r=!e||n.route.id!==e.route.id,s=t[n.route.id]===void 0;return r||s}function jM(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function fR(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function $H(t,e,n,r,s,i,o,a){let l=[e,...n.map(c=>c.route.id)].join("-");try{let c=o.get(l);c||(c=t({path:e,matches:n,patch:(u,h)=>{a.aborted||LM(u,h,r,s,i)}}),o.set(l,c)),c&&XH(c)&&await c}finally{o.delete(l)}}function LM(t,e,n,r,s){if(t){var i;let o=r[t];Je(o,"No route found to patch children into: routeId = "+t);let a=Lh(e,s,[t,"patch",String(((i=o.children)==null?void 0:i.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=Lh(e,s,["patch",String(n.length||"0")],r);n.push(...o)}}async function zH(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let s=n[t.id];Je(s,"No route found in manifest");let i={};for(let o in r){let l=s[o]!==void 0&&o!=="hasErrorBoundary";cu(!l,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!dH.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,zt({},e(s),{lazy:void 0}))}async function KH(t){let{matches:e}=t,n=e.filter(s=>s.shouldLoad);return(await Promise.all(n.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[n[o].route.id]:i}),{})}async function WH(t,e,n,r,s,i,o,a,l,c){let u=i.map(g=>g.route.lazy?zH(g.route,l,a):void 0),h=i.map((g,w)=>{let v=u[w],x=s.some(y=>y.route.id===g.route.id);return zt({},g,{shouldLoad:x,resolve:async y=>(y&&r.method==="GET"&&(g.route.lazy||g.route.loader)&&(x=!0),x?HH(e,r,g,v,y,c):Promise.resolve({type:Et.data,result:void 0}))})}),p=await t({matches:h,request:r,params:i[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return p}async function HH(t,e,n,r,s,i){let o,a,l=c=>{let u,h=new Promise((w,v)=>u=v);a=()=>u(),e.signal.addEventListener("abort",a);let p=w=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:i},...w!==void 0?[w]:[]),g=(async()=>{try{return{type:"data",result:await(s?s(v=>p(v)):p())}}catch(w){return{type:"error",result:w}}})();return Promise.race([g,h])};try{let c=n.route[t];if(r)if(c){let u,[h]=await Promise.all([l(c).catch(p=>{u=p}),r]);if(u!==void 0)throw u;o=h}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),h=u.pathname+u.search;throw hr(405,{method:e.method,pathname:h,routeId:n.route.id})}else return{type:Et.data,result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),h=u.pathname+u.search;throw hr(404,{pathname:h})}Je(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Et.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function qH(t){let{result:e,type:n}=t;if(VM(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:Et.error,error:u}}return n===Et.error?{type:Et.error,error:new Cg(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:Et.data,data:c,statusCode:e.status,headers:e.headers}}if(n===Et.error){if(xR(e)){var r;if(e.data instanceof Error){var s;return{type:Et.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status}}e=new Cg(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Et.error,error:e,statusCode:Nf(e)?e.status:void 0}}if(ZH(e)){var i,o;return{type:Et.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(xR(e)){var a,l;return{type:Et.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Et.data,data:e}}function GH(t,e,n,r,s,i){let o=t.headers.get("Location");if(Je(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!cb.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=jx(new URL(e.url),a,s,!0,o,i),t.headers.set("Location",o)}return t}function pR(t,e,n){if(cb.test(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=Ru(s.pathname,n)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function Jl(t,e,n,r){let s=t.createURL(FM(e)).toString(),i={signal:n};if(r&&Ds(r.formMethod)){let{formMethod:o,formEncType:a}=r;i.method=o.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(r.json)):a==="text/plain"?i.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?i.body=Lx(r.formData):i.body=r.formData}return new Request(s,i)}function Lx(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function mR(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function QH(t,e,n,r,s){let i={},o=null,a,l=!1,c={},u=n&&zr(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let p=h.route.id,g=e[p];if(Je(!Ja(g),"Cannot handle redirect results in processLoaderData"),zr(g)){let w=g.error;u!==void 0&&(w=u,u=void 0),o=o||{};{let v=yc(t,p);o[v.route.id]==null&&(o[v.route.id]=w)}i[p]=void 0,l||(l=!0,a=Nf(g.error)?g.error.status:500),g.headers&&(c[p]=g.headers)}else Ho(g)?(r.set(p,g.deferredData),i[p]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[p]=g.headers)):(i[p]=g.data,g.statusCode&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[p]=g.headers))}),u!==void 0&&n&&(o={[n[0]]:u},i[n[0]]=void 0),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:c}}function gR(t,e,n,r,s,i,o,a){let{loaderData:l,errors:c}=QH(e,r,s,a);return i.forEach(u=>{let{key:h,match:p,controller:g}=u,w=o[h];if(Je(w,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(zr(w)){let v=yc(t.matches,p==null?void 0:p.route.id);c&&c[v.route.id]||(c=zt({},c,{[v.route.id]:w.error})),t.fetchers.delete(h)}else if(Ja(w))Je(!1,"Unhandled fetcher revalidation redirect");else if(Ho(w))Je(!1,"Unhandled fetcher deferred data");else{let v=xo(w.data);t.fetchers.set(h,v)}}),{loaderData:l,errors:c}}function vR(t,e,n,r){let s=zt({},e);for(let i of n){let o=i.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&i.route.loader&&(s[o]=t[o]),r&&r.hasOwnProperty(o))break}return s}function yR(t){return t?zr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function yc(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function wR(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function hr(t,e){let{pathname:n,routeId:r,method:s,type:i,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):s&&n&&r?l="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",s&&n&&r?l="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new Cg(t||500,a,new Error(l),!0)}function zp(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(Ja(s))return{key:r,result:s}}}function FM(t){let e=typeof t=="string"?Ta(t):t;return bl(zt({},e,{hash:""}))}function YH(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function XH(t){return typeof t=="object"&&t!=null&&"then"in t}function JH(t){return VM(t.result)&&MH.has(t.result.status)}function Ho(t){return t.type===Et.deferred}function zr(t){return t.type===Et.error}function Ja(t){return(t&&t.type)===Et.redirect}function xR(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function ZH(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function VM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function eq(t){return kH.has(t.toLowerCase())}function Ds(t){return NH.has(t.toLowerCase())}async function tq(t,e,n,r,s){let i=Object.entries(e);for(let o=0;o<i.length;o++){let[a,l]=i[o],c=t.find(p=>(p==null?void 0:p.route.id)===a);if(!c)continue;let u=r.find(p=>p.route.id===c.route.id),h=u!=null&&!jM(u,c)&&(s&&s[c.route.id])!==void 0;Ho(l)&&h&&await ub(l,n,!1).then(p=>{p&&(e[a]=p)})}}async function nq(t,e,n){for(let r=0;r<n.length;r++){let{key:s,routeId:i,controller:o}=n[r],a=e[s];t.find(c=>(c==null?void 0:c.route.id)===i)&&Ho(a)&&(Je(o,"Expected an AbortController for revalidating fetcher deferred result"),await ub(a,o.signal,!0).then(c=>{c&&(e[s]=c)}))}}async function ub(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Et.data,data:t.deferredData.unwrappedData}}catch(s){return{type:Et.error,error:s}}return{type:Et.data,data:t.deferredData.data}}}function db(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Pd(t,e){let n=typeof e=="string"?Ta(e).search:e.search;if(t[t.length-1].route.index&&db(n||""))return t[t.length-1];let r=kM(t);return r[r.length-1]}function _R(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:i,json:o}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Bw(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function rq(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function gd(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function sq(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function xo(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function iq(t,e){try{let n=t.sessionStorage.getItem(OM);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function oq(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(OM,JSON.stringify(n))}catch(r){cu(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ag(){return Ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ag.apply(this,arguments)}const $v=m.createContext(null),UM=m.createContext(null),Ca=m.createContext(null),hb=m.createContext(null),Aa=m.createContext({outlet:null,matches:[],isDataRoute:!1}),BM=m.createContext(null);function aq(t,e){let{relative:n}=e===void 0?{}:e;Iu()||Je(!1);let{basename:r,navigator:s}=m.useContext(Ca),{hash:i,pathname:o,search:a}=zM(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Vi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Iu(){return m.useContext(hb)!=null}function Pu(){return Iu()||Je(!1),m.useContext(hb).location}function $M(t){m.useContext(Ca).static||m.useLayoutEffect(t)}function Df(){let{isDataRoute:t}=m.useContext(Aa);return t?yq():lq()}function lq(){Iu()||Je(!1);let t=m.useContext($v),{basename:e,future:n,navigator:r}=m.useContext(Ca),{matches:s}=m.useContext(Aa),{pathname:i}=Pu(),o=JSON.stringify(Uv(s,n.v7_relativeSplatPath)),a=m.useRef(!1);return $M(()=>{a.current=!0}),m.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=Bv(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Vi([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,i,t])}function zM(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(Ca),{matches:s}=m.useContext(Aa),{pathname:i}=Pu(),o=JSON.stringify(Uv(s,r.v7_relativeSplatPath));return m.useMemo(()=>Bv(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function cq(t,e,n,r){Iu()||Je(!1);let{navigator:s}=m.useContext(Ca),{matches:i}=m.useContext(Aa),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Pu(),u;u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=Ga(t,{pathname:p});return pq(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Vi([l,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Vi([l,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,r)}function uq(){let t=HM(),e=Nf(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:s},n):null,null)}const dq=m.createElement(uq,null);class hq extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(Aa.Provider,{value:this.props.routeContext},m.createElement(BM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fq(t){let{routeContext:e,match:n,children:r}=t,s=m.useContext($v);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Aa.Provider,{value:e},r)}function pq(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||Je(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:p,errors:g}=n,w=h.route.loader&&p[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,p)=>{let g,w=!1,v=null,x=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||dq,l&&(c<0&&p===0?(wq("route-fallback"),w=!0,x=null):c===p&&(w=!0,x=h.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,p+1)),y=()=>{let b;return g?b=v:w?b=x:h.route.Component?b=m.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,m.createElement(fq,{match:h,routeContext:{outlet:u,matches:_,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?m.createElement(hq,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:y(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):y()},null)}var KM=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(KM||{}),Rg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Rg||{});function mq(t){let e=m.useContext($v);return e||Je(!1),e}function gq(t){let e=m.useContext(UM);return e||Je(!1),e}function vq(t){let e=m.useContext(Aa);return e||Je(!1),e}function WM(t){let e=vq(),n=e.matches[e.matches.length-1];return n.route.id||Je(!1),n.route.id}function HM(){var t;let e=m.useContext(BM),n=gq(Rg.UseRouteError),r=WM(Rg.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function yq(){let{router:t}=mq(KM.UseNavigateStable),e=WM(Rg.UseNavigateStable),n=m.useRef(!1);return $M(()=>{n.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ag({fromRouteId:e},i)))},[t,e])}const ER={};function wq(t,e,n){ER[t]||(ER[t]=!0)}function qM(t){let{to:e,replace:n,state:r,relative:s}=t;Iu()||Je(!1);let{future:i,static:o}=m.useContext(Ca),{matches:a}=m.useContext(Aa),{pathname:l}=Pu(),c=Df(),u=Bv(e,Uv(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(u);return m.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function xq(t){let{basename:e="/",children:n=null,location:r,navigationType:s=fn.Pop,navigator:i,static:o=!1,future:a}=t;Iu()&&Je(!1);let l=e.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:i,static:o,future:Ag({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Ta(r));let{pathname:u="/",search:h="",hash:p="",state:g=null,key:w="default"}=r,v=m.useMemo(()=>{let x=Ru(u,l);return x==null?null:{location:{pathname:x,search:h,hash:p,state:g,key:w},navigationType:s}},[l,u,h,p,g,w,s]);return v==null?null:m.createElement(Ca.Provider,{value:c},m.createElement(hb.Provider,{children:n,value:v}))}new Promise(()=>{});function _q(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:m.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:m.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:m.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fh(){return Fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fh.apply(this,arguments)}function Eq(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function bq(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Sq(t,e){return t.button===0&&(!e||e==="_self")&&!bq(t)}const Tq=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Cq="6";try{window.__reactRouterVersion=Cq}catch{}function Aq(t,e){return FH({basename:e==null?void 0:e.basename,future:Fh({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:lH({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||Rq(),routes:t,mapRouteProperties:_q,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,unstable_patchRoutesOnNavigation:e==null?void 0:e.unstable_patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function Rq(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Fh({},e,{errors:Iq(e.errors)})),e}function Iq(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new Cg(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}const Pq=m.createContext({isTransitioning:!1}),Nq=m.createContext(new Map),Dq="startTransition",bR=CN[Dq],kq="flushSync",SR=t6[kq];function Mq(t){bR?bR(t):t()}function vd(t){SR?SR(t):t()}class Oq{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function jq(t){let{fallbackElement:e,router:n,future:r}=t,[s,i]=m.useState(n.state),[o,a]=m.useState(),[l,c]=m.useState({isTransitioning:!1}),[u,h]=m.useState(),[p,g]=m.useState(),[w,v]=m.useState(),x=m.useRef(new Map),{v7_startTransition:_}=r||{},y=m.useCallback(E=>{_?Mq(E):E()},[_]),b=m.useCallback((E,I)=>{let{deletedFetchers:R,unstable_flushSync:k,unstable_viewTransitionOpts:M}=I;R.forEach(W=>x.current.delete(W)),E.fetchers.forEach((W,se)=>{W.data!==void 0&&x.current.set(se,W.data)});let N=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!M||N){k?vd(()=>i(E)):y(()=>i(E));return}if(k){vd(()=>{p&&(u&&u.resolve(),p.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let W=n.window.document.startViewTransition(()=>{vd(()=>i(E))});W.finished.finally(()=>{vd(()=>{h(void 0),g(void 0),a(void 0),c({isTransitioning:!1})})}),vd(()=>g(W));return}p?(u&&u.resolve(),p.skipTransition(),v({state:E,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(a(E),c({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[n.window,p,u,x,y]);m.useLayoutEffect(()=>n.subscribe(b),[n,b]),m.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new Oq)},[l]),m.useEffect(()=>{if(u&&o&&n.window){let E=o,I=u.promise,R=n.window.document.startViewTransition(async()=>{y(()=>i(E)),await I});R.finished.finally(()=>{h(void 0),g(void 0),a(void 0),c({isTransitioning:!1})}),g(R)}},[y,o,u,n.window]),m.useEffect(()=>{u&&o&&s.location.key===o.location.key&&u.resolve()},[u,p,s.location,o]),m.useEffect(()=>{!l.isTransitioning&&w&&(a(w.state),c({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),v(void 0))},[l.isTransitioning,w]),m.useEffect(()=>{},[]);let A=m.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:E=>n.navigate(E),push:(E,I,R)=>n.navigate(E,{state:I,preventScrollReset:R==null?void 0:R.preventScrollReset}),replace:(E,I,R)=>n.navigate(E,{replace:!0,state:I,preventScrollReset:R==null?void 0:R.preventScrollReset})}),[n]),P=n.basename||"/",O=m.useMemo(()=>({router:n,navigator:A,static:!1,basename:P}),[n,A,P]),T=m.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return m.createElement(m.Fragment,null,m.createElement($v.Provider,{value:O},m.createElement(UM.Provider,{value:s},m.createElement(Nq.Provider,{value:x.current},m.createElement(Pq.Provider,{value:l},m.createElement(xq,{basename:P,location:s.location,navigationType:s.historyAction,navigator:A,future:T},s.initialized||n.future.v7_partialHydration?m.createElement(Lq,{routes:n.routes,future:n.future,state:s}):e))))),null)}const Lq=m.memo(Fq);function Fq(t){let{routes:e,future:n,state:r}=t;return cq(e,void 0,r,n)}const Vq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Uq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bq=m.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:h}=e,p=Eq(e,Tq),{basename:g}=m.useContext(Ca),w,v=!1;if(typeof c=="string"&&Uq.test(c)&&(w=c,Vq))try{let b=new URL(window.location.href),A=c.startsWith("//")?new URL(b.protocol+c):new URL(c),P=Ru(A.pathname,g);A.origin===b.origin&&P!=null?c=P+A.search+A.hash:v=!0}catch{}let x=aq(c,{relative:s}),_=$q(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,unstable_viewTransition:h});function y(b){r&&r(b),b.defaultPrevented||_(b)}return m.createElement("a",Fh({},p,{href:w||x,onClick:v||i?r:y,ref:n,target:l}))});var TR;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(TR||(TR={}));var CR;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(CR||(CR={}));function $q(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Df(),c=Pu(),u=zM(t,{relative:o});return m.useCallback(h=>{if(Sq(h,n)){h.preventDefault();let p=r!==void 0?r:bl(c)===bl(u);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}const zq=()=>{const t=ft(n=>n.isAuth),e=Df();m.useEffect(()=>{(async()=>{try{const r=PW();await pK(r),gt("Sign in success")}catch{}})()},[]),m.useEffect(()=>{if(!t)return e("/login")},[t])};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),GM=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>m.createElement("svg",{ref:l,...Wq,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:GM("lucide",s),...a},[...o.map(([c,u])=>m.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=(t,e)=>{const n=m.forwardRef(({className:r,...s},i)=>m.createElement(Hq,{ref:i,iconNode:e,className:GM(`lucide-${Kq(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=Ge("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=Ge("Blocks",[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",key:"1fpvtg"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=Ge("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=Ge("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=Ge("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=Ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=Ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=Ge("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=Ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=Ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=Ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=Ge("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=Ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=Ge("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=Ge("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=Ge("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=Ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=Ge("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=Ge("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=Ge("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=Ge("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=Ge("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=Ge("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=Ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=Ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=Ge("MessageSquareCode",[["path",{d:"M10 7.5 8 10l2 2.5",key:"xb17xw"}],["path",{d:"m14 7.5 2 2.5-2 2.5",key:"5rap1v"}],["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=Ge("MessageSquareMore",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M16 10h.01",key:"1m94wz"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=Ge("MessageSquareText",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M13 8H7",key:"14i4kc"}],["path",{d:"M17 12H7",key:"16if0g"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=Ge("PanelRight",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=Ge("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=Ge("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=Ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=Ge("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=Ge("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=Ge("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=Ge("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=Ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=Ge("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=Ge("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=Ge("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=Ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=Ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.436.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=Ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Z(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function g8(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Wv(...t){return e=>t.forEach(n=>g8(n,e))}function ke(...t){return m.useCallback(Wv(...t),t)}function v8(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var _;const{scope:p,children:g,...w}=h,v=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,x=m.useMemo(()=>w,Object.values(w));return d.jsx(v.Provider,{value:x,children:g})};c.displayName=i+"Provider";function u(h,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,y8(s,...e)]}function y8(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function pt(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function ua({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=w8({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=pt(n),l=m.useCallback(c=>{if(i){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else s(c)},[i,t,s,a]);return[o,l]}function w8({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,s=m.useRef(r),i=pt(e);return m.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var da=m.forwardRef((t,e)=>{const{children:n,...r}=t,s=m.Children.toArray(n),i=s.find(x8);if(i){const o=i.props.children,a=s.map(l=>l===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return d.jsx(Fx,{...r,ref:e,children:m.isValidElement(o)?m.cloneElement(o,void 0,a):null})}return d.jsx(Fx,{...r,ref:e,children:n})});da.displayName="Slot";var Fx=m.forwardRef((t,e)=>{const{children:n,...r}=t;if(m.isValidElement(n)){const s=E8(n);return m.cloneElement(n,{..._8(r,n.props),ref:e?Wv(e,s):s})}return m.Children.count(n)>1?m.Children.only(null):null});Fx.displayName="SlotClone";var gb=({children:t})=>d.jsx(d.Fragment,{children:t});function x8(t){return m.isValidElement(t)&&t.type===gb}function _8(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function E8(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var b8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ve=b8.reduce((t,e)=>{const n=m.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?da:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Fl(t,e){t&&Ar.flushSync(()=>t.dispatchEvent(e))}function Vl(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:p,children:g,...w}=h,v=(p==null?void 0:p[t][l])||a,x=m.useMemo(()=>w,Object.values(w));return d.jsx(v.Provider,{value:x,children:g})}function u(h,p){const g=(p==null?void 0:p[t][l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,S8(s,...e)]}function S8(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Hv(t){const e=t+"CollectionProvider",[n,r]=Vl(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:w,children:v}=g,x=Re.useRef(null),_=Re.useRef(new Map).current;return d.jsx(s,{scope:w,itemMap:_,collectionRef:x,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=Re.forwardRef((g,w)=>{const{scope:v,children:x}=g,_=i(a,v),y=ke(w,_.collectionRef);return d.jsx(da,{ref:y,children:x})});l.displayName=a;const c=t+"CollectionItemSlot",u="data-radix-collection-item",h=Re.forwardRef((g,w)=>{const{scope:v,children:x,..._}=g,y=Re.useRef(null),b=ke(w,y),A=i(c,v);return Re.useEffect(()=>(A.itemMap.set(y,{ref:y,..._}),()=>void A.itemMap.delete(y))),d.jsx(da,{[u]:"",ref:b,children:x})});h.displayName=c;function p(g){const w=i(t+"CollectionConsumer",g);return Re.useCallback(()=>{const x=w.collectionRef.current;if(!x)return[];const _=Array.from(x.querySelectorAll(`[${u}]`));return Array.from(w.itemMap.values()).sort((A,P)=>_.indexOf(A.ref.current)-_.indexOf(P.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},p,r]}function T8(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var _;const{scope:p,children:g,...w}=h,v=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,x=m.useMemo(()=>w,Object.values(w));return d.jsx(v.Provider,{value:x,children:g})};c.displayName=i+"Provider";function u(h,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,C8(s,...e)]}function C8(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var A8=m.createContext(void 0);function Mf(t){const e=m.useContext(A8);return t||e||"ltr"}function Of(t,e=globalThis==null?void 0:globalThis.document){const n=pt(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var R8="DismissableLayer",Vx="dismissableLayer.update",I8="dismissableLayer.pointerDownOutside",P8="dismissableLayer.focusOutside",RR,oO=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),aO=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(oO),[u,h]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,T=>h(T)),v=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(x),y=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,A=y>=_,P=k8(T=>{const E=T.target,I=[...c.branches].some(R=>R.contains(E));!A||I||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},p),O=M8(T=>{const E=T.target;[...c.branches].some(R=>R.contains(E))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},p);return Of(T=>{y===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(RR=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),IR(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=RR)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),IR())},[u,c]),m.useEffect(()=>{const T=()=>g({});return document.addEventListener(Vx,T),()=>document.removeEventListener(Vx,T)},[]),d.jsx(ve.div,{...l,ref:w,style:{pointerEvents:b?A?"auto":"none":void 0,...t.style},onFocusCapture:Z(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Z(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Z(t.onPointerDownCapture,P.onPointerDownCapture)})});aO.displayName=R8;var N8="DismissableLayerBranch",D8=m.forwardRef((t,e)=>{const n=m.useContext(oO),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(ve.div,{...t,ref:s})});D8.displayName=N8;function k8(t,e=globalThis==null?void 0:globalThis.document){const n=pt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){lO(I8,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function M8(t,e=globalThis==null?void 0:globalThis.document){const n=pt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&lO(P8,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function IR(){const t=new CustomEvent(Vx);document.dispatchEvent(t)}function lO(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Fl(s,i):s.dispatchEvent(i)}var $w=0;function vb(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??PR()),document.body.insertAdjacentElement("beforeend",t[1]??PR()),$w++,()=>{$w===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),$w--}},[])}function PR(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var zw="focusScope.autoFocusOnMount",Kw="focusScope.autoFocusOnUnmount",NR={bubbles:!1,cancelable:!0},O8="FocusScope",qv=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=m.useState(null),c=pt(s),u=pt(i),h=m.useRef(null),p=ke(e,v=>l(v)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let v=function(b){if(g.paused||!a)return;const A=b.target;a.contains(A)?h.current=A:_o(h.current,{select:!0})},x=function(b){if(g.paused||!a)return;const A=b.relatedTarget;A!==null&&(a.contains(A)||_o(h.current,{select:!0}))},_=function(b){if(document.activeElement===document.body)for(const P of b)P.removedNodes.length>0&&_o(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",x);const y=new MutationObserver(_);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",x),y.disconnect()}}},[r,a,g.paused]),m.useEffect(()=>{if(a){kR.add(g);const v=document.activeElement;if(!a.contains(v)){const _=new CustomEvent(zw,NR);a.addEventListener(zw,c),a.dispatchEvent(_),_.defaultPrevented||(j8(B8(cO(a)),{select:!0}),document.activeElement===v&&_o(a))}return()=>{a.removeEventListener(zw,c),setTimeout(()=>{const _=new CustomEvent(Kw,NR);a.addEventListener(Kw,u),a.dispatchEvent(_),_.defaultPrevented||_o(v??document.body,{select:!0}),a.removeEventListener(Kw,u),kR.remove(g)},0)}}},[a,c,u,g]);const w=m.useCallback(v=>{if(!n&&!r||g.paused)return;const x=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,_=document.activeElement;if(x&&_){const y=v.currentTarget,[b,A]=L8(y);b&&A?!v.shiftKey&&_===A?(v.preventDefault(),n&&_o(b,{select:!0})):v.shiftKey&&_===b&&(v.preventDefault(),n&&_o(A,{select:!0})):_===y&&v.preventDefault()}},[n,r,g.paused]);return d.jsx(ve.div,{tabIndex:-1,...o,ref:p,onKeyDown:w})});qv.displayName=O8;function j8(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(_o(r,{select:e}),document.activeElement!==n)return}function L8(t){const e=cO(t),n=DR(e,t),r=DR(e.reverse(),t);return[n,r]}function cO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function DR(t,e){for(const n of t)if(!F8(n,{upTo:e}))return n}function F8(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function V8(t){return t instanceof HTMLInputElement&&"select"in t}function _o(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&V8(t)&&e&&t.select()}}var kR=U8();function U8(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=MR(t,e),t.unshift(e)},remove(e){var n;t=MR(t,e),(n=t[0])==null||n.resume()}}}function MR(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function B8(t){return t.filter(e=>e.tagName!=="A")}var Pt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},$8=CN.useId||(()=>{}),z8=0;function Us(t){const[e,n]=m.useState($8());return Pt(()=>{t||n(r=>r??String(z8++))},[t]),t||(e?`radix-${e}`:"")}const K8=["top","right","bottom","left"],ha=Math.min,Kr=Math.max,Ig=Math.round,Kp=Math.floor,fa=t=>({x:t,y:t}),W8={left:"right",right:"left",bottom:"top",top:"bottom"},H8={start:"end",end:"start"};function Ux(t,e,n){return Kr(t,ha(e,n))}function to(t,e){return typeof t=="function"?t(e):t}function no(t){return t.split("-")[0]}function ku(t){return t.split("-")[1]}function yb(t){return t==="x"?"y":"x"}function wb(t){return t==="y"?"height":"width"}function pa(t){return["top","bottom"].includes(no(t))?"y":"x"}function xb(t){return yb(pa(t))}function q8(t,e,n){n===void 0&&(n=!1);const r=ku(t),s=xb(t),i=wb(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Pg(o)),[o,Pg(o)]}function G8(t){const e=Pg(t);return[Bx(t),e,Bx(e)]}function Bx(t){return t.replace(/start|end/g,e=>H8[e])}function Q8(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function Y8(t,e,n,r){const s=ku(t);let i=Q8(no(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Bx)))),i}function Pg(t){return t.replace(/left|right|bottom|top/g,e=>W8[e])}function X8(t){return{top:0,right:0,bottom:0,left:0,...t}}function uO(t){return typeof t!="number"?X8(t):{top:t,right:t,bottom:t,left:t}}function Ng(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function OR(t,e,n){let{reference:r,floating:s}=t;const i=pa(e),o=xb(e),a=wb(o),l=no(e),c=i==="y",u=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:u,y:r.y-s.height};break;case"bottom":g={x:u,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-s.width,y:h};break;default:g={x:r.x,y:r.y}}switch(ku(e)){case"start":g[o]-=p*(n&&c?-1:1);break;case"end":g[o]+=p*(n&&c?-1:1);break}return g}const J8=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:h}=OR(c,r,l),p=r,g={},w=0;for(let v=0;v<a.length;v++){const{name:x,fn:_}=a[v],{x:y,y:b,data:A,reset:P}=await _({x:u,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});u=y??u,h=b??h,g={...g,[x]:{...g[x],...A}},P&&w<=50&&(w++,typeof P=="object"&&(P.placement&&(p=P.placement),P.rects&&(c=P.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):P.rects),{x:u,y:h}=OR(c,p,l)),v=-1)}return{x:u,y:h,placement:p,strategy:s,middlewareData:g}};async function Vh(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:p=!1,padding:g=0}=to(e,t),w=uO(g),x=a[p?h==="floating"?"reference":"floating":h],_=Ng(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),A=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},P=Ng(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:b,strategy:l}):y);return{top:(_.top-P.top+w.top)/A.y,bottom:(P.bottom-_.bottom+w.bottom)/A.y,left:(_.left-P.left+w.left)/A.x,right:(P.right-_.right+w.right)/A.x}}const Z8=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=to(t,e)||{};if(c==null)return{};const h=uO(u),p={x:n,y:r},g=xb(s),w=wb(g),v=await o.getDimensions(c),x=g==="y",_=x?"top":"left",y=x?"bottom":"right",b=x?"clientHeight":"clientWidth",A=i.reference[w]+i.reference[g]-p[g]-i.floating[w],P=p[g]-i.reference[g],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let T=O?O[b]:0;(!T||!await(o.isElement==null?void 0:o.isElement(O)))&&(T=a.floating[b]||i.floating[w]);const E=A/2-P/2,I=T/2-v[w]/2-1,R=ha(h[_],I),k=ha(h[y],I),M=R,N=T-v[w]-k,W=T/2-v[w]/2+E,se=Ux(M,W,N),ne=!l.arrow&&ku(s)!=null&&W!==se&&i.reference[w]/2-(W<M?R:k)-v[w]/2<0,Y=ne?W<M?W-M:W-N:0;return{[g]:p[g]+Y,data:{[g]:se,centerOffset:W-se-Y,...ne&&{alignmentOffset:Y}},reset:ne}}}),e7=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...x}=to(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=no(s),y=pa(a),b=no(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),P=p||(b||!v?[Pg(a)]:G8(a)),O=w!=="none";!p&&O&&P.push(...Y8(a,v,w,A));const T=[a,...P],E=await Vh(e,x),I=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&I.push(E[_]),h){const W=q8(s,o,A);I.push(E[W[0]],E[W[1]])}if(R=[...R,{placement:s,overflows:I}],!I.every(W=>W<=0)){var k,M;const W=(((k=i.flip)==null?void 0:k.index)||0)+1,se=T[W];if(se)return{data:{index:W,overflows:R},reset:{placement:se}};let ne=(M=R.filter(Y=>Y.overflows[0]<=0).sort((Y,z)=>Y.overflows[1]-z.overflows[1])[0])==null?void 0:M.placement;if(!ne)switch(g){case"bestFit":{var N;const Y=(N=R.filter(z=>{if(O){const B=pa(z.placement);return B===y||B==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(B=>B>0).reduce((B,J)=>B+J,0)]).sort((z,B)=>z[1]-B[1])[0])==null?void 0:N[0];Y&&(ne=Y);break}case"initialPlacement":ne=a;break}if(s!==ne)return{reset:{placement:ne}}}return{}}}};function jR(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function LR(t){return K8.some(e=>t[e]>=0)}const t7=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=to(t,e);switch(r){case"referenceHidden":{const i=await Vh(e,{...s,elementContext:"reference"}),o=jR(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:LR(o)}}}case"escaped":{const i=await Vh(e,{...s,altBoundary:!0}),o=jR(i,n.floating);return{data:{escapedOffsets:o,escaped:LR(o)}}}default:return{}}}}};async function n7(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=no(n),a=ku(n),l=pa(n)==="y",c=["left","top"].includes(o)?-1:1,u=i&&l?-1:1,h=to(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof w=="number"&&(g=a==="end"?w*-1:w),l?{x:g*u,y:p*c}:{x:p*c,y:g*u}}const r7=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await n7(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},s7=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:_,y}=x;return{x:_,y}}},...l}=to(t,e),c={x:n,y:r},u=await Vh(e,l),h=pa(no(s)),p=yb(h);let g=c[p],w=c[h];if(i){const x=p==="y"?"top":"left",_=p==="y"?"bottom":"right",y=g+u[x],b=g-u[_];g=Ux(y,g,b)}if(o){const x=h==="y"?"top":"left",_=h==="y"?"bottom":"right",y=w+u[x],b=w-u[_];w=Ux(y,w,b)}const v=a.fn({...e,[p]:g,[h]:w});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[p]:i,[h]:o}}}}}},i7=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=to(t,e),u={x:n,y:r},h=pa(s),p=yb(h);let g=u[p],w=u[h];const v=to(a,e),x=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const b=p==="y"?"height":"width",A=i.reference[p]-i.floating[b]+x.mainAxis,P=i.reference[p]+i.reference[b]-x.mainAxis;g<A?g=A:g>P&&(g=P)}if(c){var _,y;const b=p==="y"?"width":"height",A=["top","left"].includes(no(s)),P=i.reference[h]-i.floating[b]+(A&&((_=o.offset)==null?void 0:_[h])||0)+(A?0:x.crossAxis),O=i.reference[h]+i.reference[b]+(A?0:((y=o.offset)==null?void 0:y[h])||0)-(A?x.crossAxis:0);w<P?w=P:w>O&&(w=O)}return{[p]:g,[h]:w}}}},o7=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=to(t,e),u=await Vh(e,c),h=no(s),p=ku(s),g=pa(s)==="y",{width:w,height:v}=i.floating;let x,_;h==="top"||h==="bottom"?(x=h,_=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=h,x=p==="end"?"top":"bottom");const y=v-u.top-u.bottom,b=w-u.left-u.right,A=ha(v-u[x],y),P=ha(w-u[_],b),O=!e.middlewareData.shift;let T=A,E=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=y),O&&!p){const R=Kr(u.left,0),k=Kr(u.right,0),M=Kr(u.top,0),N=Kr(u.bottom,0);g?E=w-2*(R!==0||k!==0?R+k:Kr(u.left,u.right)):T=v-2*(M!==0||N!==0?M+N:Kr(u.top,u.bottom))}await l({...e,availableWidth:E,availableHeight:T});const I=await o.getDimensions(a.floating);return w!==I.width||v!==I.height?{reset:{rects:!0}}:{}}}};function Gv(){return typeof window<"u"}function Mu(t){return dO(t)?(t.nodeName||"").toLowerCase():"#document"}function Gr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function gi(t){var e;return(e=(dO(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function dO(t){return Gv()?t instanceof Node||t instanceof Gr(t).Node:!1}function zs(t){return Gv()?t instanceof Element||t instanceof Gr(t).Element:!1}function hi(t){return Gv()?t instanceof HTMLElement||t instanceof Gr(t).HTMLElement:!1}function FR(t){return!Gv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Gr(t).ShadowRoot}function jf(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Ks(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function a7(t){return["table","td","th"].includes(Mu(t))}function Qv(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function _b(t){const e=Eb(),n=zs(t)?Ks(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function l7(t){let e=ma(t);for(;hi(e)&&!uu(e);){if(_b(e))return e;if(Qv(e))return null;e=ma(e)}return null}function Eb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function uu(t){return["html","body","#document"].includes(Mu(t))}function Ks(t){return Gr(t).getComputedStyle(t)}function Yv(t){return zs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ma(t){if(Mu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||FR(t)&&t.host||gi(t);return FR(e)?e.host:e}function hO(t){const e=ma(t);return uu(e)?t.ownerDocument?t.ownerDocument.body:t.body:hi(e)&&jf(e)?e:hO(e)}function Uh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=hO(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Gr(s);if(i){const a=$x(o);return e.concat(o,o.visualViewport||[],jf(s)?s:[],a&&n?Uh(a):[])}return e.concat(s,Uh(s,[],n))}function $x(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function fO(t){const e=Ks(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=hi(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Ig(n)!==i||Ig(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function bb(t){return zs(t)?t:t.contextElement}function Mc(t){const e=bb(t);if(!hi(e))return fa(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=fO(e);let o=(i?Ig(n.width):n.width)/r,a=(i?Ig(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const c7=fa(0);function pO(t){const e=Gr(t);return!Eb()||!e.visualViewport?c7:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function u7(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Gr(t)?!1:e}function Sl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=bb(t);let o=fa(1);e&&(r?zs(r)&&(o=Mc(r)):o=Mc(t));const a=u7(i,n,r)?pO(i):fa(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,h=s.height/o.y;if(i){const p=Gr(i),g=r&&zs(r)?Gr(r):r;let w=p,v=$x(w);for(;v&&r&&g!==w;){const x=Mc(v),_=v.getBoundingClientRect(),y=Ks(v),b=_.left+(v.clientLeft+parseFloat(y.paddingLeft))*x.x,A=_.top+(v.clientTop+parseFloat(y.paddingTop))*x.y;l*=x.x,c*=x.y,u*=x.x,h*=x.y,l+=b,c+=A,w=Gr(v),v=$x(w)}}return Ng({width:u,height:h,x:l,y:c})}function d7(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=gi(r),a=e?Qv(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=fa(1);const u=fa(0),h=hi(r);if((h||!h&&!i)&&((Mu(r)!=="body"||jf(o))&&(l=Yv(r)),hi(r))){const p=Sl(r);c=Mc(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function h7(t){return Array.from(t.getClientRects())}function zx(t,e){const n=Yv(t).scrollLeft;return e?e.left+n:Sl(gi(t)).left+n}function f7(t){const e=gi(t),n=Yv(t),r=t.ownerDocument.body,s=Kr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Kr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+zx(t);const a=-n.scrollTop;return Ks(r).direction==="rtl"&&(o+=Kr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function p7(t,e){const n=Gr(t),r=gi(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Eb();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function m7(t,e){const n=Sl(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=hi(t)?Mc(t):fa(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function VR(t,e,n){let r;if(e==="viewport")r=p7(t,n);else if(e==="document")r=f7(gi(t));else if(zs(e))r=m7(e,n);else{const s=pO(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Ng(r)}function mO(t,e){const n=ma(t);return n===e||!zs(n)||uu(n)?!1:Ks(n).position==="fixed"||mO(n,e)}function g7(t,e){const n=e.get(t);if(n)return n;let r=Uh(t,[],!1).filter(a=>zs(a)&&Mu(a)!=="body"),s=null;const i=Ks(t).position==="fixed";let o=i?ma(t):t;for(;zs(o)&&!uu(o);){const a=Ks(o),l=_b(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||jf(o)&&!l&&mO(t,o))?r=r.filter(u=>u!==o):s=a,o=ma(o)}return e.set(t,r),r}function v7(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Qv(e)?[]:g7(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const h=VR(e,u,s);return c.top=Kr(h.top,c.top),c.right=ha(h.right,c.right),c.bottom=ha(h.bottom,c.bottom),c.left=Kr(h.left,c.left),c},VR(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function y7(t){const{width:e,height:n}=fO(t);return{width:e,height:n}}function w7(t,e,n){const r=hi(e),s=gi(e),i=n==="fixed",o=Sl(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=fa(0);if(r||!r&&!i)if((Mu(e)!=="body"||jf(s))&&(a=Yv(e)),r){const g=Sl(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&(l.x=zx(s));let c=0,u=0;if(s&&!r&&!i){const g=s.getBoundingClientRect();u=g.top+a.scrollTop,c=g.left+a.scrollLeft-zx(s,g)}const h=o.left+a.scrollLeft-l.x-c,p=o.top+a.scrollTop-l.y-u;return{x:h,y:p,width:o.width,height:o.height}}function Ww(t){return Ks(t).position==="static"}function UR(t,e){if(!hi(t)||Ks(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return gi(t)===n&&(n=n.ownerDocument.body),n}function gO(t,e){const n=Gr(t);if(Qv(t))return n;if(!hi(t)){let s=ma(t);for(;s&&!uu(s);){if(zs(s)&&!Ww(s))return s;s=ma(s)}return n}let r=UR(t,e);for(;r&&a7(r)&&Ww(r);)r=UR(r,e);return r&&uu(r)&&Ww(r)&&!_b(r)?n:r||l7(t)||n}const x7=async function(t){const e=this.getOffsetParent||gO,n=this.getDimensions,r=await n(t.floating);return{reference:w7(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function _7(t){return Ks(t).direction==="rtl"}const E7={convertOffsetParentRelativeRectToViewportRelativeRect:d7,getDocumentElement:gi,getClippingRect:v7,getOffsetParent:gO,getElementRects:x7,getClientRects:h7,getDimensions:y7,getScale:Mc,isElement:zs,isRTL:_7};function b7(t,e){let n=null,r;const s=gi(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:u,width:h,height:p}=t.getBoundingClientRect();if(a||e(),!h||!p)return;const g=Kp(u),w=Kp(s.clientWidth-(c+h)),v=Kp(s.clientHeight-(u+p)),x=Kp(c),y={rootMargin:-g+"px "+-w+"px "+-v+"px "+-x+"px",threshold:Kr(0,ha(1,l))||1};let b=!0;function A(P){const O=P[0].intersectionRatio;if(O!==l){if(!b)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(A,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(A,y)}n.observe(t)}return o(!0),i}function S7(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=bb(t),u=s||i?[...c?Uh(c):[],...Uh(e)]:[];u.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const h=c&&a?b7(c,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(_=>{let[y]=_;y&&y.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let w,v=l?Sl(t):null;l&&x();function x(){const _=Sl(t);v&&(_.x!==v.x||_.y!==v.y||_.width!==v.width||_.height!==v.height)&&n(),v=_,w=requestAnimationFrame(x)}return n(),()=>{var _;u.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),h==null||h(),(_=g)==null||_.disconnect(),g=null,l&&cancelAnimationFrame(w)}}const T7=r7,C7=s7,A7=e7,R7=o7,I7=t7,BR=Z8,P7=i7,N7=(t,e,n)=>{const r=new Map,s={platform:E7,...n},i={...s.platform,_c:r};return J8(t,e,{...s,platform:i})};var Nm=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Dg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Dg(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Dg(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function vO(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function $R(t,e){const n=vO(t);return Math.round(e*n)/n}function Hw(t){const e=m.useRef(t);return Nm(()=>{e.current=t}),e}function D7(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,h]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=m.useState(r);Dg(p,r)||g(r);const[w,v]=m.useState(null),[x,_]=m.useState(null),y=m.useCallback(z=>{z!==O.current&&(O.current=z,v(z))},[]),b=m.useCallback(z=>{z!==T.current&&(T.current=z,_(z))},[]),A=i||w,P=o||x,O=m.useRef(null),T=m.useRef(null),E=m.useRef(u),I=l!=null,R=Hw(l),k=Hw(s),M=Hw(c),N=m.useCallback(()=>{if(!O.current||!T.current)return;const z={placement:e,strategy:n,middleware:p};k.current&&(z.platform=k.current),N7(O.current,T.current,z).then(B=>{const J={...B,isPositioned:M.current!==!1};W.current&&!Dg(E.current,J)&&(E.current=J,Ar.flushSync(()=>{h(J)}))})},[p,e,n,k,M]);Nm(()=>{c===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(z=>({...z,isPositioned:!1})))},[c]);const W=m.useRef(!1);Nm(()=>(W.current=!0,()=>{W.current=!1}),[]),Nm(()=>{if(A&&(O.current=A),P&&(T.current=P),A&&P){if(R.current)return R.current(A,P,N);N()}},[A,P,N,R,I]);const se=m.useMemo(()=>({reference:O,floating:T,setReference:y,setFloating:b}),[y,b]),ne=m.useMemo(()=>({reference:A,floating:P}),[A,P]),Y=m.useMemo(()=>{const z={position:n,left:0,top:0};if(!ne.floating)return z;const B=$R(ne.floating,u.x),J=$R(ne.floating,u.y);return a?{...z,transform:"translate("+B+"px, "+J+"px)",...vO(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:J}},[n,a,ne.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:N,refs:se,elements:ne,floatingStyles:Y}),[u,N,se,ne,Y])}const k7=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?BR({element:r.current,padding:s}).fn(n):{}:r?BR({element:r,padding:s}).fn(n):{}}}},M7=(t,e)=>({...T7(t),options:[t,e]}),O7=(t,e)=>({...C7(t),options:[t,e]}),j7=(t,e)=>({...P7(t),options:[t,e]}),L7=(t,e)=>({...A7(t),options:[t,e]}),F7=(t,e)=>({...R7(t),options:[t,e]}),V7=(t,e)=>({...I7(t),options:[t,e]}),U7=(t,e)=>({...k7(t),options:[t,e]});var B7="Arrow",yO=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return d.jsx(ve.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});yO.displayName=B7;var $7=yO;function z7(t){const[e,n]=m.useState(void 0);return Pt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Sb="Popper",[wO,Ou]=Vl(Sb),[K7,xO]=wO(Sb),_O=t=>{const{__scopePopper:e,children:n}=t,[r,s]=m.useState(null);return d.jsx(K7,{scope:e,anchor:r,onAnchorChange:s,children:n})};_O.displayName=Sb;var EO="PopperAnchor",bO=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=xO(EO,n),o=m.useRef(null),a=ke(e,o);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(ve.div,{...s,ref:a})});bO.displayName=EO;var Tb="PopperContent",[W7,H7]=wO(Tb),SO=m.forwardRef((t,e)=>{var ce,Pe,He,pe,$e,Oe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:w,...v}=t,x=xO(Tb,n),[_,y]=m.useState(null),b=ke(e,yt=>y(yt)),[A,P]=m.useState(null),O=z7(A),T=(O==null?void 0:O.width)??0,E=(O==null?void 0:O.height)??0,I=r+(i!=="center"?"-"+i:""),R=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},k=Array.isArray(c)?c:[c],M=k.length>0,N={padding:R,boundary:k.filter(G7),altBoundary:M},{refs:W,floatingStyles:se,placement:ne,isPositioned:Y,middlewareData:z}=D7({strategy:"fixed",placement:I,whileElementsMounted:(...yt)=>S7(...yt,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[M7({mainAxis:s+E,alignmentAxis:o}),l&&O7({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?j7():void 0,...N}),l&&L7({...N}),F7({...N,apply:({elements:yt,rects:qe,availableWidth:Ft,availableHeight:gn})=>{const{width:jr,height:j}=qe.reference,$=yt.floating.style;$.setProperty("--radix-popper-available-width",`${Ft}px`),$.setProperty("--radix-popper-available-height",`${gn}px`),$.setProperty("--radix-popper-anchor-width",`${jr}px`),$.setProperty("--radix-popper-anchor-height",`${j}px`)}}),A&&U7({element:A,padding:a}),Q7({arrowWidth:T,arrowHeight:E}),p&&V7({strategy:"referenceHidden",...N})]}),[B,J]=AO(ne),fe=pt(w);Pt(()=>{Y&&(fe==null||fe())},[Y,fe]);const he=(ce=z.arrow)==null?void 0:ce.x,Te=(Pe=z.arrow)==null?void 0:Pe.y,We=((He=z.arrow)==null?void 0:He.centerOffset)!==0,[at,Ne]=m.useState();return Pt(()=>{_&&Ne(window.getComputedStyle(_).zIndex)},[_]),d.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:Y?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:at,"--radix-popper-transform-origin":[(pe=z.transformOrigin)==null?void 0:pe.x,($e=z.transformOrigin)==null?void 0:$e.y].join(" "),...((Oe=z.hide)==null?void 0:Oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(W7,{scope:n,placedSide:B,onArrowChange:P,arrowX:he,arrowY:Te,shouldHideArrow:We,children:d.jsx(ve.div,{"data-side":B,"data-align":J,...v,ref:b,style:{...v.style,animation:Y?void 0:"none"}})})})});SO.displayName=Tb;var TO="PopperArrow",q7={top:"bottom",right:"left",bottom:"top",left:"right"},CO=m.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=H7(TO,r),o=q7[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx($7,{...s,ref:n,style:{...s.style,display:"block"}})})});CO.displayName=TO;function G7(t){return t!==null}var Q7=t=>({name:"transformOrigin",options:t,fn(e){var x,_,y;const{placement:n,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=AO(n),h={start:"0%",center:"50%",end:"100%"}[u],p=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,g=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let w="",v="";return c==="bottom"?(w=o?h:`${p}px`,v=`${-l}px`):c==="top"?(w=o?h:`${p}px`,v=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,v=o?h:`${g}px`):c==="left"&&(w=`${r.floating.width+l}px`,v=o?h:`${g}px`),{data:{x:w,y:v}}}});function AO(t){const[e,n="center"]=t.split("-");return[e,n]}var Cb=_O,Ab=bO,Rb=SO,Ib=CO,Y7="Portal",RO=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Pt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Tf.createPortal(d.jsx(ve.div,{...r,ref:e}),o):null});RO.displayName=Y7;function X7(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var Lf=t=>{const{present:e,children:n}=t,r=J7(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ke(r.ref,Z7(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};Lf.displayName="Presence";function J7(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=X7(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Wp(r.current);i.current=a==="mounted"?c:"none"},[a]),Pt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=Wp(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Pt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=g=>{const v=Wp(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=g=>{g.target===e&&(i.current=Wp(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Wp(t){return(t==null?void 0:t.animationName)||"none"}function Z7(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var qw="rovingFocusGroup.onEntryFocus",eG={bubbles:!1,cancelable:!0},Xv="RovingFocusGroup",[Kx,IO,tG]=Hv(Xv),[nG,Jv]=Vl(Xv,[tG]),[rG,sG]=nG(Xv),PO=m.forwardRef((t,e)=>d.jsx(Kx.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(Kx.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(iG,{...t,ref:e})})}));PO.displayName=Xv;var iG=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=t,p=m.useRef(null),g=ke(e,p),w=Mf(i),[v=null,x]=ua({prop:o,defaultProp:a,onChange:l}),[_,y]=m.useState(!1),b=pt(c),A=IO(n),P=m.useRef(!1),[O,T]=m.useState(0);return m.useEffect(()=>{const E=p.current;if(E)return E.addEventListener(qw,b),()=>E.removeEventListener(qw,b)},[b]),d.jsx(rG,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:v,onItemFocus:m.useCallback(E=>x(E),[x]),onItemShiftTab:m.useCallback(()=>y(!0),[]),onFocusableItemAdd:m.useCallback(()=>T(E=>E+1),[]),onFocusableItemRemove:m.useCallback(()=>T(E=>E-1),[]),children:d.jsx(ve.div,{tabIndex:_||O===0?-1:0,"data-orientation":r,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:Z(t.onMouseDown,()=>{P.current=!0}),onFocus:Z(t.onFocus,E=>{const I=!P.current;if(E.target===E.currentTarget&&I&&!_){const R=new CustomEvent(qw,eG);if(E.currentTarget.dispatchEvent(R),!R.defaultPrevented){const k=A().filter(ne=>ne.focusable),M=k.find(ne=>ne.active),N=k.find(ne=>ne.id===v),se=[M,N,...k].filter(Boolean).map(ne=>ne.ref.current);kO(se,u)}}P.current=!1}),onBlur:Z(t.onBlur,()=>y(!1))})})}),NO="RovingFocusGroupItem",DO=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Us(),l=i||a,c=sG(NO,n),u=c.currentTabStopId===l,h=IO(n),{onFocusableItemAdd:p,onFocusableItemRemove:g}=c;return m.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),d.jsx(Kx.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:d.jsx(ve.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:Z(t.onMouseDown,w=>{r?c.onItemFocus(l):w.preventDefault()}),onFocus:Z(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:Z(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){c.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const v=lG(w,c.orientation,c.dir);if(v!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let _=h().filter(y=>y.focusable).map(y=>y.ref.current);if(v==="last")_.reverse();else if(v==="prev"||v==="next"){v==="prev"&&_.reverse();const y=_.indexOf(w.currentTarget);_=c.loop?cG(_,y+1):_.slice(y+1)}setTimeout(()=>kO(_))}})})})});DO.displayName=NO;var oG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function aG(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function lG(t,e,n){const r=aG(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return oG[r]}function kO(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function cG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var MO=PO,OO=DO,uG=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Zl=new WeakMap,Hp=new WeakMap,qp={},Gw=0,jO=function(t){return t&&(t.host||jO(t.parentNode))},dG=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=jO(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},hG=function(t,e,n,r){var s=dG(e,Array.isArray(t)?t:[t]);qp[n]||(qp[n]=new WeakMap);var i=qp[n],o=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))u(p);else try{var g=p.getAttribute(r),w=g!==null&&g!=="false",v=(Zl.get(p)||0)+1,x=(i.get(p)||0)+1;Zl.set(p,v),i.set(p,x),o.push(p),v===1&&w&&Hp.set(p,!0),x===1&&p.setAttribute(n,"true"),w||p.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",p,_)}})};return u(e),a.clear(),Gw++,function(){o.forEach(function(h){var p=Zl.get(h)-1,g=i.get(h)-1;Zl.set(h,p),i.set(h,g),p||(Hp.has(h)||h.removeAttribute(r),Hp.delete(h)),g||h.removeAttribute(n)}),Gw--,Gw||(Zl=new WeakMap,Zl=new WeakMap,Hp=new WeakMap,qp={})}},Pb=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=uG(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),hG(r,s,n,"aria-hidden")):function(){return null}},Dm="right-scroll-bar-position",km="width-before-scroll-bar",fG="with-scroll-bars-hidden",pG="--removed-body-scroll-bar-size";function Qw(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function mG(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var gG=typeof window<"u"?m.useLayoutEffect:m.useEffect,zR=new WeakMap;function vG(t,e){var n=mG(null,function(r){return t.forEach(function(s){return Qw(s,r)})});return gG(function(){var r=zR.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Qw(a,null)}),i.forEach(function(a){s.has(a)||Qw(a,o)})}zR.set(n,t)},[t]),n}function yG(t){return t}function wG(t,e){e===void 0&&(e=yG);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return s}function xG(t){t===void 0&&(t={});var e=wG(null);return e.options=ei({async:!0,ssr:!1},t),e}var LO=function(t){var e=t.sideCar,n=Af(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,ei({},n))};LO.isSideCarExport=!0;function _G(t,e){return t.useMedium(e),LO}var FO=xG(),Yw=function(){},Zv=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:Yw,onWheelCapture:Yw,onTouchMoveCapture:Yw}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,h=t.shards,p=t.sideCar,g=t.noIsolation,w=t.inert,v=t.allowPinchZoom,x=t.as,_=x===void 0?"div":x,y=t.gapMode,b=Af(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=p,P=vG([n,e]),O=ei(ei({},b),s);return m.createElement(m.Fragment,null,u&&m.createElement(A,{sideCar:FO,removeScrollBar:c,shards:h,noIsolation:g,inert:w,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:y}),o?m.cloneElement(m.Children.only(a),ei(ei({},O),{ref:P})):m.createElement(_,ei({},O,{className:l,ref:P}),a))});Zv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zv.classNames={fullWidth:km,zeroRight:Dm};var EG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bG(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=EG();return e&&t.setAttribute("nonce",e),t}function SG(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function TG(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var CG=function(){var t=0,e=null;return{add:function(n){t==0&&(e=bG())&&(SG(e,n),TG(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},AG=function(){var t=CG();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},VO=function(){var t=AG(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},RG={left:0,top:0,right:0,gap:0},Xw=function(t){return parseInt(t||"",10)||0},IG=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Xw(n),Xw(r),Xw(s)]},PG=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return RG;var e=IG(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},NG=VO(),Oc="data-scroll-locked",DG=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(fG,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Oc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Dm,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(km,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Dm," .").concat(Dm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(km," .").concat(km,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Oc,`] {
    `).concat(pG,": ").concat(a,`px;
  }
`)},KR=function(){var t=parseInt(document.body.getAttribute(Oc)||"0",10);return isFinite(t)?t:0},kG=function(){m.useEffect(function(){return document.body.setAttribute(Oc,(KR()+1).toString()),function(){var t=KR()-1;t<=0?document.body.removeAttribute(Oc):document.body.setAttribute(Oc,t.toString())}},[])},MG=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;kG();var i=m.useMemo(function(){return PG(s)},[s]);return m.createElement(NG,{styles:DG(i,!e,s,n?"":"!important")})},Wx=!1;if(typeof window<"u")try{var Gp=Object.defineProperty({},"passive",{get:function(){return Wx=!0,!0}});window.addEventListener("test",Gp,Gp),window.removeEventListener("test",Gp,Gp)}catch{Wx=!1}var ec=Wx?{passive:!1}:!1,OG=function(t){return t.tagName==="TEXTAREA"},UO=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!OG(t)&&n[e]==="visible")},jG=function(t){return UO(t,"overflowY")},LG=function(t){return UO(t,"overflowX")},WR=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=BO(t,r);if(s){var i=$O(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},FG=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},VG=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},BO=function(t,e){return t==="v"?jG(e):LG(e)},$O=function(t,e){return t==="v"?FG(e):VG(e)},UG=function(t,e){return t==="h"&&e==="rtl"?-1:1},BG=function(t,e,n,r,s){var i=UG(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,u=o>0,h=0,p=0;do{var g=$O(t,a),w=g[0],v=g[1],x=g[2],_=v-x-i*w;(w||_)&&BO(t,a)&&(h+=_,p+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(h)<1||!s)||!u&&(Math.abs(p)<1||!s))&&(c=!0),c},Qp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},HR=function(t){return[t.deltaX,t.deltaY]},qR=function(t){return t&&"current"in t?t.current:t},$G=function(t,e){return t[0]===e[0]&&t[1]===e[1]},zG=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},KG=0,tc=[];function WG(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(KG++)[0],i=m.useState(VO)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=k9([t.lockRef.current],(t.shards||[]).map(qR),!0).filter(Boolean);return v.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(v,x){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var _=Qp(v),y=n.current,b="deltaX"in v?v.deltaX:y[0]-_[0],A="deltaY"in v?v.deltaY:y[1]-_[1],P,O=v.target,T=Math.abs(b)>Math.abs(A)?"h":"v";if("touches"in v&&T==="h"&&O.type==="range")return!1;var E=WR(T,O);if(!E)return!0;if(E?P=T:(P=T==="v"?"h":"v",E=WR(T,O)),!E)return!1;if(!r.current&&"changedTouches"in v&&(b||A)&&(r.current=P),!P)return!0;var I=r.current||P;return BG(I,x,v,I==="h"?b:A,!0)},[]),l=m.useCallback(function(v){var x=v;if(!(!tc.length||tc[tc.length-1]!==i)){var _="deltaY"in x?HR(x):Qp(x),y=e.current.filter(function(P){return P.name===x.type&&(P.target===x.target||x.target===P.shadowParent)&&$G(P.delta,_)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var b=(o.current.shards||[]).map(qR).filter(Boolean).filter(function(P){return P.contains(x.target)}),A=b.length>0?a(x,b[0]):!o.current.noIsolation;A&&x.cancelable&&x.preventDefault()}}},[]),c=m.useCallback(function(v,x,_,y){var b={name:v,delta:x,target:_,should:y,shadowParent:HG(_)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(A){return A!==b})},1)},[]),u=m.useCallback(function(v){n.current=Qp(v),r.current=void 0},[]),h=m.useCallback(function(v){c(v.type,HR(v),v.target,a(v,t.lockRef.current))},[]),p=m.useCallback(function(v){c(v.type,Qp(v),v.target,a(v,t.lockRef.current))},[]);m.useEffect(function(){return tc.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,ec),document.addEventListener("touchmove",l,ec),document.addEventListener("touchstart",u,ec),function(){tc=tc.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,ec),document.removeEventListener("touchmove",l,ec),document.removeEventListener("touchstart",u,ec)}},[]);var g=t.removeScrollBar,w=t.inert;return m.createElement(m.Fragment,null,w?m.createElement(i,{styles:zG(s)}):null,g?m.createElement(MG,{gapMode:t.gapMode}):null)}function HG(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const qG=_G(FO,WG);var ey=m.forwardRef(function(t,e){return m.createElement(Zv,ei({},t,{ref:e,sideCar:qG}))});ey.classNames=Zv.classNames;var Hx=["Enter"," "],GG=["ArrowDown","PageUp","Home"],zO=["ArrowUp","PageDown","End"],QG=[...GG,...zO],YG={ltr:[...Hx,"ArrowRight"],rtl:[...Hx,"ArrowLeft"]},XG={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ff="Menu",[Bh,JG,ZG]=Hv(Ff),[Ul,KO]=T8(Ff,[ZG,Ou,Jv]),ty=Ou(),WO=Jv(),[eQ,Bl]=Ul(Ff),[tQ,Vf]=Ul(Ff),HO=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=ty(e),[l,c]=m.useState(null),u=m.useRef(!1),h=pt(i),p=Mf(s);return m.useEffect(()=>{const g=()=>{u.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>u.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),d.jsx(Cb,{...a,children:d.jsx(eQ,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:c,children:d.jsx(tQ,{scope:e,onClose:m.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:p,modal:o,children:r})})})};HO.displayName=Ff;var nQ="MenuAnchor",Nb=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=ty(n);return d.jsx(Ab,{...s,...r,ref:e})});Nb.displayName=nQ;var Db="MenuPortal",[rQ,qO]=Ul(Db,{forceMount:void 0}),GO=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Bl(Db,e);return d.jsx(rQ,{scope:e,forceMount:n,children:d.jsx(Lf,{present:n||i.open,children:d.jsx(RO,{asChild:!0,container:s,children:r})})})};GO.displayName=Db;var ys="MenuContent",[sQ,kb]=Ul(ys),QO=m.forwardRef((t,e)=>{const n=qO(ys,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Bl(ys,t.__scopeMenu),o=Vf(ys,t.__scopeMenu);return d.jsx(Bh.Provider,{scope:t.__scopeMenu,children:d.jsx(Lf,{present:r||i.open,children:d.jsx(Bh.Slot,{scope:t.__scopeMenu,children:o.modal?d.jsx(iQ,{...s,ref:e}):d.jsx(oQ,{...s,ref:e})})})})}),iQ=m.forwardRef((t,e)=>{const n=Bl(ys,t.__scopeMenu),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return Pb(i)},[]),d.jsx(Mb,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Z(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),oQ=m.forwardRef((t,e)=>{const n=Bl(ys,t.__scopeMenu);return d.jsx(Mb,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Mb=m.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:p,onDismiss:g,disableOutsideScroll:w,...v}=t,x=Bl(ys,n),_=Vf(ys,n),y=ty(n),b=WO(n),A=JG(n),[P,O]=m.useState(null),T=m.useRef(null),E=ke(e,T,x.onContentChange),I=m.useRef(0),R=m.useRef(""),k=m.useRef(0),M=m.useRef(null),N=m.useRef("right"),W=m.useRef(0),se=w?ey:m.Fragment,ne=w?{as:da,allowPinchZoom:!0}:void 0,Y=B=>{var ce,Pe;const J=R.current+B,fe=A().filter(He=>!He.disabled),he=document.activeElement,Te=(ce=fe.find(He=>He.ref.current===he))==null?void 0:ce.textValue,We=fe.map(He=>He.textValue),at=yQ(We,J,Te),Ne=(Pe=fe.find(He=>He.textValue===at))==null?void 0:Pe.ref.current;(function He(pe){R.current=pe,window.clearTimeout(I.current),pe!==""&&(I.current=window.setTimeout(()=>He(""),1e3))})(J),Ne&&setTimeout(()=>Ne.focus())};m.useEffect(()=>()=>window.clearTimeout(I.current),[]),vb();const z=m.useCallback(B=>{var fe,he;return N.current===((fe=M.current)==null?void 0:fe.side)&&xQ(B,(he=M.current)==null?void 0:he.area)},[]);return d.jsx(sQ,{scope:n,searchRef:R,onItemEnter:m.useCallback(B=>{z(B)&&B.preventDefault()},[z]),onItemLeave:m.useCallback(B=>{var J;z(B)||((J=T.current)==null||J.focus(),O(null))},[z]),onTriggerLeave:m.useCallback(B=>{z(B)&&B.preventDefault()},[z]),pointerGraceTimerRef:k,onPointerGraceIntentChange:m.useCallback(B=>{M.current=B},[]),children:d.jsx(se,{...ne,children:d.jsx(qv,{asChild:!0,trapped:s,onMountAutoFocus:Z(i,B=>{var J;B.preventDefault(),(J=T.current)==null||J.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:d.jsx(aO,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:p,onDismiss:g,children:d.jsx(MO,{asChild:!0,...b,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:P,onCurrentTabStopIdChange:O,onEntryFocus:Z(l,B=>{_.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(Rb,{role:"menu","aria-orientation":"vertical","data-state":dj(x.open),"data-radix-menu-content":"",dir:_.dir,...y,...v,ref:E,style:{outline:"none",...v.style},onKeyDown:Z(v.onKeyDown,B=>{const fe=B.target.closest("[data-radix-menu-content]")===B.currentTarget,he=B.ctrlKey||B.altKey||B.metaKey,Te=B.key.length===1;fe&&(B.key==="Tab"&&B.preventDefault(),!he&&Te&&Y(B.key));const We=T.current;if(B.target!==We||!QG.includes(B.key))return;B.preventDefault();const Ne=A().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);zO.includes(B.key)&&Ne.reverse(),gQ(Ne)}),onBlur:Z(t.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(I.current),R.current="")}),onPointerMove:Z(t.onPointerMove,$h(B=>{const J=B.target,fe=W.current!==B.clientX;if(B.currentTarget.contains(J)&&fe){const he=B.clientX>W.current?"right":"left";N.current=he,W.current=B.clientX}}))})})})})})})});QO.displayName=ys;var aQ="MenuGroup",Ob=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return d.jsx(ve.div,{role:"group",...r,ref:e})});Ob.displayName=aQ;var lQ="MenuLabel",YO=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return d.jsx(ve.div,{...r,ref:e})});YO.displayName=lQ;var kg="MenuItem",GR="menu.itemSelect",ny=m.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=m.useRef(null),o=Vf(kg,t.__scopeMenu),a=kb(kg,t.__scopeMenu),l=ke(e,i),c=m.useRef(!1),u=()=>{const h=i.current;if(!n&&h){const p=new CustomEvent(GR,{bubbles:!0,cancelable:!0});h.addEventListener(GR,g=>r==null?void 0:r(g),{once:!0}),Fl(h,p),p.defaultPrevented?c.current=!1:o.onClose()}};return d.jsx(XO,{...s,ref:l,disabled:n,onClick:Z(t.onClick,u),onPointerDown:h=>{var p;(p=t.onPointerDown)==null||p.call(t,h),c.current=!0},onPointerUp:Z(t.onPointerUp,h=>{var p;c.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:Z(t.onKeyDown,h=>{const p=a.searchRef.current!=="";n||p&&h.key===" "||Hx.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});ny.displayName=kg;var XO=m.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=kb(kg,n),a=WO(n),l=m.useRef(null),c=ke(e,l),[u,h]=m.useState(!1),[p,g]=m.useState("");return m.useEffect(()=>{const w=l.current;w&&g((w.textContent??"").trim())},[i.children]),d.jsx(Bh.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:d.jsx(OO,{asChild:!0,...a,focusable:!r,children:d.jsx(ve.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:Z(t.onPointerMove,$h(w=>{r?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Z(t.onPointerLeave,$h(w=>o.onItemLeave(w))),onFocus:Z(t.onFocus,()=>h(!0)),onBlur:Z(t.onBlur,()=>h(!1))})})})}),cQ="MenuCheckboxItem",JO=m.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return d.jsx(rj,{scope:t.__scopeMenu,checked:n,children:d.jsx(ny,{role:"menuitemcheckbox","aria-checked":Mg(n)?"mixed":n,...s,ref:e,"data-state":Lb(n),onSelect:Z(s.onSelect,()=>r==null?void 0:r(Mg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});JO.displayName=cQ;var ZO="MenuRadioGroup",[uQ,dQ]=Ul(ZO,{value:void 0,onValueChange:()=>{}}),ej=m.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=pt(r);return d.jsx(uQ,{scope:t.__scopeMenu,value:n,onValueChange:i,children:d.jsx(Ob,{...s,ref:e})})});ej.displayName=ZO;var tj="MenuRadioItem",nj=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=dQ(tj,t.__scopeMenu),i=n===s.value;return d.jsx(rj,{scope:t.__scopeMenu,checked:i,children:d.jsx(ny,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":Lb(i),onSelect:Z(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});nj.displayName=tj;var jb="MenuItemIndicator",[rj,hQ]=Ul(jb,{checked:!1}),sj=m.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=hQ(jb,n);return d.jsx(Lf,{present:r||Mg(i.checked)||i.checked===!0,children:d.jsx(ve.span,{...s,ref:e,"data-state":Lb(i.checked)})})});sj.displayName=jb;var fQ="MenuSeparator",ij=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return d.jsx(ve.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});ij.displayName=fQ;var pQ="MenuArrow",oj=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=ty(n);return d.jsx(Ib,{...s,...r,ref:e})});oj.displayName=pQ;var mQ="MenuSub",[tge,aj]=Ul(mQ),Nd="MenuSubTrigger",lj=m.forwardRef((t,e)=>{const n=Bl(Nd,t.__scopeMenu),r=Vf(Nd,t.__scopeMenu),s=aj(Nd,t.__scopeMenu),i=kb(Nd,t.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},u=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>u,[u]),m.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),d.jsx(Nb,{asChild:!0,...c,children:d.jsx(XO,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":dj(n.open),...t,ref:Wv(e,s.onTriggerChange),onClick:h=>{var p;(p=t.onClick)==null||p.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Z(t.onPointerMove,$h(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:Z(t.onPointerLeave,$h(h=>{var g,w;u();const p=(g=n.content)==null?void 0:g.getBoundingClientRect();if(p){const v=(w=n.content)==null?void 0:w.dataset.side,x=v==="right",_=x?-5:5,y=p[x?"left":"right"],b=p[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+_,y:h.clientY},{x:y,y:p.top},{x:b,y:p.top},{x:b,y:p.bottom},{x:y,y:p.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Z(t.onKeyDown,h=>{var g;const p=i.searchRef.current!=="";t.disabled||p&&h.key===" "||YG[r.dir].includes(h.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),h.preventDefault())})})})});lj.displayName=Nd;var cj="MenuSubContent",uj=m.forwardRef((t,e)=>{const n=qO(ys,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Bl(ys,t.__scopeMenu),o=Vf(ys,t.__scopeMenu),a=aj(cj,t.__scopeMenu),l=m.useRef(null),c=ke(e,l);return d.jsx(Bh.Provider,{scope:t.__scopeMenu,children:d.jsx(Lf,{present:r||i.open,children:d.jsx(Bh.Slot,{scope:t.__scopeMenu,children:d.jsx(Mb,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Z(t.onFocusOutside,u=>{u.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Z(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:Z(t.onKeyDown,u=>{var g;const h=u.currentTarget.contains(u.target),p=XG[o.dir].includes(u.key);h&&p&&(i.onOpenChange(!1),(g=a.trigger)==null||g.focus(),u.preventDefault())})})})})})});uj.displayName=cj;function dj(t){return t?"open":"closed"}function Mg(t){return t==="indeterminate"}function Lb(t){return Mg(t)?"indeterminate":t?"checked":"unchecked"}function gQ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function vQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function yQ(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=vQ(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function wQ(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function xQ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return wQ(n,e)}function $h(t){return e=>e.pointerType==="mouse"?t(e):void 0}var _Q=HO,EQ=Nb,bQ=GO,SQ=QO,TQ=Ob,CQ=YO,AQ=ny,RQ=JO,IQ=ej,PQ=nj,NQ=sj,DQ=ij,kQ=oj,MQ=lj,OQ=uj,Fb="DropdownMenu",[jQ,nge]=v8(Fb,[KO]),yr=KO(),[LQ,hj]=jQ(Fb),fj=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=yr(e),c=m.useRef(null),[u=!1,h]=ua({prop:s,defaultProp:i,onChange:o});return d.jsx(LQ,{scope:e,triggerId:Us(),triggerRef:c,contentId:Us(),open:u,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(p=>!p),[h]),modal:a,children:d.jsx(_Q,{...l,open:u,onOpenChange:h,dir:r,modal:a,children:n})})};fj.displayName=Fb;var pj="DropdownMenuTrigger",mj=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=hj(pj,n),o=yr(n);return d.jsx(EQ,{asChild:!0,...o,children:d.jsx(ve.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Wv(e,i.triggerRef),onPointerDown:Z(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:Z(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});mj.displayName=pj;var FQ="DropdownMenuPortal",gj=t=>{const{__scopeDropdownMenu:e,...n}=t,r=yr(e);return d.jsx(bQ,{...r,...n})};gj.displayName=FQ;var vj="DropdownMenuContent",yj=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=hj(vj,n),i=yr(n),o=m.useRef(!1);return d.jsx(SQ,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:Z(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Z(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!s.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});yj.displayName=vj;var VQ="DropdownMenuGroup",UQ=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(TQ,{...s,...r,ref:e})});UQ.displayName=VQ;var BQ="DropdownMenuLabel",wj=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(CQ,{...s,...r,ref:e})});wj.displayName=BQ;var $Q="DropdownMenuItem",xj=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(AQ,{...s,...r,ref:e})});xj.displayName=$Q;var zQ="DropdownMenuCheckboxItem",_j=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(RQ,{...s,...r,ref:e})});_j.displayName=zQ;var KQ="DropdownMenuRadioGroup",WQ=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(IQ,{...s,...r,ref:e})});WQ.displayName=KQ;var HQ="DropdownMenuRadioItem",Ej=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(PQ,{...s,...r,ref:e})});Ej.displayName=HQ;var qQ="DropdownMenuItemIndicator",bj=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(NQ,{...s,...r,ref:e})});bj.displayName=qQ;var GQ="DropdownMenuSeparator",Sj=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(DQ,{...s,...r,ref:e})});Sj.displayName=GQ;var QQ="DropdownMenuArrow",YQ=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(kQ,{...s,...r,ref:e})});YQ.displayName=QQ;var XQ="DropdownMenuSubTrigger",Tj=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(MQ,{...s,...r,ref:e})});Tj.displayName=XQ;var JQ="DropdownMenuSubContent",Cj=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=yr(n);return d.jsx(OQ,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Cj.displayName=JQ;var ZQ=fj,eY=mj,tY=gj,Aj=yj,Rj=wj,Ij=xj,Pj=_j,Nj=Ej,Dj=bj,kj=Sj,Mj=Tj,Oj=Cj;function jj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=jj(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function nY(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=jj(t))&&(r&&(r+=" "),r+=e);return r}const Vb="-",rY=t=>{const e=iY(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Vb);return a[0]===""&&a.length!==1&&a.shift(),Lj(a,e)||sY(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Lj=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Lj(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Vb);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},QR=/^\[(.+)\]$/,sY=t=>{if(QR.test(t)){const e=QR.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},iY=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return aY(Object.entries(t.classGroups),n).forEach(([i,o])=>{qx(o,r,i,e)}),r},qx=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:YR(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(oY(s)){qx(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{qx(o,YR(e,i),n,r)})})},YR=(t,e)=>{let n=t;return e.split(Vb).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},oY=t=>t.isThemeGetter,aY=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,lY=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Fj="!",cY=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,u=0,h;for(let x=0;x<a.length;x++){let _=a[x];if(c===0){if(_===s&&(r||a.slice(x,x+i)===e)){l.push(a.slice(u,x)),u=x+i;continue}if(_==="/"){h=x;continue}}_==="["?c++:_==="]"&&c--}const p=l.length===0?a:a.substring(u),g=p.startsWith(Fj),w=g?p.substring(1):p,v=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:w,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},uY=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},dY=t=>({cache:lY(t.cacheSize),parseClassName:cY(t),...rY(t)}),hY=/\s+/,fY=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(hY);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:g}=n(c);let w=!!g,v=r(w?p.substring(0,g):p);if(!v){if(!w){a=c+(a.length>0?" "+a:a);continue}if(v=r(p),!v){a=c+(a.length>0?" "+a:a);continue}w=!1}const x=uY(u).join(":"),_=h?x+Fj:x,y=_+v;if(i.includes(y))continue;i.push(y);const b=s(v,w);for(let A=0;A<b.length;++A){const P=b[A];i.push(_+P)}a=c+(a.length>0?" "+a:a)}return a};function pY(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Vj(e))&&(r&&(r+=" "),r+=n);return r}const Vj=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Vj(t[r]))&&(n&&(n+=" "),n+=e);return n};function mY(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((u,h)=>h(u),t());return n=dY(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=fY(l,n);return s(l,u),u}return function(){return i(pY.apply(null,arguments))}}const Mt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Uj=/^\[(?:([a-z-]+):)?(.+)\]$/i,gY=/^\d+\/\d+$/,vY=new Set(["px","full","screen"]),yY=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wY=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xY=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_Y=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,EY=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bi=t=>jc(t)||vY.has(t)||gY.test(t),yo=t=>ju(t,"length",PY),jc=t=>!!t&&!Number.isNaN(Number(t)),Jw=t=>ju(t,"number",jc),yd=t=>!!t&&Number.isInteger(Number(t)),bY=t=>t.endsWith("%")&&jc(t.slice(0,-1)),Qe=t=>Uj.test(t),wo=t=>yY.test(t),SY=new Set(["length","size","percentage"]),TY=t=>ju(t,SY,Bj),CY=t=>ju(t,"position",Bj),AY=new Set(["image","url"]),RY=t=>ju(t,AY,DY),IY=t=>ju(t,"",NY),wd=()=>!0,ju=(t,e,n)=>{const r=Uj.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},PY=t=>wY.test(t)&&!xY.test(t),Bj=()=>!1,NY=t=>_Y.test(t),DY=t=>EY.test(t),kY=()=>{const t=Mt("colors"),e=Mt("spacing"),n=Mt("blur"),r=Mt("brightness"),s=Mt("borderColor"),i=Mt("borderRadius"),o=Mt("borderSpacing"),a=Mt("borderWidth"),l=Mt("contrast"),c=Mt("grayscale"),u=Mt("hueRotate"),h=Mt("invert"),p=Mt("gap"),g=Mt("gradientColorStops"),w=Mt("gradientColorStopPositions"),v=Mt("inset"),x=Mt("margin"),_=Mt("opacity"),y=Mt("padding"),b=Mt("saturate"),A=Mt("scale"),P=Mt("sepia"),O=Mt("skew"),T=Mt("space"),E=Mt("translate"),I=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",Qe,e],M=()=>[Qe,e],N=()=>["",bi,yo],W=()=>["auto",jc,Qe],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",Qe],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],fe=()=>[jc,Qe];return{cacheSize:500,separator:":",theme:{colors:[wd],spacing:[bi,yo],blur:["none","",wo,Qe],brightness:fe(),borderColor:[t],borderRadius:["none","","full",wo,Qe],borderSpacing:M(),borderWidth:N(),contrast:fe(),grayscale:B(),hueRotate:fe(),invert:B(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[bY,yo],inset:k(),margin:k(),opacity:fe(),padding:M(),saturate:fe(),scale:fe(),sepia:B(),skew:fe(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Qe]}],container:["container"],columns:[{columns:[wo]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),Qe]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",yd,Qe]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Qe]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",yd,Qe]}],"grid-cols":[{"grid-cols":[wd]}],"col-start-end":[{col:["auto",{span:["full",yd,Qe]},Qe]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[wd]}],"row-start-end":[{row:["auto",{span:[yd,Qe]},Qe]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Qe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Qe,e]}],"min-w":[{"min-w":[Qe,e,"min","max","fit"]}],"max-w":[{"max-w":[Qe,e,"none","full","min","max","fit","prose",{screen:[wo]},wo]}],h:[{h:[Qe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Qe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Qe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Qe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",wo,yo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Jw]}],"font-family":[{font:[wd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Qe]}],"line-clamp":[{"line-clamp":["none",jc,Jw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",bi,Qe]}],"list-image":[{"list-image":["none",Qe]}],"list-style-type":[{list:["none","disc","decimal",Qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",bi,yo]}],"underline-offset":[{"underline-offset":["auto",bi,Qe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),CY]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",TY]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},RY]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:ne()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[bi,Qe]}],"outline-w":[{outline:[bi,yo]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[bi,yo]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",wo,IY]}],"shadow-color":[{shadow:[wd]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",wo,Qe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Qe]}],duration:[{duration:fe()}],ease:[{ease:["linear","in","out","in-out",Qe]}],delay:[{delay:fe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[yd,Qe]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[bi,yo,Jw]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},MY=mY(kY);function ue(...t){return MY(nY(t))}const Uf=ZQ,Bf=eY,OY=m.forwardRef(({className:t,inset:e,children:n,...r},s)=>d.jsxs(Mj,{ref:s,className:ue("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,d.jsx(YM,{className:"ml-auto h-4 w-4"})]}));OY.displayName=Mj.displayName;const jY=m.forwardRef(({className:t,...e},n)=>d.jsx(Oj,{ref:n,className:ue("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));jY.displayName=Oj.displayName;const Lu=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(tY,{children:d.jsx(Aj,{ref:r,sideOffset:e,className:ue("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Lu.displayName=Aj.displayName;const ti=m.forwardRef(({className:t,inset:e,...n},r)=>d.jsx(Ij,{ref:r,className:ue("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));ti.displayName=Ij.displayName;const LY=m.forwardRef(({className:t,children:e,checked:n,...r},s)=>d.jsxs(Pj,{ref:s,className:ue("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(Dj,{children:d.jsx(fb,{className:"h-4 w-4"})})}),e]}));LY.displayName=Pj.displayName;const FY=m.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(Nj,{ref:r,className:ue("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(Dj,{children:d.jsx(e8,{className:"h-2 w-2 fill-current"})})}),e]}));FY.displayName=Nj.displayName;const $j=m.forwardRef(({className:t,inset:e,...n},r)=>d.jsx(Rj,{ref:r,className:ue("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));$j.displayName=Rj.displayName;const Ub=m.forwardRef(({className:t,...e},n)=>d.jsx(kj,{ref:n,className:ue("-mx-1 my-1 h-px bg-muted",t),...e}));Ub.displayName=kj.displayName;const VY=t=>Object.entries(t).map(([e,n])=>({id:Date.now().toString(),key:e,value:n})),UY=t=>t<1024?t+" bytes":t<1048576?(t/1024).toFixed(1)+" KB":(t/1048576).toFixed(1)+" MB",zh=t=>{try{const e=decodeURIComponent(t),n=e.lastIndexOf("/")+1,r=e.indexOf("?alt=");return n!==-1&&r!==-1?e.substring(n,r):null}catch(e){return console.error("Failed to extract filename:",e),null}},Bb=t=>t&&t.charAt(0).toUpperCase()+t.slice(1);function zj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=zj(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function BY(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=zj(t))&&(r&&(r+=" "),r+=e);return r}const XR=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,JR=BY,$f=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return JR(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],h=i==null?void 0:i[c];if(u===null)return null;const p=XR(u)||XR(h);return s[c][p]}),a=n&&Object.entries(n).reduce((c,u)=>{let[h,p]=u;return p===void 0||(c[h]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:h,className:p,...g}=u;return Object.entries(g).every(w=>{let[v,x]=w;return Array.isArray(x)?x.includes({...i,...a}[v]):{...i,...a}[v]===x})?[...c,h,p]:c},[]);return JR(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},$Y=$f("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function zf({className:t,variant:e,...n}){return d.jsx("div",{className:ue($Y({variant:e}),t),...n})}const zY=({text:t,children:e})=>{const n=Df(),r=ft(o=>o.admin),s=ft(o=>o.logout),i=o=>{switch(o){case"admin":return d.jsx(d8,{className:"mr-2 h-4 w-4"});case"editor":return d.jsx(h8,{className:"mr-2 h-4 w-4"});case"viewer":return d.jsx(mb,{className:"mr-2 h-4 w-4"})}};return r?d.jsxs("header",{className:"w-full flex flex-col items-center ",children:[d.jsxs("div",{className:"w-full px-8 h-14 flex items-center justify-between",children:[d.jsx("p",{children:t}),d.jsxs(Uf,{children:[d.jsx(Bf,{asChild:!0,children:d.jsx("div",{className:"hover:bg-slate-200 rounded-lg p-2 cursor-pointer",children:d.jsx(p8,{})})}),d.jsxs(Lu,{align:"end",className:"w-64 bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[d.jsx($j,{className:"font-normal",children:d.jsxs("div",{className:"flex flex-col space-y-1",children:[d.jsx("p",{className:"text-sm font-medium truncate leading-tight",title:r.email,children:r.email}),d.jsxs("div",{className:"flex items-center pt-1",children:[i(r.role),d.jsx(zf,{variant:"secondary",className:ue("flex w-16 items-center justify-center pointer-events-none select-none",r.role==="admin"&&"bg-red-200 text-red-800",r.role==="editor"&&"bg-blue-200 text-blue-800",r.role==="viewer"&&"bg-green-200 text-green-800"),children:Bb(r.role)})]})]})}),d.jsx(Ub,{}),d.jsxs(ti,{onClick:s,className:"flex items-center focus:bg-red-400 focus:text-white rounded-md cursor-pointer",children:[d.jsx(o8,{className:"mr-2 h-4 w-4"}),d.jsx("span",{className:"py-2 font-medium",children:"Log Out"})]})]})]})]}),e]}):(n("/login"),null)},KY=({Component:t})=>d.jsx("div",{className:"flex-1 flex justify-center =py-3",children:d.jsx(t,{})}),WY=({headerText:t})=>d.jsx("header",{className:"py-4 text-3xl font-semibold w-full",children:t});function Zw(){return Date.now().toString()}const tt=()=>{const t=new Date,e={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};return t.toLocaleDateString("en-US",e)},HY=t=>{const e=new Date(t),r=new Date().getTime()-e.getTime(),s=Math.floor(r/(1e3*60)),i=Math.floor(s/60),o=Math.floor(i/24);return o>0?`${o}d`:i>0?`${i}h`:`${s}m`},e0="https://chatbot-api-0zup.onrender.com",ry=async(t,e)=>{const{method:n="GET",headers:r={},body:s}=e,{accessToken:i,setAccessToken:o,logout:a}=ft.getState(),l={method:n,credentials:"include",headers:{"Content-Type":"application/json",authorization:`Bearer ${i}`,...r},...s&&{body:JSON.stringify(s)}};try{let c=await fetch(`${e0}${t}`,l);if(c.status===401){gt("Fetching new access token");const h=await fetch(`${e0}/api/auth/refresh-token`,{method:"POST",credentials:"include"});h.status===404&&a();const{accessToken:p}=await h.json();o(p),l.headers={...l.headers,authorization:`Bearer ${p}`},c=await fetch(`${e0}${t}`,l)}if(c.status===429){const h=await c.text();throw gt(`Too many requests: ${h}`),new Error(h)}return await c.json()}catch(c){throw c}},Kf=(t,e)=>ry(t,{method:"GET",headers:e}),Ra=(t,e,n)=>ry(t,{method:"POST",headers:e,body:n}),sy=(t,e,n)=>ry(t,{method:"PUT",headers:e,body:n}),Wf=(t,e,n)=>ry(t,{method:"DELETE",headers:e,body:n}),qY=async t=>{const e={userQuery:t},{success:n,response:r}=await Ra("/api/chatbot/query-admin",{},e);if(!n)throw new Error(`Sending query to chatbot was unsuccessful: ${r}`);return r},GY=async()=>{const{success:t,response:e}=await Ra("/api/chatbot/train",{});if(!t)throw new Error(`Training model is unsuccessful: ${e}`)},Kj=()=>e=>new Promise(n=>{setTimeout(n,e)}),Ui=ao()(PM((t,e)=>({currentSelectedTabInSettingsTab:"team",currentSelectedTabInArchiveTab:"knowledgeBases",currentSelectedKnowledgeTab:"knowledgeBase",messageHistory:[],setCurrentSelectedTabInSettingsTab:n=>t({currentSelectedTabInSettingsTab:n}),setCurrentSelectedTabInArchiveTab:n=>t({currentSelectedTabInArchiveTab:n}),setCurrentSelectedKnowledgeTab:n=>t({currentSelectedKnowledgeTab:n}),setMessageHistory:n=>t(r=>({messageHistory:r.messageHistory.length>=100?[...r.messageHistory.slice(1),n]:[...r.messageHistory,n]})),clearMessageHistory:()=>{e().messageHistory.length!==0&&t({messageHistory:[]})}}),{name:"auth-storage",storage:lb(()=>sessionStorage)})),QY=()=>{const t=Kj(),e=Ui(x=>x.messageHistory),n=Ui(x=>x.setMessageHistory),r=Ui(x=>x.clearMessageHistory),[s,i]=m.useState(null),[o,a]=m.useState(!1),l=m.useRef(null),c=()=>{var x;(x=l.current)==null||x.scrollIntoView({behavior:"smooth"})};m.useEffect(()=>{c()},[e]);const u=x=>x.replace(/\[=[^\]]+=\]/g,"").trim(),h=x=>{var y;const _=/\[\=([^\]]+)\=\]/;if(_.test(x)){const b=x.match(_);if(b){const A=(y=zh(b[1]))==null?void 0:y.split(".")[1];return{type:"file",source:b[1],fileType:A??"unknown"}}}},p=x=>{const _={uuid:Zw(),text:x,sender:"user"};n(_)},g=x=>{const _={uuid:Zw(),text:x.answer,sender:"bot",response:x};i(x),o||a(!0),n(_)},w=(x,_)=>{const y={uuid:Zw(),sender:"bot",fileData:{source:x,type:_}};n(y)};return{messageHistory:e,clearMessageHistory:r,handleSubmitMessage:async x=>{try{if(!x)throw new Error("Message is empty");p(x);const _=await qY(x),y=h(_.answer);if(!y){g(_);return}const b=u(_.answer),A={..._,answer:b};g(A),await t(1e3),y.type==="file"&&w(y.source,y.fileType)}catch(_){if(_ instanceof Error){gt(_.message,!0);return}console.error("Unknown error occured: ",_)}},endOfMessagesRef:l,selectedResponse:s,setSelectedResponse:i,isInfoPanelOpen:o,setIsInfoPanelOpen:a}};var $b="Progress",zb=100,[YY,rge]=Vl($b),[XY,JY]=YY($b),Wj=m.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=ZY,...o}=t;(s||s===0)&&!ZR(s)&&console.error(eX(`${s}`,"Progress"));const a=ZR(s)?s:zb;r!==null&&!eI(r,a)&&console.error(tX(`${r}`,"Progress"));const l=eI(r,a)?r:null,c=Og(l)?i(l,a):void 0;return d.jsx(XY,{scope:n,value:l,max:a,children:d.jsx(ve.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Og(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":Gj(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});Wj.displayName=$b;var Hj="ProgressIndicator",qj=m.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=JY(Hj,n);return d.jsx(ve.div,{"data-state":Gj(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});qj.displayName=Hj;function ZY(t,e){return`${Math.round(t/e*100)}%`}function Gj(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Og(t){return typeof t=="number"}function ZR(t){return Og(t)&&!isNaN(t)&&t>0}function eI(t,e){return Og(t)&&!isNaN(t)&&t<=e&&t>=0}function eX(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${zb}\`.`}function tX(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${zb} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Qj=Wj,nX=qj;const Yj=m.forwardRef(({className:t,value:e,...n},r)=>d.jsx(Qj,{ref:r,className:ue("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:d.jsx(nX,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Yj.displayName=Qj.displayName;const rX=({responseData:t,showPanel:e})=>{var r,s,i;const n=()=>t==null?void 0:t.classifications.slice(0,3).filter(a=>a.intent!=="None"&&a.score>0);return d.jsx("div",{className:`bg-gray-50  transition-all duration-300 ease-in-out overflow-hidden ${e?"w-64 border-l border-neutral-200":"w-0"}`,children:d.jsx("div",{className:"w-64 h-full",children:d.jsxs("div",{className:ue(`p-4 h-full flex flex-col transition-opacity duration-300,
            showPanel ? "opacity-100" : "opacity-0"
            }`),children:[d.jsxs("h2",{className:"text-lg font-semibold text-gray-700 mb-4 flex items-center",children:[d.jsx(n8,{className:"w-5 h-5 mr-2"}),"Bot Response Info"]}),t?d.jsxs("div",{className:"space-y-4 flex-grow",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"flex items-center justify-between space-x-2 text-sm font-medium text-gray-700 mb-1",children:[d.jsx("p",{children:"Confidence Score "}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(sO,{className:"size-4 mr-1 text-yellow-400 fill-yellow-400"}),d.jsx("span",{className:"text-sm font-medium text-gray-600",children:t.score.toFixed(2)})]})]}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx(Yj,{value:t.score*100,className:"w-full"})})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Detected Intent"}),d.jsx(zf,{variant:"outline",children:t==null?void 0:t.intent})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Other Possible Intents"}),d.jsx("ul",{className:ue("list-disc space-y-1",((r=n())==null?void 0:r.length)&&"pl-5"),children:(s=n())!=null&&s.length?(i=n())==null?void 0:i.map((o,a)=>d.jsx("li",{className:"text-sm ",children:d.jsxs("div",{className:"line-clamp-3",children:[d.jsx("span",{style:{whiteSpace:"normal",overflowWrap:"break-word"},children:o.intent}),d.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",o.score.toFixed(2),")"]})]})},a)):d.jsx("span",{className:"text-sm text-muted-foreground",children:"No other intents detected"})})]})]}):d.jsx("div",{className:"text-center text-gray-500",children:"No bot response yet. Start a conversation to see details."})]})})})},Lt=m.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:ue("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Lt.displayName="Input";const Kb=$f("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Xe=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?da:"button";return d.jsx(o,{className:ue(Kb({variant:e,size:n,className:t})),ref:i,...s})});Xe.displayName="Button";const sX=({onSendMessage:t})=>{const[e,n]=m.useState(""),[r,s]=m.useState([]),[i,o]=m.useState(-1),a=h=>{s(p=>{const g=[...p,h];return g.length>3?g.slice(1):g})},l=h=>{n(h.target.value),o(-1)},c=async()=>{const h=e;a(h),n(""),await t(h)},u=async h=>{h.key==="Enter"&&e.trim()!==""&&await c(),h.key==="ArrowUp"&&(i>0?(o(i-1),n(r[i-1])):i===-1&&r.length>0&&(o(r.length-1),n(r[r.length-1]))),h.key==="ArrowDown"&&(i<r.length-1?(o(i+1),n(r[i+1])):(o(-1),n("")))};return d.jsxs("div",{className:"w-full h-[5rem] border-t border-t-customBorderColor flex items-center justify-between px-4 space-x-2",children:[d.jsx(Lt,{placeholder:"Type message here",value:e,onChange:l,onKeyDown:u}),d.jsxs(Xe,{onClick:async()=>await c(),children:[d.jsx(rO,{className:"size-4 mr-2"}),"Send"]})]})},iX=["png","jpg","jpeg","jfif"],oX=["mp4"],aX=["pdf"],lX=({message:t,onItemClick:e})=>{const n=r=>/{=([^{}]+)=}/.test(r);if("fileData"in t){const{source:r,type:s}=t.fileData,i=o=>{if(iX.includes(o))return d.jsx("img",{className:"w-72 rounded-2xl",src:r});if(oX.includes(o))return d.jsx("video",{width:"288",height:"360",className:"rounded-2xl",controls:!0,children:d.jsx("source",{src:r,type:"video/mp4"})});if(aX.includes(o))return d.jsxs("div",{className:"flex space-x-1.5 items-center w-fit rounded-tl-2xl rounded-tr-2xl py-2.5 px-4 text-blue-600 rounded-br-2xl rounded-bl-[2px] bg-gray-100 cursor-pointer",children:[d.jsx(eO,{className:"size-5"}),d.jsx("a",{href:r,target:"_blank",className:"hover:underline underline-offset-2",children:zh(r)??"click here"})]})};return d.jsx(d.Fragment,{children:i(s)})}if(n(t.text)){const{response:r}=t,s=t.text.replace(/<(.+?)>\{=(.+?)=\}/g,(i,o,a)=>`<a class="font-semibold text-primary dark:text-secondary hover:underline" href="${a}" target="_blank" rel="noopener noreferrer">${o}</a>`);return d.jsx("div",{className:"max-w-[80%] w-fit rounded-tl-2xl rounded-tr-2xl transition-colors ease-out whitespace-pre-wrap leading-relaxed py-2.5 px-4 rounded-br-2xl rounded-bl-[2px] bg-gray-100 cursor-pointer",dangerouslySetInnerHTML:{__html:s},onClick:r?()=>e(r):void 0})}if("text"in t&&"sender"in t||"response"in t){const{text:r,sender:s,response:i}=t;return d.jsx("div",{className:ue("flex",s==="user"?"justify-end":"justify-start"),onClick:i?()=>e(i):void 0,children:d.jsx("div",{className:ue("max-w-[80%] rounded-tl-2xl rounded-tr-2xl transition-colors ease-out whitespace-pre-wrap leading-relaxed",s==="user"?"text-white py-1.5 px-3.5 rounded-bl-2xl rounded-br-[4px] bg-blue-500":"py-2.5 px-4 rounded-br-2xl rounded-bl-[2px] bg-gray-100 cursor-pointer",i?"hover:bg-gray-200":""),children:r})})}return null},Fu=({items:t,renderItem:e,listStyle:n})=>d.jsx("div",{className:n,children:t==null?void 0:t.map((r,s)=>d.jsx(m.Fragment,{children:e(r)},s))});function cX(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}function Kh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Gx=t=>Array.isArray(t);function Xj(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Wh(t){return typeof t=="string"||Array.isArray(t)}function tI(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Wb(t,e,n,r){if(typeof e=="function"){const[s,i]=tI(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=tI(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function iy(t,e,n){const r=t.getProps();return Wb(r,e,n!==void 0?n:r.custom,t)}const Hb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qb=["initial",...Hb],Hf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ia=new Set(Hf),Bi=t=>t*1e3,$i=t=>t/1e3,uX={type:"spring",stiffness:500,damping:25,restSpeed:10},dX=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),hX={type:"keyframes",duration:.8},fX={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pX=(t,{keyframes:e})=>e.length>2?hX:Ia.has(t)?t.startsWith("scale")?dX(e[1]):uX:fX;function mX({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function Gb(t,e){return t[e]||t.default||t}const gX={skipAnimations:!1,useManualTiming:!1},vX=t=>t!==null;function oy(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(vX),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const ir=t=>t;function yX(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){i.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,u=!1,h=!1)=>{const g=h&&r?e:n;return u&&i.add(c),g.has(c)||g.add(c),c},cancel:c=>{n.delete(c),i.delete(c)},process:c=>{if(o=c,r){s=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,s&&(s=!1,l.process(c))}};return l}const Yp=["read","resolveKeyframes","update","preRender","render","postRender"],wX=40;function Jj(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Yp.reduce((_,y)=>(_[y]=yX(i),_),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:h,postRender:p}=o,g=()=>{const _=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(_-s.timestamp,wX),1),s.timestamp=_,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),u.process(s),h.process(s),p.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(g))},w=()=>{n=!0,r=!0,s.isProcessing||t(g)};return{schedule:Yp.reduce((_,y)=>{const b=o[y];return _[y]=(A,P=!1,O=!1)=>(n||w(),b.schedule(A,P,O)),_},{}),cancel:_=>{for(let y=0;y<Yp.length;y++)o[Yp[y]].cancel(_)},state:s,steps:o}}const{schedule:wt,cancel:ro,state:Vn,steps:t0}=Jj(typeof requestAnimationFrame<"u"?requestAnimationFrame:ir,!0),Zj=t=>/^0[^.\s]+$/u.test(t);function xX(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Zj(t):!0}let Qx=ir;const eL=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),tL=t=>e=>typeof e=="string"&&e.startsWith(t),nL=tL("--"),_X=tL("var(--"),Qb=t=>_X(t)?EX.test(t.split("/*")[0].trim()):!1,EX=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,bX=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function SX(t){const e=bX.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function rL(t,e,n=1){const[r,s]=SX(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return eL(o)?parseFloat(o):o}return Qb(s)?rL(s,e,n+1):s}const ga=(t,e,n)=>n>e?e:n<t?t:n,Vu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Yd={...Vu,transform:t=>ga(0,1,t)},Xp={...Vu,default:1},Xd=t=>Math.round(t*1e5)/1e5,Yb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,TX=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,CX=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function qf(t){return typeof t=="string"}function AX(t){return t==null}const Gf=t=>({test:e=>qf(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Eo=Gf("deg"),li=Gf("%"),De=Gf("px"),RX=Gf("vh"),IX=Gf("vw"),nI={...li,parse:t=>li.parse(t)/100,transform:t=>li.transform(t*100)},PX=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),rI=t=>t===Vu||t===De,sI=(t,e)=>parseFloat(t.split(", ")[e]),iI=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return sI(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?sI(i[1],t):0}},NX=new Set(["x","y","z"]),DX=Hf.filter(t=>!NX.has(t));function kX(t){const e=[];return DX.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const du={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:iI(4,13),y:iI(5,14)};du.translateX=du.x;du.translateY=du.y;const sL=t=>e=>e.test(t),MX={test:t=>t==="auto",parse:t=>t},iL=[Vu,De,li,Eo,IX,RX,MX],oI=t=>iL.find(sL(t)),pl=new Set;let Yx=!1,Xx=!1;function oL(){if(Xx){const t=Array.from(pl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=kX(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Xx=!1,Yx=!1,pl.forEach(t=>t.complete()),pl.clear()}function aL(){pl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Xx=!0)})}function OX(){aL(),oL()}class Xb{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(pl.add(this),Yx||(Yx=!0,wt.read(aL),wt.resolveKeyframes(oL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),pl.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,pl.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Jb=(t,e)=>n=>!!(qf(n)&&CX.test(n)&&n.startsWith(t)||e&&!AX(n)&&Object.prototype.hasOwnProperty.call(n,e)),lL=(t,e,n)=>r=>{if(!qf(r))return r;const[s,i,o,a]=r.match(Yb);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},jX=t=>ga(0,255,t),n0={...Vu,transform:t=>Math.round(jX(t))},Za={test:Jb("rgb","red"),parse:lL("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+n0.transform(t)+", "+n0.transform(e)+", "+n0.transform(n)+", "+Xd(Yd.transform(r))+")"};function LX(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Jx={test:Jb("#"),parse:LX,transform:Za.transform},wc={test:Jb("hsl","hue"),parse:lL("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+li.transform(Xd(e))+", "+li.transform(Xd(n))+", "+Xd(Yd.transform(r))+")"},er={test:t=>Za.test(t)||Jx.test(t)||wc.test(t),parse:t=>Za.test(t)?Za.parse(t):wc.test(t)?wc.parse(t):Jx.parse(t),transform:t=>qf(t)?t:t.hasOwnProperty("red")?Za.transform(t):wc.transform(t)};function FX(t){var e,n;return isNaN(t)&&qf(t)&&(((e=t.match(Yb))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(TX))===null||n===void 0?void 0:n.length)||0)>0}const cL="number",uL="color",VX="var",UX="var(",aI="${}",BX=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(BX,l=>(er.test(l)?(r.color.push(i),s.push(uL),n.push(er.parse(l))):l.startsWith(UX)?(r.var.push(i),s.push(VX),n.push(l)):(r.number.push(i),s.push(cL),n.push(parseFloat(l))),++i,aI)).split(aI);return{values:n,split:a,indexes:r,types:s}}function dL(t){return Hh(t).values}function hL(t){const{split:e,types:n}=Hh(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===cL?i+=Xd(s[o]):a===uL?i+=er.transform(s[o]):i+=s[o]}return i}}const $X=t=>typeof t=="number"?0:t;function zX(t){const e=dL(t);return hL(t)(e.map($X))}const va={test:FX,parse:dL,createTransformer:hL,getAnimatableNone:zX},KX=new Set(["brightness","contrast","saturate","opacity"]);function WX(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Yb)||[];if(!r)return t;const s=n.replace(r,"");let i=KX.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const HX=/\b([a-z-]*)\(.*?\)/gu,Zx={...va,getAnimatableNone:t=>{const e=t.match(HX);return e?e.map(WX).join(" "):t}},lI={...Vu,transform:Math.round},Zb={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,radius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,size:De,top:De,right:De,bottom:De,left:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,rotate:Eo,rotateX:Eo,rotateY:Eo,rotateZ:Eo,scale:Xp,scaleX:Xp,scaleY:Xp,scaleZ:Xp,skew:Eo,skewX:Eo,skewY:Eo,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:Yd,originX:nI,originY:nI,originZ:De,zIndex:lI,backgroundPositionX:De,backgroundPositionY:De,fillOpacity:Yd,strokeOpacity:Yd,numOctaves:lI},qX={...Zb,color:er,backgroundColor:er,outlineColor:er,fill:er,stroke:er,borderColor:er,borderTopColor:er,borderRightColor:er,borderBottomColor:er,borderLeftColor:er,filter:Zx,WebkitFilter:Zx},eS=t=>qX[t];function fL(t,e){let n=eS(t);return n!==Zx&&(n=va),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const GX=new Set(["auto","none","0"]);function QX(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!GX.has(i)&&Hh(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=fL(n,s)}class pL extends Xb{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Qb(c))){const u=rL(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!PX.has(r)||e.length!==2)return;const[s,i]=e,o=oI(s),a=oI(i);if(o!==a)if(rI(o)&&rI(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)xX(e[s])&&r.push(s);r.length&&QX(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=du[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=du[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function mL(t){let e;return()=>(e===void 0&&(e=t()),e)}let Mm;function YX(){Mm=void 0}const ci={now:()=>(Mm===void 0&&ci.set(Vn.isProcessing||gX.useManualTiming?Vn.timestamp:performance.now()),Mm),set:t=>{Mm=t,queueMicrotask(YX)}},cI=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(va.test(t)||t==="0")&&!t.startsWith("url("));function XX(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function JX(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=cI(s,e),a=cI(i,e);return!o||!a?!1:XX(t)||n==="spring"&&r}const ZX=40;class gL{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ci.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>ZX?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&OX(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ci.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!JX(e,r,s,i))if(o)this.options.duration=0;else{l==null||l(oy(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function vL(t,e){return e?t*(1e3/e):0}const eJ=5;function yL(t,e,n){const r=Math.max(e-eJ,0);return vL(n-t(r),e-r)}const r0=.001,tJ=.01,nJ=10,rJ=.05,sJ=1;function iJ({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=ga(rJ,sJ,o),t=ga(tJ,nJ,$i(t)),o<1?(s=c=>{const u=c*o,h=u*t,p=u-n,g=e_(c,o),w=Math.exp(-h);return r0-p/g*w},i=c=>{const h=c*o*t,p=h*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,w=Math.exp(-h),v=e_(Math.pow(c,2),o);return(-s(c)+r0>0?-1:1)*((p-g)*w)/v}):(s=c=>{const u=Math.exp(-c*t),h=(c-n)*t+1;return-r0+u*h},i=c=>{const u=Math.exp(-c*t),h=(n-c)*(t*t);return u*h});const a=5/t,l=aJ(s,i,a);if(t=Bi(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const oJ=12;function aJ(t,e,n){let r=n;for(let s=1;s<oJ;s++)r=r-t(r)/e(r);return r}function e_(t,e){return t*Math.sqrt(1-e*e)}const lJ=["duration","bounce"],cJ=["stiffness","damping","mass"];function uI(t,e){return e.some(n=>t[n]!==void 0)}function uJ(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!uI(t,cJ)&&uI(t,lJ)){const n=iJ(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function wL({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:c,duration:u,velocity:h,isResolvedFromDuration:p}=uJ({...r,velocity:-$i(r.velocity||0)}),g=h||0,w=l/(2*Math.sqrt(a*c)),v=i-s,x=$i(Math.sqrt(a/c)),_=Math.abs(v)<5;n||(n=_?.01:2),e||(e=_?.005:.5);let y;if(w<1){const b=e_(x,w);y=A=>{const P=Math.exp(-w*x*A);return i-P*((g+w*x*v)/b*Math.sin(b*A)+v*Math.cos(b*A))}}else if(w===1)y=b=>i-Math.exp(-x*b)*(v+(g+x*v)*b);else{const b=x*Math.sqrt(w*w-1);y=A=>{const P=Math.exp(-w*x*A),O=Math.min(b*A,300);return i-P*((g+w*x*v)*Math.sinh(O)+b*v*Math.cosh(O))/b}}return{calculatedDuration:p&&u||null,next:b=>{const A=y(b);if(p)o.done=b>=u;else{let P=0;w<1&&(P=b===0?Bi(g):yL(y,b,A));const O=Math.abs(P)<=n,T=Math.abs(i-A)<=e;o.done=O&&T}return o.value=o.done?i:A,o}}}function dI({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const h=t[0],p={done:!1,value:h},g=E=>a!==void 0&&E<a||l!==void 0&&E>l,w=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l;let v=n*e;const x=h+v,_=o===void 0?x:o(x);_!==x&&(v=_-h);const y=E=>-v*Math.exp(-E/r),b=E=>_+y(E),A=E=>{const I=y(E),R=b(E);p.done=Math.abs(I)<=c,p.value=p.done?_:R};let P,O;const T=E=>{g(p.value)&&(P=E,O=wL({keyframes:[p.value,w(p.value)],velocity:yL(b,E,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return T(0),{calculatedDuration:null,next:E=>{let I=!1;return!O&&P===void 0&&(I=!0,A(E),T(E)),P!==void 0&&E>=P?O.next(E-P):(!I&&A(E),p)}}}const xL=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,dJ=1e-7,hJ=12;function fJ(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=xL(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>dJ&&++a<hJ);return o}function Qf(t,e,n,r){if(t===e&&n===r)return ir;const s=i=>fJ(i,0,1,t,n);return i=>i===0||i===1?i:xL(s(i),e,r)}const pJ=Qf(.42,0,1,1),mJ=Qf(0,0,.58,1),_L=Qf(.42,0,.58,1),gJ=t=>Array.isArray(t)&&typeof t[0]!="number",EL=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,bL=t=>e=>1-t(1-e),tS=t=>1-Math.sin(Math.acos(t)),SL=bL(tS),vJ=EL(tS),TL=Qf(.33,1.53,.69,.99),nS=bL(TL),yJ=EL(nS),wJ=t=>(t*=2)<1?.5*nS(t):.5*(2-Math.pow(2,-10*(t-1))),hI={linear:ir,easeIn:pJ,easeInOut:_L,easeOut:mJ,circIn:tS,circInOut:vJ,circOut:SL,backIn:nS,backInOut:yJ,backOut:TL,anticipate:wJ},fI=t=>{if(Array.isArray(t)){Qx(t.length===4);const[e,n,r,s]=t;return Qf(e,n,r,s)}else if(typeof t=="string")return Qx(hI[t]!==void 0),hI[t];return t},xJ=(t,e)=>n=>e(t(n)),zi=(...t)=>t.reduce(xJ),qh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Wt=(t,e,n)=>t+(e-t)*n;function s0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function _J({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=s0(l,a,t+1/3),i=s0(l,a,t),o=s0(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function jg(t,e){return n=>n>0?e:t}const i0=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},EJ=[Jx,Za,wc],bJ=t=>EJ.find(e=>e.test(t));function pI(t){const e=bJ(t);if(!e)return!1;let n=e.parse(t);return e===wc&&(n=_J(n)),n}const mI=(t,e)=>{const n=pI(t),r=pI(e);if(!n||!r)return jg(t,e);const s={...n};return i=>(s.red=i0(n.red,r.red,i),s.green=i0(n.green,r.green,i),s.blue=i0(n.blue,r.blue,i),s.alpha=Wt(n.alpha,r.alpha,i),Za.transform(s))},t_=new Set(["none","hidden"]);function SJ(t,e){return t_.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function TJ(t,e){return n=>Wt(t,e,n)}function rS(t){return typeof t=="number"?TJ:typeof t=="string"?Qb(t)?jg:er.test(t)?mI:RJ:Array.isArray(t)?CL:typeof t=="object"?er.test(t)?mI:CJ:jg}function CL(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>rS(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function CJ(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=rS(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function AJ(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][s[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const RJ=(t,e)=>{const n=va.createTransformer(e),r=Hh(t),s=Hh(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?t_.has(t)&&!s.values.length||t_.has(e)&&!r.values.length?SJ(t,e):zi(CL(AJ(r,s),s.values),n):jg(t,e)};function AL(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Wt(t,e,n):rS(t)(t,e)}function IJ(t,e,n){const r=[],s=n||AL,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||ir:e;a=zi(l,a)}r.push(a)}return r}function PJ(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Qx(i===e.length),i===1)return()=>e[0];if(i===2&&t[0]===t[1])return()=>e[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=IJ(e,r,s),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const h=qh(t[u],t[u+1],c);return o[u](h)};return n?c=>l(ga(t[0],t[i-1],c)):l}function NJ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=qh(0,e,r);t.push(Wt(n,1,s))}}function DJ(t){const e=[0];return NJ(e,t.length-1),e}function kJ(t,e){return t.map(n=>n*e)}function MJ(t,e){return t.map(()=>e||_L).splice(0,t.length-1)}function Lg({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=gJ(r)?r.map(fI):fI(r),i={done:!1,value:e[0]},o=kJ(n&&n.length===e.length?n:DJ(e),t),a=PJ(o,e,{ease:Array.isArray(s)?s:MJ(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const gI=2e4;function OJ(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<gI;)e+=n,r=t.next(e);return e>=gI?1/0:e}const jJ=t=>{const e=({timestamp:n})=>t(n);return{start:()=>wt.update(e,!0),stop:()=>ro(e),now:()=>Vn.isProcessing?Vn.timestamp:ci.now()}},LJ={decay:dI,inertia:dI,tween:Lg,keyframes:Lg,spring:wL},FJ=t=>t/100;class sS extends gL{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||Xb,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=LJ[n]||Lg;let l,c;a!==Lg&&typeof e[0]!="number"&&(l=zi(FJ,AL(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});i==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=OJ(u));const{calculatedDuration:h}=u,p=h+s,g=p*(r+1)-s;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:p,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:p,repeat:g,repeatType:w,repeatDelay:v,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const _=this.currentTime-p*(this.speed>=0?1:-1),y=this.speed>=0?_<0:_>u;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let b=this.currentTime,A=i;if(g){const E=Math.min(this.currentTime,u)/h;let I=Math.floor(E),R=E%1;!R&&E>=1&&(R=1),R===1&&I--,I=Math.min(I,g+1),!!(I%2)&&(w==="reverse"?(R=1-R,v&&(R-=v/h)):w==="mirror"&&(A=o)),b=ga(0,1,R)*h}const P=y?{done:!1,value:l[0]}:A.next(b);a&&(P.value=a(P.value));let{done:O}=P;!y&&c!==null&&(O=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return T&&s!==void 0&&(P.value=oy(l,this.options,s)),x&&x(P.value),T&&this.finish(),P}get duration(){const{resolved:e}=this;return e?$i(e.calculatedDuration):0}get time(){return $i(this.currentTime)}set time(e){e=Bi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=$i(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=jJ,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const RL=new Set(["opacity","clipPath","filter","transform"]),IL=t=>Array.isArray(t)&&typeof t[0]=="number";function PL(t){return!!(!t||typeof t=="string"&&t in iS||IL(t)||Array.isArray(t)&&t.every(PL))}const Dd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,iS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Dd([0,.65,.55,1]),circOut:Dd([.55,0,1,.45]),backIn:Dd([.31,.01,.66,-.59]),backOut:Dd([.33,1.53,.69,.99])};function VJ(t){return NL(t)||iS.easeOut}function NL(t){if(t)return IL(t)?Dd(t):Array.isArray(t)?t.map(VJ):iS[t]}function UJ(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=NL(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const BJ=mL(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Fg=10,$J=2e4;function zJ(t){return t.type==="spring"||!PL(t.ease)}function KJ(t,e){const n=new sS({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<$J;)r=n.sample(i),s.push(r.value),i+=Fg;return{times:void 0,keyframes:s,duration:i-Fg,ease:"linear"}}class vI extends gL{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new pL(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:s=300,times:i,ease:o,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(zJ(this.options)){const{onComplete:p,onUpdate:g,motionValue:w,element:v,...x}=this.options,_=KJ(e,x);e=_.keyframes,e.length===1&&(e[1]=e[0]),s=_.duration,i=_.times,o=_.ease,a="keyframes"}const h=UJ(l.owner.current,c,e,{...this.options,duration:s,times:i,ease:o});return h.startTime=u??this.calcStartTime(),this.pendingTimeline?(h.timeline=this.pendingTimeline,this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:p}=this.options;l.set(oy(e,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:s,times:i,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return $i(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return $i(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Bi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return ir;const{animation:r}=n;r.timeline=e,r.onfinish=null}return ir}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:h,element:p,...g}=this.options,w=new sS({...g,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),v=Bi(this.time);c.setWithVelocity(w.sample(v-Fg).value,w.sample(v).value,Fg)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=e;return BJ()&&r&&RL.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}function WJ(t,e){let n;const r=()=>{const{currentTime:s}=e,o=(s===null?0:s.value)/100;n!==o&&t(o),n=o};return wt.update(r,!0),()=>ro(r)}const HJ=mL(()=>window.ScrollTimeline!==void 0);class qJ{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(HJ()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),WJ(s=>{r.time=r.duration*s},e)});return()=>{n.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const oS=(t,e,n,r={},s,i,o)=>a=>{const l=Gb(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Bi(c);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{a(),l.onComplete&&l.onComplete(),o&&o()},onStop:o,name:t,motionValue:e,element:i?void 0:s};mX(l)||(h={...h,...pX(t,h)}),h.duration&&(h.duration=Bi(h.duration)),h.repeatDelay&&(h.repeatDelay=Bi(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let p=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(p=!0)),p&&!i&&e.get()!==void 0){const g=oy(h.keyframes,l);if(g!==void 0)return wt.update(()=>{h.onUpdate(g),h.onComplete()}),new qJ([])}return!i&&vI.supports(h)?new vI(h):new sS(h)},GJ=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),QJ=t=>Gx(t)?t[t.length-1]||0:t;function ay(t,e){t.indexOf(e)===-1&&t.push(e)}function ly(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class aS{constructor(){this.subscriptions=[]}add(e){return ay(this.subscriptions,e),()=>ly(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const yI=30,YJ=t=>!isNaN(parseFloat(t));class DL{constructor(e,n={}){this.version="11.5.6",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=ci.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ci.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=YJ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new aS);const r=this.events[e].add(n);return e==="change"?()=>{r(),wt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ci.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>yI)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,yI);return vL(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Gh(t,e){return new DL(t,e)}function XJ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Gh(n))}function JJ(t,e){const n=iy(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=QJ(i[o]);XJ(t,o,a)}}const cy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ZJ="framerAppearId",kL="data-"+cy(ZJ);function ML(t){return t.props[kL]}function OL(t){if(Ia.has(t))return"transform";if(RL.has(t))return cy(t)}class eZ extends DL{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(e){const n=OL(e);if(!n)return;const r=this.counts.get(n)||0;this.counts.set(n,r+1),r===0&&(this.output.push(n),this.update());let s=!1;return()=>{if(s)return;s=!0;const i=this.counts.get(n)-1;this.counts.set(n,i),i===0&&(ly(this.output,n),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}const sr=t=>!!(t&&t.getVelocity);function tZ(t){return!!(sr(t)&&t.add)}function n_(t,e){var n;if(!t.applyWillChange)return;let r=t.getValue("willChange");if(!r&&!(!((n=t.props.style)===null||n===void 0)&&n.willChange)&&(r=new eZ("auto"),t.addValue("willChange",r)),tZ(r))return r.add(e)}function nZ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function jL(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const h in l){const p=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),g=l[h];if(g===void 0||u&&nZ(u,h))continue;const w={delay:n,...Gb(o||{},h)};let v=!1;if(window.MotionHandoffAnimation){const _=ML(t);if(_){const y=window.MotionHandoffAnimation(_,h,wt);y!==null&&(w.startTime=y,v=!0)}}p.start(oS(h,p,g,t.shouldReduceMotion&&Ia.has(h)?{type:!1}:w,t,v,n_(t,h)));const x=p.animation;x&&c.push(x)}return a&&Promise.all(c).then(()=>{wt.update(()=>{a&&JJ(t,a)})}),c}function r_(t,e,n={}){var r;const s=iy(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(jL(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:p}=i;return rZ(t,e,u+c,h,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function rZ(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(sZ).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(r_(c,e,{...i,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function sZ(t,e){return t.sortNodePosition(e)}function iZ(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>r_(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=r_(t,e,n);else{const s=typeof e=="function"?iy(t,e,n.custom):e;r=Promise.all(jL(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const oZ=qb.length;function LL(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?LL(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<oZ;n++){const r=qb[n],s=t.props[r];(Wh(s)||s===!1)&&(e[r]=s)}return e}const aZ=[...Hb].reverse(),lZ=Hb.length;function cZ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>iZ(t,n,r)))}function uZ(t){let e=cZ(t),n=wI(),r=!0;const s=l=>(c,u)=>{var h;const p=iy(t,u,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(p){const{transition:g,transitionEnd:w,...v}=p;c={...c,...v,...w}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,u=LL(t.parent)||{},h=[],p=new Set;let g={},w=1/0;for(let x=0;x<lZ;x++){const _=aZ[x],y=n[_],b=c[_]!==void 0?c[_]:u[_],A=Wh(b),P=_===l?y.isActive:null;P===!1&&(w=x);let O=b===u[_]&&b!==c[_]&&A;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),y.protectedKeys={...g},!y.isActive&&P===null||!b&&!y.prevProp||Kh(b)||typeof b=="boolean")continue;const T=dZ(y.prevProp,b);let E=T||_===l&&y.isActive&&!O&&A||x>w&&A,I=!1;const R=Array.isArray(b)?b:[b];let k=R.reduce(s(_),{});P===!1&&(k={});const{prevResolvedValues:M={}}=y,N={...M,...k},W=Y=>{E=!0,p.has(Y)&&(I=!0,p.delete(Y)),y.needsAnimating[Y]=!0;const z=t.getValue(Y);z&&(z.liveStyle=!1)};for(const Y in N){const z=k[Y],B=M[Y];if(g.hasOwnProperty(Y))continue;let J=!1;Gx(z)&&Gx(B)?J=!Xj(z,B):J=z!==B,J?z!=null?W(Y):p.add(Y):z!==void 0&&p.has(Y)?W(Y):y.protectedKeys[Y]=!0}y.prevProp=b,y.prevResolvedValues=k,y.isActive&&(g={...g,...k}),r&&t.blockInitialAnimation&&(E=!1),E&&(!(O&&T)||I)&&h.push(...R.map(Y=>({animation:Y,options:{type:_}})))}if(p.size){const x={};p.forEach(_=>{const y=t.getBaseTarget(_),b=t.getValue(_);b&&(b.liveStyle=!0),x[_]=y??null}),h.push({animation:x})}let v=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(h):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=wI(),r=!0}}}function dZ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Xj(e,t):!1}function $a(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wI(){return{animate:$a(!0),whileInView:$a(),whileHover:$a(),whileTap:$a(),whileDrag:$a(),whileFocus:$a(),exit:$a()}}class Pa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class hZ extends Pa{constructor(e){super(e),e.animationState||(e.animationState=uZ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Kh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let fZ=0;class pZ extends Pa{constructor(){super(...arguments),this.id=fZ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const mZ={animation:{Feature:hZ},exit:{Feature:pZ}},FL=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function uy(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const gZ=t=>e=>FL(e)&&t(e,uy(e));function Oi(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ki(t,e,n,r){return Oi(t,e,gZ(n),r)}const xI=(t,e)=>Math.abs(t-e);function vZ(t,e){const n=xI(t.x,e.x),r=xI(t.y,e.y);return Math.sqrt(n**2+r**2)}class VL{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=a0(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=vZ(h.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:w}=h,{timestamp:v}=Vn;this.history.push({...w,timestamp:v});const{onStart:x,onMove:_}=this.handlers;p||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=o0(p,this.transformPagePoint),wt.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:g,onSessionEnd:w,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=a0(h.type==="pointercancel"?this.lastMoveEventInfo:o0(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,x),w&&w(h,x)},!FL(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=uy(e),a=o0(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Vn;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,a0(a,this.history)),this.removeListeners=zi(Ki(this.contextWindow,"pointermove",this.handlePointerMove),Ki(this.contextWindow,"pointerup",this.handlePointerUp),Ki(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ro(this.updatePoint)}}function o0(t,e){return e?{point:e(t.point)}:t}function _I(t,e){return{x:t.x-e.x,y:t.y-e.y}}function a0({point:t},e){return{point:t,delta:_I(t,UL(e)),offset:_I(t,yZ(e)),velocity:wZ(e,.1)}}function yZ(t){return t[0]}function UL(t){return t[t.length-1]}function wZ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=UL(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Bi(e)));)n--;if(!r)return{x:0,y:0};const i=$i(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function BL(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const EI=BL("dragHorizontal"),bI=BL("dragVertical");function $L(t){let e=!1;if(t==="y")e=bI();else if(t==="x")e=EI();else{const n=EI(),r=bI();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function zL(){const t=$L(!0);return t?(t(),!1):!0}function xc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const KL=1e-4,xZ=1-KL,_Z=1+KL,WL=.01,EZ=0-WL,bZ=0+WL;function Xr(t){return t.max-t.min}function SZ(t,e,n){return Math.abs(t-e)<=n}function SI(t,e,n,r=.5){t.origin=r,t.originPoint=Wt(e.min,e.max,t.origin),t.scale=Xr(n)/Xr(e),t.translate=Wt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=xZ&&t.scale<=_Z||isNaN(t.scale))&&(t.scale=1),(t.translate>=EZ&&t.translate<=bZ||isNaN(t.translate))&&(t.translate=0)}function Jd(t,e,n,r){SI(t.x,e.x,n.x,r?r.originX:void 0),SI(t.y,e.y,n.y,r?r.originY:void 0)}function TI(t,e,n){t.min=n.min+e.min,t.max=t.min+Xr(e)}function TZ(t,e,n){TI(t.x,e.x,n.x),TI(t.y,e.y,n.y)}function CI(t,e,n){t.min=e.min-n.min,t.max=t.min+Xr(e)}function Zd(t,e,n){CI(t.x,e.x,n.x),CI(t.y,e.y,n.y)}function CZ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Wt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Wt(n,t,r.max):Math.min(t,n)),t}function AI(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function AZ(t,{top:e,left:n,bottom:r,right:s}){return{x:AI(t.x,n,s),y:AI(t.y,e,r)}}function RI(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function RZ(t,e){return{x:RI(t.x,e.x),y:RI(t.y,e.y)}}function IZ(t,e){let n=.5;const r=Xr(t),s=Xr(e);return s>r?n=qh(e.min,e.max-r,t.min):r>s&&(n=qh(t.min,t.max-s,e.min)),ga(0,1,n)}function PZ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const s_=.35;function NZ(t=s_){return t===!1?t=0:t===!0&&(t=s_),{x:II(t,"left","right"),y:II(t,"top","bottom")}}function II(t,e,n){return{min:PI(t,e),max:PI(t,n)}}function PI(t,e){return typeof t=="number"?t:t[e]||0}const NI=()=>({translate:0,scale:1,origin:0,originPoint:0}),_c=()=>({x:NI(),y:NI()}),DI=()=>({min:0,max:0}),sn=()=>({x:DI(),y:DI()});function ls(t){return[t("x"),t("y")]}function HL({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function DZ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function kZ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function l0(t){return t===void 0||t===1}function i_({scale:t,scaleX:e,scaleY:n}){return!l0(t)||!l0(e)||!l0(n)}function Ha(t){return i_(t)||qL(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function qL(t){return kI(t.x)||kI(t.y)}function kI(t){return t&&t!=="0%"}function Vg(t,e,n){const r=t-n,s=e*r;return n+s}function MI(t,e,n,r,s){return s!==void 0&&(t=Vg(t,s,r)),Vg(t,n,r)+e}function o_(t,e=0,n=1,r,s){t.min=MI(t.min,e,n,r,s),t.max=MI(t.max,e,n,r,s)}function GL(t,{x:e,y:n}){o_(t.x,e.translate,e.scale,e.originPoint),o_(t.y,n.translate,n.scale,n.originPoint)}const OI=.999999999999,jI=1.0000000000001;function MZ(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&bc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,GL(t,o)),r&&Ha(i.latestValues)&&bc(t,i.latestValues))}e.x<jI&&e.x>OI&&(e.x=1),e.y<jI&&e.y>OI&&(e.y=1)}function Ec(t,e){t.min=t.min+e,t.max=t.max+e}function LI(t,e,n,r,s=.5){const i=Wt(t.min,t.max,s);o_(t,e,n,i,r)}function bc(t,e){LI(t.x,e.x,e.scaleX,e.scale,e.originX),LI(t.y,e.y,e.scaleY,e.scale,e.originY)}function QL(t,e){return HL(kZ(t.getBoundingClientRect(),e))}function OZ(t,e,n){const r=QL(t,n),{scroll:s}=e;return s&&(Ec(r.x,s.offset.x),Ec(r.y,s.offset.y)),r}const YL=({current:t})=>t?t.ownerDocument.defaultView:null,jZ=new WeakMap;class LZ{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=sn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(uy(u,"page").point)},i=(u,h)=>{var p;const{drag:g,dragPropagation:w,onDragStart:v}=this.getProps();if(g&&!w&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=$L(g),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ls(_=>{let y=this.getAxisMotionValue(_).get()||0;if(li.test(y)){const{projection:b}=this.visualElement;if(b&&b.layout){const A=b.layout.layoutBox[_];A&&(y=Xr(A)*(parseFloat(y)/100))}}this.originPoint[_]=y}),v&&wt.postRender(()=>v(u,h)),(p=this.removeWillChange)===null||p===void 0||p.call(this),this.removeWillChange=n_(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:w,onDrag:v}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:x}=h;if(g&&this.currentDirection===null){this.currentDirection=FZ(x),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),v&&v(u,h)},a=(u,h)=>this.stop(u,h),l=()=>ls(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new VL(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:YL(this.visualElement)})}stop(e,n){var r;(r=this.removeWillChange)===null||r===void 0||r.call(this);const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&wt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Jp(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=CZ(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&xc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=AZ(s.layoutBox,n):this.constraints=!1,this.elastic=NZ(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ls(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=PZ(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!xc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=OZ(r,s.root,this.visualElement.getTransformPagePoint());let o=RZ(s.layout.layoutBox,i);if(n){const a=n(DZ(o));this.hasMutatedConstraints=!!a,a&&(o=HL(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=ls(u=>{if(!Jp(u,n,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const p=s?200:1e6,g=s?40:1e7,w={type:"inertia",velocity:r?e[u]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(oS(e,r,0,n,this.visualElement,!1,n_(this.visualElement,e)))}stopAnimation(){ls(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ls(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ls(n=>{const{drag:r}=this.getProps();if(!Jp(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Wt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!xc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ls(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=IZ({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ls(o=>{if(!Jp(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Wt(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;jZ.set(this.visualElement,this);const e=this.visualElement.current,n=Ki(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();xc(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),wt.read(r);const o=Oi(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ls(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=s_,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Jp(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function FZ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class VZ extends Pa{constructor(e){super(e),this.removeGroupControls=ir,this.removeListeners=ir,this.controls=new LZ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ir}unmount(){this.removeGroupControls(),this.removeListeners()}}const FI=t=>(e,n)=>{t&&wt.postRender(()=>t(e,n))};class UZ extends Pa{constructor(){super(...arguments),this.removePointerDownListener=ir}onPointerDown(e){this.session=new VL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:YL(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:FI(e),onStart:FI(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&wt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Ki(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const dy=m.createContext(null);function BZ(){const t=m.useContext(dy);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=m.useId();m.useEffect(()=>r(s),[]);const i=m.useCallback(()=>n&&n(s),[s,n]);return!e&&n?[!1,i]:[!0]}const lS=m.createContext({}),XL=m.createContext({}),Om={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function VI(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const xd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(De.test(t))t=parseFloat(t);else return t;const n=VI(t,e.target.x),r=VI(t,e.target.y);return`${n}% ${r}%`}},$Z={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=va.parse(t);if(s.length>5)return r;const i=va.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=Wt(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}},Ug={};function zZ(t){Object.assign(Ug,t)}const{schedule:cS,cancel:sge}=Jj(queueMicrotask,!1);class KZ extends m.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;zZ(WZ),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Om.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||wt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),cS.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function JL(t){const[e,n]=BZ(),r=m.useContext(lS);return d.jsx(KZ,{...t,layoutGroup:r,switchLayoutGroup:m.useContext(XL),isPresent:e,safeToRemove:n})}const WZ={borderRadius:{...xd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xd,borderTopRightRadius:xd,borderBottomLeftRadius:xd,borderBottomRightRadius:xd,boxShadow:$Z},ZL=["TopLeft","TopRight","BottomLeft","BottomRight"],HZ=ZL.length,UI=t=>typeof t=="string"?parseFloat(t):t,BI=t=>typeof t=="number"||De.test(t);function qZ(t,e,n,r,s,i){s?(t.opacity=Wt(0,n.opacity!==void 0?n.opacity:1,GZ(r)),t.opacityExit=Wt(e.opacity!==void 0?e.opacity:1,0,QZ(r))):i&&(t.opacity=Wt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<HZ;o++){const a=`border${ZL[o]}Radius`;let l=$I(e,a),c=$I(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||BI(l)===BI(c)?(t[a]=Math.max(Wt(UI(l),UI(c),r),0),(li.test(c)||li.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Wt(e.rotate||0,n.rotate||0,r))}function $I(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const GZ=e2(0,.5,SL),QZ=e2(.5,.95,ir);function e2(t,e,n){return r=>r<t?0:r>e?1:n(qh(t,e,r))}function zI(t,e){t.min=e.min,t.max=e.max}function as(t,e){zI(t.x,e.x),zI(t.y,e.y)}function KI(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function WI(t,e,n,r,s){return t-=e,t=Vg(t,1/n,r),s!==void 0&&(t=Vg(t,1/s,r)),t}function YZ(t,e=0,n=1,r=.5,s,i=t,o=t){if(li.test(e)&&(e=parseFloat(e),e=Wt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Wt(i.min,i.max,r);t===i&&(a-=e),t.min=WI(t.min,e,n,a,s),t.max=WI(t.max,e,n,a,s)}function HI(t,e,[n,r,s],i,o){YZ(t,e[n],e[r],e[s],e.scale,i,o)}const XZ=["x","scaleX","originX"],JZ=["y","scaleY","originY"];function qI(t,e,n,r){HI(t.x,e,XZ,n?n.x:void 0,r?r.x:void 0),HI(t.y,e,JZ,n?n.y:void 0,r?r.y:void 0)}function GI(t){return t.translate===0&&t.scale===1}function t2(t){return GI(t.x)&&GI(t.y)}function QI(t,e){return t.min===e.min&&t.max===e.max}function ZZ(t,e){return QI(t.x,e.x)&&QI(t.y,e.y)}function YI(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function n2(t,e){return YI(t.x,e.x)&&YI(t.y,e.y)}function XI(t){return Xr(t.x)/Xr(t.y)}function JI(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class eee{constructor(){this.members=[]}add(e){ay(this.members,e),e.scheduleRender()}remove(e){if(ly(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function tee(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:p,skewX:g,skewY:w}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const nee=(t,e)=>t.depth-e.depth;class ree{constructor(){this.children=[],this.isDirty=!1}add(e){ay(this.children,e),this.isDirty=!0}remove(e){ly(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(nee),this.isDirty=!1,this.children.forEach(e)}}function jm(t){const e=sr(t)?t.get():t;return GJ(e)?e.toValue():e}function see(t,e){const n=ci.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(ro(r),t(i-e))};return wt.read(r,!0),()=>ro(r)}function iee(t){return t instanceof SVGElement&&t.tagName!=="svg"}function oee(t,e,n){const r=sr(t)?t:Gh(t);return r.start(oS("",r,e,n)),r.animation}const qa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},kd=typeof window<"u"&&window.MotionDebug!==void 0,c0=["","X","Y","Z"],aee={visibility:"hidden"},ZI=1e3;let lee=0;function u0(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function r2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=ML(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",wt,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&r2(r)}function s2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=lee++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,kd&&(qa.totalNodes=qa.resolvedTargetDeltas=qa.recalculatedProjection=0),this.nodes.forEach(dee),this.nodes.forEach(gee),this.nodes.forEach(vee),this.nodes.forEach(hee),kd&&window.MotionDebug.record(qa)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new ree)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new aS),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=iee(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=see(p,250),Om.hasAnimatedSinceResize&&(Om.hasAnimatedSinceResize=!1,this.nodes.forEach(t1))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:g,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||Eee,{onLayoutAnimationStart:x,onLayoutAnimationComplete:_}=u.getProps(),y=!this.targetLayout||!n2(this.targetLayout,w)||g,b=!p&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||p&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const A={...Gb(v,"layout"),onPlay:x,onComplete:_};(u.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else p||t1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ro(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yee),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&r2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(e1);return}this.isUpdating||this.nodes.forEach(pee),this.isUpdating=!1,this.nodes.forEach(mee),this.nodes.forEach(cee),this.nodes.forEach(uee),this.clearAllSnapshots();const a=ci.now();Vn.delta=ga(0,1e3/60,a-Vn.timestamp),Vn.timestamp=a,Vn.isProcessing=!0,t0.update.process(Vn),t0.preRender.process(Vn),t0.render.process(Vn),Vn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fee),this.sharedNodes.forEach(wee)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=sn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!t2(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Ha(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),bee(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return sn();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(See))){const{scroll:u}=this.root;u&&(Ec(l.x,u.offset.x),Ec(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=sn();if(as(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:p}=u;u!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&as(l,o),Ec(l.x,h.offset.x),Ec(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=sn();as(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&bc(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ha(u.latestValues)&&bc(l,u.latestValues)}return Ha(this.latestValues)&&bc(l,this.latestValues),l}removeTransform(o){const a=sn();as(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ha(c.latestValues))continue;i_(c.latestValues)&&c.updateSnapshot();const u=sn(),h=c.measurePageBox();as(u,h),qI(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Ha(this.latestValues)&&qI(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=Vn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),Zd(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),as(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=sn(),this.targetWithTransforms=sn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),TZ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):as(this.target,this.layout.layoutBox),GL(this.target,this.targetDelta)):as(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),Zd(this.relativeTargetOrigin,this.target,g.target),as(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}kd&&qa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||i_(this.parent.latestValues)||qL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Vn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;as(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;MZ(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=sn());const{target:w}=a;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(KI(this.prevProjectionDelta.x,this.projectionDelta.x),KI(this.prevProjectionDelta.y,this.projectionDelta.y)),Jd(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!JI(this.projectionDelta.x,this.prevProjectionDelta.x)||!JI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),kd&&qa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_c(),this.projectionDelta=_c(),this.projectionDeltaWithTransform=_c()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=_c();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=sn(),g=l?l.source:void 0,w=this.layout?this.layout.source:void 0,v=g!==w,x=this.getStack(),_=!x||x.members.length<=1,y=!!(v&&!_&&this.options.crossfade===!0&&!this.path.some(_ee));this.animationProgress=0;let b;this.mixTargetDelta=A=>{const P=A/1e3;n1(h.x,o.x,P),n1(h.y,o.y,P),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zd(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xee(this.relativeTarget,this.relativeTargetOrigin,p,P),b&&ZZ(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=sn()),as(b,this.relativeTarget)),v&&(this.animationValues=u,qZ(u,c,this.latestValues,P,y,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ro(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wt.update(()=>{Om.hasAnimatedSinceResize=!0,this.currentAnimation=oee(0,ZI,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ZI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&i2(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||sn();const h=Xr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=Xr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}as(a,l),bc(a,u),Jd(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new eee),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&u0("z",o,c,this.animationValues);for(let u=0;u<c0.length;u++)u0(`rotate${c0[u]}`,o,c,this.animationValues),u0(`skew${c0[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return aee;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=jm(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=jm(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ha(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=tee(this.projectionDeltaWithTransform,this.treeScale,p),u&&(c.transform=u(p,c.transform));const{x:g,y:w}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${w.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in Ug){if(p[v]===void 0)continue;const{correct:x,applyTo:_}=Ug[v],y=c.transform==="none"?p[v]:x(p[v],h);if(_){const b=_.length;for(let A=0;A<b;A++)c[_[A]]=y}else c[v]=y}return this.options.layoutId&&(c.pointerEvents=h===this?jm(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(e1),this.root.sharedNodes.clear()}}}function cee(t){t.updateLayout()}function uee(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?ls(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],g=Xr(p);p.min=r[h].min,p.max=p.min+g}):i2(i,n.layoutBox,r)&&ls(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],g=Xr(r[h]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const a=_c();Jd(a,r,n.layoutBox);const l=_c();o?Jd(l,t.applyTransform(s,!0),n.measuredBox):Jd(l,r,n.layoutBox);const c=!t2(a);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:g}=h;if(p&&g){const w=sn();Zd(w,n.layoutBox,p.layoutBox);const v=sn();Zd(v,r,g.layoutBox),n2(w,v)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=w,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function dee(t){kd&&qa.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function hee(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function fee(t){t.clearSnapshot()}function e1(t){t.clearMeasurements()}function pee(t){t.isLayoutDirty=!1}function mee(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function t1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function gee(t){t.resolveTargetDelta()}function vee(t){t.calcProjection()}function yee(t){t.resetSkewAndRotation()}function wee(t){t.removeLeadSnapshot()}function n1(t,e,n){t.translate=Wt(e.translate,0,n),t.scale=Wt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function r1(t,e,n,r){t.min=Wt(e.min,n.min,r),t.max=Wt(e.max,n.max,r)}function xee(t,e,n,r){r1(t.x,e.x,n.x,r),r1(t.y,e.y,n.y,r)}function _ee(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Eee={duration:.45,ease:[.4,0,.1,1]},s1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),i1=s1("applewebkit/")&&!s1("chrome/")?Math.round:ir;function o1(t){t.min=i1(t.min),t.max=i1(t.max)}function bee(t){o1(t.x),o1(t.y)}function i2(t,e,n){return t==="position"||t==="preserve-aspect"&&!SZ(XI(e),XI(n),.2)}function See(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Tee=s2({attachResizeListener:(t,e)=>Oi(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),d0={current:void 0},o2=s2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!d0.current){const t=new Tee({});t.mount(window),t.setOptions({layoutScroll:!0}),d0.current=t}return d0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Cee={pan:{Feature:UZ},drag:{Feature:VZ,ProjectionNode:o2,MeasureLayout:JL}};function a1(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",s=(i,o)=>{if(i.pointerType==="touch"||zL())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&wt.postRender(()=>l(i,o))};return Ki(t.current,n,s,{passive:!t.getProps()[r]})}class Aee extends Pa{mount(){this.unmount=zi(a1(this.node,!0),a1(this.node,!1))}unmount(){}}class Ree extends Pa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zi(Oi(this.node.current,"focus",()=>this.onFocus()),Oi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const a2=(t,e)=>e?t===e?!0:a2(t,e.parentElement):!1;function h0(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,uy(n))}class Iee extends Pa{constructor(){super(...arguments),this.removeStartListeners=ir,this.removeEndListeners=ir,this.removeAccessibleListeners=ir,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Ki(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:h}=this.node.getProps(),p=!h&&!a2(this.node.current,a.target)?u:c;p&&wt.update(()=>p(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=Ki(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=zi(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||h0("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&wt.postRender(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=Oi(this.node.current,"keyup",o),h0("down",(a,l)=>{this.startPress(a,l)})},n=Oi(this.node.current,"keydown",e),r=()=>{this.isPressing&&h0("cancel",(i,o)=>this.cancelPress(i,o))},s=Oi(this.node.current,"blur",r);this.removeAccessibleListeners=zi(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&wt.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!zL()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&wt.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Ki(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Oi(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=zi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const a_=new WeakMap,f0=new WeakMap,Pee=t=>{const e=a_.get(t.target);e&&e(t)},Nee=t=>{t.forEach(Pee)};function Dee({root:t,...e}){const n=t||document;f0.has(n)||f0.set(n,{});const r=f0.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Nee,{root:t,...e})),r[s]}function kee(t,e,n){const r=Dee(e);return a_.set(t,n),r.observe(t),()=>{a_.delete(t),r.unobserve(t)}}const Mee={some:0,all:1};class Oee extends Pa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Mee[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),p=c?u:h;p&&p(l)};return kee(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(jee(e,n))&&this.startObserver()}unmount(){}}function jee({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Lee={inView:{Feature:Oee},tap:{Feature:Iee},focus:{Feature:Ree},hover:{Feature:Aee}},Fee={layout:{ProjectionNode:o2,MeasureLayout:JL}},uS=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),hy=m.createContext({}),dS=typeof window<"u",l2=dS?m.useLayoutEffect:m.useEffect,c2=m.createContext({strict:!1});let l1=!1;function Vee(t,e,n,r,s){var i;const{visualElement:o}=m.useContext(hy),a=m.useContext(c2),l=m.useContext(dy),c=m.useContext(uS).reducedMotion,u=m.useRef();r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const h=u.current,p=m.useContext(XL);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&Bee(u.current,n,s,p),m.useInsertionEffect(()=>{h&&h.update(n,l)});const g=n[kL],w=m.useRef(!!g&&!window.MotionHandoffIsComplete&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,g)));return l2(()=>{h&&(h.updateFeatures(),cS.render(h.render),w.current&&h.animationState&&h.animationState.animateChanges())}),m.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current=!1,l1||(l1=!0,queueMicrotask(Uee)))}),h}function Uee(){window.MotionHandoffIsComplete=!0}function Bee(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:u2(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&xc(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function u2(t){if(t)return t.options.allowProjection!==!1?t.projection:u2(t.parent)}function $ee(t,e,n){return m.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):xc(n)&&(n.current=r))},[e])}function fy(t){return Kh(t.animate)||qb.some(e=>Wh(t[e]))}function d2(t){return!!(fy(t)||t.variants)}function zee(t,e){if(fy(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Wh(n)?n:void 0,animate:Wh(r)?r:void 0}}return t.inherit!==!1?e:{}}function Kee(t){const{initial:e,animate:n}=zee(t,m.useContext(hy));return m.useMemo(()=>({initial:e,animate:n}),[c1(e),c1(n)])}function c1(t){return Array.isArray(t)?t.join(" "):t}const u1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hu={};for(const t in u1)hu[t]={isEnabled:e=>u1[t].some(n=>!!e[n])};function Wee(t){for(const e in t)hu[e]={...hu[e],...t[e]}}const Hee=Symbol.for("motionComponentSymbol");function qee({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&Wee(t);function i(a,l){let c;const u={...m.useContext(uS),...a,layoutId:Gee(a)},{isStatic:h}=u,p=Kee(a),g=r(a,h);if(!h&&dS){Qee();const w=Yee(u);c=w.MeasureLayout,p.visualElement=Vee(s,g,u,e,w.ProjectionNode)}return d.jsxs(hy.Provider,{value:p,children:[c&&p.visualElement?d.jsx(c,{visualElement:p.visualElement,...u}):null,n(s,a,$ee(g,p.visualElement,l),g,h,p.visualElement)]})}const o=m.forwardRef(i);return o[Hee]=s,o}function Gee({layoutId:t}){const e=m.useContext(lS).id;return e&&t!==void 0?e+"-"+t:t}function Qee(t,e){m.useContext(c2).strict}function Yee(t){const{drag:e,layout:n}=hu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Xee=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hS(t){return typeof t!="string"||t.includes("-")?!1:!!(Xee.indexOf(t)>-1||/[A-Z]/u.test(t))}function h2(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const f2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function p2(t,e,n,r){h2(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(f2.has(s)?s:cy(s),e.attrs[s])}function m2(t,{layout:e,layoutId:n}){return Ia.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ug[t]||t==="opacity")}function fS(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(sr(s[o])||e.style&&sr(e.style[o])||m2(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return n&&s&&typeof s.willChange=="string"&&(n.applyWillChange=!1),i}function g2(t,e,n){const r=fS(t,e,n);for(const s in t)if(sr(t[s])||sr(e[s])){const i=Hf.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function pS(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}function Jee({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:r},s,i,o,a){const l={latestValues:ete(s,i,o,a?!1:t,e),renderState:n()};return r&&(l.mount=c=>r(s,c,l)),l}const v2=t=>(e,n)=>{const r=m.useContext(hy),s=m.useContext(dy),i=()=>Jee(t,e,r,s,n);return n?i():pS(i)};function Zee(t,e){const n=OL(e);n&&ay(t,n)}function d1(t,e,n){const r=Array.isArray(e)?e:[e];for(let s=0;s<r.length;s++){const i=Wb(t,r[s]);if(i){const{transitionEnd:o,transition:a,...l}=i;n(l,o)}}}function ete(t,e,n,r,s){var i;const o={},a=[],l=r&&((i=t.style)===null||i===void 0?void 0:i.willChange)===void 0,c=s(t,{});for(const x in c)o[x]=jm(c[x]);let{initial:u,animate:h}=t;const p=fy(t),g=d2(t);e&&g&&!p&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let w=n?n.initial===!1:!1;w=w||u===!1;const v=w?h:u;return v&&typeof v!="boolean"&&!Kh(v)&&d1(t,v,(x,_)=>{for(const y in x){let b=x[y];if(Array.isArray(b)){const A=w?b.length-1:0;b=b[A]}b!==null&&(o[y]=b)}for(const y in _)o[y]=_[y]}),l&&(h&&u!==!1&&!Kh(h)&&d1(t,h,x=>{for(const _ in x)Zee(a,_)}),a.length&&(o.willChange=a.join(","))),o}const mS=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),y2=()=>({...mS(),attrs:{}}),w2=(t,e)=>e&&typeof t=="number"?e.transform(t):t,tte={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nte=Hf.length;function rte(t,e,n){let r="",s=!0;for(let i=0;i<nte;i++){const o=Hf[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=w2(a,Zb[o]);if(!l){s=!1;const u=tte[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function gS(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Ia.has(l)){o=!0;continue}else if(nL(l)){s[l]=c;continue}else{const u=w2(c,Zb[l]);l.startsWith("origin")?(a=!0,i[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=rte(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;r.transformOrigin=`${l} ${c} ${u}`}}function h1(t,e,n){return typeof t=="string"?t:De.transform(e+n*t)}function ste(t,e,n){const r=h1(e,t.x,t.width),s=h1(n,t.y,t.height);return`${r} ${s}`}const ite={offset:"stroke-dashoffset",array:"stroke-dasharray"},ote={offset:"strokeDashoffset",array:"strokeDasharray"};function ate(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?ite:ote;t[i.offset]=De.transform(-r);const o=De.transform(e),a=De.transform(n);t[i.array]=`${o} ${a}`}function vS(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,h){if(gS(t,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g,dimensions:w}=t;p.transform&&(w&&(g.transform=p.transform),delete p.transform),w&&(s!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=ste(w,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&ate(p,o,a,l,!1)}const yS=t=>typeof t=="string"&&t.toLowerCase()==="svg",lte={useVisualState:v2({scrapeMotionValuesFromProps:g2,createRenderState:y2,onMount:(t,e,{renderState:n,latestValues:r})=>{wt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),wt.render(()=>{vS(n,r,yS(e.tagName),t.transformTemplate),p2(e,n)})}})},cte={useVisualState:v2({applyWillChange:!0,scrapeMotionValuesFromProps:fS,createRenderState:mS})};function x2(t,e,n){for(const r in e)!sr(e[r])&&!m2(r,n)&&(t[r]=e[r])}function ute({transformTemplate:t},e){return m.useMemo(()=>{const n=mS();return gS(n,e,t),Object.assign({},n.vars,n.style)},[e])}function dte(t,e){const n=t.style||{},r={};return x2(r,n,t),Object.assign(r,ute(t,e)),r}function hte(t,e){const n={},r=dte(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const fte=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||fte.has(t)}let _2=t=>!Bg(t);function pte(t){t&&(_2=e=>e.startsWith("on")?!Bg(e):t(e))}try{pte(require("@emotion/is-prop-valid").default)}catch{}function mte(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(_2(s)||n===!0&&Bg(s)||!e&&!Bg(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function gte(t,e,n,r){const s=m.useMemo(()=>{const i=y2();return vS(i,e,yS(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};x2(i,t.style,t),s.style={...i,...s.style}}return s}function vte(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(hS(n)?gte:hte)(r,i,o,n),c=mte(r,typeof n=="string",t),u=n!==m.Fragment?{...c,...l,ref:s}:{},{children:h}=r,p=m.useMemo(()=>sr(h)?h.get():h,[h]);return m.createElement(n,{...u,children:p})}}function yte(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...hS(r)?lte:cte,preloadedFeatures:t,useRender:vte(s),createVisualElement:e,Component:r};return qee(o)}}const l_={current:null},E2={current:!1};function wte(){if(E2.current=!0,!!dS)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>l_.current=t.matches;t.addListener(e),e()}else l_.current=!1}function xte(t,e,n){for(const r in e){const s=e[r],i=n[r];if(sr(s))t.addValue(r,s);else if(sr(i))t.addValue(r,Gh(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Gh(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const f1=new WeakMap,_te=[...iL,er,va],Ete=t=>_te.find(sL(t)),p1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class bte{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Xb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=ci.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,wt.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=fy(n),this.isVariantNode=d2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const g=h[p];l[p]!==void 0&&sr(g)&&g.set(l[p],!1)}}mount(e){this.current=e,f1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),E2.current||wte(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:l_.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){f1.delete(this.current),this.projection&&this.projection.unmount(),ro(this.notifyUpdate),ro(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ia.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&wt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in hu){const n=hu[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):sn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<p1.length;r++){const s=p1[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=xte(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Gh(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(eL(s)||Zj(s))?s=parseFloat(s):!Ete(s)&&va.test(n)&&(s=fL(e,n)),this.setBaseTarget(e,sr(s)?s.get():s)),sr(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=Wb(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!sr(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new aS),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class b2 extends bte{constructor(){super(...arguments),this.KeyframeResolver=pL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function Ste(t){return window.getComputedStyle(t)}class Tte extends b2{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=h2}readValueFromInstance(e,n){if(Ia.has(n)){const r=eS(n);return r&&r.default||0}else{const r=Ste(e),s=(nL(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return QL(e,n)}build(e,n,r){gS(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return fS(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;sr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Cte extends b2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=sn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ia.has(n)){const r=eS(n);return r&&r.default||0}return n=f2.has(n)?n:cy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return g2(e,n,r)}build(e,n,r){vS(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){p2(e,n,r,s)}mount(e){this.isSVGTag=yS(e.tagName),super.mount(e)}}const Ate=(t,e)=>hS(t)?new Cte(e):new Tte(e,{allowProjection:t!==m.Fragment}),Rte=yte({...mZ,...Lee,...Cee,...Fee},Ate),Ite=cX(Rte);class Pte extends m.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Nte({children:t,isPresent:e}){const n=m.useId(),r=m.useRef(null),s=m.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=m.useContext(uS);return m.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=s.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return i&&(u.nonce=i),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),d.jsx(Pte,{isPresent:e,childRef:r,sizeRef:s,children:m.cloneElement(t,{ref:r})})}const Dte=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=pS(kte),l=m.useId(),c=m.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:u=>{a.set(u,!0);for(const h of a.values())if(!h)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),i?[Math.random()]:[n]);return m.useMemo(()=>{a.forEach((u,h)=>a.set(h,!1))},[n]),m.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=d.jsx(Nte,{isPresent:n,children:t})),d.jsx(dy.Provider,{value:c,children:t})};function kte(){return new Map}const Zp=t=>t.key||"";function m1(t){const e=[];return m.Children.forEach(t,n=>{m.isValidElement(n)&&e.push(n)}),e}const Mte=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=m.useMemo(()=>m1(t),[t]),l=a.map(Zp),c=m.useRef(!0),u=m.useRef(a),h=pS(()=>new Map),[p,g]=m.useState(a),[w,v]=m.useState(a);l2(()=>{c.current=!1,u.current=a;for(let y=0;y<w.length;y++){const b=Zp(w[y]);l.includes(b)?h.delete(b):h.get(b)!==!0&&h.set(b,!1)}},[w,l.length,l.join("-")]);const x=[];if(a!==p){let y=[...a];for(let b=0;b<w.length;b++){const A=w[b],P=Zp(A);l.includes(P)||(y.splice(b,0,A),x.push(A))}o==="wait"&&x.length&&(y=x),v(m1(y)),g(a);return}const{forceRender:_}=m.useContext(lS);return d.jsx(d.Fragment,{children:w.map(y=>{const b=Zp(y),A=a===w||l.includes(b),P=()=>{if(h.has(b))h.set(b,!0);else return;let O=!0;h.forEach(T=>{T||(O=!1)}),O&&(_==null||_(),v(u.current),s&&s())};return d.jsx(Dte,{isPresent:A,initial:!c.current||r?void 0:!1,custom:A?void 0:n,presenceAffectsLayout:i,mode:o,onExitComplete:A?void 0:P,children:y},b)})})},Ote=({messageHistory:t,endOfMessagesRef:e,handleMessageClick:n})=>d.jsxs("div",{className:"flex-1 py-4 overflow-y-auto",children:[d.jsx(Mte,{children:d.jsx(Fu,{items:t,renderItem:r=>d.jsx(Ite.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`mb-4 ${r.sender==="user"?"text-right":"text-left"}`,children:d.jsx(lX,{message:r,onItemClick:n})},r.uuid),listStyle:"px-4 flex flex-col space-y-4"})}),d.jsx("div",{ref:e})]}),jte=()=>{const{messageHistory:t,clearMessageHistory:e,handleSubmitMessage:n,endOfMessagesRef:r,selectedResponse:s,setSelectedResponse:i,isInfoPanelOpen:o,setIsInfoPanelOpen:a}=QY();return d.jsxs("div",{className:"flex flex-col w-full max-w-4xl h-[44rem] border border-neutral-200 bg-white rounded-md",children:[d.jsxs("header",{className:"w-full h-[4rem] text-xl font-medium flex items-center justify-between px-4 border-b border-customBorderColor",children:["Admin Chat Interface",d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs(Xe,{size:"sm",variant:"outline",className:"space-x-1 rounded-md",onClick:e,children:[d.jsx(Du,{className:"size-4 text-zinc-500"}),d.jsx("p",{className:"text-sm text-zinc-500",children:"Clear Chat"})]}),d.jsx("button",{onClick:()=>a(l=>!l),children:d.jsx("div",{className:"text-zinc-500 p-1.5 rounded-md hover:bg-zinc-100",children:d.jsx(u8,{})})})]})]}),d.jsxs("div",{className:"flex-1 flex overflow-y-auto",children:[d.jsxs("section",{className:"flex-1 flex flex-col",children:[d.jsx(Ote,{messageHistory:t,endOfMessagesRef:r,handleMessageClick:i}),d.jsx(sX,{onSendMessage:n})]}),d.jsx(rX,{showPanel:o,responseData:s})]})]})},Lte=()=>d.jsxs("div",{className:"flex items-center flex-col w-[84rem] px-20 space-y-6 pb-8",children:[d.jsx(WY,{headerText:"Chatbot"}),d.jsx(jte,{})]}),Fte=()=>d.jsx("header",{className:"py-4 text-3xl font-semibold w-full",children:"Knowledge"});function Vte(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var $l=t=>{const{present:e,children:n}=t,r=Ute(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ke(r.ref,Bte(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};$l.displayName="Presence";function Ute(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Vte(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=em(r.current);i.current=a==="mounted"?c:"none"},[a]),Pt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=em(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Pt(()=>{if(e){const c=h=>{const g=em(r.current).includes(h.animationName);h.target===e&&g&&Ar.flushSync(()=>l("ANIMATION_END"))},u=h=>{h.target===e&&(i.current=em(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function em(t){return(t==null?void 0:t.animationName)||"none"}function Bte(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var wS="Tabs",[$te,oge]=Vl(wS,[Jv]),S2=Jv(),[zte,xS]=$te(wS),T2=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=Mf(a),[h,p]=ua({prop:r,onChange:s,defaultProp:i});return d.jsx(zte,{scope:n,baseId:Us(),value:h,onValueChange:p,orientation:o,dir:u,activationMode:l,children:d.jsx(ve.div,{dir:u,"data-orientation":o,...c,ref:e})})});T2.displayName=wS;var C2="TabsList",A2=m.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=xS(C2,n),o=S2(n);return d.jsx(MO,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:d.jsx(ve.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});A2.displayName=C2;var R2="TabsTrigger",I2=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=xS(R2,n),a=S2(n),l=N2(o.baseId,r),c=D2(o.baseId,r),u=r===o.value;return d.jsx(OO,{asChild:!0,...a,focusable:!s,active:u,children:d.jsx(ve.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:Z(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:Z(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:Z(t.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!s&&h&&o.onValueChange(r)})})})});I2.displayName=R2;var P2="TabsContent",py=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=xS(P2,n),l=N2(a.baseId,r),c=D2(a.baseId,r),u=r===a.value,h=m.useRef(u);return m.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),d.jsx($l,{present:s||u,children:({present:p})=>d.jsx(ve.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:p&&i})})});py.displayName=P2;function N2(t,e){return`${t}-trigger-${e}`}function D2(t,e){return`${t}-content-${e}`}var Kte=T2,k2=A2,M2=I2,O2=py;const j2=Kte,_S=m.forwardRef(({className:t,...e},n)=>d.jsx(k2,{ref:n,className:ue("inline-flex min-h-10 items-center justify-center rounded-tl-md rounded-tr-md bg-muted text-muted-foreground",t),...e}));_S.displayName=k2.displayName;const $g=m.forwardRef(({className:t,...e},n)=>d.jsx(M2,{ref:n,className:ue("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-2 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));$g.displayName=M2.displayName;const L2=m.forwardRef(({className:t,...e},n)=>d.jsx(O2,{ref:n,className:ue("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));L2.displayName=O2.displayName;const Wte=[{tabValue:"knowledgeBase",tabName:"Knowledge Base"},{tabValue:"knowledgeEntry",tabName:"Knowledge Entry"},{tabValue:"entryDetails",tabName:"Entry Details"}],Hte={knowledgeBase:JM,knowledgeEntry:Gq,entryDetails:eO},qte=({tabs:t})=>d.jsx(_S,{className:"grid w-full grid-cols-3 bg-heading px-4 py-3",children:t.map(({tabName:e,tabValue:n})=>{const r=Hte[n];return d.jsxs($g,{value:n,className:"data-[state=active]:bg-primary data-[state=active]:text-white",children:[d.jsx(r,{className:"size-5 mr-2"}),d.jsx("p",{className:"hidden md:block",children:e})]},e)})});var Gte="DismissableLayer",c_="dismissableLayer.update",Qte="dismissableLayer.pointerDownOutside",Yte="dismissableLayer.focusOutside",g1,F2=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),V2=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(F2),[u,h]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,T=>h(T)),v=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(x),y=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,A=y>=_,P=Zte(T=>{const E=T.target,I=[...c.branches].some(R=>R.contains(E));!A||I||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},p),O=ene(T=>{const E=T.target;[...c.branches].some(R=>R.contains(E))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},p);return Of(T=>{y===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(g1=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),v1(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=g1)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),v1())},[u,c]),m.useEffect(()=>{const T=()=>g({});return document.addEventListener(c_,T),()=>document.removeEventListener(c_,T)},[]),d.jsx(ve.div,{...l,ref:w,style:{pointerEvents:b?A?"auto":"none":void 0,...t.style},onFocusCapture:Z(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Z(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Z(t.onPointerDownCapture,P.onPointerDownCapture)})});V2.displayName=Gte;var Xte="DismissableLayerBranch",Jte=m.forwardRef((t,e)=>{const n=m.useContext(F2),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(ve.div,{...t,ref:s})});Jte.displayName=Xte;function Zte(t,e=globalThis==null?void 0:globalThis.document){const n=pt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){U2(Qte,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function ene(t,e=globalThis==null?void 0:globalThis.document){const n=pt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&U2(Yte,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function v1(){const t=new CustomEvent(c_);document.dispatchEvent(t)}function U2(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Fl(s,i):s.dispatchEvent(i)}var tne="VisuallyHidden",Yf=m.forwardRef((t,e)=>d.jsx(ve.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Yf.displayName=tne;var nne=Yf,[my,age]=Vl("Tooltip",[Ou]),gy=Ou(),B2="TooltipProvider",rne=700,u_="tooltip.open",[sne,ES]=my(B2),$2=t=>{const{__scopeTooltip:e,delayDuration:n=rne,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=m.useState(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),d.jsx(sne,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};$2.displayName=B2;var vy="Tooltip",[ine,yy]=my(vy),z2=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=ES(vy,t.__scopeTooltip),c=gy(e),[u,h]=m.useState(null),p=Us(),g=m.useRef(0),w=o??l.disableHoverableContent,v=a??l.delayDuration,x=m.useRef(!1),[_=!1,y]=ua({prop:r,defaultProp:s,onChange:T=>{T?(l.onOpen(),document.dispatchEvent(new CustomEvent(u_))):l.onClose(),i==null||i(T)}}),b=m.useMemo(()=>_?x.current?"delayed-open":"instant-open":"closed",[_]),A=m.useCallback(()=>{window.clearTimeout(g.current),x.current=!1,y(!0)},[y]),P=m.useCallback(()=>{window.clearTimeout(g.current),y(!1)},[y]),O=m.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{x.current=!0,y(!0)},v)},[v,y]);return m.useEffect(()=>()=>window.clearTimeout(g.current),[]),d.jsx(Cb,{...c,children:d.jsx(ine,{scope:e,contentId:p,open:_,stateAttribute:b,trigger:u,onTriggerChange:h,onTriggerEnter:m.useCallback(()=>{l.isOpenDelayed?O():A()},[l.isOpenDelayed,O,A]),onTriggerLeave:m.useCallback(()=>{w?P():window.clearTimeout(g.current)},[P,w]),onOpen:A,onClose:P,disableHoverableContent:w,children:n})})};z2.displayName=vy;var d_="TooltipTrigger",K2=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=yy(d_,n),i=ES(d_,n),o=gy(n),a=m.useRef(null),l=ke(e,a,s.onTriggerChange),c=m.useRef(!1),u=m.useRef(!1),h=m.useCallback(()=>c.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),d.jsx(Ab,{asChild:!0,...o,children:d.jsx(ve.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Z(t.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:Z(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:Z(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Z(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:Z(t.onBlur,s.onClose),onClick:Z(t.onClick,s.onClose)})})});K2.displayName=d_;var one="TooltipPortal",[lge,ane]=my(one,{forceMount:void 0}),fu="TooltipContent",W2=m.forwardRef((t,e)=>{const n=ane(fu,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=yy(fu,t.__scopeTooltip);return d.jsx($l,{present:r||o.open,children:o.disableHoverableContent?d.jsx(H2,{side:s,...i,ref:e}):d.jsx(lne,{side:s,...i,ref:e})})}),lne=m.forwardRef((t,e)=>{const n=yy(fu,t.__scopeTooltip),r=ES(fu,t.__scopeTooltip),s=m.useRef(null),i=ke(e,s),[o,a]=m.useState(null),{trigger:l,onClose:c}=n,u=s.current,{onPointerInTransitChange:h}=r,p=m.useCallback(()=>{a(null),h(!1)},[h]),g=m.useCallback((w,v)=>{const x=w.currentTarget,_={x:w.clientX,y:w.clientY},y=hne(_,x.getBoundingClientRect()),b=fne(_,y),A=pne(v.getBoundingClientRect()),P=gne([...b,...A]);a(P),h(!0)},[h]);return m.useEffect(()=>()=>p(),[p]),m.useEffect(()=>{if(l&&u){const w=x=>g(x,u),v=x=>g(x,l);return l.addEventListener("pointerleave",w),u.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",w),u.removeEventListener("pointerleave",v)}}},[l,u,g,p]),m.useEffect(()=>{if(o){const w=v=>{const x=v.target,_={x:v.clientX,y:v.clientY},y=(l==null?void 0:l.contains(x))||(u==null?void 0:u.contains(x)),b=!mne(_,o);y?p():b&&(p(),c())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,u,o,c,p]),d.jsx(H2,{...t,ref:i})}),[cne,une]=my(vy,{isInside:!1}),H2=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=yy(fu,n),c=gy(n),{onClose:u}=l;return m.useEffect(()=>(document.addEventListener(u_,u),()=>document.removeEventListener(u_,u)),[u]),m.useEffect(()=>{if(l.trigger){const h=p=>{const g=p.target;g!=null&&g.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),d.jsx(V2,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:d.jsxs(Rb,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(gb,{children:r}),d.jsx(cne,{scope:n,isInside:!0,children:d.jsx(nne,{id:l.contentId,role:"tooltip",children:s||r})})]})})});W2.displayName=fu;var q2="TooltipArrow",dne=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=gy(n);return une(q2,n).isInside?null:d.jsx(Ib,{...s,...r,ref:e})});dne.displayName=q2;function hne(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function fne(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function pne(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function mne(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function gne(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),vne(e)}function vne(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var yne=$2,wne=z2,xne=K2,G2=W2;const _ne=yne,Ene=wne,bne=xne,Q2=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(G2,{ref:r,sideOffset:e,className:ue("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Q2.displayName=G2.displayName;const wy=({tooltip:t,children:e})=>d.jsx(_ne,{children:d.jsxs(Ene,{children:[d.jsx(bne,{asChild:!0,children:e}),d.jsx(Q2,{className:"max-w-xs",children:d.jsx("p",{className:"text-zinc-800",children:t})})]})}),Sne={entry:"ENTRY",base:"BASE"},Tne="Must be a unique text that represents the action or goal of the entry.",Cne="Sample queries to help the bot understand intent.",Ane="The bot's reply to the user's query.",qo={passwordIncorrect:"Admin password is incorrect",passwordSameAsOld:"New password must be different from the old one"},Rne=8,Ine=5,Y2=5,X2=15,Qh=100,vt=ao((t,e)=>({formData:{knowledgeBaseName:"",intent:"",documents:[""],answer:"",fileUrl:"",file:null},formDataErrors:{},setFormData:(n,r)=>{t(s=>({formData:{...s.formData,[n]:r}}))},setFile:n=>{t(r=>({formData:{...r.formData,file:n}}))},setFormDataErrors:n=>{t({formDataErrors:n})},setDocuments:(n,r)=>{const s=e().formData.documents;s[r]=n,t(i=>({formData:{...i.formData,documents:s}}))},addDocument:()=>{e().formData.documents.length>=Rne||t(n=>({formData:{...n.formData,documents:[...n.formData.documents,""]}}))},removeDocument:n=>{const r=e().formData.documents;if(r.length===1)throw new Error("Documents cannot be empty");r.splice(n,1),t(s=>({formData:{...s.formData,documents:r}}))},clearFormData:()=>{t(()=>({formData:{knowledgeBaseName:"",intent:"",documents:[""],answer:"",fileUrl:"",file:null},formDataErrors:{knowledgeBaseName:"",intent:"",documents:"",answer:""}}))}})),Pne=()=>{const{intent:t}=vt(r=>r.formData),e=vt(r=>r.setFormData),n=ft(r=>r.admin);return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-fit",children:d.jsx(wy,{tooltip:Tne,children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("label",{htmlFor:"intent",className:"cursor-pointer font-medium ",children:"Intent"}),d.jsx(Kv,{className:"size-4 text-[#64748b] cursor-pointer"})]})})}),d.jsx(Lt,{id:"intent",placeholder:"Enter intent",value:t,className:"mt-1",readOnly:(n==null?void 0:n.role)==="viewer",onChange:r=>e("intent",r.target.value),maxLength:Qh})]})},ln=m.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ue("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ln.displayName="Card";const Mn=m.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ue("flex flex-col space-y-1.5 p-6",t),...e}));Mn.displayName="CardHeader";const On=m.forwardRef(({className:t,...e},n)=>d.jsx("h3",{ref:n,className:ue("text-2xl font-semibold leading-none tracking-tight",t),...e}));On.displayName="CardTitle";const vi=m.forwardRef(({className:t,...e},n)=>d.jsx("p",{ref:n,className:ue("text-sm text-muted-foreground",t),...e}));vi.displayName="CardDescription";const mn=m.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ue("p-6 pt-0",t),...e}));mn.displayName="CardContent";const J2=m.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ue("flex items-center p-6 pt-0",t),...e}));J2.displayName="CardFooter";const Nne=()=>{var o;const t=vt(a=>a.formData),e=vt(a=>a.setDocuments),n=vt(a=>a.addDocument),r=vt(a=>a.removeDocument),s=ft(a=>a.admin),i=async a=>{try{if(!t.intent)return;if(t.documents.length===1)return window.alert("Documents cannot be empty");r(a)}catch(l){console.error(l)}};return d.jsxs("div",{children:[d.jsx("div",{className:"w-fit",children:d.jsx(wy,{tooltip:Cne,children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("label",{className:"cursor-pointer font-medium ",children:"Document"}),d.jsx(Kv,{className:"size-4 text-[#64748b] cursor-pointer"})]})})}),d.jsx("div",{className:"space-y-2 mt-1",children:(o=t.documents)==null?void 0:o.map((a,l)=>d.jsx(ln,{className:"w-full hover:bg-lightGray transition-colors",children:d.jsxs(mn,{className:"p-4 w-full flex items-center justify-between-",children:[d.jsx("div",{className:"flex w-full items-center space-x-4",children:d.jsx(Lt,{value:a,id:"document",className:"text-sm bg-transparent outline-none w-full py-2 border-0",placeholder:"Enter document",readOnly:(s==null?void 0:s.role)==="viewer",onChange:c=>e(c.target.value,l),maxLength:Qh})}),d.jsx("div",{className:"flex space-x-2",children:(s==null?void 0:s.role)!=="viewer"&&d.jsxs(Xe,{variant:"ghost",size:"icon",className:"hover:bg-transparent",onClick:async()=>{await i(l)},children:[d.jsx(Du,{className:"size-5 font-bold hover:text-red-600 ease-in",strokeWidth:2}),d.jsx("span",{className:"sr-only",children:"Delete"})]})})]})},l))}),(s==null?void 0:s.role)!=="viewer"&&d.jsxs(Xe,{variant:"outline",size:"sm",className:"mt-2",onClick:n,disabled:!t.intent,children:[d.jsx(Nu,{className:"w-4 h-4 mr-2"})," Add Document"]})]})},Z2=m.forwardRef(({className:t,...e},n)=>d.jsx("textarea",{className:ue("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Z2.displayName="Textarea";const Dne=".png,.jpg,.mp4,.pdf",kne=({fileRef:t,changeFile:e})=>d.jsxs("div",{children:[d.jsx(Lt,{id:"file-upload",type:"file",className:"hidden",ref:t,accept:Dne,onChange:e}),d.jsx(Xe,{variant:"ghost",size:"icon",className:"size-8 rounded-full hover:bg-neutral-100 p-1.5",onClick:()=>{var n;return(n=t.current)==null?void 0:n.click()},children:d.jsx(tO,{className:"size-4"})})]});var Mne="Label",eF=m.forwardRef((t,e)=>d.jsx(ve.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));eF.displayName=Mne;var tF=eF;const One=$f("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Cn=m.forwardRef(({className:t,...e},n)=>d.jsx(tF,{ref:n,className:ue(One(),t),...e}));Cn.displayName=tF.displayName;const jne=({isLinkDropdownOpen:t,setIsLinkDropdownOpen:e,onInsertLink:n})=>{const[r,s]=m.useState(""),[i,o]=m.useState(""),a=()=>{e(!1),n(r,i),s(""),o("")};return d.jsxs(Uf,{open:t,onOpenChange:e,children:[d.jsx(Bf,{asChild:!0,children:d.jsx(Xe,{variant:"ghost",size:"icon",className:"size-8 rounded-full hover:bg-neutral-100 p-1.5",onClick:()=>e(!0),children:d.jsx(r8,{className:"size-4"})})}),d.jsx(Lu,{side:"top",className:"w-56",children:d.jsxs("form",{onSubmit:l=>{l.preventDefault(),a()},className:"flex flex-col p-4 space-y-4",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx(Cn,{htmlFor:"link-url",className:"mb-1",children:"URL"}),d.jsx(Lt,{id:"link-url",value:r,onChange:l=>s(l.target.value),className:"col-span-3",placeholder:"Enter link URL",required:!0})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx(Cn,{htmlFor:"link-text",className:"mb-1",children:"Text"}),d.jsx(Lt,{id:"link-text",value:i,onChange:l=>o(l.target.value),className:"col-span-3",placeholder:"Enter link Text",required:!0})]}),d.jsx(Xe,{type:"submit",children:"Insert Link"})]})})]})},nF=({answer:t,handleTextChange:e,onFileChange:n,fileRef:r,textAreaRef:s,isError:i,isLinkDropDownVisible:o,setIsLinkDropDownVisible:a,onInsertLink:l,tabIndex:c})=>{const u=ft(p=>p.admin),h=p=>{const g=p.target;g.style.height="auto",g.style.height=`${g.scrollHeight}px`,e("answer",g.value)};return m.useEffect(()=>{s.current&&(s.current.style.height="auto",s.current.style.height=`${s.current.scrollHeight}px`)},[s,t]),d.jsxs("div",{className:"relative mb-4 ",children:[d.jsx(Z2,{spellCheck:!1,name:"answer",ref:s,placeholder:"Enter the answer",className:ue("min-h-[100px] pb-12 overflow-hidden resize-none outline-none focus:outline-none",i&&"border-destructive"),readOnly:(u==null?void 0:u.role)==="viewer",value:t,onChange:h,tabIndex:c??0}),(u==null?void 0:u.role)!=="viewer"&&d.jsxs("div",{className:"absolute bottom-2 left-2 flex space-x-2",children:[d.jsx(jne,{isLinkDropdownOpen:o,setIsLinkDropdownOpen:a,onInsertLink:l}),d.jsx(kne,{fileRef:r,changeFile:n})]})]})},rF=({file:t,removeFile:e})=>{const n=ft(r=>r.admin);return d.jsx("div",{className:"mt-4 p-4 border rounded-md bg-muted",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-2 py-2 overflow-hidden",children:[d.jsx(tO,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("div",{className:"font-medium truncate max-w-[250px]",children:t.name}),d.jsxs("div",{className:"text-sm text-center text-muted-foreground w-20",children:["(",UY(t.size),")"]})]}),(n==null?void 0:n.role)!=="viewer"&&d.jsx(Xe,{variant:"ghost",size:"icon",onClick:e,className:"h-8 w-8 min-w-8",children:d.jsx(kf,{className:"h-4 w-4"})})]})})};function Se({className:t,...e}){return d.jsx("div",{className:ue("animate-pulse rounded-md bg-muted",t),...e})}var Lne="firebase",Fne="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dr(Lne,Fne,"app");var y1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ml,sF;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,E){function I(){}I.prototype=E.prototype,T.D=E.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(R,k,M){for(var N=Array(arguments.length-2),W=2;W<arguments.length;W++)N[W-2]=arguments[W];return E.prototype[k].apply(R,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,E,I){I||(I=0);var R=Array(16);if(typeof E=="string")for(var k=0;16>k;++k)R[k]=E.charCodeAt(I++)|E.charCodeAt(I++)<<8|E.charCodeAt(I++)<<16|E.charCodeAt(I++)<<24;else for(k=0;16>k;++k)R[k]=E[I++]|E[I++]<<8|E[I++]<<16|E[I++]<<24;E=T.g[0],I=T.g[1],k=T.g[2];var M=T.g[3],N=E+(M^I&(k^M))+R[0]+3614090360&4294967295;E=I+(N<<7&4294967295|N>>>25),N=M+(k^E&(I^k))+R[1]+3905402710&4294967295,M=E+(N<<12&4294967295|N>>>20),N=k+(I^M&(E^I))+R[2]+606105819&4294967295,k=M+(N<<17&4294967295|N>>>15),N=I+(E^k&(M^E))+R[3]+3250441966&4294967295,I=k+(N<<22&4294967295|N>>>10),N=E+(M^I&(k^M))+R[4]+4118548399&4294967295,E=I+(N<<7&4294967295|N>>>25),N=M+(k^E&(I^k))+R[5]+1200080426&4294967295,M=E+(N<<12&4294967295|N>>>20),N=k+(I^M&(E^I))+R[6]+2821735955&4294967295,k=M+(N<<17&4294967295|N>>>15),N=I+(E^k&(M^E))+R[7]+4249261313&4294967295,I=k+(N<<22&4294967295|N>>>10),N=E+(M^I&(k^M))+R[8]+1770035416&4294967295,E=I+(N<<7&4294967295|N>>>25),N=M+(k^E&(I^k))+R[9]+2336552879&4294967295,M=E+(N<<12&4294967295|N>>>20),N=k+(I^M&(E^I))+R[10]+4294925233&4294967295,k=M+(N<<17&4294967295|N>>>15),N=I+(E^k&(M^E))+R[11]+2304563134&4294967295,I=k+(N<<22&4294967295|N>>>10),N=E+(M^I&(k^M))+R[12]+1804603682&4294967295,E=I+(N<<7&4294967295|N>>>25),N=M+(k^E&(I^k))+R[13]+4254626195&4294967295,M=E+(N<<12&4294967295|N>>>20),N=k+(I^M&(E^I))+R[14]+2792965006&4294967295,k=M+(N<<17&4294967295|N>>>15),N=I+(E^k&(M^E))+R[15]+1236535329&4294967295,I=k+(N<<22&4294967295|N>>>10),N=E+(k^M&(I^k))+R[1]+4129170786&4294967295,E=I+(N<<5&4294967295|N>>>27),N=M+(I^k&(E^I))+R[6]+3225465664&4294967295,M=E+(N<<9&4294967295|N>>>23),N=k+(E^I&(M^E))+R[11]+643717713&4294967295,k=M+(N<<14&4294967295|N>>>18),N=I+(M^E&(k^M))+R[0]+3921069994&4294967295,I=k+(N<<20&4294967295|N>>>12),N=E+(k^M&(I^k))+R[5]+3593408605&4294967295,E=I+(N<<5&4294967295|N>>>27),N=M+(I^k&(E^I))+R[10]+38016083&4294967295,M=E+(N<<9&4294967295|N>>>23),N=k+(E^I&(M^E))+R[15]+3634488961&4294967295,k=M+(N<<14&4294967295|N>>>18),N=I+(M^E&(k^M))+R[4]+3889429448&4294967295,I=k+(N<<20&4294967295|N>>>12),N=E+(k^M&(I^k))+R[9]+568446438&4294967295,E=I+(N<<5&4294967295|N>>>27),N=M+(I^k&(E^I))+R[14]+3275163606&4294967295,M=E+(N<<9&4294967295|N>>>23),N=k+(E^I&(M^E))+R[3]+4107603335&4294967295,k=M+(N<<14&4294967295|N>>>18),N=I+(M^E&(k^M))+R[8]+1163531501&4294967295,I=k+(N<<20&4294967295|N>>>12),N=E+(k^M&(I^k))+R[13]+2850285829&4294967295,E=I+(N<<5&4294967295|N>>>27),N=M+(I^k&(E^I))+R[2]+4243563512&4294967295,M=E+(N<<9&4294967295|N>>>23),N=k+(E^I&(M^E))+R[7]+1735328473&4294967295,k=M+(N<<14&4294967295|N>>>18),N=I+(M^E&(k^M))+R[12]+2368359562&4294967295,I=k+(N<<20&4294967295|N>>>12),N=E+(I^k^M)+R[5]+4294588738&4294967295,E=I+(N<<4&4294967295|N>>>28),N=M+(E^I^k)+R[8]+2272392833&4294967295,M=E+(N<<11&4294967295|N>>>21),N=k+(M^E^I)+R[11]+1839030562&4294967295,k=M+(N<<16&4294967295|N>>>16),N=I+(k^M^E)+R[14]+4259657740&4294967295,I=k+(N<<23&4294967295|N>>>9),N=E+(I^k^M)+R[1]+2763975236&4294967295,E=I+(N<<4&4294967295|N>>>28),N=M+(E^I^k)+R[4]+1272893353&4294967295,M=E+(N<<11&4294967295|N>>>21),N=k+(M^E^I)+R[7]+4139469664&4294967295,k=M+(N<<16&4294967295|N>>>16),N=I+(k^M^E)+R[10]+3200236656&4294967295,I=k+(N<<23&4294967295|N>>>9),N=E+(I^k^M)+R[13]+681279174&4294967295,E=I+(N<<4&4294967295|N>>>28),N=M+(E^I^k)+R[0]+3936430074&4294967295,M=E+(N<<11&4294967295|N>>>21),N=k+(M^E^I)+R[3]+3572445317&4294967295,k=M+(N<<16&4294967295|N>>>16),N=I+(k^M^E)+R[6]+76029189&4294967295,I=k+(N<<23&4294967295|N>>>9),N=E+(I^k^M)+R[9]+3654602809&4294967295,E=I+(N<<4&4294967295|N>>>28),N=M+(E^I^k)+R[12]+3873151461&4294967295,M=E+(N<<11&4294967295|N>>>21),N=k+(M^E^I)+R[15]+530742520&4294967295,k=M+(N<<16&4294967295|N>>>16),N=I+(k^M^E)+R[2]+3299628645&4294967295,I=k+(N<<23&4294967295|N>>>9),N=E+(k^(I|~M))+R[0]+4096336452&4294967295,E=I+(N<<6&4294967295|N>>>26),N=M+(I^(E|~k))+R[7]+1126891415&4294967295,M=E+(N<<10&4294967295|N>>>22),N=k+(E^(M|~I))+R[14]+2878612391&4294967295,k=M+(N<<15&4294967295|N>>>17),N=I+(M^(k|~E))+R[5]+4237533241&4294967295,I=k+(N<<21&4294967295|N>>>11),N=E+(k^(I|~M))+R[12]+1700485571&4294967295,E=I+(N<<6&4294967295|N>>>26),N=M+(I^(E|~k))+R[3]+2399980690&4294967295,M=E+(N<<10&4294967295|N>>>22),N=k+(E^(M|~I))+R[10]+4293915773&4294967295,k=M+(N<<15&4294967295|N>>>17),N=I+(M^(k|~E))+R[1]+2240044497&4294967295,I=k+(N<<21&4294967295|N>>>11),N=E+(k^(I|~M))+R[8]+1873313359&4294967295,E=I+(N<<6&4294967295|N>>>26),N=M+(I^(E|~k))+R[15]+4264355552&4294967295,M=E+(N<<10&4294967295|N>>>22),N=k+(E^(M|~I))+R[6]+2734768916&4294967295,k=M+(N<<15&4294967295|N>>>17),N=I+(M^(k|~E))+R[13]+1309151649&4294967295,I=k+(N<<21&4294967295|N>>>11),N=E+(k^(I|~M))+R[4]+4149444226&4294967295,E=I+(N<<6&4294967295|N>>>26),N=M+(I^(E|~k))+R[11]+3174756917&4294967295,M=E+(N<<10&4294967295|N>>>22),N=k+(E^(M|~I))+R[2]+718787259&4294967295,k=M+(N<<15&4294967295|N>>>17),N=I+(M^(k|~E))+R[9]+3951481745&4294967295,T.g[0]=T.g[0]+E&4294967295,T.g[1]=T.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,T.g[2]=T.g[2]+k&4294967295,T.g[3]=T.g[3]+M&4294967295}r.prototype.u=function(T,E){E===void 0&&(E=T.length);for(var I=E-this.blockSize,R=this.B,k=this.h,M=0;M<E;){if(k==0)for(;M<=I;)s(this,T,M),M+=this.blockSize;if(typeof T=="string"){for(;M<E;)if(R[k++]=T.charCodeAt(M++),k==this.blockSize){s(this,R),k=0;break}}else for(;M<E;)if(R[k++]=T[M++],k==this.blockSize){s(this,R),k=0;break}}this.h=k,this.o+=E},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var E=1;E<T.length-8;++E)T[E]=0;var I=8*this.o;for(E=T.length-8;E<T.length;++E)T[E]=I&255,I/=256;for(this.u(T),T=Array(16),E=I=0;4>E;++E)for(var R=0;32>R;R+=8)T[I++]=this.g[E]>>>R&255;return T};function i(T,E){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=E(T)}function o(T,E){this.h=E;for(var I=[],R=!0,k=T.length-1;0<=k;k--){var M=T[k]|0;R&&M==E||(I[k]=M,R=!1)}this.g=I}var a={};function l(T){return-128<=T&&128>T?i(T,function(E){return new o([E|0],0>E?-1:0)}):new o([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return h;if(0>T)return x(c(-T));for(var E=[],I=1,R=0;T>=I;R++)E[R]=T/I|0,I*=4294967296;return new o(E,0)}function u(T,E){if(T.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(T.charAt(0)=="-")return x(u(T.substring(1),E));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(E,8)),R=h,k=0;k<T.length;k+=8){var M=Math.min(8,T.length-k),N=parseInt(T.substring(k,k+M),E);8>M?(M=c(Math.pow(E,M)),R=R.j(M).add(c(N))):(R=R.j(I),R=R.add(c(N)))}return R}var h=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-x(this).m();for(var T=0,E=1,I=0;I<this.g.length;I++){var R=this.i(I);T+=(0<=R?R:4294967296+R)*E,E*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(w(this))return"0";if(v(this))return"-"+x(this).toString(T);for(var E=c(Math.pow(T,6)),I=this,R="";;){var k=A(I,E).g;I=_(I,k.j(E));var M=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=k,w(I))return M+R;for(;6>M.length;)M="0"+M;R=M+R}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function w(T){if(T.h!=0)return!1;for(var E=0;E<T.g.length;E++)if(T.g[E]!=0)return!1;return!0}function v(T){return T.h==-1}t.l=function(T){return T=_(this,T),v(T)?-1:w(T)?0:1};function x(T){for(var E=T.g.length,I=[],R=0;R<E;R++)I[R]=~T.g[R];return new o(I,~T.h).add(p)}t.abs=function(){return v(this)?x(this):this},t.add=function(T){for(var E=Math.max(this.g.length,T.g.length),I=[],R=0,k=0;k<=E;k++){var M=R+(this.i(k)&65535)+(T.i(k)&65535),N=(M>>>16)+(this.i(k)>>>16)+(T.i(k)>>>16);R=N>>>16,M&=65535,N&=65535,I[k]=N<<16|M}return new o(I,I[I.length-1]&-2147483648?-1:0)};function _(T,E){return T.add(x(E))}t.j=function(T){if(w(this)||w(T))return h;if(v(this))return v(T)?x(this).j(x(T)):x(x(this).j(T));if(v(T))return x(this.j(x(T)));if(0>this.l(g)&&0>T.l(g))return c(this.m()*T.m());for(var E=this.g.length+T.g.length,I=[],R=0;R<2*E;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var k=0;k<T.g.length;k++){var M=this.i(R)>>>16,N=this.i(R)&65535,W=T.i(k)>>>16,se=T.i(k)&65535;I[2*R+2*k]+=N*se,y(I,2*R+2*k),I[2*R+2*k+1]+=M*se,y(I,2*R+2*k+1),I[2*R+2*k+1]+=N*W,y(I,2*R+2*k+1),I[2*R+2*k+2]+=M*W,y(I,2*R+2*k+2)}for(R=0;R<E;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=E;R<2*E;R++)I[R]=0;return new o(I,0)};function y(T,E){for(;(T[E]&65535)!=T[E];)T[E+1]+=T[E]>>>16,T[E]&=65535,E++}function b(T,E){this.g=T,this.h=E}function A(T,E){if(w(E))throw Error("division by zero");if(w(T))return new b(h,h);if(v(T))return E=A(x(T),E),new b(x(E.g),x(E.h));if(v(E))return E=A(T,x(E)),new b(x(E.g),E.h);if(30<T.g.length){if(v(T)||v(E))throw Error("slowDivide_ only works with positive integers.");for(var I=p,R=E;0>=R.l(T);)I=P(I),R=P(R);var k=O(I,1),M=O(R,1);for(R=O(R,2),I=O(I,2);!w(R);){var N=M.add(R);0>=N.l(T)&&(k=k.add(I),M=N),R=O(R,1),I=O(I,1)}return E=_(T,k.j(E)),new b(k,E)}for(k=h;0<=T.l(E);){for(I=Math.max(1,Math.floor(T.m()/E.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),M=c(I),N=M.j(E);v(N)||0<N.l(T);)I-=R,M=c(I),N=M.j(E);w(M)&&(M=p),k=k.add(M),T=_(T,N)}return new b(k,T)}t.A=function(T){return A(this,T).h},t.and=function(T){for(var E=Math.max(this.g.length,T.g.length),I=[],R=0;R<E;R++)I[R]=this.i(R)&T.i(R);return new o(I,this.h&T.h)},t.or=function(T){for(var E=Math.max(this.g.length,T.g.length),I=[],R=0;R<E;R++)I[R]=this.i(R)|T.i(R);return new o(I,this.h|T.h)},t.xor=function(T){for(var E=Math.max(this.g.length,T.g.length),I=[],R=0;R<E;R++)I[R]=this.i(R)^T.i(R);return new o(I,this.h^T.h)};function P(T){for(var E=T.g.length+1,I=[],R=0;R<E;R++)I[R]=T.i(R)<<1|T.i(R-1)>>>31;return new o(I,T.h)}function O(T,E){var I=E>>5;E%=32;for(var R=T.g.length-I,k=[],M=0;M<R;M++)k[M]=0<E?T.i(M+I)>>>E|T.i(M+I+1)<<32-E:T.i(M+I);return new o(k,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sF=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,ml=o}).apply(typeof y1<"u"?y1:typeof self<"u"?self:typeof window<"u"?window:{});var tm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iF,oF,Md,aF,Lm,h_,lF,cF,uF;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,S,C){return f==Array.prototype||f==Object.prototype||(f[S]=C.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof tm=="object"&&tm];for(var S=0;S<f.length;++S){var C=f[S];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function s(f,S){if(S)e:{var C=r;f=f.split(".");for(var D=0;D<f.length-1;D++){var U=f[D];if(!(U in C))break e;C=C[U]}f=f[f.length-1],D=C[f],S=S(D),S!=D&&S!=null&&e(C,f,{configurable:!0,writable:!0,value:S})}}function i(f,S){f instanceof String&&(f+="");var C=0,D=!1,U={next:function(){if(!D&&C<f.length){var q=C++;return{value:S(q,f[q]),done:!1}}return D=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}s("Array.prototype.values",function(f){return f||function(){return i(this,function(S,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(f){var S=typeof f;return S=S!="object"?S:f?Array.isArray(f)?"array":S:"null",S=="array"||S=="object"&&typeof f.length=="number"}function c(f){var S=typeof f;return S=="object"&&f!=null||S=="function"}function u(f,S,C){return f.call.apply(f.bind,arguments)}function h(f,S,C){if(!f)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,D),f.apply(S,U)}}return function(){return f.apply(S,arguments)}}function p(f,S,C){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,p.apply(null,arguments)}function g(f,S){var C=Array.prototype.slice.call(arguments,1);return function(){var D=C.slice();return D.push.apply(D,arguments),f.apply(this,D)}}function w(f,S){function C(){}C.prototype=S.prototype,f.aa=S.prototype,f.prototype=new C,f.prototype.constructor=f,f.Qb=function(D,U,q){for(var ae=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)ae[Tt-2]=arguments[Tt];return S.prototype[U].apply(D,ae)}}function v(f){const S=f.length;if(0<S){const C=Array(S);for(let D=0;D<S;D++)C[D]=f[D];return C}return[]}function x(f,S){for(let C=1;C<arguments.length;C++){const D=arguments[C];if(l(D)){const U=f.length||0,q=D.length||0;f.length=U+q;for(let ae=0;ae<q;ae++)f[U+ae]=D[ae]}else f.push(D)}}class _{constructor(S,C){this.i=S,this.j=C,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function y(f){return/^[\s\xa0]*$/.test(f)}function b(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function A(f){return A[" "](f),f}A[" "]=function(){};var P=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function O(f,S,C){for(const D in f)S.call(C,f[D],D,f)}function T(f,S){for(const C in f)S.call(void 0,f[C],C,f)}function E(f){const S={};for(const C in f)S[C]=f[C];return S}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(f,S){let C,D;for(let U=1;U<arguments.length;U++){D=arguments[U];for(C in D)f[C]=D[C];for(let q=0;q<I.length;q++)C=I[q],Object.prototype.hasOwnProperty.call(D,C)&&(f[C]=D[C])}}function k(f){var S=1;f=f.split(":");const C=[];for(;0<S&&f.length;)C.push(f.shift()),S--;return f.length&&C.push(f.join(":")),C}function M(f){a.setTimeout(()=>{throw f},0)}function N(){var f=B;let S=null;return f.g&&(S=f.g,f.g=f.g.next,f.g||(f.h=null),S.next=null),S}class W{constructor(){this.h=this.g=null}add(S,C){const D=se.get();D.set(S,C),this.h?this.h.next=D:this.g=D,this.h=D}}var se=new _(()=>new ne,f=>f.reset());class ne{constructor(){this.next=this.g=this.h=null}set(S,C){this.h=S,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,z=!1,B=new W,J=()=>{const f=a.Promise.resolve(void 0);Y=()=>{f.then(fe)}};var fe=()=>{for(var f;f=N();){try{f.h.call(f.g)}catch(C){M(C)}var S=se;S.j(f),100>S.h&&(S.h++,f.next=S.g,S.g=f)}z=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(f,S){this.type=f,this.g=this.target=S,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var We=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,S=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const C=()=>{};a.addEventListener("test",C,S),a.removeEventListener("test",C,S)}catch{}return f}();function at(f,S){if(Te.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var C=this.type=f.type,D=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=S,S=f.relatedTarget){if(P){e:{try{A(S.nodeName);var U=!0;break e}catch{}U=!1}U||(S=null)}}else C=="mouseover"?S=f.fromElement:C=="mouseout"&&(S=f.toElement);this.relatedTarget=S,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ne[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&at.aa.h.call(this)}}w(at,Te);var Ne={2:"touch",3:"pen",4:"mouse"};at.prototype.h=function(){at.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),Pe=0;function He(f,S,C,D,U){this.listener=f,this.proxy=null,this.src=S,this.type=C,this.capture=!!D,this.ha=U,this.key=++Pe,this.da=this.fa=!1}function pe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function $e(f){this.src=f,this.g={},this.h=0}$e.prototype.add=function(f,S,C,D,U){var q=f.toString();f=this.g[q],f||(f=this.g[q]=[],this.h++);var ae=yt(f,S,D,U);return-1<ae?(S=f[ae],C||(S.fa=!1)):(S=new He(S,this.src,q,!!D,U),S.fa=C,f.push(S)),S};function Oe(f,S){var C=S.type;if(C in f.g){var D=f.g[C],U=Array.prototype.indexOf.call(D,S,void 0),q;(q=0<=U)&&Array.prototype.splice.call(D,U,1),q&&(pe(S),f.g[C].length==0&&(delete f.g[C],f.h--))}}function yt(f,S,C,D){for(var U=0;U<f.length;++U){var q=f[U];if(!q.da&&q.listener==S&&q.capture==!!C&&q.ha==D)return U}return-1}var qe="closure_lm_"+(1e6*Math.random()|0),Ft={};function gn(f,S,C,D,U){if(Array.isArray(S)){for(var q=0;q<S.length;q++)gn(f,S[q],C,D,U);return null}return C=Ue(C),f&&f[ce]?f.K(S,C,c(D)?!!D.capture:!!D,U):jr(f,S,C,!1,D,U)}function jr(f,S,C,D,U,q){if(!S)throw Error("Invalid event type");var ae=c(U)?!!U.capture:!!U,Tt=ee(f);if(Tt||(f[qe]=Tt=new $e(f)),C=Tt.add(S,C,D,ae,q),C.proxy)return C;if(D=j(),C.proxy=D,D.src=f,D.listener=C,f.addEventListener)We||(U=ae),U===void 0&&(U=!1),f.addEventListener(S.toString(),D,U);else if(f.attachEvent)f.attachEvent(ie(S.toString()),D);else if(f.addListener&&f.removeListener)f.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return C}function j(){function f(C){return S.call(f.src,f.listener,C)}const S=re;return f}function $(f,S,C,D,U){if(Array.isArray(S))for(var q=0;q<S.length;q++)$(f,S[q],C,D,U);else D=c(D)?!!D.capture:!!D,C=Ue(C),f&&f[ce]?(f=f.i,S=String(S).toString(),S in f.g&&(q=f.g[S],C=yt(q,C,D,U),-1<C&&(pe(q[C]),Array.prototype.splice.call(q,C,1),q.length==0&&(delete f.g[S],f.h--)))):f&&(f=ee(f))&&(S=f.g[S.toString()],f=-1,S&&(f=yt(S,C,D,U)),(C=-1<f?S[f]:null)&&H(C))}function H(f){if(typeof f!="number"&&f&&!f.da){var S=f.src;if(S&&S[ce])Oe(S.i,f);else{var C=f.type,D=f.proxy;S.removeEventListener?S.removeEventListener(C,D,f.capture):S.detachEvent?S.detachEvent(ie(C),D):S.addListener&&S.removeListener&&S.removeListener(D),(C=ee(S))?(Oe(C,f),C.h==0&&(C.src=null,S[qe]=null)):pe(f)}}}function ie(f){return f in Ft?Ft[f]:Ft[f]="on"+f}function re(f,S){if(f.da)f=!0;else{S=new at(S,this);var C=f.listener,D=f.ha||f.src;f.fa&&H(f),f=C.call(D,S)}return f}function ee(f){return f=f[qe],f instanceof $e?f:null}var _e="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ue(f){return typeof f=="function"?f:(f[_e]||(f[_e]=function(S){return f.handleEvent(S)}),f[_e])}function Be(){he.call(this),this.i=new $e(this),this.M=this,this.F=null}w(Be,he),Be.prototype[ce]=!0,Be.prototype.removeEventListener=function(f,S,C,D){$(this,f,S,C,D)};function je(f,S){var C,D=f.F;if(D)for(C=[];D;D=D.F)C.push(D);if(f=f.M,D=S.type||S,typeof S=="string")S=new Te(S,f);else if(S instanceof Te)S.target=S.target||f;else{var U=S;S=new Te(D,f),R(S,U)}if(U=!0,C)for(var q=C.length-1;0<=q;q--){var ae=S.g=C[q];U=Yt(ae,D,!0,S)&&U}if(ae=S.g=f,U=Yt(ae,D,!0,S)&&U,U=Yt(ae,D,!1,S)&&U,C)for(q=0;q<C.length;q++)ae=S.g=C[q],U=Yt(ae,D,!1,S)&&U}Be.prototype.N=function(){if(Be.aa.N.call(this),this.i){var f=this.i,S;for(S in f.g){for(var C=f.g[S],D=0;D<C.length;D++)pe(C[D]);delete f.g[S],f.h--}}this.F=null},Be.prototype.K=function(f,S,C,D){return this.i.add(String(f),S,!1,C,D)},Be.prototype.L=function(f,S,C,D){return this.i.add(String(f),S,!0,C,D)};function Yt(f,S,C,D){if(S=f.i.g[String(S)],!S)return!0;S=S.concat();for(var U=!0,q=0;q<S.length;++q){var ae=S[q];if(ae&&!ae.da&&ae.capture==C){var Tt=ae.listener,jn=ae.ha||ae.src;ae.fa&&Oe(f.i,ae),U=Tt.call(jn,D)!==!1&&U}}return U&&!D.defaultPrevented}function wr(f,S,C){if(typeof f=="function")C&&(f=p(f,C));else if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:a.setTimeout(f,S||0)}function Rn(f){f.g=wr(()=>{f.g=null,f.i&&(f.i=!1,Rn(f))},f.l);const S=f.h;f.h=null,f.m.apply(null,S)}class Vt extends he{constructor(S,C){super(),this.m=S,this.l=C,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Rn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lr(f){he.call(this),this.h=f,this.g={}}w(Lr,he);var ns=[];function co(f){O(f.g,function(S,C){this.g.hasOwnProperty(C)&&H(S)},f),f.g={}}Lr.prototype.N=function(){Lr.aa.N.call(this),co(this)},Lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vn=a.JSON.stringify,Oa=a.JSON.parse,Hl=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function xi(){}xi.prototype.h=null;function ql(f){return f.h||(f.h=f.i())}function ja(){}var rs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $t(){Te.call(this,"d")}w($t,Te);function rn(){Te.call(this,"c")}w(rn,Te);var At={},lr=null;function yn(){return lr=lr||new Be}At.La="serverreachability";function wn(f){Te.call(this,At.La,f)}w(wn,Te);function In(f){const S=yn();je(S,new wn(S))}At.STAT_EVENT="statevent";function ss(f,S){Te.call(this,At.STAT_EVENT,f),this.stat=S}w(ss,Te);function ut(f){const S=yn();je(S,new ss(S,f))}At.Ma="timingevent";function Fr(f,S){Te.call(this,At.Ma,f),this.size=S}w(Fr,Te);function xr(f,S){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},S)}function is(){this.g=!0}is.prototype.xa=function(){this.g=!1};function uo(f,S,C,D,U,q){f.info(function(){if(f.g)if(q)for(var ae="",Tt=q.split("&"),jn=0;jn<Tt.length;jn++){var dt=Tt[jn].split("=");if(1<dt.length){var Gn=dt[0];dt=dt[1];var Qn=Gn.split("_");ae=2<=Qn.length&&Qn[1]=="type"?ae+(Gn+"="+dt+"&"):ae+(Gn+"=redacted&")}}else ae=null;else ae=q;return"XMLHTTP REQ ("+D+") [attempt "+U+"]: "+S+`
`+C+`
`+ae})}function L(f,S,C,D,U,q,ae){f.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+U+"]: "+S+`
`+C+`
`+q+" "+ae})}function V(f,S,C,D){f.info(function(){return"XMLHTTP TEXT ("+S+"): "+G(f,C)+(D?" "+D:"")})}function K(f,S){f.info(function(){return"TIMEOUT: "+S})}is.prototype.info=function(){};function G(f,S){if(!f.g)return S;if(!S)return null;try{var C=JSON.parse(S);if(C){for(f=0;f<C.length;f++)if(Array.isArray(C[f])){var D=C[f];if(!(2>D.length)){var U=D[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var ae=1;ae<U.length;ae++)U[ae]=""}}}}return vn(C)}catch{return S}}var de={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ce={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Me;function oe(){}w(oe,xi),oe.prototype.g=function(){return new XMLHttpRequest},oe.prototype.i=function(){return{}},Me=new oe;function Ee(f,S,C,D){this.j=f,this.i=S,this.l=C,this.R=D||1,this.U=new Lr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ye}function ye(){this.i=null,this.g="",this.h=!1}var xe={},rt={};function lt(f,S,C){f.L=1,f.v=gp(_i(S)),f.m=C,f.P=!0,_t(f,null)}function _t(f,S){f.F=Date.now(),Nt(f),f.A=_i(f.v);var C=f.A,D=f.R;Array.isArray(D)||(D=[String(D)]),ZT(C.i,"t",D),f.C=0,C=f.j.J,f.h=new ye,f.g=vC(f.j,C?S:null,!f.m),0<f.O&&(f.M=new Vt(p(f.Y,f,f.g),f.O)),S=f.U,C=f.g,D=f.ca;var U="readystatechange";Array.isArray(U)||(U&&(ns[0]=U.toString()),U=ns);for(var q=0;q<U.length;q++){var ae=gn(C,U[q],D||S.handleEvent,!1,S.h||S);if(!ae)break;S.g[ae.key]=ae}S=f.H?E(f.H):{},f.m?(f.u||(f.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,S)):(f.u="GET",f.g.ea(f.A,f.u,null,S)),In(),uo(f.i,f.u,f.A,f.l,f.R,f.m)}Ee.prototype.ca=function(f){f=f.target;const S=this.M;S&&Ei(f)==3?S.j():this.Y(f)},Ee.prototype.Y=function(f){try{if(f==this.g)e:{const Qn=Ei(this.g);var S=this.g.Ba();const Yl=this.g.Z();if(!(3>Qn)&&(Qn!=3||this.g&&(this.h.h||this.g.oa()||oC(this.g)))){this.J||Qn!=4||S==7||(S==8||0>=Yl?In(3):In(2)),Vr(this);var C=this.g.Z();this.X=C;t:if(et(this)){var D=oC(this.g);f="";var U=D.length,q=Ei(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hn(this),os(this);var ae="";break t}this.h.i=new a.TextDecoder}for(S=0;S<U;S++)this.h.h=!0,f+=this.h.i.decode(D[S],{stream:!(q&&S==U-1)});D.length=0,this.h.g+=f,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=C==200,L(this.i,this.u,this.A,this.l,this.R,Qn,C),this.o){if(this.T&&!this.K){t:{if(this.g){var Tt,jn=this.g;if((Tt=jn.g?jn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Tt)){var dt=Tt;break t}}dt=null}if(C=dt)V(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fo(this,C);else{this.o=!1,this.s=3,ut(12),Hn(this),os(this);break e}}if(this.P){C=!0;let Cs;for(;!this.J&&this.C<ae.length;)if(Cs=dn(this,ae),Cs==rt){Qn==4&&(this.s=4,ut(14),C=!1),V(this.i,this.l,null,"[Incomplete Response]");break}else if(Cs==xe){this.s=4,ut(15),V(this.i,this.l,ae,"[Invalid Chunk]"),C=!1;break}else V(this.i,this.l,Cs,null),fo(this,Cs);if(et(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qn!=4||ae.length!=0||this.h.h||(this.s=1,ut(16),C=!1),this.o=this.o&&C,!C)V(this.i,this.l,ae,"[Invalid Chunked Response]"),Hn(this),os(this);else if(0<ae.length&&!this.W){this.W=!0;var Gn=this.j;Gn.g==this&&Gn.ba&&!Gn.M&&(Gn.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),nw(Gn),Gn.M=!0,ut(11))}}else V(this.i,this.l,ae,null),fo(this,ae);Qn==4&&Hn(this),this.o&&!this.J&&(Qn==4?fC(this.j,this):(this.o=!1,Nt(this)))}else Rz(this.g),C==400&&0<ae.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Hn(this),os(this)}}}catch{}finally{}};function et(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function dn(f,S){var C=f.C,D=S.indexOf(`
`,C);return D==-1?rt:(C=Number(S.substring(C,D)),isNaN(C)?xe:(D+=1,D+C>S.length?rt:(S=S.slice(D,D+C),f.C=D+C,S)))}Ee.prototype.cancel=function(){this.J=!0,Hn(this)};function Nt(f){f.S=Date.now()+f.I,ho(f,f.I)}function ho(f,S){if(f.B!=null)throw Error("WatchDog timer not null");f.B=xr(p(f.ba,f),S)}function Vr(f){f.B&&(a.clearTimeout(f.B),f.B=null)}Ee.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(K(this.i,this.A),this.L!=2&&(In(),ut(17)),Hn(this),this.s=2,os(this)):ho(this,this.S-f)};function os(f){f.j.G==0||f.J||fC(f.j,f)}function Hn(f){Vr(f);var S=f.M;S&&typeof S.ma=="function"&&S.ma(),f.M=null,co(f.U),f.g&&(S=f.g,f.g=null,S.abort(),S.ma())}function fo(f,S){try{var C=f.j;if(C.G!=0&&(C.g==f||ze(C.h,f))){if(!f.K&&ze(C.h,f)&&C.G==3){try{var D=C.Da.g.parse(S)}catch{D=null}if(Array.isArray(D)&&D.length==3){var U=D;if(U[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<f.F)_p(C),wp(C);else break e;tw(C),ut(18)}}else C.za=U[1],0<C.za-C.T&&37500>U[2]&&C.F&&C.v==0&&!C.C&&(C.C=xr(p(C.Za,C),6e3));if(1>=Va(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else Ba(C,11)}else if((f.K||C.g==f)&&_p(C),!y(S))for(U=C.Da.g.parse(S),S=0;S<U.length;S++){let dt=U[S];if(C.T=dt[0],dt=dt[1],C.G==2)if(dt[0]=="c"){C.K=dt[1],C.ia=dt[2];const Gn=dt[3];Gn!=null&&(C.la=Gn,C.j.info("VER="+C.la));const Qn=dt[4];Qn!=null&&(C.Aa=Qn,C.j.info("SVER="+C.Aa));const Yl=dt[5];Yl!=null&&typeof Yl=="number"&&0<Yl&&(D=1.5*Yl,C.L=D,C.j.info("backChannelRequestTimeoutMs_="+D)),D=C;const Cs=f.g;if(Cs){const bp=Cs.g?Cs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bp){var q=D.h;q.g||bp.indexOf("spdy")==-1&&bp.indexOf("quic")==-1&&bp.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Rt(q,q.h),q.h=null))}if(D.D){const rw=Cs.g?Cs.g.getResponseHeader("X-HTTP-Session-Id"):null;rw&&(D.ya=rw,kt(D.I,D.D,rw))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-f.F,C.j.info("Handshake RTT: "+C.R+"ms")),D=C;var ae=f;if(D.qa=gC(D,D.J?D.ia:null,D.W),ae.K){qn(D.h,ae);var Tt=ae,jn=D.L;jn&&(Tt.I=jn),Tt.B&&(Vr(Tt),Nt(Tt)),D.g=ae}else dC(D);0<C.i.length&&xp(C)}else dt[0]!="stop"&&dt[0]!="close"||Ba(C,7);else C.G==3&&(dt[0]=="stop"||dt[0]=="close"?dt[0]=="stop"?Ba(C,7):ew(C):dt[0]!="noop"&&C.l&&C.l.ta(dt),C.v=0)}}In(4)}catch{}}var Ss=class{constructor(f,S){this.g=f,this.map=S}};function La(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fa(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Va(f){return f.h?1:f.g?f.g.size:0}function ze(f,S){return f.h?f.h==S:f.g?f.g.has(S):!1}function Rt(f,S){f.g?f.g.add(S):f.h=S}function qn(f,S){f.h&&f.h==S?f.h=null:f.g&&f.g.has(S)&&f.g.delete(S)}La.prototype.cancel=function(){if(this.i=Dt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Dt(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let S=f.i;for(const C of f.g.values())S=S.concat(C.D);return S}return v(f.i)}function Ts(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var S=[],C=f.length,D=0;D<C;D++)S.push(f[D]);return S}S=[],C=0;for(D in f)S[C++]=f[D];return S}function hp(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var S=[];f=f.length;for(var C=0;C<f;C++)S.push(C);return S}S=[],C=0;for(const D in f)S[C++]=D;return S}}}function fp(f,S){if(f.forEach&&typeof f.forEach=="function")f.forEach(S,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,S,void 0);else for(var C=hp(f),D=Ts(f),U=D.length,q=0;q<U;q++)S.call(void 0,D[q],C&&C[q],f)}var GT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mz(f,S){if(f){f=f.split("&");for(var C=0;C<f.length;C++){var D=f[C].indexOf("="),U=null;if(0<=D){var q=f[C].substring(0,D);U=f[C].substring(D+1)}else q=f[C];S(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Ua(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ua){this.h=f.h,pp(this,f.j),this.o=f.o,this.g=f.g,mp(this,f.s),this.l=f.l;var S=f.i,C=new td;C.i=S.i,S.g&&(C.g=new Map(S.g),C.h=S.h),QT(this,C),this.m=f.m}else f&&(S=String(f).match(GT))?(this.h=!1,pp(this,S[1]||"",!0),this.o=Zu(S[2]||""),this.g=Zu(S[3]||"",!0),mp(this,S[4]),this.l=Zu(S[5]||"",!0),QT(this,S[6]||"",!0),this.m=Zu(S[7]||"")):(this.h=!1,this.i=new td(null,this.h))}Ua.prototype.toString=function(){var f=[],S=this.j;S&&f.push(ed(S,YT,!0),":");var C=this.g;return(C||S=="file")&&(f.push("//"),(S=this.o)&&f.push(ed(S,YT,!0),"@"),f.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&f.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&f.push("/"),f.push(ed(C,C.charAt(0)=="/"?yz:vz,!0))),(C=this.i.toString())&&f.push("?",C),(C=this.m)&&f.push("#",ed(C,xz)),f.join("")};function _i(f){return new Ua(f)}function pp(f,S,C){f.j=C?Zu(S,!0):S,f.j&&(f.j=f.j.replace(/:$/,""))}function mp(f,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);f.s=S}else f.s=null}function QT(f,S,C){S instanceof td?(f.i=S,_z(f.i,f.h)):(C||(S=ed(S,wz)),f.i=new td(S,f.h))}function kt(f,S,C){f.i.set(S,C)}function gp(f){return kt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Zu(f,S){return f?S?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ed(f,S,C){return typeof f=="string"?(f=encodeURI(f).replace(S,gz),C&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function gz(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var YT=/[#\/\?@]/g,vz=/[#\?:]/g,yz=/[#\?]/g,wz=/[#\?@]/g,xz=/#/g;function td(f,S){this.h=this.g=null,this.i=f||null,this.j=!!S}function po(f){f.g||(f.g=new Map,f.h=0,f.i&&mz(f.i,function(S,C){f.add(decodeURIComponent(S.replace(/\+/g," ")),C)}))}t=td.prototype,t.add=function(f,S){po(this),this.i=null,f=Gl(this,f);var C=this.g.get(f);return C||this.g.set(f,C=[]),C.push(S),this.h+=1,this};function XT(f,S){po(f),S=Gl(f,S),f.g.has(S)&&(f.i=null,f.h-=f.g.get(S).length,f.g.delete(S))}function JT(f,S){return po(f),S=Gl(f,S),f.g.has(S)}t.forEach=function(f,S){po(this),this.g.forEach(function(C,D){C.forEach(function(U){f.call(S,U,D,this)},this)},this)},t.na=function(){po(this);const f=Array.from(this.g.values()),S=Array.from(this.g.keys()),C=[];for(let D=0;D<S.length;D++){const U=f[D];for(let q=0;q<U.length;q++)C.push(S[D])}return C},t.V=function(f){po(this);let S=[];if(typeof f=="string")JT(this,f)&&(S=S.concat(this.g.get(Gl(this,f))));else{f=Array.from(this.g.values());for(let C=0;C<f.length;C++)S=S.concat(f[C])}return S},t.set=function(f,S){return po(this),this.i=null,f=Gl(this,f),JT(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[S]),this.h+=1,this},t.get=function(f,S){return f?(f=this.V(f),0<f.length?String(f[0]):S):S};function ZT(f,S,C){XT(f,S),0<C.length&&(f.i=null,f.g.set(Gl(f,S),v(C)),f.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],S=Array.from(this.g.keys());for(var C=0;C<S.length;C++){var D=S[C];const q=encodeURIComponent(String(D)),ae=this.V(D);for(D=0;D<ae.length;D++){var U=q;ae[D]!==""&&(U+="="+encodeURIComponent(String(ae[D]))),f.push(U)}}return this.i=f.join("&")};function Gl(f,S){return S=String(S),f.j&&(S=S.toLowerCase()),S}function _z(f,S){S&&!f.j&&(po(f),f.i=null,f.g.forEach(function(C,D){var U=D.toLowerCase();D!=U&&(XT(this,D),ZT(this,U,C))},f)),f.j=S}function Ez(f,S){const C=new is;if(a.Image){const D=new Image;D.onload=g(mo,C,"TestLoadImage: loaded",!0,S,D),D.onerror=g(mo,C,"TestLoadImage: error",!1,S,D),D.onabort=g(mo,C,"TestLoadImage: abort",!1,S,D),D.ontimeout=g(mo,C,"TestLoadImage: timeout",!1,S,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=f}else S(!1)}function bz(f,S){const C=new is,D=new AbortController,U=setTimeout(()=>{D.abort(),mo(C,"TestPingServer: timeout",!1,S)},1e4);fetch(f,{signal:D.signal}).then(q=>{clearTimeout(U),q.ok?mo(C,"TestPingServer: ok",!0,S):mo(C,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(U),mo(C,"TestPingServer: error",!1,S)})}function mo(f,S,C,D,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),D(C)}catch{}}function Sz(){this.g=new Hl}function Tz(f,S,C){const D=C||"";try{fp(f,function(U,q){let ae=U;c(U)&&(ae=vn(U)),S.push(D+q+"="+encodeURIComponent(ae))})}catch(U){throw S.push(D+"type="+encodeURIComponent("_badmap")),U}}function nd(f){this.l=f.Ub||null,this.j=f.eb||!1}w(nd,xi),nd.prototype.g=function(){return new vp(this.l,this.j)},nd.prototype.i=function(f){return function(){return f}}({});function vp(f,S){Be.call(this),this.D=f,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(vp,Be),t=vp.prototype,t.open=function(f,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=S,this.readyState=1,sd(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(S.body=f),(this.D||a).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rd(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,sd(this)),this.g&&(this.readyState=3,sd(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;eC(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function eC(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var S=f.value?f.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!f.done}))&&(this.response=this.responseText+=S)}f.done?rd(this):sd(this),this.readyState==3&&eC(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,rd(this))},t.Qa=function(f){this.g&&(this.response=f,rd(this))},t.ga=function(){this.g&&rd(this)};function rd(f){f.readyState=4,f.l=null,f.j=null,f.v=null,sd(f)}t.setRequestHeader=function(f,S){this.u.append(f,S)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],S=this.h.entries();for(var C=S.next();!C.done;)C=C.value,f.push(C[0]+": "+C[1]),C=S.next();return f.join(`\r
`)};function sd(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(vp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function tC(f){let S="";return O(f,function(C,D){S+=D,S+=":",S+=C,S+=`\r
`}),S}function Zy(f,S,C){e:{for(D in C){var D=!1;break e}D=!0}D||(C=tC(C),typeof f=="string"?C!=null&&encodeURIComponent(String(C)):kt(f,S,C))}function Xt(f){Be.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Xt,Be);var Cz=/^https?$/i,Az=["POST","PUT"];t=Xt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,S,C,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);S=S?S.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Me.g(),this.v=this.o?ql(this.o):ql(Me),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(S,String(f),!0),this.B=!1}catch(q){nC(this,q);return}if(f=C||"",C=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var U in D)C.set(U,D[U]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const q of D.keys())C.set(q,D.get(q));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(C.keys()).find(q=>q.toLowerCase()=="content-type"),U=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Az,S,void 0))||D||U||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ae]of C)this.g.setRequestHeader(q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{iC(this),this.u=!0,this.g.send(f),this.u=!1}catch(q){nC(this,q)}};function nC(f,S){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=S,f.m=5,rC(f),yp(f)}function rC(f){f.A||(f.A=!0,je(f,"complete"),je(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,je(this,"complete"),je(this,"abort"),yp(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yp(this,!0)),Xt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?sC(this):this.bb())},t.bb=function(){sC(this)};function sC(f){if(f.h&&typeof o<"u"&&(!f.v[1]||Ei(f)!=4||f.Z()!=2)){if(f.u&&Ei(f)==4)wr(f.Ea,0,f);else if(je(f,"readystatechange"),Ei(f)==4){f.h=!1;try{const ae=f.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var C;if(!(C=S)){var D;if(D=ae===0){var U=String(f.D).match(GT)[1]||null;!U&&a.self&&a.self.location&&(U=a.self.location.protocol.slice(0,-1)),D=!Cz.test(U?U.toLowerCase():"")}C=D}if(C)je(f,"complete"),je(f,"success");else{f.m=6;try{var q=2<Ei(f)?f.g.statusText:""}catch{q=""}f.l=q+" ["+f.Z()+"]",rC(f)}}finally{yp(f)}}}}function yp(f,S){if(f.g){iC(f);const C=f.g,D=f.v[0]?()=>{}:null;f.g=null,f.v=null,S||je(f,"ready");try{C.onreadystatechange=D}catch{}}}function iC(f){f.I&&(a.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Ei(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Ei(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var S=this.g.responseText;return f&&S.indexOf(f)==0&&(S=S.substring(f.length)),Oa(S)}};function oC(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Rz(f){const S={};f=(f.g&&2<=Ei(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<f.length;D++){if(y(f[D]))continue;var C=k(f[D]);const U=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const q=S[U]||[];S[U]=q,q.push(C)}T(S,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function id(f,S,C){return C&&C.internalChannelParams&&C.internalChannelParams[f]||S}function aC(f){this.Aa=0,this.i=[],this.j=new is,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=id("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=id("baseRetryDelayMs",5e3,f),this.cb=id("retryDelaySeedMs",1e4,f),this.Wa=id("forwardChannelMaxRetries",2,f),this.wa=id("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new La(f&&f.concurrentRequestLimit),this.Da=new Sz,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=aC.prototype,t.la=8,t.G=1,t.connect=function(f,S,C,D){ut(0),this.W=f,this.H=S||{},C&&D!==void 0&&(this.H.OSID=C,this.H.OAID=D),this.F=this.X,this.I=gC(this,null,this.W),xp(this)};function ew(f){if(lC(f),f.G==3){var S=f.U++,C=_i(f.I);if(kt(C,"SID",f.K),kt(C,"RID",S),kt(C,"TYPE","terminate"),od(f,C),S=new Ee(f,f.j,S),S.L=2,S.v=gp(_i(C)),C=!1,a.navigator&&a.navigator.sendBeacon)try{C=a.navigator.sendBeacon(S.v.toString(),"")}catch{}!C&&a.Image&&(new Image().src=S.v,C=!0),C||(S.g=vC(S.j,null),S.g.ea(S.v)),S.F=Date.now(),Nt(S)}mC(f)}function wp(f){f.g&&(nw(f),f.g.cancel(),f.g=null)}function lC(f){wp(f),f.u&&(a.clearTimeout(f.u),f.u=null),_p(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&a.clearTimeout(f.s),f.s=null)}function xp(f){if(!Fa(f.h)&&!f.s){f.s=!0;var S=f.Ga;Y||J(),z||(Y(),z=!0),B.add(S,f),f.B=0}}function Iz(f,S){return Va(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=S.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=xr(p(f.Ga,f,S),pC(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const U=new Ee(this,this.j,f);let q=this.o;if(this.S&&(q?(q=E(q),R(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)e:{for(var S=0,C=0;C<this.i.length;C++){t:{var D=this.i[C];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(S+=D,4096<S){S=C;break e}if(S===4096||C===this.i.length-1){S=C+1;break e}}S=1e3}else S=1e3;S=uC(this,U,S),C=_i(this.I),kt(C,"RID",f),kt(C,"CVER",22),this.D&&kt(C,"X-HTTP-Session-Id",this.D),od(this,C),q&&(this.O?S="headers="+encodeURIComponent(String(tC(q)))+"&"+S:this.m&&Zy(C,this.m,q)),Rt(this.h,U),this.Ua&&kt(C,"TYPE","init"),this.P?(kt(C,"$req",S),kt(C,"SID","null"),U.T=!0,lt(U,C,null)):lt(U,C,S),this.G=2}}else this.G==3&&(f?cC(this,f):this.i.length==0||Fa(this.h)||cC(this))};function cC(f,S){var C;S?C=S.l:C=f.U++;const D=_i(f.I);kt(D,"SID",f.K),kt(D,"RID",C),kt(D,"AID",f.T),od(f,D),f.m&&f.o&&Zy(D,f.m,f.o),C=new Ee(f,f.j,C,f.B+1),f.m===null&&(C.H=f.o),S&&(f.i=S.D.concat(f.i)),S=uC(f,C,1e3),C.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Rt(f.h,C),lt(C,D,S)}function od(f,S){f.H&&O(f.H,function(C,D){kt(S,D,C)}),f.l&&fp({},function(C,D){kt(S,D,C)})}function uC(f,S,C){C=Math.min(f.i.length,C);var D=f.l?p(f.l.Na,f.l,f):null;e:{var U=f.i;let q=-1;for(;;){const ae=["count="+C];q==-1?0<C?(q=U[0].g,ae.push("ofs="+q)):q=0:ae.push("ofs="+q);let Tt=!0;for(let jn=0;jn<C;jn++){let dt=U[jn].g;const Gn=U[jn].map;if(dt-=q,0>dt)q=Math.max(0,U[jn].g-100),Tt=!1;else try{Tz(Gn,ae,"req"+dt+"_")}catch{D&&D(Gn)}}if(Tt){D=ae.join("&");break e}}}return f=f.i.splice(0,C),S.D=f,D}function dC(f){if(!f.g&&!f.u){f.Y=1;var S=f.Fa;Y||J(),z||(Y(),z=!0),B.add(S,f),f.v=0}}function tw(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=xr(p(f.Fa,f),pC(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,hC(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=xr(p(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),wp(this),hC(this))};function nw(f){f.A!=null&&(a.clearTimeout(f.A),f.A=null)}function hC(f){f.g=new Ee(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var S=_i(f.qa);kt(S,"RID","rpc"),kt(S,"SID",f.K),kt(S,"AID",f.T),kt(S,"CI",f.F?"0":"1"),!f.F&&f.ja&&kt(S,"TO",f.ja),kt(S,"TYPE","xmlhttp"),od(f,S),f.m&&f.o&&Zy(S,f.m,f.o),f.L&&(f.g.I=f.L);var C=f.g;f=f.ia,C.L=1,C.v=gp(_i(S)),C.m=null,C.P=!0,_t(C,f)}t.Za=function(){this.C!=null&&(this.C=null,wp(this),tw(this),ut(19))};function _p(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function fC(f,S){var C=null;if(f.g==S){_p(f),nw(f),f.g=null;var D=2}else if(ze(f.h,S))C=S.D,qn(f.h,S),D=1;else return;if(f.G!=0){if(S.o)if(D==1){C=S.m?S.m.length:0,S=Date.now()-S.F;var U=f.B;D=yn(),je(D,new Fr(D,C)),xp(f)}else dC(f);else if(U=S.s,U==3||U==0&&0<S.X||!(D==1&&Iz(f,S)||D==2&&tw(f)))switch(C&&0<C.length&&(S=f.h,S.i=S.i.concat(C)),U){case 1:Ba(f,5);break;case 4:Ba(f,10);break;case 3:Ba(f,6);break;default:Ba(f,2)}}}function pC(f,S){let C=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(C*=2),C*S}function Ba(f,S){if(f.j.info("Error code "+S),S==2){var C=p(f.fb,f),D=f.Xa;const U=!D;D=new Ua(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||pp(D,"https"),gp(D),U?Ez(D.toString(),C):bz(D.toString(),C)}else ut(2);f.G=0,f.l&&f.l.sa(S),mC(f),lC(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function mC(f){if(f.G=0,f.ka=[],f.l){const S=Dt(f.h);(S.length!=0||f.i.length!=0)&&(x(f.ka,S),x(f.ka,f.i),f.h.i.length=0,v(f.i),f.i.length=0),f.l.ra()}}function gC(f,S,C){var D=C instanceof Ua?_i(C):new Ua(C);if(D.g!="")S&&(D.g=S+"."+D.g),mp(D,D.s);else{var U=a.location;D=U.protocol,S=S?S+"."+U.hostname:U.hostname,U=+U.port;var q=new Ua(null);D&&pp(q,D),S&&(q.g=S),U&&mp(q,U),C&&(q.l=C),D=q}return C=f.D,S=f.ya,C&&S&&kt(D,C,S),kt(D,"VER",f.la),od(f,D),D}function vC(f,S,C){if(S&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=f.Ca&&!f.pa?new Xt(new nd({eb:C})):new Xt(f.pa),S.Ha(f.J),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yC(){}t=yC.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ep(){}Ep.prototype.g=function(f,S){return new Ur(f,S)};function Ur(f,S){Be.call(this),this.g=new aC(S),this.l=f,this.h=S&&S.messageUrlParams||null,f=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(f?f["X-WebChannel-Content-Type"]=S.messageContentType:f={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(f?f["X-WebChannel-Client-Profile"]=S.va:f={"X-WebChannel-Client-Profile":S.va}),this.g.S=f,(f=S&&S.Sb)&&!y(f)&&(this.g.m=f),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!y(S)&&(this.g.D=S,f=this.h,f!==null&&S in f&&(f=this.h,S in f&&delete f[S])),this.j=new Ql(this)}w(Ur,Be),Ur.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ur.prototype.close=function(){ew(this.g)},Ur.prototype.o=function(f){var S=this.g;if(typeof f=="string"){var C={};C.__data__=f,f=C}else this.u&&(C={},C.__data__=vn(f),f=C);S.i.push(new Ss(S.Ya++,f)),S.G==3&&xp(S)},Ur.prototype.N=function(){this.g.l=null,delete this.j,ew(this.g),delete this.g,Ur.aa.N.call(this)};function wC(f){$t.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var S=f.__sm__;if(S){e:{for(const C in S){f=C;break e}f=void 0}(this.i=f)&&(f=this.i,S=S!==null&&f in S?S[f]:void 0),this.data=S}else this.data=f}w(wC,$t);function xC(){rn.call(this),this.status=1}w(xC,rn);function Ql(f){this.g=f}w(Ql,yC),Ql.prototype.ua=function(){je(this.g,"a")},Ql.prototype.ta=function(f){je(this.g,new wC(f))},Ql.prototype.sa=function(f){je(this.g,new xC)},Ql.prototype.ra=function(){je(this.g,"b")},Ep.prototype.createWebChannel=Ep.prototype.g,Ur.prototype.send=Ur.prototype.o,Ur.prototype.open=Ur.prototype.m,Ur.prototype.close=Ur.prototype.close,uF=function(){return new Ep},cF=function(){return yn()},lF=At,h_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},de.NO_ERROR=0,de.TIMEOUT=8,de.HTTP_ERROR=6,Lm=de,Ce.COMPLETE="complete",aF=Ce,ja.EventType=rs,rs.OPEN="a",rs.CLOSE="b",rs.ERROR="c",rs.MESSAGE="d",Be.prototype.listen=Be.prototype.K,Md=ja,oF=nd,Xt.prototype.listenOnce=Xt.prototype.L,Xt.prototype.getLastError=Xt.prototype.Ka,Xt.prototype.getLastErrorCode=Xt.prototype.Ba,Xt.prototype.getStatus=Xt.prototype.Z,Xt.prototype.getResponseJson=Xt.prototype.Oa,Xt.prototype.getResponseText=Xt.prototype.oa,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Ha,iF=Xt}).apply(typeof tm<"u"?tm:typeof self<"u"?self:typeof window<"u"?window:{});const w1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tr.UNAUTHENTICATED=new tr(null),tr.GOOGLE_CREDENTIALS=new tr("google-credentials-uid"),tr.FIRST_PARTY=new tr("first-party-uid"),tr.MOCK_USER=new tr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uu="10.13.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=new kv("@firebase/firestore");function _d(){return Tl.logLevel}function we(t,...e){if(Tl.logLevel<=it.DEBUG){const n=e.map(bS);Tl.debug(`Firestore (${Uu}): ${t}`,...n)}}function so(t,...e){if(Tl.logLevel<=it.ERROR){const n=e.map(bS);Tl.error(`Firestore (${Uu}): ${t}`,...n)}}function pu(t,...e){if(Tl.logLevel<=it.WARN){const n=e.map(bS);Tl.warn(`Firestore (${Uu}): ${t}`,...n)}}function bS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t="Unexpected state"){const e=`FIRESTORE (${Uu}) INTERNAL ASSERTION FAILED: `+t;throw so(e),new Error(e)}function St(t,e){t||Fe()}function Ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends ts{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Vne{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tr.UNAUTHENTICATED))}shutdown(){}}class Une{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Bne{constructor(e){this.t=e,this.currentUser=tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Wi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Wi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(St(typeof r.accessToken=="string"),new dF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string"),new tr(e)}}class $ne{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=tr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class zne{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new $ne(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(tr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kne{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wne{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,we("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(St(typeof n.token=="string"),this.R=n.token,new Kne(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hne(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=Hne(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function ht(t,e){return t<e?-1:t>e?1:0}function mu(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return An.fromMillis(Date.now())}static fromDate(e){return An.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new An(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ht(this.nanoseconds,e.nanoseconds):ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new An(0,0))}static max(){return new Ke(new An(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,r){n===void 0?n=0:n>e.length&&Fe(),r===void 0?r=e.length-n:r>e.length-n&&Fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Yh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Bt extends Yh{construct(e,n,r){return new Bt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Bt(n)}static emptyPath(){return new Bt([])}}const qne=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bn extends Yh{construct(e,n,r){return new Bn(e,n,r)}static isValidIdentifier(e){return qne.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Bn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Ae(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Ae(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ae(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Ae(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bn(n)}static emptyPath(){return new Bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Bt.fromString(e))}static fromName(e){return new Ie(Bt.fromString(e).popFirst(5))}static empty(){return new Ie(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Bt(e.slice()))}}function Gne(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ke.fromTimestamp(r===1e9?new An(n+1,0):new An(n,r));return new ya(s,Ie.empty(),e)}function Qne(t){return new ya(t.readTime,t.key,-1)}class ya{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ya(Ke.min(),Ie.empty(),-1)}static max(){return new ya(Ke.max(),Ie.empty(),-1)}}function Yne(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:ht(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xne="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jne{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xf(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==Xne)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(s=>s?Q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new Q((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Zne(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Jf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}SS.oe=-1;function xy(t){return t==null}function zg(t){return t===0&&1/t==-1/0}function ere(t){return typeof t=="number"&&Number.isInteger(t)&&!zg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tre(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function fF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n){this.comparator=e,this.root=n||Un.EMPTY}insert(e,n){return new Qt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Un.BLACK,null,null))}remove(e){return new Qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nm(this.root,e,this.comparator,!1)}getReverseIterator(){return new nm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nm(this.root,e,this.comparator,!0)}}class nm{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Un{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Un.RED,this.left=s??Un.EMPTY,this.right=i??Un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Un(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Un.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();const e=this.left.check();if(e!==this.right.check())throw Fe();return e+(this.isRed()?0:1)}}Un.EMPTY=null,Un.RED=!0,Un.BLACK=!1;Un.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe()}get value(){throw Fe()}get color(){throw Fe()}get left(){throw Fe()}get right(){throw Fe()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.comparator=e,this.data=new Qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _1(this.data.getIterator())}getIteratorFrom(e){return new _1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof zn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new zn(this.comparator);return n.data=e,n}}class _1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.fields=e,e.sort(Bn.comparator)}static empty(){return new js([])}unionWith(e){let n=new zn(Bn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new js(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new pF("Invalid base64 string: "+i):i}}(e);return new Wn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Wn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wn.EMPTY_BYTE_STRING=new Wn("");const nre=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wa(t){if(St(!!t),typeof t=="string"){let e=0;const n=nre.exec(t);if(St(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:on(t.seconds),nanos:on(t.nanos)}}function on(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Cl(t){return typeof t=="string"?Wn.fromBase64String(t):Wn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function CS(t){const e=t.mapValue.fields.__previous_value__;return TS(e)?CS(e):e}function Xh(t){const e=wa(t.mapValue.fields.__local_write_time__.timestampValue);return new An(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rre{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Jh{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Jh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Jh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Al(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?TS(t)?4:ire(t)?9007199254740991:sre(t)?10:11:Fe()}function fi(t,e){if(t===e)return!0;const n=Al(t);if(n!==Al(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xh(t).isEqual(Xh(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=wa(s.timestampValue),a=wa(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Cl(s.bytesValue).isEqual(Cl(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return on(s.geoPointValue.latitude)===on(i.geoPointValue.latitude)&&on(s.geoPointValue.longitude)===on(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return on(s.integerValue)===on(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=on(s.doubleValue),a=on(i.doubleValue);return o===a?zg(o)===zg(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return mu(t.arrayValue.values||[],e.arrayValue.values||[],fi);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(x1(o)!==x1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!fi(o[l],a[l])))return!1;return!0}(t,e);default:return Fe()}}function Zh(t,e){return(t.values||[]).find(n=>fi(n,e))!==void 0}function gu(t,e){if(t===e)return 0;const n=Al(t),r=Al(e);if(n!==r)return ht(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ht(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=on(i.integerValue||i.doubleValue),l=on(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return E1(t.timestampValue,e.timestampValue);case 4:return E1(Xh(t),Xh(e));case 5:return ht(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Cl(i),l=Cl(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=ht(a[c],l[c]);if(u!==0)return u}return ht(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ht(on(i.latitude),on(o.latitude));return a!==0?a:ht(on(i.longitude),on(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return b1(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,u;const h=i.fields||{},p=o.fields||{},g=(a=h.value)===null||a===void 0?void 0:a.arrayValue,w=(l=p.value)===null||l===void 0?void 0:l.arrayValue,v=ht(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((u=w==null?void 0:w.values)===null||u===void 0?void 0:u.length)||0);return v!==0?v:b1(g,w)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===rm.mapValue&&o===rm.mapValue)return 0;if(i===rm.mapValue)return 1;if(o===rm.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const p=ht(l[h],u[h]);if(p!==0)return p;const g=gu(a[l[h]],c[u[h]]);if(g!==0)return g}return ht(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Fe()}}function E1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ht(t,e);const n=wa(t),r=wa(e),s=ht(n.seconds,r.seconds);return s!==0?s:ht(n.nanos,r.nanos)}function b1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=gu(n[s],r[s]);if(i)return i}return ht(n.length,r.length)}function vu(t){return f_(t)}function f_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=wa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Cl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=f_(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${f_(n.fields[o])}`;return s+"}"}(t.mapValue):Fe()}function p_(t){return!!t&&"integerValue"in t}function AS(t){return!!t&&"arrayValue"in t}function S1(t){return!!t&&"nullValue"in t}function T1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fm(t){return!!t&&"mapValue"in t}function sre(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function eh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Bu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=eh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=eh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ire(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this.value=e}static empty(){return new ms({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=eh(n)}setAll(e){let n=Bn.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=eh(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Fm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Fm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Bu(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new ms(eh(this.value))}}function mF(t){const e=[];return Bu(t.fields,(n,r)=>{const s=new Bn([n]);if(Fm(r)){const i=mF(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new js(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new rr(e,0,Ke.min(),Ke.min(),Ke.min(),ms.empty(),0)}static newFoundDocument(e,n,r,s){return new rr(e,1,n,Ke.min(),r,s,0)}static newNoDocument(e,n){return new rr(e,2,n,Ke.min(),Ke.min(),ms.empty(),0)}static newUnknownDocument(e,n){return new rr(e,3,n,Ke.min(),Ke.min(),ms.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ms.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ms.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n){this.position=e,this.inclusive=n}}function C1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Ie.comparator(Ie.fromName(o.referenceValue),n.key):r=gu(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function A1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,n="asc"){this.field=e,this.dir=n}}function ore(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{}class Sn extends gF{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new lre(e,n,r):n==="array-contains"?new dre(e,r):n==="in"?new hre(e,r):n==="not-in"?new fre(e,r):n==="array-contains-any"?new pre(e,r):new Sn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cre(e,r):new ure(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(gu(n,this.value)):n!==null&&Al(this.value)===Al(n)&&this.matchesComparison(gu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pi extends gF{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new pi(e,n)}matches(e){return vF(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function vF(t){return t.op==="and"}function yF(t){return are(t)&&vF(t)}function are(t){for(const e of t.filters)if(e instanceof pi)return!1;return!0}function m_(t){if(t instanceof Sn)return t.field.canonicalString()+t.op.toString()+vu(t.value);if(yF(t))return t.filters.map(e=>m_(e)).join(",");{const e=t.filters.map(n=>m_(n)).join(",");return`${t.op}(${e})`}}function wF(t,e){return t instanceof Sn?function(r,s){return s instanceof Sn&&r.op===s.op&&r.field.isEqual(s.field)&&fi(r.value,s.value)}(t,e):t instanceof pi?function(r,s){return s instanceof pi&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&wF(o,s.filters[a]),!0):!1}(t,e):void Fe()}function xF(t){return t instanceof Sn?function(n){return`${n.field.canonicalString()} ${n.op} ${vu(n.value)}`}(t):t instanceof pi?function(n){return n.op.toString()+" {"+n.getFilters().map(xF).join(" ,")+"}"}(t):"Filter"}class lre extends Sn{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class cre extends Sn{constructor(e,n){super(e,"in",n),this.keys=_F("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ure extends Sn{constructor(e,n){super(e,"not-in",n),this.keys=_F("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _F(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ie.fromName(r.referenceValue))}class dre extends Sn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return AS(n)&&Zh(n.arrayValue,this.value)}}class hre extends Sn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zh(this.value.arrayValue,n)}}class fre extends Sn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Zh(this.value.arrayValue,n)}}class pre extends Sn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!AS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mre{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function R1(t,e=null,n=[],r=[],s=null,i=null,o=null){return new mre(t,e,n,r,s,i,o)}function RS(t){const e=Ve(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>m_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),xy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vu(r)).join(",")),e.ue=n}return e.ue}function IS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ore(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!A1(t.startAt,e.startAt)&&A1(t.endAt,e.endAt)}function g_(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function gre(t,e,n,r,s,i,o,a){return new _y(t,e,n,r,s,i,o,a)}function Ey(t){return new _y(t)}function I1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vre(t){return t.collectionGroup!==null}function th(t){const e=Ve(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new zn(Bn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Wg(i,r))}),n.has(Bn.keyField().canonicalString())||e.ce.push(new Wg(Bn.keyField(),r))}return e.ce}function ui(t){const e=Ve(t);return e.le||(e.le=EF(e,th(t))),e.le}function yre(t){const e=Ve(t);return e.he||(e.he=EF(e,t.explicitOrderBy)),e.he}function EF(t,e){if(t.limitType==="F")return R1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Wg(s.field,i)});const n=t.endAt?new Kg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Kg(t.startAt.position,t.startAt.inclusive):null;return R1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function v_(t,e,n){return new _y(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function by(t,e){return IS(ui(t),ui(e))&&t.limitType===e.limitType}function bF(t){return`${RS(ui(t))}|lt:${t.limitType}`}function rc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>xF(s)).join(", ")}]`),xy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>vu(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>vu(s)).join(",")),`Target(${r})`}(ui(t))}; limitType=${t.limitType})`}function Sy(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Ie.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of th(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=C1(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,th(r),s)||r.endAt&&!function(o,a,l){const c=C1(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,th(r),s))}(t,e)}function wre(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function SF(t){return(e,n)=>{let r=!1;for(const s of th(t)){const i=xre(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function xre(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?gu(l,c):Fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Bu(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return fF(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _re=new Qt(Ie.comparator);function io(){return _re}const TF=new Qt(Ie.comparator);function Od(...t){let e=TF;for(const n of t)e=e.insert(n.key,n);return e}function CF(t){let e=TF;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function el(){return nh()}function AF(){return nh()}function nh(){return new $u(t=>t.toString(),(t,e)=>t.isEqual(e))}const Ere=new Qt(Ie.comparator),bre=new zn(Ie.comparator);function nt(...t){let e=bre;for(const n of t)e=e.add(n);return e}const Sre=new zn(ht);function Tre(){return Sre}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zg(e)?"-0":e}}function RF(t){return{integerValue:""+t}}function Cre(t,e){return ere(e)?RF(e):PS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(){this._=void 0}}function Are(t,e,n){return t instanceof Hg?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&TS(i)&&(i=CS(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof ef?PF(t,e):t instanceof tf?NF(t,e):function(s,i){const o=IF(s,i),a=P1(o)+P1(s.Pe);return p_(o)&&p_(s.Pe)?RF(a):PS(s.serializer,a)}(t,e)}function Rre(t,e,n){return t instanceof ef?PF(t,e):t instanceof tf?NF(t,e):n}function IF(t,e){return t instanceof qg?function(r){return p_(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Hg extends Ty{}class ef extends Ty{constructor(e){super(),this.elements=e}}function PF(t,e){const n=DF(e);for(const r of t.elements)n.some(s=>fi(s,r))||n.push(r);return{arrayValue:{values:n}}}class tf extends Ty{constructor(e){super(),this.elements=e}}function NF(t,e){let n=DF(e);for(const r of t.elements)n=n.filter(s=>!fi(s,r));return{arrayValue:{values:n}}}class qg extends Ty{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function P1(t){return on(t.integerValue||t.doubleValue)}function DF(t){return AS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Ire(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof ef&&s instanceof ef||r instanceof tf&&s instanceof tf?mu(r.elements,s.elements,fi):r instanceof qg&&s instanceof qg?fi(r.Pe,s.Pe):r instanceof Hg&&s instanceof Hg}(t.transform,e.transform)}class Pre{constructor(e,n){this.version=e,this.transformResults=n}}class Hi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hi}static exists(e){return new Hi(void 0,e)}static updateTime(e){return new Hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let Cy=class{};function kF(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new OF(t.key,Hi.none()):new Zf(t.key,t.data,Hi.none());{const n=t.data,r=ms.empty();let s=new zn(Bn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new zl(t.key,r,new js(s.toArray()),Hi.none())}}function Nre(t,e,n){t instanceof Zf?function(s,i,o){const a=s.value.clone(),l=D1(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof zl?function(s,i,o){if(!Vm(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=D1(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(MF(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function rh(t,e,n,r){return t instanceof Zf?function(i,o,a,l){if(!Vm(i.precondition,o))return a;const c=i.value.clone(),u=k1(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof zl?function(i,o,a,l){if(!Vm(i.precondition,o))return a;const c=k1(i.fieldTransforms,l,o),u=o.data;return u.setAll(MF(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Vm(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Dre(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=IF(r.transform,s||null);i!=null&&(n===null&&(n=ms.empty()),n.set(r.field,i))}return n||null}function N1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&mu(r,s,(i,o)=>Ire(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zf extends Cy{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class zl extends Cy{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function MF(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function D1(t,e,n){const r=new Map;St(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,Rre(o,a,n[s]))}return r}function k1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,Are(i,o,e))}return r}class OF extends Cy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kre extends Cy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mre{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Nre(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=rh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=rh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=AF();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=kF(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),nt())}isEqual(e){return this.batchId===e.batchId&&mu(this.mutations,e.mutations,(n,r)=>N1(n,r))&&mu(this.baseMutations,e.baseMutations,(n,r)=>N1(n,r))}}class NS{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){St(e.mutations.length===r.length);let s=function(){return Ere}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new NS(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ore=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jre{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lre{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn,ot;function Fre(t){switch(t){default:return Fe();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function jF(t){if(t===void 0)return so("GRPC error has no .code"),X.UNKNOWN;switch(t){case hn.OK:return X.OK;case hn.CANCELLED:return X.CANCELLED;case hn.UNKNOWN:return X.UNKNOWN;case hn.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case hn.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case hn.INTERNAL:return X.INTERNAL;case hn.UNAVAILABLE:return X.UNAVAILABLE;case hn.UNAUTHENTICATED:return X.UNAUTHENTICATED;case hn.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case hn.NOT_FOUND:return X.NOT_FOUND;case hn.ALREADY_EXISTS:return X.ALREADY_EXISTS;case hn.PERMISSION_DENIED:return X.PERMISSION_DENIED;case hn.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case hn.ABORTED:return X.ABORTED;case hn.OUT_OF_RANGE:return X.OUT_OF_RANGE;case hn.UNIMPLEMENTED:return X.UNIMPLEMENTED;case hn.DATA_LOSS:return X.DATA_LOSS;default:return Fe()}}(ot=hn||(hn={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vre(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ure=new ml([4294967295,4294967295],0);function M1(t){const e=Vre().encode(t),n=new sF;return n.update(e),new Uint8Array(n.digest())}function O1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ml([n,r],0),new ml([s,i],0)]}class DS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new jd(`Invalid padding: ${n}`);if(r<0)throw new jd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new jd(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ml.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(ml.fromNumber(r)));return s.compare(Ure)===1&&(s=new ml([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=M1(e),[r,s]=O1(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new DS(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=M1(e),[r,s]=O1(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class jd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ep.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ay(Ke.min(),s,new Qt(ht),io(),nt())}}class ep{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ep(r,n,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class LF{constructor(e,n){this.targetId=e,this.me=n}}class FF{constructor(e,n,r=Wn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class j1{constructor(){this.fe=0,this.ge=F1(),this.pe=Wn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=nt(),n=nt(),r=nt();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Fe()}}),new ep(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=F1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,St(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Bre{constructor(e){this.Le=e,this.Be=new Map,this.ke=io(),this.qe=L1(),this.Qe=new Qt(ht)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Fe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(g_(i))if(r===0){const o=new Ie(i.path);this.Ue(n,o,rr.newNoDocument(o,Ke.min()))}else St(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Cl(r).toUint8Array()}catch(l){if(l instanceof pF)return pu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new DS(o,s,i)}catch(l){return pu(l instanceof jd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&g_(a.target)){const l=new Ie(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,rr.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=nt();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Ay(e,n,this.Qe,this.ke,r);return this.ke=io(),this.qe=L1(),this.Qe=new Qt(ht),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new j1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new zn(ht),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new j1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function L1(){return new Qt(Ie.comparator)}function F1(){return new Qt(Ie.comparator)}const $re={asc:"ASCENDING",desc:"DESCENDING"},zre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kre={and:"AND",or:"OR"};class Wre{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function y_(t,e){return t.useProto3Json||xy(e)?e:{value:e}}function Gg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Hre(t,e){return Gg(t,e.toTimestamp())}function di(t){return St(!!t),Ke.fromTimestamp(function(n){const r=wa(n);return new An(r.seconds,r.nanos)}(t))}function kS(t,e){return w_(t,e).canonicalString()}function w_(t,e){const n=function(s){return new Bt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function UF(t){const e=Bt.fromString(t);return St(HF(e)),e}function x_(t,e){return kS(t.databaseId,e.path)}function p0(t,e){const n=UF(e);if(n.get(1)!==t.databaseId.projectId)throw new Ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie($F(n))}function BF(t,e){return kS(t.databaseId,e)}function qre(t){const e=UF(t);return e.length===4?Bt.emptyPath():$F(e)}function __(t){return new Bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $F(t){return St(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function V1(t,e,n){return{name:x_(t,e),fields:n.value.mapValue.fields}}function Gre(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(St(u===void 0||typeof u=="string"),Wn.fromBase64String(u||"")):(St(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Wn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?X.UNKNOWN:jF(c.code);return new Ae(u,c.message||"")}(o);n=new FF(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=p0(t,r.document.name),i=di(r.document.updateTime),o=r.document.createTime?di(r.document.createTime):Ke.min(),a=new ms({mapValue:{fields:r.document.fields}}),l=rr.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Um(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=p0(t,r.document),i=r.readTime?di(r.readTime):Ke.min(),o=rr.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Um([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=p0(t,r.document),i=r.removedTargetIds||[];n=new Um([],i,s,null)}else{if(!("filter"in e))return Fe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new Lre(s,i),a=r.targetId;n=new LF(a,o)}}return n}function Qre(t,e){let n;if(e instanceof Zf)n={update:V1(t,e.key,e.value)};else if(e instanceof OF)n={delete:x_(t,e.key)};else if(e instanceof zl)n={update:V1(t,e.key,e.data),updateMask:sse(e.fieldMask)};else{if(!(e instanceof kre))return Fe();n={verify:x_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Hg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ef)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof tf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof qg)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Fe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Hre(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Fe()}(t,e.precondition)),n}function Yre(t,e){return t&&t.length>0?(St(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?di(s.updateTime):di(i);return o.isEqual(Ke.min())&&(o=di(i)),new Pre(o,s.transformResults||[])}(n,e))):[]}function Xre(t,e){return{documents:[BF(t,e.path)]}}function zF(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=BF(t,s);const i=function(c){if(c.length!==0)return WF(pi.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(u=>function(p){return{field:ko(p.field),direction:tse(p.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=y_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function Jre(t,e,n,r){const{_t:s,parent:i}=zF(t,e),o={},a=[];let l=0;return n.forEach(c=>{const u="aggregate_"+l++;o[u]=c.alias,c.aggregateType==="count"?a.push({alias:u,count:{}}):c.aggregateType==="avg"?a.push({alias:u,avg:{field:ko(c.fieldPath)}}):c.aggregateType==="sum"&&a.push({alias:u,sum:{field:ko(c.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:a,structuredQuery:s.structuredQuery},parent:s.parent},ut:o,parent:i}}function Zre(t){let e=qre(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){St(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const p=KF(h);return p instanceof pi&&yF(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(w){return new Wg(sc(w.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,xy(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,g=h.values||[];return new Kg(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,g=h.values||[];return new Kg(g,p)}(n.endAt)),gre(e,s,o,i,a,"F",l,c)}function ese(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function KF(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=sc(n.unaryFilter.field);return Sn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=sc(n.unaryFilter.field);return Sn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=sc(n.unaryFilter.field);return Sn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=sc(n.unaryFilter.field);return Sn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Fe()}}(t):t.fieldFilter!==void 0?function(n){return Sn.create(sc(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return pi.create(n.compositeFilter.filters.map(r=>KF(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Fe()}}(n.compositeFilter.op))}(t):Fe()}function tse(t){return $re[t]}function nse(t){return zre[t]}function rse(t){return Kre[t]}function ko(t){return{fieldPath:t.canonicalString()}}function sc(t){return Bn.fromServerFormat(t.fieldPath)}function WF(t){return t instanceof Sn?function(n){if(n.op==="=="){if(T1(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NAN"}};if(S1(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(T1(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NAN"}};if(S1(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(n.field),op:nse(n.op),value:n.value}}}(t):t instanceof pi?function(n){const r=n.getFilters().map(s=>WF(s));return r.length===1?r[0]:{compositeFilter:{op:rse(n.op),filters:r}}}(t):Fe()}function sse(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function HF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n,r,s,i=Ke.min(),o=Ke.min(),a=Wn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Go(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ise{constructor(e){this.ct=e}}function ose(t){const e=Zre({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?v_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ase{constructor(){this.un=new lse}addToCollectionParentIndex(e,n){return this.un.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(ya.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(ya.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class lse{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new zn(Bt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new zn(Bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new yu(0)}static kn(){return new yu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cse{constructor(){this.changes=new $u(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class use{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dse{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&rh(r.mutation,s,js.empty(),An.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,nt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=nt()){const s=el();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Od();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=el();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,nt()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=io();const o=nh(),a=function(){return nh()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof zl)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),rh(u.mutation,c,u.mutation.getFieldMask(),An.now())):o.set(c.key,js.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new use(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=nh();let s=new Qt((o,a)=>o-a),i=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||js.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(s.get(a.batchId)||nt()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=AF();u.forEach(p=>{if(!i.has(p)){const g=kF(n.get(p),r.get(p));g!==null&&h.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vre(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Q.resolve(el());let a=-1,l=i;return o.next(c=>Q.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?Q.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,nt())).next(u=>({batchId:a,changes:CF(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(r=>{let s=Od();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Od();return this.indexManager.getCollectionParents(e,i).next(a=>Q.forEach(a,l=>{const c=function(h,p){return new _y(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,rr.newInvalidDocument(u)))});let a=Od();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&rh(u.mutation,c,js.empty(),An.now()),Sy(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hse{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:di(s.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:ose(s.bundledQuery),readTime:di(s.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fse{constructor(){this.overlays=new Qt(Ie.comparator),this.Ir=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=el();return Q.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=el(),i=n.length+1,o=new Ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Qt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=el(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=el(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return Q.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Ore(n,r));let i=this.Ir.get(n);i===void 0&&(i=nt(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pse{constructor(){this.sessionToken=Wn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.Tr=new zn(Pn.Er),this.dr=new zn(Pn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Pn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Pn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Ie(new Bt([])),r=new Pn(n,e),s=new Pn(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ie(new Bt([])),r=new Pn(n,e),s=new Pn(n,e+1);let i=nt();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Pn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ie.comparator(e.key,n.key)||ht(e.wr,n.wr)}static Ar(e,n){return ht(e.wr,n.wr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mse{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new zn(Pn.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Mre(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new Pn(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pn(n,0),s=new Pn(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new zn(ht);return n.forEach(s=>{const i=new Pn(s,0),o=new Pn(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Ie.isDocumentKey(i)||(i=i.child(""));const o=new Pn(new Ie(i),0);let a=new zn(ht);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.wr)),!0)},o),Q.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){St(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Q.forEach(n.mutations,s=>{const i=new Pn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Pn(n,0),s=this.br.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gse{constructor(e){this.Mr=e,this.docs=function(){return new Qt(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():rr.newInvalidDocument(n))}getEntries(e,n){let r=io();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():rr.newInvalidDocument(s))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=io();const o=n.path,a=new Ie(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Yne(Qne(u),r)<=0||(s.has(u.key)||Sy(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Fe()}Or(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new vse(this)}getSize(e){return Q.resolve(this.size)}}class vse extends cse{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yse{constructor(e){this.persistence=e,this.Nr=new $u(n=>RS(n),IS),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.Lr=0,this.Br=new MS,this.targetCount=0,this.kr=yu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new yu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Kn(n),Q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),Q.waitFor(i).next(()=>s)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),Q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wse{constructor(e,n){this.qr={},this.overlays={},this.Qr=new SS(0),this.Kr=!1,this.Kr=!0,this.$r=new pse,this.referenceDelegate=e(this),this.Ur=new yse(this),this.indexManager=new ase,this.remoteDocumentCache=function(s){return new gse(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new ise(n),this.Gr=new hse(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fse,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new mse(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const s=new xse(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return Q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class xse extends Jne{constructor(e){super(),this.currentSequenceNumber=e}}class OS{constructor(e){this.persistence=e,this.Jr=new MS,this.Yr=null}static Zr(e){return new OS(e)}get Xr(){if(this.Yr)return this.Yr;throw Fe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,r=>{const s=Ie.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,Ke.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Q.or([()=>Q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=nt(),s=nt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new jS(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _se{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ese{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return m6()?8:Zne(ar())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new _se;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(_d()<=it.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",rc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(_d()<=it.DEBUG&&we("QueryEngine","Query:",rc(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(_d()<=it.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",rc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(n))):Q.resolve())}Yi(e,n){if(I1(n))return Q.resolve(null);let r=ui(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=v_(n,null,"F"),r=ui(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=nt(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,v_(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,s){return I1(n)||s.isEqual(Ke.min())?Q.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?Q.resolve(null):(_d()<=it.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),rc(n)),this.rs(e,o,n,Gne(s,-1)).next(a=>a))})}ts(e,n){let r=new zn(SF(e));return n.forEach((s,i)=>{Sy(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return _d()<=it.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",rc(n)),this.Ji.getDocumentsMatchingQuery(e,n,ya.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bse{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Qt(ht),this._s=new $u(i=>RS(i),IS),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dse(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Sse(t,e,n,r){return new bse(t,e,n,r)}async function qF(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=nt();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function Tse(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,p=h.keys();let g=Q.resolve();return p.forEach(w=>{g=g.next(()=>u.getEntry(l,w)).next(v=>{const x=c.docVersions.get(w);St(x!==null),v.version.compareTo(x)<0&&(h.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=nt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function GF(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Cse(t,e){const n=Ve(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((u,h)=>{const p=s.get(h);if(!p)return;a.push(n.Ur.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(i,u.addedDocuments,h)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(Wn.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,r)),s=s.insert(h,g),function(v,x,_){return v.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,g,u)&&a.push(n.Ur.updateTargetData(i,g))});let l=io(),c=nt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(Ase(i,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(Ke.min())){const u=n.Ur.getLastRemoteSnapshotVersion(i).next(h=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return Q.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.os=s,i))}function Ase(t,e,n){let r=nt(),s=nt();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=io();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Ke.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):we("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function Rse(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ise(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,Q.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Go(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function E_(t,e,n){const r=Ve(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Jf(o))throw o;we("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function U1(t,e,n){const r=Ve(t);let s=Ke.min(),i=nt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=Ve(l),p=h._s.get(u);return p!==void 0?Q.resolve(h.os.get(p)):h.Ur.getTargetData(c,u)}(r,o,ui(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:Ke.min(),n?i:nt())).next(a=>(Pse(r,wre(e),a),{documents:a,Ts:i})))}function Pse(t,e,n){let r=t.us.get(e)||Ke.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class B1{constructor(){this.activeTargetIds=Tre()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nse{constructor(){this.so=new B1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new B1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dse{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){we("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){we("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sm=null;function m0(){return sm===null?sm=function(){return 268435456+Math.round(2147483648*Math.random())}():sm++,"0x"+sm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kse={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mse{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jn="WebChannelConnection";class Ose extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=m0(),l=this.xo(n,r.toUriEncodedString());we("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,l,c,s).then(u=>(we("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw pu("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Uu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=kse[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=m0();return new Promise((o,a)=>{const l=new iF;l.setWithCredentials(!0),l.listenOnce(aF.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Lm.NO_ERROR:const u=l.getResponseJson();we(Jn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Lm.TIMEOUT:we(Jn,`RPC '${e}' ${i} timed out`),a(new Ae(X.DEADLINE_EXCEEDED,"Request time out"));break;case Lm.HTTP_ERROR:const h=l.getStatus();if(we(Jn,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const w=function(x){const _=x.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(_)>=0?_:X.UNKNOWN}(g.status);a(new Ae(w,g.message))}else a(new Ae(X.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ae(X.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{we(Jn,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);we(Jn,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=m0(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=uF(),a=cF(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new oF({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");we(Jn,`Creating RPC '${e}' stream ${s}: ${u}`,l);const h=o.createWebChannel(u,l);let p=!1,g=!1;const w=new Mse({Io:x=>{g?we(Jn,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(p||(we(Jn,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),we(Jn,`RPC '${e}' stream ${s} sending:`,x),h.send(x))},To:()=>h.close()}),v=(x,_,y)=>{x.listen(_,b=>{try{y(b)}catch(A){setTimeout(()=>{throw A},0)}})};return v(h,Md.EventType.OPEN,()=>{g||(we(Jn,`RPC '${e}' stream ${s} transport opened.`),w.yo())}),v(h,Md.EventType.CLOSE,()=>{g||(g=!0,we(Jn,`RPC '${e}' stream ${s} transport closed`),w.So())}),v(h,Md.EventType.ERROR,x=>{g||(g=!0,pu(Jn,`RPC '${e}' stream ${s} transport errored:`,x),w.So(new Ae(X.UNAVAILABLE,"The operation could not be completed")))}),v(h,Md.EventType.MESSAGE,x=>{var _;if(!g){const y=x.data[0];St(!!y);const b=y,A=b.error||((_=b[0])===null||_===void 0?void 0:_.error);if(A){we(Jn,`RPC '${e}' stream ${s} received error:`,A);const P=A.status;let O=function(I){const R=hn[I];if(R!==void 0)return jF(R)}(P),T=A.message;O===void 0&&(O=X.INTERNAL,T="Unknown error status: "+P+" with message "+A.message),g=!0,w.So(new Ae(O,T)),h.close()}else we(Jn,`RPC '${e}' stream ${s} received:`,y),w.bo(y)}}),v(a,lF.STAT_EVENT,x=>{x.stat===h_.PROXY?we(Jn,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===h_.NOPROXY&&we(Jn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function g0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(t){return new Wre(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&we("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new QF(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(so(n.toString()),so("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new Ae(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return we("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(we("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jse extends YF{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Gre(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ke.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ke.min():o.readTime?di(o.readTime):Ke.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=__(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=g_(l)?{documents:Xre(i,l)}:{query:zF(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=VF(i,o.resumeToken);const c=y_(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ke.min())>0){a.readTime=Gg(i,o.snapshotVersion.toTimestamp());const c=y_(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=ese(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=__(this.serializer),n.removeTarget=e,this.a_(n)}}class Lse extends YF{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return St(!!e.streamToken),this.lastStreamToken=e.streamToken,St(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){St(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Yre(e.writeResults,e.commitTime),r=di(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=__(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Qre(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fse extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new Ae(X.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,w_(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ae(X.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,w_(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ae(X.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Vse{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(so(n),this.D_=!1):we("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Use{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Kl(this)&&(we("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Ve(l);c.L_.add(4),await tp(c),c.q_.set("Unknown"),c.L_.delete(4),await Iy(c)}(this))})}),this.q_=new Vse(r,s)}}async function Iy(t){if(Kl(t))for(const e of t.B_)await e(!0)}async function tp(t){for(const e of t.B_)await e(!1)}function XF(t,e){const n=Ve(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),US(n)?VS(n):zu(n).r_()&&FS(n,e))}function LS(t,e){const n=Ve(t),r=zu(n);n.N_.delete(e),r.r_()&&JF(n,e),n.N_.size===0&&(r.r_()?r.o_():Kl(n)&&n.q_.set("Unknown"))}function FS(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zu(t).A_(e)}function JF(t,e){t.Q_.xe(e),zu(t).R_(e)}function VS(t){t.Q_=new Bre({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),zu(t).start(),t.q_.v_()}function US(t){return Kl(t)&&!zu(t).n_()&&t.N_.size>0}function Kl(t){return Ve(t).L_.size===0}function ZF(t){t.Q_=void 0}async function Bse(t){t.q_.set("Online")}async function $se(t){t.N_.forEach((e,n)=>{FS(t,e)})}async function zse(t,e){ZF(t),US(t)?(t.q_.M_(e),VS(t)):t.q_.set("Unknown")}async function Kse(t,e,n){if(t.q_.set("Online"),e instanceof FF&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){we("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qg(t,r)}else if(e instanceof Um?t.Q_.Ke(e):e instanceof LF?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ke.min()))try{const r=await GF(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.N_.get(c);u&&i.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.N_.get(l);if(!u)return;i.N_.set(l,u.withResumeToken(Wn.EMPTY_BYTE_STRING,u.snapshotVersion)),JF(i,l);const h=new Go(u.target,l,c,u.sequenceNumber);FS(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){we("RemoteStore","Failed to raise snapshot:",r),await Qg(t,r)}}async function Qg(t,e,n){if(!Jf(e))throw e;t.L_.add(1),await tp(t),t.q_.set("Offline"),n||(n=()=>GF(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{we("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Iy(t)})}function eV(t,e){return e().catch(n=>Qg(t,n,e))}async function Py(t){const e=Ve(t),n=xa(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Wse(e);)try{const s=await Rse(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,Hse(e,s)}catch(s){await Qg(e,s)}tV(e)&&nV(e)}function Wse(t){return Kl(t)&&t.O_.length<10}function Hse(t,e){t.O_.push(e);const n=xa(t);n.r_()&&n.V_&&n.m_(e.mutations)}function tV(t){return Kl(t)&&!xa(t).n_()&&t.O_.length>0}function nV(t){xa(t).start()}async function qse(t){xa(t).p_()}async function Gse(t){const e=xa(t);for(const n of t.O_)e.m_(n.mutations)}async function Qse(t,e,n){const r=t.O_.shift(),s=NS.from(r,e,n);await eV(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Py(t)}async function Yse(t,e){e&&xa(t).V_&&await async function(r,s){if(function(o){return Fre(o)&&o!==X.ABORTED}(s.code)){const i=r.O_.shift();xa(r).s_(),await eV(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Py(r)}}(t,e),tV(t)&&nV(t)}async function z1(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),we("RemoteStore","RemoteStore received new credentials");const r=Kl(n);n.L_.add(3),await tp(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Iy(n)}async function Xse(t,e){const n=Ve(t);e?(n.L_.delete(2),await Iy(n)):e||(n.L_.add(2),await tp(n),n.q_.set("Unknown"))}function zu(t){return t.K_||(t.K_=function(n,r,s){const i=Ve(n);return i.w_(),new jse(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:Bse.bind(null,t),Ro:$se.bind(null,t),mo:zse.bind(null,t),d_:Kse.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),US(t)?VS(t):t.q_.set("Unknown")):(await t.K_.stop(),ZF(t))})),t.K_}function xa(t){return t.U_||(t.U_=function(n,r,s){const i=Ve(n);return i.w_(),new Lse(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:qse.bind(null,t),mo:Yse.bind(null,t),f_:Gse.bind(null,t),g_:Qse.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Py(t)):(await t.U_.stop(),t.O_.length>0&&(we("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new BS(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $S(t,e){if(so("AsyncQueue",`${e}: ${t}`),Jf(t))return new Ae(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=Od(),this.sortedSet=new Qt(this.comparator)}static emptySet(e){return new Lc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Lc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Lc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(){this.W_=new Qt(Ie.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Fe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class wu{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new wu(e,n,Lc.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&by(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jse{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Zse{constructor(){this.queries=W1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Ve(n),i=s.queries;s.queries=W1(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Ae(X.ABORTED,"Firestore shutting down"))}}function W1(){return new $u(t=>bF(t),by)}async function rV(t,e){const n=Ve(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new Jse,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=$S(o,`Initialization of query '${rc(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&zS(n)}async function sV(t,e){const n=Ve(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function eie(t,e){const n=Ve(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&zS(n)}function tie(t,e,n){const r=Ve(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function zS(t){t.Y_.forEach(e=>{e.next()})}var b_,H1;(H1=b_||(b_={})).ea="default",H1.Cache="cache";class iV{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new wu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=wu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==b_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e){this.key=e}}class aV{constructor(e){this.key=e}}class nie{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=nt(),this.mutatedKeys=nt(),this.Aa=SF(e),this.Ra=new Lc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new K1,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const p=s.get(u),g=Sy(this.query,h)?h:null,w=!!p&&this.mutatedKeys.has(p.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;p&&g?p.data.isEqual(g.data)?w!==v&&(r.track({type:3,doc:g}),x=!0):this.ga(p,g)||(r.track({type:2,doc:g}),x=!0,(l&&this.Aa(g,l)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),x=!0):p&&!g&&(r.track({type:1,doc:p}),x=!0,(l||c)&&(a=!0)),x&&(g?(o=o.add(g),i=v?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,h)=>function(g,w){const v=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe()}};return v(g)-v(w)}(u.type,h.type)||this.Aa(u.doc,h.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new wu(this.query,e.Ra,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new K1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=nt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new aV(r))}),this.da.forEach(r=>{e.has(r)||n.push(new oV(r))}),n}ba(e){this.Ta=e.Ts,this.da=nt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return wu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class rie{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class sie{constructor(e){this.key=e,this.va=!1}}class iie{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new $u(a=>bF(a),by),this.Ma=new Map,this.xa=new Set,this.Oa=new Qt(Ie.comparator),this.Na=new Map,this.La=new MS,this.Ba={},this.ka=new Map,this.qa=yu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function oie(t,e,n=!0){const r=fV(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await lV(r,e,n,!0),s}async function aie(t,e){const n=fV(t);await lV(n,e,!0,!1)}async function lV(t,e,n,r){const s=await Ise(t.localStore,ui(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await lie(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&XF(t.remoteStore,s),a}async function lie(t,e,n,r,s){t.Ka=(h,p,g)=>async function(v,x,_,y){let b=x.view.ma(_);b.ns&&(b=await U1(v.localStore,x.query,!1).then(({documents:T})=>x.view.ma(T,b)));const A=y&&y.targetChanges.get(x.targetId),P=y&&y.targetMismatches.get(x.targetId)!=null,O=x.view.applyChanges(b,v.isPrimaryClient,A,P);return G1(v,x.targetId,O.wa),O.snapshot}(t,h,p,g);const i=await U1(t.localStore,e,!0),o=new nie(e,i.Ts),a=o.ma(i.documents),l=ep.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);G1(t,n,c.wa);const u=new rie(e,n,o);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function cie(t,e,n){const r=Ve(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!by(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await E_(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&LS(r.remoteStore,s.targetId),S_(r,s.targetId)}).catch(Xf)):(S_(r,s.targetId),await E_(r.localStore,s.targetId,!0))}async function uie(t,e){const n=Ve(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),LS(n.remoteStore,r.targetId))}async function die(t,e,n){const r=yie(t);try{const s=await function(o,a){const l=Ve(o),c=An.now(),u=a.reduce((g,w)=>g.add(w.key),nt());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=io(),v=nt();return l.cs.getEntries(g,u).next(x=>{w=x,w.forEach((_,y)=>{y.isValidDocument()||(v=v.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,w)).next(x=>{h=x;const _=[];for(const y of a){const b=Dre(y,h.get(y.key).overlayedDocument);b!=null&&_.push(new zl(y.key,b,mF(b.value.mapValue),Hi.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,_,a)}).next(x=>{p=x;const _=x.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(g,x.batchId,_)})}).then(()=>({batchId:p.batchId,changes:CF(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Qt(ht)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await np(r,s.changes),await Py(r.remoteStore)}catch(s){const i=$S(s,"Failed to persist write");n.reject(i)}}async function cV(t,e){const n=Ve(t);try{const r=await Cse(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(St(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?St(o.va):s.removedDocuments.size>0&&(St(o.va),o.va=!1))}),await np(n,r,e)}catch(r){await Xf(r)}}function q1(t,e,n){const r=Ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Ve(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const p of h.j_)p.Z_(a)&&(c=!0)}),c&&zS(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function hie(t,e,n){const r=Ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Qt(Ie.comparator);o=o.insert(i,rr.newNoDocument(i,Ke.min()));const a=nt().add(i),l=new Ay(Ke.min(),new Map,new Qt(ht),o,a);await cV(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),KS(r)}else await E_(r.localStore,e,!1).then(()=>S_(r,e,n)).catch(Xf)}async function fie(t,e){const n=Ve(t),r=e.batch.batchId;try{const s=await Tse(n.localStore,e);dV(n,r,null),uV(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await np(n,s)}catch(s){await Xf(s)}}async function pie(t,e,n){const r=Ve(t);try{const s=await function(o,a){const l=Ve(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(St(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);dV(r,e,n),uV(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await np(r,s)}catch(s){await Xf(s)}}function uV(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function dV(t,e,n){const r=Ve(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function S_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||hV(t,r)})}function hV(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(LS(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),KS(t))}function G1(t,e,n){for(const r of n)r instanceof oV?(t.La.addReference(r.key,e),mie(t,r)):r instanceof aV?(we("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||hV(t,r.key)):Fe()}function mie(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(we("SyncEngine","New document in limbo: "+n),t.xa.add(r),KS(t))}function KS(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ie(Bt.fromString(e)),r=t.qa.next();t.Na.set(r,new sie(n)),t.Oa=t.Oa.insert(n,r),XF(t.remoteStore,new Go(ui(Ey(n.path)),r,"TargetPurposeLimboResolution",SS.oe))}}async function np(t,e,n){const r=Ve(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){s.push(c);const h=jS.Wi(l.targetId,c);i.push(h)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,c){const u=Ve(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Q.forEach(c,p=>Q.forEach(p.$i,g=>u.persistence.referenceDelegate.addReference(h,p.targetId,g)).next(()=>Q.forEach(p.Ui,g=>u.persistence.referenceDelegate.removeReference(h,p.targetId,g)))))}catch(h){if(!Jf(h))throw h;we("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const g=u.os.get(p),w=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(w);u.os=u.os.insert(p,v)}}}(r.localStore,i))}async function gie(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){we("SyncEngine","User change. New user:",e.toKey());const r=await qF(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new Ae(X.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await np(n,r.hs)}}function vie(t,e){const n=Ve(t),r=n.Na.get(e);if(r&&r.va)return nt().add(r.key);{let s=nt();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function fV(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vie.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hie.bind(null,e),e.Ca.d_=eie.bind(null,e.eventManager),e.Ca.$a=tie.bind(null,e.eventManager),e}function yie(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fie.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pie.bind(null,e),e}class Q1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ry(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Sse(this.persistence,new Ese,e.initialUser,this.serializer)}createPersistence(e){return new wse(OS.Zr,this.serializer)}createSharedClientState(e){return new Nse}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class wie{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>q1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=gie.bind(null,this.syncEngine),await Xse(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Zse}()}createDatastore(e){const n=Ry(e.databaseInfo.databaseId),r=function(i){return new Ose(i)}(e.databaseInfo);return function(i,o,a,l){return new Fse(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new Use(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>q1(this.syncEngine,n,0),function(){return $1.D()?new $1:new Dse}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const h=new iie(s,i,o,a,l,c);return u&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Ve(s);we("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await tp(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):so("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xie{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=tr.UNAUTHENTICATED,this.clientId=hF.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{we("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(we("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(X.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$S(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function v0(t,e){t.asyncQueue.verifyOperationInProgress(),we("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await qF(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Y1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Eie(t);we("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>z1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>z1(e.remoteStore,s)),t._onlineComponents=e}function _ie(t){return t.name==="FirebaseError"?t.code===X.FAILED_PRECONDITION||t.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Eie(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we("FirestoreClient","Using user provided OfflineComponentProvider");try{await v0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!_ie(n))throw n;pu("Error using user provided cache. Falling back to memory cache: "+n),await v0(t,new Q1)}}else we("FirestoreClient","Using default OfflineComponentProvider"),await v0(t,new Q1);return t._offlineComponents}async function WS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we("FirestoreClient","Using user provided OnlineComponentProvider"),await Y1(t,t._uninitializedComponentsProvider._online)):(we("FirestoreClient","Using default OnlineComponentProvider"),await Y1(t,new wie))),t._onlineComponents}function bie(t){return WS(t).then(e=>e.syncEngine)}function Sie(t){return WS(t).then(e=>e.datastore)}async function T_(t){const e=await WS(t),n=e.eventManager;return n.onListen=oie.bind(null,e.syncEngine),n.onUnlisten=cie.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=aie.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=uie.bind(null,e.syncEngine),n}function Tie(t,e,n={}){const r=new Wi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new pV({next:p=>{o.enqueueAndForget(()=>sV(i,h));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new Ae(X.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new Ae(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new iV(Ey(a.path),u,{includeMetadataChanges:!0,_a:!0});return rV(i,h)}(await T_(t),t.asyncQueue,e,n,r)),r.promise}function Cie(t,e,n){const r=new Wi;return t.asyncQueue.enqueueAndForget(async()=>{try{const s=await Sie(t);r.resolve(async function(o,a,l){var c;const u=Ve(o),{request:h,ut:p,parent:g}=Jre(u.serializer,yre(a),l);u.connection.Fo||delete h.parent;const w=(await u.Lo("RunAggregationQuery",u.serializer.databaseId,g,h,1)).filter(x=>!!x.result);St(w.length===1);const v=(c=w[0].result)===null||c===void 0?void 0:c.aggregateFields;return Object.keys(v).reduce((x,_)=>(x[p[_]]=v[_],x),{})}(s,e,n))}catch(s){r.reject(s)}}),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(t,e,n){if(!n)throw new Ae(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Aie(t,e,n,r){if(e===!0&&r===!0)throw new Ae(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function J1(t){if(!Ie.isDocumentKey(t))throw new Ae(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Z1(t){if(Ie.isDocumentKey(t))throw new Ae(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function HS(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Fe()}function qi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=HS(t);throw new Ae(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ae(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Aie("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mV((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ny{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ae(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Ae(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eP(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Vne;switch(r.type){case"firstParty":return new zne(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=X1.get(n);r&&(we("ComponentProvider","Removing Datastore"),X1.delete(n),r.terminate())}(this),Promise.resolve()}}function Rie(t,e,n,r={}){var s;const i=(t=qi(t,Ny))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&pu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=tr.MOCK_USER;else{a=jk(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Ae(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new tr(c)}t._authCredentials=new Une(new dF(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vV=class yV{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yV(this.firestore,e,this._query)}};class kr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kr(this.firestore,e,this._key)}}class oa extends vV{constructor(e,n,r){super(e,n,Ey(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kr(this.firestore,null,new Ie(e))}withConverter(e){return new oa(this.firestore,e,this._path)}}function Iie(t,e,...n){if(t=un(t),gV("collection","path",e),t instanceof Ny){const r=Bt.fromString(e,...n);return Z1(r),new oa(t,null,r)}{if(!(t instanceof kr||t instanceof oa))throw new Ae(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bt.fromString(e,...n));return Z1(r),new oa(t.firestore,null,r)}}function qS(t,e,...n){if(t=un(t),arguments.length===1&&(e=hF.newId()),gV("doc","path",e),t instanceof Ny){const r=Bt.fromString(e,...n);return J1(r),new kr(t,null,new Ie(r))}{if(!(t instanceof kr||t instanceof oa))throw new Ae(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bt.fromString(e,...n));return J1(r),new kr(t.firestore,t instanceof oa?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pie{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new QF(this,"async_queue_retry"),this.Eu=()=>{const n=g0();n&&we("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=g0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=g0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new Wi;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Jf(e))throw e;we("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw so("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const s=BS.createAndSchedule(this,e,n,r,i=>this.Vu(i));return this.lu.push(s),s}du(){this.hu&&Fe()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}function tP(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class xu extends Ny{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new Pie}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||wV(this),this._firestoreClient.terminate()}}function Nie(t,e){const n=typeof t=="object"?t:Mv(),r=typeof t=="string"?t:"(default)",s=Sa(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=kk("firestore");i&&Rie(s,...i)}return s}function Dy(t){return t._firestoreClient||wV(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function wV(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new rre(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,mV(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new xie(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Die{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class kie{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _u(Wn.fromBase64String(e))}catch(n){throw new Ae(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _u(Wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ht(this._lat,e._lat)||ht(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mie=/^__.*__$/;class Oie{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zf(e,this.data,n,this.fieldTransforms)}}function _V(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe()}}class XS{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.yu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new XS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.vu(e),s}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.yu(),s}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Yg(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(_V(this.wu)&&Mie.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class jie{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ry(e)}Nu(e,n,r,s=!1){return new XS({wu:e,methodName:n,Ou:r,path:Bn.emptyPath(),Du:!1,xu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lie(t){const e=t._freezeSettings(),n=Ry(t._databaseId);return new jie(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Fie(t,e,n,r,s,i={}){const o=t.Nu(i.merge||i.mergeFields?2:0,e,n,s);TV("Data must be an object, but it was:",o,r);const a=bV(r,o);let l,c;if(i.merge)l=new js(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const p=CV(e,h,n);if(!o.contains(p))throw new Ae(X.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Uie(u,p)||u.push(p)}l=new js(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new Oie(new ms(a),l,c)}function EV(t,e){if(SV(t=un(t)))return TV("Unsupported field value:",e,t),bV(t,e);if(t instanceof xV)return function(r,s){if(!_V(s.wu))throw s.Mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=EV(a,s.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=un(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Cre(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=An.fromDate(r);return{timestampValue:Gg(s.serializer,i)}}if(r instanceof An){const i=new An(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gg(s.serializer,i)}}if(r instanceof QS)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _u)return{bytesValue:VF(s.serializer,r._byteString)};if(r instanceof kr){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:kS(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof YS)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return PS(a.serializer,l)})}}}}}}(r,s);throw s.Mu(`Unsupported field value: ${HS(r)}`)}(t,e)}function bV(t,e){const n={};return fF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bu(t,(r,s)=>{const i=EV(s,e.bu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function SV(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof An||t instanceof QS||t instanceof _u||t instanceof kr||t instanceof xV||t instanceof YS)}function TV(t,e,n){if(!SV(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=HS(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function CV(t,e,n){if((e=un(e))instanceof GS)return e._internalPath;if(typeof e=="string")return AV(t,e);throw Yg("Field path arguments must be of type string or ",t,!1,void 0,n)}const Vie=new RegExp("[~\\*/\\[\\]]");function AV(t,e,n){if(e.search(Vie)>=0)throw Yg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new GS(...e.split("."))._internalPath}catch{throw Yg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Yg(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Ae(X.INVALID_ARGUMENT,a+t+l)}function Uie(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new kr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Bie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(IV("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Bie extends RV{data(){return super.data()}}function IV(t,e){return typeof e=="string"?AV(t,e):e instanceof GS?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ie(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ae(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zie{convertValue(e,n="none"){switch(Al(e)){case 0:return null;case 1:return e.booleanValue;case 2:return on(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Cl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bu(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>on(o.doubleValue));return new YS(i)}convertGeoPoint(e){return new QS(on(e.latitude),on(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=CS(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xh(e));default:return null}}convertTimestamp(e){const n=wa(e);return new An(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Bt.fromString(e);St(HF(r));const s=new Jh(r.get(1),r.get(3)),i=new Ie(r.popFirst(5));return s.isEqual(n)||so(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kie(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function Wie(t){return new Die("avg",CV("average",t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class PV extends RV{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(IV("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Bm extends PV{data(e={}){return super.data(e)}}class Hie{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ld(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Bm(this._firestore,this._userDataWriter,r.key,r,new Ld(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Bm(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ld(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Bm(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ld(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:qie(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function qie(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gie(t){t=qi(t,kr);const e=qi(t.firestore,xu);return Tie(Dy(e),t._key).then(n=>NV(e,t,n))}class JS extends zie{constructor(e){super(),this.firestore=e}convertBytes(e){return new _u(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kr(this.firestore,null,n)}}function Qie(t,e,n){t=qi(t,kr);const r=qi(t.firestore,xu),s=Kie(t.converter,e,n);return Xie(r,[Fie(Lie(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Hi.none())])}function Yie(t,...e){var n,r,s;t=un(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||tP(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(tP(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,c,u;if(t instanceof kr)c=qi(t.firestore,xu),u=Ey(t._key.path),l={next:h=>{e[o]&&e[o](NV(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=qi(t,vV);c=qi(h.firestore,xu),u=h._query;const p=new JS(c);l={next:g=>{e[o]&&e[o](new Hie(c,p,h,g))},error:e[o+1],complete:e[o+2]},$ie(t._query)}return function(p,g,w,v){const x=new pV(v),_=new iV(g,x,w);return p.asyncQueue.enqueueAndForget(async()=>rV(await T_(p),_)),()=>{x.za(),p.asyncQueue.enqueueAndForget(async()=>sV(await T_(p),_))}}(Dy(c),u,a,l)}function Xie(t,e){return function(r,s){const i=new Wi;return r.asyncQueue.enqueueAndForget(async()=>die(await bie(r),s,i)),i.promise}(Dy(t),e)}function NV(t,e,n){const r=n.docs.get(e._key),s=new JS(t);return new PV(t,s,e._key,r,new Ld(n.hasPendingWrites,n.fromCache),e.converter)}function Jie(t,e){const n=qi(t.firestore,xu),r=Dy(n),s=tre(e,(i,o)=>new jre(o,i.aggregateType,i._internalFieldPath));return Cie(r,t._query,s).then(i=>function(a,l,c){const u=new JS(a);return new kie(l,u,c)}(n,t,i))}(function(e,n=!0){(function(s){Uu=s})(Ll),$s(new Es("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new xu(new Bne(r.getProvider("auth-internal")),new Wne(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ae(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jh(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Dr(w1,"4.7.2",e),Dr(w1,"4.7.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV="firebasestorage.googleapis.com",kV="storageBucket",Zie=2*60*1e3,eoe=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn extends ts{constructor(e,n,r=0){super(y0(e),`Firebase Storage: ${n} (${y0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,nn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return y0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var tn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(tn||(tn={}));function y0(t){return"storage/"+t}function ZS(){const t="An unknown error occurred, please check the error payload for server response.";return new nn(tn.UNKNOWN,t)}function toe(t){return new nn(tn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function noe(t){return new nn(tn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function roe(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new nn(tn.UNAUTHENTICATED,t)}function soe(){return new nn(tn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function ioe(t){return new nn(tn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function ooe(){return new nn(tn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function aoe(){return new nn(tn.CANCELED,"User canceled the upload/download.")}function loe(t){return new nn(tn.INVALID_URL,"Invalid URL '"+t+"'.")}function coe(t){return new nn(tn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function uoe(){return new nn(tn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+kV+"' property when initializing the app?")}function doe(){return new nn(tn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function hoe(){return new nn(tn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function foe(t){return new nn(tn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function C_(t){return new nn(tn.INVALID_ARGUMENT,t)}function MV(){return new nn(tn.APP_DELETED,"The Firebase app was deleted.")}function poe(t){return new nn(tn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function sh(t,e){return new nn(tn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ed(t){throw new nn(tn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Hr.makeFromUrl(e,n)}catch{return new Hr(e,"")}if(r.path==="")return r;throw coe(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(A){A.path_=decodeURIComponent(A.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${u}/b/${s}/o${p}`,"i"),w={bucket:1,path:3},v=n===DV?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",_=new RegExp(`^https?://${v}/${s}/${x}`,"i"),b=[{regex:a,indices:l,postModify:i},{regex:g,indices:w,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let A=0;A<b.length;A++){const P=b[A],O=P.regex.exec(e);if(O){const T=O[P.indices.bucket];let E=O[P.indices.path];E||(E=""),r=new Hr(T,E),P.postModify(r);break}}if(r==null)throw loe(e);return r}}class moe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function goe(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...x){c||(c=!0,e.apply(null,x))}function h(x){s=setTimeout(()=>{s=null,t(g,l())},x)}function p(){i&&clearTimeout(i)}function g(x,..._){if(c){p();return}if(x){p(),u.call(null,x,..._);return}if(l()||o){p(),u.call(null,x,..._);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,h(b)}let w=!1;function v(x){w||(w=!0,p(),!c&&(s!==null?(x||(a=2),clearTimeout(s),h(0)):x||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,v(!0)},n),v}function voe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yoe(t){return t!==void 0}function woe(t){return typeof t=="object"&&!Array.isArray(t)}function eT(t){return typeof t=="string"||t instanceof String}function nP(t){return tT()&&t instanceof Blob}function tT(){return typeof Blob<"u"}function rP(t,e,n,r){if(r<e)throw C_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw C_(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function OV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var gl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(gl||(gl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xoe(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _oe{constructor(e,n,r,s,i,o,a,l,c,u,h,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,w)=>{this.resolve_=g,this.reject_=w,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new im(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===gl.NO_ERROR,l=i.getStatus();if(!a||xoe(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===gl.ABORT;r(!1,new im(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new im(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());yoe(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=ZS();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?MV():aoe();o(l)}else{const l=ooe();o(l)}};this.canceled_?n(!1,new im(!1,null,!0)):this.backoffId_=goe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&voe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class im{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Eoe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function boe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Soe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Toe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Coe(t,e,n,r,s,i,o=!0){const a=OV(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return Soe(c,e),Eoe(c,n),boe(c,i),Toe(c,r),new _oe(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aoe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Roe(...t){const e=Aoe();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(tT())return new Blob(t);throw new nn(tn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Ioe(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Poe(t){if(typeof atob>"u")throw foe("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class w0{constructor(e,n){this.data=e,this.contentType=n||null}}function Noe(t,e){switch(t){case ni.RAW:return new w0(jV(e));case ni.BASE64:case ni.BASE64URL:return new w0(LV(t,e));case ni.DATA_URL:return new w0(koe(e),Moe(e))}throw ZS()}function jV(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Doe(t){let e;try{e=decodeURIComponent(t)}catch{throw sh(ni.DATA_URL,"Malformed data URL.")}return jV(e)}function LV(t,e){switch(t){case ni.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw sh(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case ni.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw sh(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Poe(e)}catch(s){throw s.message.includes("polyfill")?s:sh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class FV{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw sh(ni.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Ooe(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function koe(t){const e=new FV(t);return e.base64?LV(ni.BASE64,e.rest):Doe(e.rest)}function Moe(t){return new FV(t).contentType}function Ooe(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n){let r=0,s="";nP(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(nP(this.data_)){const r=this.data_,s=Ioe(r,e,n);return s===null?null:new Mo(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Mo(r,!0)}}static getBlob(...e){if(tT()){const n=e.map(r=>r instanceof Mo?r.data_:r);return new Mo(Roe.apply(null,n))}else{const n=e.map(o=>eT(o)?Noe(ni.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new Mo(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(t){let e;try{e=JSON.parse(t)}catch{return null}return woe(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function joe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Loe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function UV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Foe(t,e){return e}class cr{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||Foe}}let om=null;function Voe(t){return!eT(t)||t.length<2?t:UV(t)}function nT(){if(om)return om;const t=[];t.push(new cr("bucket")),t.push(new cr("generation")),t.push(new cr("metageneration")),t.push(new cr("name","fullPath",!0));function e(i,o){return Voe(o)}const n=new cr("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new cr("size");return s.xform=r,t.push(s),t.push(new cr("timeCreated")),t.push(new cr("updated")),t.push(new cr("md5Hash",null,!0)),t.push(new cr("cacheControl",null,!0)),t.push(new cr("contentDisposition",null,!0)),t.push(new cr("contentEncoding",null,!0)),t.push(new cr("contentLanguage",null,!0)),t.push(new cr("contentType",null,!0)),t.push(new cr("metadata","customMetadata",!0)),om=t,om}function Uoe(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Hr(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function Boe(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return Uoe(r,t),r}function BV(t,e,n){const r=VV(e);return r===null?null:Boe(t,r,n)}function $oe(t,e,n,r){const s=VV(e);if(s===null||!eT(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const u=t.bucket,h=t.fullPath,p="/b/"+o(u)+"/o/"+o(h),g=Ku(p,n,r),w=OV({alt:"media",token:c});return g+w})[0]}function zoe(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class rp{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(t){if(!t)throw ZS()}function zV(t,e){function n(r,s){const i=BV(t,s,e);return $V(i!==null),i}return n}function Koe(t,e){function n(r,s){const i=BV(t,s,e);return $V(i!==null),$oe(i,s,t.host,t._protocol)}return n}function KV(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=soe():s=roe():n.getStatus()===402?s=noe(t.bucket):n.getStatus()===403?s=ioe(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function ky(t){const e=KV(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=toe(t.path)),i.serverResponse=s.serverResponse,i}return n}function Woe(t,e,n){const r=e.fullServerUrl(),s=Ku(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new rp(s,i,zV(t,n),o);return a.errorHandler=ky(e),a}function Hoe(t,e,n){const r=e.fullServerUrl(),s=Ku(r,t.host,t._protocol)+"?alt=media",i="GET",o=t.maxOperationRetryTime,a=new rp(s,i,(l,c)=>c,o);return a.errorHandler=ky(e),a}function qoe(t,e,n){const r=e.fullServerUrl(),s=Ku(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new rp(s,i,Koe(t,n),o);return a.errorHandler=ky(e),a}function Goe(t,e){const n=e.fullServerUrl(),r=Ku(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(l,c){}const a=new rp(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=ky(e),a}function Qoe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Yoe(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Qoe(null,e)),r}function Xoe(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let A=0;A<2;A++)b=b+Math.random().toString().slice(2);return b}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=Yoe(e,r,s),u=zoe(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+l+"--",g=Mo.getBlob(h,r,p);if(g===null)throw doe();const w={name:c.fullPath},v=Ku(i,t.host,t._protocol),x="POST",_=t.maxUploadRetryTime,y=new rp(v,x,zV(t,n),_);return y.urlParams=w,y.headers=o,y.body=g.uploadData(),y.errorHandler=KV(e),y}class WV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=gl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=gl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=gl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Ed("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ed("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ed("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ed("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ed("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Joe extends WV{initXhr(){this.xhr_.responseType="text"}}function My(){return new Joe}class Zoe extends WV{initXhr(){this.xhr_.responseType="blob"}}function eae(){return new Zoe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n){this._service=e,n instanceof Hr?this._location=n:this._location=Hr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Rl(e,n)}get root(){const e=new Hr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return UV(this._location.path)}get storage(){return this._service}get parent(){const e=joe(this._location.path);if(e===null)return null;const n=new Hr(this._location.bucket,e);return new Rl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw poe(e)}}function tae(t,e){t._throwIfRoot("getBlob");const n=Hoe(t.storage,t._location);return t.storage.makeRequestWithTokens(n,eae).then(r=>r)}function nae(t,e,n){t._throwIfRoot("uploadBytes");const r=Xoe(t.storage,t._location,nT(),new Mo(e,!0),n);return t.storage.makeRequestWithTokens(r,My).then(s=>({metadata:s,ref:t}))}function rae(t){t._throwIfRoot("getMetadata");const e=Woe(t.storage,t._location,nT());return t.storage.makeRequestWithTokens(e,My)}function sae(t){t._throwIfRoot("getDownloadURL");const e=qoe(t.storage,t._location,nT());return t.storage.makeRequestWithTokens(e,My).then(n=>{if(n===null)throw hoe();return n})}function iae(t){t._throwIfRoot("deleteObject");const e=Goe(t.storage,t._location);return t.storage.makeRequestWithTokens(e,My)}function oae(t,e){const n=Loe(t._location.path,e),r=new Hr(t._location.bucket,n);return new Rl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aae(t){return/^[A-Za-z]+:\/\//.test(t)}function lae(t,e){return new Rl(t,e)}function HV(t,e){if(t instanceof rT){const n=t;if(n._bucket==null)throw uoe();const r=new Rl(n,n._bucket);return e!=null?HV(r,e):r}else return e!==void 0?oae(t,e):t}function cae(t,e){if(e&&aae(e)){if(t instanceof rT)return lae(t,e);throw C_("To use ref(service, url), the first argument must be a Storage instance.")}else return HV(t,e)}function sP(t,e){const n=e==null?void 0:e[kV];return n==null?null:Hr.makeFromBucketSpec(n,t)}function uae(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:jk(s,t.app.options.projectId))}class rT{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=DV,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Zie,this._maxUploadRetryTime=eoe,this._requests=new Set,s!=null?this._bucket=Hr.makeFromBucketSpec(s,this._host):this._bucket=sP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Hr.makeFromBucketSpec(this._url,e):this._bucket=sP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){rP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){rP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Rl(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new moe(MV());{const o=Coe(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const iP="@firebase/storage",oP="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV="storage";function dae(t,e,n){return t=un(t),nae(t,e,n)}function hae(t){return t=un(t),rae(t)}function fae(t){return t=un(t),sae(t)}function pae(t){return t=un(t),iae(t)}function Oy(t,e){return t=un(t),cae(t,e)}function mae(t=Mv(),e){t=un(t);const r=Sa(t,qV).getImmediate({identifier:e}),s=kk("storage");return s&&gae(r,...s),r}function gae(t,e,n,r={}){uae(t,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vae(t,e){return t=un(t),tae(t)}function yae(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new rT(n,r,s,e,Ll)}function wae(){$s(new Es(qV,yae,"PUBLIC").setMultipleInstances(!0)),Dr(iP,oP,""),Dr(iP,oP,"esm2017")}wae();const GV="@firebase/installations",sT="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=1e4,YV=`w:${sT}`,XV="FIS_v2",xae="https://firebaseinstallations.googleapis.com/v1",_ae=60*60*1e3,Eae="installations",bae="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sae={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Il=new jl(Eae,bae,Sae);function JV(t){return t instanceof ts&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV({projectId:t}){return`${xae}/projects/${t}/installations`}function e4(t){return{token:t.token,requestStatus:2,expiresIn:Cae(t.expiresIn),creationTime:Date.now()}}async function t4(t,e){const r=(await e.json()).error;return Il.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function n4({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Tae(t,{refreshToken:e}){const n=n4(t);return n.append("Authorization",Aae(e)),n}async function r4(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Cae(t){return Number(t.replace("s","000"))}function Aae(t){return`${XV} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rae({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=ZV(t),s=n4(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:XV,appId:t.appId,sdkVersion:YV},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await r4(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:e4(c.authToken)}}else throw await t4("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iae(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pae=/^[cdef][\w-]{21}$/,A_="";function Nae(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Dae(t);return Pae.test(n)?n:A_}catch{return A_}}function Dae(t){return Iae(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=new Map;function o4(t,e){const n=jy(t);a4(n,e),kae(n,e)}function a4(t,e){const n=i4.get(t);if(n)for(const r of n)r(e)}function kae(t,e){const n=Mae();n&&n.postMessage({key:t,fid:e}),Oae()}let tl=null;function Mae(){return!tl&&"BroadcastChannel"in self&&(tl=new BroadcastChannel("[Firebase] FID Change"),tl.onmessage=t=>{a4(t.data.key,t.data.fid)}),tl}function Oae(){i4.size===0&&tl&&(tl.close(),tl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jae="firebase-installations-database",Lae=1,Pl="firebase-installations-store";let x0=null;function iT(){return x0||(x0=$k(jae,Lae,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Pl)}}})),x0}async function Xg(t,e){const n=jy(t),s=(await iT()).transaction(Pl,"readwrite"),i=s.objectStore(Pl),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&o4(t,e.fid),e}async function l4(t){const e=jy(t),r=(await iT()).transaction(Pl,"readwrite");await r.objectStore(Pl).delete(e),await r.done}async function Ly(t,e){const n=jy(t),s=(await iT()).transaction(Pl,"readwrite"),i=s.objectStore(Pl),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&o4(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oT(t){let e;const n=await Ly(t.appConfig,r=>{const s=Fae(r),i=Vae(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===A_?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Fae(t){const e=t||{fid:Nae(),registrationStatus:0};return c4(e)}function Vae(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Il.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Uae(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Bae(t)}:{installationEntry:e}}async function Uae(t,e){try{const n=await Rae(t,e);return Xg(t.appConfig,n)}catch(n){throw JV(n)&&n.customData.serverCode===409?await l4(t.appConfig):await Xg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Bae(t){let e=await aP(t.appConfig);for(;e.registrationStatus===1;)await s4(100),e=await aP(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await oT(t);return r||n}return e}function aP(t){return Ly(t,e=>{if(!e)throw Il.create("installation-not-found");return c4(e)})}function c4(t){return $ae(t)?{fid:t.fid,registrationStatus:0}:t}function $ae(t){return t.registrationStatus===1&&t.registrationTime+QV<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zae({appConfig:t,heartbeatServiceProvider:e},n){const r=Kae(t,n),s=Tae(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:YV,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await r4(()=>fetch(r,a));if(l.ok){const c=await l.json();return e4(c)}else throw await t4("Generate Auth Token",l)}function Kae(t,{fid:e}){return`${ZV(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aT(t,e=!1){let n;const r=await Ly(t.appConfig,i=>{if(!u4(i))throw Il.create("not-registered");const o=i.authToken;if(!e&&qae(o))return i;if(o.requestStatus===1)return n=Wae(t,e),i;{if(!navigator.onLine)throw Il.create("app-offline");const a=Qae(i);return n=Hae(t,a),a}});return n?await n:r.authToken}async function Wae(t,e){let n=await lP(t.appConfig);for(;n.authToken.requestStatus===1;)await s4(100),n=await lP(t.appConfig);const r=n.authToken;return r.requestStatus===0?aT(t,e):r}function lP(t){return Ly(t,e=>{if(!u4(e))throw Il.create("not-registered");const n=e.authToken;return Yae(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Hae(t,e){try{const n=await zae(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Xg(t.appConfig,r),n}catch(n){if(JV(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await l4(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Xg(t.appConfig,r)}throw n}}function u4(t){return t!==void 0&&t.registrationStatus===2}function qae(t){return t.requestStatus===2&&!Gae(t)}function Gae(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+_ae}function Qae(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Yae(t){return t.requestStatus===1&&t.requestTime+QV<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xae(t){const e=t,{installationEntry:n,registrationPromise:r}=await oT(e);return r?r.catch(console.error):aT(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jae(t,e=!1){const n=t;return await Zae(n),(await aT(n,e)).token}async function Zae(t){const{registrationPromise:e}=await oT(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ele(t){if(!t||!t.options)throw _0("App Configuration");if(!t.name)throw _0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw _0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function _0(t){return Il.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4="installations",tle="installations-internal",nle=t=>{const e=t.getProvider("app").getImmediate(),n=ele(e),r=Sa(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},rle=t=>{const e=t.getProvider("app").getImmediate(),n=Sa(e,d4).getImmediate();return{getId:()=>Xae(n),getToken:s=>Jae(n,s)}};function sle(){$s(new Es(d4,nle,"PUBLIC")),$s(new Es(tle,rle,"PRIVATE"))}sle();Dr(GV,sT);Dr(GV,sT,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg="analytics",ile="firebase_id",ole="origin",ale=60*1e3,lle="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",lT="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new kv("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cle={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Qr=new jl("analytics","Analytics",cle);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ule(t){if(!t.startsWith(lT)){const e=Qr.create("invalid-gtag-resource",{gtagURL:t});return Mr.warn(e.message),""}return t}function h4(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function dle(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function hle(t,e){const n=dle("firebase-js-sdk-policy",{createScriptURL:ule}),r=document.createElement("script"),s=`${lT}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function fle(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function ple(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await h4(n)).find(c=>c.measurementId===s);l&&await e[l.appId]}}catch(a){Mr.error(a)}t("config",s,i)}async function mle(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await h4(n);for(const l of o){const c=a.find(h=>h.measurementId===l),u=c&&e[c.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Mr.error(i)}}function gle(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await mle(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await ple(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Mr.error(a)}}return s}function vle(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=gle(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function yle(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(lT)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wle=30,xle=1e3;class _le{constructor(e={},n=xle){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const f4=new _le;function Ele(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function ble(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:Ele(r)},i=lle.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Qr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function Sle(t,e=f4,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Qr.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Qr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Ale;return setTimeout(async()=>{a.abort()},ale),p4({appId:r,apiKey:s,measurementId:i},o,a,e)}async function p4(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=f4){var i;const{appId:o,measurementId:a}=t;try{await Tle(r,e)}catch(l){if(a)return Mr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await ble(t);return s.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!Cle(c)){if(s.deleteThrottleMetadata(o),a)return Mr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?DA(n,s.intervalMillis,wle):DA(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return s.setThrottleMetadata(o,h),Mr.debug(`Calling attemptFetch again in ${u} millis`),p4(t,h,r,s)}}function Tle(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Qr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Cle(t){if(!(t instanceof ts)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Ale{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Rle(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ile(){if(Fk())try{await Vk()}catch(t){return Mr.warn(Qr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Mr.warn(Qr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Ple(t,e,n,r,s,i,o){var a;const l=Sle(t);l.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&Mr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>Mr.error(g)),e.push(l);const c=Ile().then(g=>{if(g)return r.getId()}),[u,h]=await Promise.all([l,c]);yle(i)||hle(i,u.measurementId),s("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[ole]="firebase",p.update=!0,h!=null&&(p[ile]=h),s("config",u.measurementId,p),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nle{constructor(e){this.app=e}_delete(){return delete ih[this.app.options.appId],Promise.resolve()}}let ih={},cP=[];const uP={};let E0="dataLayer",Dle="gtag",dP,m4,hP=!1;function kle(){const t=[];if(Lk()&&t.push("This is a browser extension environment."),g6()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Qr.create("invalid-analytics-context",{errorInfo:e});Mr.warn(n.message)}}function Mle(t,e,n){kle();const r=t.options.appId;if(!r)throw Qr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Mr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Qr.create("no-api-key");if(ih[r]!=null)throw Qr.create("already-exists",{id:r});if(!hP){fle(E0);const{wrappedGtag:i,gtagCore:o}=vle(ih,cP,uP,E0,Dle);m4=i,dP=o,hP=!0}return ih[r]=Ple(t,cP,uP,e,dP,E0,n),new Nle(t)}function Ole(t=Mv()){t=un(t);const e=Sa(t,Jg);return e.isInitialized()?e.getImmediate():jle(t)}function jle(t,e={}){const n=Sa(t,Jg);if(n.isInitialized()){const s=n.getImmediate();if(Dh(e,n.getOptions()))return s;throw Qr.create("already-initialized")}return n.initialize({options:e})}function g4(t,e,n,r){t=un(t),Rle(m4,ih[t.app.options.appId],e,n,r).catch(s=>Mr.error(s))}const fP="@firebase/analytics",pP="0.10.8";function Lle(){$s(new Es(Jg,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return Mle(r,s,n)},"PUBLIC")),$s(new Es("analytics-internal",t,"PRIVATE")),Dr(fP,pP),Dr(fP,pP,"esm2017");function t(e){try{const n=e.getProvider(Jg).getImmediate();return{logEvent:(r,s,i)=>g4(n,r,s,i)}}catch(n){throw Qr.create("interop-component-reg-failed",{reason:n})}}}Lle();const Fle={apiKey:"AIzaSyCcGOA39OO2Wvae8CZj1rMsuueF-4Zbs7Y",authDomain:"cob-chatbot.firebaseapp.com",projectId:"cob-chatbot",storageBucket:"cob-chatbot.appspot.com",messagingSenderId:"275602489097",appId:"1:275602489097:web:5c490d86e9f69e1314ddd8",measurementId:"G-65F7KP2KRQ"},cT=zk(Fle),Vle=Ole(cT),Fy=Nie(cT),Vy=mae(cT),R_=async(t,e,n)=>{const r=Oy(Vy,`${e}/${n}`),s=await dae(r,t);if(!s.metadata||s.metadata.fullPath!==r.fullPath)throw new Error(`Error uploading file ${t.name}, metadata does not exist or path does not match`);return await fae(s.ref)},v4=async t=>{const e=Oy(Vy,t),n=await vae(e),r=t.split("/").pop()||"unknown_file";return new File([n],r,{type:n.type})},Ule=async(t,e)=>{const n=Oy(Vy,`${t}/${e}`);return await hae(n)},Ble=async t=>{try{const e=Oy(Vy,t);await pae(e),gt("File deleted successfully!")}catch(e){e instanceof Error&&gt(e.message)}},y4=async(t,e,n,r=!1)=>{try{const s=qS(Fy,t,e);await Qie(s,n,{merge:r})}catch(s){s instanceof Error&&gt(s.message)}},w4=async(t,e)=>{const n=qS(Fy,t,e),r=await Gie(n);if(r.exists())return r.data();throw new Error("Document does not exist")},$le=(t,e,n)=>{try{const r=qS(Fy,t,e);return Yie(r,i=>{i.exists()?n(i.data()):(gt("No such document!"),n(null))})}catch(r){throw r}},zle=async()=>{var t;try{const e=Iie(Fy,"users"),r=(t=(await Jie(e,{averageRating:Wie("rating")})).data().averageRating)==null?void 0:t.toFixed(2);if(!r)throw new Error("Failed to retrieve average rating from users collection");return r}catch(e){return console.error(e),null}},x4=t=>{const{file:e}=vt(w=>w.formData),n=vt(w=>w.setFormData),r=vt(w=>w.setFile),[s,i]=m.useState(!1),[o,a]=m.useState(!1),l=m.useRef(null),c=m.useRef(null);return{file:e,setFile:r,isLinkDialogOpen:o,setIsLinkDialogOpen:a,handleInsertLink:(w,v)=>{const x=c.current;if(x){const _=x.selectionStart,y=x.selectionEnd,b=t.substring(0,_)+`<${v}>{=${w}=}`+t.substring(y);n("answer",b),x.focus(),x.setSelectionRange(_+w.length+4,_+v.length+4)}},handleFileChange:async w=>{w.target.files&&w.target.files[0]&&r(w.target.files[0])},handleRemoveFile:async()=>{e&&(n("fileUrl",null),r(null),l.current&&(l.current.value=""))},fileInputRef:l,answerTextAreaRef:c,getFileData:async w=>{try{i(!0);const v=zh(w);if(!v)return;const x=await v4(`knowledge-files/${v}`);r(x)}catch(v){if(v instanceof Error){gt(v.message??"An error occured while getting file data",!0);return}console.error(v)}finally{i(!1)}},isFetchingFileData:s}},Kle=()=>{const t=vt(h=>h.formData),e=vt(h=>h.setFormData),{isLinkDialogOpen:n,setIsLinkDialogOpen:r,handleFileChange:s,handleInsertLink:i,handleRemoveFile:o,fileInputRef:a,answerTextAreaRef:l,getFileData:c,isFetchingFileData:u}=x4(t.answer);return m.useEffect(()=>{(async()=>{await c(t.fileUrl)})()},[t.fileUrl]),d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-fit",children:d.jsx(wy,{tooltip:Ane,children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("label",{className:"cursor-pointer font-medium ",children:"Answer"}),d.jsx(Kv,{className:"size-4 text-[#64748b] cursor-pointer"})]})})}),d.jsx(nF,{answer:t.answer,handleTextChange:e,onFileChange:s,fileRef:a,textAreaRef:l,isLinkDropDownVisible:n,setIsLinkDropDownVisible:r,onInsertLink:i}),u?d.jsx(Se,{className:"w-full h-[70px]"}):t.file?d.jsx(rF,{file:t.file,removeFile:o}):null]})},Wle=t=>{const{knowledgeBaseName:e,...n}=t;return{knowledgeBaseName:e,knowledgeEntry:n}},Hle=async()=>{const{success:t,knowledgeBase:e}=await Kf("/api/knowledge/base");if(!t)throw new Error("Failed to fetch knowledge collection");return e},qle=async t=>{const{success:e,knowledgeEntry:n}=await Kf(`/api/knowledge/${t}`);if(!e)throw new Error(`Failed to fetch knowledge base ${t} entry`);return n},Gle=async t=>{const{knowledgeBaseName:e,...n}=t,r={knowledgeBaseName:e,knowledgeEntries:[{...n}]},{success:s,message:i}=await Ra("/api/knowledge",{},r);if(!s)throw new Error(i);return i},Qle=async t=>{const e=Wle(t),{success:n,message:r}=await Ra("/api/knowledge/entry",{},e);if(!n)throw new Error(r)},Yle=async(t,e)=>{const n={knowledgeEntryIntent:t,knowledgeEntry:e},{success:r,message:s}=await sy("/api/knowledge/entry",{},n);if(!r)throw new Error(s)},Xle=async t=>{const{knowledgeBaseName:e,newKnowledgeBaseName:n}=t,r={knowledgeBaseName:e,newKnowledgeBaseName:n},{success:s,message:i}=await sy("/api/knowledge/base",{},r);if(!s)throw new Error(i);return i},Jle=async t=>{const{success:e,message:n}=await Wf(`/api/knowledge/${t}`);if(!e)throw new Error(n)},Zle=async t=>{const{success:e,message:n}=await Wf(`/api/knowledge/entry/${t}`);if(!e)throw new Error(n);return n},Ht=ao(t=>({knowledgeCollection:{},knowledgeBaseNameList:null,selectedKnowledgeBaseEntryList:null,selectedKnowledgeBaseName:"",selectedKnowledgeBaseItem:"",selectedKnowledgeEntry:null,selectedKnowledgeEntryIntentItem:"",selectedKnowledgeBaseArchiveItem:{id:null,name:null},selectedKnowledgeEntryArchiveItem:{id:null,name:null},updateKnowledgeCollection:e=>{t(()=>({knowledgeCollection:e}))},setKnowledgeBaseNameList:e=>{t(()=>({knowledgeBaseNameList:e}))},setSelectedKnowledgeBaseEntryList:e=>{t(()=>({selectedKnowledgeBaseEntryList:e}))},setSelectedKnowledgeBaseName:e=>{t(()=>({selectedKnowledgeBaseName:e}))},setSelectedKnowledgeBaseItem:e=>{t(()=>({selectedKnowledgeBaseItem:e}))},setSelectedKnowledgeEntry:e=>{t(()=>({selectedKnowledgeEntry:e}))},setSelectedKnowledgeEntryIntentItem:e=>t({selectedKnowledgeEntryIntentItem:e}),setSelectedKnowledgeBaseArchiveItem:e=>t({selectedKnowledgeBaseArchiveItem:e}),setSelectedKnowledgeEntryArchiveItem:e=>t({selectedKnowledgeEntryArchiveItem:e})})),ece="knowledge-files",mP="image",tce=async t=>{const e=`${ece}/${t}`;await Ble(e)},nce=(t,e)=>{const n=new Set([...Object.keys(t),...Object.keys(e)]);return Array.from(n).reduce((r,s)=>{if(t[s]instanceof Array&&e[s]instanceof Array){t[s].forEach((a,l)=>{if(a!==e[s][l]){r[s]||(r[s]=[]);const c={index:l,value:e[s][l]};r[s].push(c)}});const i=t[s].length,o=e[s].length;if(i<o){r.newDocuments=[];for(let a=i;a<o;a++)e[s][a]&&r.newDocuments.push(e[s][a])}return r}return t[s]!==e[s]&&(r[s]=e[s]),r},{})},rce=1,sce=1e6;let b0=0;function ice(){return b0=(b0+1)%Number.MAX_SAFE_INTEGER,b0.toString()}const S0=new Map,gP=t=>{if(S0.has(t))return;const e=setTimeout(()=>{S0.delete(t),oh({type:"REMOVE_TOAST",toastId:t})},sce);S0.set(t,e)},oce=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,rce)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?gP(n):t.toasts.forEach(r=>{gP(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},$m=[];let zm={toasts:[]};function oh(t){zm=oce(zm,t),$m.forEach(e=>{e(zm)})}function ace({...t}){const e=ice(),n=s=>oh({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>oh({type:"DISMISS_TOAST",toastId:e});return oh({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function _4(){const[t,e]=m.useState(zm);return m.useEffect(()=>($m.push(e),()=>{const n=$m.indexOf(e);n>-1&&$m.splice(n,1)}),[t]),{...t,toast:ace,dismiss:n=>oh({type:"DISMISS_TOAST",toastId:n})}}const yi=()=>{const{toast:t}=_4();return t},vP="knowledge-files",Km=async t=>{try{const n=(await Ule(vP,t.name)).size||0,r=t.size;if(n===r)throw gt(`Knowledge file ${t.name} already exists with the same size, skipping upload`),new Error(`Knowledge file ${t.name} already exist`);gt(`File ${t.name} exists but with a different size. Uploading new file.`)}catch(e){if(e instanceof ts&&e.code==="storage/object-not-found")return gt(`No exiting file found, uploading the file: ${t.name}`),await R_(t,vP,t.name);throw e}},lce=()=>{const t=yi(),e=Ht(g=>g.selectedKnowledgeEntry),n=Ht(g=>g.setSelectedKnowledgeEntry),r=vt(g=>g.setFormData),s=vt(g=>g.formData),i=vt(g=>g.setDocuments),o=vt(g=>g.clearFormData),[a,l]=m.useState(!1);m.useEffect(()=>{if(!e)return;const{intent:g,documents:w,answer:v,fileUrl:x}=e;return r("intent",g),w.forEach((_,y)=>{i(_,y)}),r("answer",v),r("fileUrl",x),()=>{o()}},[]);const c=async g=>{const w=zh(g);return await v4(`knowledge-files/${w}`)},u=async(g,w)=>{if(!w)return await Km(g);const v=await c(w);if(v.name===g.name&&v.size===g.size)return w;if(v.name!==g.name){const _=await Km(g);return await h(w),_}return await Km(g)},h=async g=>{const w=zh(g);if(!w)return gt("Unable to extract filename from the file url",!0);await tce(w)};return{handleSubmitForm:async()=>{if(e)try{l(!0);const{knowledgeBaseName:g,file:w,...v}=s,x=nce(e,v);"fileUrl"in x&&x.fileUrl===null&&(gt("Detected file removal, deleting from storage"),await h(e.fileUrl));let _;w&&(gt("Updating knowledge file"),_=await u(w,e.fileUrl),r("fileUrl",_??null));const y={...v,..._&&{fileUrl:_}};await Yle(e.intent,y),gt("Knowledge Entry updated successfully."),n(y),t({title:"Knowledge Entry Updated Successfully",description:tt()})}catch(g){const w=g instanceof Error?g.message:"Unknown error occurred";t({title:w,description:tt(),variant:"destructive"})}finally{l(!1)}},selectedKnowledgeEntry:e,isLoading:a}},uT=({heading:t,description:e})=>d.jsx("div",{className:"h-[450px] md:h-[600px] w-full flex justify-center items-center mt-2 pb-10",children:d.jsxs("section",{className:"flex flex-col justify-center items-center",children:[d.jsx(Kv,{className:"w-12 h-12 text-blue-500 mb-4"}),d.jsx("h2",{className:"text-2xl font-semibold mb-2",children:t}),d.jsx("p",{className:"text-gray-600 mb-4",children:e})]})}),Na=()=>d.jsx(s8,{className:"mr-2 size-5 animate-spin"}),cce=()=>{const{handleSubmitForm:t,selectedKnowledgeEntry:e,isLoading:n}=lce(),r=ft(s=>s.admin);return e?d.jsx(L2,{value:"entryDetails",className:"mt-2",children:d.jsx("div",{className:"h-[450px] md:h-[600px] w-full overflow-y-auto text-sm scrollbar-slim",children:d.jsxs("div",{className:"space-y-3 px-4 pb-4",children:[d.jsx(Pne,{}),d.jsx(Nne,{}),d.jsx(Kle,{}),(r==null?void 0:r.role)!=="viewer"&&d.jsx(Xe,{variant:"default",disabled:n,onClick:async()=>await t(),className:"w-20",children:n?d.jsx(Na,{}):"Save"})]})})}):d.jsx(uT,{heading:"No Knowledge Entry Selected",description:"Select a knowledge entry to view its contents here."})},E4=({onRenameKnowledge:t,onDeleteKnowledge:e})=>d.jsxs(Uf,{children:[d.jsx(Bf,{asChild:!0,children:d.jsx(pb,{className:"text-zinc-400 size-6 hover:text-zinc-500 transition-colors"})}),d.jsxs(Lu,{align:"end",className:"w-auto text-sm bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[t&&d.jsxs(ti,{className:"flex items-center p-1.5 hover:bg-zinc-100 rounded-sm",onClick:n=>{n.stopPropagation(),t()},children:[d.jsx(nO,{className:"mr-2 h-4 w-4"}),d.jsx("p",{children:"Rename"})]}),d.jsxs(ti,{className:"flex items-center p-1.5 hover:bg-zinc-100 rounded-sm text-red-400 focus:text-red-400",onClick:n=>{n.stopPropagation(),e()},children:[d.jsx(zv,{className:"mr-2 h-4 w-4"}),d.jsx("p",{children:"Move to Archive"})]})]})]}),Jr=ao(t=>({dialogs:{},openDialog:e=>t(n=>({dialogs:{...n.dialogs,[e]:!0}})),closeDialog:e=>t(n=>({dialogs:{...n.dialogs,[e]:!1}})),toggleDialog:e=>t(n=>({dialogs:{...n.dialogs,[e]:!n.dialogs[e]}})),setDialogState:(e,n)=>t(r=>({dialogs:{...r.dialogs,[e]:n}}))})),uce=({intent:t,onItemClick:e})=>{const n=ft(a=>a.admin),r=Ht(a=>a.selectedKnowledgeEntry),s=Ht(a=>a.setSelectedKnowledgeEntryIntentItem),i=Jr(a=>a.openDialog),o=()=>{s(t),i("showConfirmDeleteKnowledgeEntryDialog")};return d.jsxs("div",{className:`flex justify-between p-2 rounded-md cursor-pointer ${(r==null?void 0:r.intent)===t?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,onClick:e,children:[d.jsx("p",{className:"max-w-[800px] truncate",title:t,children:t}),(n==null?void 0:n.role)!=="viewer"&&d.jsx(Xe,{className:"bg-transparent hover:bg-transparent size-8 p-0 h-fit ",children:d.jsx(E4,{onDeleteKnowledge:o})})]})},dce=({knowledgeEntries:t,handleTabChange:e})=>{const n=Ht(s=>s.setSelectedKnowledgeEntry),r=s=>{n(s),e("entryDetails")};return d.jsx("div",{className:"space-y-1",children:t==null?void 0:t.map((s,i)=>d.jsx(uce,{intent:s.intent,onItemClick:()=>r(s)},i))})},ah=["knowledgeBaseList"],Wm=["knowledgeEntry"],bd=["adminList"],Zg=["knowledgeBaseArhives"],ev=["knowledgeEntriesArchive"],yP=["Queries"];var Wu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Eu=typeof window>"u"||"Deno"in globalThis;function us(){}function hce(t,e){return typeof t=="function"?t(e):t}function I_(t){return typeof t=="number"&&t>=0&&t!==1/0}function b4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Fc(t,e){return typeof t=="function"?t(e):t}function Ms(t,e){return typeof t=="function"?t(e):t}function wP(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==dT(o,e.options))return!1}else if(!nf(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function xP(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Nl(e.options.mutationKey)!==Nl(i))return!1}else if(!nf(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function dT(t,e){return((e==null?void 0:e.queryKeyHashFn)||Nl)(t)}function Nl(t){return JSON.stringify(t,(e,n)=>P_(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function nf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!nf(t[n],e[n])):!1}function S4(t,e){if(t===e)return t;const n=_P(t)&&_P(e);if(n||P_(t)&&P_(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const u=n?c:i[c];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=S4(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function tv(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function _P(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function P_(t){if(!EP(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!EP(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function EP(t){return Object.prototype.toString.call(t)==="[object Object]"}function fce(t){return new Promise(e=>{setTimeout(e,t)})}function N_(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?S4(t,e):e}function pce(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function mce(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var T4=Symbol();function C4(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===T4?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var sl,jo,Bc,iN,gce=(iN=class extends Wu{constructor(){super();be(this,sl,void 0);be(this,jo,void 0);be(this,Bc,void 0);me(this,Bc,e=>{if(!Eu&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){F(this,jo)||this.setEventListener(F(this,Bc))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,jo))==null||e.call(this),me(this,jo,void 0))}setEventListener(e){var n;me(this,Bc,e),(n=F(this,jo))==null||n.call(this),me(this,jo,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){F(this,sl)!==e&&(me(this,sl,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof F(this,sl)=="boolean"?F(this,sl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},sl=new WeakMap,jo=new WeakMap,Bc=new WeakMap,iN),hT=new gce,$c,Lo,zc,oN,vce=(oN=class extends Wu{constructor(){super();be(this,$c,!0);be(this,Lo,void 0);be(this,zc,void 0);me(this,zc,e=>{if(!Eu&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){F(this,Lo)||this.setEventListener(F(this,zc))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,Lo))==null||e.call(this),me(this,Lo,void 0))}setEventListener(e){var n;me(this,zc,e),(n=F(this,Lo))==null||n.call(this),me(this,Lo,e(this.setOnline.bind(this)))}setOnline(e){F(this,$c)!==e&&(me(this,$c,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return F(this,$c)}},$c=new WeakMap,Lo=new WeakMap,zc=new WeakMap,oN),nv=new vce;function yce(t){return Math.min(1e3*2**t,3e4)}function A4(t){return(t??"online")==="online"?nv.isOnline():!0}var R4=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function T0(t){return t instanceof R4}function I4(t){let e=!1,n=0,r=!1,s,i,o;const a=new Promise((_,y)=>{i=_,o=y}),l=_=>{var y;r||(w(new R4(_)),(y=t.abort)==null||y.call(t))},c=()=>{e=!0},u=()=>{e=!1},h=()=>hT.isFocused()&&(t.networkMode==="always"||nv.isOnline())&&t.canRun(),p=()=>A4(t.networkMode)&&t.canRun(),g=_=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,_),s==null||s(),i(_))},w=_=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,_),s==null||s(),o(_))},v=()=>new Promise(_=>{var y;s=b=>{(r||h())&&_(b)},(y=t.onPause)==null||y.call(t)}).then(()=>{var _;s=void 0,r||(_=t.onContinue)==null||_.call(t)}),x=()=>{if(r)return;let _;const y=n===0?t.initialPromise:void 0;try{_=y??t.fn()}catch(b){_=Promise.reject(b)}Promise.resolve(_).then(g).catch(b=>{var E;if(r)return;const A=t.retry??(Eu?0:3),P=t.retryDelay??yce,O=typeof P=="function"?P(n,b):P,T=A===!0||typeof A=="number"&&n<A||typeof A=="function"&&A(n,b);if(e||!T){w(b);return}n++,(E=t.onFail)==null||E.call(t,n,b),fce(O).then(()=>h()?void 0:v()).then(()=>{e?w(b):x()})})};return{promise:a,cancel:l,continue:()=>(s==null||s(),a),cancelRetry:c,continueRetry:u,canStart:p,start:()=>(p()?x():v().then(x),a)}}function wce(){let t=[],e=0,n=p=>{p()},r=p=>{p()},s=p=>setTimeout(p,0);const i=p=>{s=p},o=p=>{let g;e++;try{g=p()}finally{e--,e||c()}return g},a=p=>{e?t.push(p):s(()=>{n(p)})},l=p=>(...g)=>{a(()=>{p(...g)})},c=()=>{const p=t;t=[],p.length&&s(()=>{r(()=>{p.forEach(g=>{n(g)})})})};return{batch:o,batchCalls:l,schedule:a,setNotifyFunction:p=>{n=p},setBatchNotifyFunction:p=>{r=p},setScheduler:i}}var bn=wce(),il,aN,P4=(aN=class{constructor(){be(this,il,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),I_(this.gcTime)&&me(this,il,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Eu?1/0:5*60*1e3))}clearGcTimeout(){F(this,il)&&(clearTimeout(F(this,il)),me(this,il,void 0))}},il=new WeakMap,aN),Kc,Wc,cs,Zn,lf,ol,Ps,Ti,lN,xce=(lN=class extends P4{constructor(e){super();be(this,Ps);be(this,Kc,void 0);be(this,Wc,void 0);be(this,cs,void 0);be(this,Zn,void 0);be(this,lf,void 0);be(this,ol,void 0);me(this,ol,!1),me(this,lf,e.defaultOptions),this.setOptions(e.options),this.observers=[],me(this,cs,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,me(this,Kc,_ce(this.options)),this.state=e.state??F(this,Kc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=F(this,Zn))==null?void 0:e.promise}setOptions(e){this.options={...F(this,lf),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,cs).remove(this)}setData(e,n){const r=N_(this.state.data,e,this.options);return Ye(this,Ps,Ti).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Ye(this,Ps,Ti).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=F(this,Zn))==null?void 0:r.promise;return(s=F(this,Zn))==null||s.cancel(e),n?n.then(us).catch(us):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,Kc))}isActive(){return this.observers.some(e=>Ms(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!b4(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=F(this,Zn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=F(this,Zn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),F(this,cs).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(F(this,Zn)&&(F(this,ol)?F(this,Zn).cancel({revert:!0}):F(this,Zn).cancelRetry()),this.scheduleGc()),F(this,cs).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ye(this,Ps,Ti).call(this,{type:"invalidate"})}fetch(e,n){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(F(this,Zn))return F(this,Zn).continueRetry(),F(this,Zn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(me(this,ol,!0),r.signal)})},i=()=>{const h=C4(this.options,n),p={queryKey:this.queryKey,meta:this.meta};return s(p),me(this,ol,!1),this.options.persister?this.options.persister(h,p,this):h(p)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),me(this,Wc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Ye(this,Ps,Ti).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=h=>{var p,g,w,v;T0(h)&&h.silent||Ye(this,Ps,Ti).call(this,{type:"error",error:h}),T0(h)||((g=(p=F(this,cs).config).onError)==null||g.call(p,h,this),(v=(w=F(this,cs).config).onSettled)==null||v.call(w,this.state.data,h,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return me(this,Zn,I4({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var p,g,w,v;if(h===void 0){a(new Error(`${this.queryHash} data is undefined`));return}this.setData(h),(g=(p=F(this,cs).config).onSuccess)==null||g.call(p,h,this),(v=(w=F(this,cs).config).onSettled)==null||v.call(w,h,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(h,p)=>{Ye(this,Ps,Ti).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{Ye(this,Ps,Ti).call(this,{type:"pause"})},onContinue:()=>{Ye(this,Ps,Ti).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),F(this,Zn).start()}},Kc=new WeakMap,Wc=new WeakMap,cs=new WeakMap,Zn=new WeakMap,lf=new WeakMap,ol=new WeakMap,Ps=new WeakSet,Ti=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...N4(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return T0(s)&&s.revert&&F(this,Wc)?{...F(this,Wc),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),bn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),F(this,cs).notify({query:this,type:"updated",action:e})})},lN);function N4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:A4(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function _ce(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Qs,cN,Ece=(cN=class extends Wu{constructor(e={}){super();be(this,Qs,void 0);this.config=e,me(this,Qs,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??dT(s,n);let o=this.get(i);return o||(o=new xce({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){F(this,Qs).has(e.queryHash)||(F(this,Qs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=F(this,Qs).get(e.queryHash);n&&(e.destroy(),n===e&&F(this,Qs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){bn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return F(this,Qs).get(e)}getAll(){return[...F(this,Qs).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>wP(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>wP(e,r)):n}notify(e){bn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){bn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){bn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Qs=new WeakMap,cN),Ys,ur,al,Xs,bo,uN,bce=(uN=class extends P4{constructor(e){super();be(this,Xs);be(this,Ys,void 0);be(this,ur,void 0);be(this,al,void 0);this.mutationId=e.mutationId,me(this,ur,e.mutationCache),me(this,Ys,[]),this.state=e.state||D4(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){F(this,Ys).includes(e)||(F(this,Ys).push(e),this.clearGcTimeout(),F(this,ur).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){me(this,Ys,F(this,Ys).filter(n=>n!==e)),this.scheduleGc(),F(this,ur).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){F(this,Ys).length||(this.state.status==="pending"?this.scheduleGc():F(this,ur).remove(this))}continue(){var e;return((e=F(this,al))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,l,c,u,h,p,g,w,v,x,_,y,b,A,P,O,T;me(this,al,I4({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(E,I)=>{Ye(this,Xs,bo).call(this,{type:"failed",failureCount:E,error:I})},onPause:()=>{Ye(this,Xs,bo).call(this,{type:"pause"})},onContinue:()=>{Ye(this,Xs,bo).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,ur).canRun(this)}));const n=this.state.status==="pending",r=!F(this,al).canStart();try{if(!n){Ye(this,Xs,bo).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=F(this,ur).config).onMutate)==null?void 0:i.call(s,e,this));const I=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));I!==this.state.context&&Ye(this,Xs,bo).call(this,{type:"pending",context:I,variables:e,isPaused:r})}const E=await F(this,al).start();return await((c=(l=F(this,ur).config).onSuccess)==null?void 0:c.call(l,E,e,this.state.context,this)),await((h=(u=this.options).onSuccess)==null?void 0:h.call(u,E,e,this.state.context)),await((g=(p=F(this,ur).config).onSettled)==null?void 0:g.call(p,E,null,this.state.variables,this.state.context,this)),await((v=(w=this.options).onSettled)==null?void 0:v.call(w,E,null,e,this.state.context)),Ye(this,Xs,bo).call(this,{type:"success",data:E}),E}catch(E){try{throw await((_=(x=F(this,ur).config).onError)==null?void 0:_.call(x,E,e,this.state.context,this)),await((b=(y=this.options).onError)==null?void 0:b.call(y,E,e,this.state.context)),await((P=(A=F(this,ur).config).onSettled)==null?void 0:P.call(A,void 0,E,this.state.variables,this.state.context,this)),await((T=(O=this.options).onSettled)==null?void 0:T.call(O,void 0,E,e,this.state.context)),E}finally{Ye(this,Xs,bo).call(this,{type:"error",error:E})}}finally{F(this,ur).runNext(this)}}},Ys=new WeakMap,ur=new WeakMap,al=new WeakMap,Xs=new WeakSet,bo=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),bn.batch(()=>{F(this,Ys).forEach(r=>{r.onMutationUpdate(e)}),F(this,ur).notify({mutation:this,type:"updated",action:e})})},uN);function D4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Br,cf,dN,Sce=(dN=class extends Wu{constructor(e={}){super();be(this,Br,void 0);be(this,cf,void 0);this.config=e,me(this,Br,new Map),me(this,cf,Date.now())}build(e,n,r){const s=new bce({mutationCache:this,mutationId:++Sp(this,cf)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=am(e),r=F(this,Br).get(n)??[];r.push(e),F(this,Br).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=am(e);if(F(this,Br).has(n)){const s=(r=F(this,Br).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?F(this,Br).delete(n):F(this,Br).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=F(this,Br).get(am(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=F(this,Br).get(am(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){bn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...F(this,Br).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>xP(n,r))}findAll(e={}){return this.getAll().filter(n=>xP(e,n))}notify(e){bn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return bn.batch(()=>Promise.all(e.map(n=>n.continue().catch(us))))}},Br=new WeakMap,cf=new WeakMap,dN);function am(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function Tce(t){return{onFetch:(e,n)=>{const r=async()=>{var w,v,x,_,y;const s=e.options,i=(x=(v=(w=e.fetchOptions)==null?void 0:w.meta)==null?void 0:v.fetchMore)==null?void 0:x.direction,o=((_=e.state.data)==null?void 0:_.pages)||[],a=((y=e.state.data)==null?void 0:y.pageParams)||[],l={pages:[],pageParams:[]};let c=!1;const u=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?c=!0:e.signal.addEventListener("abort",()=>{c=!0}),e.signal)})},h=C4(e.options,e.fetchOptions),p=async(b,A,P)=>{if(c)return Promise.reject();if(A==null&&b.pages.length)return Promise.resolve(b);const O={queryKey:e.queryKey,pageParam:A,direction:P?"backward":"forward",meta:e.options.meta};u(O);const T=await h(O),{maxPages:E}=e.options,I=P?mce:pce;return{pages:I(b.pages,T,E),pageParams:I(b.pageParams,A,E)}};let g;if(i&&o.length){const b=i==="backward",A=b?Cce:bP,P={pages:o,pageParams:a},O=A(s,P);g=await p(P,O,b)}else{g=await p(l,a[0]??s.initialPageParam);const b=t??o.length;for(let A=1;A<b;A++){const P=bP(s,g);if(P==null)break;g=await p(g,P)}}return g};e.options.persister?e.fetchFn=()=>{var s,i;return(i=(s=e.options).persister)==null?void 0:i.call(s,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=r}}}function bP(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Cce(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Jt,Fo,Vo,Hc,qc,Uo,Gc,Qc,hN,Ace=(hN=class{constructor(t={}){be(this,Jt,void 0);be(this,Fo,void 0);be(this,Vo,void 0);be(this,Hc,void 0);be(this,qc,void 0);be(this,Uo,void 0);be(this,Gc,void 0);be(this,Qc,void 0);me(this,Jt,t.queryCache||new Ece),me(this,Fo,t.mutationCache||new Sce),me(this,Vo,t.defaultOptions||{}),me(this,Hc,new Map),me(this,qc,new Map),me(this,Uo,0)}mount(){Sp(this,Uo)._++,F(this,Uo)===1&&(me(this,Gc,hT.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,Jt).onFocus())})),me(this,Qc,nv.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,Jt).onOnline())})))}unmount(){var t,e;Sp(this,Uo)._--,F(this,Uo)===0&&((t=F(this,Gc))==null||t.call(this),me(this,Gc,void 0),(e=F(this,Qc))==null||e.call(this),me(this,Qc,void 0))}isFetching(t){return F(this,Jt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,Fo).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,Jt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=F(this,Jt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Fc(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return F(this,Jt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=F(this,Jt).get(r.queryHash),i=s==null?void 0:s.state.data,o=hce(e,i);if(o!==void 0)return F(this,Jt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return bn.batch(()=>F(this,Jt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,Jt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=F(this,Jt);bn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=F(this,Jt),r={type:"active",...t};return bn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=bn.batch(()=>F(this,Jt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(us).catch(us)}invalidateQueries(t={},e={}){return bn.batch(()=>{if(F(this,Jt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=bn.batch(()=>F(this,Jt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(us)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(us)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=F(this,Jt).build(this,e);return n.isStaleByTime(Fc(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(us).catch(us)}fetchInfiniteQuery(t){return t.behavior=Tce(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(us).catch(us)}resumePausedMutations(){return nv.isOnline()?F(this,Fo).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,Jt)}getMutationCache(){return F(this,Fo)}getDefaultOptions(){return F(this,Vo)}setDefaultOptions(t){me(this,Vo,t)}setQueryDefaults(t,e){F(this,Hc).set(Nl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...F(this,Hc).values()];let n={};return e.forEach(r=>{nf(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){F(this,qc).set(Nl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...F(this,qc).values()];let n={};return e.forEach(r=>{nf(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...F(this,Vo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=dT(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===T4&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,Vo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,Jt).clear(),F(this,Fo).clear()}},Jt=new WeakMap,Fo=new WeakMap,Vo=new WeakMap,Hc=new WeakMap,qc=new WeakMap,Uo=new WeakMap,Gc=new WeakMap,Qc=new WeakMap,hN),Er,st,uf,dr,ll,Yc,Js,df,Xc,Jc,cl,ul,Bo,Zc,dl,Fd,hf,D_,ff,k_,pf,M_,mf,O_,gf,j_,vf,L_,yf,F_,mv,k4,fN,Rce=(fN=class extends Wu{constructor(e,n){super();be(this,dl);be(this,hf);be(this,ff);be(this,pf);be(this,mf);be(this,gf);be(this,vf);be(this,yf);be(this,mv);be(this,Er,void 0);be(this,st,void 0);be(this,uf,void 0);be(this,dr,void 0);be(this,ll,void 0);be(this,Yc,void 0);be(this,Js,void 0);be(this,df,void 0);be(this,Xc,void 0);be(this,Jc,void 0);be(this,cl,void 0);be(this,ul,void 0);be(this,Bo,void 0);be(this,Zc,new Set);this.options=n,me(this,Er,e),me(this,Js,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(F(this,st).addObserver(this),SP(F(this,st),this.options)?Ye(this,dl,Fd).call(this):this.updateResult(),Ye(this,mf,O_).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return V_(F(this,st),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return V_(F(this,st),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ye(this,gf,j_).call(this),Ye(this,vf,L_).call(this),F(this,st).removeObserver(this)}setOptions(e,n){const r=this.options,s=F(this,st);if(this.options=F(this,Er).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ms(this.options.enabled,F(this,st))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ye(this,yf,F_).call(this),F(this,st).setOptions(this.options),r._defaulted&&!tv(this.options,r)&&F(this,Er).getQueryCache().notify({type:"observerOptionsUpdated",query:F(this,st),observer:this});const i=this.hasListeners();i&&TP(F(this,st),s,this.options,r)&&Ye(this,dl,Fd).call(this),this.updateResult(n),i&&(F(this,st)!==s||Ms(this.options.enabled,F(this,st))!==Ms(r.enabled,F(this,st))||Fc(this.options.staleTime,F(this,st))!==Fc(r.staleTime,F(this,st)))&&Ye(this,hf,D_).call(this);const o=Ye(this,ff,k_).call(this);i&&(F(this,st)!==s||Ms(this.options.enabled,F(this,st))!==Ms(r.enabled,F(this,st))||o!==F(this,Bo))&&Ye(this,pf,M_).call(this,o)}getOptimisticResult(e){const n=F(this,Er).getQueryCache().build(F(this,Er),e),r=this.createResult(n,e);return Pce(this,r)&&(me(this,dr,r),me(this,Yc,this.options),me(this,ll,F(this,st).state)),r}getCurrentResult(){return F(this,dr)}trackResult(e,n){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),e[s])})}),r}trackProp(e){F(this,Zc).add(e)}getCurrentQuery(){return F(this,st)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=F(this,Er).defaultQueryOptions(e),r=F(this,Er).getQueryCache().build(F(this,Er),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Ye(this,dl,Fd).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),F(this,dr)))}createResult(e,n){var T;const r=F(this,st),s=this.options,i=F(this,dr),o=F(this,ll),a=F(this,Yc),c=e!==r?e.state:F(this,uf),{state:u}=e;let h={...u},p=!1,g;if(n._optimisticResults){const E=this.hasListeners(),I=!E&&SP(e,n),R=E&&TP(e,r,n,s);(I||R)&&(h={...h,...N4(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:w,errorUpdatedAt:v,status:x}=h;if(n.select&&h.data!==void 0)if(i&&h.data===(o==null?void 0:o.data)&&n.select===F(this,df))g=F(this,Xc);else try{me(this,df,n.select),g=n.select(h.data),g=N_(i==null?void 0:i.data,g,n),me(this,Xc,g),me(this,Js,null)}catch(E){me(this,Js,E)}else g=h.data;if(n.placeholderData!==void 0&&g===void 0&&x==="pending"){let E;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))E=i.data;else if(E=typeof n.placeholderData=="function"?n.placeholderData((T=F(this,Jc))==null?void 0:T.state.data,F(this,Jc)):n.placeholderData,n.select&&E!==void 0)try{E=n.select(E),me(this,Js,null)}catch(I){me(this,Js,I)}E!==void 0&&(x="success",g=N_(i==null?void 0:i.data,E,n),p=!0)}F(this,Js)&&(w=F(this,Js),g=F(this,Xc),v=Date.now(),x="error");const _=h.fetchStatus==="fetching",y=x==="pending",b=x==="error",A=y&&_,P=g!==void 0;return{status:x,fetchStatus:h.fetchStatus,isPending:y,isSuccess:x==="success",isError:b,isInitialLoading:A,isLoading:A,data:g,dataUpdatedAt:h.dataUpdatedAt,error:w,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:_,isRefetching:_&&!y,isLoadingError:b&&!P,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:b&&P,isStale:fT(e,n),refetch:this.refetch}}updateResult(e){const n=F(this,dr),r=this.createResult(F(this,st),this.options);if(me(this,ll,F(this,st).state),me(this,Yc,this.options),F(this,ll).data!==void 0&&me(this,Jc,F(this,st)),tv(r,n))return;me(this,dr,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!F(this,Zc).size)return!0;const l=new Set(a??F(this,Zc));return this.options.throwOnError&&l.add("error"),Object.keys(F(this,dr)).some(c=>{const u=c;return F(this,dr)[u]!==n[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),Ye(this,mv,k4).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ye(this,mf,O_).call(this)}},Er=new WeakMap,st=new WeakMap,uf=new WeakMap,dr=new WeakMap,ll=new WeakMap,Yc=new WeakMap,Js=new WeakMap,df=new WeakMap,Xc=new WeakMap,Jc=new WeakMap,cl=new WeakMap,ul=new WeakMap,Bo=new WeakMap,Zc=new WeakMap,dl=new WeakSet,Fd=function(e){Ye(this,yf,F_).call(this);let n=F(this,st).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(us)),n},hf=new WeakSet,D_=function(){Ye(this,gf,j_).call(this);const e=Fc(this.options.staleTime,F(this,st));if(Eu||F(this,dr).isStale||!I_(e))return;const r=b4(F(this,dr).dataUpdatedAt,e)+1;me(this,cl,setTimeout(()=>{F(this,dr).isStale||this.updateResult()},r))},ff=new WeakSet,k_=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(F(this,st)):this.options.refetchInterval)??!1},pf=new WeakSet,M_=function(e){Ye(this,vf,L_).call(this),me(this,Bo,e),!(Eu||Ms(this.options.enabled,F(this,st))===!1||!I_(F(this,Bo))||F(this,Bo)===0)&&me(this,ul,setInterval(()=>{(this.options.refetchIntervalInBackground||hT.isFocused())&&Ye(this,dl,Fd).call(this)},F(this,Bo)))},mf=new WeakSet,O_=function(){Ye(this,hf,D_).call(this),Ye(this,pf,M_).call(this,Ye(this,ff,k_).call(this))},gf=new WeakSet,j_=function(){F(this,cl)&&(clearTimeout(F(this,cl)),me(this,cl,void 0))},vf=new WeakSet,L_=function(){F(this,ul)&&(clearInterval(F(this,ul)),me(this,ul,void 0))},yf=new WeakSet,F_=function(){const e=F(this,Er).getQueryCache().build(F(this,Er),this.options);if(e===F(this,st))return;const n=F(this,st);me(this,st,e),me(this,uf,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},mv=new WeakSet,k4=function(e){bn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(F(this,dr))}),F(this,Er).getQueryCache().notify({query:F(this,st),type:"observerResultsUpdated"})})},fN);function Ice(t,e){return Ms(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function SP(t,e){return Ice(t,e)||t.state.data!==void 0&&V_(t,e,e.refetchOnMount)}function V_(t,e,n){if(Ms(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&fT(t,e)}return!1}function TP(t,e,n,r){return(t!==e||Ms(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&fT(t,n)}function fT(t,e){return Ms(e.enabled,t)!==!1&&t.isStaleByTime(Fc(e.staleTime,t))}function Pce(t,e){return!tv(t.getCurrentResult(),e)}var $o,zo,br,Ri,eu,Hm,wf,U_,pN,Nce=(pN=class extends Wu{constructor(n,r){super();be(this,eu);be(this,wf);be(this,$o,void 0);be(this,zo,void 0);be(this,br,void 0);be(this,Ri,void 0);me(this,$o,n),this.setOptions(r),this.bindMethods(),Ye(this,eu,Hm).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=F(this,$o).defaultMutationOptions(n),tv(this.options,r)||F(this,$o).getMutationCache().notify({type:"observerOptionsUpdated",mutation:F(this,br),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Nl(r.mutationKey)!==Nl(this.options.mutationKey)?this.reset():((s=F(this,br))==null?void 0:s.state.status)==="pending"&&F(this,br).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=F(this,br))==null||n.removeObserver(this)}onMutationUpdate(n){Ye(this,eu,Hm).call(this),Ye(this,wf,U_).call(this,n)}getCurrentResult(){return F(this,zo)}reset(){var n;(n=F(this,br))==null||n.removeObserver(this),me(this,br,void 0),Ye(this,eu,Hm).call(this),Ye(this,wf,U_).call(this)}mutate(n,r){var s;return me(this,Ri,r),(s=F(this,br))==null||s.removeObserver(this),me(this,br,F(this,$o).getMutationCache().build(F(this,$o),this.options)),F(this,br).addObserver(this),F(this,br).execute(n)}},$o=new WeakMap,zo=new WeakMap,br=new WeakMap,Ri=new WeakMap,eu=new WeakSet,Hm=function(){var r;const n=((r=F(this,br))==null?void 0:r.state)??D4();me(this,zo,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},wf=new WeakSet,U_=function(n){bn.batch(()=>{var r,s,i,o,a,l,c,u;if(F(this,Ri)&&this.hasListeners()){const h=F(this,zo).variables,p=F(this,zo).context;(n==null?void 0:n.type)==="success"?((s=(r=F(this,Ri)).onSuccess)==null||s.call(r,n.data,h,p),(o=(i=F(this,Ri)).onSettled)==null||o.call(i,n.data,null,h,p)):(n==null?void 0:n.type)==="error"&&((l=(a=F(this,Ri)).onError)==null||l.call(a,n.error,h,p),(u=(c=F(this,Ri)).onSettled)==null||u.call(c,void 0,n.error,h,p))}this.listeners.forEach(h=>{h(F(this,zo))})})},pN),M4=m.createContext(void 0),Da=t=>{const e=m.useContext(M4);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Dce=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(M4.Provider,{value:t,children:e})),O4=m.createContext(!1),kce=()=>m.useContext(O4);O4.Provider;function Mce(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Oce=m.createContext(Mce()),jce=()=>m.useContext(Oce);function j4(t,e){return typeof t=="function"?t(...e):!!t}function Lce(){}var Fce=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},Vce=t=>{m.useEffect(()=>{t.clearReset()},[t])},Uce=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&j4(n,[t.error,r]),Bce=t=>{t.suspense&&(typeof t.staleTime!="number"&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},$ce=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,zce=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Kce(t,e,n){var c,u,h,p;const r=Da(),s=kce(),i=jce(),o=r.defaultQueryOptions(t);(u=(c=r.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||u.call(c,o),o._optimisticResults=s?"isRestoring":"optimistic",Bce(o),Fce(o,i),Vce(i);const[a]=m.useState(()=>new e(r,o)),l=a.getOptimisticResult(o);if(m.useSyncExternalStore(m.useCallback(g=>{const w=s?()=>{}:a.subscribe(bn.batchCalls(g));return a.updateResult(),w},[a,s]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),m.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),$ce(o,l))throw zce(o,a,i);if(Uce({result:l,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw l.error;return(p=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,o,l),o.notifyOnChangeProps?l:a.trackResult(l)}function Wl(t,e){return Kce(t,Rce)}function Rr(t,e){const n=Da(),[r]=m.useState(()=>new Nce(n,t));m.useEffect(()=>{r.setOptions(t)},[r,t]);const s=m.useSyncExternalStore(m.useCallback(o=>r.subscribe(bn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=m.useCallback((o,a)=>{r.mutate(o,a).catch(Lce)},[r]);if(s.error&&j4(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const L4=({label:t,onButtonClick:e})=>d.jsxs(Xe,{variant:"outline",size:"sm",className:"mb-2 hover:bg-gray-100 h-10",onClick:e,children:[d.jsx(Nu,{className:"w-4 h-4 mr-0 md:mr-2"}),d.jsx("p",{className:"hidden md:block",children:t})]}),F4=()=>d.jsxs("div",{className:"h-[450px] md:h-[600px] w-full px-4 flex flex-col pb-4 mt-2",children:[d.jsxs("div",{className:"flex mb-7 space-x-4",children:[d.jsx(Se,{className:"flex-grow h-10 bg-lightGray-darker"}),d.jsx(Se,{className:"h-10 w-[42px] md:w-[198.85px] bg-lightGray-darker"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx(Se,{className:"h-[20px] w-[20rem] bg-lightGray-darker"}),d.jsx(Se,{className:"h-[20px] w-[10rem] bg-lightGray-darker"})]})]}),ws=ao(t=>({isModalVisible:!1,modalMode:"BASE",openModal:()=>{t(()=>({isModalVisible:!0}))},closeModal:()=>{t(()=>({isModalVisible:!1}))},setMode:e=>{t(()=>({modalMode:e}))}})),Wce=()=>{const t=ws(i=>i.openModal),e=ws(i=>i.setMode),n=vt(i=>i.clearFormData),r=Ht(i=>i.selectedKnowledgeBaseName);return{handleOpenKnowledgeForm:async i=>{if(!r)return window.alert("No Knowledge Base Selected cannot add a knowledge entry");n(),e(i),t()},openModal:t,setMode:e,clearFormData:n}},V4=()=>{const[t,e]=m.useState("");return{filter:t,handleFilterChange:r=>{e(r)}}};function Hce(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var _;const{scope:p,children:g,...w}=h,v=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,x=m.useMemo(()=>w,Object.values(w));return d.jsx(v.Provider,{value:x,children:g})};c.displayName=i+"Provider";function u(h,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,qce(s,...e)]}function qce(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Gce(t,e){const n=m.createContext(e),r=i=>{const{children:o,...a}=i,l=m.useMemo(()=>a,Object.values(a));return d.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=m.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Qce(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var _;const{scope:p,children:g,...w}=h,v=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,x=m.useMemo(()=>w,Object.values(w));return d.jsx(v.Provider,{value:x,children:g})};c.displayName=i+"Provider";function u(h,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Yce(s,...e)]}function Yce(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Xce="DismissableLayer",B_="dismissableLayer.update",Jce="dismissableLayer.pointerDownOutside",Zce="dismissableLayer.focusOutside",CP,U4=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),B4=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(U4),[u,h]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,T=>h(T)),v=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(x),y=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,A=y>=_,P=nue(T=>{const E=T.target,I=[...c.branches].some(R=>R.contains(E));!A||I||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},p),O=rue(T=>{const E=T.target;[...c.branches].some(R=>R.contains(E))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},p);return Of(T=>{y===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(CP=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),AP(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=CP)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),AP())},[u,c]),m.useEffect(()=>{const T=()=>g({});return document.addEventListener(B_,T),()=>document.removeEventListener(B_,T)},[]),d.jsx(ve.div,{...l,ref:w,style:{pointerEvents:b?A?"auto":"none":void 0,...t.style},onFocusCapture:Z(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Z(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Z(t.onPointerDownCapture,P.onPointerDownCapture)})});B4.displayName=Xce;var eue="DismissableLayerBranch",tue=m.forwardRef((t,e)=>{const n=m.useContext(U4),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(ve.div,{...t,ref:s})});tue.displayName=eue;function nue(t,e=globalThis==null?void 0:globalThis.document){const n=pt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){$4(Jce,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function rue(t,e=globalThis==null?void 0:globalThis.document){const n=pt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&$4(Zce,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function AP(){const t=new CustomEvent(B_);document.dispatchEvent(t)}function $4(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Fl(s,i):s.dispatchEvent(i)}var sue="Portal",z4=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Pt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Tf.createPortal(d.jsx(ve.div,{...r,ref:e}),o):null});z4.displayName=sue;function iue(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var Uy=t=>{const{present:e,children:n}=t,r=oue(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ke(r.ref,aue(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};Uy.displayName="Presence";function oue(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=iue(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=lm(r.current);i.current=a==="mounted"?c:"none"},[a]),Pt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=lm(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Pt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=g=>{const v=lm(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=g=>{g.target===e&&(i.current=lm(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function lm(t){return(t==null?void 0:t.animationName)||"none"}function aue(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var pT="Dialog",[K4,W4]=Qce(pT),[lue,Hs]=K4(pT),H4=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=m.useRef(null),l=m.useRef(null),[c=!1,u]=ua({prop:r,defaultProp:s,onChange:i});return d.jsx(lue,{scope:e,triggerRef:a,contentRef:l,contentId:Us(),titleId:Us(),descriptionId:Us(),open:c,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(h=>!h),[u]),modal:o,children:n})};H4.displayName=pT;var q4="DialogTrigger",G4=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Hs(q4,n),i=ke(e,s.triggerRef);return d.jsx(ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":vT(s.open),...r,ref:i,onClick:Z(t.onClick,s.onOpenToggle)})});G4.displayName=q4;var mT="DialogPortal",[cue,Q4]=K4(mT,{forceMount:void 0}),Y4=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Hs(mT,e);return d.jsx(cue,{scope:e,forceMount:n,children:m.Children.map(r,o=>d.jsx(Uy,{present:n||i.open,children:d.jsx(z4,{asChild:!0,container:s,children:o})}))})};Y4.displayName=mT;var rv="DialogOverlay",X4=m.forwardRef((t,e)=>{const n=Q4(rv,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Hs(rv,t.__scopeDialog);return i.modal?d.jsx(Uy,{present:r||i.open,children:d.jsx(uue,{...s,ref:e})}):null});X4.displayName=rv;var uue=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Hs(rv,n);return d.jsx(ey,{as:da,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(ve.div,{"data-state":vT(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Dl="DialogContent",J4=m.forwardRef((t,e)=>{const n=Q4(Dl,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Hs(Dl,t.__scopeDialog);return d.jsx(Uy,{present:r||i.open,children:i.modal?d.jsx(due,{...s,ref:e}):d.jsx(hue,{...s,ref:e})})});J4.displayName=Dl;var due=m.forwardRef((t,e)=>{const n=Hs(Dl,t.__scopeDialog),r=m.useRef(null),s=ke(e,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return Pb(i)},[]),d.jsx(Z4,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Z(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Z(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Z(t.onFocusOutside,i=>i.preventDefault())})}),hue=m.forwardRef((t,e)=>{const n=Hs(Dl,t.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return d.jsx(Z4,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Z4=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Hs(Dl,n),l=m.useRef(null),c=ke(e,l);return vb(),d.jsxs(d.Fragment,{children:[d.jsx(qv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(B4,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":vT(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(pue,{titleId:a.titleId}),d.jsx(gue,{contentRef:l,descriptionId:a.descriptionId})]})]})}),gT="DialogTitle",eU=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Hs(gT,n);return d.jsx(ve.h2,{id:s.titleId,...r,ref:e})});eU.displayName=gT;var tU="DialogDescription",nU=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Hs(tU,n);return d.jsx(ve.p,{id:s.descriptionId,...r,ref:e})});nU.displayName=tU;var rU="DialogClose",sU=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Hs(rU,n);return d.jsx(ve.button,{type:"button",...r,ref:e,onClick:Z(t.onClick,()=>s.onOpenChange(!1))})});sU.displayName=rU;function vT(t){return t?"open":"closed"}var iU="DialogTitleWarning",[fue,oU]=Gce(iU,{contentName:Dl,titleName:gT,docsSlug:"dialog"}),pue=({titleId:t})=>{const e=oU(iU),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},mue="DialogDescriptionWarning",gue=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${oU(mue).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},aU=H4,vue=G4,lU=Y4,yT=X4,wT=J4,xT=eU,_T=nU,ET=sU,cU="AlertDialog",[yue,mge]=Hce(cU,[W4]),lo=W4(),uU=t=>{const{__scopeAlertDialog:e,...n}=t,r=lo(e);return d.jsx(aU,{...r,...n,modal:!0})};uU.displayName=cU;var wue="AlertDialogTrigger",xue=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=lo(n);return d.jsx(vue,{...s,...r,ref:e})});xue.displayName=wue;var _ue="AlertDialogPortal",dU=t=>{const{__scopeAlertDialog:e,...n}=t,r=lo(e);return d.jsx(lU,{...r,...n})};dU.displayName=_ue;var Eue="AlertDialogOverlay",hU=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=lo(n);return d.jsx(yT,{...s,...r,ref:e})});hU.displayName=Eue;var Vc="AlertDialogContent",[bue,Sue]=yue(Vc),fU=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=lo(n),o=m.useRef(null),a=ke(e,o),l=m.useRef(null);return d.jsx(fue,{contentName:Vc,titleName:pU,docsSlug:"alert-dialog",children:d.jsx(bue,{scope:n,cancelRef:l,children:d.jsxs(wT,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:Z(s.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[d.jsx(gb,{children:r}),d.jsx(Cue,{contentRef:o})]})})})});fU.displayName=Vc;var pU="AlertDialogTitle",mU=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=lo(n);return d.jsx(xT,{...s,...r,ref:e})});mU.displayName=pU;var gU="AlertDialogDescription",vU=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=lo(n);return d.jsx(_T,{...s,...r,ref:e})});vU.displayName=gU;var Tue="AlertDialogAction",yU=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=lo(n);return d.jsx(ET,{...s,...r,ref:e})});yU.displayName=Tue;var wU="AlertDialogCancel",xU=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=Sue(wU,n),i=lo(n),o=ke(e,s);return d.jsx(ET,{...i,...r,ref:o})});xU.displayName=wU;var Cue=({contentRef:t})=>{const e=`\`${Vc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Vc}\` by passing a \`${gU}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Vc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Aue=uU,Rue=dU,_U=hU,EU=fU,bU=yU,SU=xU,TU=mU,CU=vU;const Iue=Aue,Pue=Rue,AU=m.forwardRef(({className:t,...e},n)=>d.jsx(_U,{className:ue("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));AU.displayName=_U.displayName;const RU=m.forwardRef(({className:t,...e},n)=>d.jsxs(Pue,{children:[d.jsx(AU,{}),d.jsx(EU,{ref:n,className:ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));RU.displayName=EU.displayName;const IU=({className:t,...e})=>d.jsx("div",{className:ue("flex flex-col space-y-2 text-center sm:text-left",t),...e});IU.displayName="AlertDialogHeader";const PU=({className:t,...e})=>d.jsx("div",{className:ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});PU.displayName="AlertDialogFooter";const NU=m.forwardRef(({className:t,...e},n)=>d.jsx(TU,{ref:n,className:ue("text-lg font-semibold",t),...e}));NU.displayName=TU.displayName;const DU=m.forwardRef(({className:t,...e},n)=>d.jsx(CU,{ref:n,className:ue("text-sm text-muted-foreground",t),...e}));DU.displayName=CU.displayName;const kU=m.forwardRef(({className:t,...e},n)=>d.jsx(bU,{ref:n,className:ue(Kb(),t),...e}));kU.displayName=bU.displayName;const MU=m.forwardRef(({className:t,...e},n)=>d.jsx(SU,{ref:n,className:ue(Kb({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));MU.displayName=SU.displayName;const nl=({title:t,description:e,isOpen:n,setDialogState:r,onDelete:s,isDestructive:i=!1})=>{const o=async()=>{r(!1),await s()},a=()=>{r(!1)};return d.jsx(Iue,{open:n,onOpenChange:l=>{r(l),setTimeout(()=>{l||(document.body.style.pointerEvents="")},100)},children:d.jsxs(RU,{children:[d.jsxs(IU,{children:[d.jsx(NU,{children:t}),d.jsx(DU,{children:e})]}),d.jsxs(PU,{children:[d.jsx(MU,{onClick:a,children:"Cancel"}),d.jsx(kU,{onClick:o,className:ue(i&&"bg-red-600 hover:bg-red-700"),children:"Confirm"})]})]})})},Nue={1:"Base",2:"Entry",3:"Verify"},Due={1:"Entry",2:"Verify"},Sc={base:t=>({title:"Archive Knowledge Base",description:`This action will move the knowledge base "${t}" to the archive. You can restore it later from the archive.`}),entry:t=>({title:"Archive Knowledge Entry",description:`This action will move the knowledge entry "${t}" to the archive. You can restore it later from the archive.`}),baseArchive:t=>({title:"Delete Knowledge Base Permanently",description:`This action will delete the knowledge base "${t}" permanently. This action cannot be undone.`}),baseRestore:t=>({title:"Restore Knowledge Base",description:`This action will restore the knowledge base "${t}". Once restored you can find it in the knowledge tab.`}),entryArchive:t=>({title:"Delete Knowledge Entry Permanently",description:`This action will delete the knowledge entry "${t}" permanently. This action cannot be undone.`}),entryRestore:t=>({title:"Restore Knowledge Entry",description:`This action will restore the knowledge entry "${t}". Once restored you can find it in the knowledge tab.`})},kue=({onTabChange:t})=>{const{handleOpenKnowledgeForm:e}=Wce(),n=yi(),r=Da(),{filter:s,handleFilterChange:i}=V4(),o=ft(y=>y.admin),a=Ht(y=>y.selectedKnowledgeBaseName),l=Ht(y=>y.selectedKnowledgeEntryIntentItem),c=Ht(y=>y.setSelectedKnowledgeEntryIntentItem),u=Jr(y=>y.dialogs),h=Jr(y=>y.setDialogState),{data:p,isLoading:g}=Wl({queryFn:()=>qle(a),queryKey:Wm,enabled:!!a}),{mutateAsync:w}=Rr({mutationFn:Zle,onSuccess:y=>{r.invalidateQueries({queryKey:Wm}),r.invalidateQueries({queryKey:ev}),n({title:y,description:tt()})},onError:y=>{n({title:y==null?void 0:y.message,description:tt(),variant:"destructive"}),gt(y.message||"An Unexpected error occured while deleting knowledge base")}}),v=async()=>{if(!l)throw new Error("No knowledge entry intent selected cannot delete");await w(`${a}&${l}`),c("")},x=m.useMemo(()=>p==null?void 0:p.filter(y=>y.intent.toLowerCase().includes(s.toLowerCase())),[p,s]),_=Sc.entry(l);return m.useEffect(()=>()=>{r.resetQueries({queryKey:Wm})},[]),g?d.jsx(F4,{}):p?d.jsxs(py,{value:"knowledgeEntry",className:"mt-2",children:[d.jsxs("div",{className:"h-[450px] md:h-[600px] w-full px-4 flex flex-col pb-4 overflow-y-auto scrollbar-slim",children:[d.jsxs("div",{className:"flex mb-2 space-x-4 sticky top-0",children:[d.jsx(Lt,{className:"flex-grow outline-none focus:outline-none",placeholder:"Search knowledge base...",onChange:y=>i(y.target.value)}),(o==null?void 0:o.role)!=="viewer"&&d.jsx(L4,{label:"Add Knowledge Entry",onButtonClick:()=>e(Sne.entry)})]}),d.jsx(dce,{knowledgeEntries:x,handleTabChange:t})]}),u.showConfirmDeleteKnowledgeEntryDialog&&d.jsx(nl,{title:_.title,description:_.description,isOpen:u.showConfirmDeleteKnowledgeEntryDialog,setDialogState:y=>h("showConfirmDeleteKnowledgeEntryDialog",y),onDelete:v})]}):d.jsx(uT,{heading:"No Knowledge Base Selected",description:"Select a knowledge base category to view its contents here."})},Mue=({base:t,onItemClick:e})=>{const n=ft(l=>l.admin),r=Ht(l=>l.selectedKnowledgeBaseName),s=Ht(l=>l.setSelectedKnowledgeBaseItem),i=Jr(l=>l.openDialog),o=()=>{s(t.name),i("showRenameKnowledgeBaseDialog")},a=()=>{s(t.name),i("showConfirmDeleteKnowledgeBaseDialog")};return d.jsxs("div",{className:`group flex justify-between p-2 rounded-md cursor-pointer transition-colors ${r===t.name?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,onClick:()=>e(t.name),children:[d.jsxs("span",{className:"flex items-center gap-4",children:[d.jsx("p",{className:"max-w-[600px] truncate",title:t.name,children:t.name}),d.jsx(zf,{variant:"outline",className:"text-xs font-medium border-gray-300 bg-gray-50 text-gray-700 group-hover:border-gray-400 group-hover:bg-gray-100",children:`${t.totalEntries} entries`})]}),(n==null?void 0:n.role)!=="viewer"&&d.jsx(Xe,{className:"bg-transparent hover:bg-transparent size-8 p-0 h-fit",children:d.jsx(E4,{onRenameKnowledge:o,onDeleteKnowledge:a})})]})},Oue=({knowledgeBaseNameList:t,handleTabChange:e})=>{const n=Ht(i=>i.setSelectedKnowledgeBaseName),r=Ht(i=>i.selectedKnowledgeBaseName),s=i=>{e("knowledgeEntry"),r!==i&&n(i)};return d.jsx("div",{children:d.jsx(Fu,{listStyle:"space-y-2",items:t,renderItem:i=>d.jsx(Mue,{base:i,onItemClick:s})})})},sp=aU,jue=lU,OU=m.forwardRef(({className:t,...e},n)=>d.jsx(yT,{ref:n,className:ue("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));OU.displayName=yT.displayName;const Hu=m.forwardRef(({className:t,children:e,hideClose:n=!1,...r},s)=>d.jsxs(jue,{children:[d.jsx(OU,{}),d.jsxs(wT,{ref:s,className:ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,!n&&d.jsxs(ET,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(kf,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Hu.displayName=wT.displayName;const qu=({className:t,...e})=>d.jsx("div",{className:ue("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});qu.displayName="DialogHeader";const By=({className:t,...e})=>d.jsx("div",{className:ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});By.displayName="DialogFooter";const Gu=m.forwardRef(({className:t,...e},n)=>d.jsx(xT,{ref:n,className:ue("text-lg font-semibold leading-none tracking-tight",t),...e}));Gu.displayName=xT.displayName;const ip=m.forwardRef(({className:t,...e},n)=>d.jsx(_T,{ref:n,className:ue("text-sm text-muted-foreground",t),...e}));ip.displayName=_T.displayName;var op=t=>t.type==="checkbox",rl=t=>t instanceof Date,pr=t=>t==null;const jU=t=>typeof t=="object";var cn=t=>!pr(t)&&!Array.isArray(t)&&jU(t)&&!rl(t),LU=t=>cn(t)&&t.target?op(t.target)?t.target.checked:t.target.value:t,Lue=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,FU=(t,e)=>t.has(Lue(e)),Fue=t=>{const e=t.constructor&&t.constructor.prototype;return cn(e)&&e.hasOwnProperty("isPrototypeOf")},bT=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function _r(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(bT&&(t instanceof Blob||t instanceof FileList))&&(n||cn(t)))if(e=n?[]:{},!n&&!Fue(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=_r(t[r]));else return t;return e}var $y=t=>Array.isArray(t)?t.filter(Boolean):[],en=t=>t===void 0,le=(t,e,n)=>{if(!e||!cn(t))return n;const r=$y(e.split(/[,[\].]+?/)).reduce((s,i)=>pr(s)?s:s[i],t);return en(r)||r===t?en(t[e])?n:t[e]:r},ds=t=>typeof t=="boolean",ST=t=>/^\w*$/.test(t),VU=t=>$y(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ct=(t,e,n)=>{let r=-1;const s=ST(e)?[e]:VU(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const c=t[a];l=cn(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const sv={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Os={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Si={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Vue=Re.createContext(null),TT=()=>Re.useContext(Vue);var UU=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Os.all&&(e._proxyFormState[o]=!r||Os.all),n&&(n[o]=!0),t[o]}});return s},Sr=t=>cn(t)&&!Object.keys(t).length,BU=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Sr(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||Os.all))},lh=t=>Array.isArray(t)?t:[t],$U=(t,e,n)=>!t||!e||t===e||lh(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function CT(t){const e=Re.useRef(t);e.current=t,Re.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function Uue(t){const e=TT(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,a]=Re.useState(n._formState),l=Re.useRef(!0),c=Re.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=Re.useRef(s);return u.current=s,CT({disabled:r,next:h=>l.current&&$U(u.current,h.name,i)&&BU(h,c.current,n._updateFormState)&&a({...n._formState,...h}),subject:n._subjects.state}),Re.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),UU(o,n,c.current,!1)}var ri=t=>typeof t=="string",zU=(t,e,n,r,s)=>ri(t)?(r&&e.watch.add(t),le(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),le(n,i))):(r&&(e.watchAll=!0),n);function Bue(t){const e=TT(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o}=t||{},a=Re.useRef(r);a.current=r,CT({disabled:i,subject:n._subjects.values,next:u=>{$U(a.current,u.name,o)&&c(_r(zU(a.current,n._names,u.values||n._formValues,!1,s)))}});const[l,c]=Re.useState(n._getWatch(r,s));return Re.useEffect(()=>n._removeUnmounted()),l}function $ue(t){const e=TT(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,o=FU(s._names.array,n),a=Bue({control:s,name:n,defaultValue:le(s._formValues,n,le(s._defaultValues,n,t.defaultValue)),exact:!0}),l=Uue({control:s,name:n,exact:!0}),c=Re.useRef(s.register(n,{...t.rules,value:a,...ds(t.disabled)?{disabled:t.disabled}:{}}));return Re.useEffect(()=>{const u=s._options.shouldUnregister||i,h=(p,g)=>{const w=le(s._fields,p);w&&w._f&&(w._f.mount=g)};if(h(n,!0),u){const p=_r(le(s._options.defaultValues,n));Ct(s._defaultValues,n,p),en(le(s._formValues,n))&&Ct(s._formValues,n,p)}return()=>{(o?u&&!s._state.action:u)?s.unregister(n):h(n,!1)}},[n,s,o,i]),Re.useEffect(()=>{le(s._fields,n)&&s._updateDisabledField({disabled:r,fields:s._fields,name:n,value:le(s._fields,n)._f.value})},[r,n,s]),{field:{name:n,value:a,...ds(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:Re.useCallback(u=>c.current.onChange({target:{value:LU(u),name:n},type:sv.CHANGE}),[n]),onBlur:Re.useCallback(()=>c.current.onBlur({target:{value:le(s._formValues,n),name:n},type:sv.BLUR}),[n,s]),ref:Re.useCallback(u=>{const h=le(s._fields,n);h&&u&&(h._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:p=>u.setCustomValidity(p),reportValidity:()=>u.reportValidity()})},[s._fields,n])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!le(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!le(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!le(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!le(l.validatingFields,n)},error:{enumerable:!0,get:()=>le(l.errors,n)}})}}const KU=t=>t.render($ue(t));var zue=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},RP=t=>({isOnSubmit:!t||t===Os.onSubmit,isOnBlur:t===Os.onBlur,isOnChange:t===Os.onChange,isOnAll:t===Os.all,isOnTouch:t===Os.onTouched}),IP=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const ch=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=le(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(ch(a,e))break}else if(cn(a)&&ch(a,e))break}}};var Kue=(t,e,n)=>{const r=lh(le(t,n));return Ct(r,"root",e[n]),Ct(t,n,r),t},AT=t=>t.type==="file",ji=t=>typeof t=="function",iv=t=>{if(!bT)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},qm=t=>ri(t),RT=t=>t.type==="radio",ov=t=>t instanceof RegExp;const PP={value:!1,isValid:!1},NP={value:!0,isValid:!0};var WU=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!en(t[0].attributes.value)?en(t[0].value)||t[0].value===""?NP:{value:t[0].value,isValid:!0}:NP:PP}return PP};const DP={isValid:!1,value:null};var HU=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,DP):DP;function kP(t,e,n="validate"){if(qm(t)||Array.isArray(t)&&t.every(qm)||ds(t)&&!t)return{type:n,message:qm(t)?t:"",ref:e}}var nc=t=>cn(t)&&!ov(t)?t:{value:t,message:""},MP=async(t,e,n,r,s)=>{const{ref:i,refs:o,required:a,maxLength:l,minLength:c,min:u,max:h,pattern:p,validate:g,name:w,valueAsNumber:v,mount:x,disabled:_}=t._f,y=le(e,w);if(!x||_)return{};const b=o?o[0]:i,A=M=>{r&&b.reportValidity&&(b.setCustomValidity(ds(M)?"":M||""),b.reportValidity())},P={},O=RT(i),T=op(i),E=O||T,I=(v||AT(i))&&en(i.value)&&en(y)||iv(i)&&i.value===""||y===""||Array.isArray(y)&&!y.length,R=zue.bind(null,w,n,P),k=(M,N,W,se=Si.maxLength,ne=Si.minLength)=>{const Y=M?N:W;P[w]={type:M?se:ne,message:Y,ref:i,...R(M?se:ne,Y)}};if(s?!Array.isArray(y)||!y.length:a&&(!E&&(I||pr(y))||ds(y)&&!y||T&&!WU(o).isValid||O&&!HU(o).isValid)){const{value:M,message:N}=qm(a)?{value:!!a,message:a}:nc(a);if(M&&(P[w]={type:Si.required,message:N,ref:b,...R(Si.required,N)},!n))return A(N),P}if(!I&&(!pr(u)||!pr(h))){let M,N;const W=nc(h),se=nc(u);if(!pr(y)&&!isNaN(y)){const ne=i.valueAsNumber||y&&+y;pr(W.value)||(M=ne>W.value),pr(se.value)||(N=ne<se.value)}else{const ne=i.valueAsDate||new Date(y),Y=J=>new Date(new Date().toDateString()+" "+J),z=i.type=="time",B=i.type=="week";ri(W.value)&&y&&(M=z?Y(y)>Y(W.value):B?y>W.value:ne>new Date(W.value)),ri(se.value)&&y&&(N=z?Y(y)<Y(se.value):B?y<se.value:ne<new Date(se.value))}if((M||N)&&(k(!!M,W.message,se.message,Si.max,Si.min),!n))return A(P[w].message),P}if((l||c)&&!I&&(ri(y)||s&&Array.isArray(y))){const M=nc(l),N=nc(c),W=!pr(M.value)&&y.length>+M.value,se=!pr(N.value)&&y.length<+N.value;if((W||se)&&(k(W,M.message,N.message),!n))return A(P[w].message),P}if(p&&!I&&ri(y)){const{value:M,message:N}=nc(p);if(ov(M)&&!y.match(M)&&(P[w]={type:Si.pattern,message:N,ref:i,...R(Si.pattern,N)},!n))return A(N),P}if(g){if(ji(g)){const M=await g(y,e),N=kP(M,b);if(N&&(P[w]={...N,...R(Si.validate,N.message)},!n))return A(N.message),P}else if(cn(g)){let M={};for(const N in g){if(!Sr(M)&&!n)break;const W=kP(await g[N](y,e),b,N);W&&(M={...W,...R(N,W.message)},A(W.message),n&&(P[w]=M))}if(!Sr(M)&&(P[w]={ref:b,...M},!n))return P}}return A(!0),P};function Wue(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=en(t)?r++:t[e[r++]];return t}function Hue(t){for(const e in t)if(t.hasOwnProperty(e)&&!en(t[e]))return!1;return!0}function xn(t,e){const n=Array.isArray(e)?e:ST(e)?[e]:VU(e),r=n.length===1?t:Wue(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(cn(r)&&Sr(r)||Array.isArray(r)&&Hue(r))&&xn(t,n.slice(0,-1)),t}var C0=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},$_=t=>pr(t)||!jU(t);function Oo(t,e){if($_(t)||$_(e))return t===e;if(rl(t)&&rl(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(rl(i)&&rl(o)||cn(i)&&cn(o)||Array.isArray(i)&&Array.isArray(o)?!Oo(i,o):i!==o)return!1}}return!0}var qU=t=>t.type==="select-multiple",que=t=>RT(t)||op(t),A0=t=>iv(t)&&t.isConnected,GU=t=>{for(const e in t)if(ji(t[e]))return!0;return!1};function av(t,e={}){const n=Array.isArray(t);if(cn(t)||n)for(const r in t)Array.isArray(t[r])||cn(t[r])&&!GU(t[r])?(e[r]=Array.isArray(t[r])?[]:{},av(t[r],e[r])):pr(t[r])||(e[r]=!0);return e}function QU(t,e,n){const r=Array.isArray(t);if(cn(t)||r)for(const s in t)Array.isArray(t[s])||cn(t[s])&&!GU(t[s])?en(e)||$_(n[s])?n[s]=Array.isArray(t[s])?av(t[s],[]):{...av(t[s])}:QU(t[s],pr(e)?{}:e[s],n[s]):n[s]=!Oo(t[s],e[s]);return n}var Sd=(t,e)=>QU(t,e,av(e)),YU=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>en(t)?t:e?t===""?NaN:t&&+t:n&&ri(t)?new Date(t):r?r(t):t;function R0(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return AT(e)?e.files:RT(e)?HU(t.refs).value:qU(e)?[...e.selectedOptions].map(({value:n})=>n):op(e)?WU(t.refs).value:YU(en(e.value)?t.ref.value:e.value,t)}var Gue=(t,e,n,r)=>{const s={};for(const i of t){const o=le(e,i);o&&Ct(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Td=t=>en(t)?t:ov(t)?t.source:cn(t)?ov(t.value)?t.value.source:t.value:t;const OP="AsyncFunction";var Que=t=>(!t||!t.validate)&&!!(ji(t.validate)&&t.validate.constructor.name===OP||cn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===OP)),Yue=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function jP(t,e,n){const r=le(t,n);if(r||ST(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=le(e,i),a=le(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var Xue=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,Jue=(t,e)=>!$y(le(t,e)).length&&xn(t,e);const Zue={mode:Os.onSubmit,reValidateMode:Os.onChange,shouldFocusError:!0};function ede(t={}){let e={...Zue,...t},n={submitCount:0,isDirty:!1,isLoading:ji(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=cn(e.defaultValues)||cn(e.values)?_r(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:_r(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:C0(),array:C0(),state:C0()},p=RP(e.mode),g=RP(e.reValidateMode),w=e.criteriaMode===Os.all,v=j=>$=>{clearTimeout(c),c=setTimeout(j,$)},x=async j=>{if(!t.disabled&&(u.isValid||j)){const $=e.resolver?Sr((await E()).errors):await R(r,!0);$!==n.isValid&&h.state.next({isValid:$})}},_=(j,$)=>{!t.disabled&&(u.isValidating||u.validatingFields)&&((j||Array.from(a.mount)).forEach(H=>{H&&($?Ct(n.validatingFields,H,$):xn(n.validatingFields,H))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Sr(n.validatingFields)}))},y=(j,$=[],H,ie,re=!0,ee=!0)=>{if(ie&&H&&!t.disabled){if(o.action=!0,ee&&Array.isArray(le(r,j))){const _e=H(le(r,j),ie.argA,ie.argB);re&&Ct(r,j,_e)}if(ee&&Array.isArray(le(n.errors,j))){const _e=H(le(n.errors,j),ie.argA,ie.argB);re&&Ct(n.errors,j,_e),Jue(n.errors,j)}if(u.touchedFields&&ee&&Array.isArray(le(n.touchedFields,j))){const _e=H(le(n.touchedFields,j),ie.argA,ie.argB);re&&Ct(n.touchedFields,j,_e)}u.dirtyFields&&(n.dirtyFields=Sd(s,i)),h.state.next({name:j,isDirty:M(j,$),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ct(i,j,$)},b=(j,$)=>{Ct(n.errors,j,$),h.state.next({errors:n.errors})},A=j=>{n.errors=j,h.state.next({errors:n.errors,isValid:!1})},P=(j,$,H,ie)=>{const re=le(r,j);if(re){const ee=le(i,j,en(H)?le(s,j):H);en(ee)||ie&&ie.defaultChecked||$?Ct(i,j,$?ee:R0(re._f)):se(j,ee),o.mount&&x()}},O=(j,$,H,ie,re)=>{let ee=!1,_e=!1;const Ue={name:j};if(!t.disabled){const Be=!!(le(r,j)&&le(r,j)._f&&le(r,j)._f.disabled);if(!H||ie){u.isDirty&&(_e=n.isDirty,n.isDirty=Ue.isDirty=M(),ee=_e!==Ue.isDirty);const je=Be||Oo(le(s,j),$);_e=!!(!Be&&le(n.dirtyFields,j)),je||Be?xn(n.dirtyFields,j):Ct(n.dirtyFields,j,!0),Ue.dirtyFields=n.dirtyFields,ee=ee||u.dirtyFields&&_e!==!je}if(H){const je=le(n.touchedFields,j);je||(Ct(n.touchedFields,j,H),Ue.touchedFields=n.touchedFields,ee=ee||u.touchedFields&&je!==H)}ee&&re&&h.state.next(Ue)}return ee?Ue:{}},T=(j,$,H,ie)=>{const re=le(n.errors,j),ee=u.isValid&&ds($)&&n.isValid!==$;if(t.delayError&&H?(l=v(()=>b(j,H)),l(t.delayError)):(clearTimeout(c),l=null,H?Ct(n.errors,j,H):xn(n.errors,j)),(H?!Oo(re,H):re)||!Sr(ie)||ee){const _e={...ie,...ee&&ds($)?{isValid:$}:{},errors:n.errors,name:j};n={...n,..._e},h.state.next(_e)}},E=async j=>{_(j,!0);const $=await e.resolver(i,e.context,Gue(j||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return _(j),$},I=async j=>{const{errors:$}=await E(j);if(j)for(const H of j){const ie=le($,H);ie?Ct(n.errors,H,ie):xn(n.errors,H)}else n.errors=$;return $},R=async(j,$,H={valid:!0})=>{for(const ie in j){const re=j[ie];if(re){const{_f:ee,..._e}=re;if(ee){const Ue=a.array.has(ee.name),Be=re._f&&Que(re._f);Be&&u.validatingFields&&_([ie],!0);const je=await MP(re,i,w,e.shouldUseNativeValidation&&!$,Ue);if(Be&&u.validatingFields&&_([ie]),je[ee.name]&&(H.valid=!1,$))break;!$&&(le(je,ee.name)?Ue?Kue(n.errors,je,ee.name):Ct(n.errors,ee.name,je[ee.name]):xn(n.errors,ee.name))}!Sr(_e)&&await R(_e,$,H)}}return H.valid},k=()=>{for(const j of a.unMount){const $=le(r,j);$&&($._f.refs?$._f.refs.every(H=>!A0(H)):!A0($._f.ref))&&Ne(j)}a.unMount=new Set},M=(j,$)=>!t.disabled&&(j&&$&&Ct(i,j,$),!Oo(fe(),s)),N=(j,$,H)=>zU(j,a,{...o.mount?i:en($)?s:ri(j)?{[j]:$}:$},H,$),W=j=>$y(le(o.mount?i:s,j,t.shouldUnregister?le(s,j,[]):[])),se=(j,$,H={})=>{const ie=le(r,j);let re=$;if(ie){const ee=ie._f;ee&&(!ee.disabled&&Ct(i,j,YU($,ee)),re=iv(ee.ref)&&pr($)?"":$,qU(ee.ref)?[...ee.ref.options].forEach(_e=>_e.selected=re.includes(_e.value)):ee.refs?op(ee.ref)?ee.refs.length>1?ee.refs.forEach(_e=>(!_e.defaultChecked||!_e.disabled)&&(_e.checked=Array.isArray(re)?!!re.find(Ue=>Ue===_e.value):re===_e.value)):ee.refs[0]&&(ee.refs[0].checked=!!re):ee.refs.forEach(_e=>_e.checked=_e.value===re):AT(ee.ref)?ee.ref.value="":(ee.ref.value=re,ee.ref.type||h.values.next({name:j,values:{...i}})))}(H.shouldDirty||H.shouldTouch)&&O(j,re,H.shouldTouch,H.shouldDirty,!0),H.shouldValidate&&J(j)},ne=(j,$,H)=>{for(const ie in $){const re=$[ie],ee=`${j}.${ie}`,_e=le(r,ee);(a.array.has(j)||cn(re)||_e&&!_e._f)&&!rl(re)?ne(ee,re,H):se(ee,re,H)}},Y=(j,$,H={})=>{const ie=le(r,j),re=a.array.has(j),ee=_r($);Ct(i,j,ee),re?(h.array.next({name:j,values:{...i}}),(u.isDirty||u.dirtyFields)&&H.shouldDirty&&h.state.next({name:j,dirtyFields:Sd(s,i),isDirty:M(j,ee)})):ie&&!ie._f&&!pr(ee)?ne(j,ee,H):se(j,ee,H),IP(j,a)&&h.state.next({...n}),h.values.next({name:o.mount?j:void 0,values:{...i}})},z=async j=>{o.mount=!0;const $=j.target;let H=$.name,ie=!0;const re=le(r,H),ee=()=>$.type?R0(re._f):LU(j),_e=Ue=>{ie=Number.isNaN(Ue)||rl(Ue)&&isNaN(Ue.getTime())||Oo(Ue,le(i,H,Ue))};if(re){let Ue,Be;const je=ee(),Yt=j.type===sv.BLUR||j.type===sv.FOCUS_OUT,wr=!Yue(re._f)&&!e.resolver&&!le(n.errors,H)&&!re._f.deps||Xue(Yt,le(n.touchedFields,H),n.isSubmitted,g,p),Rn=IP(H,a,Yt);Ct(i,H,je),Yt?(re._f.onBlur&&re._f.onBlur(j),l&&l(0)):re._f.onChange&&re._f.onChange(j);const Vt=O(H,je,Yt,!1),Lr=!Sr(Vt)||Rn;if(!Yt&&h.values.next({name:H,type:j.type,values:{...i}}),wr)return u.isValid&&(t.mode==="onBlur"?Yt&&x():x()),Lr&&h.state.next({name:H,...Rn?{}:Vt});if(!Yt&&Rn&&h.state.next({...n}),e.resolver){const{errors:ns}=await E([H]);if(_e(je),ie){const co=jP(n.errors,r,H),vn=jP(ns,r,co.name||H);Ue=vn.error,H=vn.name,Be=Sr(ns)}}else _([H],!0),Ue=(await MP(re,i,w,e.shouldUseNativeValidation))[H],_([H]),_e(je),ie&&(Ue?Be=!1:u.isValid&&(Be=await R(r,!0)));ie&&(re._f.deps&&J(re._f.deps),T(H,Be,Ue,Vt))}},B=(j,$)=>{if(le(n.errors,$)&&j.focus)return j.focus(),1},J=async(j,$={})=>{let H,ie;const re=lh(j);if(e.resolver){const ee=await I(en(j)?j:re);H=Sr(ee),ie=j?!re.some(_e=>le(ee,_e)):H}else j?(ie=(await Promise.all(re.map(async ee=>{const _e=le(r,ee);return await R(_e&&_e._f?{[ee]:_e}:_e)}))).every(Boolean),!(!ie&&!n.isValid)&&x()):ie=H=await R(r);return h.state.next({...!ri(j)||u.isValid&&H!==n.isValid?{}:{name:j},...e.resolver||!j?{isValid:H}:{},errors:n.errors}),$.shouldFocus&&!ie&&ch(r,B,j?re:a.mount),ie},fe=j=>{const $={...o.mount?i:s};return en(j)?$:ri(j)?le($,j):j.map(H=>le($,H))},he=(j,$)=>({invalid:!!le(($||n).errors,j),isDirty:!!le(($||n).dirtyFields,j),error:le(($||n).errors,j),isValidating:!!le(n.validatingFields,j),isTouched:!!le(($||n).touchedFields,j)}),Te=j=>{j&&lh(j).forEach($=>xn(n.errors,$)),h.state.next({errors:j?n.errors:{}})},We=(j,$,H)=>{const ie=(le(r,j,{_f:{}})._f||{}).ref,re=le(n.errors,j)||{},{ref:ee,message:_e,type:Ue,...Be}=re;Ct(n.errors,j,{...Be,...$,ref:ie}),h.state.next({name:j,errors:n.errors,isValid:!1}),H&&H.shouldFocus&&ie&&ie.focus&&ie.focus()},at=(j,$)=>ji(j)?h.values.subscribe({next:H=>j(N(void 0,$),H)}):N(j,$,!0),Ne=(j,$={})=>{for(const H of j?lh(j):a.mount)a.mount.delete(H),a.array.delete(H),$.keepValue||(xn(r,H),xn(i,H)),!$.keepError&&xn(n.errors,H),!$.keepDirty&&xn(n.dirtyFields,H),!$.keepTouched&&xn(n.touchedFields,H),!$.keepIsValidating&&xn(n.validatingFields,H),!e.shouldUnregister&&!$.keepDefaultValue&&xn(s,H);h.values.next({values:{...i}}),h.state.next({...n,...$.keepDirty?{isDirty:M()}:{}}),!$.keepIsValid&&x()},ce=({disabled:j,name:$,field:H,fields:ie,value:re})=>{if(ds(j)&&o.mount||j){const ee=j?void 0:en(re)?R0(H?H._f:le(ie,$)._f):re;Ct(i,$,ee),O($,ee,!1,!1,!0)}},Pe=(j,$={})=>{let H=le(r,j);const ie=ds($.disabled)||ds(t.disabled);return Ct(r,j,{...H||{},_f:{...H&&H._f?H._f:{ref:{name:j}},name:j,mount:!0,...$}}),a.mount.add(j),H?ce({field:H,disabled:ds($.disabled)?$.disabled:t.disabled,name:j,value:$.value}):P(j,!0,$.value),{...ie?{disabled:$.disabled||t.disabled}:{},...e.progressive?{required:!!$.required,min:Td($.min),max:Td($.max),minLength:Td($.minLength),maxLength:Td($.maxLength),pattern:Td($.pattern)}:{},name:j,onChange:z,onBlur:z,ref:re=>{if(re){Pe(j,$),H=le(r,j);const ee=en(re.value)&&re.querySelectorAll&&re.querySelectorAll("input,select,textarea")[0]||re,_e=que(ee),Ue=H._f.refs||[];if(_e?Ue.find(Be=>Be===ee):ee===H._f.ref)return;Ct(r,j,{_f:{...H._f,..._e?{refs:[...Ue.filter(A0),ee,...Array.isArray(le(s,j))?[{}]:[]],ref:{type:ee.type,name:j}}:{ref:ee}}}),P(j,!1,void 0,ee)}else H=le(r,j,{}),H._f&&(H._f.mount=!1),(e.shouldUnregister||$.shouldUnregister)&&!(FU(a.array,j)&&o.action)&&a.unMount.add(j)}}},He=()=>e.shouldFocusError&&ch(r,B,a.mount),pe=j=>{ds(j)&&(h.state.next({disabled:j}),ch(r,($,H)=>{const ie=le(r,H);ie&&($.disabled=ie._f.disabled||j,Array.isArray(ie._f.refs)&&ie._f.refs.forEach(re=>{re.disabled=ie._f.disabled||j}))},0,!1))},$e=(j,$)=>async H=>{let ie;H&&(H.preventDefault&&H.preventDefault(),H.persist&&H.persist());let re=_r(i);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:ee,values:_e}=await E();n.errors=ee,re=_e}else await R(r);if(xn(n.errors,"root"),Sr(n.errors)){h.state.next({errors:{}});try{await j(re,H)}catch(ee){ie=ee}}else $&&await $({...n.errors},H),He(),setTimeout(He);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Sr(n.errors)&&!ie,submitCount:n.submitCount+1,errors:n.errors}),ie)throw ie},Oe=(j,$={})=>{le(r,j)&&(en($.defaultValue)?Y(j,_r(le(s,j))):(Y(j,$.defaultValue),Ct(s,j,_r($.defaultValue))),$.keepTouched||xn(n.touchedFields,j),$.keepDirty||(xn(n.dirtyFields,j),n.isDirty=$.defaultValue?M(j,_r(le(s,j))):M()),$.keepError||(xn(n.errors,j),u.isValid&&x()),h.state.next({...n}))},yt=(j,$={})=>{const H=j?_r(j):s,ie=_r(H),re=Sr(j),ee=re?s:ie;if($.keepDefaultValues||(s=H),!$.keepValues){if($.keepDirtyValues){const _e=new Set([...a.mount,...Object.keys(Sd(s,i))]);for(const Ue of Array.from(_e))le(n.dirtyFields,Ue)?Ct(ee,Ue,le(i,Ue)):Y(Ue,le(ee,Ue))}else{if(bT&&en(j))for(const _e of a.mount){const Ue=le(r,_e);if(Ue&&Ue._f){const Be=Array.isArray(Ue._f.refs)?Ue._f.refs[0]:Ue._f.ref;if(iv(Be)){const je=Be.closest("form");if(je){je.reset();break}}}}r={}}i=t.shouldUnregister?$.keepDefaultValues?_r(s):{}:_r(ee),h.array.next({values:{...ee}}),h.values.next({values:{...ee}})}a={mount:$.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!$.keepIsValid||!!$.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:$.keepSubmitCount?n.submitCount:0,isDirty:re?!1:$.keepDirty?n.isDirty:!!($.keepDefaultValues&&!Oo(j,s)),isSubmitted:$.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:re?{}:$.keepDirtyValues?$.keepDefaultValues&&i?Sd(s,i):n.dirtyFields:$.keepDefaultValues&&j?Sd(s,j):$.keepDirty?n.dirtyFields:{},touchedFields:$.keepTouched?n.touchedFields:{},errors:$.keepErrors?n.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},qe=(j,$)=>yt(ji(j)?j(i):j,$);return{control:{register:Pe,unregister:Ne,getFieldState:he,handleSubmit:$e,setError:We,_executeSchema:E,_getWatch:N,_getDirty:M,_updateValid:x,_removeUnmounted:k,_updateFieldArray:y,_updateDisabledField:ce,_getFieldArray:W,_reset:yt,_resetDefaultValues:()=>ji(e.defaultValues)&&e.defaultValues().then(j=>{qe(j,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:j=>{n={...n,...j}},_disableForm:pe,_subjects:h,_proxyFormState:u,_setErrors:A,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(j){o=j},get _defaultValues(){return s},get _names(){return a},set _names(j){a=j},get _formState(){return n},set _formState(j){n=j},get _options(){return e},set _options(j){e={...e,...j}}},trigger:J,register:Pe,handleSubmit:$e,watch:at,setValue:Y,getValues:fe,reset:qe,resetField:Oe,clearErrors:Te,unregister:Ne,setError:We,setFocus:(j,$={})=>{const H=le(r,j),ie=H&&H._f;if(ie){const re=ie.refs?ie.refs[0]:ie.ref;re.focus&&(re.focus(),$.shouldSelect&&re.select())}},getFieldState:he}}function ap(t={}){const e=Re.useRef(),n=Re.useRef(),[r,s]=Re.useState({isDirty:!1,isValidating:!1,isLoading:ji(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:ji(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...ede(t),formState:r});const i=e.current.control;return i._options=t,CT({subject:i._subjects.state,next:o=>{BU(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),Re.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Re.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),Re.useEffect(()=>{t.values&&!Oo(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),Re.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),Re.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),Re.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),Re.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=UU(r,i),e.current}const tde=({currentName:t,isOpen:e,setDialogState:n,onRenameKnowledge:r,isLoading:s})=>{const{register:i,reset:o,handleSubmit:a,formState:{errors:l,isSubmitted:c}}=ap({defaultValues:{newKnowledgeBaseName:t}}),u=async p=>{await r(p.newKnowledgeBaseName),h()},h=(p=void 0)=>{n(p??!1),o({}),setTimeout(()=>{p||(document.body.style.pointerEvents="")},100)};return d.jsx(sp,{open:e,onOpenChange:p=>{h(p)},children:d.jsxs(Hu,{className:"sm:max-w-[425px]",children:[d.jsxs(qu,{children:[d.jsx(Gu,{className:"text-2xl font-bold",children:"Rename Knowledge Base"}),d.jsx(ip,{children:"Enter a new name for the knowledge base to update its name."})]}),d.jsxs("form",{onSubmit:a(u),className:"text-sm space-y-2",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(Cn,{htmlFor:"current-password",children:"Knowledge Base Name"}),d.jsx(Lt,{placeholder:"Enter new knowledge base name",...i("newKnowledgeBaseName",{required:"Please enter a new Knowledge Base name",minLength:{value:4,message:"Knowledge base name must be atleast 4 characters"}})}),c&&l.newKnowledgeBaseName&&d.jsx("p",{className:"text-red-500",children:l.newKnowledgeBaseName.message})]}),d.jsx(By,{children:d.jsx(Xe,{type:"submit",className:"w-40",children:s?d.jsx(Na,{}):"Rename"})})]})]})})},nde=({onTabChange:t})=>{const e=Da(),n=yi(),{handleFilterChange:r,filter:s}=V4(),i=ft(R=>R.admin),o=Ht(R=>R.selectedKnowledgeBaseItem),a=Ht(R=>R.setSelectedKnowledgeBaseItem),l=Ht(R=>R.selectedKnowledgeBaseName),c=Ht(R=>R.setSelectedKnowledgeBaseName),u=Ht(R=>R.setSelectedKnowledgeEntry),h=ws(R=>R.openModal),p=ws(R=>R.setMode),g=vt(R=>R.clearFormData),w=Jr(R=>R.dialogs),v=Jr(R=>R.setDialogState),{data:x,isLoading:_}=Wl({queryFn:()=>Hle(),queryKey:ah}),{mutateAsync:y}=Rr({mutationFn:Jle,onSuccess:()=>{e.invalidateQueries({queryKey:ah}),e.invalidateQueries({queryKey:Zg}),n({title:`Knowledge Base ${o} deleted`,description:tt()})},onError:R=>{n({title:R==null?void 0:R.message,description:tt(),variant:"destructive"}),gt(R.message||"An Unexpected error occured while deleting knowledge base")}}),{mutateAsync:b,isPending:A}=Rr({mutationFn:Xle,onSuccess:R=>{e.invalidateQueries({queryKey:ah}),n({title:R,description:tt()})},onError:R=>{n({title:R==null?void 0:R.message,description:tt(),variant:"destructive"}),gt(R.message||"An Unexpected error occured while deleting knowledge base")}}),P=m.useMemo(()=>x==null?void 0:x.filter(R=>R.name.toLowerCase().includes(s.toLowerCase())),[x,s]),O=async()=>{if(!o)throw new Error("No knowledge base selected cannot delete");await y(o),a(""),l&&l===o&&(c(""),u(null))},T=async R=>{try{if(!o)throw new Error("No selected knowledge base");await b({knowledgeBaseName:o,newKnowledgeBaseName:R}),l&&l===o&&c(R)}catch(k){if(k instanceof Error){gt(k.message,!0);return}console.error("Am umexpected error occured: ",k)}},E=R=>{g(),p(R),h()},I=Sc.base(o);return _?d.jsx(F4,{}):x?d.jsxs(py,{value:"knowledgeBase",className:"mt-2",children:[d.jsxs("div",{className:"h-[450px] md:h-[600px] w-full px-4 pb-4 flex flex-col overflow-y-auto scrollbar-slim",children:[d.jsxs("div",{className:"flex mb-2 space-x-4 sticky top-0",children:[d.jsx(Lt,{className:"flex-grow outline-none focus:outline-none",placeholder:"Search knowledge base...",onChange:R=>r(R.target.value)}),(i==null?void 0:i.role)!=="viewer"&&d.jsx(L4,{label:"Add Knowledge Base",onButtonClick:()=>E("BASE")})]}),x.length===0?d.jsxs("div",{className:"flex-1 flex flex-col justify-center items-center",children:[d.jsx("div",{className:"h-20 w-20 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:d.jsx(JM,{className:"h-10 w-10 text-primary"})}),d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"No knowledge bases"}),d.jsx("p",{className:"text-sm text-center text-muted-foreground mb-6 max-w-md whitespace-pre-line",children:"Create a knowledge base to enhance your bot's knowledge and responsiveness."})]}):d.jsx(Oue,{knowledgeBaseNameList:P,handleTabChange:t})]}),w.showConfirmDeleteKnowledgeBaseDialog&&d.jsx(nl,{title:I.title,description:I.description,isOpen:w.showConfirmDeleteKnowledgeBaseDialog,setDialogState:R=>v("showConfirmDeleteKnowledgeBaseDialog",R),onDelete:O,isDestructive:!0}),w.showRenameKnowledgeBaseDialog&&d.jsx(tde,{currentName:o,isOpen:w.showRenameKnowledgeBaseDialog,setDialogState:R=>v("showRenameKnowledgeBaseDialog",R),onRenameKnowledge:T,isLoading:A})]}):d.jsx(uT,{heading:"Empty Knowledge Base",description:"No knowledge base found"})},rde=()=>{const t=Ui(n=>n.currentSelectedKnowledgeTab),e=Ui(n=>n.setCurrentSelectedKnowledgeTab);return d.jsxs(j2,{value:t,onValueChange:n=>e(n),className:"w-full p-0 border-neutral-200 bg-white border shadow-sm text-sm md:text-base rounded-md overflow-hidden box-border",children:[d.jsx(qte,{tabs:Wte}),t==="knowledgeBase"&&d.jsx(nde,{onTabChange:e}),t==="knowledgeEntry"&&d.jsx(kue,{onTabChange:e}),t==="entryDetails"&&d.jsx(cce,{})]})},Li=ao((t,e)=>({currentStep:1,totalStep:3,nextStep:()=>{e().currentStep!==e().totalStep&&t(n=>({currentStep:n.currentStep+1}))},prevStep:()=>{e().currentStep!==1&&t(n=>({currentStep:n.currentStep-1}))},setTotalStep:n=>{if(n==="BASE")return t(()=>({totalStep:3}));t(()=>({totalStep:2}))},resetCurrentStep:()=>{t(()=>({currentStep:1}))}})),sde=({progressData:t})=>{const e=Li(s=>s.totalStep),n=Li(s=>s.currentStep),r=(n-1)/(e-1)*100;return d.jsxs("div",{className:"mt-4 mb-8",children:[d.jsx("div",{className:"flex justify-between mb-2",children:[...Array(e)].map((s,i)=>d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${n>=i+1?"bg-lightGray text-htext":"bg-lightGray-darker text-muted-foreground"}`,children:i+1}),d.jsx("span",{className:"text-xs mt-1",children:t[i+1]})]},i))}),d.jsx("div",{className:"h-2 bg-muted rounded-full",children:d.jsx("div",{className:"h-full bg-blue-600 rounded-full transition-all duration-300 ease-in-out",style:{width:`${r}%`}})})]})},uh=({errorMessage:t})=>d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(iO,{className:"text-destructive size-5",strokeWidth:1.5}),d.jsx("div",{className:"text-destructive text-sm",children:t})]}),ide=()=>{const{knowledgeBaseName:t}=vt(r=>r.formData),{knowledgeBaseName:e}=vt(r=>r.formDataErrors),n=vt(r=>r.setFormData);return d.jsx("div",{className:"space-y-1",children:d.jsxs(d.Fragment,{children:[d.jsx("label",{htmlFor:"knowledgeBaseName",className:"block text-sm font-medium",children:"Knowledge Base Name"}),d.jsx(Lt,{name:"knowledgeBaseName",placeholder:"Enter knowledge base name",value:t,className:ue(e&&"border-destructive"),onChange:r=>n(r.target.name,r.target.value),maxLength:Qh}),e&&d.jsx(uh,{errorMessage:e})]})})},LP=()=>{const{intent:t,documents:e,answer:n}=vt(A=>A.formData),{intent:r,documents:s,answer:i}=vt(A=>A.formDataErrors),o=vt(A=>A.setDocuments),a=vt(A=>A.removeDocument),l=vt(A=>A.setFormData),c=vt(A=>A.addDocument),u=Ht(A=>A.selectedKnowledgeBaseName),h=ws(A=>A.modalMode),{file:p,isLinkDialogOpen:g,setIsLinkDialogOpen:w,handleFileChange:v,handleInsertLink:x,handleRemoveFile:_,fileInputRef:y,answerTextAreaRef:b}=x4(n);return m.useEffect(()=>{h==="ENTRY"&&l("knowledgeBaseName",u)},[]),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-1.5",children:[d.jsx(Cn,{children:"Intent"}),d.jsx(Lt,{placeholder:"Enter the intent",value:t,className:ue(r&&"border-destructive"),onChange:A=>l("intent",A.target.value),tabIndex:1,maxLength:Qh}),r&&d.jsx(uh,{errorMessage:r})]}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsx(Cn,{children:"Documents"}),e.map((A,P)=>d.jsxs("div",{className:"flex",children:[d.jsx(Lt,{placeholder:`Enter document ${P+1}`,className:ue("rounded-none border-r-0",s&&"border-destructive"),value:A,onChange:O=>o(O.target.value,P),tabIndex:2,maxLength:Qh},P),d.jsx(ln,{className:"rounded-none h-[40px] border-l-0",children:d.jsxs(Xe,{type:"button",variant:"ghost",size:"icon",onClick:()=>a(P),className:"hover:bg-transparent border-none",children:[d.jsx(Du,{className:"h-4 w-4 text-gray-500 hover:text-gray-700"}),d.jsx("span",{className:"sr-only",children:"Remove document"})]})})]},P)),s&&d.jsx(uh,{errorMessage:s}),d.jsxs(Xe,{variant:"outline",onClick:c,className:"w-full",children:[d.jsx(Nu,{className:"mr-2 h-4 w-4"})," Add Document"]})]}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsx(Cn,{children:"Answer"}),d.jsx(nF,{answer:n,handleTextChange:l,onFileChange:v,fileRef:y,textAreaRef:b,isError:!!i,isLinkDropDownVisible:g,setIsLinkDropDownVisible:w,onInsertLink:x,tabIndex:3}),i&&d.jsx(uh,{errorMessage:i})]}),p&&d.jsx(rF,{file:p,removeFile:_})]})},ode=({file:t})=>d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:"File Details:"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:t.name})]}),FP=()=>{const{knowledgeBaseName:t,intent:e,documents:n,answer:r,file:s}=vt(i=>i.formData);return d.jsxs("div",{className:"space-y-4 break-words",children:[d.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Review Your Entry"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:"Knowledge Base Name:"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:"Intent:"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:e})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:"Documents:"}),d.jsx("ul",{className:"list-disc pl-5 text-sm text-muted-foreground",children:n.map((i,o)=>d.jsx("li",{children:i},o))})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:"Answer:"}),d.jsx("p",{className:"text-sm text-muted-foreground line-clamp-4 whitespace-pre-wrap leading-relaxed",children:r})]}),s&&d.jsx(ode,{file:s})]})},ade=()=>{const t=Li(r=>r.currentStep),e=ws(r=>r.modalMode),n=()=>({1:{BASE:d.jsx(ide,{}),ENTRY:d.jsx(LP,{})},2:{BASE:d.jsx(LP,{}),ENTRY:d.jsx(FP,{})},3:{BASE:d.jsx(FP,{})}})[t][e]||d.jsx(d.Fragment,{children:"No Modal Section"});return d.jsx(d.Fragment,{children:n()})},lde=()=>{const t=yi(),e=Da(),n=ws(l=>l.closeModal),[r,s]=m.useState(!1),{mutateAsync:i}=Rr({mutationFn:l=>Gle(l),onSuccess:()=>{e.invalidateQueries({queryKey:ah}),t({title:"Knowledge Base saved successfully.",description:tt()})},onError:l=>{t({title:l.message,description:tt(),variant:"destructive"})}}),{mutateAsync:o}=Rr({mutationFn:l=>Qle(l),onSuccess:()=>{e.invalidateQueries({queryKey:Wm}),t({title:"Knowledge Entry saved successfully.",description:tt()})},onError:l=>{t({title:l.message,description:tt(),variant:"destructive"})}});return{handleSubmitForm:async(l,c)=>{try{s(!0);let u=null;l.file&&(u=await Km(l.file)),c==="BASE"?await i(u?{...l,fileUrl:u}:l):await o(u?{...l,fileUrl:u}:l)}catch(u){if(u instanceof Error){if(u.message.includes("E11000"))return;t({title:u.message,description:tt(),variant:"destructive"})}else console.error("Unknown error type:",u),t({title:"An unknown error occurred",description:tt(),variant:"destructive"})}finally{s(!1),n()}},isLoading:r}},cde=(t,e)=>{const n={};return t===1&&(e.knowledgeBaseName.trim()||(n.knowledgeBaseName="Knowledge Base Name is required")),t===2&&(e.intent.trim()||(n.intent="Intent is required"),e.documents.some(s=>s.trim()==="")&&(n.documents="Document is required"),e.answer.trim()||(n.answer="Answer is required")),{isValid:Object.keys(n).length===0,errors:n}},ude=()=>{const{handleSubmitForm:t,isLoading:e}=lde(),n=ws(u=>u.modalMode),r=vt(u=>u.formData),s=Li(u=>u.currentStep),i=Li(u=>u.totalStep),o=Li(u=>u.nextStep),a=Li(u=>u.prevStep),l=vt(u=>u.setFormDataErrors),c=()=>{const{isValid:u,errors:h}=cde(n==="BASE"?s:s+1,r);if(!u){l(h);return}l({}),o()};return d.jsxs("div",{className:"flex justify-between items-center mt-6",children:[d.jsx("div",{}),d.jsxs("div",{className:"flex ",children:[s>1&&d.jsxs(Xe,{variant:"outline",onClick:a,className:"mr-2",children:[d.jsx(Xq,{className:"mr-2 h-4 w-4"})," Back"]}),s<i?d.jsxs(Xe,{onClick:c,children:["Next ",d.jsx(YM,{className:"ml-2 h-4 w-4"})]}):d.jsx(Xe,{className:"w-52",onClick:async()=>{t(r,n)},children:e?d.jsx(Na,{}):"Save Knowledge Base"})]})]})},dde=()=>{const t=vt(a=>a.clearFormData),e=ws(a=>a.isModalVisible),n=ws(a=>a.modalMode),r=ws(a=>a.closeModal),s=Li(a=>a.setTotalStep),i=Li(a=>a.resetCurrentStep),o=n==="BASE"?Nue:Due;return m.useEffect(()=>(s(n),()=>{t(),i()}),[s]),d.jsx(sp,{open:e,onOpenChange:r,children:d.jsxs(Hu,{className:"sm:max-w-[550px]",children:[d.jsxs(qu,{children:[d.jsx(Gu,{className:"text-2xl font-bold",children:"Create New Knowledge Base"}),d.jsx(ip,{children:"Fill in the details to create a new knowledge base."})]}),d.jsx(sde,{progressData:o}),d.jsx(ln,{children:d.jsx(mn,{className:"pt-6 max-h-[30rem] max-w-[498px] overflow-y-scroll",children:d.jsx(ade,{})})}),d.jsx(ude,{})]})})},hde=()=>{const t=ws(e=>e.isModalVisible);return d.jsxs("div",{className:"flex items-center flex-col w-[84rem] px-20 space-y-6 pb-8",children:[d.jsx(Fte,{}),d.jsx(rde,{}),t&&d.jsx(dde,{})]})},bt=ao(t=>({botName:"",errors:{botName:""},interactionIcon:null,interactionIconPreview:"",widgetIcon:null,widgetIconPreview:"",metadata:[],setBotName:e=>{t(()=>({botName:e}))},setErrors:(e,n)=>{t(r=>({errors:{...r.errors,[e]:n}}))},setInteractionIcon:e=>{t(()=>({interactionIcon:e}))},setInteractionIconPreview:e=>{t(()=>({interactionIconPreview:e}))},setWidgetIcon:e=>{t(()=>({widgetIcon:e}))},setWidgetIconPreview:e=>{t(()=>({widgetIconPreview:e}))},setMetadata:e=>{t(()=>({metadata:e}))}})),fde=({inputRef:t})=>{const e=ft(a=>a.admin),n=bt(a=>a.botName),r=bt(a=>a.setBotName),s=bt(a=>a.errors),i=bt(a=>a.setErrors),o=a=>{r(a),a?i("botName",""):i("botName","Bot name field is required")};return d.jsxs("section",{className:"space-y-2",children:[d.jsx(Cn,{htmlFor:"botName",className:"text-base font-medium",children:"Bot Name"}),d.jsx(Lt,{id:"botName",ref:t,type:"text",value:n,onChange:a=>o(a.target.value),className:ue("w-full",s.botName&&"border-destructive"),readOnly:(e==null?void 0:e.role)==="viewer"}),s.botName&&d.jsx(uh,{errorMessage:s.botName})]})},pde=()=>{const t=yi();return{handleIconChange:(r,s,i,o,a=0)=>{if(r.target.files&&r.target.files[0]){const l=r.target.files[0];if(!o.includes(l.type)){const u=o.map(h=>h.split("/")[1]);t({title:`Only the following file formats are supported: ${u.join(", ")}.`,description:tt(),variant:"destructive"}),r.target.value="";return}if(a>0&&l.size>a){const u=a/1048576;t({title:`File size exceeds the maximum limit of ${u.toFixed(0)} MB.`,description:tt(),variant:"destructive"}),r.target.value="";return}s(l);const c=new FileReader;c.onload=u=>{var h;i((h=u.target)==null?void 0:h.result)},c.readAsDataURL(l)}},handleRemoveIcon:(r,s,i)=>{s(null),i(null),r.current&&(r.current.value="")}}},Ls="https://firebasestorage.googleapis.com/v0/b/cob-chatbot.appspot.com/o/image%2Fdefault-icon.png?alt=media&token=7d708bba-dcf2-47a0-b81b-3ac8d0e02648",mde=async(t,e,n,r=[])=>{try{const s=bt.getState().interactionIconPreview,i=bt.getState().widgetIconPreview,o=bt.getState().setInteractionIcon,a=bt.getState().setWidgetIcon,l=r.reduce((h,p)=>({...h,[p.key]:p.value}),{}),c={botName:n,metadata:l,interactionIconURL:s??Ls,widgetIconUrl:i??Ls};t&&(c.interactionIconURL=await R_(t,mP,"interaction-icon")??Ls,o(null)),e&&(console.time("Upload Time"),c.widgetIconUrl=await R_(e,mP,"widget-icon")??Ls,a(null),console.timeEnd("Upload Time")),await y4("profile","botProfile",c,!1),gt("Upload bot profile success")}catch(s){console.error(s)}},XU=({iconRef:t,setIcon:e,setIconPreview:n,iconPreview:r,acceptedFormat:s,maxIconSize:i=0})=>{const o=s.split(",").map(c=>`image/${c.slice(1)}`),{handleIconChange:a,handleRemoveIcon:l}=pde();return d.jsxs("div",{className:"flex items-center ",children:[d.jsx(Lt,{id:"widget-icon-upload",type:"file",className:"hidden",ref:t,accept:s,onChange:c=>a(c,e,n,o,i)}),d.jsx(Xe,{type:"button",variant:"outline",size:"sm",onClick:()=>{var c;return(c=t.current)==null?void 0:c.click()},children:r&&r!==Ls?d.jsxs("span",{className:"flex items-center text-sm gap-2",children:[d.jsx(AR,{className:"size-5"}),"Change Icon"]}):d.jsxs("span",{className:"flex items-center text-sm gap-2",children:[d.jsx(AR,{className:"size-5"}),"Upload Icon"]})}),r&&r!==Ls&&d.jsx(Xe,{type:"button",variant:"ghost",size:"sm",className:"ml-2",onClick:()=>l(t,e,n),children:"Remove"})]})},JU=2*1024*1024,gde=JU/(1024*1024),vde=()=>{const t=bt(i=>i.setInteractionIcon),e=bt(i=>i.setInteractionIconPreview),n=bt(i=>i.interactionIconPreview),r=m.useRef(null),s=ft(i=>i.admin);return d.jsxs("section",{className:"space-y-2 min-w-[327px]",children:[d.jsx(Cn,{htmlFor:"botName",className:"text-base font-medium",children:"Interaction Icon"}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"group relative size-[70px] rounded-full *:flex items-center justify-center cursor-pointer border border-neutral-200 bg-gray-100 overflow-hidden transition-transform duration-200 ease-in-out hover:scale-105",children:[n&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"size-full bg-black absolute opacity-0 group-hover:opacity-20 transition-opacity duration-200"}),d.jsx("img",{src:n,className:"size-full object-cover rounded-full",alt:"Interaction Icon Preview"}),d.jsx("div",{className:"size-full bg-black absolute opacity-0 group-hover:opacity-20 transition-opacity duration-200"})]}),!n&&d.jsx("img",{src:Ls,className:"size-full object-cover rounded-full",alt:"Default Bot Icon"})]}),(s==null?void 0:s.role)!=="viewer"&&d.jsxs("div",{className:"space-y-2",children:[d.jsx(XU,{iconRef:r,setIcon:t,setIconPreview:e,iconPreview:n,acceptedFormat:".png,.jpeg",maxIconSize:JU}),d.jsx("p",{className:"text-sm text-muted-foreground",children:`PNG or JPG only. Max file size: ${gde.toFixed(0)} MB.`})]})]})]})},ZU=6*1024*1024,yde=ZU/(1024*1024),wde=()=>{const t=bt(i=>i.setWidgetIcon),e=bt(i=>i.widgetIconPreview),n=bt(i=>i.setWidgetIconPreview),r=m.useRef(null),s=ft(i=>i.admin);return d.jsxs("section",{className:"space-y-2 min-w-[327px]",children:[d.jsx(Cn,{htmlFor:"botName",className:"text-base font-medium",children:"Widget Icon"}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"group relative size-[70px] rounded-full *:flex items-center justify-center cursor-pointer border border-neutral-200 bg-gray-100 overflow-hidden transition-transform duration-200 ease-in-out hover:scale-105",children:[e&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"size-full bg-black absolute opacity-0 group-hover:opacity-20 transition-opacity duration-200"}),d.jsx("img",{src:e,className:"size-full object-cover rounded-full"})]}),!e&&d.jsx("img",{src:Ls,className:"size-full object-cover rounded-full"})]}),(s==null?void 0:s.role)!=="viewer"&&d.jsxs("div",{className:"space-y-2",children:[d.jsx(XU,{iconRef:r,setIcon:t,setIconPreview:n,iconPreview:e,acceptedFormat:".png,.jpg,.gif",maxIconSize:ZU}),d.jsx("p",{className:"text-sm text-muted-foreground",children:`PNG, JPEG OR GIF only. Max file size: ${yde.toFixed(0)} MB.`})]})]})]})},xde=({botNameInputRef:t})=>d.jsxs("form",{className:"space-y-4",children:[d.jsx(fde,{inputRef:t}),d.jsxs("div",{className:"flex items-center space-x-14 py-2",children:[d.jsx(vde,{}),d.jsx(wde,{})]})]}),_de=({handleCloseChatbox:t})=>{const e=bt(r=>r.botName),n=bt(r=>r.interactionIconPreview);return d.jsx("section",{children:d.jsxs("div",{className:"bg-white h-[24rem] rounded-lg shadow-lg p-4 max-w-sm mx-auto flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[n?d.jsx("img",{src:n,alt:"interaction-icon-preview",className:"w-11 h-11 object-cover rounded-full"}):d.jsx("img",{src:Ls,alt:"interaction-icon-preview",className:"w-11 h-11 object-cover rounded-full"}),d.jsx("span",{className:"text-sm font-medium text-gray-700",children:e||"Chatbot"})]}),d.jsx("div",{className:"cursor-pointer hover:scale-110 transition-transform",onClick:t,children:d.jsx(kf,{className:"w-5 h-5 text-gray-500"})})]}),d.jsx("div",{className:"flex-1"}),d.jsx("div",{className:" rounded-lg py-3 mb-4",children:d.jsxs("div",{className:"flex items-center",children:[n?d.jsx("img",{src:n,alt:"interaction-icon-preview",className:"w-10 h-10 object-cover rounded-full"}):d.jsx("img",{src:Ls,alt:"interaction-icon-preview",className:"w-10 h-10 object-cover rounded-full"}),d.jsx("p",{className:"ml-2 text-sm text-gray-700 bg-gray-100 p-2.5 rounded-xl",children:"Hi! What can I help you with?"})]})}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{disabled:!0,type:"text",placeholder:"Message...",className:"flex-grow h-10 px-3 py-2 text-sm border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),d.jsx("div",{className:"h-10 px-3 py-2 bg-blue-500 text-white rounded-r-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 flex items-center justify-center",children:d.jsx(rO,{className:"w-5 h-5"})})]})]})})},Ede=()=>{const[t,e]=m.useState(!1),n=bt(r=>r.widgetIconPreview);return d.jsx("section",{children:d.jsx("div",{className:"border h-[28rem] border-gray-300 rounded-lg p-4 bg-gray-50 mb-2",style:{backgroundImage:"radial-gradient(#d1d5db 1px, transparent 1px)",backgroundSize:"20px 20px"},children:d.jsx("div",{className:"h-full flex justify-end items-end",children:t?d.jsx(_de,{handleCloseChatbox:()=>e(!1)}):d.jsx("div",{className:"size-[14rem] flex items-center justify-center",onClick:()=>e(!0),children:n?d.jsx("img",{src:n,alt:"Widget icon preview",className:"cursor-pointer"}):d.jsx("img",{src:Ls,alt:"Widget icon preview",className:"cursor-pointer"})})})})})},bde=()=>{const t=bt(o=>o.metadata),e=bt(o=>o.setMetadata),n=ft(o=>o.admin),r=()=>{const o={id:Date.now().toString(),key:"",value:""};e([...t,o])},s=(o,a,l)=>{const c=t.map(u=>u.id===o?{...u,[a]:l}:u);e(c)},i=o=>{const a=t.filter((l,c)=>c!==o);e(a)};return d.jsxs("div",{className:"space-y-4",children:[t.map((o,a)=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Lt,{placeholder:"Key",value:o.key,onChange:l=>s(o.id,"key",l.target.value),className:"flex-1",readOnly:(n==null?void 0:n.role)==="viewer"}),d.jsx(Lt,{placeholder:"Value",value:o.value,onChange:l=>s(o.id,"value",l.target.value),className:"flex-1",readOnly:(n==null?void 0:n.role)==="viewer"}),(n==null?void 0:n.role)!=="viewer"&&d.jsx(Xe,{type:"button",variant:"ghost",size:"icon",className:"hover:text-red-600",onClick:()=>i(a),children:d.jsx(Du,{className:"size-5 transition-transform ease-in"})})]},a)),(n==null?void 0:n.role)!=="viewer"&&d.jsxs(Xe,{type:"button",variant:"outline",size:"sm",onClick:r,className:"mt-2",children:[d.jsx(Nu,{className:"size-5 mr-2"}),"Add Field"]})]})},Sde=async()=>await w4("profile","botProfile"),Tde=()=>{const t=yi(),e=bt(x=>x.interactionIcon),n=bt(x=>x.setInteractionIconPreview),r=bt(x=>x.widgetIcon),s=bt(x=>x.setWidgetIconPreview),i=bt(x=>x.botName),o=bt(x=>x.setBotName),a=bt(x=>x.setErrors),l=bt(x=>x.metadata),c=bt(x=>x.setMetadata),[u,h]=m.useState(!1),[p,g]=m.useState(!0),w=m.useRef(null);return m.useEffect(()=>((async()=>{g(!0);const _=await Sde();if(!_)return;o(_.botName),n(_.interactionIconURL),s(_.widgetIconUrl);const y=VY(_.metadata);c(y),g(!1)})(),()=>{a("botName","")}),[]),{isLoading:u,handleSubmitForm:async()=>{var _;if(!i.trim()){a("botName","Bot name field is required"),(_=w.current)==null||_.scrollIntoView({behavior:"smooth",block:"center"});return}try{h(!0),await mde(e,r,i,l),h(!1),t({title:"Bot profile has been successfully updated",description:tt()})}catch(y){y instanceof Error&&t({title:y.message,description:tt(),variant:"destructive"}),console.error("Unexpected error occured ",y)}},isPageLoading:p,botNameInputRef:w}},Cde=()=>{const t=ft(e=>e.admin);return d.jsxs("section",{className:"flex-1 flex-col space-y-4 pb-8",children:[d.jsxs(ln,{children:[d.jsxs(Mn,{children:[d.jsx(On,{children:"Bot Profile"}),d.jsx(vi,{children:(t==null?void 0:t.role)!=="viewer"?"View and manage bot's profile details and icons.":"View bot's profile information and icons."})]}),d.jsx(mn,{children:d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx(Se,{className:"h-4 w-16"}),d.jsx(Se,{className:"h-10 w-full mb-3"}),d.jsx(Se,{className:"h-4 w-24"}),d.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[d.jsx(Se,{className:"size-[64px] rounded-full"}),d.jsx(Se,{className:"h-9 w-36"}),d.jsx(Se,{className:"h-9 w-36"})]}),d.jsx(Se,{className:"h-4 w-24"}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx(Se,{className:"size-[64px] rounded-full"}),d.jsx(Se,{className:"h-9 w-36"}),d.jsx(Se,{className:"h-9 w-36"})]})]})})]}),d.jsxs(ln,{children:[d.jsx(Mn,{children:d.jsx(On,{children:"Additional Information"})}),d.jsxs(mn,{children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[d.jsx(Se,{className:"flex-1 h-10"}),d.jsx(Se,{className:"flex-1 h-10"}),d.jsx(Se,{className:"w-10 h-10"})]}),d.jsx(Se,{className:"h-9 w-36"})]})]}),d.jsxs(ln,{children:[d.jsx(Mn,{children:d.jsx(On,{children:"Preview"})}),d.jsx(mn,{children:d.jsx(Se,{className:"h-[28rem] w-full mb-2"})})]}),d.jsx(Se,{className:"bg-blue-200 h-10 w-full"})]})},Ade=()=>{const{isLoading:t,handleSubmitForm:e,isPageLoading:n,botNameInputRef:r}=Tde(),s=ft(i=>i.admin);return n?d.jsx(Cde,{}):d.jsxs("section",{className:"flex-1 flex-col space-y-4 pb-8 relative",children:[d.jsxs(ln,{children:[d.jsxs(Mn,{children:[d.jsx(On,{children:"Bot Profile"}),d.jsx(vi,{children:(s==null?void 0:s.role)!=="viewer"?"View and manage bot's profile details and icons.":"View bot's profile information and icons."})]}),d.jsx(mn,{children:d.jsx(xde,{botNameInputRef:r})})]}),d.jsxs(ln,{children:[d.jsx(Mn,{children:d.jsx(On,{children:"Additional Information"})}),d.jsx(mn,{children:d.jsx(bde,{})})]}),d.jsxs(ln,{children:[d.jsx(Mn,{children:d.jsx(On,{children:"Preview"})}),d.jsx(mn,{children:d.jsx(Ede,{})})]}),(s==null?void 0:s.role)!=="viewer"&&d.jsx("footer",{className:"mt-4",children:d.jsx(Xe,{className:"w-full",disabled:t,onClick:e,children:t?d.jsx(Na,{}):"Save changes"})})]})},Rde=[{id:"team",icon:d.jsx(m8,{}),label:"Team",comingSoon:!1},{id:"botProfile",icon:d.jsx(Qq,{}),label:"Bot Profile",comingSoon:!1},{id:"botModel",icon:d.jsx(qq,{}),label:"Bot Model",comingSoon:!1},{id:"archives",icon:d.jsx(zv,{}),label:"Archives",comingSoon:!1},{id:"queries",icon:d.jsx(a8,{}),label:"Queries",comingSoon:!1}],Ide=({onTabChange:t,activeTab:e})=>{const n=ft(s=>s.admin),r=Rde.filter(s=>!(s.id==="team"&&(n==null?void 0:n.role)!=="admin"));return d.jsx("nav",{className:"w-[14rem] px-2 space-y-2 text-htext font-medium",children:r.map(s=>d.jsxs("div",{className:"relative group",children:[d.jsxs("li",{className:ue("flex items-center gap-3 py-3 px-2 cursor-pointer rounded-md transition-colors hover:text-opacity-80",e===s.id?"bg-blue-500 text-white":"hover:bg-slate-200 text-opacity-100"),onClick:()=>t(s.id),children:[s.icon," ",s.label]}),s.comingSoon&&d.jsx(zf,{variant:"secondary",className:"absolute -top-2 right-0 text-[10px] font-normal px-1 py-0.5 bg-blue-100 text-blue-800 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Coming Soon"})]},s.id))})};var Pde="Separator",VP="horizontal",Nde=["horizontal","vertical"],eB=m.forwardRef((t,e)=>{const{decorative:n,orientation:r=VP,...s}=t,i=Dde(r)?r:VP,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return d.jsx(ve.div,{"data-orientation":i,...a,...s,ref:e})});eB.displayName=Pde;function Dde(t){return Nde.includes(t)}var tB=eB;const nB=m.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>d.jsx(tB,{ref:s,decorative:n,orientation:e,className:ue("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));nB.displayName=tB.displayName;const kde=(t,e,n)=>$le(t,e,n),rB="/admin/assets/rhombus_spinner-BhwfYrNk.gif",Mde=({isTraining:t})=>d.jsx(sp,{open:t,onOpenChange:()=>{},children:d.jsxs(Hu,{className:"sm:max-w-md",hideClose:!0,children:[d.jsx(qu,{children:d.jsx(Gu,{children:"Bot Training in Progress"})}),d.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[d.jsx("img",{src:rB}),d.jsx("p",{className:"text-sm text-gray-500",children:"The bot is currently training. Please wait..."})]})]})}),Ode=()=>{const t=ft(c=>c.admin),[e,n]=m.useState(!1),[r,s]=m.useState(null),i=yi(),{data:o}=Wl({queryFn:zle,queryKey:["modelRating"]}),a=async()=>{try{n(!0),await GY(),i({title:"Model Training Complete",description:"Your AI model is fully trained and ready for use. You can now run queries with the latest data."})}catch(c){if(c instanceof Error){gt(c.message),i({title:"Failed to train model, please try again",description:tt(),variant:"destructive"});return}console.error("An unexpected error occured: ",c)}finally{n(!1)}},l=c=>{const h=[{min:5,label:"(Excellent)"},{min:4,label:"(Good)"},{min:3,label:"(Decent)"},{min:0,label:"(Poor)"}].find(p=>c>=p.min);return h?h.label:"(Unknown)"};return m.useEffect(()=>{const c=kde("profile","model",u=>{const{timeFinishedTraining:h}=u;s(h)});return()=>c()},[]),d.jsxs("section",{className:"flex-1 flex-col space-y-4",children:[d.jsxs(ln,{children:[d.jsxs(Mn,{children:[d.jsx(On,{children:"Bot Model"}),d.jsx(vi,{children:(t==null?void 0:t.role)!=="viewer"?"View current model status and initialize training process.":"View current model status."})]}),d.jsxs(mn,{children:[d.jsxs("section",{className:"flex items-center",children:[d.jsxs("div",{className:"w-[15rem]",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Version"}),d.jsx("p",{className:"font-bold text-xl",children:"v1.0.0"})]}),d.jsxs("div",{className:"",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Trained"}),d.jsx("p",{className:"font-bold text-xl",children:r||d.jsx(Se,{className:"w-48 h-6"})})]})]}),d.jsx(nB,{className:"my-4"}),d.jsxs("div",{className:"flex ",children:[d.jsxs("div",{className:"flex space-x-2 w-[15rem]",children:[d.jsx(sO,{fill:"yellow",className:"text-yellow-300"})," ",d.jsx("p",{children:"Average Rating"})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx("p",{className:"text-green-400 font-bold text-xl",children:o??d.jsx(Se,{className:"h-7 w-11"})}),d.jsx("p",{className:"text-muted-foreground text-xs space-x-1",children:o?l(Number(o)):d.jsx(Se,{className:"h-4 w-14"})})]})]})]})]}),d.jsx("footer",{className:"mt-4 pb-4",children:(t==null?void 0:t.role)!=="viewer"&&d.jsx(Xe,{className:"w-full",disabled:e,onClick:a,children:e?d.jsx(Na,{}):d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Yq,{size:20})," Train Model"]})})}),d.jsx(Mde,{isTraining:e})]})},cm="672ca434f2191d3bb7606f0d",jde=({id:t,role:e,onDeleteAction:n,onResetPasswordAction:r,onUpdateRoleAction:s})=>d.jsxs(Uf,{modal:!1,children:[d.jsx(Bf,{asChild:!0,children:d.jsx(Xe,{variant:"ghost",className:" hover:bg-gray-100 size-8 p-1 group",children:d.jsx(pb,{className:"text-zinc-400 size-5 group-hover:text-zinc-600 transition-colors"})})}),d.jsxs(Lu,{align:"end",className:"w-auto bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[t!==cm&&e!=="editor"&&d.jsx(ti,{className:"flex items-center p-2 hover:bg-zinc-100",onClick:async()=>{await s("editor")},children:"Set as Editor"}),t!==cm&&e!=="viewer"&&d.jsx(ti,{className:"flex items-center p-2 hover:bg-zinc-100",onClick:async()=>{await s("viewer")},children:"Set as Viewer"}),t!==cm&&d.jsx(Ub,{}),d.jsxs(ti,{className:"flex items-center p-2 hover:bg-zinc-100",onClick:()=>{r()},children:[d.jsx(i8,{className:"mr-2 h-4 w-4"}),"Reset Password"]}),t!==cm&&d.jsxs(ti,{className:"flex items-center p-2 hover:bg-zinc-100 text-red-600",onClick:()=>{n()},children:[d.jsx(f8,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]}),sB=ao(t=>({admin:{id:null,email:null},setAdmin:(e,n)=>t({admin:{id:e,email:n}})})),Lde=({adminInfo:t,onUpdateRole:e})=>{const{email:n,role:r,_id:s}=t,i=sB(c=>c.setAdmin),o=Jr(c=>c.openDialog),a=()=>{i(s,n),o("showConfirmDeleteDialog")},l=()=>{i(s,n),o("showResetPasswordDialog")};return d.jsxs("section",{className:"flex items-center w-full py-2 font-medium text-sm",children:[d.jsx("div",{className:"flex-1 text-zinc-700 truncate",title:n,children:n}),d.jsx("div",{className:"w-[14rem] text-zinc-500",children:t!=null&&t.lastLoginAt?HY(t.lastLoginAt):"Never Logged In"}),d.jsx("div",{className:"w-[10rem]",children:d.jsx(zf,{className:ue("flex w-16 items-center justify-center pointer-events-none select-none",r==="admin"&&"bg-red-200 text-red-800",r==="editor"&&"bg-blue-200 text-blue-800",r==="viewer"&&"bg-green-200 text-green-800"),children:Bb(r)})}),d.jsx("div",{className:"w-[10rem] ",children:d.jsx(jde,{id:s,role:r,onDeleteAction:a,onResetPasswordAction:l,onUpdateRoleAction:async c=>await e(c,s)})})]})},dh=({id:t,field:e,placeholderText:n,register:r,message:s,isError:i,validate:o})=>{const[a,l]=m.useState(!1);return d.jsxs("div",{className:"relative",children:[d.jsx(Lt,{id:t??void 0,className:ue(i&&"border-destructive"),type:a?"text":"password",placeholder:n,...r(e,{required:s,minLength:{value:9,message:"Password must be atleast 9 characters"},validate:o})}),d.jsx(Xe,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(c=>!c),"aria-label":a?"Hide password":"Show password",children:a?d.jsx(ZM,{className:"h-4 w-4 text-gray-500"}):d.jsx(mb,{className:"h-4 w-4 text-gray-500"})})]})};function z_(t,[e,n]){return Math.min(n,Math.max(e,t))}function Fde(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var _;const{scope:p,children:g,...w}=h,v=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,x=m.useMemo(()=>w,Object.values(w));return d.jsx(v.Provider,{value:x,children:g})};c.displayName=i+"Provider";function u(h,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Vde(s,...e)]}function Vde(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Ude="DismissableLayer",K_="dismissableLayer.update",Bde="dismissableLayer.pointerDownOutside",$de="dismissableLayer.focusOutside",UP,iB=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),oB=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(iB),[u,h]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,T=>h(T)),v=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(x),y=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,A=y>=_,P=Wde(T=>{const E=T.target,I=[...c.branches].some(R=>R.contains(E));!A||I||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},p),O=Hde(T=>{const E=T.target;[...c.branches].some(R=>R.contains(E))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},p);return Of(T=>{y===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(UP=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),BP(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=UP)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),BP())},[u,c]),m.useEffect(()=>{const T=()=>g({});return document.addEventListener(K_,T),()=>document.removeEventListener(K_,T)},[]),d.jsx(ve.div,{...l,ref:w,style:{pointerEvents:b?A?"auto":"none":void 0,...t.style},onFocusCapture:Z(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Z(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Z(t.onPointerDownCapture,P.onPointerDownCapture)})});oB.displayName=Ude;var zde="DismissableLayerBranch",Kde=m.forwardRef((t,e)=>{const n=m.useContext(iB),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(ve.div,{...t,ref:s})});Kde.displayName=zde;function Wde(t,e=globalThis==null?void 0:globalThis.document){const n=pt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){aB(Bde,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Hde(t,e=globalThis==null?void 0:globalThis.document){const n=pt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&aB($de,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function BP(){const t=new CustomEvent(K_);document.dispatchEvent(t)}function aB(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Fl(s,i):s.dispatchEvent(i)}var qde="Portal",lB=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Pt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Tf.createPortal(d.jsx(ve.div,{...r,ref:e}),o):null});lB.displayName=qde;function Gde(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Qde=[" ","Enter","ArrowUp","ArrowDown"],Yde=[" ","Enter"],lp="Select",[zy,Ky,Xde]=Hv(lp),[Qu,gge]=Fde(lp,[Xde,Ou]),Wy=Ou(),[Jde,ka]=Qu(lp),[Zde,ehe]=Qu(lp),cB=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:h,disabled:p,required:g,form:w}=t,v=Wy(e),[x,_]=m.useState(null),[y,b]=m.useState(null),[A,P]=m.useState(!1),O=Mf(c),[T=!1,E]=ua({prop:r,defaultProp:s,onChange:i}),[I,R]=ua({prop:o,defaultProp:a,onChange:l}),k=m.useRef(null),M=x?w||!!x.closest("form"):!0,[N,W]=m.useState(new Set),se=Array.from(N).map(ne=>ne.props.value).join(";");return d.jsx(Cb,{...v,children:d.jsxs(Jde,{required:g,scope:e,trigger:x,onTriggerChange:_,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:A,onValueNodeHasChildrenChange:P,contentId:Us(),value:I,onValueChange:R,open:T,onOpenChange:E,dir:O,triggerPointerDownPosRef:k,disabled:p,children:[d.jsx(zy.Provider,{scope:e,children:d.jsx(Zde,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(ne=>{W(Y=>new Set(Y).add(ne))},[]),onNativeOptionRemove:m.useCallback(ne=>{W(Y=>{const z=new Set(Y);return z.delete(ne),z})},[]),children:n})}),M?d.jsxs(OB,{"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:h,value:I,onChange:ne=>R(ne.target.value),disabled:p,form:w,children:[I===void 0?d.jsx("option",{value:""}):null,Array.from(N)]},se):null]})})};cB.displayName=lp;var uB="SelectTrigger",dB=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Wy(n),o=ka(uB,n),a=o.disabled||r,l=ke(e,o.onTriggerChange),c=Ky(n),u=m.useRef("touch"),[h,p,g]=jB(v=>{const x=c().filter(b=>!b.disabled),_=x.find(b=>b.value===o.value),y=LB(x,v,_);y!==void 0&&o.onValueChange(y.value)}),w=v=>{a||(o.onOpenChange(!0),g()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return d.jsx(Ab,{asChild:!0,...i,children:d.jsx(ve.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":MB(o.value)?"":void 0,...s,ref:l,onClick:Z(s.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&w(v)}),onPointerDown:Z(s.onPointerDown,v=>{u.current=v.pointerType;const x=v.target;x.hasPointerCapture(v.pointerId)&&x.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:Z(s.onKeyDown,v=>{const x=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&p(v.key),!(x&&v.key===" ")&&Qde.includes(v.key)&&(w(),v.preventDefault())})})})});dB.displayName=uB;var hB="SelectValue",fB=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=ka(hB,n),{onValueNodeHasChildrenChange:c}=l,u=i!==void 0,h=ke(e,l.onValueNodeChange);return Pt(()=>{c(u)},[c,u]),d.jsx(ve.span,{...a,ref:h,style:{pointerEvents:"none"},children:MB(l.value)?d.jsx(d.Fragment,{children:o}):i})});fB.displayName=hB;var the="SelectIcon",pB=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return d.jsx(ve.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});pB.displayName=the;var nhe="SelectPortal",mB=t=>d.jsx(lB,{asChild:!0,...t});mB.displayName=nhe;var kl="SelectContent",gB=m.forwardRef((t,e)=>{const n=ka(kl,t.__scopeSelect),[r,s]=m.useState();if(Pt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Ar.createPortal(d.jsx(vB,{scope:t.__scopeSelect,children:d.jsx(zy.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),i):null}return d.jsx(yB,{...t,ref:e})});gB.displayName=kl;var Rs=10,[vB,Ma]=Qu(kl),rhe="SelectContentImpl",yB=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:g,sticky:w,hideWhenDetached:v,avoidCollisions:x,..._}=t,y=ka(kl,n),[b,A]=m.useState(null),[P,O]=m.useState(null),T=ke(e,ce=>A(ce)),[E,I]=m.useState(null),[R,k]=m.useState(null),M=Ky(n),[N,W]=m.useState(!1),se=m.useRef(!1);m.useEffect(()=>{if(b)return Pb(b)},[b]),vb();const ne=m.useCallback(ce=>{const[Pe,...He]=M().map(Oe=>Oe.ref.current),[pe]=He.slice(-1),$e=document.activeElement;for(const Oe of ce)if(Oe===$e||(Oe==null||Oe.scrollIntoView({block:"nearest"}),Oe===Pe&&P&&(P.scrollTop=0),Oe===pe&&P&&(P.scrollTop=P.scrollHeight),Oe==null||Oe.focus(),document.activeElement!==$e))return},[M,P]),Y=m.useCallback(()=>ne([E,b]),[ne,E,b]);m.useEffect(()=>{N&&Y()},[N,Y]);const{onOpenChange:z,triggerPointerDownPosRef:B}=y;m.useEffect(()=>{if(b){let ce={x:0,y:0};const Pe=pe=>{var $e,Oe;ce={x:Math.abs(Math.round(pe.pageX)-((($e=B.current)==null?void 0:$e.x)??0)),y:Math.abs(Math.round(pe.pageY)-(((Oe=B.current)==null?void 0:Oe.y)??0))}},He=pe=>{ce.x<=10&&ce.y<=10?pe.preventDefault():b.contains(pe.target)||z(!1),document.removeEventListener("pointermove",Pe),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",He,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",He,{capture:!0})}}},[b,z,B]),m.useEffect(()=>{const ce=()=>z(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[z]);const[J,fe]=jB(ce=>{const Pe=M().filter($e=>!$e.disabled),He=Pe.find($e=>$e.ref.current===document.activeElement),pe=LB(Pe,ce,He);pe&&setTimeout(()=>pe.ref.current.focus())}),he=m.useCallback((ce,Pe,He)=>{const pe=!se.current&&!He;(y.value!==void 0&&y.value===Pe||pe)&&(I(ce),pe&&(se.current=!0))},[y.value]),Te=m.useCallback(()=>b==null?void 0:b.focus(),[b]),We=m.useCallback((ce,Pe,He)=>{const pe=!se.current&&!He;(y.value!==void 0&&y.value===Pe||pe)&&k(ce)},[y.value]),at=r==="popper"?W_:wB,Ne=at===W_?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:g,sticky:w,hideWhenDetached:v,avoidCollisions:x}:{};return d.jsx(vB,{scope:n,content:b,viewport:P,onViewportChange:O,itemRefCallback:he,selectedItem:E,onItemLeave:Te,itemTextRefCallback:We,focusSelectedItem:Y,selectedItemText:R,position:r,isPositioned:N,searchRef:J,children:d.jsx(ey,{as:da,allowPinchZoom:!0,children:d.jsx(qv,{asChild:!0,trapped:y.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:Z(s,ce=>{var Pe;(Pe=y.trigger)==null||Pe.focus({preventScroll:!0}),ce.preventDefault()}),children:d.jsx(oB,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:d.jsx(at,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ce=>ce.preventDefault(),..._,...Ne,onPlaced:()=>W(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Z(_.onKeyDown,ce=>{const Pe=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!Pe&&ce.key.length===1&&fe(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let pe=M().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const $e=ce.target,Oe=pe.indexOf($e);pe=pe.slice(Oe+1)}setTimeout(()=>ne(pe)),ce.preventDefault()}})})})})})})});yB.displayName=rhe;var she="SelectItemAlignedPosition",wB=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=ka(kl,n),o=Ma(kl,n),[a,l]=m.useState(null),[c,u]=m.useState(null),h=ke(e,T=>u(T)),p=Ky(n),g=m.useRef(!1),w=m.useRef(!0),{viewport:v,selectedItem:x,selectedItemText:_,focusSelectedItem:y}=o,b=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&v&&x&&_){const T=i.trigger.getBoundingClientRect(),E=c.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),R=_.getBoundingClientRect();if(i.dir!=="rtl"){const $e=R.left-E.left,Oe=I.left-$e,yt=T.left-Oe,qe=T.width+yt,Ft=Math.max(qe,E.width),gn=window.innerWidth-Rs,jr=z_(Oe,[Rs,Math.max(Rs,gn-Ft)]);a.style.minWidth=qe+"px",a.style.left=jr+"px"}else{const $e=E.right-R.right,Oe=window.innerWidth-I.right-$e,yt=window.innerWidth-T.right-Oe,qe=T.width+yt,Ft=Math.max(qe,E.width),gn=window.innerWidth-Rs,jr=z_(Oe,[Rs,Math.max(Rs,gn-Ft)]);a.style.minWidth=qe+"px",a.style.right=jr+"px"}const k=p(),M=window.innerHeight-Rs*2,N=v.scrollHeight,W=window.getComputedStyle(c),se=parseInt(W.borderTopWidth,10),ne=parseInt(W.paddingTop,10),Y=parseInt(W.borderBottomWidth,10),z=parseInt(W.paddingBottom,10),B=se+ne+N+z+Y,J=Math.min(x.offsetHeight*5,B),fe=window.getComputedStyle(v),he=parseInt(fe.paddingTop,10),Te=parseInt(fe.paddingBottom,10),We=T.top+T.height/2-Rs,at=M-We,Ne=x.offsetHeight/2,ce=x.offsetTop+Ne,Pe=se+ne+ce,He=B-Pe;if(Pe<=We){const $e=k.length>0&&x===k[k.length-1].ref.current;a.style.bottom="0px";const Oe=c.clientHeight-v.offsetTop-v.offsetHeight,yt=Math.max(at,Ne+($e?Te:0)+Oe+Y),qe=Pe+yt;a.style.height=qe+"px"}else{const $e=k.length>0&&x===k[0].ref.current;a.style.top="0px";const yt=Math.max(We,se+v.offsetTop+($e?he:0)+Ne)+He;a.style.height=yt+"px",v.scrollTop=Pe-We+v.offsetTop}a.style.margin=`${Rs}px 0`,a.style.minHeight=J+"px",a.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,a,c,v,x,_,i.dir,r]);Pt(()=>b(),[b]);const[A,P]=m.useState();Pt(()=>{c&&P(window.getComputedStyle(c).zIndex)},[c]);const O=m.useCallback(T=>{T&&w.current===!0&&(b(),y==null||y(),w.current=!1)},[b,y]);return d.jsx(ohe,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:O,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:d.jsx(ve.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});wB.displayName=she;var ihe="SelectPopperPosition",W_=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Rs,...i}=t,o=Wy(n);return d.jsx(Rb,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});W_.displayName=ihe;var[ohe,IT]=Qu(kl,{}),H_="SelectViewport",xB=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Ma(H_,n),o=IT(H_,n),a=ke(e,i.onViewportChange),l=m.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(zy.Slot,{scope:n,children:d.jsx(ve.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Z(s.onScroll,c=>{const u=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&h){const g=Math.abs(l.current-u.scrollTop);if(g>0){const w=window.innerHeight-Rs*2,v=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),_=Math.max(v,x);if(_<w){const y=_+g,b=Math.min(w,y),A=y-b;h.style.height=b+"px",h.style.bottom==="0px"&&(u.scrollTop=A>0?A:0,h.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});xB.displayName=H_;var _B="SelectGroup",[ahe,lhe]=Qu(_B),EB=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Us();return d.jsx(ahe,{scope:n,id:s,children:d.jsx(ve.div,{role:"group","aria-labelledby":s,...r,ref:e})})});EB.displayName=_B;var bB="SelectLabel",SB=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=lhe(bB,n);return d.jsx(ve.div,{id:s.id,...r,ref:e})});SB.displayName=bB;var lv="SelectItem",[che,TB]=Qu(lv),CB=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=ka(lv,n),l=Ma(lv,n),c=a.value===r,[u,h]=m.useState(i??""),[p,g]=m.useState(!1),w=ke(e,y=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,y,r,s)}),v=Us(),x=m.useRef("touch"),_=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(che,{scope:n,value:r,disabled:s,textId:v,isSelected:c,onItemTextChange:m.useCallback(y=>{h(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:d.jsx(zy.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:d.jsx(ve.div,{role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:Z(o.onFocus,()=>g(!0)),onBlur:Z(o.onBlur,()=>g(!1)),onClick:Z(o.onClick,()=>{x.current!=="mouse"&&_()}),onPointerUp:Z(o.onPointerUp,()=>{x.current==="mouse"&&_()}),onPointerDown:Z(o.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:Z(o.onPointerMove,y=>{var b;x.current=y.pointerType,s?(b=l.onItemLeave)==null||b.call(l):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Z(o.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:Z(o.onKeyDown,y=>{var A;((A=l.searchRef)==null?void 0:A.current)!==""&&y.key===" "||(Yde.includes(y.key)&&_(),y.key===" "&&y.preventDefault())})})})})});CB.displayName=lv;var Vd="SelectItemText",AB=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=ka(Vd,n),a=Ma(Vd,n),l=TB(Vd,n),c=ehe(Vd,n),[u,h]=m.useState(null),p=ke(e,_=>h(_),l.onItemTextChange,_=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,_,l.value,l.disabled)}),g=u==null?void 0:u.textContent,w=m.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:x}=c;return Pt(()=>(v(w),()=>x(w)),[v,x,w]),d.jsxs(d.Fragment,{children:[d.jsx(ve.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ar.createPortal(i.children,o.valueNode):null]})});AB.displayName=Vd;var RB="SelectItemIndicator",IB=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return TB(RB,n).isSelected?d.jsx(ve.span,{"aria-hidden":!0,...r,ref:e}):null});IB.displayName=RB;var q_="SelectScrollUpButton",PB=m.forwardRef((t,e)=>{const n=Ma(q_,t.__scopeSelect),r=IT(q_,t.__scopeSelect),[s,i]=m.useState(!1),o=ke(e,r.onScrollButtonChange);return Pt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(DB,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});PB.displayName=q_;var G_="SelectScrollDownButton",NB=m.forwardRef((t,e)=>{const n=Ma(G_,t.__scopeSelect),r=IT(G_,t.__scopeSelect),[s,i]=m.useState(!1),o=ke(e,r.onScrollButtonChange);return Pt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(DB,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});NB.displayName=G_;var DB=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Ma("SelectScrollButton",n),o=m.useRef(null),a=Ky(n),l=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),Pt(()=>{var u;const c=a().find(h=>h.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),d.jsx(ve.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Z(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Z(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Z(s.onPointerLeave,()=>{l()})})}),uhe="SelectSeparator",kB=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return d.jsx(ve.div,{"aria-hidden":!0,...r,ref:e})});kB.displayName=uhe;var Q_="SelectArrow",dhe=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Wy(n),i=ka(Q_,n),o=Ma(Q_,n);return i.open&&o.position==="popper"?d.jsx(Ib,{...s,...r,ref:e}):null});dhe.displayName=Q_;function MB(t){return t===""||t===void 0}var OB=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=m.useRef(null),i=ke(e,s),o=Gde(n);return m.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&u){const h=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(h)}},[o,n]),d.jsx(Yf,{asChild:!0,children:d.jsx("select",{...r,ref:i,defaultValue:n})})});OB.displayName="BubbleSelect";function jB(t){const e=pt(t),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function LB(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=hhe(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function hhe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var fhe=cB,FB=dB,phe=fB,mhe=pB,ghe=mB,VB=gB,vhe=xB,yhe=EB,UB=SB,BB=CB,whe=AB,xhe=IB,$B=PB,zB=NB,KB=kB;const WB=fhe,HB=yhe,qB=phe,PT=m.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(FB,{ref:r,className:ue("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,d.jsx(mhe,{asChild:!0,children:d.jsx(QM,{className:"h-4 w-4 opacity-50"})})]}));PT.displayName=FB.displayName;const GB=m.forwardRef(({className:t,...e},n)=>d.jsx($B,{ref:n,className:ue("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(Jq,{className:"h-4 w-4"})}));GB.displayName=$B.displayName;const QB=m.forwardRef(({className:t,...e},n)=>d.jsx(zB,{ref:n,className:ue("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(QM,{className:"h-4 w-4"})}));QB.displayName=zB.displayName;const NT=m.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>d.jsx(ghe,{children:d.jsxs(VB,{ref:s,className:ue("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[d.jsx(GB,{}),d.jsx(vhe,{className:ue("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(QB,{})]})}));NT.displayName=VB.displayName;const YB=m.forwardRef(({className:t,...e},n)=>d.jsx(UB,{ref:n,className:ue("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));YB.displayName=UB.displayName;const DT=m.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(BB,{ref:r,className:ue("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(xhe,{children:d.jsx(fb,{className:"h-4 w-4"})})}),d.jsx(whe,{children:e})]}));DT.displayName=BB.displayName;const _he=m.forwardRef(({className:t,...e},n)=>d.jsx(KB,{ref:n,className:ue("-mx-1 my-1 h-px bg-muted",t),...e}));_he.displayName=KB.displayName;const Ehe=["editor","viewer"],bhe=({isOpen:t,setDialogState:e,onAddAdmin:n,isLoading:r})=>{const{register:s,watch:i,formState:{errors:o,isSubmitted:a},control:l,handleSubmit:c,reset:u}=ap(),h=i("password"),p=async w=>{const{confirmPassword:v,...x}=w;await n(x),g()},g=(w=void 0)=>{u({email:"",password:"",confirmPassword:""}),e("showAddAdminDialog",w??!1)};return d.jsx(sp,{open:t,onOpenChange:w=>{g(w)},children:d.jsxs(Hu,{className:"sm:max-w-[425px]",children:[d.jsxs(qu,{children:[d.jsx(Gu,{className:"text-2xl font-bold",children:"Add Admin"}),d.jsx(ip,{children:"Create a new admin account."})]}),d.jsxs("form",{onSubmit:c(p),className:"text-sm space-y-2",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(Cn,{htmlFor:"current-password",children:"Email"}),d.jsx(Lt,{className:ue(!!o.email&&"border-destructive"),type:"text",placeholder:"Enter your email",...s("email",{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Please enter a valid email address"}})}),a&&o.email&&d.jsx("p",{className:"text-red-500",children:o.email.message})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(Cn,{htmlFor:"current-password",children:"Password"}),d.jsx(dh,{field:"password",placeholderText:"Enter your password",register:s,message:"Password is required",isError:!!o.password}),a&&o.password&&d.jsx("p",{className:"text-red-500",children:o.password.message})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(Cn,{htmlFor:"new-password",children:"Confirm Password"}),d.jsx(dh,{field:"confirmPassword",placeholderText:"Re-enter your password",register:s,message:"Confirm password is required",isError:!!o.confirmPassword,validate:w=>w===h||"Password does not match"}),a&&o.confirmPassword&&d.jsx("p",{className:"text-red-500",children:o.confirmPassword.message})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(Cn,{children:"Role"}),d.jsx(KU,{name:"role",control:l,rules:{required:"Role is required"},render:({field:w})=>d.jsxs(WB,{onValueChange:w.onChange,value:w.value,children:[d.jsx(PT,{className:ue("w-[180px]",!!o.role&&"border-destructive"),children:d.jsx(qB,{placeholder:"Select a Role"})}),d.jsx(NT,{children:d.jsx(HB,{children:d.jsx(Fu,{items:Ehe,renderItem:v=>d.jsx(DT,{value:v,children:Bb(v)})})})})]})}),a&&o.role&&d.jsx("p",{className:"text-red-500",children:o.role.message})]}),d.jsx(By,{children:d.jsx(Xe,{disabled:r,type:"submit",className:"w-40",children:r?d.jsx(Na,{}):"Save changes"})})]})]})})},She=({isOpen:t,setDialogState:e,onResetPassword:n,isLoading:r})=>{const{register:s,formState:{errors:i,isSubmitted:o},setError:a,watch:l,handleSubmit:c,reset:u}=ap(),h=l("newPassword"),p=async w=>{const{confirmNewPassword:v,...x}=w,_=await n(x);if(_&&_===qo.passwordIncorrect){a("password",{type:"manual",message:_});return}if(_&&_===qo.passwordSameAsOld){a("newPassword",{type:"manual",message:_});return}g(!1)},g=(w=void 0)=>{e("showResetPasswordDialog",w??!1),u({})};return d.jsx(sp,{open:t,onOpenChange:w=>{g(w),setTimeout(()=>{w||(document.body.style.pointerEvents="")},100)},children:d.jsxs(Hu,{className:"sm:max-w-[425px]",children:[d.jsxs(qu,{children:[d.jsx(Gu,{className:"text-2xl font-bold",children:"Reset Password"}),d.jsx(ip,{children:"Reset admin password and provide a new password."})]}),d.jsxs("form",{onSubmit:c(p),className:"text-sm space-y-2",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(Cn,{htmlFor:"current-password",children:"Current Password"}),d.jsx(dh,{id:"current-password",field:"password",placeholderText:"Enter new password",register:s,message:"Password is required",isError:!!i.password}),o&&i.password&&d.jsx("p",{className:"text-red-500",children:i.password.message})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(Cn,{htmlFor:"newPassword",children:"New Password"}),d.jsx(dh,{id:"newPassword",field:"newPassword",placeholderText:"Enter new password",register:s,message:"Password is required",isError:!!i.newPassword}),o&&i.newPassword&&d.jsx("p",{className:"text-red-500",children:i.newPassword.message})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(Cn,{htmlFor:"new-password",children:"Confirm New Password"}),d.jsx(dh,{id:"new-password",field:"confirmNewPassword",placeholderText:"Re-enter your password",register:s,message:"Confirm password is required",isError:!!i.confirmNewPassword,validate:w=>w===h||"Password does not match"}),o&&i.confirmNewPassword&&d.jsx("p",{className:"text-red-500",children:i.confirmNewPassword.message})]}),d.jsx(By,{children:d.jsx(Xe,{type:"submit",className:"w-40 mt-2",children:r?d.jsx(Na,{}):"Reset Password"})})]})]})})},The=()=>d.jsx("section",{className:"flex-1 flex-col space-y-4 relative",children:d.jsxs(ln,{children:[d.jsxs(Mn,{children:[d.jsx(On,{children:"Team"}),d.jsx(vi,{children:d.jsx(Se,{className:"w-36 h-[20px]"})})]}),d.jsx(mn,{children:d.jsxs("div",{children:[d.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[d.jsx("h4",{className:"flex-1",children:d.jsx(Se,{className:"w-16 h-[20px]"})}),d.jsx("h4",{className:"w-[14rem]",children:d.jsx(Se,{className:"w-24 h-[20px]"})}),d.jsx("h4",{className:"w-[8rem]",children:d.jsx(Se,{className:"w-12 h-[20px]"})}),d.jsx("h4",{className:"w-[6rem]"})]}),d.jsx("hr",{className:"border-customBorderColor"}),d.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[d.jsx("h4",{className:"flex-1",children:d.jsx(Se,{className:"w-32 h-[20px]"})}),d.jsx("h4",{className:"w-[14rem]",children:d.jsx(Se,{className:"w-12 h-[20px]"})}),d.jsx("h4",{className:"w-[8rem]",children:d.jsx(Se,{className:"w-20 h-[20px]"})}),d.jsx("h4",{className:"w-[6rem]"})]}),d.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[d.jsx("h4",{className:"flex-1",children:d.jsx(Se,{className:"w-40 h-[20px]"})}),d.jsx("h4",{className:"w-[14rem]",children:d.jsx(Se,{className:"w-16 h-[20px]"})}),d.jsx("h4",{className:"w-[8rem]",children:d.jsx(Se,{className:"w-12 h-[20px]"})}),d.jsx("h4",{className:"w-[6rem]"})]}),d.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[d.jsx("h4",{className:"flex-1",children:d.jsx(Se,{className:"w-32 h-[20px]"})}),d.jsx("h4",{className:"w-[14rem]",children:d.jsx(Se,{className:"w-12 h-[20px]"})}),d.jsx("h4",{className:"w-[8rem]",children:d.jsx(Se,{className:"w-20 h-[20px]"})}),d.jsx("h4",{className:"w-[6rem]"})]})]})})]})}),Che=async(t,e)=>{try{const n={email:t,password:e},{success:r,accessToken:s,admin:i}=await Ra("/api/auth/login",{},n);if(!r)throw new Error("Invalid credentials, please try again");return{accessToken:s,admin:i}}catch(n){throw n}},Ahe=async()=>{const{admins:t}=await Kf("/api/auth/admins");return t},Rhe=async t=>{const{message:e}=await Ra("/api/auth/register",{},t);return e},Ihe=async t=>{const{message:e}=await Wf(`/api/auth/${t}`);return e},Phe=async t=>{const{message:e}=await sy("/api/auth/reset",{},t);if(e===qo.passwordIncorrect||e===qo.passwordSameAsOld)throw new Error(e);return e},Nhe=async t=>{const{message:e}=await sy("/api/auth/role",{},t);return e},Dhe=()=>{const t=Da(),e=Kj(),n=yi(),r=Jr(b=>b.dialogs),s=Jr(b=>b.setDialogState),{id:i,email:o}=sB(b=>b.admin),{data:a,isLoading:l}=Wl({queryFn:()=>Ahe(),queryKey:bd}),{mutateAsync:c}=Rr({mutationFn:Ihe,onSuccess:b=>{t.invalidateQueries({queryKey:bd}),n({title:b,description:tt()})},onError:b=>{n({title:b==null?void 0:b.message,description:tt(),variant:"destructive"}),gt(b.message||"An Unexpected error occured while deleting admin account")}}),{mutateAsync:u,isPending:h}=Rr({mutationFn:Rhe,onSuccess:b=>{t.invalidateQueries({queryKey:bd}),n({title:b,description:tt()})},onError:b=>{n({title:b==null?void 0:b.message,description:tt(),variant:"destructive"}),gt(b.message||"An Unexpected error occured while adding admin account")}}),{mutateAsync:p,isPending:g}=Rr({mutationFn:Phe,onSuccess:b=>{t.invalidateQueries({queryKey:bd}),n({title:b,description:tt()})},onError:b=>{b.message===qo.passwordIncorrect||b.message===qo.passwordSameAsOld||(n({title:b==null?void 0:b.message,description:tt(),variant:"destructive"}),gt(b.message??"An error occured while updating admin account"))}}),{mutateAsync:w}=Rr({mutationFn:Nhe,onSuccess:async b=>{t.invalidateQueries({queryKey:bd}),await e(1e3),n({title:b,description:tt()})},onError:b=>{n({title:b==null?void 0:b.message,description:tt(),variant:"destructive"}),gt(b.message||"An Unexpected error occured while updating admin role")}});return{adminEmail:o,setDialogState:s,isAdminListLoading:l,adminList:a,handleAddAdmin:async b=>{try{await u(b)}catch(A){A instanceof Error&&gt(A.message??"An error occured adding admin account"),console.error("An unexpected error occured: ",A)}},handleDeleteAdmin:async()=>{try{if(!i)throw new Error("No admin selected cannot delete");await c(i)}catch(b){b instanceof Error&&gt(b.message??"An error occured deleting admin account"),console.error("An unexpected error occured: ",b)}},handleResetAdminPassword:async b=>{try{if(!i)throw new Error("Admin ID not found, cannot proceed");await p({...b,_id:i})}catch(A){if(A instanceof Error&&(gt(A.message??"An error occured deleting admin account"),A.message===qo.passwordIncorrect||A.message===qo.passwordSameAsOld))return A.message;console.error("An unexpected error occured: ",A)}},handleUpdateAdminRole:async(b,A)=>{try{if(!A)throw new Error("Admin is not available cannot update role");await w({role:b,_id:A})}catch(P){P instanceof Error&&gt(P.message??`An error occured: ${P}`),console.error("An unexpected error occured: ",P)}},dialogs:r,isPending:h,resetAdminPasswordIsPending:g}},khe=()=>{const t=ft(p=>p.admin),{adminEmail:e,adminList:n,dialogs:r,isAdminListLoading:s,isPending:i,handleAddAdmin:o,handleDeleteAdmin:a,handleResetAdminPassword:l,handleUpdateAdminRole:c,resetAdminPasswordIsPending:u,setDialogState:h}=Dhe();return s?d.jsx(The,{}):d.jsxs("section",{className:"flex-1 flex-col space-y-4 relative",children:[d.jsxs(ln,{children:[d.jsxs(Mn,{children:[d.jsxs(On,{children:["Team",d.jsx(wy,{tooltip:"Maximum of 5 admins can be created",children:d.jsx("p",{className:"ml-3 inline-block min-w-6 text-xs font-medium text-zinc-600",children:`${n==null?void 0:n.length}/${Ine}`})})]}),d.jsx(vi,{children:(t==null?void 0:t.role)==="admin"?"View and Manage admin accounts.":"View the list of admin accounts."})]}),d.jsx(mn,{children:d.jsxs("div",{children:[d.jsxs("section",{className:"flex w-full text-zinc-500 py-2 text-sm",children:[d.jsx("h4",{className:"flex-1",children:"User"}),d.jsx("h4",{className:"w-[14rem]",children:"Last Login"}),d.jsx("h4",{className:"w-[10rem]",children:"Role"}),d.jsx("h4",{className:"w-[10rem]"})]}),d.jsx("hr",{className:"border-customBorderColor"}),d.jsx(Fu,{items:n,renderItem:p=>d.jsx(Lde,{adminInfo:p,onUpdateRole:c})})]})})]}),d.jsx("footer",{className:"mt-4 pb-4",children:(t==null?void 0:t.role)!=="viewer"&&(t==null?void 0:t.role)!=="editor"&&d.jsxs(Xe,{className:"w-full",onClick:()=>h("showAddAdminDialog",!0),disabled:(n==null?void 0:n.length)===5,children:[d.jsx(Nu,{className:"size-5 mr-2"}),"Add Admin"]})}),d.jsx(bhe,{isOpen:r.showAddAdminDialog,setDialogState:h,onAddAdmin:o,isLoading:i}),(r==null?void 0:r.showConfirmDeleteDialog)&&d.jsx(nl,{title:"Delete Admin Account",description:`Are you sure you want to delete the admin account with email ${e}? This action cannot be undone.`,isOpen:r.showConfirmDeleteDialog,setDialogState:p=>h("showConfirmDeleteDialog",p),onDelete:a,isDestructive:!0}),(r==null?void 0:r.showResetPasswordDialog)&&d.jsx(She,{isOpen:r.showResetPasswordDialog,setDialogState:h,onResetPassword:l,isLoading:u})]})},Mhe=async()=>{const t="knowledgeBases",{success:e,document:n}=await Kf(`/api/archive/data/${t}`);if(!e&&!n)throw new Error("Error fetching archive ");return n},Ohe=async()=>{const t="knowledgeEntries",{success:e,document:n}=await Kf(`/api/archive/data/${t}`);if(!e&&!n)throw new Error("Error fetching archive ");return n},jhe=async t=>{const{success:e,message:n}=await Wf(`/api/archive/knowledge-base/${t}`);if(!e)throw new Error(n);return n},Lhe=async t=>{const{success:e,message:n}=await Wf(`/api/archive/knowledge-entry/${t}`);if(!e)throw new Error(n);return n},Fhe=async t=>{const e={knowledgeBaseId:t},{success:n,message:r}=await Ra("/api/archive/restore/knowledge-base",{},e);if(!n)throw new Error(r);return r},Vhe=async t=>{const e={knowledgeEntryId:t},{success:n,message:r}=await Ra("/api/archive/restore/knowledge-entry",{},e);if(!n)throw new Error(r);return r},XB=({onRestore:t,onDelete:e})=>d.jsx("div",{children:d.jsxs(Uf,{children:[d.jsx(Bf,{asChild:!0,children:d.jsx(Xe,{variant:"ghost",className:" hover:bg-gray-100 size-8 p-1 group",children:d.jsx(pb,{className:"text-zinc-400 size-5 group-hover:text-zinc-600 transition-colors"})})}),d.jsxs(Lu,{align:"end",className:"w-auto text-sm bg-white border border-neutral-300 p-1 rounded-lg shadow-md",children:[d.jsxs(ti,{className:"flex items-center p-1.5 hover:bg-zinc-100 rounded-sm cursor-pointer",onClick:t,children:[d.jsx(Zq,{className:"mr-2 h-4 w-4"}),d.jsx("p",{children:"Restore"})]}),d.jsxs(ti,{className:"flex items-center p-1.5 hover:bg-zinc-100 rounded-sm text-red-500 cursor-pointer",onClick:e,children:[d.jsx(Du,{className:"mr-2 h-4 w-4"}),d.jsx("p",{children:"Delete Permanently"})]})]})]})}),Uhe=({item:t})=>{const e=ft(o=>o.admin),n=Ht(o=>o.setSelectedKnowledgeBaseArchiveItem),r=Jr(o=>o.openDialog),s=async()=>{const{_id:o,knowledgeBase:a}=t;n({id:o,name:a}),r("showDeleteKnowledgeBaseArchiveDialog")},i=async()=>{const{_id:o,knowledgeBase:a}=t;n({id:o,name:a}),r("showRestoreKnowledgeBaseArchiveDialog")};return d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("section",{children:[d.jsx("p",{className:"font-medium",children:t.knowledgeBase}),d.jsx("p",{className:"text-muted-foreground text-sm",children:`Archived on ${new Date(t.archivedAt).toLocaleDateString()}  ${t.knowledgeEntry.length} ${t.knowledgeEntry.length===1?"entry":"entries"}`})]}),(e==null?void 0:e.role)!=="viewer"&&d.jsx(XB,{onRestore:i,onDelete:s})]})},JB=()=>d.jsxs("div",{className:"h-[500px] overflow-y-auto p-2 botder border-t space-y-3",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Se,{className:"w-24 h-5"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Se,{className:"w-40 h-4"}),d.jsx(Se,{className:"w-20 h-4"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Se,{className:"w-10 h-5"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Se,{className:"w-40 h-4"}),d.jsx(Se,{className:"w-20 h-4"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Se,{className:"w-14 h-5"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Se,{className:"w-40 h-4"}),d.jsx(Se,{className:"w-20 h-4"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Se,{className:"w-28 h-5"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Se,{className:"w-40 h-4"}),d.jsx(Se,{className:"w-20 h-4"})]})]})]}),ZB=()=>d.jsx("div",{className:"h-[500px] flex items-center justify-center p-2 botder border-t space-y-3",children:d.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 w-full max-w-lg my-4",role:"alert",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(iO,{className:"size-[5rem] text-red-400 mr-4"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-yellow-700",children:"Error Fetching Archive List"}),d.jsx("p",{className:"text-yellow-700 mt-1",children:"We encountered an issue while trying to retrieve the archive list. This might be due to a network problem or a temporary issue with the server. Please check your internet connection and try again."})]})]})})});function Bhe(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var kT="ScrollArea",[e$,vge]=Vl(kT),[$he,bs]=e$(kT),t$=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=t,[a,l]=m.useState(null),[c,u]=m.useState(null),[h,p]=m.useState(null),[g,w]=m.useState(null),[v,x]=m.useState(null),[_,y]=m.useState(0),[b,A]=m.useState(0),[P,O]=m.useState(!1),[T,E]=m.useState(!1),I=ke(e,k=>l(k)),R=Mf(s);return d.jsx($he,{scope:n,type:r,dir:R,scrollHideDelay:i,scrollArea:a,viewport:c,onViewportChange:u,content:h,onContentChange:p,scrollbarX:g,onScrollbarXChange:w,scrollbarXEnabled:P,onScrollbarXEnabledChange:O,scrollbarY:v,onScrollbarYChange:x,scrollbarYEnabled:T,onScrollbarYEnabledChange:E,onCornerWidthChange:y,onCornerHeightChange:A,children:d.jsx(ve.div,{dir:R,...o,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});t$.displayName=kT;var n$="ScrollAreaViewport",r$=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=t,o=bs(n$,n),a=m.useRef(null),l=ke(e,a,o.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),d.jsx(ve.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:d.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});r$.displayName=n$;var wi="ScrollAreaScrollbar",MT=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=bs(wi,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=t.orientation==="horizontal";return m.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?d.jsx(zhe,{...r,ref:e,forceMount:n}):s.type==="scroll"?d.jsx(Khe,{...r,ref:e,forceMount:n}):s.type==="auto"?d.jsx(s$,{...r,ref:e,forceMount:n}):s.type==="always"?d.jsx(OT,{...r,ref:e}):null});MT.displayName=wi;var zhe=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=bs(wi,t.__scopeScrollArea),[i,o]=m.useState(!1);return m.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),d.jsx($l,{present:n||i,children:d.jsx(s$,{"data-state":i?"visible":"hidden",...r,ref:e})})}),Khe=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=bs(wi,t.__scopeScrollArea),i=t.orientation==="horizontal",o=qy(()=>l("SCROLL_END"),100),[a,l]=Bhe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,s.scrollHideDelay,l]),m.useEffect(()=>{const c=s.viewport,u=i?"scrollLeft":"scrollTop";if(c){let h=c[u];const p=()=>{const g=c[u];h!==g&&(l("SCROLL"),o()),h=g};return c.addEventListener("scroll",p),()=>c.removeEventListener("scroll",p)}},[s.viewport,i,l,o]),d.jsx($l,{present:n||a!=="hidden",children:d.jsx(OT,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Z(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Z(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),s$=m.forwardRef((t,e)=>{const n=bs(wi,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,o]=m.useState(!1),a=t.orientation==="horizontal",l=qy(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?c:u)}},10);return bu(n.viewport,l),bu(n.content,l),d.jsx($l,{present:r||i,children:d.jsx(OT,{"data-state":i?"visible":"hidden",...s,ref:e})})}),OT=m.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=bs(wi,t.__scopeScrollArea),i=m.useRef(null),o=m.useRef(0),[a,l]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=c$(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function h(p,g){return Yhe(p,o.current,a,g)}return n==="horizontal"?d.jsx(Whe,{...u,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,g=$P(p,a,s.dir);i.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):n==="vertical"?d.jsx(Hhe,{...u,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,g=$P(p,a);i.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),Whe=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=bs(wi,t.__scopeScrollArea),[o,a]=m.useState(),l=m.useRef(null),c=ke(e,l,i.onScrollbarXChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),d.jsx(o$,{"data-orientation":"horizontal",...s,ref:c,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Hy(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(i.viewport){const p=i.viewport.scrollLeft+u.deltaX;t.onWheelScroll(p),d$(p,h)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:uv(o.paddingLeft),paddingEnd:uv(o.paddingRight)}})}})}),Hhe=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=bs(wi,t.__scopeScrollArea),[o,a]=m.useState(),l=m.useRef(null),c=ke(e,l,i.onScrollbarYChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),d.jsx(o$,{"data-orientation":"vertical",...s,ref:c,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Hy(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(i.viewport){const p=i.viewport.scrollTop+u.deltaY;t.onWheelScroll(p),d$(p,h)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:uv(o.paddingTop),paddingEnd:uv(o.paddingBottom)}})}})}),[qhe,i$]=e$(wi),o$=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:h,...p}=t,g=bs(wi,n),[w,v]=m.useState(null),x=ke(e,I=>v(I)),_=m.useRef(null),y=m.useRef(""),b=g.viewport,A=r.content-r.viewport,P=pt(u),O=pt(l),T=qy(h,10);function E(I){if(_.current){const R=I.clientX-_.current.left,k=I.clientY-_.current.top;c({x:R,y:k})}}return m.useEffect(()=>{const I=R=>{const k=R.target;(w==null?void 0:w.contains(k))&&P(R,A)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[b,w,A,P]),m.useEffect(O,[r,O]),bu(w,T),bu(g.content,T),d.jsx(qhe,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:pt(i),onThumbPointerUp:pt(o),onThumbPositionChange:O,onThumbPointerDown:pt(a),children:d.jsx(ve.div,{...p,ref:x,style:{position:"absolute",...p.style},onPointerDown:Z(t.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),_.current=w.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),E(I))}),onPointerMove:Z(t.onPointerMove,E),onPointerUp:Z(t.onPointerUp,I=>{const R=I.target;R.hasPointerCapture(I.pointerId)&&R.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=y.current,g.viewport&&(g.viewport.style.scrollBehavior=""),_.current=null})})})}),cv="ScrollAreaThumb",a$=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=i$(cv,t.__scopeScrollArea);return d.jsx($l,{present:n||s.hasThumb,children:d.jsx(Ghe,{ref:e,...r})})}),Ghe=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=bs(cv,n),o=i$(cv,n),{onThumbPositionChange:a}=o,l=ke(e,h=>o.onThumbChange(h)),c=m.useRef(),u=qy(()=>{c.current&&(c.current(),c.current=void 0)},100);return m.useEffect(()=>{const h=i.viewport;if(h){const p=()=>{if(u(),!c.current){const g=Xhe(h,a);c.current=g,a()}};return a(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[i.viewport,u,a]),d.jsx(ve.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Z(t.onPointerDownCapture,h=>{const g=h.target.getBoundingClientRect(),w=h.clientX-g.left,v=h.clientY-g.top;o.onThumbPointerDown({x:w,y:v})}),onPointerUp:Z(t.onPointerUp,o.onThumbPointerUp)})});a$.displayName=cv;var jT="ScrollAreaCorner",l$=m.forwardRef((t,e)=>{const n=bs(jT,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?d.jsx(Qhe,{...t,ref:e}):null});l$.displayName=jT;var Qhe=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=bs(jT,n),[i,o]=m.useState(0),[a,l]=m.useState(0),c=!!(i&&a);return bu(s.scrollbarX,()=>{var h;const u=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(u),l(u)}),bu(s.scrollbarY,()=>{var h;const u=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(u),o(u)}),c?d.jsx(ve.div,{...r,ref:e,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function uv(t){return t?parseInt(t,10):0}function c$(t,e){const n=t/e;return isNaN(n)?0:n}function Hy(t){const e=c$(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function Yhe(t,e,n,r="ltr"){const s=Hy(n),i=s/2,o=e||i,a=s-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,h=r==="ltr"?[0,u]:[u*-1,0];return u$([l,c],h)(t)}function $P(t,e,n="ltr"){const r=Hy(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,a=i-r,l=n==="ltr"?[0,o]:[o*-1,0],c=z_(t,l);return u$([0,o],[0,a])(c)}function u$(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function d$(t,e){return t>0&&t<e}var Xhe=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function qy(t,e){const n=pt(t),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function bu(t,e){const n=pt(e);Pt(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var h$=t$,Jhe=r$,Zhe=l$;const rf=m.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(h$,{ref:r,className:ue("relative overflow-hidden",t),...n,children:[d.jsx(Jhe,{className:"h-full w-full rounded-[inherit]",children:e}),d.jsx(f$,{}),d.jsx(Zhe,{})]}));rf.displayName=h$.displayName;const f$=m.forwardRef(({className:t,orientation:e="vertical",...n},r)=>d.jsx(MT,{ref:r,orientation:e,className:ue("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:d.jsx(a$,{className:"relative flex-1 rounded-full bg-border"})}));f$.displayName=MT.displayName;const efe=()=>{const{data:t,isLoading:e,isError:n}=Wl({queryFn:()=>Mhe(),queryKey:Zg});return e?d.jsx(JB,{}):!t||n?d.jsx(ZB,{}):d.jsx(rf,{className:"h-[500px] flex border border-neutral-200 p-4 rounded-sm",children:t.items.length!==0?d.jsx(Fu,{listStyle:"space-y-3 w-full",items:t.items,renderItem:r=>d.jsx(Uhe,{item:r})}):d.jsxs("div",{className:"h-[466px] flex flex-col justify-center items-center",children:[d.jsx("div",{className:"h-20 w-20 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:d.jsx(zv,{className:"h-10 w-10 text-primary"})}),d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"No archived bases"}),d.jsxs("p",{className:"text-sm text-center text-muted-foreground mb-6 max-w-md ",children:["When you archive knowledge bases, they'll appear here. Archived bases can be restored or permanently deleted. ",d.jsx("br",{}),"Note: Archives are automatically deleted after 30 days."]})]})})},tfe=({item:t})=>{const e=ft(o=>o.admin),n=Ht(o=>o.setSelectedKnowledgeEntryArchiveItem),r=Jr(o=>o.openDialog),s=async()=>{const{_id:o,knowledgeEntry:{intent:a}}=t;n({id:o,name:a}),r("showDeleteKnowledgeEntryArchiveDialog")},i=async()=>{const{_id:o,knowledgeEntry:{intent:a}}=t;n({id:o,name:a}),r("showRestoreKnowledgeEntryArchiveDialog")};return d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("section",{children:[d.jsx("p",{className:"font-medium",children:t.knowledgeEntry.intent}),d.jsx("p",{className:"text-muted-foreground text-sm",children:`From: ${t.knowledgeBase}  Archived on ${new Date(t.archivedAt).toLocaleDateString()}`})]}),(e==null?void 0:e.role)!=="viewer"&&d.jsx(XB,{onRestore:i,onDelete:s})]})},nfe=()=>{const{data:t,isLoading:e,isError:n}=Wl({queryFn:()=>Ohe(),queryKey:ev});return e?d.jsx(JB,{}):!t||n?d.jsx(ZB,{}):d.jsx(rf,{className:"h-[500px] flex border border-neutral-200 p-4 rounded-sm",children:t.items.length!==0?d.jsx(Fu,{listStyle:"space-y-3 w-full",items:t.items,renderItem:r=>d.jsx(tfe,{item:r})}):d.jsxs("div",{className:"h-[466px] flex-1 flex flex-col justify-center items-center",children:[d.jsx("div",{className:"h-20 w-20 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:d.jsx(zv,{className:"h-10 w-10 text-primary"})}),d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"No archived entries"}),d.jsxs("p",{className:"text-sm text-center text-muted-foreground mb-6 max-w-md whitespace-pre-line",children:["When you archive knowledge entries, they'll appear here. Archived entries can be restored or permanently deleted. ",d.jsx("br",{}),"Note: Archives are automatically deleted after 30 days."]})]})})},rfe=()=>{const t=Ui(n=>n.currentSelectedTabInArchiveTab),e=Ui(n=>n.setCurrentSelectedTabInArchiveTab);return d.jsxs(j2,{value:t,onValueChange:n=>e(n),className:"space-y-4",children:[d.jsxs(_S,{className:"p-1 border-neutral-200 border rounded-md",children:[d.jsx($g,{className:"data-[state=active]:bg-primary data-[state=active]:text-white rounded-sm",value:"knowledgeBases",children:"Knowledge Bases"}),d.jsx($g,{className:"data-[state=active]:bg-primary data-[state=active]:text-white rounded-sm",value:"knowledgeEntries",children:"Knowledge Entries"})]}),t==="knowledgeBases"&&d.jsx(efe,{}),t==="knowledgeEntries"&&d.jsx(nfe,{})]})},sfe=()=>{const t=yi(),e=Da(),n=ft(P=>P.admin),{id:r,name:s}=Ht(P=>P.selectedKnowledgeBaseArchiveItem),{id:i,name:o}=Ht(P=>P.selectedKnowledgeEntryArchiveItem),a=Jr(P=>P.dialogs),l=Jr(P=>P.setDialogState),c=Sc.baseArchive(s??"Unknown Base"),u=Sc.baseRestore(s??"Unknown Entry"),h=Sc.entryArchive(o??"Unknown Base"),p=Sc.entryRestore(o??"Unknown Base"),{mutateAsync:g}=Rr({mutationFn:jhe,onSuccess:P=>{e.invalidateQueries({queryKey:Zg}),t({title:P,description:tt()})},onError:P=>{t({title:P.message,description:tt(),variant:"destructive"})}}),w=async()=>{try{if(!r)throw new Error("Knowledge base archive id not found");await g(r)}catch(P){console.error("An unexpected error occured: ",P)}},{mutateAsync:v}=Rr({mutationFn:Fhe,onSuccess:P=>{e.invalidateQueries({queryKey:ah}),e.invalidateQueries({queryKey:Zg}),t({title:P,description:tt()})},onError:P=>{t({title:P.message,description:tt(),variant:"destructive"})}}),x=async()=>{try{if(!r)throw new Error("Knowledge base archive id not found");await v(r)}catch(P){console.error("An unexpected error occured: ",P)}},{mutateAsync:_}=Rr({mutationFn:Lhe,onSuccess:P=>{e.invalidateQueries({queryKey:ev}),t({title:P,description:tt()})},onError:P=>{t({title:P.message,description:tt(),variant:"destructive"})}}),y=async()=>{try{if(!i)throw new Error("Knowledge entry archive id not found");await _(i)}catch(P){console.error("An unexpected error occured: ",P)}},{mutateAsync:b}=Rr({mutationFn:Vhe,onSuccess:P=>{e.invalidateQueries({queryKey:ev}),t({title:P,description:tt()})},onError:P=>{t({title:P.message,description:tt(),variant:"destructive"})}}),A=async()=>{try{if(!i)throw new Error("Knowledge entry archive id not found");await b(i)}catch(P){console.error("An unexpected error occured: ",P)}};return d.jsxs("section",{className:"flex-1 flex-col space-y-4",children:[d.jsxs(ln,{children:[d.jsxs(Mn,{children:[d.jsx(On,{children:"Archives"}),d.jsx(vi,{children:(n==null?void 0:n.role)!=="viewer"?"View and manage archived knowledge bases and entries.":"View archived knowledge bases and entries."})]}),d.jsx(mn,{children:d.jsx(rfe,{})})]}),a.showDeleteKnowledgeBaseArchiveDialog&&d.jsx(nl,{title:c.title,description:c.description,isOpen:a.showDeleteKnowledgeBaseArchiveDialog,setDialogState:P=>l("showDeleteKnowledgeBaseArchiveDialog",P),onDelete:w,isDestructive:!0}),a.showRestoreKnowledgeBaseArchiveDialog&&d.jsx(nl,{title:u.title,description:u.description,isOpen:a.showRestoreKnowledgeBaseArchiveDialog,setDialogState:P=>l("showRestoreKnowledgeBaseArchiveDialog",P),onDelete:x}),a.showDeleteKnowledgeEntryArchiveDialog&&d.jsx(nl,{title:h.title,description:h.description,isOpen:a.showDeleteKnowledgeEntryArchiveDialog,setDialogState:P=>l("showDeleteKnowledgeEntryArchiveDialog",P),onDelete:y,isDestructive:!0}),a.showRestoreKnowledgeEntryArchiveDialog&&d.jsx(nl,{title:p.title,description:p.description,isOpen:a.showRestoreKnowledgeEntryArchiveDialog,setDialogState:P=>l("showRestoreKnowledgeEntryArchiveDialog",P),onDelete:A})]})},Ln=[];for(let t=0;t<256;++t)Ln.push((t+256).toString(16).slice(1));function ife(t,e=0){return(Ln[t[e+0]]+Ln[t[e+1]]+Ln[t[e+2]]+Ln[t[e+3]]+"-"+Ln[t[e+4]]+Ln[t[e+5]]+"-"+Ln[t[e+6]]+Ln[t[e+7]]+"-"+Ln[t[e+8]]+Ln[t[e+9]]+"-"+Ln[t[e+10]]+Ln[t[e+11]]+Ln[t[e+12]]+Ln[t[e+13]]+Ln[t[e+14]]+Ln[t[e+15]]).toLowerCase()}let I0;const ofe=new Uint8Array(16);function afe(){if(!I0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");I0=crypto.getRandomValues.bind(crypto)}return I0(ofe)}const lfe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),zP={randomUUID:lfe};function cfe(t,e,n){if(zP.randomUUID&&!e&&!t)return zP.randomUUID();t=t||{};const r=t.random||(t.rng||afe)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,ife(r)}const p$=()=>cfe(),ufe=({placeholderText:t,selectChoices:e,selectLabel:n,field:r,isError:s})=>d.jsx("div",{className:"w-[200px]",children:d.jsxs(WB,{onValueChange:r.onChange,value:r.value,children:[d.jsx(PT,{style:{width:"170px"},className:ue("min-w-0",s&&"border-destructive"),children:d.jsx(qB,{placeholder:t})}),d.jsx(NT,{children:d.jsxs(HB,{children:[n&&d.jsx(YB,{children:n}),e.map(i=>d.jsx(DT,{value:i.value,children:i.label},p$()))]})})]})}),dfe=({onAddQuery:t})=>{const{register:e,handleSubmit:n,control:r,setValue:s,formState:{errors:i}}=ap(),o=a=>{t(a.queryType,a.queryLabel,a.query),s("query",""),s("queryLabel","")};return d.jsxs("form",{onSubmit:n(o),className:"flex space-x-2",children:[d.jsx(Lt,{className:`${i.query?"border-destructive":""}`,placeholder:"Enter query label (e.g Say Hi)",...e("queryLabel",{required:"A query label is required"})}),d.jsx(Lt,{className:`${i.query?"border-destructive":""}`,placeholder:"Enter your suggested query",...e("query",{required:"A query is required"})}),d.jsx(KU,{name:"queryType",control:r,rules:{required:"Query type is required"},render:({field:a})=>d.jsx(ufe,{placeholderText:"Select query type",selectChoices:[{value:"quickAccess",label:"Quick Access"},{value:"menuAccess",label:"Menu Access"}],field:a,isError:!!i.queryType})}),d.jsxs(Xe,{type:"submit",className:"space-x-1.5",children:[d.jsx(Nu,{className:"size-5"}),d.jsx("p",{children:"Add Query"})]})]})};function hfe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return m.useMemo(()=>r=>{e.forEach(s=>s(r))},e)}const Gy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Yu(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function LT(t){return"nodeType"in t}function Or(t){var e,n;return t?Yu(t)?t:LT(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function FT(t){const{Document:e}=Or(t);return t instanceof e}function cp(t){return Yu(t)?!1:t instanceof Or(t).HTMLElement}function m$(t){return t instanceof Or(t).SVGElement}function Xu(t){return t?Yu(t)?t.document:LT(t)?FT(t)?t:cp(t)||m$(t)?t.ownerDocument:document:document:document}const mi=Gy?m.useLayoutEffect:m.useEffect;function VT(t){const e=m.useRef(t);return mi(()=>{e.current=t}),m.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function ffe(){const t=m.useRef(null),e=m.useCallback((r,s)=>{t.current=setInterval(r,s)},[]),n=m.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function sf(t,e){e===void 0&&(e=[t]);const n=m.useRef(t);return mi(()=>{n.current!==t&&(n.current=t)},e),n}function up(t,e){const n=m.useRef();return m.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function dv(t){const e=VT(t),n=m.useRef(null),r=m.useCallback(s=>{s!==n.current&&(e==null||e(s,n.current)),n.current=s},[]);return[n,r]}function Y_(t){const e=m.useRef();return m.useEffect(()=>{e.current=t},[t]),e.current}let P0={};function dp(t,e){return m.useMemo(()=>{if(e)return e;const n=P0[t]==null?0:P0[t]+1;return P0[t]=n,t+"-"+n},[t,e])}function g$(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((i,o)=>{const a=Object.entries(o);for(const[l,c]of a){const u=i[l];u!=null&&(i[l]=u+t*c)}return i},{...e})}}const Uc=g$(1),hv=g$(-1);function pfe(t){return"clientX"in t&&"clientY"in t}function UT(t){if(!t)return!1;const{KeyboardEvent:e}=Or(t.target);return e&&t instanceof e}function mfe(t){if(!t)return!1;const{TouchEvent:e}=Or(t.target);return e&&t instanceof e}function X_(t){if(mfe(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return pfe(t)?{x:t.clientX,y:t.clientY}:null}const of=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[of.Translate.toString(t),of.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),KP="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function gfe(t){return t.matches(KP)?t:t.querySelector(KP)}const vfe={display:"none"};function yfe(t){let{id:e,value:n}=t;return Re.createElement("div",{id:e,style:vfe},n)}function wfe(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Re.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function xfe(){const[t,e]=m.useState("");return{announce:m.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const v$=m.createContext(null);function _fe(t){const e=m.useContext(v$);m.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function Efe(){const[t]=m.useState(()=>new Set),e=m.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[m.useCallback(r=>{let{type:s,event:i}=r;t.forEach(o=>{var a;return(a=o[s])==null?void 0:a.call(o,i)})},[t]),e]}const bfe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Sfe={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Tfe(t){let{announcements:e=Sfe,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=bfe}=t;const{announce:i,announcement:o}=xfe(),a=dp("DndLiveRegion"),[l,c]=m.useState(!1);if(m.useEffect(()=>{c(!0)},[]),_fe(m.useMemo(()=>({onDragStart(h){let{active:p}=h;i(e.onDragStart({active:p}))},onDragMove(h){let{active:p,over:g}=h;e.onDragMove&&i(e.onDragMove({active:p,over:g}))},onDragOver(h){let{active:p,over:g}=h;i(e.onDragOver({active:p,over:g}))},onDragEnd(h){let{active:p,over:g}=h;i(e.onDragEnd({active:p,over:g}))},onDragCancel(h){let{active:p,over:g}=h;i(e.onDragCancel({active:p,over:g}))}}),[i,e])),!l)return null;const u=Re.createElement(Re.Fragment,null,Re.createElement(yfe,{id:r,value:s.draggable}),Re.createElement(wfe,{id:a,announcement:o}));return n?Ar.createPortal(u,n):u}var En;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(En||(En={}));function fv(){}const Ws=Object.freeze({x:0,y:0});function Cfe(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function Afe(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function Rfe(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),i=Math.min(e.top+e.height,t.top+t.height),o=s-r,a=i-n;if(r<s&&n<i){const l=e.width*e.height,c=t.width*t.height,u=o*a,h=u/(l+c-u);return Number(h.toFixed(4))}return 0}const Ife=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=[];for(const i of r){const{id:o}=i,a=n.get(o);if(a){const l=Rfe(a,e);l>0&&s.push({id:o,data:{droppableContainer:i,value:l}})}}return s.sort(Cfe)};function Pfe(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function y$(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Ws}function Nfe(t){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return s.reduce((o,a)=>({...o,top:o.top+t*a.y,bottom:o.bottom+t*a.y,left:o.left+t*a.x,right:o.right+t*a.x}),{...n})}}const Dfe=Nfe(1);function kfe(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Mfe(t,e,n){const r=kfe(e);if(!r)return t;const{scaleX:s,scaleY:i,x:o,y:a}=r,l=t.left-o-(1-s)*parseFloat(n),c=t.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),u=s?t.width/s:t.width,h=i?t.height/i:t.height;return{width:u,height:h,top:c,right:l+u,bottom:c+h,left:l}}const Ofe={ignoreTransform:!1};function Ju(t,e){e===void 0&&(e=Ofe);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:c,transformOrigin:u}=Or(t).getComputedStyle(t);c&&(n=Mfe(n,c,u))}const{top:r,left:s,width:i,height:o,bottom:a,right:l}=n;return{top:r,left:s,width:i,height:o,bottom:a,right:l}}function WP(t){return Ju(t,{ignoreTransform:!0})}function jfe(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function Lfe(t,e){return e===void 0&&(e=Or(t).getComputedStyle(t)),e.position==="fixed"}function Ffe(t,e){e===void 0&&(e=Or(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=e[s];return typeof i=="string"?n.test(i):!1})}function BT(t,e){const n=[];function r(s){if(e!=null&&n.length>=e||!s)return n;if(FT(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!cp(s)||m$(s)||n.includes(s))return n;const i=Or(t).getComputedStyle(s);return s!==t&&Ffe(s,i)&&n.push(s),Lfe(s,i)?n:r(s.parentNode)}return t?r(t):n}function w$(t){const[e]=BT(t,1);return e??null}function N0(t){return!Gy||!t?null:Yu(t)?t:LT(t)?FT(t)||t===Xu(t).scrollingElement?window:cp(t)?t:null:null}function x$(t){return Yu(t)?t.scrollX:t.scrollLeft}function _$(t){return Yu(t)?t.scrollY:t.scrollTop}function J_(t){return{x:x$(t),y:_$(t)}}var Dn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Dn||(Dn={}));function E$(t){return!Gy||!t?!1:t===document.scrollingElement}function b$(t){const e={x:0,y:0},n=E$(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},s=t.scrollTop<=e.y,i=t.scrollLeft<=e.x,o=t.scrollTop>=r.y,a=t.scrollLeft>=r.x;return{isTop:s,isLeft:i,isBottom:o,isRight:a,maxScroll:r,minScroll:e}}const Vfe={x:.2,y:.2};function Ufe(t,e,n,r,s){let{top:i,left:o,right:a,bottom:l}=n;r===void 0&&(r=10),s===void 0&&(s=Vfe);const{isTop:c,isBottom:u,isLeft:h,isRight:p}=b$(t),g={x:0,y:0},w={x:0,y:0},v={height:e.height*s.y,width:e.width*s.x};return!c&&i<=e.top+v.height?(g.y=Dn.Backward,w.y=r*Math.abs((e.top+v.height-i)/v.height)):!u&&l>=e.bottom-v.height&&(g.y=Dn.Forward,w.y=r*Math.abs((e.bottom-v.height-l)/v.height)),!p&&a>=e.right-v.width?(g.x=Dn.Forward,w.x=r*Math.abs((e.right-v.width-a)/v.width)):!h&&o<=e.left+v.width&&(g.x=Dn.Backward,w.x=r*Math.abs((e.left+v.width-o)/v.width)),{direction:g,speed:w}}function Bfe(t){if(t===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:e,left:n,right:r,bottom:s}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:s,width:t.clientWidth,height:t.clientHeight}}function S$(t){return t.reduce((e,n)=>Uc(e,J_(n)),Ws)}function $fe(t){return t.reduce((e,n)=>e+x$(n),0)}function zfe(t){return t.reduce((e,n)=>e+_$(n),0)}function Kfe(t,e){if(e===void 0&&(e=Ju),!t)return;const{top:n,left:r,bottom:s,right:i}=e(t);w$(t)&&(s<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const Wfe=[["x",["left","right"],$fe],["y",["top","bottom"],zfe]];class $T{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=BT(n),s=S$(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,o,a]of Wfe)for(const l of o)Object.defineProperty(this,l,{get:()=>{const c=a(r),u=s[i]-c;return this.rect[l]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class hh{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var s;(s=this.target)==null||s.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function Hfe(t){const{EventTarget:e}=Or(t);return t instanceof e?t:Xu(t)}function D0(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var hs;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(hs||(hs={}));function HP(t){t.preventDefault()}function qfe(t){t.stopPropagation()}var mt;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter"})(mt||(mt={}));const T$={start:[mt.Space,mt.Enter],cancel:[mt.Esc],end:[mt.Space,mt.Enter]},Gfe=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case mt.Right:return{...n,x:n.x+25};case mt.Left:return{...n,x:n.x-25};case mt.Down:return{...n,y:n.y+25};case mt.Up:return{...n,y:n.y-25}}};class C${constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new hh(Xu(n)),this.windowListeners=new hh(Or(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(hs.Resize,this.handleCancel),this.windowListeners.add(hs.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(hs.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&Kfe(r),n(Ws)}handleKeyDown(e){if(UT(e)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:i=T$,coordinateGetter:o=Gfe,scrollBehavior:a="smooth"}=s,{code:l}=e;if(i.end.includes(l)){this.handleEnd(e);return}if(i.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:c}=r.current,u=c?{x:c.left,y:c.top}:Ws;this.referenceCoordinates||(this.referenceCoordinates=u);const h=o(e,{active:n,context:r.current,currentCoordinates:u});if(h){const p=hv(h,u),g={x:0,y:0},{scrollableAncestors:w}=r.current;for(const v of w){const x=e.code,{isTop:_,isRight:y,isLeft:b,isBottom:A,maxScroll:P,minScroll:O}=b$(v),T=Bfe(v),E={x:Math.min(x===mt.Right?T.right-T.width/2:T.right,Math.max(x===mt.Right?T.left:T.left+T.width/2,h.x)),y:Math.min(x===mt.Down?T.bottom-T.height/2:T.bottom,Math.max(x===mt.Down?T.top:T.top+T.height/2,h.y))},I=x===mt.Right&&!y||x===mt.Left&&!b,R=x===mt.Down&&!A||x===mt.Up&&!_;if(I&&E.x!==h.x){const k=v.scrollLeft+p.x,M=x===mt.Right&&k<=P.x||x===mt.Left&&k>=O.x;if(M&&!p.y){v.scrollTo({left:k,behavior:a});return}M?g.x=v.scrollLeft-k:g.x=x===mt.Right?v.scrollLeft-P.x:v.scrollLeft-O.x,g.x&&v.scrollBy({left:-g.x,behavior:a});break}else if(R&&E.y!==h.y){const k=v.scrollTop+p.y,M=x===mt.Down&&k<=P.y||x===mt.Up&&k>=O.y;if(M&&!p.x){v.scrollTo({top:k,behavior:a});return}M?g.y=v.scrollTop-k:g.y=x===mt.Down?v.scrollTop-P.y:v.scrollTop-O.y,g.y&&v.scrollBy({top:-g.y,behavior:a});break}}this.handleMove(e,Uc(hv(h,this.referenceCoordinates),g))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}C$.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=T$,onActivation:s}=e,{active:i}=n;const{code:o}=t.nativeEvent;if(r.start.includes(o)){const a=i.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),s==null||s({event:t.nativeEvent}),!0)}return!1}}];function qP(t){return!!(t&&"distance"in t)}function GP(t){return!!(t&&"delay"in t)}class zT{constructor(e,n,r){var s;r===void 0&&(r=Hfe(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:i}=e,{target:o}=i;this.props=e,this.events=n,this.document=Xu(o),this.documentListeners=new hh(this.document),this.listeners=new hh(r),this.windowListeners=new hh(Or(o)),this.initialCoordinates=(s=X_(i))!=null?s:Ws,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(hs.Resize,this.handleCancel),this.windowListeners.add(hs.DragStart,HP),this.windowListeners.add(hs.VisibilityChange,this.handleCancel),this.windowListeners.add(hs.ContextMenu,HP),this.documentListeners.add(hs.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(GP(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}if(qP(n))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(hs.Click,qfe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(hs.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:s,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!s)return;const l=(n=X_(e))!=null?n:Ws,c=hv(s,l);if(!r&&a){if(qP(a)){if(a.tolerance!=null&&D0(c,a.tolerance))return this.handleCancel();if(D0(c,a.distance))return this.handleStart()}return GP(a)&&D0(c,a.tolerance)?this.handleCancel():void 0}e.cancelable&&e.preventDefault(),o(l)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===mt.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Qfe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class A$ extends zT{constructor(e){const{event:n}=e,r=Xu(n.target);super(e,Qfe,r)}}A$.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Yfe={move:{name:"mousemove"},end:{name:"mouseup"}};var Z_;(function(t){t[t.RightClick=2]="RightClick"})(Z_||(Z_={}));class Xfe extends zT{constructor(e){super(e,Yfe,Xu(e.event.target))}}Xfe.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===Z_.RightClick?!1:(r==null||r({event:n}),!0)}}];const k0={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Jfe extends zT{constructor(e){super(e,k0)}static setup(){return window.addEventListener(k0.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(k0.move.name,e)};function e(){}}}Jfe.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var fh;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(fh||(fh={}));var pv;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(pv||(pv={}));function Zfe(t){let{acceleration:e,activator:n=fh.Pointer,canScroll:r,draggingRect:s,enabled:i,interval:o=5,order:a=pv.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:u,delta:h,threshold:p}=t;const g=tpe({delta:h,disabled:!i}),[w,v]=ffe(),x=m.useRef({x:0,y:0}),_=m.useRef({x:0,y:0}),y=m.useMemo(()=>{switch(n){case fh.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case fh.DraggableRect:return s}},[n,s,l]),b=m.useRef(null),A=m.useCallback(()=>{const O=b.current;if(!O)return;const T=x.current.x*_.current.x,E=x.current.y*_.current.y;O.scrollBy(T,E)},[]),P=m.useMemo(()=>a===pv.TreeOrder?[...c].reverse():c,[a,c]);m.useEffect(()=>{if(!i||!c.length||!y){v();return}for(const O of P){if((r==null?void 0:r(O))===!1)continue;const T=c.indexOf(O),E=u[T];if(!E)continue;const{direction:I,speed:R}=Ufe(O,E,y,e,p);for(const k of["x","y"])g[k][I[k]]||(R[k]=0,I[k]=0);if(R.x>0||R.y>0){v(),b.current=O,w(A,o),x.current=R,_.current=I;return}}x.current={x:0,y:0},_.current={x:0,y:0},v()},[e,A,r,v,i,o,JSON.stringify(y),JSON.stringify(g),w,c,P,u,JSON.stringify(p)])}const epe={x:{[Dn.Backward]:!1,[Dn.Forward]:!1},y:{[Dn.Backward]:!1,[Dn.Forward]:!1}};function tpe(t){let{delta:e,disabled:n}=t;const r=Y_(e);return up(s=>{if(n||!r||!s)return epe;const i={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Dn.Backward]:s.x[Dn.Backward]||i.x===-1,[Dn.Forward]:s.x[Dn.Forward]||i.x===1},y:{[Dn.Backward]:s.y[Dn.Backward]||i.y===-1,[Dn.Forward]:s.y[Dn.Forward]||i.y===1}}},[n,e,r])}function npe(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return up(s=>{var i;return e==null?null:(i=r??s)!=null?i:null},[r,e])}function rpe(t,e){return m.useMemo(()=>t.reduce((n,r)=>{const{sensor:s}=r,i=s.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...n,...i]},[]),[t,e])}var af;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(af||(af={}));var eE;(function(t){t.Optimized="optimized"})(eE||(eE={}));const QP=new Map;function spe(t,e){let{dragging:n,dependencies:r,config:s}=e;const[i,o]=m.useState(null),{frequency:a,measure:l,strategy:c}=s,u=m.useRef(t),h=x(),p=sf(h),g=m.useCallback(function(_){_===void 0&&(_=[]),!p.current&&o(y=>y===null?_:y.concat(_.filter(b=>!y.includes(b))))},[p]),w=m.useRef(null),v=up(_=>{if(h&&!n)return QP;if(!_||_===QP||u.current!==t||i!=null){const y=new Map;for(let b of t){if(!b)continue;if(i&&i.length>0&&!i.includes(b.id)&&b.rect.current){y.set(b.id,b.rect.current);continue}const A=b.node.current,P=A?new $T(l(A),A):null;b.rect.current=P,P&&y.set(b.id,P)}return y}return _},[t,i,n,h,l]);return m.useEffect(()=>{u.current=t},[t]),m.useEffect(()=>{h||g()},[n,h]),m.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),m.useEffect(()=>{h||typeof a!="number"||w.current!==null||(w.current=setTimeout(()=>{g(),w.current=null},a))},[a,h,g,...r]),{droppableRects:v,measureDroppableContainers:g,measuringScheduled:i!=null};function x(){switch(c){case af.Always:return!1;case af.BeforeDragging:return n;default:return!n}}}function R$(t,e){return up(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function ipe(t,e){return R$(t,e)}function ope(t){let{callback:e,disabled:n}=t;const r=VT(e),s=m.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return m.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Qy(t){let{callback:e,disabled:n}=t;const r=VT(e),s=m.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return m.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function ape(t){return new $T(Ju(t),t)}function YP(t,e,n){e===void 0&&(e=ape);const[r,s]=m.useState(null);function i(){s(l=>{if(!t)return null;if(t.isConnected===!1){var c;return(c=l??n)!=null?c:null}const u=e(t);return JSON.stringify(l)===JSON.stringify(u)?l:u})}const o=ope({callback(l){if(t)for(const c of l){const{type:u,target:h}=c;if(u==="childList"&&h instanceof HTMLElement&&h.contains(t)){i();break}}}}),a=Qy({callback:i});return mi(()=>{i(),t?(a==null||a.observe(t),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[t]),r}function lpe(t){const e=R$(t);return y$(t,e)}const XP=[];function cpe(t){const e=m.useRef(t),n=up(r=>t?r&&r!==XP&&t&&e.current&&t.parentNode===e.current.parentNode?r:BT(t):XP,[t]);return m.useEffect(()=>{e.current=t},[t]),n}function upe(t){const[e,n]=m.useState(null),r=m.useRef(t),s=m.useCallback(i=>{const o=N0(i.target);o&&n(a=>a?(a.set(o,J_(o)),new Map(a)):null)},[]);return m.useEffect(()=>{const i=r.current;if(t!==i){o(i);const a=t.map(l=>{const c=N0(l);return c?(c.addEventListener("scroll",s,{passive:!0}),[c,J_(c)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=t}return()=>{o(t),o(i)};function o(a){a.forEach(l=>{const c=N0(l);c==null||c.removeEventListener("scroll",s)})}},[s,t]),m.useMemo(()=>t.length?e?Array.from(e.values()).reduce((i,o)=>Uc(i,o),Ws):S$(t):Ws,[t,e])}function JP(t,e){e===void 0&&(e=[]);const n=m.useRef(null);return m.useEffect(()=>{n.current=null},e),m.useEffect(()=>{const r=t!==Ws;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?hv(t,n.current):Ws}function dpe(t){m.useEffect(()=>{if(!Gy)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function hpe(t,e){return m.useMemo(()=>t.reduce((n,r)=>{let{eventName:s,handler:i}=r;return n[s]=o=>{i(o,e)},n},{}),[t,e])}function I$(t){return m.useMemo(()=>t?jfe(t):null,[t])}const ZP=[];function fpe(t,e){e===void 0&&(e=Ju);const[n]=t,r=I$(n?Or(n):null),[s,i]=m.useState(ZP);function o(){i(()=>t.length?t.map(l=>E$(l)?r:new $T(e(l),l)):ZP)}const a=Qy({callback:o});return mi(()=>{a==null||a.disconnect(),o(),t.forEach(l=>a==null?void 0:a.observe(l))},[t]),s}function ppe(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return cp(e)?e:t}function mpe(t){let{measure:e}=t;const[n,r]=m.useState(null),s=m.useCallback(c=>{for(const{target:u}of c)if(cp(u)){r(h=>{const p=e(u);return h?{...h,width:p.width,height:p.height}:p});break}},[e]),i=Qy({callback:s}),o=m.useCallback(c=>{const u=ppe(c);i==null||i.disconnect(),u&&(i==null||i.observe(u)),r(u?e(u):null)},[e,i]),[a,l]=dv(o);return m.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const gpe=[{sensor:A$,options:{}},{sensor:C$,options:{}}],vpe={current:{}},Gm={draggable:{measure:WP},droppable:{measure:WP,strategy:af.WhileDragging,frequency:eE.Optimized},dragOverlay:{measure:Ju}};class ph extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const ype={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ph,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:fv},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Gm,measureDroppableContainers:fv,windowRect:null,measuringScheduled:!1},wpe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:fv,draggableNodes:new Map,over:null,measureDroppableContainers:fv},Yy=m.createContext(wpe),P$=m.createContext(ype);function xpe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ph}}}function _pe(t,e){switch(e.type){case En.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case En.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case En.DragEnd:case En.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case En.RegisterDroppable:{const{element:n}=e,{id:r}=n,s=new ph(t.droppable.containers);return s.set(r,n),{...t,droppable:{...t.droppable,containers:s}}}case En.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const o=new ph(t.droppable.containers);return o.set(n,{...i,disabled:s}),{...t,droppable:{...t.droppable,containers:o}}}case En.UnregisterDroppable:{const{id:n,key:r}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const i=new ph(t.droppable.containers);return i.delete(n),{...t,droppable:{...t.droppable,containers:i}}}default:return t}}function Epe(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:s}=m.useContext(Yy),i=Y_(r),o=Y_(n==null?void 0:n.id);return m.useEffect(()=>{if(!e&&!r&&i&&o!=null){if(!UT(i)||document.activeElement===i.target)return;const a=s.get(o);if(!a)return;const{activatorNode:l,node:c}=a;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const u of[l.current,c.current]){if(!u)continue;const h=gfe(u);if(h){h.focus();break}}})}},[r,e,s,o,i]),null}function bpe(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((s,i)=>i({transform:s,...r}),n):n}function Spe(t){return m.useMemo(()=>({draggable:{...Gm.draggable,...t==null?void 0:t.draggable},droppable:{...Gm.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Gm.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function Tpe(t){let{activeNode:e,measure:n,initialRect:r,config:s=!0}=t;const i=m.useRef(!1),{x:o,y:a}=typeof s=="boolean"?{x:s,y:s}:s;mi(()=>{if(!o&&!a||!e){i.current=!1;return}if(i.current||!r)return;const c=e==null?void 0:e.node.current;if(!c||c.isConnected===!1)return;const u=n(c),h=y$(u,r);if(o||(h.x=0),a||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const p=w$(c);p&&p.scrollBy({top:h.y,left:h.x})}},[e,o,a,r,n])}const N$=m.createContext({...Ws,scaleX:1,scaleY:1});var Co;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Co||(Co={}));const Cpe=m.memo(function(e){var n,r,s,i;let{id:o,accessibility:a,autoScroll:l=!0,children:c,sensors:u=gpe,collisionDetection:h=Ife,measuring:p,modifiers:g,...w}=e;const v=m.useReducer(_pe,void 0,xpe),[x,_]=v,[y,b]=Efe(),[A,P]=m.useState(Co.Uninitialized),O=A===Co.Initialized,{draggable:{active:T,nodes:E,translate:I},droppable:{containers:R}}=x,k=T!=null?E.get(T):null,M=m.useRef({initial:null,translated:null}),N=m.useMemo(()=>{var $t;return T!=null?{id:T,data:($t=k==null?void 0:k.data)!=null?$t:vpe,rect:M}:null},[T,k]),W=m.useRef(null),[se,ne]=m.useState(null),[Y,z]=m.useState(null),B=sf(w,Object.values(w)),J=dp("DndDescribedBy",o),fe=m.useMemo(()=>R.getEnabled(),[R]),he=Spe(p),{droppableRects:Te,measureDroppableContainers:We,measuringScheduled:at}=spe(fe,{dragging:O,dependencies:[I.x,I.y],config:he.droppable}),Ne=npe(E,T),ce=m.useMemo(()=>Y?X_(Y):null,[Y]),Pe=rs(),He=ipe(Ne,he.draggable.measure);Tpe({activeNode:T!=null?E.get(T):null,config:Pe.layoutShiftCompensation,initialRect:He,measure:he.draggable.measure});const pe=YP(Ne,he.draggable.measure,He),$e=YP(Ne?Ne.parentElement:null),Oe=m.useRef({activatorEvent:null,active:null,activeNode:Ne,collisionRect:null,collisions:null,droppableRects:Te,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:R,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),yt=R.getNodeFor((n=Oe.current.over)==null?void 0:n.id),qe=mpe({measure:he.dragOverlay.measure}),Ft=(r=qe.nodeRef.current)!=null?r:Ne,gn=O?(s=qe.rect)!=null?s:pe:null,jr=!!(qe.nodeRef.current&&qe.rect),j=lpe(jr?null:pe),$=I$(Ft?Or(Ft):null),H=cpe(O?yt??Ne:null),ie=fpe(H),re=bpe(g,{transform:{x:I.x-j.x,y:I.y-j.y,scaleX:1,scaleY:1},activatorEvent:Y,active:N,activeNodeRect:pe,containerNodeRect:$e,draggingNodeRect:gn,over:Oe.current.over,overlayNodeRect:qe.rect,scrollableAncestors:H,scrollableAncestorRects:ie,windowRect:$}),ee=ce?Uc(ce,I):null,_e=upe(H),Ue=JP(_e),Be=JP(_e,[pe]),je=Uc(re,Ue),Yt=gn?Dfe(gn,re):null,wr=N&&Yt?h({active:N,collisionRect:Yt,droppableRects:Te,droppableContainers:fe,pointerCoordinates:ee}):null,Rn=Afe(wr,"id"),[Vt,Lr]=m.useState(null),ns=jr?re:Uc(re,Be),co=Pfe(ns,(i=Vt==null?void 0:Vt.rect)!=null?i:null,pe),vn=m.useRef(null),Oa=m.useCallback(($t,rn)=>{let{sensor:At,options:lr}=rn;if(W.current==null)return;const yn=E.get(W.current);if(!yn)return;const wn=$t.nativeEvent,In=new At({active:W.current,activeNode:yn,event:wn,options:lr,context:Oe,onStart(ut){const Fr=W.current;if(Fr==null)return;const xr=E.get(Fr);if(!xr)return;const{onDragStart:is}=B.current,uo={activatorEvent:wn,active:{id:Fr,data:xr.data,rect:M}};Ar.unstable_batchedUpdates(()=>{is==null||is(uo),P(Co.Initializing),_({type:En.DragStart,initialCoordinates:ut,active:Fr}),y({type:"onDragStart",event:uo}),ne(vn.current),z(wn)})},onMove(ut){_({type:En.DragMove,coordinates:ut})},onEnd:ss(En.DragEnd),onCancel:ss(En.DragCancel)});vn.current=In;function ss(ut){return async function(){const{active:xr,collisions:is,over:uo,scrollAdjustedTranslate:L}=Oe.current;let V=null;if(xr&&L){const{cancelDrop:K}=B.current;V={activatorEvent:wn,active:xr,collisions:is,delta:L,over:uo},ut===En.DragEnd&&typeof K=="function"&&await Promise.resolve(K(V))&&(ut=En.DragCancel)}W.current=null,Ar.unstable_batchedUpdates(()=>{_({type:ut}),P(Co.Uninitialized),Lr(null),ne(null),z(null),vn.current=null;const K=ut===En.DragEnd?"onDragEnd":"onDragCancel";if(V){const G=B.current[K];G==null||G(V),y({type:K,event:V})}})}}},[E]),Hl=m.useCallback(($t,rn)=>(At,lr)=>{const yn=At.nativeEvent,wn=E.get(lr);if(W.current!==null||!wn||yn.dndKit||yn.defaultPrevented)return;const In={active:wn};$t(At,rn.options,In)===!0&&(yn.dndKit={capturedBy:rn.sensor},W.current=lr,Oa(At,rn))},[E,Oa]),xi=rpe(u,Hl);dpe(u),mi(()=>{pe&&A===Co.Initializing&&P(Co.Initialized)},[pe,A]),m.useEffect(()=>{const{onDragMove:$t}=B.current,{active:rn,activatorEvent:At,collisions:lr,over:yn}=Oe.current;if(!rn||!At)return;const wn={active:rn,activatorEvent:At,collisions:lr,delta:{x:je.x,y:je.y},over:yn};Ar.unstable_batchedUpdates(()=>{$t==null||$t(wn),y({type:"onDragMove",event:wn})})},[je.x,je.y]),m.useEffect(()=>{const{active:$t,activatorEvent:rn,collisions:At,droppableContainers:lr,scrollAdjustedTranslate:yn}=Oe.current;if(!$t||W.current==null||!rn||!yn)return;const{onDragOver:wn}=B.current,In=lr.get(Rn),ss=In&&In.rect.current?{id:In.id,rect:In.rect.current,data:In.data,disabled:In.disabled}:null,ut={active:$t,activatorEvent:rn,collisions:At,delta:{x:yn.x,y:yn.y},over:ss};Ar.unstable_batchedUpdates(()=>{Lr(ss),wn==null||wn(ut),y({type:"onDragOver",event:ut})})},[Rn]),mi(()=>{Oe.current={activatorEvent:Y,active:N,activeNode:Ne,collisionRect:Yt,collisions:wr,droppableRects:Te,draggableNodes:E,draggingNode:Ft,draggingNodeRect:gn,droppableContainers:R,over:Vt,scrollableAncestors:H,scrollAdjustedTranslate:je},M.current={initial:gn,translated:Yt}},[N,Ne,wr,Yt,E,Ft,gn,Te,R,Vt,H,je]),Zfe({...Pe,delta:I,draggingRect:Yt,pointerCoordinates:ee,scrollableAncestors:H,scrollableAncestorRects:ie});const ql=m.useMemo(()=>({active:N,activeNode:Ne,activeNodeRect:pe,activatorEvent:Y,collisions:wr,containerNodeRect:$e,dragOverlay:qe,draggableNodes:E,droppableContainers:R,droppableRects:Te,over:Vt,measureDroppableContainers:We,scrollableAncestors:H,scrollableAncestorRects:ie,measuringConfiguration:he,measuringScheduled:at,windowRect:$}),[N,Ne,pe,Y,wr,$e,qe,E,R,Te,Vt,We,H,ie,he,at,$]),ja=m.useMemo(()=>({activatorEvent:Y,activators:xi,active:N,activeNodeRect:pe,ariaDescribedById:{draggable:J},dispatch:_,draggableNodes:E,over:Vt,measureDroppableContainers:We}),[Y,xi,N,pe,_,J,E,Vt,We]);return Re.createElement(v$.Provider,{value:b},Re.createElement(Yy.Provider,{value:ja},Re.createElement(P$.Provider,{value:ql},Re.createElement(N$.Provider,{value:co},c)),Re.createElement(Epe,{disabled:(a==null?void 0:a.restoreFocus)===!1})),Re.createElement(Tfe,{...a,hiddenTextDescribedById:J}));function rs(){const $t=(se==null?void 0:se.autoScrollEnabled)===!1,rn=typeof l=="object"?l.enabled===!1:l===!1,At=O&&!$t&&!rn;return typeof l=="object"?{...l,enabled:At}:{enabled:At}}}),Ape=m.createContext(null),eN="button",Rpe="Draggable";function Ipe(t){let{id:e,data:n,disabled:r=!1,attributes:s}=t;const i=dp(Rpe),{activators:o,activatorEvent:a,active:l,activeNodeRect:c,ariaDescribedById:u,draggableNodes:h,over:p}=m.useContext(Yy),{role:g=eN,roleDescription:w="draggable",tabIndex:v=0}=s??{},x=(l==null?void 0:l.id)===e,_=m.useContext(x?N$:Ape),[y,b]=dv(),[A,P]=dv(),O=hpe(o,e),T=sf(n);mi(()=>(h.set(e,{id:e,key:i,node:y,activatorNode:A,data:T}),()=>{const I=h.get(e);I&&I.key===i&&h.delete(e)}),[h,e]);const E=m.useMemo(()=>({role:g,tabIndex:v,"aria-disabled":r,"aria-pressed":x&&g===eN?!0:void 0,"aria-roledescription":w,"aria-describedby":u.draggable}),[r,g,v,x,w,u.draggable]);return{active:l,activatorEvent:a,activeNodeRect:c,attributes:E,isDragging:x,listeners:r?void 0:O,node:y,over:p,setNodeRef:b,setActivatorNodeRef:P,transform:_}}function Ppe(){return m.useContext(P$)}const Npe="Droppable",Dpe={timeout:25};function kpe(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:s}=t;const i=dp(Npe),{active:o,dispatch:a,over:l,measureDroppableContainers:c}=m.useContext(Yy),u=m.useRef({disabled:n}),h=m.useRef(!1),p=m.useRef(null),g=m.useRef(null),{disabled:w,updateMeasurementsFor:v,timeout:x}={...Dpe,...s},_=sf(v??r),y=m.useCallback(()=>{if(!h.current){h.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{c(Array.isArray(_.current)?_.current:[_.current]),g.current=null},x)},[x]),b=Qy({callback:y,disabled:w||!o}),A=m.useCallback((E,I)=>{b&&(I&&(b.unobserve(I),h.current=!1),E&&b.observe(E))},[b]),[P,O]=dv(A),T=sf(e);return m.useEffect(()=>{!b||!P.current||(b.disconnect(),h.current=!1,b.observe(P.current))},[P,b]),m.useEffect(()=>(a({type:En.RegisterDroppable,element:{id:r,key:i,disabled:n,node:P,rect:p,data:T}}),()=>a({type:En.UnregisterDroppable,key:i,id:r})),[r]),m.useEffect(()=>{n!==u.current.disabled&&(a({type:En.SetDroppableDisabled,id:r,key:i,disabled:n}),u.current.disabled=n)},[r,i,n,a]),{active:o,rect:p,isOver:(l==null?void 0:l.id)===r,node:P,over:l,setNodeRef:O}}function KT(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function Mpe(t,e){return t.reduce((n,r,s)=>{const i=e.get(r);return i&&(n[s]=i),n},Array(t.length))}function um(t){return t!==null&&t>=0}function Ope(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function jpe(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const D$=t=>{let{rects:e,activeIndex:n,overIndex:r,index:s}=t;const i=KT(e,r,n),o=e[s],a=i[s];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}},dm={scaleX:1,scaleY:1},Lpe=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:s,rects:i,overIndex:o}=t;const a=(e=i[n])!=null?e:r;if(!a)return null;if(s===n){const c=i[o];return c?{x:0,y:n<o?c.top+c.height-(a.top+a.height):c.top-a.top,...dm}:null}const l=Fpe(i,s,n);return s>n&&s<=o?{x:0,y:-a.height-l,...dm}:s<n&&s>=o?{x:0,y:a.height+l,...dm}:{x:0,y:0,...dm}};function Fpe(t,e,n){const r=t[e],s=t[e-1],i=t[e+1];return r?n<e?s?r.top-(s.top+s.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const k$="Sortable",M$=Re.createContext({activeIndex:-1,containerId:k$,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:D$,disabled:{draggable:!1,droppable:!1}});function Vpe(t){let{children:e,id:n,items:r,strategy:s=D$,disabled:i=!1}=t;const{active:o,dragOverlay:a,droppableRects:l,over:c,measureDroppableContainers:u}=Ppe(),h=dp(k$,n),p=a.rect!==null,g=m.useMemo(()=>r.map(O=>typeof O=="object"&&"id"in O?O.id:O),[r]),w=o!=null,v=o?g.indexOf(o.id):-1,x=c?g.indexOf(c.id):-1,_=m.useRef(g),y=!Ope(g,_.current),b=x!==-1&&v===-1||y,A=jpe(i);mi(()=>{y&&w&&u(g)},[y,g,w,u]),m.useEffect(()=>{_.current=g},[g]);const P=m.useMemo(()=>({activeIndex:v,containerId:h,disabled:A,disableTransforms:b,items:g,overIndex:x,useDragOverlay:p,sortedRects:Mpe(g,l),strategy:s}),[v,h,A.draggable,A.droppable,b,g,x,l,p,s]);return Re.createElement(M$.Provider,{value:P},e)}const Upe=t=>{let{id:e,items:n,activeIndex:r,overIndex:s}=t;return KT(n,r,s).indexOf(e)},Bpe=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:s,items:i,newIndex:o,previousItems:a,previousContainerId:l,transition:c}=t;return!c||!r||a!==i&&s===o?!1:n?!0:o!==s&&e===l},$pe={duration:200,easing:"ease"},O$="transform",zpe=of.Transition.toString({property:O$,duration:0,easing:"linear"}),Kpe={roleDescription:"sortable"};function Wpe(t){let{disabled:e,index:n,node:r,rect:s}=t;const[i,o]=m.useState(null),a=m.useRef(n);return mi(()=>{if(!e&&n!==a.current&&r.current){const l=s.current;if(l){const c=Ju(r.current,{ignoreTransform:!0}),u={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(u.x||u.y)&&o(u)}}n!==a.current&&(a.current=n)},[e,n,r,s]),m.useEffect(()=>{i&&o(null)},[i]),i}function Hpe(t){let{animateLayoutChanges:e=Bpe,attributes:n,disabled:r,data:s,getNewIndex:i=Upe,id:o,strategy:a,resizeObserverConfig:l,transition:c=$pe}=t;const{items:u,containerId:h,activeIndex:p,disabled:g,disableTransforms:w,sortedRects:v,overIndex:x,useDragOverlay:_,strategy:y}=m.useContext(M$),b=qpe(r,g),A=u.indexOf(o),P=m.useMemo(()=>({sortable:{containerId:h,index:A,items:u},...s}),[h,s,A,u]),O=m.useMemo(()=>u.slice(u.indexOf(o)),[u,o]),{rect:T,node:E,isOver:I,setNodeRef:R}=kpe({id:o,data:P,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:O,...l}}),{active:k,activatorEvent:M,activeNodeRect:N,attributes:W,setNodeRef:se,listeners:ne,isDragging:Y,over:z,setActivatorNodeRef:B,transform:J}=Ipe({id:o,data:P,attributes:{...Kpe,...n},disabled:b.draggable}),fe=hfe(R,se),he=!!k,Te=he&&!w&&um(p)&&um(x),We=!_&&Y,at=We&&Te?J:null,ce=Te?at??(a??y)({rects:v,activeNodeRect:N,activeIndex:p,overIndex:x,index:A}):null,Pe=um(p)&&um(x)?i({id:o,items:u,activeIndex:p,overIndex:x}):A,He=k==null?void 0:k.id,pe=m.useRef({activeId:He,items:u,newIndex:Pe,containerId:h}),$e=u!==pe.current.items,Oe=e({active:k,containerId:h,isDragging:Y,isSorting:he,id:o,index:A,items:u,newIndex:pe.current.newIndex,previousItems:pe.current.items,previousContainerId:pe.current.containerId,transition:c,wasDragging:pe.current.activeId!=null}),yt=Wpe({disabled:!Oe,index:A,node:E,rect:T});return m.useEffect(()=>{he&&pe.current.newIndex!==Pe&&(pe.current.newIndex=Pe),h!==pe.current.containerId&&(pe.current.containerId=h),u!==pe.current.items&&(pe.current.items=u)},[he,Pe,h,u]),m.useEffect(()=>{if(He===pe.current.activeId)return;if(He!=null&&pe.current.activeId==null){pe.current.activeId=He;return}const Ft=setTimeout(()=>{pe.current.activeId=He},50);return()=>clearTimeout(Ft)},[He]),{active:k,activeIndex:p,attributes:W,data:P,rect:T,index:A,newIndex:Pe,items:u,isOver:I,isSorting:he,isDragging:Y,listeners:ne,node:E,overIndex:x,over:z,setNodeRef:fe,setActivatorNodeRef:B,setDroppableNodeRef:R,setDraggableNodeRef:se,transform:yt??ce,transition:qe()};function qe(){if(yt||$e&&pe.current.newIndex===A)return zpe;if(!(We&&!UT(M)||!c)&&(he||Oe))return of.Transition.toString({...c,property:O$})}}function qpe(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}mt.Down,mt.Right,mt.Up,mt.Left;const Gpe=({id:t,text:e,label:n,onDelete:r,onEdit:s})=>{const i=ft(g=>g.admin),{attributes:o,listeners:a,setNodeRef:l,transform:c,transition:u}=Hpe({id:t}),h={transform:of.Transform.toString(c),transition:u},p=(i==null?void 0:i.role)!=="viewer"?{...o,...a}:{};return d.jsxs("div",{ref:l,style:h,className:"flex items-center justify-between p-3 bg-secondary/50 rounded-lg group hover:bg-secondary",children:[d.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[d.jsx("button",{className:"touch-none opacity-0 group-hover:opacity-50 hover:opacity-100 text-muted-foreground",...p,children:d.jsx(t8,{className:"w-4 h-4"})}),d.jsxs("span",{children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:n}),d.jsx("p",{children:e})]})]}),(i==null?void 0:i.role)!=="viewer"&&d.jsxs(d.Fragment,{children:[d.jsx(Xe,{variant:"ghost",size:"icon",onClick:s,className:"opacity-0 group-hover:opacity-100",children:d.jsx(nO,{size:20})}),d.jsx(Xe,{variant:"ghost",size:"icon",onClick:()=>r(t),className:"opacity-0 group-hover:opacity-100 text-destructive hover:text-destructive",children:d.jsx(Du,{size:20})})]})]})},Qpe=({label:t,query:e,onCancel:n,onSave:r})=>{const{register:s,handleSubmit:i}=ap({defaultValues:{label:t,query:e}}),o=a=>{r(a)};return d.jsxs("form",{onSubmit:i(o),className:"space-y-2 p-3 bg-secondary/50 rounded-lg",children:[d.jsx(Lt,{...s("label",{required:!0}),placeholder:"Enter query label",required:!0}),d.jsx(Lt,{...s("query",{required:!0}),placeholder:"Enter suggested query"}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(Xe,{size:"sm",variant:"ghost",onClick:n,children:d.jsx(kf,{className:"w-4 h-4"})}),d.jsx(Xe,{type:"submit",size:"sm",variant:"ghost",children:d.jsx(fb,{className:"w-4 h-4"})})]})]})},tN=({queries:t,setQueries:e,onDeleteQuery:n,onEditQueryV2:r,queryEditIndex:s,onCancelEditQuery:i,onSaveEditQuery:o})=>{const a=l=>{const{active:c,over:u}=l;u&&c.id!==u.id&&e(h=>{const p=h.findIndex(w=>w.id===c.id),g=h.findIndex(w=>w.id===u.id);return KT(h,p,g)})};return d.jsx(d.Fragment,{children:d.jsx(Cpe,{onDragEnd:a,children:d.jsx(Vpe,{items:t.map(l=>l.id),strategy:Lpe,children:d.jsx("div",{className:"space-y-2 w-full",children:t.map((l,c)=>s!==null&&s===c?d.jsx(Qpe,{onSave:u=>o(c,u),onCancel:i,label:l.label,query:l.text},c):d.jsx(Gpe,{id:l.id,text:l.text,label:l.label,onDelete:n,onEdit:()=>r(c)},l.id))})})})})},Ype=()=>{const t=Da(),e=yi(),[n,r]=m.useState([]),[s,i]=m.useState([]),[o,a]=m.useState(null),[l,c]=m.useState(null),[u,h]=m.useState(!1),{data:p,isLoading:g}=Wl({queryFn:()=>w4("profile","queries"),queryKey:yP}),{mutateAsync:w,isPending:v}=Rr({mutationFn:O=>y4("profile","queries",O,!1),onSuccess:()=>{t.invalidateQueries({queryKey:yP}),e({title:"Queries Saved Successfully",description:tt()})}}),x=(O,T)=>{const[E,I]=O==="quickAccess"?[a,c]:[c,a];E(T),I(null)},_=O=>{(O==="quickAccess"?a:c)(null)},y=(O,T,E)=>{const I=O==="quickAccess"?a:c,R=O==="quickAccess"?n:s,k=O==="quickAccess"?r:i,N={id:R[T].id,text:E.query,label:E.label};R[T]=N,k(R),I(null)},b=(O,T,E)=>{const I={quickAccess:Y2,menuAccess:X2},R=O==="quickAccess"?"quick access":"menu access",k=O==="quickAccess"?r:i;if((O==="quickAccess"?n:s).length>=I[O]){e({title:`Limit reached for ${R} queries`,description:`You can only add up to ${I[O]} ${R} queries. Please remove one to add a new query.`});return}k(N=>[...N,{id:p$(),text:E,label:T}])},A=(O,T)=>{O==="quickAccess"&&r(n.filter(E=>E.id!==T)),O==="menuAccess"&&i(s.filter(E=>E.id!==T))},P=async()=>{const O={menuAccessQuery:[...s],quickAccessQuery:[...n]};await w(O)};return m.useEffect(()=>{p&&(r(p.quickAccessQuery),i(p.menuAccessQuery),h(!0))},[p]),{quickAccessQueries:n,setQuickAccessQueries:r,menuAccessQueries:s,setMenuAccessQueries:i,handleDeleteQuery:A,handleAddQuery:b,handleSaveQuery:P,isGetQueriesLoading:g,isSaveQueryPending:v,handleEditQueryV2:x,editQAQueryIndex:o,editMAQueryIndex:l,handleSaveEditQuery:y,handleCancelEditQuery:_,isFetchingQueries:u}},Xpe=()=>d.jsxs("section",{className:"flex-1 flex-col space-y-4 pb-8 relative",children:[d.jsxs(ln,{children:[d.jsxs(Mn,{children:[d.jsx(On,{children:"User Queries"}),d.jsx(vi,{children:"View and manage bot's suggested queries and categories."})]}),d.jsx(mn,{children:d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Se,{className:"w-[263px] h-[40px]"}),d.jsx(Se,{className:"w-[263px] h-[40px]"}),d.jsx(Se,{className:"w-[170px] h-[40px]"}),d.jsx(Se,{className:"w-[132px] h-[40px]"})]})})]}),d.jsxs(ln,{children:[d.jsx(Mn,{children:d.jsx(On,{children:"Quick Access Queries"})}),d.jsx(mn,{children:d.jsxs("div",{className:"h-[396px] flex flex-col border border-neutral-200 p-4 rounded-sm space-y-2",children:[d.jsx(Se,{className:"w-full h-[64px]"}),d.jsx(Se,{className:"w-full h-[64px]"})]})}),"1"]}),d.jsxs(ln,{children:[d.jsx(Mn,{children:d.jsx(On,{children:"Menu Access Queries"})}),d.jsx(mn,{children:d.jsxs("div",{className:"h-[450px] flex flex-col border border-neutral-200 p-4 rounded-sm space-y-2",children:[d.jsx(Se,{className:"w-full h-[64px]"}),d.jsx(Se,{className:"w-full h-[64px]"}),d.jsx(Se,{className:"w-full h-[64px]"})]})})]}),d.jsx(Se,{className:"w-full h-[40px] bg-blue-300"})]}),Jpe=()=>{const t=ft(x=>x.admin),{quickAccessQueries:e,setQuickAccessQueries:n,menuAccessQueries:r,setMenuAccessQueries:s,handleAddQuery:i,handleDeleteQuery:o,handleSaveQuery:a,isGetQueriesLoading:l,isSaveQueryPending:c,handleEditQueryV2:u,editQAQueryIndex:h,editMAQueryIndex:p,handleSaveEditQuery:g,handleCancelEditQuery:w,isFetchingQueries:v}=Ype();return l?d.jsx(Xpe,{}):d.jsxs("section",{className:"flex-1 flex-col space-y-4 pb-8 relative",children:[d.jsxs(ln,{children:[d.jsxs(Mn,{children:[d.jsx(On,{children:"User Queries"}),d.jsx(vi,{children:(t==null?void 0:t.role)!=="viewer"?"View and manage bot's suggested queries and categories.":"View bot's suggested queries and categories."})]}),d.jsx(mn,{children:(t==null?void 0:t.role)!=="viewer"&&d.jsx(dfe,{onAddQuery:i})})]}),d.jsxs(ln,{children:[d.jsx(Mn,{children:d.jsxs(On,{children:["Quick Access Queries",d.jsx("p",{className:"ml-3 inline-block min-w-6 text-xs font-medium text-zinc-600",children:`${e==null?void 0:e.length}/${Y2}`})]})}),d.jsx(mn,{children:d.jsx(rf,{className:"h-[396px] flex border border-neutral-200 p-4 rounded-sm",children:v&&e.length===0?d.jsxs("div",{className:"h-[362px] flex-1 flex flex-col justify-center items-center",children:[d.jsx("div",{className:"h-20 w-20 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:d.jsx(l8,{className:"h-10 w-10 text-primary"})}),d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"No quick access queries"}),d.jsxs("p",{className:"text-sm text-center text-muted-foreground mb-6 max-w-md ",children:["Add queries here for easy and quick access. ",d.jsx("br",{}),"Note: Quick access queries are meant for frequently used or important items."]})]}):d.jsx(tN,{queries:e,setQueries:n,onDeleteQuery:x=>o("quickAccess",x),onEditQueryV2:x=>u("quickAccess",x),queryEditIndex:h,onCancelEditQuery:()=>w("quickAccess"),onSaveEditQuery:(x,_)=>g("quickAccess",x,_)})})})]}),d.jsxs(ln,{children:[d.jsx(Mn,{children:d.jsxs(On,{children:["Menu Access Queries",d.jsx("p",{className:"ml-3 inline-block min-w-6 text-xs font-medium text-zinc-600",children:`${r==null?void 0:r.length}/${X2}`})]})}),d.jsx(mn,{children:d.jsx(rf,{className:"h-[450px] flex border border-neutral-200 p-4 rounded-sm",children:v&&r.length!==0?d.jsx(tN,{queries:r,setQueries:s,onDeleteQuery:x=>o("menuAccess",x),onEditQueryV2:x=>u("menuAccess",x),queryEditIndex:p,onCancelEditQuery:()=>w("menuAccess"),onSaveEditQuery:(x,_)=>g("menuAccess",x,_)}):d.jsxs("div",{className:"h-[416px] flex-1 flex flex-col justify-center items-center",children:[d.jsx("div",{className:"h-20 w-20 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:d.jsx(c8,{className:"h-10 w-10 text-primary"})}),d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"No menu access queries"}),d.jsxs("p",{className:"text-sm text-center text-muted-foreground mb-6 max-w-md ",children:["Add queries here for detailed and important items. ",d.jsx("br",{}),"Note: Menu access queries are designed for longer, high-priority queries."]})]})})})]}),(t==null?void 0:t.role)!=="viewer"&&d.jsx("footer",{className:"mt-4",children:d.jsx(Xe,{disabled:c,className:"w-full",onClick:a,children:c?d.jsx(Na,{}):"Save changes"})})]})},Zpe=()=>{const t=ft(r=>r.admin),e=Ui(r=>r.currentSelectedTabInSettingsTab),n=Ui(r=>r.setCurrentSelectedTabInSettingsTab);return(t==null?void 0:t.role)!=="admin"&&e==="team"&&n("botProfile"),d.jsxs("section",{className:"flex space-x-2",children:[d.jsx(Ide,{activeTab:e,onTabChange:n}),(t==null?void 0:t.role)==="admin"&&e==="team"&&d.jsx(khe,{}),e==="botProfile"&&d.jsx(Ade,{}),e==="botModel"&&d.jsx(Ode,{}),e==="archives"&&d.jsx(sfe,{}),e==="queries"&&d.jsx(Jpe,{})]})},eme=()=>d.jsx("header",{className:"py-4 text-3xl font-semibold",children:"Settings"}),tme=()=>d.jsxs("div",{className:"flex flex-col md:w-[84rem] w-[68rem] px-20 space-y-6",children:[d.jsx(eme,{}),d.jsx(Zpe,{})]}),nme=({id:t,text:e,onChange:n,checked:r})=>d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"radio",id:t,name:"nav-btn",value:e,className:"hidden peer",checked:r,onChange:n}),d.jsx("label",{htmlFor:t,className:"flex-1 flex w-[190px] justify-center items-center py-3 px-4 cursor-pointer uppercase text-sm font-[500]",children:e})]}),rme=({labels:t,selectedTab:e,setSelectedTab:n})=>{const r=s=>{n(s)};return d.jsx("nav",{className:"tabs relative flex after:absolute after:bottom-0 after:pointer-events-none after:border after:border-blue-500",children:t==null?void 0:t.map(s=>d.jsx(nme,{id:s,text:s,checked:e==s,onChange:()=>r(s)},s))})},sme={siteName:"COB-CHATBOT",botName:"AI NLP Assistant"},j$=t=>{m.useEffect(()=>{document.title=t??"Page"},[])},ime={chatbot:Lte,settings:tme,knowledge:hde},ome=()=>{const[t,e]=m.useState("chatbot"),n=["chatbot","knowledge","settings"],r=ime[t]||null;return j$("Admin Panel"),d.jsxs("div",{className:"min-h-[100dvh] flex flex-col bg-[#F8F9FB] scrollbar-slim",children:[d.jsxs(zY,{text:sme.siteName,children:[d.jsx(rme,{labels:n,selectedTab:t,setSelectedTab:e}),d.jsx("hr",{className:"w-full border-neutral-300"})]}),r&&d.jsx(KY,{Component:r})]})};function ame(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=h=>{var _;const{scope:p,children:g,...w}=h,v=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,x=m.useMemo(()=>w,Object.values(w));return d.jsx(v.Provider,{value:x,children:g})};c.displayName=i+"Provider";function u(h,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=m.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,lme(s,...e)]}function lme(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var cme="DismissableLayer",tE="dismissableLayer.update",ume="dismissableLayer.pointerDownOutside",dme="dismissableLayer.focusOutside",nN,L$=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),F$=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(L$),[u,h]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ke(e,T=>h(T)),v=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(x),y=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,A=y>=_,P=fme(T=>{const E=T.target,I=[...c.branches].some(R=>R.contains(E));!A||I||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},p),O=pme(T=>{const E=T.target;[...c.branches].some(R=>R.contains(E))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},p);return Of(T=>{y===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},p),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(nN=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),rN(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=nN)}},[u,p,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),rN())},[u,c]),m.useEffect(()=>{const T=()=>g({});return document.addEventListener(tE,T),()=>document.removeEventListener(tE,T)},[]),d.jsx(ve.div,{...l,ref:w,style:{pointerEvents:b?A?"auto":"none":void 0,...t.style},onFocusCapture:Z(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Z(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Z(t.onPointerDownCapture,P.onPointerDownCapture)})});F$.displayName=cme;var hme="DismissableLayerBranch",V$=m.forwardRef((t,e)=>{const n=m.useContext(L$),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(ve.div,{...t,ref:s})});V$.displayName=hme;function fme(t,e=globalThis==null?void 0:globalThis.document){const n=pt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){U$(ume,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function pme(t,e=globalThis==null?void 0:globalThis.document){const n=pt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&U$(dme,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function rN(){const t=new CustomEvent(tE);document.dispatchEvent(t)}function U$(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Fl(s,i):s.dispatchEvent(i)}var mme=F$,gme=V$,vme="Portal",B$=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Pt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Tf.createPortal(d.jsx(ve.div,{...r,ref:e}),o):null});B$.displayName=vme;function yme(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var $$=t=>{const{present:e,children:n}=t,r=wme(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ke(r.ref,xme(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};$$.displayName="Presence";function wme(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=yme(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=hm(r.current);i.current=a==="mounted"?c:"none"},[a]),Pt(()=>{const c=r.current,u=s.current;if(u!==t){const p=i.current,g=hm(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Pt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=g=>{const v=hm(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=g=>{g.target===e&&(i.current=hm(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function hm(t){return(t==null?void 0:t.animationName)||"none"}function xme(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var WT="ToastProvider",[HT,_me,Eme]=Hv("Toast"),[z$,yge]=ame("Toast",[Eme]),[bme,Xy]=z$(WT),K$=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=m.useState(null),[c,u]=m.useState(0),h=m.useRef(!1),p=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${WT}\`. Expected non-empty \`string\`.`),d.jsx(HT.Provider,{scope:e,children:d.jsx(bme,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>u(g=>g+1),[]),onToastRemove:m.useCallback(()=>u(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};K$.displayName=WT;var W$="ToastViewport",Sme=["F8"],nE="toast.viewportPause",rE="toast.viewportResume",H$=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Sme,label:s="Notifications ({hotkey})",...i}=t,o=Xy(W$,n),a=_me(n),l=m.useRef(null),c=m.useRef(null),u=m.useRef(null),h=m.useRef(null),p=ke(e,h,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;m.useEffect(()=>{const x=_=>{var b;r.length!==0&&r.every(A=>_[A]||_.code===A)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),m.useEffect(()=>{const x=l.current,_=h.current;if(w&&x&&_){const y=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(nE);_.dispatchEvent(O),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(rE);_.dispatchEvent(O),o.isClosePausedRef.current=!1}},A=O=>{!x.contains(O.relatedTarget)&&b()},P=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",y),x.addEventListener("focusout",A),x.addEventListener("pointermove",y),x.addEventListener("pointerleave",P),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",y),x.removeEventListener("focusout",A),x.removeEventListener("pointermove",y),x.removeEventListener("pointerleave",P),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[w,o.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:x})=>{const y=a().map(b=>{const A=b.ref.current,P=[A,...Lme(A)];return x==="forwards"?P:P.reverse()});return(x==="forwards"?y.reverse():y).flat()},[a]);return m.useEffect(()=>{const x=h.current;if(x){const _=y=>{var P,O,T;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const E=document.activeElement,I=y.shiftKey;if(y.target===x&&I){(P=c.current)==null||P.focus();return}const M=v({tabbingDirection:I?"backwards":"forwards"}),N=M.findIndex(W=>W===E);M0(M.slice(N+1))?y.preventDefault():I?(O=c.current)==null||O.focus():(T=u.current)==null||T.focus()}};return x.addEventListener("keydown",_),()=>x.removeEventListener("keydown",_)}},[a,v]),d.jsxs(gme,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&d.jsx(sE,{ref:c,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"forwards"});M0(x)}}),d.jsx(HT.Slot,{scope:n,children:d.jsx(ve.ol,{tabIndex:-1,...i,ref:p})}),w&&d.jsx(sE,{ref:u,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"backwards"});M0(x)}})]})});H$.displayName=W$;var q$="ToastFocusProxy",sE=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Xy(q$,n);return d.jsx(Yf,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});sE.displayName=q$;var Jy="Toast",Tme="toast.swipeStart",Cme="toast.swipeMove",Ame="toast.swipeCancel",Rme="toast.swipeEnd",G$=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=ua({prop:r,defaultProp:s,onChange:i});return d.jsx($$,{present:n||a,children:d.jsx(Nme,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:pt(t.onPause),onResume:pt(t.onResume),onSwipeStart:Z(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Z(t.onSwipeMove,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Z(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Z(t.onSwipeEnd,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});G$.displayName=Jy;var[Ime,Pme]=z$(Jy,{onClose(){}}),Nme=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:g,...w}=t,v=Xy(Jy,n),[x,_]=m.useState(null),y=ke(e,W=>_(W)),b=m.useRef(null),A=m.useRef(null),P=s||v.duration,O=m.useRef(0),T=m.useRef(P),E=m.useRef(0),{onToastAdd:I,onToastRemove:R}=v,k=pt(()=>{var se;(x==null?void 0:x.contains(document.activeElement))&&((se=v.viewport)==null||se.focus()),o()}),M=m.useCallback(W=>{!W||W===1/0||(window.clearTimeout(E.current),O.current=new Date().getTime(),E.current=window.setTimeout(k,W))},[k]);m.useEffect(()=>{const W=v.viewport;if(W){const se=()=>{M(T.current),c==null||c()},ne=()=>{const Y=new Date().getTime()-O.current;T.current=T.current-Y,window.clearTimeout(E.current),l==null||l()};return W.addEventListener(nE,ne),W.addEventListener(rE,se),()=>{W.removeEventListener(nE,ne),W.removeEventListener(rE,se)}}},[v.viewport,P,l,c,M]),m.useEffect(()=>{i&&!v.isClosePausedRef.current&&M(P)},[i,P,v.isClosePausedRef,M]),m.useEffect(()=>(I(),()=>R()),[I,R]);const N=m.useMemo(()=>x?tz(x):null,[x]);return v.viewport?d.jsxs(d.Fragment,{children:[N&&d.jsx(Dme,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),d.jsx(Ime,{scope:n,onClose:k,children:Ar.createPortal(d.jsx(HT.ItemSlot,{scope:n,children:d.jsx(mme,{asChild:!0,onEscapeKeyDown:Z(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||k(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Z(t.onKeyDown,W=>{W.key==="Escape"&&(a==null||a(W.nativeEvent),W.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Z(t.onPointerDown,W=>{W.button===0&&(b.current={x:W.clientX,y:W.clientY})}),onPointerMove:Z(t.onPointerMove,W=>{if(!b.current)return;const se=W.clientX-b.current.x,ne=W.clientY-b.current.y,Y=!!A.current,z=["left","right"].includes(v.swipeDirection),B=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,J=z?B(0,se):0,fe=z?0:B(0,ne),he=W.pointerType==="touch"?10:2,Te={x:J,y:fe},We={originalEvent:W,delta:Te};Y?(A.current=Te,fm(Cme,h,We,{discrete:!1})):sN(Te,v.swipeDirection,he)?(A.current=Te,fm(Tme,u,We,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(se)>he||Math.abs(ne)>he)&&(b.current=null)}),onPointerUp:Z(t.onPointerUp,W=>{const se=A.current,ne=W.target;if(ne.hasPointerCapture(W.pointerId)&&ne.releasePointerCapture(W.pointerId),A.current=null,b.current=null,se){const Y=W.currentTarget,z={originalEvent:W,delta:se};sN(se,v.swipeDirection,v.swipeThreshold)?fm(Rme,g,z,{discrete:!0}):fm(Ame,p,z,{discrete:!0}),Y.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),Dme=t=>{const{__scopeToast:e,children:n,...r}=t,s=Xy(Jy,e),[i,o]=m.useState(!1),[a,l]=m.useState(!1);return Ome(()=>o(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(B$,{asChild:!0,children:d.jsx(Yf,{...r,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",n]})})})},kme="ToastTitle",Q$=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(ve.div,{...r,ref:e})});Q$.displayName=kme;var Mme="ToastDescription",Y$=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(ve.div,{...r,ref:e})});Y$.displayName=Mme;var X$="ToastAction",J$=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(ez,{altText:n,asChild:!0,children:d.jsx(qT,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${X$}\`. Expected non-empty \`string\`.`),null)});J$.displayName=X$;var Z$="ToastClose",qT=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=Pme(Z$,n);return d.jsx(ez,{asChild:!0,children:d.jsx(ve.button,{type:"button",...r,ref:e,onClick:Z(t.onClick,s.onClose)})})});qT.displayName=Z$;var ez=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return d.jsx(ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function tz(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),jme(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...tz(r))}}),e}function fm(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Fl(s,i):s.dispatchEvent(i)}var sN=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function Ome(t=()=>{}){const e=pt(t);Pt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function jme(t){return t.nodeType===t.ELEMENT_NODE}function Lme(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function M0(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Fme=K$,nz=H$,rz=G$,sz=Q$,iz=Y$,oz=J$,az=qT;const Vme=Fme,lz=m.forwardRef(({className:t,...e},n)=>d.jsx(nz,{ref:n,className:ue("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));lz.displayName=nz.displayName;const Ume=$f("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),cz=m.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(rz,{ref:r,className:ue(Ume({variant:e}),t),...n}));cz.displayName=rz.displayName;const Bme=m.forwardRef(({className:t,...e},n)=>d.jsx(oz,{ref:n,className:ue("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Bme.displayName=oz.displayName;const uz=m.forwardRef(({className:t,...e},n)=>d.jsx(az,{ref:n,className:ue("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(kf,{className:"h-4 w-4"})}));uz.displayName=az.displayName;const dz=m.forwardRef(({className:t,...e},n)=>d.jsx(sz,{ref:n,className:ue("text-sm font-semibold",t),...e}));dz.displayName=sz.displayName;const hz=m.forwardRef(({className:t,...e},n)=>d.jsx(iz,{ref:n,className:ue("text-sm opacity-90",t),...e}));hz.displayName=iz.displayName;function $me(){const{toasts:t}=_4();return d.jsxs(Vme,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return d.jsxs(cz,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(dz,{children:n}),r&&d.jsx(hz,{children:r})]}),s,d.jsx(uz,{})]},e)}),d.jsx(lz,{})]})}const zme=()=>{const t=Pu();m.useEffect(()=>{g4(Vle,"page_view",{page_path:t.pathname})},[t])},Kme=()=>d.jsx(d.Fragment,{children:d.jsx("img",{src:rB,style:{display:"none"}})}),Wme=()=>{const t=ft(r=>r.isAuth),e=ft(r=>r.admin),n=new Ace;return zq(),zme(),!t&&!e?d.jsx(qM,{to:"/login"}):d.jsx(Dce,{client:n,children:d.jsxs("main",{children:[d.jsx(Kme,{}),d.jsx(ome,{}),d.jsx($me,{})]})})},Hme=$f("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),fz=m.forwardRef(({className:t,variant:e,...n},r)=>d.jsx("div",{ref:r,role:"alert",className:ue(Hme({variant:e}),t),...n}));fz.displayName="Alert";const qme=m.forwardRef(({className:t,...e},n)=>d.jsx("h5",{ref:n,className:ue("mb-1 font-medium leading-none tracking-tight",t),...e}));qme.displayName="AlertTitle";const pz=m.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ue("text-sm [&_p]:leading-relaxed",t),...e}));pz.displayName="AlertDescription";const Gme=({password:t,setPassword:e})=>{const[n,r]=m.useState(!1);return d.jsxs("div",{className:"relative",children:[d.jsx(Lt,{id:"password",type:n?"text":"password",placeholder:"",value:t,onChange:s=>e(s.target.value),required:!0}),d.jsx(Xe,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>r(s=>!s),"aria-label":n?"Hide password":"Show password",children:n?d.jsx(ZM,{className:"h-4 w-4 text-gray-500"}):d.jsx(mb,{className:"h-4 w-4 text-gray-500"})})]})},Qme=()=>{const t=Df(),[e,n]=m.useState(""),[r,s]=m.useState(""),[i,o]=m.useState(""),[a,l]=m.useState(!1),c=ft(p=>p.login),u=ft(p=>p.isAuth),h=async p=>{p.preventDefault(),o(""),l(!0);try{const{accessToken:g,admin:w}=await Che(e,r);c(g,w),t("/")}catch(g){if(g instanceof Error){o(g.message);return}console.error(`Unexpected error occured: ${g}`)}finally{l(!1)}};return j$("Admin Login"),u?d.jsx(qM,{to:"/"}):d.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-r from-gray-100 to-gray-200 relative",children:[d.jsx("div",{className:"absolute inset-0 opacity-10 bg-cover bg-center z-0",style:{backgroundImage:"url('/placeholder.svg?height=1080&width=1920')",filter:"blur(3px)"},"aria-hidden":"true"}),d.jsxs(ln,{className:"w-full max-w-md z-10",children:[d.jsxs(Mn,{children:[d.jsx(On,{className:"text-2xl font-bold text-center",children:"Welcome Back"}),d.jsx(vi,{className:"text-center",children:"Please sign in to your account"})]}),d.jsx(mn,{children:d.jsxs("form",{onSubmit:h,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Cn,{htmlFor:"email",children:"Email"}),d.jsx(Lt,{id:"email",type:"email",placeholder:"email@address.com",value:e,onChange:p=>n(p.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Cn,{htmlFor:"password",children:"Password"}),d.jsx(Gme,{password:r,setPassword:s})]}),i&&d.jsxs(fz,{variant:"destructive",children:[d.jsx(XM,{className:"h-4 w-4"}),d.jsx(pz,{children:i})]}),d.jsx(Xe,{type:"submit",className:"w-full",disabled:a,children:a?"Signing In...":"Sign In"})]})}),d.jsxs(J2,{className:"flex flex-col items-center justify-center space-y-2",children:[d.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Powered by cob-chatbot"}),d.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Quick, responsive, and fully customizable."})]})]})]})};function Yme(){var n;const t=HM();let e;return Nf(t)?e=t.statusText||((n=t.data)==null?void 0:n.message)||"An unexpected error occurred.":t instanceof Error?e=t.message:typeof t=="string"?e=t:(console.error(t),e="An unknown error occurred."),d.jsx("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center items-center px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-md w-full space-y-8 text-center",children:[d.jsx("div",{className:"flex justify-center",children:d.jsx(XM,{className:"h-24 w-24 text-red-600"})}),d.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Oops! Something went wrong"}),d.jsx("p",{className:"mt-2 text-sm text-gray-600",children:e}),d.jsx("div",{className:"mt-5",children:d.jsx(Bq,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Go back home"})})]})})}const Xme=Aq([{path:"/",element:d.jsx(Wme,{}),errorElement:d.jsx(Yme,{})},{path:"/login",element:d.jsx(Qme,{})}],{basename:"/admin"});O0.createRoot(document.getElementById("root")).render(d.jsx(Re.StrictMode,{children:d.jsx(jq,{router:Xme})}));
